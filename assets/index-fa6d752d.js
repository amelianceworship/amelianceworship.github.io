function NR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const LR="AKfycbxGD1Lys79Ixt4BQ5mfH3ylX4_ZvtSGUFHltMILILPBWtcdPoSlI3FD5Ir8OcwtBA",OR=`https://script.google.com/macros/s/${LR}/exec`;function DR(t,e){console.error("analyticsAPI",`${t}:`,e)}function pp(...t){console.log("analyticsAPI",...t)}async function jR({spreadsheetId:t,sheetName:e,sheetIndex:n,titlesParams:r,indexesParams:i,type:s,col:o,row:a,value:l}){const u=new URLSearchParams;return t&&u.append("spreadsheetId",t),e&&u.append("sheetName",e),n&&u.append("sheetIndex",n.toString()),r&&u.append("titlesParams",JSON.stringify(r)),i&&u.append("indexesParams",JSON.stringify(i)),s&&u.append("type",s),o&&u.append("col",o.toString()),a&&u.append("row",a.toString()),l&&u.append("value",l.toString()),fetch(`${OR}?${u}`,{method:"POST"}).then(c=>c.text()).then(c=>JSON.parse(c)).then(c=>(c.status!=="success"&&(pp("doPost",c.status),pp("doPost",c.info),pp("doPost",c.error)),c)).catch(c=>DR("doPost",c))}async function MR({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){return jR({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED"}).then(i=>i)}const $R={postTitledColumnsDataByTitles:MR};async function UR(){try{return{ip:(await(await fetch("https://api.ipify.org?format=json")).json()).ip,status:"success"}}catch(t){return{error:t,status:"error"}}}const FR={fetchIP:UR},VS={appsscript:$R,ipify:FR};function VR(){const t=navigator.userAgent;let e,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE",version:e[1]||""}):n[1]==="Chrome"&&(e=t.match(/\bOPR|Edge\/(\d+)/),e!=null)?{name:"Opera",version:e[1]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],(e=t.match(/version\/(\d+)/i))!=null&&n.splice(1,1,e[1]),{name:n[0],version:n[1]})}function zR(){return/Android/i.test(navigator.userAgent)?"Android":/webOS/i.test(navigator.userAgent)?"webOS":/iPhone/i.test(navigator.userAgent)?"iPhone":/iPad/i.test(navigator.userAgent)?"iPad":/iPod/i.test(navigator.userAgent)?"iPod":/BlackBerry/i.test(navigator.userAgent)?"BlackBerry":/IEMobile/i.test(navigator.userAgent)?"IEMobile":/Opera Mini/i.test(navigator.userAgent)?"Opera Mini":null}async function BR(){const t=await VS.ipify.fetchIP();return{ip:t.status==="success"?t.ip:"",time:new Date().toString(),timezone:new Date().getTimezoneOffset()/60,language:window.navigator.language,languages:[...window.navigator.languages],mobile:zR()||"",page:window.location.pathname,referrer:document.referrer,browser:VR(),screenWidth:window.screen.width,screenHeight:window.screen.height,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight}}const HR="156bmyJELUA_4HS995nK2KNl4NAgBkxh-OQrQT2jEjO4";async function qR(){const t=await BR(),{ip:e,page:n,time:r,language:i,languages:s,browser:o,mobile:a,screenHeight:l,screenWidth:u,viewportHeight:c,viewportWidth:f}=t;await VS.appsscript.postTitledColumnsDataByTitles({spreadsheetId:HR,titlesParams:{ip:e,page:n,time:r,language:i,languages:s.join(" | "),browser:o.name,version:o.version,mobile:a,screenHeight:l,screenWidth:u,viewportHeight:c,viewportWidth:f}})}qR();var WR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var d={},KR={get exports(){return d},set exports(t){d=t}},Af={},T={},GR={get exports(){return T},set exports(t){T=t}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ru=Symbol.for("react.element"),QR=Symbol.for("react.portal"),YR=Symbol.for("react.fragment"),XR=Symbol.for("react.strict_mode"),JR=Symbol.for("react.profiler"),ZR=Symbol.for("react.provider"),eA=Symbol.for("react.context"),tA=Symbol.for("react.forward_ref"),nA=Symbol.for("react.suspense"),rA=Symbol.for("react.memo"),iA=Symbol.for("react.lazy"),F0=Symbol.iterator;function sA(t){return t===null||typeof t!="object"?null:(t=F0&&t[F0]||t["@@iterator"],typeof t=="function"?t:null)}var BS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HS=Object.assign,qS={};function Ca(t,e,n){this.props=t,this.context=e,this.refs=qS,this.updater=n||BS}Ca.prototype.isReactComponent={};Ca.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ca.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WS(){}WS.prototype=Ca.prototype;function $y(t,e,n){this.props=t,this.context=e,this.refs=qS,this.updater=n||BS}var Uy=$y.prototype=new WS;Uy.constructor=$y;HS(Uy,Ca.prototype);Uy.isPureReactComponent=!0;var V0=Array.isArray,KS=Object.prototype.hasOwnProperty,Fy={current:null},GS={key:!0,ref:!0,__self:!0,__source:!0};function QS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)KS.call(e,r)&&!GS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ru,type:t,key:s,ref:o,props:i,_owner:Fy.current}}function oA(t,e){return{$$typeof:Ru,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ru}function aA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var z0=/\/+/g;function mp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?aA(""+t.key):e.toString(36)}function Fc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ru:case QR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+mp(o,0):r,V0(i)?(n="",t!=null&&(n=t.replace(z0,"$&/")+"/"),Fc(i,e,n,"",function(u){return u})):i!=null&&(Vy(i)&&(i=oA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(z0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",V0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+mp(s,a);o+=Fc(s,e,n,l,i)}else if(l=sA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+mp(s,a++),o+=Fc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function uc(t,e,n){if(t==null)return t;var r=[],i=0;return Fc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function lA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mn={current:null},Vc={transition:null},uA={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:Vc,ReactCurrentOwner:Fy};xe.Children={map:uc,forEach:function(t,e,n){uc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return uc(t,function(){e++}),e},toArray:function(t){return uc(t,function(e){return e})||[]},only:function(t){if(!Vy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=Ca;xe.Fragment=YR;xe.Profiler=JR;xe.PureComponent=$y;xe.StrictMode=XR;xe.Suspense=nA;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uA;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=HS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Fy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)KS.call(e,l)&&!GS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ru,type:t.type,key:i,ref:s,props:r,_owner:o}};xe.createContext=function(t){return t={$$typeof:eA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ZR,_context:t},t.Consumer=t};xe.createElement=QS;xe.createFactory=function(t){var e=QS.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:tA,render:t}};xe.isValidElement=Vy;xe.lazy=function(t){return{$$typeof:iA,_payload:{_status:-1,_result:t},_init:lA}};xe.memo=function(t,e){return{$$typeof:rA,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=Vc.transition;Vc.transition={};try{t()}finally{Vc.transition=e}};xe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};xe.useCallback=function(t,e){return mn.current.useCallback(t,e)};xe.useContext=function(t){return mn.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return mn.current.useDeferredValue(t)};xe.useEffect=function(t,e){return mn.current.useEffect(t,e)};xe.useId=function(){return mn.current.useId()};xe.useImperativeHandle=function(t,e,n){return mn.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return mn.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return mn.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return mn.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return mn.current.useReducer(t,e,n)};xe.useRef=function(t){return mn.current.useRef(t)};xe.useState=function(t){return mn.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return mn.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return mn.current.useTransition()};xe.version="18.2.0";(function(t){t.exports=xe})(GR);const Qr=zS(T),Km=NR({__proto__:null,default:Qr},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cA=T,dA=Symbol.for("react.element"),fA=Symbol.for("react.fragment"),hA=Object.prototype.hasOwnProperty,pA=cA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mA={key:!0,ref:!0,__self:!0,__source:!0};function YS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)hA.call(e,r)&&!mA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:dA,type:t,key:s,ref:o,props:i,_owner:pA.current}}Af.Fragment=fA;Af.jsx=YS;Af.jsxs=YS;(function(t){t.exports=Af})(KR);var Hl={},gA={get exports(){return Hl},set exports(t){Hl=t}},$n={},Gm={},yA={get exports(){return Gm},set exports(t){Gm=t}},XS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,oe){var Y=q.length;q.push(oe);e:for(;0<Y;){var ke=Y-1>>>1,ze=q[ke];if(0<i(ze,oe))q[ke]=oe,q[Y]=ze,Y=ke;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var oe=q[0],Y=q.pop();if(Y!==oe){q[0]=Y;e:for(var ke=0,ze=q.length,Vn=ze>>>1;ke<Vn;){var Ke=2*(ke+1)-1,nr=q[Ke],Ze=Ke+1,mt=q[Ze];if(0>i(nr,Y))Ze<ze&&0>i(mt,nr)?(q[ke]=mt,q[Ze]=Y,ke=Ze):(q[ke]=nr,q[Ke]=Y,ke=Ke);else if(Ze<ze&&0>i(mt,Y))q[ke]=mt,q[Ze]=Y,ke=Ze;else break e}}return oe}function i(q,oe){var Y=q.sortIndex-oe.sortIndex;return Y!==0?Y:q.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,p=!1,w=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(q){for(var oe=n(u);oe!==null;){if(oe.callback===null)r(u);else if(oe.startTime<=q)r(u),oe.sortIndex=oe.expirationTime,e(l,oe);else break;oe=n(u)}}function E(q){if(y=!1,_(q),!w)if(n(l)!==null)w=!0,je(S);else{var oe=n(u);oe!==null&&pt(E,oe.startTime-q)}}function S(q,oe){w=!1,y&&(y=!1,g(P),P=-1),p=!0;var Y=h;try{for(_(oe),f=n(l);f!==null&&(!(f.expirationTime>oe)||q&&!W());){var ke=f.callback;if(typeof ke=="function"){f.callback=null,h=f.priorityLevel;var ze=ke(f.expirationTime<=oe);oe=t.unstable_now(),typeof ze=="function"?f.callback=ze:f===n(l)&&r(l),_(oe)}else r(l);f=n(l)}if(f!==null)var Vn=!0;else{var Ke=n(u);Ke!==null&&pt(E,Ke.startTime-oe),Vn=!1}return Vn}finally{f=null,h=Y,p=!1}}var I=!1,x=null,P=-1,R=5,O=-1;function W(){return!(t.unstable_now()-O<R)}function $(){if(x!==null){var q=t.unstable_now();O=q;var oe=!0;try{oe=x(!0,q)}finally{oe?U():(I=!1,x=null)}}else I=!1}var U;if(typeof m=="function")U=function(){m($)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Se=le.port2;le.port1.onmessage=$,U=function(){Se.postMessage(null)}}else U=function(){v($,0)};function je(q){x=q,I||(I=!0,U())}function pt(q,oe){P=v(function(){q(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){w||p||(w=!0,je(S))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(h){case 1:case 2:case 3:var oe=3;break;default:oe=h}var Y=h;h=oe;try{return q()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,oe){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Y=h;h=q;try{return oe()}finally{h=Y}},t.unstable_scheduleCallback=function(q,oe,Y){var ke=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ke+Y:ke):Y=ke,q){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=Y+ze,q={id:c++,callback:oe,priorityLevel:q,startTime:Y,expirationTime:ze,sortIndex:-1},Y>ke?(q.sortIndex=Y,e(u,q),n(l)===null&&q===n(u)&&(y?(g(P),P=-1):y=!0,pt(E,Y-ke))):(q.sortIndex=ze,e(l,q),w||p||(w=!0,je(S))),q},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(q){var oe=h;return function(){var Y=h;h=oe;try{return q.apply(this,arguments)}finally{h=Y}}}})(XS);(function(t){t.exports=XS})(yA);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JS=T,Dn=Gm;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZS=new Set,ql={};function no(t,e){na(t,e),na(t+"Capture",e)}function na(t,e){for(ql[t]=e,t=0;t<e.length;t++)ZS.add(e[t])}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qm=Object.prototype.hasOwnProperty,vA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,B0={},H0={};function wA(t){return Qm.call(H0,t)?!0:Qm.call(B0,t)?!1:vA.test(t)?H0[t]=!0:(B0[t]=!0,!1)}function _A(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function EA(t,e,n,r){if(e===null||typeof e>"u"||_A(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bt[t]=new gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bt[e]=new gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bt[t]=new gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bt[t]=new gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bt[t]=new gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bt[t]=new gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bt[t]=new gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bt[t]=new gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bt[t]=new gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var zy=/[\-:]([a-z])/g;function By(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zy,By);Bt[e]=new gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zy,By);Bt[e]=new gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zy,By);Bt[e]=new gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bt[t]=new gn(t,1,!1,t.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bt[t]=new gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hy(t,e,n,r){var i=Bt.hasOwnProperty(e)?Bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EA(e,n,i,r)&&(n=null),r||i===null?wA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var vi=JS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cc=Symbol.for("react.element"),Io=Symbol.for("react.portal"),xo=Symbol.for("react.fragment"),qy=Symbol.for("react.strict_mode"),Ym=Symbol.for("react.profiler"),eC=Symbol.for("react.provider"),tC=Symbol.for("react.context"),Wy=Symbol.for("react.forward_ref"),Xm=Symbol.for("react.suspense"),Jm=Symbol.for("react.suspense_list"),Ky=Symbol.for("react.memo"),ki=Symbol.for("react.lazy"),nC=Symbol.for("react.offscreen"),q0=Symbol.iterator;function Wa(t){return t===null||typeof t!="object"?null:(t=q0&&t[q0]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Object.assign,gp;function dl(t){if(gp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gp=e&&e[1]||""}return`
`+gp+t}var yp=!1;function vp(t,e){if(!t||yp)return"";yp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{yp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?dl(t):""}function SA(t){switch(t.tag){case 5:return dl(t.type);case 16:return dl("Lazy");case 13:return dl("Suspense");case 19:return dl("SuspenseList");case 0:case 2:case 15:return t=vp(t.type,!1),t;case 11:return t=vp(t.type.render,!1),t;case 1:return t=vp(t.type,!0),t;default:return""}}function Zm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xo:return"Fragment";case Io:return"Portal";case Ym:return"Profiler";case qy:return"StrictMode";case Xm:return"Suspense";case Jm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tC:return(t.displayName||"Context")+".Consumer";case eC:return(t._context.displayName||"Context")+".Provider";case Wy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ky:return e=t.displayName||null,e!==null?e:Zm(t.type)||"Memo";case ki:e=t._payload,t=t._init;try{return Zm(t(e))}catch{}}return null}function CA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zm(e);case 8:return e===qy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TA(t){var e=rC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dc(t){t._valueTracker||(t._valueTracker=TA(t))}function iC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function eg(t,e){var n=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function W0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sC(t,e){e=e.checked,e!=null&&Hy(t,"checked",e,!1)}function tg(t,e){sC(t,e);var n=Zi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ng(t,e.type,n):e.hasOwnProperty("defaultValue")&&ng(t,e.type,Zi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function K0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ng(t,e,n){(e!=="number"||vd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fl=Array.isArray;function zo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function G0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(fl(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zi(n)}}function oC(t,e){var n=Zi(e.value),r=Zi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Q0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ig(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fc,lC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fc=fc||document.createElement("div"),fc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IA=["Webkit","ms","Moz","O"];Object.keys(Cl).forEach(function(t){IA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Cl[e]=Cl[t]})});function uC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Cl.hasOwnProperty(t)&&Cl[t]?(""+e).trim():e+"px"}function cC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=uC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var xA=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sg(t,e){if(e){if(xA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function og(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ag=null;function Gy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lg=null,Bo=null,Ho=null;function Y0(t){if(t=Nu(t)){if(typeof lg!="function")throw Error(F(280));var e=t.stateNode;e&&(e=Df(e),lg(t.stateNode,t.type,e))}}function dC(t){Bo?Ho?Ho.push(t):Ho=[t]:Bo=t}function fC(){if(Bo){var t=Bo,e=Ho;if(Ho=Bo=null,Y0(t),e)for(t=0;t<e.length;t++)Y0(e[t])}}function hC(t,e){return t(e)}function pC(){}var wp=!1;function mC(t,e,n){if(wp)return t(e,n);wp=!0;try{return hC(t,e,n)}finally{wp=!1,(Bo!==null||Ho!==null)&&(pC(),fC())}}function Kl(t,e){var n=t.stateNode;if(n===null)return null;var r=Df(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var ug=!1;if(ai)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){ug=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{ug=!1}function kA(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Tl=!1,wd=null,_d=!1,cg=null,bA={onError:function(t){Tl=!0,wd=t}};function RA(t,e,n,r,i,s,o,a,l){Tl=!1,wd=null,kA.apply(bA,arguments)}function AA(t,e,n,r,i,s,o,a,l){if(RA.apply(this,arguments),Tl){if(Tl){var u=wd;Tl=!1,wd=null}else throw Error(F(198));_d||(_d=!0,cg=u)}}function ro(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function X0(t){if(ro(t)!==t)throw Error(F(188))}function PA(t){var e=t.alternate;if(!e){if(e=ro(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return X0(i),t;if(s===r)return X0(i),e;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function yC(t){return t=PA(t),t!==null?vC(t):null}function vC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vC(t);if(e!==null)return e;t=t.sibling}return null}var wC=Dn.unstable_scheduleCallback,J0=Dn.unstable_cancelCallback,NA=Dn.unstable_shouldYield,LA=Dn.unstable_requestPaint,ht=Dn.unstable_now,OA=Dn.unstable_getCurrentPriorityLevel,Qy=Dn.unstable_ImmediatePriority,_C=Dn.unstable_UserBlockingPriority,Ed=Dn.unstable_NormalPriority,DA=Dn.unstable_LowPriority,EC=Dn.unstable_IdlePriority,Pf=null,Ar=null;function jA(t){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(Pf,t,void 0,(t.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:UA,MA=Math.log,$A=Math.LN2;function UA(t){return t>>>=0,t===0?32:31-(MA(t)/$A|0)|0}var hc=64,pc=4194304;function hl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=hl(a):(s&=o,s!==0&&(r=hl(s)))}else o=n&~i,o!==0?r=hl(o):s!==0&&(r=hl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hr(e),i=1<<n,r|=t[n],e&=~i;return r}function FA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-hr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=FA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function dg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function SC(){var t=hc;return hc<<=1,!(hc&4194240)&&(hc=64),t}function _p(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Au(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hr(e),t[e]=n}function zA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Yy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ue=0;function CC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var TC,Xy,IC,xC,kC,fg=!1,mc=[],Ui=null,Fi=null,Vi=null,Gl=new Map,Ql=new Map,Ri=[],BA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Z0(t,e){switch(t){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":Gl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(e.pointerId)}}function Ga(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Nu(e),e!==null&&Xy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function HA(t,e,n,r,i){switch(e){case"focusin":return Ui=Ga(Ui,t,e,n,r,i),!0;case"dragenter":return Fi=Ga(Fi,t,e,n,r,i),!0;case"mouseover":return Vi=Ga(Vi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Gl.set(s,Ga(Gl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ql.set(s,Ga(Ql.get(s)||null,t,e,n,r,i)),!0}return!1}function bC(t){var e=Ts(t.target);if(e!==null){var n=ro(e);if(n!==null){if(e=n.tag,e===13){if(e=gC(n),e!==null){t.blockedOn=e,kC(t.priority,function(){IC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ag=r,n.target.dispatchEvent(r),ag=null}else return e=Nu(n),e!==null&&Xy(e),t.blockedOn=n,!1;e.shift()}return!0}function ew(t,e,n){zc(t)&&n.delete(e)}function qA(){fg=!1,Ui!==null&&zc(Ui)&&(Ui=null),Fi!==null&&zc(Fi)&&(Fi=null),Vi!==null&&zc(Vi)&&(Vi=null),Gl.forEach(ew),Ql.forEach(ew)}function Qa(t,e){t.blockedOn===e&&(t.blockedOn=null,fg||(fg=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,qA)))}function Yl(t){function e(i){return Qa(i,t)}if(0<mc.length){Qa(mc[0],t);for(var n=1;n<mc.length;n++){var r=mc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ui!==null&&Qa(Ui,t),Fi!==null&&Qa(Fi,t),Vi!==null&&Qa(Vi,t),Gl.forEach(e),Ql.forEach(e),n=0;n<Ri.length;n++)r=Ri[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ri.length&&(n=Ri[0],n.blockedOn===null);)bC(n),n.blockedOn===null&&Ri.shift()}var qo=vi.ReactCurrentBatchConfig,Cd=!0;function WA(t,e,n,r){var i=Ue,s=qo.transition;qo.transition=null;try{Ue=1,Jy(t,e,n,r)}finally{Ue=i,qo.transition=s}}function KA(t,e,n,r){var i=Ue,s=qo.transition;qo.transition=null;try{Ue=4,Jy(t,e,n,r)}finally{Ue=i,qo.transition=s}}function Jy(t,e,n,r){if(Cd){var i=hg(t,e,n,r);if(i===null)Ap(t,e,r,Td,n),Z0(t,r);else if(HA(i,t,e,n,r))r.stopPropagation();else if(Z0(t,r),e&4&&-1<BA.indexOf(t)){for(;i!==null;){var s=Nu(i);if(s!==null&&TC(s),s=hg(t,e,n,r),s===null&&Ap(t,e,r,Td,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ap(t,e,r,null,n)}}var Td=null;function hg(t,e,n,r){if(Td=null,t=Gy(r),t=Ts(t),t!==null)if(e=ro(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Td=t,null}function RC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OA()){case Qy:return 1;case _C:return 4;case Ed:case DA:return 16;case EC:return 536870912;default:return 16}default:return 16}}var ji=null,Zy=null,Bc=null;function AC(){if(Bc)return Bc;var t,e=Zy,n=e.length,r,i="value"in ji?ji.value:ji.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Bc=i.slice(t,1<r?1-r:void 0)}function Hc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gc(){return!0}function tw(){return!1}function Un(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gc:tw,this.isPropagationStopped=tw,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gc)},persist:function(){},isPersistent:gc}),e}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ev=Un(Ta),Pu=lt({},Ta,{view:0,detail:0}),GA=Un(Pu),Ep,Sp,Ya,Nf=lt({},Pu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ya&&(Ya&&t.type==="mousemove"?(Ep=t.screenX-Ya.screenX,Sp=t.screenY-Ya.screenY):Sp=Ep=0,Ya=t),Ep)},movementY:function(t){return"movementY"in t?t.movementY:Sp}}),nw=Un(Nf),QA=lt({},Nf,{dataTransfer:0}),YA=Un(QA),XA=lt({},Pu,{relatedTarget:0}),Cp=Un(XA),JA=lt({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),ZA=Un(JA),eP=lt({},Ta,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tP=Un(eP),nP=lt({},Ta,{data:0}),rw=Un(nP),rP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sP[t])?!!e[t]:!1}function tv(){return oP}var aP=lt({},Pu,{key:function(t){if(t.key){var e=rP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tv,charCode:function(t){return t.type==="keypress"?Hc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lP=Un(aP),uP=lt({},Nf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iw=Un(uP),cP=lt({},Pu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tv}),dP=Un(cP),fP=lt({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),hP=Un(fP),pP=lt({},Nf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mP=Un(pP),gP=[9,13,27,32],nv=ai&&"CompositionEvent"in window,Il=null;ai&&"documentMode"in document&&(Il=document.documentMode);var yP=ai&&"TextEvent"in window&&!Il,PC=ai&&(!nv||Il&&8<Il&&11>=Il),sw=String.fromCharCode(32),ow=!1;function NC(t,e){switch(t){case"keyup":return gP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ko=!1;function vP(t,e){switch(t){case"compositionend":return LC(e);case"keypress":return e.which!==32?null:(ow=!0,sw);case"textInput":return t=e.data,t===sw&&ow?null:t;default:return null}}function wP(t,e){if(ko)return t==="compositionend"||!nv&&NC(t,e)?(t=AC(),Bc=Zy=ji=null,ko=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PC&&e.locale!=="ko"?null:e.data;default:return null}}var _P={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_P[t.type]:e==="textarea"}function OC(t,e,n,r){dC(r),e=Id(e,"onChange"),0<e.length&&(n=new ev("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xl=null,Xl=null;function EP(t){qC(t,0)}function Lf(t){var e=Ao(t);if(iC(e))return t}function SP(t,e){if(t==="change")return e}var DC=!1;if(ai){var Tp;if(ai){var Ip="oninput"in document;if(!Ip){var lw=document.createElement("div");lw.setAttribute("oninput","return;"),Ip=typeof lw.oninput=="function"}Tp=Ip}else Tp=!1;DC=Tp&&(!document.documentMode||9<document.documentMode)}function uw(){xl&&(xl.detachEvent("onpropertychange",jC),Xl=xl=null)}function jC(t){if(t.propertyName==="value"&&Lf(Xl)){var e=[];OC(e,Xl,t,Gy(t)),mC(EP,e)}}function CP(t,e,n){t==="focusin"?(uw(),xl=e,Xl=n,xl.attachEvent("onpropertychange",jC)):t==="focusout"&&uw()}function TP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lf(Xl)}function IP(t,e){if(t==="click")return Lf(e)}function xP(t,e){if(t==="input"||t==="change")return Lf(e)}function kP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yr=typeof Object.is=="function"?Object.is:kP;function Jl(t,e){if(yr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qm.call(e,i)||!yr(t[i],e[i]))return!1}return!0}function cw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dw(t,e){var n=cw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cw(n)}}function MC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?MC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $C(){for(var t=window,e=vd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vd(t.document)}return e}function rv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bP(t){var e=$C(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&MC(n.ownerDocument.documentElement,n)){if(r!==null&&rv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=dw(n,s);var o=dw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var RP=ai&&"documentMode"in document&&11>=document.documentMode,bo=null,pg=null,kl=null,mg=!1;function fw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mg||bo==null||bo!==vd(r)||(r=bo,"selectionStart"in r&&rv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kl&&Jl(kl,r)||(kl=r,r=Id(pg,"onSelect"),0<r.length&&(e=new ev("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bo)))}function yc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ro={animationend:yc("Animation","AnimationEnd"),animationiteration:yc("Animation","AnimationIteration"),animationstart:yc("Animation","AnimationStart"),transitionend:yc("Transition","TransitionEnd")},xp={},UC={};ai&&(UC=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function Of(t){if(xp[t])return xp[t];if(!Ro[t])return t;var e=Ro[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in UC)return xp[t]=e[n];return t}var FC=Of("animationend"),VC=Of("animationiteration"),zC=Of("animationstart"),BC=Of("transitionend"),HC=new Map,hw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(t,e){HC.set(t,e),no(e,[t])}for(var kp=0;kp<hw.length;kp++){var bp=hw[kp],AP=bp.toLowerCase(),PP=bp[0].toUpperCase()+bp.slice(1);as(AP,"on"+PP)}as(FC,"onAnimationEnd");as(VC,"onAnimationIteration");as(zC,"onAnimationStart");as("dblclick","onDoubleClick");as("focusin","onFocus");as("focusout","onBlur");as(BC,"onTransitionEnd");na("onMouseEnter",["mouseout","mouseover"]);na("onMouseLeave",["mouseout","mouseover"]);na("onPointerEnter",["pointerout","pointerover"]);na("onPointerLeave",["pointerout","pointerover"]);no("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));no("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));no("onBeforeInput",["compositionend","keypress","textInput","paste"]);no("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));no("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));no("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NP=new Set("cancel close invalid load scroll toggle".split(" ").concat(pl));function pw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,AA(r,e,void 0,t),t.currentTarget=null}function qC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;pw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;pw(i,a,u),s=l}}}if(_d)throw t=cg,_d=!1,cg=null,t}function Ge(t,e){var n=e[_g];n===void 0&&(n=e[_g]=new Set);var r=t+"__bubble";n.has(r)||(WC(e,t,2,!1),n.add(r))}function Rp(t,e,n){var r=0;e&&(r|=4),WC(n,t,r,e)}var vc="_reactListening"+Math.random().toString(36).slice(2);function Zl(t){if(!t[vc]){t[vc]=!0,ZS.forEach(function(n){n!=="selectionchange"&&(NP.has(n)||Rp(n,!1,t),Rp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vc]||(e[vc]=!0,Rp("selectionchange",!1,e))}}function WC(t,e,n,r){switch(RC(e)){case 1:var i=WA;break;case 4:i=KA;break;default:i=Jy}n=i.bind(null,e,n,t),i=void 0,!ug||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ap(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ts(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}mC(function(){var u=s,c=Gy(n),f=[];e:{var h=HC.get(t);if(h!==void 0){var p=ev,w=t;switch(t){case"keypress":if(Hc(n)===0)break e;case"keydown":case"keyup":p=lP;break;case"focusin":w="focus",p=Cp;break;case"focusout":w="blur",p=Cp;break;case"beforeblur":case"afterblur":p=Cp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=nw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=YA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=dP;break;case FC:case VC:case zC:p=ZA;break;case BC:p=hP;break;case"scroll":p=GA;break;case"wheel":p=mP;break;case"copy":case"cut":case"paste":p=tP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=iw}var y=(e&4)!==0,v=!y&&t==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var m=u,_;m!==null;){_=m;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,g!==null&&(E=Kl(m,g),E!=null&&y.push(eu(m,E,_)))),v)break;m=m.return}0<y.length&&(h=new p(h,w,null,n,c),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==ag&&(w=n.relatedTarget||n.fromElement)&&(Ts(w)||w[li]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=u,w=w?Ts(w):null,w!==null&&(v=ro(w),w!==v||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(y=nw,E="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=iw,E="onPointerLeave",g="onPointerEnter",m="pointer"),v=p==null?h:Ao(p),_=w==null?h:Ao(w),h=new y(E,m+"leave",p,n,c),h.target=v,h.relatedTarget=_,E=null,Ts(c)===u&&(y=new y(g,m+"enter",w,n,c),y.target=_,y.relatedTarget=v,E=y),v=E,p&&w)t:{for(y=p,g=w,m=0,_=y;_;_=vo(_))m++;for(_=0,E=g;E;E=vo(E))_++;for(;0<m-_;)y=vo(y),m--;for(;0<_-m;)g=vo(g),_--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=vo(y),g=vo(g)}y=null}else y=null;p!==null&&mw(f,h,p,y,!1),w!==null&&v!==null&&mw(f,v,w,y,!0)}}e:{if(h=u?Ao(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=SP;else if(aw(h))if(DC)S=xP;else{S=TP;var I=CP}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=IP);if(S&&(S=S(t,u))){OC(f,S,n,c);break e}I&&I(t,h,u),t==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&ng(h,"number",h.value)}switch(I=u?Ao(u):window,t){case"focusin":(aw(I)||I.contentEditable==="true")&&(bo=I,pg=u,kl=null);break;case"focusout":kl=pg=bo=null;break;case"mousedown":mg=!0;break;case"contextmenu":case"mouseup":case"dragend":mg=!1,fw(f,n,c);break;case"selectionchange":if(RP)break;case"keydown":case"keyup":fw(f,n,c)}var x;if(nv)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ko?NC(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(PC&&n.locale!=="ko"&&(ko||P!=="onCompositionStart"?P==="onCompositionEnd"&&ko&&(x=AC()):(ji=c,Zy="value"in ji?ji.value:ji.textContent,ko=!0)),I=Id(u,P),0<I.length&&(P=new rw(P,t,null,n,c),f.push({event:P,listeners:I}),x?P.data=x:(x=LC(n),x!==null&&(P.data=x)))),(x=yP?vP(t,n):wP(t,n))&&(u=Id(u,"onBeforeInput"),0<u.length&&(c=new rw("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=x))}qC(f,e)})}function eu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Id(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Kl(t,n),s!=null&&r.unshift(eu(t,s,i)),s=Kl(t,e),s!=null&&r.push(eu(t,s,i))),t=t.return}return r}function vo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Kl(n,s),l!=null&&o.unshift(eu(n,l,a))):i||(l=Kl(n,s),l!=null&&o.push(eu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var LP=/\r\n?/g,OP=/\u0000|\uFFFD/g;function gw(t){return(typeof t=="string"?t:""+t).replace(LP,`
`).replace(OP,"")}function wc(t,e,n){if(e=gw(e),gw(t)!==e&&n)throw Error(F(425))}function xd(){}var gg=null,yg=null;function vg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wg=typeof setTimeout=="function"?setTimeout:void 0,DP=typeof clearTimeout=="function"?clearTimeout:void 0,yw=typeof Promise=="function"?Promise:void 0,jP=typeof queueMicrotask=="function"?queueMicrotask:typeof yw<"u"?function(t){return yw.resolve(null).then(t).catch(MP)}:wg;function MP(t){setTimeout(function(){throw t})}function Pp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Yl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Yl(e)}function zi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ia=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Ia,tu="__reactProps$"+Ia,li="__reactContainer$"+Ia,_g="__reactEvents$"+Ia,$P="__reactListeners$"+Ia,UP="__reactHandles$"+Ia;function Ts(t){var e=t[Ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[li]||n[Ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vw(t);t!==null;){if(n=t[Ir])return n;t=vw(t)}return e}t=n,n=t.parentNode}return null}function Nu(t){return t=t[Ir]||t[li],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ao(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function Df(t){return t[tu]||null}var Eg=[],Po=-1;function ls(t){return{current:t}}function Ye(t){0>Po||(t.current=Eg[Po],Eg[Po]=null,Po--)}function qe(t,e){Po++,Eg[Po]=t.current,t.current=e}var es={},sn=ls(es),Sn=ls(!1),Vs=es;function ra(t,e){var n=t.type.contextTypes;if(!n)return es;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Cn(t){return t=t.childContextTypes,t!=null}function kd(){Ye(Sn),Ye(sn)}function ww(t,e,n){if(sn.current!==es)throw Error(F(168));qe(sn,e),qe(Sn,n)}function KC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,CA(t)||"Unknown",i));return lt({},n,r)}function bd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||es,Vs=sn.current,qe(sn,t),qe(Sn,Sn.current),!0}function _w(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=KC(t,e,Vs),r.__reactInternalMemoizedMergedChildContext=t,Ye(Sn),Ye(sn),qe(sn,t)):Ye(Sn),qe(Sn,n)}var Kr=null,jf=!1,Np=!1;function GC(t){Kr===null?Kr=[t]:Kr.push(t)}function FP(t){jf=!0,GC(t)}function us(){if(!Np&&Kr!==null){Np=!0;var t=0,e=Ue;try{var n=Kr;for(Ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kr=null,jf=!1}catch(i){throw Kr!==null&&(Kr=Kr.slice(t+1)),wC(Qy,us),i}finally{Ue=e,Np=!1}}return null}var No=[],Lo=0,Rd=null,Ad=0,Bn=[],Hn=0,zs=null,Yr=1,Xr="";function ws(t,e){No[Lo++]=Ad,No[Lo++]=Rd,Rd=t,Ad=e}function QC(t,e,n){Bn[Hn++]=Yr,Bn[Hn++]=Xr,Bn[Hn++]=zs,zs=t;var r=Yr;t=Xr;var i=32-hr(r)-1;r&=~(1<<i),n+=1;var s=32-hr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yr=1<<32-hr(e)+i|n<<i|r,Xr=s+t}else Yr=1<<s|n<<i|r,Xr=t}function iv(t){t.return!==null&&(ws(t,1),QC(t,1,0))}function sv(t){for(;t===Rd;)Rd=No[--Lo],No[Lo]=null,Ad=No[--Lo],No[Lo]=null;for(;t===zs;)zs=Bn[--Hn],Bn[Hn]=null,Xr=Bn[--Hn],Bn[Hn]=null,Yr=Bn[--Hn],Bn[Hn]=null}var Nn=null,Rn=null,nt=!1,cr=null;function YC(t,e){var n=qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ew(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nn=t,Rn=zi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nn=t,Rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zs!==null?{id:Yr,overflow:Xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nn=t,Rn=null,!0):!1;default:return!1}}function Sg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cg(t){if(nt){var e=Rn;if(e){var n=e;if(!Ew(t,e)){if(Sg(t))throw Error(F(418));e=zi(n.nextSibling);var r=Nn;e&&Ew(t,e)?YC(r,n):(t.flags=t.flags&-4097|2,nt=!1,Nn=t)}}else{if(Sg(t))throw Error(F(418));t.flags=t.flags&-4097|2,nt=!1,Nn=t}}}function Sw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nn=t}function _c(t){if(t!==Nn)return!1;if(!nt)return Sw(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vg(t.type,t.memoizedProps)),e&&(e=Rn)){if(Sg(t))throw XC(),Error(F(418));for(;e;)YC(t,e),e=zi(e.nextSibling)}if(Sw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rn=zi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rn=null}}else Rn=Nn?zi(t.stateNode.nextSibling):null;return!0}function XC(){for(var t=Rn;t;)t=zi(t.nextSibling)}function ia(){Rn=Nn=null,nt=!1}function ov(t){cr===null?cr=[t]:cr.push(t)}var VP=vi.ReactCurrentBatchConfig;function lr(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Pd=ls(null),Nd=null,Oo=null,av=null;function lv(){av=Oo=Nd=null}function uv(t){var e=Pd.current;Ye(Pd),t._currentValue=e}function Tg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wo(t,e){Nd=t,av=Oo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(En=!0),t.firstContext=null)}function Gn(t){var e=t._currentValue;if(av!==t)if(t={context:t,memoizedValue:e,next:null},Oo===null){if(Nd===null)throw Error(F(308));Oo=t,Nd.dependencies={lanes:0,firstContext:t}}else Oo=Oo.next=t;return e}var Is=null;function cv(t){Is===null?Is=[t]:Is.push(t)}function JC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,cv(e)):(n.next=i.next,i.next=n),e.interleaved=n,ui(t,r)}function ui(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bi=!1;function dv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ni(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ui(t,n)}return i=r.interleaved,i===null?(e.next=e,cv(r)):(e.next=i.next,i.next=e),r.interleaved=e,ui(t,n)}function qc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yy(t,n)}}function Cw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ld(t,e,n,r){var i=t.updateQueue;bi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,y=a;switch(h=e,p=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){f=w.call(p,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,h=typeof w=="function"?w.call(p,f,h):w,h==null)break e;f=lt({},f,h);break e;case 2:bi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Hs|=o,t.lanes=o,t.memoizedState=f}}function Tw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var eT=new JS.Component().refs;function Ig(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:lt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mf={isMounted:function(t){return(t=t._reactInternals)?ro(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hn(),i=qi(t),s=ni(r,i);s.payload=e,n!=null&&(s.callback=n),e=Bi(t,s,i),e!==null&&(pr(e,t,i,r),qc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hn(),i=qi(t),s=ni(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Bi(t,s,i),e!==null&&(pr(e,t,i,r),qc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hn(),r=qi(t),i=ni(n,r);i.tag=2,e!=null&&(i.callback=e),e=Bi(t,i,r),e!==null&&(pr(e,t,r,n),qc(e,t,r))}};function Iw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Jl(n,r)||!Jl(i,s):!0}function tT(t,e,n){var r=!1,i=es,s=e.contextType;return typeof s=="object"&&s!==null?s=Gn(s):(i=Cn(e)?Vs:sn.current,r=e.contextTypes,s=(r=r!=null)?ra(t,i):es),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function xw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Mf.enqueueReplaceState(e,e.state,null)}function xg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=eT,dv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Gn(s):(s=Cn(e)?Vs:sn.current,i.context=ra(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ig(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Mf.enqueueReplaceState(i,i.state,null),Ld(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===eT&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function Ec(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function kw(t){var e=t._init;return e(t._payload)}function nT(t){function e(g,m){if(t){var _=g.deletions;_===null?(g.deletions=[m],g.flags|=16):_.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=Wi(g,m),g.index=0,g.sibling=null,g}function s(g,m,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<m?(g.flags|=2,m):_):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,_,E){return m===null||m.tag!==6?(m=Up(_,g.mode,E),m.return=g,m):(m=i(m,_),m.return=g,m)}function l(g,m,_,E){var S=_.type;return S===xo?c(g,m,_.props.children,E,_.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ki&&kw(S)===m.type)?(E=i(m,_.props),E.ref=Xa(g,m,_),E.return=g,E):(E=Xc(_.type,_.key,_.props,null,g.mode,E),E.ref=Xa(g,m,_),E.return=g,E)}function u(g,m,_,E){return m===null||m.tag!==4||m.stateNode.containerInfo!==_.containerInfo||m.stateNode.implementation!==_.implementation?(m=Fp(_,g.mode,E),m.return=g,m):(m=i(m,_.children||[]),m.return=g,m)}function c(g,m,_,E,S){return m===null||m.tag!==7?(m=js(_,g.mode,E,S),m.return=g,m):(m=i(m,_),m.return=g,m)}function f(g,m,_){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Up(""+m,g.mode,_),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case cc:return _=Xc(m.type,m.key,m.props,null,g.mode,_),_.ref=Xa(g,null,m),_.return=g,_;case Io:return m=Fp(m,g.mode,_),m.return=g,m;case ki:var E=m._init;return f(g,E(m._payload),_)}if(fl(m)||Wa(m))return m=js(m,g.mode,_,null),m.return=g,m;Ec(g,m)}return null}function h(g,m,_,E){var S=m!==null?m.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(g,m,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case cc:return _.key===S?l(g,m,_,E):null;case Io:return _.key===S?u(g,m,_,E):null;case ki:return S=_._init,h(g,m,S(_._payload),E)}if(fl(_)||Wa(_))return S!==null?null:c(g,m,_,E,null);Ec(g,_)}return null}function p(g,m,_,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(_)||null,a(m,g,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case cc:return g=g.get(E.key===null?_:E.key)||null,l(m,g,E,S);case Io:return g=g.get(E.key===null?_:E.key)||null,u(m,g,E,S);case ki:var I=E._init;return p(g,m,_,I(E._payload),S)}if(fl(E)||Wa(E))return g=g.get(_)||null,c(m,g,E,S,null);Ec(m,E)}return null}function w(g,m,_,E){for(var S=null,I=null,x=m,P=m=0,R=null;x!==null&&P<_.length;P++){x.index>P?(R=x,x=null):R=x.sibling;var O=h(g,x,_[P],E);if(O===null){x===null&&(x=R);break}t&&x&&O.alternate===null&&e(g,x),m=s(O,m,P),I===null?S=O:I.sibling=O,I=O,x=R}if(P===_.length)return n(g,x),nt&&ws(g,P),S;if(x===null){for(;P<_.length;P++)x=f(g,_[P],E),x!==null&&(m=s(x,m,P),I===null?S=x:I.sibling=x,I=x);return nt&&ws(g,P),S}for(x=r(g,x);P<_.length;P++)R=p(x,g,P,_[P],E),R!==null&&(t&&R.alternate!==null&&x.delete(R.key===null?P:R.key),m=s(R,m,P),I===null?S=R:I.sibling=R,I=R);return t&&x.forEach(function(W){return e(g,W)}),nt&&ws(g,P),S}function y(g,m,_,E){var S=Wa(_);if(typeof S!="function")throw Error(F(150));if(_=S.call(_),_==null)throw Error(F(151));for(var I=S=null,x=m,P=m=0,R=null,O=_.next();x!==null&&!O.done;P++,O=_.next()){x.index>P?(R=x,x=null):R=x.sibling;var W=h(g,x,O.value,E);if(W===null){x===null&&(x=R);break}t&&x&&W.alternate===null&&e(g,x),m=s(W,m,P),I===null?S=W:I.sibling=W,I=W,x=R}if(O.done)return n(g,x),nt&&ws(g,P),S;if(x===null){for(;!O.done;P++,O=_.next())O=f(g,O.value,E),O!==null&&(m=s(O,m,P),I===null?S=O:I.sibling=O,I=O);return nt&&ws(g,P),S}for(x=r(g,x);!O.done;P++,O=_.next())O=p(x,g,P,O.value,E),O!==null&&(t&&O.alternate!==null&&x.delete(O.key===null?P:O.key),m=s(O,m,P),I===null?S=O:I.sibling=O,I=O);return t&&x.forEach(function($){return e(g,$)}),nt&&ws(g,P),S}function v(g,m,_,E){if(typeof _=="object"&&_!==null&&_.type===xo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case cc:e:{for(var S=_.key,I=m;I!==null;){if(I.key===S){if(S=_.type,S===xo){if(I.tag===7){n(g,I.sibling),m=i(I,_.props.children),m.return=g,g=m;break e}}else if(I.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ki&&kw(S)===I.type){n(g,I.sibling),m=i(I,_.props),m.ref=Xa(g,I,_),m.return=g,g=m;break e}n(g,I);break}else e(g,I);I=I.sibling}_.type===xo?(m=js(_.props.children,g.mode,E,_.key),m.return=g,g=m):(E=Xc(_.type,_.key,_.props,null,g.mode,E),E.ref=Xa(g,m,_),E.return=g,g=E)}return o(g);case Io:e:{for(I=_.key;m!==null;){if(m.key===I)if(m.tag===4&&m.stateNode.containerInfo===_.containerInfo&&m.stateNode.implementation===_.implementation){n(g,m.sibling),m=i(m,_.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=Fp(_,g.mode,E),m.return=g,g=m}return o(g);case ki:return I=_._init,v(g,m,I(_._payload),E)}if(fl(_))return w(g,m,_,E);if(Wa(_))return y(g,m,_,E);Ec(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,_),m.return=g,g=m):(n(g,m),m=Up(_,g.mode,E),m.return=g,g=m),o(g)):n(g,m)}return v}var sa=nT(!0),rT=nT(!1),Lu={},Pr=ls(Lu),nu=ls(Lu),ru=ls(Lu);function xs(t){if(t===Lu)throw Error(F(174));return t}function fv(t,e){switch(qe(ru,e),qe(nu,t),qe(Pr,Lu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ig(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ig(e,t)}Ye(Pr),qe(Pr,e)}function oa(){Ye(Pr),Ye(nu),Ye(ru)}function iT(t){xs(ru.current);var e=xs(Pr.current),n=ig(e,t.type);e!==n&&(qe(nu,t),qe(Pr,n))}function hv(t){nu.current===t&&(Ye(Pr),Ye(nu))}var st=ls(0);function Od(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lp=[];function pv(){for(var t=0;t<Lp.length;t++)Lp[t]._workInProgressVersionPrimary=null;Lp.length=0}var Wc=vi.ReactCurrentDispatcher,Op=vi.ReactCurrentBatchConfig,Bs=0,at=null,It=null,Nt=null,Dd=!1,bl=!1,iu=0,zP=0;function Wt(){throw Error(F(321))}function mv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yr(t[n],e[n]))return!1;return!0}function gv(t,e,n,r,i,s){if(Bs=s,at=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wc.current=t===null||t.memoizedState===null?WP:KP,t=n(r,i),bl){s=0;do{if(bl=!1,iu=0,25<=s)throw Error(F(301));s+=1,Nt=It=null,e.updateQueue=null,Wc.current=GP,t=n(r,i)}while(bl)}if(Wc.current=jd,e=It!==null&&It.next!==null,Bs=0,Nt=It=at=null,Dd=!1,e)throw Error(F(300));return t}function yv(){var t=iu!==0;return iu=0,t}function Cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?at.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Qn(){if(It===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var e=Nt===null?at.memoizedState:Nt.next;if(e!==null)Nt=e,It=t;else{if(t===null)throw Error(F(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Nt===null?at.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function su(t,e){return typeof e=="function"?e(t):e}function Dp(t){var e=Qn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=It,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Bs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,at.lanes|=c,Hs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,yr(r,e.memoizedState)||(En=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,at.lanes|=s,Hs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function jp(t){var e=Qn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);yr(s,e.memoizedState)||(En=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function sT(){}function oT(t,e){var n=at,r=Qn(),i=e(),s=!yr(r.memoizedState,i);if(s&&(r.memoizedState=i,En=!0),r=r.queue,vv(uT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,ou(9,lT.bind(null,n,r,i,e),void 0,null),Lt===null)throw Error(F(349));Bs&30||aT(n,e,i)}return i}function aT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lT(t,e,n,r){e.value=n,e.getSnapshot=r,cT(e)&&dT(t)}function uT(t,e,n){return n(function(){cT(e)&&dT(t)})}function cT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yr(t,n)}catch{return!0}}function dT(t){var e=ui(t,1);e!==null&&pr(e,t,1,-1)}function bw(t){var e=Cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:su,lastRenderedState:t},e.queue=t,t=t.dispatch=qP.bind(null,at,t),[e.memoizedState,t]}function ou(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function fT(){return Qn().memoizedState}function Kc(t,e,n,r){var i=Cr();at.flags|=t,i.memoizedState=ou(1|e,n,void 0,r===void 0?null:r)}function $f(t,e,n,r){var i=Qn();r=r===void 0?null:r;var s=void 0;if(It!==null){var o=It.memoizedState;if(s=o.destroy,r!==null&&mv(r,o.deps)){i.memoizedState=ou(e,n,s,r);return}}at.flags|=t,i.memoizedState=ou(1|e,n,s,r)}function Rw(t,e){return Kc(8390656,8,t,e)}function vv(t,e){return $f(2048,8,t,e)}function hT(t,e){return $f(4,2,t,e)}function pT(t,e){return $f(4,4,t,e)}function mT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gT(t,e,n){return n=n!=null?n.concat([t]):null,$f(4,4,mT.bind(null,e,t),n)}function wv(){}function yT(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vT(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function wT(t,e,n){return Bs&21?(yr(n,e)||(n=SC(),at.lanes|=n,Hs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,En=!0),t.memoizedState=n)}function BP(t,e){var n=Ue;Ue=n!==0&&4>n?n:4,t(!0);var r=Op.transition;Op.transition={};try{t(!1),e()}finally{Ue=n,Op.transition=r}}function _T(){return Qn().memoizedState}function HP(t,e,n){var r=qi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ET(t))ST(e,n);else if(n=JC(t,e,n,r),n!==null){var i=hn();pr(n,t,r,i),CT(n,e,r)}}function qP(t,e,n){var r=qi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ET(t))ST(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,yr(a,o)){var l=e.interleaved;l===null?(i.next=i,cv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=JC(t,e,i,r),n!==null&&(i=hn(),pr(n,t,r,i),CT(n,e,r))}}function ET(t){var e=t.alternate;return t===at||e!==null&&e===at}function ST(t,e){bl=Dd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function CT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yy(t,n)}}var jd={readContext:Gn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},WP={readContext:Gn,useCallback:function(t,e){return Cr().memoizedState=[t,e===void 0?null:e],t},useContext:Gn,useEffect:Rw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Kc(4194308,4,mT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Kc(4,2,t,e)},useMemo:function(t,e){var n=Cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=HP.bind(null,at,t),[r.memoizedState,t]},useRef:function(t){var e=Cr();return t={current:t},e.memoizedState=t},useState:bw,useDebugValue:wv,useDeferredValue:function(t){return Cr().memoizedState=t},useTransition:function(){var t=bw(!1),e=t[0];return t=BP.bind(null,t[1]),Cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=at,i=Cr();if(nt){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),Lt===null)throw Error(F(349));Bs&30||aT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Rw(uT.bind(null,r,s,t),[t]),r.flags|=2048,ou(9,lT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Cr(),e=Lt.identifierPrefix;if(nt){var n=Xr,r=Yr;n=(r&~(1<<32-hr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=iu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},KP={readContext:Gn,useCallback:yT,useContext:Gn,useEffect:vv,useImperativeHandle:gT,useInsertionEffect:hT,useLayoutEffect:pT,useMemo:vT,useReducer:Dp,useRef:fT,useState:function(){return Dp(su)},useDebugValue:wv,useDeferredValue:function(t){var e=Qn();return wT(e,It.memoizedState,t)},useTransition:function(){var t=Dp(su)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:sT,useSyncExternalStore:oT,useId:_T,unstable_isNewReconciler:!1},GP={readContext:Gn,useCallback:yT,useContext:Gn,useEffect:vv,useImperativeHandle:gT,useInsertionEffect:hT,useLayoutEffect:pT,useMemo:vT,useReducer:jp,useRef:fT,useState:function(){return jp(su)},useDebugValue:wv,useDeferredValue:function(t){var e=Qn();return It===null?e.memoizedState=t:wT(e,It.memoizedState,t)},useTransition:function(){var t=jp(su)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:sT,useSyncExternalStore:oT,useId:_T,unstable_isNewReconciler:!1};function aa(t,e){try{var n="",r=e;do n+=SA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Mp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function kg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var QP=typeof WeakMap=="function"?WeakMap:Map;function TT(t,e,n){n=ni(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$d||($d=!0,Mg=r),kg(t,e)},n}function IT(t,e,n){n=ni(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){kg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){kg(t,e),typeof r!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Aw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new QP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=uN.bind(null,t,e,n),e.then(t,t))}function Pw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Nw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ni(-1,1),e.tag=2,Bi(n,e,1))),n.lanes|=1),t)}var YP=vi.ReactCurrentOwner,En=!1;function cn(t,e,n,r){e.child=t===null?rT(e,null,n,r):sa(e,t.child,n,r)}function Lw(t,e,n,r,i){n=n.render;var s=e.ref;return Wo(e,i),r=gv(t,e,n,r,s,i),n=yv(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ci(t,e,i)):(nt&&n&&iv(e),e.flags|=1,cn(t,e,r,i),e.child)}function Ow(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!kv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,xT(t,e,s,r,i)):(t=Xc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Jl,n(o,r)&&t.ref===e.ref)return ci(t,e,i)}return e.flags|=1,t=Wi(s,r),t.ref=e.ref,t.return=e,e.child=t}function xT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Jl(s,r)&&t.ref===e.ref)if(En=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(En=!0);else return e.lanes=t.lanes,ci(t,e,i)}return bg(t,e,n,r,i)}function kT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(jo,bn),bn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(jo,bn),bn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,qe(jo,bn),bn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,qe(jo,bn),bn|=r;return cn(t,e,i,n),e.child}function bT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bg(t,e,n,r,i){var s=Cn(n)?Vs:sn.current;return s=ra(e,s),Wo(e,i),n=gv(t,e,n,r,s,i),r=yv(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ci(t,e,i)):(nt&&r&&iv(e),e.flags|=1,cn(t,e,n,i),e.child)}function Dw(t,e,n,r,i){if(Cn(n)){var s=!0;bd(e)}else s=!1;if(Wo(e,i),e.stateNode===null)Gc(t,e),tT(e,n,r),xg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Gn(u):(u=Cn(n)?Vs:sn.current,u=ra(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&xw(e,o,r,u),bi=!1;var h=e.memoizedState;o.state=h,Ld(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Sn.current||bi?(typeof c=="function"&&(Ig(e,n,c,r),l=e.memoizedState),(a=bi||Iw(e,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ZC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:lr(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gn(l):(l=Cn(n)?Vs:sn.current,l=ra(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&xw(e,o,r,l),bi=!1,h=e.memoizedState,o.state=h,Ld(e,r,o,i);var w=e.memoizedState;a!==f||h!==w||Sn.current||bi?(typeof p=="function"&&(Ig(e,n,p,r),w=e.memoizedState),(u=bi||Iw(e,n,u,r,h,w,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Rg(t,e,n,r,s,i)}function Rg(t,e,n,r,i,s){bT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&_w(e,n,!1),ci(t,e,s);r=e.stateNode,YP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=sa(e,t.child,null,s),e.child=sa(e,null,a,s)):cn(t,e,a,s),e.memoizedState=r.state,i&&_w(e,n,!0),e.child}function RT(t){var e=t.stateNode;e.pendingContext?ww(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ww(t,e.context,!1),fv(t,e.containerInfo)}function jw(t,e,n,r,i){return ia(),ov(i),e.flags|=256,cn(t,e,n,r),e.child}var Ag={dehydrated:null,treeContext:null,retryLane:0};function Pg(t){return{baseLanes:t,cachePool:null,transitions:null}}function AT(t,e,n){var r=e.pendingProps,i=st.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qe(st,i&1),t===null)return Cg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Vf(o,r,0,null),t=js(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Pg(n),e.memoizedState=Ag,t):_v(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return XP(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Wi(a,s):(s=js(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Pg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ag,r}return s=t.child,t=s.sibling,r=Wi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _v(t,e){return e=Vf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sc(t,e,n,r){return r!==null&&ov(r),sa(e,t.child,null,n),t=_v(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function XP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Mp(Error(F(422))),Sc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Vf({mode:"visible",children:r.children},i,0,null),s=js(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&sa(e,t.child,null,o),e.child.memoizedState=Pg(o),e.memoizedState=Ag,s);if(!(e.mode&1))return Sc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(F(419)),r=Mp(s,r,void 0),Sc(t,e,o,r)}if(a=(o&t.childLanes)!==0,En||a){if(r=Lt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ui(t,i),pr(r,t,i,-1))}return xv(),r=Mp(Error(F(421))),Sc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=cN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Rn=zi(i.nextSibling),Nn=e,nt=!0,cr=null,t!==null&&(Bn[Hn++]=Yr,Bn[Hn++]=Xr,Bn[Hn++]=zs,Yr=t.id,Xr=t.overflow,zs=e),e=_v(e,r.children),e.flags|=4096,e)}function Mw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Tg(t.return,e,n)}function $p(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function PT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(cn(t,e,r.children,n),r=st.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mw(t,n,e);else if(t.tag===19)Mw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(st,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Od(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$p(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Od(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$p(e,!0,n,null,s);break;case"together":$p(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ci(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=Wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function JP(t,e,n){switch(e.tag){case 3:RT(e),ia();break;case 5:iT(e);break;case 1:Cn(e.type)&&bd(e);break;case 4:fv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qe(Pd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(st,st.current&1),e.flags|=128,null):n&e.child.childLanes?AT(t,e,n):(qe(st,st.current&1),t=ci(t,e,n),t!==null?t.sibling:null);qe(st,st.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return PT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(st,st.current),r)break;return null;case 22:case 23:return e.lanes=0,kT(t,e,n)}return ci(t,e,n)}var NT,Ng,LT,OT;NT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ng=function(){};LT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xs(Pr.current);var s=null;switch(n){case"input":i=eg(t,i),r=eg(t,r),s=[];break;case"select":i=lt({},i,{value:void 0}),r=lt({},r,{value:void 0}),s=[];break;case"textarea":i=rg(t,i),r=rg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xd)}sg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ql.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ql.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ge("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};OT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ja(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ZP(t,e,n){var r=e.pendingProps;switch(sv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(e),null;case 1:return Cn(e.type)&&kd(),Kt(e),null;case 3:return r=e.stateNode,oa(),Ye(Sn),Ye(sn),pv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_c(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&(Fg(cr),cr=null))),Ng(t,e),Kt(e),null;case 5:hv(e);var i=xs(ru.current);if(n=e.type,t!==null&&e.stateNode!=null)LT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return Kt(e),null}if(t=xs(Pr.current),_c(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ir]=e,r[tu]=s,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(i=0;i<pl.length;i++)Ge(pl[i],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":W0(r,s),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ge("invalid",r);break;case"textarea":G0(r,s),Ge("invalid",r)}sg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&wc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&wc(r.textContent,a,t),i=["children",""+a]):ql.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ge("scroll",r)}switch(n){case"input":dc(r),K0(r,s,!0);break;case"textarea":dc(r),Q0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ir]=e,t[tu]=r,NT(t,e,!1,!1),e.stateNode=t;e:{switch(o=og(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),i=r;break;case"iframe":case"object":case"embed":Ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<pl.length;i++)Ge(pl[i],t);i=r;break;case"source":Ge("error",t),i=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),i=r;break;case"details":Ge("toggle",t),i=r;break;case"input":W0(t,r),i=eg(t,r),Ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=lt({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":G0(t,r),i=rg(t,r),Ge("invalid",t);break;default:i=r}sg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?cC(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lC(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wl(t,l):typeof l=="number"&&Wl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ql.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ge("scroll",t):l!=null&&Hy(t,s,l,o))}switch(n){case"input":dc(t),K0(t,r,!1);break;case"textarea":dc(t),Q0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?zo(t,!!r.multiple,s,!1):r.defaultValue!=null&&zo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kt(e),null;case 6:if(t&&e.stateNode!=null)OT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=xs(ru.current),xs(Pr.current),_c(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ir]=e,(s=r.nodeValue!==n)&&(t=Nn,t!==null))switch(t.tag){case 3:wc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ir]=e,e.stateNode=r}return Kt(e),null;case 13:if(Ye(st),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&Rn!==null&&e.mode&1&&!(e.flags&128))XC(),ia(),e.flags|=98560,s=!1;else if(s=_c(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[Ir]=e}else ia(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kt(e),s=!1}else cr!==null&&(Fg(cr),cr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||st.current&1?xt===0&&(xt=3):xv())),e.updateQueue!==null&&(e.flags|=4),Kt(e),null);case 4:return oa(),Ng(t,e),t===null&&Zl(e.stateNode.containerInfo),Kt(e),null;case 10:return uv(e.type._context),Kt(e),null;case 17:return Cn(e.type)&&kd(),Kt(e),null;case 19:if(Ye(st),s=e.memoizedState,s===null)return Kt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ja(s,!1);else{if(xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Od(t),o!==null){for(e.flags|=128,Ja(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(st,st.current&1|2),e.child}t=t.sibling}s.tail!==null&&ht()>la&&(e.flags|=128,r=!0,Ja(s,!1),e.lanes=4194304)}else{if(!r)if(t=Od(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ja(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!nt)return Kt(e),null}else 2*ht()-s.renderingStartTime>la&&n!==1073741824&&(e.flags|=128,r=!0,Ja(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ht(),e.sibling=null,n=st.current,qe(st,r?n&1|2:n&1),e):(Kt(e),null);case 22:case 23:return Iv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?bn&1073741824&&(Kt(e),e.subtreeFlags&6&&(e.flags|=8192)):Kt(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function eN(t,e){switch(sv(e),e.tag){case 1:return Cn(e.type)&&kd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oa(),Ye(Sn),Ye(sn),pv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hv(e),null;case 13:if(Ye(st),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));ia()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(st),null;case 4:return oa(),null;case 10:return uv(e.type._context),null;case 22:case 23:return Iv(),null;case 24:return null;default:return null}}var Cc=!1,Xt=!1,tN=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Do(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(t,e,r)}else n.current=null}function Lg(t,e,n){try{n()}catch(r){dt(t,e,r)}}var $w=!1;function nN(t,e){if(gg=Cd,t=$C(),rv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(yg={focusedElem:t,selectionRange:n},Cd=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,v=w.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:lr(e.type,y),v);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(E){dt(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return w=$w,$w=!1,w}function Rl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Lg(e,n,s)}i=i.next}while(i!==r)}}function Uf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Og(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DT(t){var e=t.alternate;e!==null&&(t.alternate=null,DT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ir],delete e[tu],delete e[_g],delete e[$P],delete e[UP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jT(t){return t.tag===5||t.tag===3||t.tag===4}function Uw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xd));else if(r!==4&&(t=t.child,t!==null))for(Dg(t,e,n),t=t.sibling;t!==null;)Dg(t,e,n),t=t.sibling}function jg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(jg(t,e,n),t=t.sibling;t!==null;)jg(t,e,n),t=t.sibling}var $t=null,ur=!1;function Ti(t,e,n){for(n=n.child;n!==null;)MT(t,e,n),n=n.sibling}function MT(t,e,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(Pf,n)}catch{}switch(n.tag){case 5:Xt||Do(n,e);case 6:var r=$t,i=ur;$t=null,Ti(t,e,n),$t=r,ur=i,$t!==null&&(ur?(t=$t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(ur?(t=$t,n=n.stateNode,t.nodeType===8?Pp(t.parentNode,n):t.nodeType===1&&Pp(t,n),Yl(t)):Pp($t,n.stateNode));break;case 4:r=$t,i=ur,$t=n.stateNode.containerInfo,ur=!0,Ti(t,e,n),$t=r,ur=i;break;case 0:case 11:case 14:case 15:if(!Xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Lg(n,e,o),i=i.next}while(i!==r)}Ti(t,e,n);break;case 1:if(!Xt&&(Do(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){dt(n,e,a)}Ti(t,e,n);break;case 21:Ti(t,e,n);break;case 22:n.mode&1?(Xt=(r=Xt)||n.memoizedState!==null,Ti(t,e,n),Xt=r):Ti(t,e,n);break;default:Ti(t,e,n)}}function Fw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new tN),e.forEach(function(r){var i=dN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:$t=a.stateNode,ur=!1;break e;case 3:$t=a.stateNode.containerInfo,ur=!0;break e;case 4:$t=a.stateNode.containerInfo,ur=!0;break e}a=a.return}if($t===null)throw Error(F(160));MT(s,o,i),$t=null,ur=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){dt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$T(e,t),e=e.sibling}function $T(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(or(e,t),Er(t),r&4){try{Rl(3,t,t.return),Uf(3,t)}catch(y){dt(t,t.return,y)}try{Rl(5,t,t.return)}catch(y){dt(t,t.return,y)}}break;case 1:or(e,t),Er(t),r&512&&n!==null&&Do(n,n.return);break;case 5:if(or(e,t),Er(t),r&512&&n!==null&&Do(n,n.return),t.flags&32){var i=t.stateNode;try{Wl(i,"")}catch(y){dt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&sC(i,s),og(a,o);var u=og(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?cC(i,f):c==="dangerouslySetInnerHTML"?lC(i,f):c==="children"?Wl(i,f):Hy(i,c,f,u)}switch(a){case"input":tg(i,s);break;case"textarea":oC(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?zo(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?zo(i,!!s.multiple,s.defaultValue,!0):zo(i,!!s.multiple,s.multiple?[]:"",!1))}i[tu]=s}catch(y){dt(t,t.return,y)}}break;case 6:if(or(e,t),Er(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){dt(t,t.return,y)}}break;case 3:if(or(e,t),Er(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yl(e.containerInfo)}catch(y){dt(t,t.return,y)}break;case 4:or(e,t),Er(t);break;case 13:or(e,t),Er(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Cv=ht())),r&4&&Fw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Xt=(u=Xt)||c,or(e,t),Xt=u):or(e,t),Er(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Q=t,c=t.child;c!==null;){for(f=Q=c;Q!==null;){switch(h=Q,p=h.child,h.tag){case 0:case 11:case 14:case 15:Rl(4,h,h.return);break;case 1:Do(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(y){dt(r,n,y)}}break;case 5:Do(h,h.return);break;case 22:if(h.memoizedState!==null){zw(f);continue}}p!==null?(p.return=h,Q=p):zw(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=uC("display",o))}catch(y){dt(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){dt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:or(e,t),Er(t),r&4&&Fw(t);break;case 21:break;default:or(e,t),Er(t)}}function Er(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jT(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wl(i,""),r.flags&=-33);var s=Uw(t);jg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Uw(t);Dg(t,a,o);break;default:throw Error(F(161))}}catch(l){dt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rN(t,e,n){Q=t,UT(t)}function UT(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Cc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Xt;a=Cc;var u=Xt;if(Cc=o,(Xt=l)&&!u)for(Q=i;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?Bw(i):l!==null?(l.return=o,Q=l):Bw(i);for(;s!==null;)Q=s,UT(s),s=s.sibling;Q=i,Cc=a,Xt=u}Vw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):Vw(t)}}function Vw(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xt||Uf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:lr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Tw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Tw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Yl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Xt||e.flags&512&&Og(e)}catch(h){dt(e,e.return,h)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function zw(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Bw(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Uf(4,e)}catch(l){dt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){dt(e,i,l)}}var s=e.return;try{Og(e)}catch(l){dt(e,s,l)}break;case 5:var o=e.return;try{Og(e)}catch(l){dt(e,o,l)}}}catch(l){dt(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var iN=Math.ceil,Md=vi.ReactCurrentDispatcher,Ev=vi.ReactCurrentOwner,Wn=vi.ReactCurrentBatchConfig,Le=0,Lt=null,_t=null,Vt=0,bn=0,jo=ls(0),xt=0,au=null,Hs=0,Ff=0,Sv=0,Al=null,wn=null,Cv=0,la=1/0,Hr=null,$d=!1,Mg=null,Hi=null,Tc=!1,Mi=null,Ud=0,Pl=0,$g=null,Qc=-1,Yc=0;function hn(){return Le&6?ht():Qc!==-1?Qc:Qc=ht()}function qi(t){return t.mode&1?Le&2&&Vt!==0?Vt&-Vt:VP.transition!==null?(Yc===0&&(Yc=SC()),Yc):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:RC(t.type)),t):1}function pr(t,e,n,r){if(50<Pl)throw Pl=0,$g=null,Error(F(185));Au(t,n,r),(!(Le&2)||t!==Lt)&&(t===Lt&&(!(Le&2)&&(Ff|=n),xt===4&&Ai(t,Vt)),Tn(t,r),n===1&&Le===0&&!(e.mode&1)&&(la=ht()+500,jf&&us()))}function Tn(t,e){var n=t.callbackNode;VA(t,e);var r=Sd(t,t===Lt?Vt:0);if(r===0)n!==null&&J0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&J0(n),e===1)t.tag===0?FP(Hw.bind(null,t)):GC(Hw.bind(null,t)),jP(function(){!(Le&6)&&us()}),n=null;else{switch(CC(r)){case 1:n=Qy;break;case 4:n=_C;break;case 16:n=Ed;break;case 536870912:n=EC;break;default:n=Ed}n=KT(n,FT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FT(t,e){if(Qc=-1,Yc=0,Le&6)throw Error(F(327));var n=t.callbackNode;if(Ko()&&t.callbackNode!==n)return null;var r=Sd(t,t===Lt?Vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fd(t,r);else{e=r;var i=Le;Le|=2;var s=zT();(Lt!==t||Vt!==e)&&(Hr=null,la=ht()+500,Ds(t,e));do try{aN();break}catch(a){VT(t,a)}while(1);lv(),Md.current=s,Le=i,_t!==null?e=0:(Lt=null,Vt=0,e=xt)}if(e!==0){if(e===2&&(i=dg(t),i!==0&&(r=i,e=Ug(t,i))),e===1)throw n=au,Ds(t,0),Ai(t,r),Tn(t,ht()),n;if(e===6)Ai(t,r);else{if(i=t.current.alternate,!(r&30)&&!sN(i)&&(e=Fd(t,r),e===2&&(s=dg(t),s!==0&&(r=s,e=Ug(t,s))),e===1))throw n=au,Ds(t,0),Ai(t,r),Tn(t,ht()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:_s(t,wn,Hr);break;case 3:if(Ai(t,r),(r&130023424)===r&&(e=Cv+500-ht(),10<e)){if(Sd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){hn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=wg(_s.bind(null,t,wn,Hr),e);break}_s(t,wn,Hr);break;case 4:if(Ai(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-hr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iN(r/1960))-r,10<r){t.timeoutHandle=wg(_s.bind(null,t,wn,Hr),r);break}_s(t,wn,Hr);break;case 5:_s(t,wn,Hr);break;default:throw Error(F(329))}}}return Tn(t,ht()),t.callbackNode===n?FT.bind(null,t):null}function Ug(t,e){var n=Al;return t.current.memoizedState.isDehydrated&&(Ds(t,e).flags|=256),t=Fd(t,e),t!==2&&(e=wn,wn=n,e!==null&&Fg(e)),t}function Fg(t){wn===null?wn=t:wn.push.apply(wn,t)}function sN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!yr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ai(t,e){for(e&=~Sv,e&=~Ff,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hr(e),r=1<<n;t[n]=-1,e&=~r}}function Hw(t){if(Le&6)throw Error(F(327));Ko();var e=Sd(t,0);if(!(e&1))return Tn(t,ht()),null;var n=Fd(t,e);if(t.tag!==0&&n===2){var r=dg(t);r!==0&&(e=r,n=Ug(t,r))}if(n===1)throw n=au,Ds(t,0),Ai(t,e),Tn(t,ht()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_s(t,wn,Hr),Tn(t,ht()),null}function Tv(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(la=ht()+500,jf&&us())}}function qs(t){Mi!==null&&Mi.tag===0&&!(Le&6)&&Ko();var e=Le;Le|=1;var n=Wn.transition,r=Ue;try{if(Wn.transition=null,Ue=1,t)return t()}finally{Ue=r,Wn.transition=n,Le=e,!(Le&6)&&us()}}function Iv(){bn=jo.current,Ye(jo)}function Ds(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,DP(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(sv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kd();break;case 3:oa(),Ye(Sn),Ye(sn),pv();break;case 5:hv(r);break;case 4:oa();break;case 13:Ye(st);break;case 19:Ye(st);break;case 10:uv(r.type._context);break;case 22:case 23:Iv()}n=n.return}if(Lt=t,_t=t=Wi(t.current,null),Vt=bn=e,xt=0,au=null,Sv=Ff=Hs=0,wn=Al=null,Is!==null){for(e=0;e<Is.length;e++)if(n=Is[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Is=null}return t}function VT(t,e){do{var n=_t;try{if(lv(),Wc.current=jd,Dd){for(var r=at.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Dd=!1}if(Bs=0,Nt=It=at=null,bl=!1,iu=0,Ev.current=null,n===null||n.return===null){xt=1,au=e,_t=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Pw(o);if(p!==null){p.flags&=-257,Nw(p,o,a,s,e),p.mode&1&&Aw(s,u,e),e=p,l=u;var w=e.updateQueue;if(w===null){var y=new Set;y.add(l),e.updateQueue=y}else w.add(l);break e}else{if(!(e&1)){Aw(s,u,e),xv();break e}l=Error(F(426))}}else if(nt&&a.mode&1){var v=Pw(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Nw(v,o,a,s,e),ov(aa(l,a));break e}}s=l=aa(l,a),xt!==4&&(xt=2),Al===null?Al=[s]:Al.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=TT(s,l,e);Cw(s,g);break e;case 1:a=l;var m=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Hi===null||!Hi.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=IT(s,a,e);Cw(s,E);break e}}s=s.return}while(s!==null)}HT(n)}catch(S){e=S,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(1)}function zT(){var t=Md.current;return Md.current=jd,t===null?jd:t}function xv(){(xt===0||xt===3||xt===2)&&(xt=4),Lt===null||!(Hs&268435455)&&!(Ff&268435455)||Ai(Lt,Vt)}function Fd(t,e){var n=Le;Le|=2;var r=zT();(Lt!==t||Vt!==e)&&(Hr=null,Ds(t,e));do try{oN();break}catch(i){VT(t,i)}while(1);if(lv(),Le=n,Md.current=r,_t!==null)throw Error(F(261));return Lt=null,Vt=0,xt}function oN(){for(;_t!==null;)BT(_t)}function aN(){for(;_t!==null&&!NA();)BT(_t)}function BT(t){var e=WT(t.alternate,t,bn);t.memoizedProps=t.pendingProps,e===null?HT(t):_t=e,Ev.current=null}function HT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=eN(n,e),n!==null){n.flags&=32767,_t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xt=6,_t=null;return}}else if(n=ZP(n,e,bn),n!==null){_t=n;return}if(e=e.sibling,e!==null){_t=e;return}_t=e=t}while(e!==null);xt===0&&(xt=5)}function _s(t,e,n){var r=Ue,i=Wn.transition;try{Wn.transition=null,Ue=1,lN(t,e,n,r)}finally{Wn.transition=i,Ue=r}return null}function lN(t,e,n,r){do Ko();while(Mi!==null);if(Le&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(zA(t,s),t===Lt&&(_t=Lt=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tc||(Tc=!0,KT(Ed,function(){return Ko(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Wn.transition,Wn.transition=null;var o=Ue;Ue=1;var a=Le;Le|=4,Ev.current=null,nN(t,n),$T(n,t),bP(yg),Cd=!!gg,yg=gg=null,t.current=n,rN(n),LA(),Le=a,Ue=o,Wn.transition=s}else t.current=n;if(Tc&&(Tc=!1,Mi=t,Ud=i),s=t.pendingLanes,s===0&&(Hi=null),jA(n.stateNode),Tn(t,ht()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($d)throw $d=!1,t=Mg,Mg=null,t;return Ud&1&&t.tag!==0&&Ko(),s=t.pendingLanes,s&1?t===$g?Pl++:(Pl=0,$g=t):Pl=0,us(),null}function Ko(){if(Mi!==null){var t=CC(Ud),e=Wn.transition,n=Ue;try{if(Wn.transition=null,Ue=16>t?16:t,Mi===null)var r=!1;else{if(t=Mi,Mi=null,Ud=0,Le&6)throw Error(F(331));var i=Le;for(Le|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var c=Q;switch(c.tag){case 0:case 11:case 15:Rl(8,c,s)}var f=c.child;if(f!==null)f.return=c,Q=f;else for(;Q!==null;){c=Q;var h=c.sibling,p=c.return;if(DT(c),c===u){Q=null;break}if(h!==null){h.return=p,Q=h;break}Q=p}}}var w=s.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Rl(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Q=g;break e}Q=s.return}}var m=t.current;for(Q=m;Q!==null;){o=Q;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Q=_;else e:for(o=m;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Uf(9,a)}}catch(S){dt(a,a.return,S)}if(a===o){Q=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Q=E;break e}Q=a.return}}if(Le=i,us(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(Pf,t)}catch{}r=!0}return r}finally{Ue=n,Wn.transition=e}}return!1}function qw(t,e,n){e=aa(n,e),e=TT(t,e,1),t=Bi(t,e,1),e=hn(),t!==null&&(Au(t,1,e),Tn(t,e))}function dt(t,e,n){if(t.tag===3)qw(t,t,n);else for(;e!==null;){if(e.tag===3){qw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hi===null||!Hi.has(r))){t=aa(n,t),t=IT(e,t,1),e=Bi(e,t,1),t=hn(),e!==null&&(Au(e,1,t),Tn(e,t));break}}e=e.return}}function uN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hn(),t.pingedLanes|=t.suspendedLanes&n,Lt===t&&(Vt&n)===n&&(xt===4||xt===3&&(Vt&130023424)===Vt&&500>ht()-Cv?Ds(t,0):Sv|=n),Tn(t,e)}function qT(t,e){e===0&&(t.mode&1?(e=pc,pc<<=1,!(pc&130023424)&&(pc=4194304)):e=1);var n=hn();t=ui(t,e),t!==null&&(Au(t,e,n),Tn(t,n))}function cN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qT(t,n)}function dN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),qT(t,n)}var WT;WT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Sn.current)En=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return En=!1,JP(t,e,n);En=!!(t.flags&131072)}else En=!1,nt&&e.flags&1048576&&QC(e,Ad,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gc(t,e),t=e.pendingProps;var i=ra(e,sn.current);Wo(e,n),i=gv(null,e,r,t,i,n);var s=yv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cn(r)?(s=!0,bd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dv(e),i.updater=Mf,e.stateNode=i,i._reactInternals=e,xg(e,r,t,n),e=Rg(null,e,r,!0,s,n)):(e.tag=0,nt&&s&&iv(e),cn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=hN(r),t=lr(r,t),i){case 0:e=bg(null,e,r,t,n);break e;case 1:e=Dw(null,e,r,t,n);break e;case 11:e=Lw(null,e,r,t,n);break e;case 14:e=Ow(null,e,r,lr(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),bg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),Dw(t,e,r,i,n);case 3:e:{if(RT(e),t===null)throw Error(F(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ZC(t,e),Ld(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=aa(Error(F(423)),e),e=jw(t,e,r,n,i);break e}else if(r!==i){i=aa(Error(F(424)),e),e=jw(t,e,r,n,i);break e}else for(Rn=zi(e.stateNode.containerInfo.firstChild),Nn=e,nt=!0,cr=null,n=rT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ia(),r===i){e=ci(t,e,n);break e}cn(t,e,r,n)}e=e.child}return e;case 5:return iT(e),t===null&&Cg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,vg(r,i)?o=null:s!==null&&vg(r,s)&&(e.flags|=32),bT(t,e),cn(t,e,o,n),e.child;case 6:return t===null&&Cg(e),null;case 13:return AT(t,e,n);case 4:return fv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=sa(e,null,r,n):cn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),Lw(t,e,r,i,n);case 7:return cn(t,e,e.pendingProps,n),e.child;case 8:return cn(t,e,e.pendingProps.children,n),e.child;case 12:return cn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,qe(Pd,r._currentValue),r._currentValue=o,s!==null)if(yr(s.value,o)){if(s.children===i.children&&!Sn.current){e=ci(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ni(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Tg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(F(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Tg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}cn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Wo(e,n),i=Gn(i),r=r(i),e.flags|=1,cn(t,e,r,n),e.child;case 14:return r=e.type,i=lr(r,e.pendingProps),i=lr(r.type,i),Ow(t,e,r,i,n);case 15:return xT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),Gc(t,e),e.tag=1,Cn(r)?(t=!0,bd(e)):t=!1,Wo(e,n),tT(e,r,i),xg(e,r,i,n),Rg(null,e,r,!0,t,n);case 19:return PT(t,e,n);case 22:return kT(t,e,n)}throw Error(F(156,e.tag))};function KT(t,e){return wC(t,e)}function fN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,e,n,r){return new fN(t,e,n,r)}function kv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hN(t){if(typeof t=="function")return kv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wy)return 11;if(t===Ky)return 14}return 2}function Wi(t,e){var n=t.alternate;return n===null?(n=qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")kv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case xo:return js(n.children,i,s,e);case qy:o=8,i|=8;break;case Ym:return t=qn(12,n,e,i|2),t.elementType=Ym,t.lanes=s,t;case Xm:return t=qn(13,n,e,i),t.elementType=Xm,t.lanes=s,t;case Jm:return t=qn(19,n,e,i),t.elementType=Jm,t.lanes=s,t;case nC:return Vf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eC:o=10;break e;case tC:o=9;break e;case Wy:o=11;break e;case Ky:o=14;break e;case ki:o=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=qn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function js(t,e,n,r){return t=qn(7,t,r,e),t.lanes=n,t}function Vf(t,e,n,r){return t=qn(22,t,r,e),t.elementType=nC,t.lanes=n,t.stateNode={isHidden:!1},t}function Up(t,e,n){return t=qn(6,t,null,e),t.lanes=n,t}function Fp(t,e,n){return e=qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_p(0),this.expirationTimes=_p(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_p(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bv(t,e,n,r,i,s,o,a,l){return t=new pN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=qn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dv(s),t}function mN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Io,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function GT(t){if(!t)return es;t=t._reactInternals;e:{if(ro(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(Cn(n))return KC(t,n,e)}return e}function QT(t,e,n,r,i,s,o,a,l){return t=bv(n,r,!0,t,i,s,o,a,l),t.context=GT(null),n=t.current,r=hn(),i=qi(n),s=ni(r,i),s.callback=e??null,Bi(n,s,i),t.current.lanes=i,Au(t,i,r),Tn(t,r),t}function zf(t,e,n,r){var i=e.current,s=hn(),o=qi(i);return n=GT(n),e.context===null?e.context=n:e.pendingContext=n,e=ni(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bi(i,e,o),t!==null&&(pr(t,i,o,s),qc(t,i,o)),o}function Vd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ww(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Rv(t,e){Ww(t,e),(t=t.alternate)&&Ww(t,e)}function gN(){return null}var YT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Av(t){this._internalRoot=t}Bf.prototype.render=Av.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));zf(t,e,null,null)};Bf.prototype.unmount=Av.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qs(function(){zf(null,t,null,null)}),e[li]=null}};function Bf(t){this._internalRoot=t}Bf.prototype.unstable_scheduleHydration=function(t){if(t){var e=xC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ri.length&&e!==0&&e<Ri[n].priority;n++);Ri.splice(n,0,t),n===0&&bC(t)}};function Pv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Kw(){}function yN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Vd(o);s.call(u)}}var o=QT(e,r,t,0,null,!1,!1,"",Kw);return t._reactRootContainer=o,t[li]=o.current,Zl(t.nodeType===8?t.parentNode:t),qs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Vd(l);a.call(u)}}var l=bv(t,0,!1,null,null,!1,!1,"",Kw);return t._reactRootContainer=l,t[li]=l.current,Zl(t.nodeType===8?t.parentNode:t),qs(function(){zf(e,l,n,r)}),l}function qf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Vd(o);a.call(l)}}zf(e,o,t,i)}else o=yN(n,e,t,i,r);return Vd(o)}TC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hl(e.pendingLanes);n!==0&&(Yy(e,n|1),Tn(e,ht()),!(Le&6)&&(la=ht()+500,us()))}break;case 13:qs(function(){var r=ui(t,1);if(r!==null){var i=hn();pr(r,t,1,i)}}),Rv(t,1)}};Xy=function(t){if(t.tag===13){var e=ui(t,134217728);if(e!==null){var n=hn();pr(e,t,134217728,n)}Rv(t,134217728)}};IC=function(t){if(t.tag===13){var e=qi(t),n=ui(t,e);if(n!==null){var r=hn();pr(n,t,e,r)}Rv(t,e)}};xC=function(){return Ue};kC=function(t,e){var n=Ue;try{return Ue=t,e()}finally{Ue=n}};lg=function(t,e,n){switch(e){case"input":if(tg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Df(r);if(!i)throw Error(F(90));iC(r),tg(r,i)}}}break;case"textarea":oC(t,n);break;case"select":e=n.value,e!=null&&zo(t,!!n.multiple,e,!1)}};hC=Tv;pC=qs;var vN={usingClientEntryPoint:!1,Events:[Nu,Ao,Df,dC,fC,Tv]},Za={findFiberByHostInstance:Ts,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},wN={bundleType:Za.bundleType,version:Za.version,rendererPackageName:Za.rendererPackageName,rendererConfig:Za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yC(t),t===null?null:t.stateNode},findFiberByHostInstance:Za.findFiberByHostInstance||gN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{Pf=Ic.inject(wN),Ar=Ic}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vN;$n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pv(e))throw Error(F(200));return mN(t,e,null,n)};$n.createRoot=function(t,e){if(!Pv(t))throw Error(F(299));var n=!1,r="",i=YT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=bv(t,1,!1,null,null,n,!1,r,i),t[li]=e.current,Zl(t.nodeType===8?t.parentNode:t),new Av(e)};$n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=yC(e),t=t===null?null:t.stateNode,t};$n.flushSync=function(t){return qs(t)};$n.hydrate=function(t,e,n){if(!Hf(e))throw Error(F(200));return qf(null,t,e,!0,n)};$n.hydrateRoot=function(t,e,n){if(!Pv(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=YT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=QT(e,null,t,1,n??null,i,!1,s,o),t[li]=e.current,Zl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Bf(e)};$n.render=function(t,e,n){if(!Hf(e))throw Error(F(200));return qf(null,t,e,!1,n)};$n.unmountComponentAtNode=function(t){if(!Hf(t))throw Error(F(40));return t._reactRootContainer?(qs(function(){qf(null,null,t,!1,function(){t._reactRootContainer=null,t[li]=null})}),!0):!1};$n.unstable_batchedUpdates=Tv;$n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hf(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return qf(t,e,n,!1,r)};$n.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=$n})(gA);const _N=zS(Hl);var XT,Gw=Hl;XT=Gw.createRoot,Gw.hydrateRoot;var Vg={},EN={get exports(){return Vg},set exports(t){Vg=t}},JT={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ua=T;function SN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var CN=typeof Object.is=="function"?Object.is:SN,TN=ua.useState,IN=ua.useEffect,xN=ua.useLayoutEffect,kN=ua.useDebugValue;function bN(t,e){var n=e(),r=TN({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return xN(function(){i.value=n,i.getSnapshot=e,Vp(i)&&s({inst:i})},[t,n,e]),IN(function(){return Vp(i)&&s({inst:i}),t(function(){Vp(i)&&s({inst:i})})},[t]),kN(n),n}function Vp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!CN(t,n)}catch{return!0}}function RN(t,e){return e()}var AN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?RN:bN;JT.useSyncExternalStore=ua.useSyncExternalStore!==void 0?ua.useSyncExternalStore:AN;(function(t){t.exports=JT})(EN);var zg={},PN={get exports(){return zg},set exports(t){zg=t}},ZT={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf=T,NN=Vg;function LN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ON=typeof Object.is=="function"?Object.is:LN,DN=NN.useSyncExternalStore,jN=Wf.useRef,MN=Wf.useEffect,$N=Wf.useMemo,UN=Wf.useDebugValue;ZT.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=jN(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=$N(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var w=o.value;if(i(w,p))return f=w}return f=p}if(w=f,ON(c,p))return w;var y=r(p);return i!==void 0&&i(w,y)?w:(c=p,f=y)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=DN(t,s[0],s[1]);return MN(function(){o.hasValue=!0,o.value=a},[a]),UN(a),a};(function(t){t.exports=ZT})(PN);function FN(t){t()}let eI=FN;const VN=t=>eI=t,zN=()=>eI,ts=T.createContext(null);function tI(){return T.useContext(ts)}const BN=()=>{throw new Error("uSES not initialized!")};let nI=BN;const HN=t=>{nI=t},qN=(t,e)=>t===e;function WN(t=ts){const e=t===ts?tI:()=>T.useContext(t);return function(r,i=qN){const{store:s,subscription:o,getServerState:a}=e(),l=nI(o.addNestedSub,s.getState,a||s.getState,r,i);return T.useDebugValue(l),l}}const KN=WN();var Bg={},GN={get exports(){return Bg},set exports(t){Bg=t}},Fe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dt=typeof Symbol=="function"&&Symbol.for,Nv=Dt?Symbol.for("react.element"):60103,Lv=Dt?Symbol.for("react.portal"):60106,Kf=Dt?Symbol.for("react.fragment"):60107,Gf=Dt?Symbol.for("react.strict_mode"):60108,Qf=Dt?Symbol.for("react.profiler"):60114,Yf=Dt?Symbol.for("react.provider"):60109,Xf=Dt?Symbol.for("react.context"):60110,Ov=Dt?Symbol.for("react.async_mode"):60111,Jf=Dt?Symbol.for("react.concurrent_mode"):60111,Zf=Dt?Symbol.for("react.forward_ref"):60112,eh=Dt?Symbol.for("react.suspense"):60113,QN=Dt?Symbol.for("react.suspense_list"):60120,th=Dt?Symbol.for("react.memo"):60115,nh=Dt?Symbol.for("react.lazy"):60116,YN=Dt?Symbol.for("react.block"):60121,XN=Dt?Symbol.for("react.fundamental"):60117,JN=Dt?Symbol.for("react.responder"):60118,ZN=Dt?Symbol.for("react.scope"):60119;function Fn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Nv:switch(t=t.type,t){case Ov:case Jf:case Kf:case Qf:case Gf:case eh:return t;default:switch(t=t&&t.$$typeof,t){case Xf:case Zf:case nh:case th:case Yf:return t;default:return e}}case Lv:return e}}}function rI(t){return Fn(t)===Jf}Fe.AsyncMode=Ov;Fe.ConcurrentMode=Jf;Fe.ContextConsumer=Xf;Fe.ContextProvider=Yf;Fe.Element=Nv;Fe.ForwardRef=Zf;Fe.Fragment=Kf;Fe.Lazy=nh;Fe.Memo=th;Fe.Portal=Lv;Fe.Profiler=Qf;Fe.StrictMode=Gf;Fe.Suspense=eh;Fe.isAsyncMode=function(t){return rI(t)||Fn(t)===Ov};Fe.isConcurrentMode=rI;Fe.isContextConsumer=function(t){return Fn(t)===Xf};Fe.isContextProvider=function(t){return Fn(t)===Yf};Fe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nv};Fe.isForwardRef=function(t){return Fn(t)===Zf};Fe.isFragment=function(t){return Fn(t)===Kf};Fe.isLazy=function(t){return Fn(t)===nh};Fe.isMemo=function(t){return Fn(t)===th};Fe.isPortal=function(t){return Fn(t)===Lv};Fe.isProfiler=function(t){return Fn(t)===Qf};Fe.isStrictMode=function(t){return Fn(t)===Gf};Fe.isSuspense=function(t){return Fn(t)===eh};Fe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Kf||t===Jf||t===Qf||t===Gf||t===eh||t===QN||typeof t=="object"&&t!==null&&(t.$$typeof===nh||t.$$typeof===th||t.$$typeof===Yf||t.$$typeof===Xf||t.$$typeof===Zf||t.$$typeof===XN||t.$$typeof===JN||t.$$typeof===ZN||t.$$typeof===YN)};Fe.typeOf=Fn;(function(t){t.exports=Fe})(GN);var iI=Bg,eL={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},tL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},sI={};sI[iI.ForwardRef]=eL;sI[iI.Memo]=tL;var Qw={},nL={get exports(){return Qw},set exports(t){Qw=t}},Ve={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv=Symbol.for("react.element"),jv=Symbol.for("react.portal"),rh=Symbol.for("react.fragment"),ih=Symbol.for("react.strict_mode"),sh=Symbol.for("react.profiler"),oh=Symbol.for("react.provider"),ah=Symbol.for("react.context"),rL=Symbol.for("react.server_context"),lh=Symbol.for("react.forward_ref"),uh=Symbol.for("react.suspense"),ch=Symbol.for("react.suspense_list"),dh=Symbol.for("react.memo"),fh=Symbol.for("react.lazy"),iL=Symbol.for("react.offscreen"),oI;oI=Symbol.for("react.module.reference");function Jn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Dv:switch(t=t.type,t){case rh:case sh:case ih:case uh:case ch:return t;default:switch(t=t&&t.$$typeof,t){case rL:case ah:case lh:case fh:case dh:case oh:return t;default:return e}}case jv:return e}}}Ve.ContextConsumer=ah;Ve.ContextProvider=oh;Ve.Element=Dv;Ve.ForwardRef=lh;Ve.Fragment=rh;Ve.Lazy=fh;Ve.Memo=dh;Ve.Portal=jv;Ve.Profiler=sh;Ve.StrictMode=ih;Ve.Suspense=uh;Ve.SuspenseList=ch;Ve.isAsyncMode=function(){return!1};Ve.isConcurrentMode=function(){return!1};Ve.isContextConsumer=function(t){return Jn(t)===ah};Ve.isContextProvider=function(t){return Jn(t)===oh};Ve.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dv};Ve.isForwardRef=function(t){return Jn(t)===lh};Ve.isFragment=function(t){return Jn(t)===rh};Ve.isLazy=function(t){return Jn(t)===fh};Ve.isMemo=function(t){return Jn(t)===dh};Ve.isPortal=function(t){return Jn(t)===jv};Ve.isProfiler=function(t){return Jn(t)===sh};Ve.isStrictMode=function(t){return Jn(t)===ih};Ve.isSuspense=function(t){return Jn(t)===uh};Ve.isSuspenseList=function(t){return Jn(t)===ch};Ve.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===rh||t===sh||t===ih||t===uh||t===ch||t===iL||typeof t=="object"&&t!==null&&(t.$$typeof===fh||t.$$typeof===dh||t.$$typeof===oh||t.$$typeof===ah||t.$$typeof===lh||t.$$typeof===oI||t.getModuleId!==void 0)};Ve.typeOf=Jn;(function(t){t.exports=Ve})(nL);function sL(){const t=zN();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const Yw={notify(){},get:()=>[]};function oL(t,e){let n,r=Yw;function i(f){return l(),r.subscribe(f)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=sL())}function u(){n&&(n(),n=void 0,r.clear(),r=Yw)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const aL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lL=aL?T.useLayoutEffect:T.useEffect;function uL({store:t,context:e,children:n,serverState:r}){const i=T.useMemo(()=>{const a=oL(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),s=T.useMemo(()=>t.getState(),[t]);lL(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=e||ts;return Qr.createElement(o.Provider,{value:i},n)}function aI(t=ts){const e=t===ts?tI:()=>T.useContext(t);return function(){const{store:r}=e();return r}}const cL=aI();function dL(t=ts){const e=t===ts?cL:aI(t);return function(){return e().dispatch}}const fL=dL();HN(zg.useSyncExternalStoreWithSelector);VN(Hl.unstable_batchedUpdates);function Jc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jc=function(n){return typeof n}:Jc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Jc(t)}function hL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pL(t,e,n){return e&&Xw(t.prototype,e),n&&Xw(t,n),t}function mL(t,e){return e&&(Jc(e)==="object"||typeof e=="function")?e:Zc(t)}function Hg(t){return Hg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Hg(t)}function Zc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qg(t,e)}function qg(t,e){return qg=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},qg(t,e)}function ed(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lI=function(t){gL(e,t);function e(){var n,r;hL(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=mL(this,(n=Hg(e)).call.apply(n,[this].concat(s))),ed(Zc(r),"state",{bootstrapped:!1}),ed(Zc(r),"_unsubscribe",void 0),ed(Zc(r),"handlePersistorState",function(){var a=r.props.persistor,l=a.getState(),u=l.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return pL(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(T.PureComponent);ed(lI,"defaultProps",{children:null,loading:null});/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pe(){return Pe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pe.apply(this,arguments)}var yt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(yt||(yt={}));const Jw="popstate";function yL(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return lu("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:di(i)}return wL(e,n,null,t)}function Ee(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ca(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vL(){return Math.random().toString(36).substr(2,8)}function Zw(t,e){return{usr:t.state,key:t.key,idx:e}}function lu(t,e,n,r){return n===void 0&&(n=null),Pe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?wi(e):e,{state:n,key:e&&e.key||r||vL()})}function di(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function wi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function wL(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=yt.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Pe({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=yt.Pop;let v=c(),g=v==null?null:v-u;u=v,l&&l({action:a,location:y.location,delta:g})}function h(v,g){a=yt.Push;let m=lu(y.location,v,g);n&&n(m,v),u=c()+1;let _=Zw(m,u),E=y.createHref(m);try{o.pushState(_,"",E)}catch{i.location.assign(E)}s&&l&&l({action:a,location:y.location,delta:1})}function p(v,g){a=yt.Replace;let m=lu(y.location,v,g);n&&n(m,v),u=c();let _=Zw(m,u),E=y.createHref(m);o.replaceState(_,"",E),s&&l&&l({action:a,location:y.location,delta:0})}function w(v){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof v=="string"?v:di(v);return Ee(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let y={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Jw,f),l=v,()=>{i.removeEventListener(Jw,f),l=null}},createHref(v){return e(i,v)},createURL:w,encodeLocation(v){let g=w(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(v){return o.go(v)}};return y}var Tt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Tt||(Tt={}));const _L=new Set(["lazy","caseSensitive","path","id","index","children"]);function EL(t){return t.index===!0}function uI(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(Ee(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ee(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),EL(i)){let l=Pe({},i,{hasErrorBoundary:e(i),id:a});return r[a]=l,l}else{let l=Pe({},i,{id:a,hasErrorBoundary:e(i),children:void 0});return r[a]=l,i.children&&(l.children=uI(i.children,e,o,r)),l}})}function Mo(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?wi(e):e,i=Ou(r.pathname||"/",n);if(i==null)return null;let s=cI(t);SL(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=PL(s[a],LL(i));return o}function cI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ee(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ri([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Ee(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),cI(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:RL(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of dI(s.path))i(s,o,l)}),e}function dI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=dI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function SL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const CL=/^:\w+$/,TL=3,IL=2,xL=1,kL=10,bL=-2,e_=t=>t==="*";function RL(t,e){let n=t.split("/"),r=n.length;return n.some(e_)&&(r+=bL),e&&(r+=IL),n.filter(i=>!e_(i)).reduce((i,s)=>i+(CL.test(s)?TL:s===""?xL:kL),r)}function AL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function PL(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=ml({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:ri([i,c.pathname]),pathnameBase:ML(ri([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=ri([i,c.pathnameBase]))}return s}function ml(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=NL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{if(c==="*"){let h=a[f]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=OL(a[f]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function NL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ca(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function LL(t){try{return decodeURI(t)}catch(e){return ca(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function OL(t,e){try{return decodeURIComponent(t)}catch(n){return ca(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Ou(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function DL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?wi(t):t;return{pathname:n?n.startsWith("/")?n:jL(n,e):e,search:$L(r),hash:UL(i)}}function jL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hh(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Mv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=wi(t):(i=Pe({},t),Ee(!i.pathname||!i.pathname.includes("?"),zp("?","pathname","search",i)),Ee(!i.pathname||!i.pathname.includes("#"),zp("#","pathname","hash",i)),Ee(!i.search||!i.search.includes("#"),zp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let f=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=DL(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ri=t=>t.join("/").replace(/\/\/+/g,"/"),ML=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$L=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class $v{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function $o(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const fI=["post","put","patch","delete"],FL=new Set(fI),VL=["get",...fI],zL=new Set(VL),BL=new Set([301,302,303,307,308]),HL=new Set([307,308]),Bp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},qL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},t_={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},hI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WL=!pI,KL=t=>!!t.hasErrorBoundary;function GL(t){Ee(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=t.detectErrorBoundary||KL,n={},r=uI(t.routes,e,void 0,n),i,s=Pe({v7_normalizeFormMethod:!1},t.future),o=null,a=new Set,l=null,u=null,c=null,f=t.hydrationData!=null,h=Mo(r,t.history.location,t.basename),p=null;if(h==null){let N=Tr(404,{pathname:t.history.location.pathname}),{matches:L,route:M}=l_(r);h=L,p={[M.id]:N}}let w=!h.some(N=>N.route.lazy)&&(!h.some(N=>N.route.loader)||t.hydrationData!=null),y,v={historyAction:t.history.action,location:t.history.location,matches:h,initialized:w,navigation:Bp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||p,fetchers:new Map,blockers:new Map},g=yt.Pop,m=!1,_,E=!1,S=!1,I=[],x=[],P=new Map,R=0,O=-1,W=new Map,$=new Set,U=new Map,le=new Map,Se=new Map,je=!1;function pt(){return o=t.history.listen(N=>{let{action:L,location:M,delta:Z}=N;if(je){je=!1;return}ca(Se.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let re=Te({currentLocation:v.location,nextLocation:M,historyAction:L});if(re&&Z!=null){je=!0,t.history.go(Z*-1),K(re,{state:"blocked",location:M,proceed(){K(re,{state:"proceeding",proceed:void 0,reset:void 0,location:M}),t.history.go(Z)},reset(){b(re),Y({blockers:new Map(y.state.blockers)})}});return}return Ke(L,M)}),v.initialized||Ke(yt.Pop,v.location),y}function q(){o&&o(),a.clear(),_&&_.abort(),v.fetchers.forEach((N,L)=>Ce(L)),v.blockers.forEach((N,L)=>b(L))}function oe(N){return a.add(N),()=>a.delete(N)}function Y(N){v=Pe({},v,N),a.forEach(L=>L(v))}function ke(N,L){var M,Z;let re=v.actionData!=null&&v.navigation.formMethod!=null&&qr(v.navigation.formMethod)&&v.navigation.state==="loading"&&((M=N.state)==null?void 0:M._isRedirect)!==!0,de;L.actionData?Object.keys(L.actionData).length>0?de=L.actionData:de=null:re?de=v.actionData:de=null;let fe=L.loaderData?a_(v.loaderData,L.loaderData,L.matches||[],L.errors):v.loaderData;for(let[ue]of Se)b(ue);let ge=m===!0||v.navigation.formMethod!=null&&qr(v.navigation.formMethod)&&((Z=N.state)==null?void 0:Z._isRedirect)!==!0;i&&(r=i,i=void 0),Y(Pe({},L,{actionData:de,loaderData:fe,historyAction:g,location:N,initialized:!0,navigation:Bp,revalidation:"idle",restoreScrollPosition:go(N,L.matches||v.matches),preventScrollReset:ge,blockers:new Map(v.blockers)})),E||g===yt.Pop||(g===yt.Push?t.history.push(N,N.state):g===yt.Replace&&t.history.replace(N,N.state)),g=yt.Pop,m=!1,E=!1,S=!1,I=[],x=[]}async function ze(N,L){if(typeof N=="number"){t.history.go(N);return}let{path:M,submission:Z,error:re}=n_(N,s,L),de=v.location,fe=lu(v.location,M,L&&L.state);fe=Pe({},fe,t.history.encodeLocation(fe));let ge=L&&L.replace!=null?L.replace:void 0,ue=yt.Push;ge===!0?ue=yt.Replace:ge===!1||Z!=null&&qr(Z.formMethod)&&Z.formAction===v.location.pathname+v.location.search&&(ue=yt.Replace);let He=L&&"preventScrollReset"in L?L.preventScrollReset===!0:void 0,De=Te({currentLocation:de,nextLocation:fe,historyAction:ue});if(De){K(De,{state:"blocked",location:fe,proceed(){K(De,{state:"proceeding",proceed:void 0,reset:void 0,location:fe}),ze(N,L)},reset(){b(De),Y({blockers:new Map(v.blockers)})}});return}return await Ke(ue,fe,{submission:Z,pendingError:re,preventScrollReset:He,replace:L&&L.replace})}function Vn(){if(_e(),Y({revalidation:"loading"}),v.navigation.state!=="submitting"){if(v.navigation.state==="idle"){Ke(v.historyAction,v.location,{startUninterruptedRevalidation:!0});return}Ke(g||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation})}}async function Ke(N,L,M){_&&_.abort(),_=null,g=N,E=(M&&M.startUninterruptedRevalidation)===!0,up(v.location,v.matches),m=(M&&M.preventScrollReset)===!0;let Z=i||r,re=M&&M.overrideNavigation,de=Mo(Z,L,t.basename);if(!de){let At=Tr(404,{pathname:L.pathname}),{matches:jt,route:ir}=l_(Z);Be(),ke(L,{matches:jt,loaderData:{},errors:{[ir.id]:At}});return}if(ZL(v.location,L)&&!(M&&M.submission&&qr(M.submission.formMethod))){ke(L,{matches:de});return}_=new AbortController;let fe=tl(t.history,L,_.signal,M&&M.submission),ge,ue;if(M&&M.pendingError)ue={[Uo(de).route.id]:M.pendingError};else if(M&&M.submission&&qr(M.submission.formMethod)){let At=await nr(fe,L,M.submission,de,{replace:M.replace});if(At.shortCircuited)return;ge=At.pendingActionData,ue=At.pendingActionError,re=Pe({state:"loading",location:L},M.submission),fe=new Request(fe.url,{signal:fe.signal})}let{shortCircuited:He,loaderData:De,errors:rr}=await Ze(fe,L,de,re,M&&M.submission,M&&M.fetcherSubmission,M&&M.replace,ge,ue);He||(_=null,ke(L,Pe({matches:de},ge?{actionData:ge}:{},{loaderData:De,errors:rr})))}async function nr(N,L,M,Z,re){_e();let de=Pe({state:"submitting",location:L},M);Y({navigation:de});let fe,ge=Wg(Z,L);if(!ge.route.action&&!ge.route.lazy)fe={type:Tt.error,error:Tr(405,{method:N.method,pathname:L.pathname,routeId:ge.route.id})};else if(fe=await el("action",N,ge,Z,n,e,y.basename),N.signal.aborted)return{shortCircuited:!0};if(Go(fe)){let ue;return re&&re.replace!=null?ue=re.replace:ue=fe.location===v.location.pathname+v.location.search,await G(v,fe,{submission:M,replace:ue}),{shortCircuited:!0}}if(Nl(fe)){let ue=Uo(Z,ge.route.id);return(re&&re.replace)!==!0&&(g=yt.Push),{pendingActionData:{},pendingActionError:{[ue.route.id]:fe.error}}}if(ks(fe))throw Tr(400,{type:"defer-action"});return{pendingActionData:{[ge.route.id]:fe.data}}}async function Ze(N,L,M,Z,re,de,fe,ge,ue){let He=Z;He||(He=Pe({state:"loading",location:L,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},re));let De=re||de?re||de:He.formMethod&&He.formAction&&He.formData&&He.formEncType?{formMethod:He.formMethod,formAction:He.formAction,formData:He.formData,formEncType:He.formEncType}:void 0,rr=i||r,[At,jt]=r_(t.history,v,M,De,L,S,I,x,U,rr,t.basename,ge,ue);if(Be(qt=>!(M&&M.some(sr=>sr.route.id===qt))||At&&At.some(sr=>sr.route.id===qt)),At.length===0&&jt.length===0)return ke(L,Pe({matches:M,loaderData:{},errors:ue||null},ge?{actionData:ge}:{})),{shortCircuited:!0};if(!E){jt.forEach(sr=>{let gs=v.fetchers.get(sr.key),qa={state:"loading",data:gs&&gs.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(sr.key,qa)});let qt=ge||v.actionData;Y(Pe({navigation:He},qt?Object.keys(qt).length===0?{actionData:null}:{actionData:qt}:{},jt.length>0?{fetchers:new Map(v.fetchers)}:{}))}O=++R,jt.forEach(qt=>P.set(qt.key,_));let{results:ir,loaderResults:Ba,fetcherResults:cp}=await we(v.matches,M,At,jt,N);if(N.signal.aborted)return{shortCircuited:!0};jt.forEach(qt=>P.delete(qt.key));let Ha=u_(ir);if(Ha)return await G(v,Ha,{replace:fe}),{shortCircuited:!0};let{loaderData:yo,errors:dp}=o_(v,M,At,Ba,ue,jt,cp,le);le.forEach((qt,sr)=>{qt.subscribe(gs=>{(gs||qt.done)&&le.delete(sr)})}),A();let fp=V(O);return Pe({loaderData:yo,errors:dp},fp||jt.length>0?{fetchers:new Map(v.fetchers)}:{})}function mt(N){return v.fetchers.get(N)||qL}function Ei(N,L,M,Z){if(WL)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");P.has(N)&&C(N);let de=Mo(i||r,M,t.basename);if(!de){pe(N,L,Tr(404,{pathname:M}));return}let{path:fe,submission:ge}=n_(M,s,Z,!0),ue=Wg(de,fe);if(m=(Z&&Z.preventScrollReset)===!0,ge&&qr(ge.formMethod)){Si(N,L,fe,ue,de,ge);return}U.set(N,{routeId:L,path:fe}),B(N,L,fe,ue,de,ge)}async function Si(N,L,M,Z,re,de){if(_e(),U.delete(N),!Z.route.action&&!Z.route.lazy){let Ur=Tr(405,{method:de.formMethod,pathname:M,routeId:L});pe(N,L,Ur);return}let fe=v.fetchers.get(N),ge=Pe({state:"submitting"},de,{data:fe&&fe.data," _hasFetcherDoneAnything ":!0});v.fetchers.set(N,ge),Y({fetchers:new Map(v.fetchers)});let ue=new AbortController,He=tl(t.history,M,ue.signal,de);P.set(N,ue);let De=await el("action",He,Z,re,n,e,y.basename);if(He.signal.aborted){P.get(N)===ue&&P.delete(N);return}if(Go(De)){P.delete(N),$.add(N);let Ur=Pe({state:"loading"},de,{data:void 0," _hasFetcherDoneAnything ":!0});return v.fetchers.set(N,Ur),Y({fetchers:new Map(v.fetchers)}),G(v,De,{submission:de,isFetchActionRedirect:!0})}if(Nl(De)){pe(N,L,De.error);return}if(ks(De))throw Tr(400,{type:"defer-action"});let rr=v.navigation.location||v.location,At=tl(t.history,rr,ue.signal),jt=i||r,ir=v.navigation.state!=="idle"?Mo(jt,v.navigation.location,t.basename):v.matches;Ee(ir,"Didn't find any matches after fetcher action");let Ba=++R;W.set(N,Ba);let cp=Pe({state:"loading",data:De.data},de,{" _hasFetcherDoneAnything ":!0});v.fetchers.set(N,cp);let[Ha,yo]=r_(t.history,v,ir,de,rr,S,I,x,U,jt,t.basename,{[Z.route.id]:De.data},void 0);yo.filter(Ur=>Ur.key!==N).forEach(Ur=>{let hp=Ur.key,U0=v.fetchers.get(hp),PR={state:"loading",data:U0&&U0.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(hp,PR),P.set(hp,ue)}),Y({fetchers:new Map(v.fetchers)});let{results:dp,loaderResults:fp,fetcherResults:qt}=await we(v.matches,ir,Ha,yo,At);if(ue.signal.aborted)return;W.delete(N),P.delete(N),yo.forEach(Ur=>P.delete(Ur.key));let sr=u_(dp);if(sr)return G(v,sr);let{loaderData:gs,errors:qa}=o_(v,v.matches,Ha,fp,void 0,yo,qt,le),RR={state:"idle",data:De.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(N,RR);let AR=V(Ba);v.navigation.state==="loading"&&Ba>O?(Ee(g,"Expected pending action"),_&&_.abort(),ke(v.navigation.location,{matches:ir,loaderData:gs,errors:qa,fetchers:new Map(v.fetchers)})):(Y(Pe({errors:qa,loaderData:a_(v.loaderData,gs,ir,qa)},AR?{fetchers:new Map(v.fetchers)}:{})),S=!1)}async function B(N,L,M,Z,re,de){let fe=v.fetchers.get(N),ge=Pe({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},de,{data:fe&&fe.data," _hasFetcherDoneAnything ":!0});v.fetchers.set(N,ge),Y({fetchers:new Map(v.fetchers)});let ue=new AbortController,He=tl(t.history,M,ue.signal);P.set(N,ue);let De=await el("loader",He,Z,re,n,e,y.basename);if(ks(De)&&(De=await vI(De,He.signal,!0)||De),P.get(N)===ue&&P.delete(N),He.signal.aborted)return;if(Go(De)){await G(v,De);return}if(Nl(De)){let At=Uo(v.matches,L);v.fetchers.delete(N),Y({fetchers:new Map(v.fetchers),errors:{[At.route.id]:De.error}});return}Ee(!ks(De),"Unhandled fetcher deferred data");let rr={state:"idle",data:De.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(N,rr),Y({fetchers:new Map(v.fetchers)})}async function G(N,L,M){var Z;let{submission:re,replace:de,isFetchActionRedirect:fe}=M===void 0?{}:M;L.revalidate&&(S=!0);let ge=lu(N.location,L.location,Pe({_isRedirect:!0},fe?{_isFetchActionRedirect:!0}:{}));if(Ee(ge,"Expected a location on the redirect navigation"),hI.test(L.location)&&pI&&typeof((Z=window)==null?void 0:Z.location)<"u"){let jt=t.history.createURL(L.location),ir=Ou(jt.pathname,t.basename||"/")==null;if(window.location.origin!==jt.origin||ir){de?window.location.replace(L.location):window.location.assign(L.location);return}}_=null;let ue=de===!0?yt.Replace:yt.Push,{formMethod:He,formAction:De,formEncType:rr,formData:At}=N.navigation;!re&&He&&De&&At&&rr&&(re={formMethod:He,formAction:De,formEncType:rr,formData:At}),HL.has(L.status)&&re&&qr(re.formMethod)?await Ke(ue,ge,{submission:Pe({},re,{formAction:L.location}),preventScrollReset:m}):fe?await Ke(ue,ge,{overrideNavigation:{state:"loading",location:ge,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:re,preventScrollReset:m}):await Ke(ue,ge,{overrideNavigation:{state:"loading",location:ge,formMethod:re?re.formMethod:void 0,formAction:re?re.formAction:void 0,formEncType:re?re.formEncType:void 0,formData:re?re.formData:void 0},preventScrollReset:m})}async function we(N,L,M,Z,re){let de=await Promise.all([...M.map(ue=>el("loader",re,ue,L,n,e,y.basename)),...Z.map(ue=>ue.matches&&ue.match?el("loader",tl(t.history,ue.path,re.signal),ue.match,ue.matches,n,e,y.basename):{type:Tt.error,error:Tr(404,{pathname:ue.path})})]),fe=de.slice(0,M.length),ge=de.slice(M.length);return await Promise.all([c_(N,M,fe,re.signal,!1,v.loaderData),c_(N,Z.map(ue=>ue.match),ge,re.signal,!0)]),{results:de,loaderResults:fe,fetcherResults:ge}}function _e(){S=!0,I.push(...Be()),U.forEach((N,L)=>{P.has(L)&&(x.push(L),C(L))})}function pe(N,L,M){let Z=Uo(v.matches,L);Ce(N),Y({errors:{[Z.route.id]:M},fetchers:new Map(v.fetchers)})}function Ce(N){P.has(N)&&C(N),U.delete(N),W.delete(N),$.delete(N),v.fetchers.delete(N)}function C(N){let L=P.get(N);Ee(L,"Expected fetch controller: "+N),L.abort(),P.delete(N)}function k(N){for(let L of N){let Z={state:"idle",data:mt(L).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(L,Z)}}function A(){let N=[];for(let L of $){let M=v.fetchers.get(L);Ee(M,"Expected fetcher: "+L),M.state==="loading"&&($.delete(L),N.push(L))}k(N)}function V(N){let L=[];for(let[M,Z]of W)if(Z<N){let re=v.fetchers.get(M);Ee(re,"Expected fetcher: "+M),re.state==="loading"&&(C(M),W.delete(M),L.push(M))}return k(L),L.length>0}function j(N,L){let M=v.blockers.get(N)||t_;return Se.get(N)!==L&&Se.set(N,L),M}function b(N){v.blockers.delete(N),Se.delete(N)}function K(N,L){let M=v.blockers.get(N)||t_;Ee(M.state==="unblocked"&&L.state==="blocked"||M.state==="blocked"&&L.state==="blocked"||M.state==="blocked"&&L.state==="proceeding"||M.state==="blocked"&&L.state==="unblocked"||M.state==="proceeding"&&L.state==="unblocked","Invalid blocker state transition: "+M.state+" -> "+L.state),v.blockers.set(N,L),Y({blockers:new Map(v.blockers)})}function Te(N){let{currentLocation:L,nextLocation:M,historyAction:Z}=N;if(Se.size===0)return;Se.size>1&&ca(!1,"A router only supports one blocker at a time");let re=Array.from(Se.entries()),[de,fe]=re[re.length-1],ge=v.blockers.get(de);if(!(ge&&ge.state==="proceeding")&&fe({currentLocation:L,nextLocation:M,historyAction:Z}))return de}function Be(N){let L=[];return le.forEach((M,Z)=>{(!N||N(Z))&&(M.cancel(),L.push(Z),le.delete(Z))}),L}function Ci(N,L,M){if(l=N,c=L,u=M||(Z=>Z.key),!f&&v.navigation===Bp){f=!0;let Z=go(v.location,v.matches);Z!=null&&Y({restoreScrollPosition:Z})}return()=>{l=null,c=null,u=null}}function up(N,L){if(l&&u&&c){let M=L.map(re=>d_(re,v.loaderData)),Z=u(N,M)||N.key;l[Z]=c()}}function go(N,L){if(l&&u&&c){let M=L.map(de=>d_(de,v.loaderData)),Z=u(N,M)||N.key,re=l[Z];if(typeof re=="number")return re}return null}function za(N){i=N}return y={get basename(){return t.basename},get state(){return v},get routes(){return r},initialize:pt,subscribe:oe,enableScrollRestoration:Ci,navigate:ze,fetch:Ei,revalidate:Vn,createHref:N=>t.history.createHref(N),encodeLocation:N=>t.history.encodeLocation(N),getFetcher:mt,deleteFetcher:Ce,dispose:q,getBlocker:j,deleteBlocker:b,_internalFetchControllers:P,_internalActiveDeferreds:le,_internalSetRoutes:za},y}function QL(t){return t!=null&&"formData"in t}function n_(t,e,n,r){r===void 0&&(r=!1);let i=typeof t=="string"?t:di(t);if(!n||!QL(n))return{path:i};if(n.formMethod&&!nO(n.formMethod))return{path:i,error:Tr(405,{method:n.formMethod})};let s;if(n.formData){let l=n.formMethod||"get";if(s={formMethod:e.v7_normalizeFormMethod?l.toUpperCase():l.toLowerCase(),formAction:yI(i),formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:n.formData},qr(s.formMethod))return{path:i,submission:s}}let o=wi(i),a=gI(n.formData);return r&&o.search&&wI(o.search)&&a.append("index",""),o.search="?"+a,{path:di(o),submission:s}}function YL(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function r_(t,e,n,r,i,s,o,a,l,u,c,f,h){let p=h?Object.values(h)[0]:f?Object.values(f)[0]:void 0,w=t.createURL(e.location),y=t.createURL(i),v=s||w.toString()===y.toString()||w.search!==y.search,g=h?Object.keys(h)[0]:void 0,_=YL(n,g).filter((S,I)=>{if(S.route.lazy)return!0;if(S.route.loader==null)return!1;if(XL(e.loaderData,e.matches[I],S)||o.some(R=>R===S.route.id))return!0;let x=e.matches[I],P=S;return i_(S,Pe({currentUrl:w,currentParams:x.params,nextUrl:y,nextParams:P.params},r,{actionResult:p,defaultShouldRevalidate:v||mI(x,P)}))}),E=[];return l.forEach((S,I)=>{if(!n.some(O=>O.route.id===S.routeId))return;let x=Mo(u,S.path,c);if(!x){E.push(Pe({key:I},S,{matches:null,match:null}));return}let P=Wg(x,S.path);if(a.includes(I)){E.push(Pe({key:I,matches:x,match:P},S));return}i_(P,Pe({currentUrl:w,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:p,defaultShouldRevalidate:v}))&&E.push(Pe({key:I,matches:x,match:P},S))}),[_,E]}function XL(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function mI(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function i_(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function s_(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ee(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";ca(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!_L.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,{hasErrorBoundary:e(Pe({},i)),lazy:void 0})}async function el(t,e,n,r,i,s,o,a,l,u){o===void 0&&(o="/"),a===void 0&&(a=!1),l===void 0&&(l=!1);let c,f,h,p=v=>{let g,m=new Promise((_,E)=>g=E);return h=()=>g(),e.signal.addEventListener("abort",h),Promise.race([v({request:e,params:n.params,context:u}),m])};try{let v=n.route[t];if(n.route.lazy)if(v)f=(await Promise.all([p(v),s_(n.route,s,i)]))[0];else if(await s_(n.route,s,i),v=n.route[t],v)f=await p(v);else{if(t==="action")throw Tr(405,{method:e.method,pathname:new URL(e.url).pathname,routeId:n.route.id});return{type:Tt.data,data:void 0}}else Ee(v,"Could not find the "+t+' to run on the "'+n.route.id+'" route'),f=await p(v);Ee(f!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(v){c=Tt.error,f=v}finally{h&&e.signal.removeEventListener("abort",h)}if(tO(f)){let v=f.status;if(BL.has(v)){let _=f.headers.get("Location");if(Ee(_,"Redirects returned/thrown from loaders/actions must have a Location header"),hI.test(_)){if(!a){let E=new URL(e.url),S=_.startsWith("//")?new URL(E.protocol+_):new URL(_),I=Ou(S.pathname,o)!=null;S.origin===E.origin&&I&&(_=S.pathname+S.search+S.hash)}}else{let E=r.slice(0,r.indexOf(n)+1),S=hh(E).map(x=>x.pathnameBase),I=Mv(_,S,new URL(e.url).pathname);if(Ee(di(I),"Unable to resolve redirect location: "+_),o){let x=I.pathname;I.pathname=x==="/"?o:ri([o,x])}_=di(I)}if(a)throw f.headers.set("Location",_),f;return{type:Tt.redirect,status:v,location:_,revalidate:f.headers.get("X-Remix-Revalidate")!==null}}if(l)throw{type:c||Tt.data,response:f};let g,m=f.headers.get("Content-Type");return m&&/\bapplication\/json\b/.test(m)?g=await f.json():g=await f.text(),c===Tt.error?{type:c,error:new $v(v,f.statusText,g),headers:f.headers}:{type:Tt.data,data:g,statusCode:f.status,headers:f.headers}}if(c===Tt.error)return{type:c,error:f};if(eO(f)){var w,y;return{type:Tt.deferred,deferredData:f,statusCode:(w=f.init)==null?void 0:w.status,headers:((y=f.init)==null?void 0:y.headers)&&new Headers(f.init.headers)}}return{type:Tt.data,data:f}}function tl(t,e,n,r){let i=t.createURL(yI(e)).toString(),s={signal:n};if(r&&qr(r.formMethod)){let{formMethod:o,formEncType:a,formData:l}=r;s.method=o.toUpperCase(),s.body=a==="application/x-www-form-urlencoded"?gI(l):l}return new Request(i,s)}function gI(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function JL(t,e,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,f)=>{let h=e[f].route.id;if(Ee(!Go(c),"Cannot handle redirect results in processLoaderData"),Nl(c)){let p=Uo(t,h),w=c.error;r&&(w=Object.values(r)[0],r=void 0),o=o||{},o[p.route.id]==null&&(o[p.route.id]=w),s[h]=void 0,l||(l=!0,a=$o(c.error)?c.error.status:500),c.headers&&(u[h]=c.headers)}else ks(c)?(i.set(h,c.deferredData),s[h]=c.deferredData.data):s[h]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[h]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function o_(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=JL(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:f,match:h}=s[c];Ee(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let p=o[c];if(Nl(p)){let w=Uo(t.matches,h==null?void 0:h.route.id);u&&u[w.route.id]||(u=Pe({},u,{[w.route.id]:p.error})),t.fetchers.delete(f)}else if(Go(p))Ee(!1,"Unhandled fetcher revalidation redirect");else if(ks(p))Ee(!1,"Unhandled fetcher deferred data");else{let w={state:"idle",data:p.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(f,w)}}return{loaderData:l,errors:u}}function a_(t,e,n,r){let i=Pe({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Uo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function l_(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Tr(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"&&(a="defer() is not supported in actions")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new $v(t||500,o,new Error(a),!0)}function u_(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Go(n))return n}}function yI(t){let e=typeof t=="string"?wi(t):t;return di(Pe({},e,{hash:""}))}function ZL(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function ks(t){return t.type===Tt.deferred}function Nl(t){return t.type===Tt.error}function Go(t){return(t&&t.type)===Tt.redirect}function eO(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function tO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function nO(t){return zL.has(t.toLowerCase())}function qr(t){return FL.has(t.toLowerCase())}async function c_(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(f=>f.route.id===l.route.id),c=u!=null&&!mI(u,l)&&(s&&s[l.route.id])!==void 0;ks(a)&&(i||c)&&await vI(a,r,i).then(f=>{f&&(n[o]=f||n[o])})}}async function vI(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Tt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Tt.error,error:i}}return{type:Tt.data,data:t.deferredData.data}}}function wI(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function d_(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Wg(t,e){let n=typeof e=="string"?wi(e).search:e.search;if(t[t.length-1].route.index&&wI(n||""))return t[t.length-1];let r=hh(t);return r[r.length-1]}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const iO=typeof Object.is=="function"?Object.is:rO,{useState:sO,useEffect:oO,useLayoutEffect:aO,useDebugValue:lO}=Km;function uO(t,e,n){const r=e(),[{inst:i},s]=sO({inst:{value:r,getSnapshot:e}});return aO(()=>{i.value=r,i.getSnapshot=e,Hp(i)&&s({inst:i})},[t,r,e]),oO(()=>(Hp(i)&&s({inst:i}),t(()=>{Hp(i)&&s({inst:i})})),[t]),lO(r),r}function Hp(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!iO(n,r)}catch{return!0}}function cO(t,e,n){return e()}const dO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fO=!dO,hO=fO?cO:uO,pO="useSyncExternalStore"in Km?(t=>t.useSyncExternalStore)(Km):hO,Uv=T.createContext(null),Du=T.createContext(null),xa=T.createContext(null),ph=T.createContext(null),cs=T.createContext({outlet:null,matches:[]}),_I=T.createContext(null);function Kg(){return Kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kg.apply(this,arguments)}function mO(t,e){let{relative:n}=e===void 0?{}:e;ka()||Ee(!1);let{basename:r,navigator:i}=T.useContext(xa),{hash:s,pathname:o,search:a}=Fv(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ri([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ka(){return T.useContext(ph)!=null}function ds(){return ka()||Ee(!1),T.useContext(ph).location}function Zn(){ka()||Ee(!1);let{basename:t,navigator:e}=T.useContext(xa),{matches:n}=T.useContext(cs),{pathname:r}=ds(),i=JSON.stringify(hh(n).map(a=>a.pathnameBase)),s=T.useRef(!1);return T.useEffect(()=>{s.current=!0}),T.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=Mv(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:ri([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}const gO=T.createContext(null);function yO(t){let e=T.useContext(cs).outlet;return e&&T.createElement(gO.Provider,{value:t},e)}function vO(){let{matches:t}=T.useContext(cs),e=t[t.length-1];return e?e.params:{}}function Fv(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=T.useContext(cs),{pathname:i}=ds(),s=JSON.stringify(hh(r).map(o=>o.pathnameBase));return T.useMemo(()=>Mv(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function wO(t,e){ka()||Ee(!1);let{navigator:n}=T.useContext(xa),r=T.useContext(Du),{matches:i}=T.useContext(cs),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=ds(),u;if(e){var c;let y=typeof e=="string"?wi(e):e;a==="/"||(c=y.pathname)!=null&&c.startsWith(a)||Ee(!1),u=y}else u=l;let f=u.pathname||"/",h=a==="/"?f:f.slice(a.length)||"/",p=Mo(t,{pathname:h}),w=CO(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:ri([a,n.encodeLocation?n.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:ri([a,n.encodeLocation?n.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r||void 0);return e&&w?T.createElement(ph.Provider,{value:{location:Kg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:yt.Pop}},w):w}function _O(){let t=EI(),e=$o(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,s)}class EO extends T.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?T.createElement(cs.Provider,{value:this.props.routeContext},T.createElement(_I.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SO(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(Uv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(cs.Provider,{value:e},r)}function CO(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Ee(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=T.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=T.createElement(_O,null));let c=e.concat(r.slice(0,a+1)),f=()=>{let h=s;return l?h=u:o.route.Component?h=T.createElement(o.route.Component,null):o.route.element&&(h=o.route.element),T.createElement(SO,{match:o,routeContext:{outlet:s,matches:c},children:h})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?T.createElement(EO,{location:n.location,component:u,error:l,children:f(),routeContext:{outlet:null,matches:c}}):f()},null)}var f_;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(f_||(f_={}));var zd;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(zd||(zd={}));function TO(t){let e=T.useContext(Du);return e||Ee(!1),e}function IO(t){let e=T.useContext(cs);return e||Ee(!1),e}function xO(t){let e=IO(),n=e.matches[e.matches.length-1];return n.route.id||Ee(!1),n.route.id}function EI(){var t;let e=T.useContext(_I),n=TO(zd.UseRouteError),r=xO(zd.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function kO(t){let{fallbackElement:e,router:n}=t,r=T.useCallback(()=>n.state,[n]),i=pO(n.subscribe,r,r),s=T.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:l=>n.navigate(l),push:(l,u,c)=>n.navigate(l,{state:u,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(l,u,c)=>n.navigate(l,{replace:!0,state:u,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[n]),o=n.basename||"/",a=T.useMemo(()=>({router:n,navigator:s,static:!1,basename:o}),[n,s,o]);return T.createElement(T.Fragment,null,T.createElement(Uv.Provider,{value:a},T.createElement(Du.Provider,{value:i},T.createElement(AO,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:s},n.state.initialized?T.createElement(PO,null):e))),null)}function SI(t){let{to:e,replace:n,state:r,relative:i}=t;ka()||Ee(!1);let s=T.useContext(Du),o=Zn();return T.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function bO(t){return yO(t.context)}function RO(t){Ee(!1)}function AO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=yt.Pop,navigator:s,static:o=!1}=t;ka()&&Ee(!1);let a=e.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=wi(r));let{pathname:u="/",search:c="",hash:f="",state:h=null,key:p="default"}=r,w=T.useMemo(()=>{let y=Ou(u,a);return y==null?null:{location:{pathname:y,search:c,hash:f,state:h,key:p},navigationType:i}},[a,u,c,f,h,p,i]);return w==null?null:T.createElement(xa.Provider,{value:l},T.createElement(ph.Provider,{children:n,value:w}))}function PO(t){let{children:e,location:n}=t,r=T.useContext(Uv),i=r&&!e?r.router.routes:Gg(e);return wO(i,n)}var h_;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(h_||(h_={}));new Promise(()=>{});function Gg(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,Gg(r.props.children,s));return}r.type!==RO&&Ee(!1),!r.props.index||!r.props.children||Ee(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Gg(r.props.children,s)),n.push(o)}),n}function NO(t){return!!t.ErrorBoundary||!!t.errorElement}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uu(){return uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uu.apply(this,arguments)}function CI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function LO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function OO(t,e){return t.button===0&&(!e||e==="_self")&&!LO(t)}const DO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],jO=["aria-current","caseSensitive","className","end","style","to","children"];function MO(t,e){return GL({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:yL({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||$O(),routes:t,detectErrorBoundary:NO}).initialize()}function $O(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=uu({},e,{errors:UO(e.errors)})),e}function UO(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new $v(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let s=new Error(i.message);s.stack="",n[r]=s}else n[r]=i;return n}const FO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mh=T.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,f=CI(e,DO),{basename:h}=T.useContext(xa),p,w=!1;if(typeof u=="string"&&VO.test(u)&&(p=u,FO)){let m=new URL(window.location.href),_=u.startsWith("//")?new URL(m.protocol+u):new URL(u),E=Ou(_.pathname,h);_.origin===m.origin&&E!=null?u=E+_.search+_.hash:w=!0}let y=mO(u,{relative:i}),v=zO(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function g(m){r&&r(m),m.defaultPrevented||v(m)}return T.createElement("a",uu({},f,{href:p||y,onClick:w||s?r:g,ref:n,target:l}))}),Bd=T.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=e,c=CI(e,jO),f=Fv(l,{relative:c.relative}),h=ds(),p=T.useContext(Du),{navigator:w}=T.useContext(xa),y=w.encodeLocation?w.encodeLocation(f).pathname:f.pathname,v=h.pathname,g=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(v=v.toLowerCase(),g=g?g.toLowerCase():null,y=y.toLowerCase());let m=v===y||!o&&v.startsWith(y)&&v.charAt(y.length)==="/",_=g!=null&&(g===y||!o&&g.startsWith(y)&&g.charAt(y.length)==="/"),E=m?r:void 0,S;typeof s=="function"?S=s({isActive:m,isPending:_}):S=[s,m?"active":null,_?"pending":null].filter(Boolean).join(" ");let I=typeof a=="function"?a({isActive:m,isPending:_}):a;return T.createElement(mh,uu({},c,{"aria-current":E,className:S,ref:n,style:I,to:l}),typeof u=="function"?u({isActive:m,isPending:_}):u)});var p_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(p_||(p_={}));var m_;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(m_||(m_={}));function zO(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Zn(),l=ds(),u=Fv(t,{relative:o});return T.useCallback(c=>{if(OO(c,n)){c.preventDefault();let f=r!==void 0?r:di(l)===di(u);a(t,{replace:f,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}function Ne({size:t="default",strokeWidth:e=2,height:n,width:r,children:i,className:s,...o}){const a={tiny:"12px",small:"16px",default:"24px",medium:"32px",large:"36px",extra:"48px",custom:"24px"};return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:r||a[t],height:n||a[t],className:s,fill:"currentColor",stroke:"currentColor",strokeWidth:e,...o,children:i})}function Qg(t){return d.jsxs(Ne,{width:"45px",height:"28px",viewBox:"0 0 45 28",stroke:"none",...t,children:[d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.48798 6L0 22.8H3.98401L5.48108 19.2H13.2687L14.76 22.8H18.84L11.328 6H7.48798ZM12.0459 16.248L9.38251 9.81833L6.70868 16.248H12.0459Z"}),d.jsx("path",{d:"M17.205 6L22.7009 22.8H26.877L30.6852 11.4169L34.3889 22.8H38.5649L44.0609 6H40.3409L36.4266 17.8967L32.5889 6H28.989L25.0272 17.809L21.2369 6H17.205Z"})]})}function BO(t,e){return e&&e.length===t.length?t.map((n,r)=>({...n,id:e[r]})):t.map((n,r)=>({...n,id:r}))}function HO(...t){return{className:t.flat(1/0).filter(e=>e).join(" ").trim()}}function qO(t,e,n,r=""){const i=document.createElement(e);if(n!=null&&n.class){const s=n.class.split(" ");i.classList.add(...s)}return n!=null&&n.id&&i.setAttribute("id",n.id),n!=null&&n.attributes&&n.attributes.forEach(s=>{const o=s.split("=")[0],a=(s.split("=")[1]||"").replaceAll('"',"");i.setAttribute(o,a)}),r&&(i.innerHTML=r),t.append(i),i}function WO(...t){return t.reduce((e,n)=>e.filter(r=>n.includes(r)))}function KO(){return Date.now()}function GO(...t){return t.reduce((e,n)=>e.filter(r=>!n.includes(r)))}function QO(t){return t.map((e,n)=>e!==""?n:"").filter(String)}function Ki(t,e){return Math.trunc(Math.random()*(e-t+1)+t)}function YO(){const t=Ki(0,255).toString(16),e=Ki(0,255).toString(16),n=Ki(0,255).toString(16);return`#${t}${e}${n}`}function XO(){const t=Ki(0,255),e=Ki(0,255),n=Ki(0,255);return[t,e,n]}function JO(){let t;return()=>{const e=t>window.scrollY?"UP":"DOWN";return t=window.scrollY,e}}const ZO=JO();function vr(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function eD(t,e){return!e&&typeof t=="string"?t[0]:e&&typeof t!="string"?t[e].toString()[0]:null}function tD(t,e){const n=new Map,r=t[0];if(typeof r!="string"&&!vr(r))throw new Error("Invalid value");if(!e&&vr(r))throw new Error("No key provided");return t.forEach(i=>{const s=eD(i,e);n.has(s)?n.set(s,[...n.get(s),i]):n.set(s,[i])}),Array.from(n.entries())}function nD(t){return Object.keys(t).length===0}function rD(...t){return t.flat(1/0).filter(e=>e).join(" ").trim()}function Yg(t){return new Date(+t)}function iD(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!vr(r))throw new Error("Invalid value");if(vr(r)&&!e)throw new Error("No key provided");let i=[];return!e&&typeof r=="string"&&(i=n.filter(s=>s.trim()!=="")),e&&typeof r!="string"&&(i=n.filter(s=>s[e].toString().trim()!=="")),i}function sD({callback:t,delay:e,counts:n}){let r=0;const i=setInterval(()=>{t(),r+=1,r===n&&clearInterval(i)},e);return i}function oD(t){const e=t.slice();for(let n=0;n<t.length;n++){const r=Ki(0,t.length-1);[e[n],e[r]]=[e[r],e[n]]}return e}function aD(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!vr(r))throw new Error("Invalid value");if(vr(r)&&!e)throw new Error("No key provided");let i=[];return!e&&typeof r=="string"&&(i=n.sort((s,o)=>s.localeCompare(o))),e&&typeof r!="string"&&(i=n.sort((s,o)=>s[e].toString().localeCompare(o[e].toString()))),i}function lD(t,e,n="num"){const r=t.slice();return e&&r.sort((i,s)=>{if(n==="num"){if(+i[e]<+s[e])return-1;if(+i[e]>+s[e])return 1}else{if(i[e]<s[e])return-1;if(i[e]>s[e])return 1}return 0}),r}function uD(t,e,n="..."){return t.length>e?`${t.substring(0,e).trim()}${n}`:t}function cD(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!vr(r))throw new Error("Invalid value");if(vr(r)&&!e)throw new Error("No key provided");let i=0;return!e&&typeof r=="string"?i=t.length-n.reverse().findIndex(s=>s!==""):e&&typeof r!="string"&&(i=t.length-n.reverse().findIndex(s=>s[e]!=="")),n.reverse().splice(0,i)}function dD(t,e){const n=t[0];if(typeof n!="string"&&!vr(n))throw new Error("Invalid value");if(vr(n)&&!e)throw new Error("No key provided");const r=t.slice();let i=0;return!e&&typeof n=="string"?i=r.findIndex(s=>s!==""):e&&typeof n!="string"&&(i=r.findIndex(s=>s[e]!=="")),r.splice(i)}const X={addId:BO,className:HO,createHTMLElem:qO,getCommonValues:WO,getCurrentDateInMs:KO,getDifferentValues:GO,getIndexesOfNonEmptyElements:QO,getRandomHEXColor:YO,getRandomNumber:Ki,getRandomRGBColor:XO,getScrollDirection:ZO,groupBy:tD,isObject:vr,isObjectEmpty:nD,join:rD,parseCurrentDateFromMs:Yg,removeEmptyValues:iD,setIntervalCounts:sD,shuffleArray:oD,sortArrayLocalCompare:aD,sortArrayOfObj:lD,stringCut:uD,trimEndEmptyValues:cD,trimStartEmptyValues:dD};function Vv({as:t="div",...e}){return d.jsx(t,{...e})}function zv(t){const e=(t==null?void 0:t.size)===10?"col10":"col";return X.join([(t==null?void 0:t.xx)&&`${e}-xx-${t.xx}`,(t==null?void 0:t.xl)&&`${e}-xl-${t.xl}`,(t==null?void 0:t.lg)&&`${e}-lg-${t.lg}`,(t==null?void 0:t.md)&&`${e}-md-${t.md}`,(t==null?void 0:t.sm)&&`${e}-sm-${t.sm}`,(t==null?void 0:t.xs)&&`${e}-xs-${t.xs}`,(t==null?void 0:t.ss)&&`${e}-ss-${t.ss}`])}const ie=T.forwardRef(({component:t="div",grid:e,children:n,className:r,...i},s)=>{const o=e&&zv(e),a={className:X.join(r,o),ref:s,...i};return d.jsx(Vv,{as:t,...a,children:n})});ie.displayName="Block";const fD="_StartScreen_eg3k4_1",hD="_logo_eg3k4_12",g_={StartScreen:fD,logo:hD,"logo-animation":"_logo-animation_eg3k4_1"};function pD(){return d.jsx(ie,{className:g_.StartScreen,children:d.jsx(Qg,{className:g_.logo})})}const pn={about:"/about",chordslist:"/chordslist",home:"/",login:"/login",other:"/*",signup:"/signup",songslist:"/songslist"},Kn={user:"/user",chat:"/chat",users:"/users",userInfo:"/userInfo"},TI={admin:"/admin"},ut=KN;function Mr(){const{user:t}=ut(i=>i.userReducer),{uid:e,userType:n,sex:r}=t;return{isAuth:!!e,isOwner:n==="owner",isAdmin:n==="admin",isUser:n==="user",isFillProfile:!!r}}const ot=T.forwardRef(({container:t,row:e,component:n="div",children:r,className:i,...s},o)=>{const a=[t&&"container",e&&"row"],l={className:X.join(i,a),ref:o,...s};return d.jsx(Vv,{as:n,...l,children:r})});ot.displayName="Grid";const mD="_h1_bjtyp_34",gD="_inversion_bjtyp_37",yD="_h2_bjtyp_41",vD="_h3_bjtyp_48",wD="_h4_bjtyp_55",_D="_h5_bjtyp_62",ED="_h6_bjtyp_69",SD="_subtitle1_bjtyp_76",CD="_subtitle2_bjtyp_83",TD="_p1_bjtyp_90",ID="_p2_bjtyp_97",xD="_caption_bjtyp_104",kD="_overline_bjtyp_111",bD="_link_bjtyp_118",RD="_input_bjtyp_132",AD="_button_bjtyp_460",en={h1:mD,inversion:gD,h2:yD,h3:vD,h4:wD,h5:_D,h6:ED,subtitle1:SD,subtitle2:CD,p1:TD,p2:ID,caption:xD,overline:kD,link:bD,"link-sm":"_link-sm_bjtyp_125",input:RD,button:AD,"button-sm":"_button-sm_bjtyp_471","button-icon":"_button-icon_bjtyp_482","button-icon-sm":"_button-icon-sm_bjtyp_493"},PD="_Link_14qzb_57",ND="_noUnderline_14qzb_63",LD="_inverted_14qzb_66",OD="_hover_14qzb_76",DD="_disabled_14qzb_96",Ll={Link:PD,noUnderline:ND,inverted:LD,hover:OD,disabled:DD},Bv=T.forwardRef(({display:t,underline:e,hover:n=!0,children:r,blank:i,className:s,...o},a)=>{const l=[t?en[t]:en.link,e===!1&&Ll.noUnderline,n&&Ll.hover],u=i&&{target:"_blank",rel:"noreferrer noopener"};return d.jsx("a",{className:X.join(Ll.Link,s,l),ref:a,...u,...o,children:r})});Bv.displayName="Link";const Ws=T.forwardRef(({display:t,underline:e,children:n,blank:r,className:i,...s},o)=>{const a=[t?en[t]:en.link,e===!1&&Ll.noUnderline],l=r&&{target:"_blank",rel:"noreferrer noopener"};return d.jsx("span",{className:X.join(Ll.Link,i,a),ref:o,...l,...s,children:n})});Ws.displayName="LinkLabel";const jD="_Footer_14zpd_1",MD="_container_14zpd_1",y_={Footer:jD,container:MD};function $D(){const{pathname:t}=ds(),{isAuth:e}=Mr(),n=ml("/login",t),r=ml("/signup",t);return ml("/songslist",t)||ml("/songslist/:page",t)?null:d.jsx(ie,{component:"footer",className:y_.Footer,children:d.jsx(ot,{container:!0,className:y_.container,children:!(n||r)&&e&&t!==Kn.chat&&d.jsx(Bv,{display:"caption",underline:!1,href:"https://github.com/AmelianceSkyMusic",blank:!0,children:"AmelianceSkyMusic"})})})}function v_(t){return d.jsxs(Ne,{width:"108px",height:"28px",viewBox:"0 0 108 28",stroke:"none",...t,children:[d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.48798 6L0 22.8H3.98401L5.48108 19.2H13.2687L14.76 22.8H18.84L11.328 6H7.48798ZM12.0459 16.248L9.38251 9.81833L6.70868 16.248H12.0459Z"}),d.jsx("path",{d:"M17.205 6L22.7009 22.8H26.877L30.6852 11.4169L34.3889 22.8H38.5649L44.0609 6H40.3409L36.4266 17.8967L32.5889 6H28.989L25.0272 17.809L21.2369 6H17.205Z"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M49.495 22.944C48.463 22.944 47.545 22.728 46.741 22.296C45.949 21.864 45.319 21.276 44.851 20.532C44.395 19.776 44.167 18.918 44.167 17.958C44.167 16.986 44.395 16.128 44.851 15.384C45.319 14.628 45.949 14.04 46.741 13.62C47.545 13.188 48.463 12.972 49.495 12.972C50.515 12.972 51.427 13.188 52.231 13.62C53.035 14.04 53.665 14.622 54.121 15.366C54.577 16.11 54.805 16.974 54.805 17.958C54.805 18.918 54.577 19.776 54.121 20.532C53.665 21.276 53.035 21.864 52.231 22.296C51.427 22.728 50.515 22.944 49.495 22.944ZM49.495 20.64C49.963 20.64 50.383 20.532 50.755 20.316C51.127 20.1 51.421 19.794 51.637 19.398C51.853 18.99 51.961 18.51 51.961 17.958C51.961 17.394 51.853 16.914 51.637 16.518C51.421 16.122 51.127 15.816 50.755 15.6C50.383 15.384 49.963 15.276 49.495 15.276C49.027 15.276 48.607 15.384 48.235 15.6C47.863 15.816 47.563 16.122 47.335 16.518C47.119 16.914 47.011 17.394 47.011 17.958C47.011 18.51 47.119 18.99 47.335 19.398C47.563 19.794 47.863 20.1 48.235 20.316C48.607 20.532 49.027 20.64 49.495 20.64Z"}),d.jsx("path",{d:"M60.364 13.116H57.6819V22.8H60.4899V18.228C60.4899 17.304 60.7239 16.626 61.1919 16.194C61.6719 15.75 62.2959 15.528 63.0639 15.528C63.1719 15.528 63.2739 15.534 63.3699 15.546C63.3847 15.546 63.3998 15.5461 63.4152 15.5464L63.4372 15.5469L63.4645 15.5478C63.5353 15.5504 63.6118 15.5558 63.6939 15.564V12.972C62.7819 12.972 62.0079 13.152 61.3719 13.512C60.9645 13.7349 60.6285 14.0267 60.364 14.3875V13.116Z"}),d.jsx("path",{d:"M69.6919 22.944C68.8639 22.944 68.0659 22.848 67.2979 22.656C66.5419 22.452 65.9419 22.2 65.4979 21.9L66.4339 19.884C66.8779 20.16 67.3999 20.388 67.9999 20.568C68.6119 20.736 69.2119 20.82 69.7999 20.82C70.4479 20.82 70.9039 20.742 71.1679 20.586C71.4438 20.43 71.5818 20.214 71.5818 19.938C71.5818 19.71 71.4739 19.542 71.2579 19.434C71.0539 19.314 70.7779 19.224 70.4299 19.164C70.2651 19.1356 70.0923 19.1072 69.9115 19.0789C69.7103 19.0472 69.4991 19.0156 69.2779 18.984C68.8699 18.924 68.4559 18.846 68.0359 18.75C67.6158 18.642 67.2319 18.486 66.8839 18.282C66.5359 18.078 66.2538 17.802 66.0379 17.454C65.8339 17.106 65.7319 16.656 65.7319 16.104C65.7319 15.492 65.9059 14.952 66.2538 14.484C66.6139 14.016 67.1299 13.65 67.8019 13.386C68.4739 13.11 69.2779 12.972 70.2139 12.972C70.8739 12.972 71.5459 13.044 72.2299 13.188C72.9139 13.332 73.4839 13.542 73.9399 13.818L73.0038 15.816C72.5359 15.54 72.0619 15.354 71.5818 15.258C71.1139 15.15 70.6579 15.096 70.2139 15.096C69.5899 15.096 69.1339 15.18 68.8459 15.348C68.5579 15.516 68.4139 15.732 68.4139 15.996C68.4139 16.236 68.5159 16.416 68.7198 16.536C68.9359 16.656 69.2179 16.752 69.5659 16.824C69.9139 16.896 70.2919 16.962 70.6999 17.022C71.1199 17.07 71.5399 17.148 71.9599 17.256C72.3799 17.364 72.7579 17.52 73.0939 17.724C73.4419 17.916 73.7239 18.186 73.9399 18.534C74.1559 18.87 74.2639 19.314 74.2639 19.866C74.2639 20.466 74.0839 21 73.7239 21.468C73.3639 21.924 72.8419 22.284 72.1579 22.548C71.4859 22.812 70.6639 22.944 69.6919 22.944Z"}),d.jsx("path",{d:"M84.9344 13.44C84.3344 13.128 83.6504 12.972 82.8824 12.972C82.0544 12.972 81.3163 13.146 80.6684 13.494C80.3424 13.669 80.0544 13.8821 79.8044 14.133V9.444H76.9964V22.8H79.8044V18.012C79.8044 17.412 79.9004 16.92 80.0923 16.536C80.2964 16.152 80.5724 15.87 80.9203 15.69C81.2804 15.498 81.6824 15.402 82.1264 15.402C82.7504 15.402 83.2303 15.588 83.5663 15.96C83.9144 16.332 84.0884 16.908 84.0884 17.688V22.8H86.8964V17.256C86.8964 16.272 86.7224 15.468 86.3744 14.844C86.0264 14.208 85.5464 13.74 84.9344 13.44Z"}),d.jsx("path",{d:"M91.8457 11.766C91.3297 11.766 90.9097 11.616 90.5857 11.316C90.2617 11.016 90.0997 10.644 90.0997 10.2C90.0997 9.75601 90.2617 9.384 90.5857 9.08401C90.9097 8.784 91.3297 8.634 91.8457 8.634C92.3617 8.634 92.7817 8.77802 93.1057 9.06601C93.4297 9.34201 93.5917 9.702 93.5917 10.146C93.5917 10.614 93.4297 11.004 93.1057 11.316C92.7937 11.616 92.3737 11.766 91.8457 11.766Z"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M100.438 22.404C101.05 22.764 101.764 22.944 102.58 22.944C103.492 22.944 104.308 22.74 105.028 22.332C105.76 21.924 106.336 21.348 106.756 20.604C107.188 19.86 107.404 18.978 107.404 17.958C107.404 16.95 107.188 16.074 106.756 15.33C106.336 14.586 105.76 14.01 105.028 13.602C104.308 13.182 103.492 12.972 102.58 12.972C101.728 12.972 100.996 13.152 100.384 13.512C100.062 13.7013 99.7799 13.942 99.5378 14.2342V13.116H96.8557V26.292H99.6638V21.7747C99.8927 22.0254 100.151 22.2352 100.438 22.404ZM103.336 20.316C102.976 20.532 102.562 20.64 102.094 20.64C101.626 20.64 101.206 20.532 100.834 20.316C100.462 20.1 100.168 19.794 99.9518 19.398C99.7357 18.99 99.6277 18.51 99.6277 17.958C99.6277 17.394 99.7357 16.914 99.9518 16.518C100.168 16.122 100.462 15.816 100.834 15.6C101.206 15.384 101.626 15.276 102.094 15.276C102.562 15.276 102.976 15.384 103.336 15.6C103.708 15.816 104.002 16.122 104.218 16.518C104.446 16.914 104.56 17.394 104.56 17.958C104.56 18.51 104.446 18.99 104.218 19.398C104.002 19.794 103.708 20.1 103.336 20.316Z"}),d.jsx("path",{d:"M90.4417 22.8V13.116H93.2497V22.8H90.4417Z"})]})}function UD({type:t}){const{isAuth:e}=Mr();return d.jsxs(mh,{to:"/",style:{color:"var(--color--f1-0)"},children:[t==="short"&&d.jsx(Qg,{}),t==="normal"&&d.jsx(v_,{}),!t&&(e?d.jsx(v_,{}):d.jsx(Qg,{}))]})}const FD="_Button_n3hsj_106",VD="_tiny_n3hsj_121",zD="_small_n3hsj_124",BD="_medium_n3hsj_130",HD="_large_n3hsj_133",qD="_extra_n3hsj_136",WD="_disabled_n3hsj_145",KD="_label_n3hsj_160",GD="_icon_n3hsj_187",QD="_secondary_n3hsj_211",YD="_text_n3hsj_228",xr={Button:FD,tiny:VD,small:zD,default:"_default_n3hsj_127",medium:BD,large:HD,extra:qD,disabled:WD,label:KD,icon:GD,secondary:QD,text:YD},it=T.forwardRef(({size:t="default",type:e="primary",submit:n,children:r,className:i,...s},o)=>{const a=Array.isArray(r)?r==null?void 0:r.some(c=>typeof c=="string"):typeof r=="string",l=t&&xr[t],u=[e&&xr[e],!a&&xr.icon];return d.jsx("button",{type:n?"submit":"button",className:X.join(xr.Button,i,l,u),ref:o,...s,children:d.jsx("span",{className:X.join(xr.label,en.button,l),children:r})})});it.displayName="Button";const Hv=T.forwardRef(({size:t="default",width:e,height:n,type:r="primary",blank:i,customStyle:s,children:o,className:a,style:l,...u},c)=>{const f=Array.isArray(o)?o==null?void 0:o.some(y=>typeof y=="string"):typeof o=="string",h=[t&&xr[t],r&&xr[r],!f&&xr.icon,xr.Button],p=i&&{target:"_blank",rel:"noreferrer noopener"},w=t==="custom"?{width:e,height:n}:{};return d.jsx("a",{className:X.join(a,!s&&h),ref:c,style:{...l,...w},...p,...u,children:d.jsx("span",{className:X.join(xr.label,en.button),children:o})})});Hv.displayName="ButtonLink";function II(){localStorage.clear(),window.location.reload()}function Hd(){return Date.now()}function XD(){const t=new Date;return`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`}function ii(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function JD(t,e){return typeof t=="string"?t[0]:ii(t)&&e||Array.isArray(t)&&e&&typeof e=="number"?String(t[e])[0]:""}function ZD(t,e){const n=t[0];if(typeof n!="string"&&typeof n!="number"&&!ii(n)&&!Array.isArray(n))throw new Error("Invalid value");if((ii(n)||Array.isArray(n))&&!e)throw new Error("No key provided");if(Array.isArray(n)&&typeof e=="string")throw new Error("Key should be array index number");const r=new Map;return t.forEach(i=>{const s=JD(i,e||void 0);r.has(s)?r.set(s,[...r.get(s),i]):r.set(s,[i])}),Array.from(r.entries())}function mr(t){return Object.keys(t).length===0}function ej(t,e){if(mr(t))throw new Error("Object is empty");return Object.values(t).includes(e)}function Ct(...t){return t.flat(1/0).filter(e=>e).join(" ").trim()}function xc(t){return new Date(Number(t))}function tj(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&typeof r!="number"&&!ii(r)&&!Array.isArray(r))throw new Error("Invalid value");if((ii(r)||Array.isArray(r))&&!e)throw new Error("No key provided");if(Array.isArray(r)&&typeof e=="string")throw new Error("Key should be array index number");let i=[];return(typeof r=="string"||typeof r=="number")&&(i=n.filter(s=>String(s).trim()!=="")),ii(r)&&e&&(i=n.filter(s=>String(s[e]).trim()!=="")),Array.isArray(r)&&e&&typeof e=="number"&&(i=n.filter(s=>String(s[e]).trim()!=="")),i}function xI(t,e,n=0,r=1/0){var o,a;const i=2+n;let s="Sorry, something went wrong ¯\\_(ツ)_/¯!";return t&&(typeof t=="string"&&(s=t),t instanceof Error&&(s=t.message)),e?console.error(`${e} >`,`${s}
`,(o=new Error().stack)==null?void 0:o.split(`
`).splice(i,r).join(`
`)):console.error(`${s}
`,(a=new Error().stack)==null?void 0:a.split(`
`).splice(i,r).join(`
`)),s}function nj(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&typeof r!="number"&&!ii(r)&&!Array.isArray(r))throw new Error("Invalid value");if((ii(r)||Array.isArray(r))&&!e)throw new Error("No key provided");if(Array.isArray(r)&&typeof e=="string")throw new Error("Key should be array index number");let i=[];return(typeof r=="string"||typeof r=="number")&&(i=n.sort((s,o)=>{const a=String(s),l=String(o);return a.localeCompare(l)})),ii(r)&&e&&(i=n.sort((s,o)=>{const a=String(s[e]),l=String(o[e]);return a.localeCompare(l.toString())})),Array.isArray(r)&&e&&typeof e=="number"&&(i=n.sort((s,o)=>{const a=String(s[e]),l=String(o[e]);return a.localeCompare(l)})),i}function rj(t,e,n="num"){const r=t.slice();return e&&r.sort((i,s)=>{if(n==="num"){if(+i[e]<+s[e])return-1;if(+i[e]>+s[e])return 1}else{if(i[e]<s[e])return-1;if(i[e]>s[e])return 1}return 0}),r}function w_(t){const e=t*1e3,n=new Date(e).toISOString().slice(11,19);return n.match(/^00/)?n.slice(3):n}const ij="ameliance-scripts";async function sj(t){if(t)try{return await navigator.clipboard.writeText(t),!0}catch(e){throw new Error(xI(e,ij))}return!1}function oj(){const[t,e]=T.useState();return T.useEffect(()=>{typeof t=="boolean"&&(t===!0&&!document.fullscreenElement?document.documentElement.requestFullscreen():document.exitFullscreen&&document.exitFullscreen())},[t]),e}function dr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ns(t){return!!t&&!!t[tt]}function fi(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===mj}(t)||Array.isArray(t)||!!t[x_]||!!(!((e=t.constructor)===null||e===void 0)&&e[x_])||qv(t)||Wv(t))}function Ks(t,e,n){n===void 0&&(n=!1),ba(t)===0?(n?Object.keys:Yo)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function ba(t){var e=t[tt];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:qv(t)?2:Wv(t)?3:0}function Qo(t,e){return ba(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function aj(t,e){return ba(t)===2?t.get(e):t[e]}function kI(t,e,n){var r=ba(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function bI(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function qv(t){return hj&&t instanceof Map}function Wv(t){return pj&&t instanceof Set}function Es(t){return t.o||t.t}function Kv(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=AI(t);delete e[tt];for(var n=Yo(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function Gv(t,e){return e===void 0&&(e=!1),Qv(t)||ns(t)||!fi(t)||(ba(t)>1&&(t.set=t.add=t.clear=t.delete=lj),Object.freeze(t),e&&Ks(t,function(n,r){return Gv(r,!0)},!0)),t}function lj(){dr(2)}function Qv(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Nr(t){var e=ey[t];return e||dr(18,t),e}function uj(t,e){ey[t]||(ey[t]=e)}function Xg(){return cu}function qp(t,e){e&&(Nr("Patches"),t.u=[],t.s=[],t.v=e)}function qd(t){Jg(t),t.p.forEach(cj),t.p=null}function Jg(t){t===cu&&(cu=t.l)}function __(t){return cu={p:[],l:cu,h:t,m:!0,_:0}}function cj(t){var e=t[tt];e.i===0||e.i===1?e.j():e.g=!0}function Wp(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Nr("ES5").S(e,t,r),r?(n[tt].P&&(qd(e),dr(4)),fi(t)&&(t=Wd(e,t),e.l||Kd(e,t)),e.u&&Nr("Patches").M(n[tt].t,t,e.u,e.s)):t=Wd(e,n,[]),qd(e),e.u&&e.v(e.u,e.s),t!==RI?t:void 0}function Wd(t,e,n){if(Qv(e))return e;var r=e[tt];if(!r)return Ks(e,function(a,l){return E_(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Kd(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Kv(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Ks(s,function(a,l){return E_(t,r,i,a,l,n,o)}),Kd(t,i,!1),n&&t.u&&Nr("Patches").N(r,n,t.u,t.s)}return r.o}function E_(t,e,n,r,i,s,o){if(ns(i)){var a=Wd(t,i,s&&e&&e.i!==3&&!Qo(e.R,r)?s.concat(r):void 0);if(kI(n,r,a),!ns(a))return;t.m=!1}else o&&n.add(i);if(fi(i)&&!Qv(i)){if(!t.h.D&&t._<1)return;Wd(t,i),e&&e.A.l||Kd(t,i)}}function Kd(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&Gv(e,n)}function Kp(t,e){var n=t[tt];return(n?Es(n):t)[e]}function S_(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Pi(t){t.P||(t.P=!0,t.l&&Pi(t.l))}function Gp(t){t.o||(t.o=Kv(t.t))}function Zg(t,e,n){var r=qv(e)?Nr("MapSet").F(e,n):Wv(e)?Nr("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Xg(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=du;o&&(l=[a],u=gl);var c=Proxy.revocable(l,u),f=c.revoke,h=c.proxy;return a.k=h,a.j=f,h}(e,n):Nr("ES5").J(e,n);return(n?n.A:Xg()).p.push(r),r}function dj(t){return ns(t)||dr(22,t),function e(n){if(!fi(n))return n;var r,i=n[tt],s=ba(n);if(i){if(!i.P&&(i.i<4||!Nr("ES5").K(i)))return i.t;i.I=!0,r=C_(n,s),i.I=!1}else r=C_(n,s);return Ks(r,function(o,a){i&&aj(i.t,o)===a||kI(r,o,e(a))}),s===3?new Set(r):r}(t)}function C_(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Kv(t)}function fj(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[tt];return du.get(l,s)},set:function(l){var u=this[tt];du.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][tt];if(!a.P)switch(a.i){case 5:r(a)&&Pi(a);break;case 4:n(a)&&Pi(a)}}}function n(s){for(var o=s.t,a=s.k,l=Yo(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==tt){var f=o[c];if(f===void 0&&!Qo(o,c))return!0;var h=a[c],p=h&&h[tt];if(p?p.t!==f:!bI(h,f))return!0}}var w=!!o[tt];return l.length!==Yo(o).length+(w?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};uj("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,f){if(c){for(var h=Array(f.length),p=0;p<f.length;p++)Object.defineProperty(h,""+p,t(p,!0));return h}var w=AI(f);delete w[tt];for(var y=Yo(w),v=0;v<y.length;v++){var g=y[v];w[g]=t(g,c||!!w[g].enumerable)}return Object.create(Object.getPrototypeOf(f),w)}(a,s),u={i:a?5:4,A:o?o.A:Xg(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,tt,{value:u,writable:!0}),l},S:function(s,o,a){a?ns(o)&&o[tt].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[tt];if(c){var f=c.t,h=c.k,p=c.R,w=c.i;if(w===4)Ks(h,function(_){_!==tt&&(f[_]!==void 0||Qo(f,_)?p[_]||l(h[_]):(p[_]=!0,Pi(c)))}),Ks(f,function(_){h[_]!==void 0||Qo(h,_)||(p[_]=!1,Pi(c))});else if(w===5){if(r(c)&&(Pi(c),p.length=!0),h.length<f.length)for(var y=h.length;y<f.length;y++)p[y]=!1;else for(var v=f.length;v<h.length;v++)p[v]=!0;for(var g=Math.min(h.length,f.length),m=0;m<g;m++)h.hasOwnProperty(m)||(p[m]=!0),p[m]===void 0&&l(h[m])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var T_,cu,Yv=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",hj=typeof Map<"u",pj=typeof Set<"u",I_=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",RI=Yv?Symbol.for("immer-nothing"):((T_={})["immer-nothing"]=!0,T_),x_=Yv?Symbol.for("immer-draftable"):"__$immer_draftable",tt=Yv?Symbol.for("immer-state"):"__$immer_state",mj=""+Object.prototype.constructor,Yo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,AI=Object.getOwnPropertyDescriptors||function(t){var e={};return Yo(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},ey={},du={get:function(t,e){if(e===tt)return t;var n=Es(t);if(!Qo(n,e))return function(i,s,o){var a,l=S_(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!fi(r)?r:r===Kp(t.t,e)?(Gp(t),t.o[e]=Zg(t.A.h,r,t)):r},has:function(t,e){return e in Es(t)},ownKeys:function(t){return Reflect.ownKeys(Es(t))},set:function(t,e,n){var r=S_(Es(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Kp(Es(t),e),s=i==null?void 0:i[tt];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(bI(n,i)&&(n!==void 0||Qo(t.t,e)))return!0;Gp(t),Pi(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Kp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Gp(t),Pi(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Es(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){dr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){dr(12)}},gl={};Ks(du,function(t,e){gl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),gl.deleteProperty=function(t,e){return gl.set.call(this,t,e,void 0)},gl.set=function(t,e,n){return du.set.call(this,t[0],e,n,t[0])};var gj=function(){function t(n){var r=this;this.O=I_,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(y){var v=this;y===void 0&&(y=a);for(var g=arguments.length,m=Array(g>1?g-1:0),_=1;_<g;_++)m[_-1]=arguments[_];return l.produce(y,function(E){var S;return(S=s).call.apply(S,[v,E].concat(m))})}}var u;if(typeof s!="function"&&dr(6),o!==void 0&&typeof o!="function"&&dr(7),fi(i)){var c=__(r),f=Zg(r,i,void 0),h=!0;try{u=s(f),h=!1}finally{h?qd(c):Jg(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(y){return qp(c,o),Wp(y,c)},function(y){throw qd(c),y}):(qp(c,o),Wp(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===RI&&(u=void 0),r.D&&Gv(u,!0),o){var p=[],w=[];Nr("Patches").M(i,u,p,w),o(p,w)}return u}dr(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,f=Array(c>1?c-1:0),h=1;h<c;h++)f[h-1]=arguments[h];return r.produceWithPatches(u,function(p){return i.apply(void 0,[p].concat(f))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){fi(n)||dr(8),ns(n)&&(n=dj(n));var r=__(this),i=Zg(this,n,void 0);return i[tt].C=!0,Jg(r),i},e.finishDraft=function(n,r){var i=n&&n[tt],s=i.A;return qp(s,r),Wp(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!I_&&dr(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Nr("Patches").$;return ns(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),jn=new gj,PI=jn.produce;jn.produceWithPatches.bind(jn);jn.setAutoFreeze.bind(jn);jn.setUseProxies.bind(jn);jn.applyPatches.bind(jn);jn.createDraft.bind(jn);jn.finishDraft.bind(jn);function fu(t){return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function yj(t,e){if(fu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vj(t){var e=yj(t,"string");return fu(e)==="symbol"?e:String(e)}function wj(t,e,n){return e=vj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k_(Object(n),!0).forEach(function(r){wj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var R_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Qp=function(){return Math.random().toString(36).substring(7).split("").join(".")},Gd={INIT:"@@redux/INIT"+Qp(),REPLACE:"@@redux/REPLACE"+Qp(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Qp()}};function _j(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Xv(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Qt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Qt(1));return n(Xv)(t,e)}if(typeof t!="function")throw new Error(Qt(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(Qt(3));return s}function f(y){if(typeof y!="function")throw new Error(Qt(4));if(l)throw new Error(Qt(5));var v=!0;return u(),a.push(y),function(){if(v){if(l)throw new Error(Qt(6));v=!1,u();var m=a.indexOf(y);a.splice(m,1),o=null}}}function h(y){if(!_j(y))throw new Error(Qt(7));if(typeof y.type>"u")throw new Error(Qt(8));if(l)throw new Error(Qt(9));try{l=!0,s=i(s,y)}finally{l=!1}for(var v=o=a,g=0;g<v.length;g++){var m=v[g];m()}return y}function p(y){if(typeof y!="function")throw new Error(Qt(10));i=y,h({type:Gd.REPLACE})}function w(){var y,v=f;return y={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(Qt(11));function _(){m.next&&m.next(c())}_();var E=v(_);return{unsubscribe:E}}},y[R_]=function(){return this},y}return h({type:Gd.INIT}),r={dispatch:h,subscribe:f,getState:c,replaceReducer:p},r[R_]=w,r}function Ej(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Gd.INIT});if(typeof r>"u")throw new Error(Qt(12));if(typeof n(void 0,{type:Gd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Qt(13))})}function NI(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{Ej(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,f={},h=0;h<s.length;h++){var p=s[h],w=n[p],y=l[p],v=w(y,u);if(typeof v>"u")throw u&&u.type,new Error(Qt(14));f[p]=v,c=c||v!==y}return c=c||s.length!==Object.keys(l).length,c?f:l}}function Qd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Sj(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Qt(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=Qd.apply(void 0,a)(i.dispatch),b_(b_({},i),{},{dispatch:s})}}}function LI(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var OI=LI();OI.withExtraArgument=LI;const A_=OI;var DI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cj=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},da=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Tj=Object.defineProperty,Ij=Object.defineProperties,xj=Object.getOwnPropertyDescriptors,P_=Object.getOwnPropertySymbols,kj=Object.prototype.hasOwnProperty,bj=Object.prototype.propertyIsEnumerable,N_=function(t,e,n){return e in t?Tj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Gi=function(t,e){for(var n in e||(e={}))kj.call(e,n)&&N_(t,n,e[n]);if(P_)for(var r=0,i=P_(e);r<i.length;r++){var n=i[r];bj.call(e,n)&&N_(t,n,e[n])}return t},Yp=function(t,e){return Ij(t,xj(e))},Rj=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},Aj=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Qd:Qd.apply(null,arguments)};function Pj(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var Nj=function(t){DI(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,da([void 0],n[0].concat(this)))):new(e.bind.apply(e,da([void 0],n.concat(this))))},e}(Array),Lj=function(t){DI(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,da([void 0],n[0].concat(this)))):new(e.bind.apply(e,da([void 0],n.concat(this))))},e}(Array);function ty(t){return fi(t)?PI(t,function(){}):t}function Oj(t){return typeof t=="boolean"}function Dj(){return function(e){return jj(e)}}function jj(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new Nj;return n&&(Oj(n)?r.push(A_):r.push(A_.withExtraArgument(n.extraArgument))),r}var Mj=!0;function $j(t){var e=Dj(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,f=n.enhancers,h=f===void 0?void 0:f,p;if(typeof i=="function")p=i;else if(Pj(i))p=NI(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var w=o;typeof w=="function"&&(w=w(e));var y=Sj.apply(void 0,w),v=Qd;l&&(v=Aj(Gi({trace:!Mj},typeof l=="object"&&l)));var g=new Lj(y),m=g;Array.isArray(h)?m=da([y],h):typeof h=="function"&&(m=h(g));var _=v.apply(void 0,m);return Xv(p,c,_)}function Qi(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Gi(Gi({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function jI(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function Uj(t){return typeof t=="function"}function Fj(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?jI(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(Uj(t))l=function(){return ty(t())};else{var u=ty(t);l=function(){return u}}function c(f,h){f===void 0&&(f=l());var p=da([s[h.type]],o.filter(function(w){var y=w.matcher;return y(h)}).map(function(w){var y=w.reducer;return y}));return p.filter(function(w){return!!w}).length===0&&(p=[a]),p.reduce(function(w,y){if(y)if(ns(w)){var v=w,g=y(v,h);return g===void 0?w:g}else{if(fi(w))return PI(w,function(m){return y(m,h)});var g=y(w,h);if(g===void 0){if(w===null)return w;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return w},f)}return c.getInitialState=l,c}function Vj(t,e){return t+"/"+e}function Ra(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:ty(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var f=r[c],h=Vj(e,c),p,w;"reducer"in f?(p=f.reducer,w=f.prepare):p=f,s[c]=p,o[h]=p,a[c]=w?Qi(h,w):Qi(h)});function l(){var c=typeof t.extraReducers=="function"?jI(t.extraReducers):[t.extraReducers],f=c[0],h=f===void 0?{}:f,p=c[1],w=p===void 0?[]:p,y=c[2],v=y===void 0?void 0:y,g=Gi(Gi({},h),o);return Fj(n,function(m){for(var _ in g)m.addCase(_,g[_]);for(var E=0,S=w;E<S.length;E++){var I=S[E];m.addMatcher(I.matcher,I.reducer)}v&&m.addDefaultCase(v)})}var u;return{name:e,reducer:function(c,f){return u||(u=l()),u(c,f)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var zj="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Bj=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=zj[Math.random()*64|0];return e},Hj=["name","message","stack","code"],Xp=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),L_=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),qj=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=Hj;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}},$r=function(){function t(e,n,r){var i=Qi(e+"/fulfilled",function(u,c,f,h){return{payload:u,meta:Yp(Gi({},h||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),s=Qi(e+"/pending",function(u,c,f){return{payload:void 0,meta:Yp(Gi({},f||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=Qi(e+"/rejected",function(u,c,f,h,p){return{payload:h,error:(r&&r.serializeError||qj)(u||"Rejected"),meta:Yp(Gi({},p||{}),{arg:f,requestId:c,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,f,h){var p=r!=null&&r.idGenerator?r.idGenerator(u):Bj(),w=new a,y;function v(m){y=m,w.abort()}var g=function(){return Rj(this,null,function(){var m,_,E,S,I,x,P;return Cj(this,function(R){switch(R.label){case 0:return R.trys.push([0,4,,5]),S=(m=r==null?void 0:r.condition)==null?void 0:m.call(r,u,{getState:f,extra:h}),Kj(S)?[4,S]:[3,2];case 1:S=R.sent(),R.label=2;case 2:if(S===!1||w.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return I=new Promise(function(O,W){return w.signal.addEventListener("abort",function(){return W({name:"AbortError",message:y||"Aborted"})})}),c(s(p,u,(_=r==null?void 0:r.getPendingMeta)==null?void 0:_.call(r,{requestId:p,arg:u},{getState:f,extra:h}))),[4,Promise.race([I,Promise.resolve(n(u,{dispatch:c,getState:f,extra:h,requestId:p,signal:w.signal,abort:v,rejectWithValue:function(O,W){return new Xp(O,W)},fulfillWithValue:function(O,W){return new L_(O,W)}})).then(function(O){if(O instanceof Xp)throw O;return O instanceof L_?i(O.payload,p,u,O.meta):i(O,p,u)})])];case 3:return E=R.sent(),[3,5];case 4:return x=R.sent(),E=x instanceof Xp?o(null,p,u,x.payload,x.meta):o(x,p,u),[3,5];case 5:return P=r&&!r.dispatchConditionRejection&&o.match(E)&&E.meta.condition,P||c(E),[2,E]}})})}();return Object.assign(g,{abort:v,requestId:p,arg:u,unwrap:function(){return g.then(Wj)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t}();function Wj(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Kj(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Jv="listenerMiddleware";Qi(Jv+"/add");Qi(Jv+"/removeAll");Qi(Jv+"/remove");var O_;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);fj();const Zv={version:"2023-03-28_15-54",name:"amelianceworship"},Gj={theme:"dark",version:Zv.version},MI=Ra({name:"app",initialState:Gj,reducers:{setTheme(t,e){t.theme=e.payload},toggleTheme(t){t.theme=t.theme==="light"?"dark":"light"}}}),ln=fL;function ae(t){return xI(t,Zv.name,1)}const Qj="AKfycbxGD1Lys79Ixt4BQ5mfH3ylX4_ZvtSGUFHltMILILPBWtcdPoSlI3FD5Ir8OcwtBA",$I=`https://script.google.com/macros/s/${Qj}/exec`;async function io({spreadsheetId:t,sheetName:e,sheetIndex:n,columnTitles:r,columnIndexes:i,type:s}){const o=new URLSearchParams;t&&o.append("spreadsheetId",t),e&&o.append("sheetName",e),n&&o.append("sheetIndex",n.toString()),r&&o.append("columnTitles",JSON.stringify(r)),i&&o.append("columnIndexes",JSON.stringify(i)),s&&o.append("type",s);try{const l=await(await fetch(`${$I}?${o}`)).text(),u=await JSON.parse(l);if(u.status!=="success")throw new Error(u.error);return u}catch(a){throw new Error(ae(a))}}async function Yj({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await io({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"TITLED"})}catch(r){throw new Error(ae(r))}}async function Xj({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await io({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"TITLED_SINGLE"})}catch(r){throw new Error(ae(r))}}async function Jj({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r}){try{return await io({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r,type:"TITLED"})}catch(i){throw new Error(ae(i))}}async function Zj({spreadsheetId:t,sheetIndex:e,sheetName:n,columnTitles:r}){try{return await io({spreadsheetId:t,sheetIndex:e,sheetName:n,columnTitles:r,type:"TITLED"})}catch(i){throw new Error(ae(i))}}async function eM({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await io({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"UNTITLED"})}catch(r){throw new Error(ae(r))}}async function tM({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await io({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"UNTITLED_SINGLE"})}catch(r){throw new Error(ae(r))}}async function nM({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r}){try{return io({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r,type:"UNTITLED"})}catch(i){throw new Error(ae(i))}}async function _i({spreadsheetId:t,sheetName:e,sheetIndex:n,titlesParams:r,indexesParams:i,type:s,col:o,row:a,value:l}){const u=new URLSearchParams;t&&u.append("spreadsheetId",t),e&&u.append("sheetName",e),n&&u.append("sheetIndex",n.toString()),r&&u.append("titlesParams",JSON.stringify(r)),i&&u.append("indexesParams",JSON.stringify(i)),s&&u.append("type",s),o&&u.append("col",o.toString()),a&&u.append("row",a.toString()),l&&u.append("value",l.toString());try{const f=await(await fetch(`${$I}?${u}`,{method:"POST"})).text(),h=await JSON.parse(f);if(h.status!=="success")throw new Error(h.error);return h}catch(c){throw new Error(ae(c))}}async function rM({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await _i({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"TITLED_SINGLE"})}catch(i){throw new Error(ae(i))}}async function iM({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){try{return await _i({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED_SINGLE"})}catch(i){throw new Error(ae(i))}}async function sM({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await _i({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"TITLED"})}catch(i){throw new Error(ae(i))}}async function oM({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){try{return await _i({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED"})}catch(i){throw new Error(ae(i))}}async function aM({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s}){try{return await _i({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s,type:"TITLED_UPDATE"})}catch(o){throw new Error(ae(o))}}async function lM({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await _i({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED_ONE_ROW"})}catch(i){throw new Error(ae(i))}}async function uM({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await _i({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED_SINGLE"})}catch(i){throw new Error(ae(i))}}async function cM({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await _i({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED"})}catch(i){throw new Error(ae(i))}}async function dM({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s}){try{return await _i({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s,type:"UNTITLED_UPDATE"})}catch(o){throw new Error(ae(o))}}const fM={getAllTitledColumnsData:Yj,getTitledColumnsDataByIndexes:Jj,getTitledColumnsDataByTitles:Zj,getAllUntitledColumnsData:eM,getUntitledColumnsDataByIndexes:nM,postTitledColumnsDataByIndexes:sM,postSingleTitledColumnsDataByIndexes:rM,postSingleTitledColumnsDataByTitles:iM,postTitledColumnsDataByTitles:oM,postAllUntitledParamsAsOneRow:lM,postSingleUntitledColumnsDataByIndexes:uM,postUntitledColumnsDataByIndexes:cM,postTitledUpdate:aM,postUntitledUpdate:dM,getAllTitledColumnsDataSingle:Xj,getAllUntitledColumnsDataSingle:tM};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},FI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),r.push(n[c],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new pM;const h=s<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const w=u<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mM=function(t){const e=UI(t);return FI.encodeByteArray(e,!0)},Yd=function(t){return mM(t).replace(/\./g,"")},VI=function(t){try{return FI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=()=>gM().__FIREBASE_DEFAULTS__,vM=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VI(t[1]);return e&&JSON.parse(e)},gh=()=>{try{return yM()||vM()||wM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zI=t=>{var e,n;return(n=(e=gh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},BI=t=>{const e=zI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_M=()=>{var t;return(t=gh())===null||t===void 0?void 0:t.config},HI=t=>{var e;return(e=gh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Yd(JSON.stringify(n)),Yd(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function CM(){var t;const e=(t=gh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IM(){const t=on();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KI(){try{return typeof indexedDB=="object"}catch{return!1}}function GI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function xM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM="FirebaseError";class er extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kM,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,so.prototype.create)}}class so{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?bM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new er(i,a,r)}}function bM(t,e){return t.replace(RM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const RM=/\{\$([^}]+)}/g;function AM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(D_(s)&&D_(o)){if(!hu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function D_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function vl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function PM(t,e){const n=new NM(t,e);return n.subscribe.bind(n)}class NM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Jp),i.error===void 0&&(i.error=Jp),i.complete===void 0&&(i.complete=Jp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=1e3,DM=2,jM=4*60*60*1e3,MM=.5;function j_(t,e=OM,n=DM){const r=e*Math.pow(n,t),i=Math.round(MM*r*(Math.random()-.5)*2);return Math.min(jM,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t){return t&&t._delegate?t._delegate:t}class Yn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new EM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FM(e))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ss){return this.instances.has(e)}getOptions(e=Ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ss){return this.component?this.component.multipleInstances?e:Ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UM(t){return t===Ss?void 0:t}function FM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $M(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const zM={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},BM=Oe.INFO,HM={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},qM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=HM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yh{constructor(e){this.name=e,this._logLevel=BM,this._logHandler=qM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const WM=(t,e)=>e.some(n=>t instanceof n);let M_,$_;function KM(){return M_||(M_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GM(){return $_||($_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QI=new WeakMap,ny=new WeakMap,YI=new WeakMap,Zp=new WeakMap,e1=new WeakMap;function QM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Yi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&QI.set(n,t)}).catch(()=>{}),e1.set(e,t),e}function YM(t){if(ny.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ny.set(t,e)}let ry={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ny.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XM(t){ry=t(ry)}function JM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(em(this),e,...n);return YI.set(r,e.sort?e.sort():[e]),Yi(r)}:GM().includes(t)?function(...e){return t.apply(em(this),e),Yi(QI.get(this))}:function(...e){return Yi(t.apply(em(this),e))}}function ZM(t){return typeof t=="function"?JM(t):(t instanceof IDBTransaction&&YM(t),WM(t,KM())?new Proxy(t,ry):t)}function Yi(t){if(t instanceof IDBRequest)return QM(t);if(Zp.has(t))return Zp.get(t);const e=ZM(t);return e!==t&&(Zp.set(t,e),e1.set(e,t)),e}const em=t=>e1.get(t);function XI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Yi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Yi(o.result),l.oldVersion,l.newVersion,Yi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const e$=["get","getKey","getAll","getAllKeys","count"],t$=["put","add","delete","clear"],tm=new Map;function U_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tm.get(e))return tm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=t$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||e$.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return tm.set(e,s),s}XM(t=>({...t,get:(e,n,r)=>U_(e,n)||t.get(e,n,r),has:(e,n)=>!!U_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(r$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function r$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const iy="@firebase/app",F_="0.9.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new yh("@firebase/app"),i$="@firebase/app-compat",s$="@firebase/analytics-compat",o$="@firebase/analytics",a$="@firebase/app-check-compat",l$="@firebase/app-check",u$="@firebase/auth",c$="@firebase/auth-compat",d$="@firebase/database",f$="@firebase/database-compat",h$="@firebase/functions",p$="@firebase/functions-compat",m$="@firebase/installations",g$="@firebase/installations-compat",y$="@firebase/messaging",v$="@firebase/messaging-compat",w$="@firebase/performance",_$="@firebase/performance-compat",E$="@firebase/remote-config",S$="@firebase/remote-config-compat",C$="@firebase/storage",T$="@firebase/storage-compat",I$="@firebase/firestore",x$="@firebase/firestore-compat",k$="firebase",b$="9.20.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="[DEFAULT]",R$={[iy]:"fire-core",[i$]:"fire-core-compat",[o$]:"fire-analytics",[s$]:"fire-analytics-compat",[l$]:"fire-app-check",[a$]:"fire-app-check-compat",[u$]:"fire-auth",[c$]:"fire-auth-compat",[d$]:"fire-rtdb",[f$]:"fire-rtdb-compat",[h$]:"fire-fn",[p$]:"fire-fn-compat",[m$]:"fire-iid",[g$]:"fire-iid-compat",[y$]:"fire-fcm",[v$]:"fire-fcm-compat",[w$]:"fire-perf",[_$]:"fire-perf-compat",[E$]:"fire-rc",[S$]:"fire-rc-compat",[C$]:"fire-gcs",[T$]:"fire-gcs-compat",[I$]:"fire-fst",[x$]:"fire-fst-compat","fire-js":"fire-js",[k$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=new Map,oy=new Map;function A$(t,e){try{t.container.addComponent(e)}catch(n){Gs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wr(t){const e=t.name;if(oy.has(e))return Gs.debug(`There were multiple attempts to register component ${e}.`),!1;oy.set(e,t);for(const n of Xd.values())A$(n,t);return!0}function fs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Xi=new so("app","Firebase",P$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=b$;function JI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:sy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xi.create("bad-app-name",{appName:String(i)});if(n||(n=_M()),!n)throw Xi.create("no-options");const s=Xd.get(i);if(s){if(hu(n,s.options)&&hu(r,s.config))return s;throw Xi.create("duplicate-app",{appName:i})}const o=new VM(i);for(const l of oy.values())o.addComponent(l);const a=new N$(n,r,o);return Xd.set(i,a),a}function vh(t=sy){const e=Xd.get(t);if(!e&&t===sy)return JI();if(!e)throw Xi.create("no-app",{appName:t});return e}function In(t,e,n){var r;let i=(r=R$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gs.warn(a.join(" "));return}wr(new Yn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$="firebase-heartbeat-database",O$=1,pu="firebase-heartbeat-store";let nm=null;function ZI(){return nm||(nm=XI(L$,O$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(pu)}}}).catch(t=>{throw Xi.create("idb-open",{originalErrorMessage:t.message})})),nm}async function D$(t){try{return(await ZI()).transaction(pu).objectStore(pu).get(ex(t))}catch(e){if(e instanceof er)Gs.warn(e.message);else{const n=Xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gs.warn(n.message)}}}async function V_(t,e){try{const r=(await ZI()).transaction(pu,"readwrite");return await r.objectStore(pu).put(e,ex(t)),r.done}catch(n){if(n instanceof er)Gs.warn(n.message);else{const r=Xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gs.warn(r.message)}}}function ex(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$=1024,M$=30*24*60*60*1e3;class $${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new F$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=z_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=M$}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=z_(),{heartbeatsToSend:n,unsentEntries:r}=U$(this._heartbeatsCache.heartbeats),i=Yd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function z_(){return new Date().toISOString().substring(0,10)}function U$(t,e=j$){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),B_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),B_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class F${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KI()?GI().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await D$(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return V_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return V_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function B_(t){return Yd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(t){wr(new Yn("platform-logger",e=>new n$(e),"PRIVATE")),wr(new Yn("heartbeat",e=>new $$(e),"PRIVATE")),In(iy,F_,t),In(iy,F_,"esm2017"),In("fire-js","")}V$("");function t1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tx(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z$=tx,nx=new so("auth","Firebase",tx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new yh("@firebase/auth");function B$(t,...e){Jd.logLevel<=Oe.WARN&&Jd.warn(`Auth (${oo}): ${t}`,...e)}function td(t,...e){Jd.logLevel<=Oe.ERROR&&Jd.error(`Auth (${oo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t,...e){throw n1(t,...e)}function Lr(t,...e){return n1(t,...e)}function rx(t,e,n){const r=Object.assign(Object.assign({},z$()),{[e]:n});return new so("auth","Firebase",r).create(e,{appName:t.name})}function H$(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Xn(t,"argument-error"),rx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function n1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nx.create(t,...e)}function ce(t,e,...n){if(!t)throw n1(e,...n)}function Jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw td(e),new Error(e)}function hi(t,e){t||Jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function q$(){return H_()==="http:"||H_()==="https:"}function H_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q$()||WI()||"connection"in navigator)?navigator.onLine:!0}function K$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,hi(n>e,"Short delay should be less than long delay!"),this.isMobile=SM()||TM()}get(){return W$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t,e){hi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$=new Mu(3e4,6e4);function Aa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ao(t,e,n,r,i={}){return sx(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ju(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),ix.fetch()(ox(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function sx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},G$),e);try{const i=new Y$(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw kc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw kc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw kc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw rx(t,c,u);Xn(t,c)}}catch(i){if(i instanceof er)throw i;Xn(t,"network-request-failed",{message:String(i)})}}async function $u(t,e,n,r,i={}){const s=await ao(t,e,n,r,i);return"mfaPendingCredential"in s&&Xn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function ox(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?r1(t.config,i):`${t.config.apiScheme}://${i}`}class Y${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lr(this.auth,"network-request-failed")),Q$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Lr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X$(t,e){return ao(t,"POST","/v1/accounts:delete",e)}async function J$(t,e){return ao(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Z$(t,e=!1){const n=We(t),r=await n.getIdToken(e),i=i1(r);ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ol(rm(i.auth_time)),issuedAtTime:Ol(rm(i.iat)),expirationTime:Ol(rm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function rm(t){return Number(t)*1e3}function i1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return td("JWT malformed, contained fewer than 3 sections"),null;try{const i=VI(n);return i?JSON.parse(i):(td("Failed to decode base64 JWT payload"),null)}catch(i){return td("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function e4(t){const e=i1(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof er&&t4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function t4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await fa(t,J$(n,{idToken:r}));ce(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?s4(s.providerUserInfo):[],a=i4(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ax(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function r4(t){const e=We(t);await Zd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function s4(t){return t.map(e=>{var{providerId:n}=e,r=t1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(t,e){const n=await sx(t,{},async()=>{const r=ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ox(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ix.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):e4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ce(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await o4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new mu;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ce(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mu,this.toJSON())}_performRefresh(){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ms{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=t1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new n4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ax(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await fa(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Z$(this,e)}reload(){return r4(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ms(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await fa(this,X$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:E,isAnonymous:S,providerData:I,stsTokenManager:x}=n;ce(_&&x,e,"internal-error");const P=mu.fromJSON(this.name,x);ce(typeof _=="string",e,"internal-error"),Ii(f,e.name),Ii(h,e.name),ce(typeof E=="boolean",e,"internal-error"),ce(typeof S=="boolean",e,"internal-error"),Ii(p,e.name),Ii(w,e.name),Ii(y,e.name),Ii(v,e.name),Ii(g,e.name),Ii(m,e.name);const R=new Ms({uid:_,auth:e,email:h,emailVerified:E,displayName:f,isAnonymous:S,photoURL:w,phoneNumber:p,tenantId:y,stsTokenManager:P,createdAt:g,lastLoginAt:m});return I&&Array.isArray(I)&&(R.providerData=I.map(O=>Object.assign({},O))),v&&(R._redirectEventId=v),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new mu;i.updateFromServerResponse(n);const s=new Ms({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Zd(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;function Zr(t){hi(t instanceof Function,"Expected a class definition");let e=q_.get(t);return e?(hi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,q_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lx.type="NONE";const W_=lx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(t,e,n){return`firebase:${t}:${e}:${n}`}class Xo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=nd(this.userKey,i.apiKey,s),this.fullPersistenceKey=nd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ms._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Xo(Zr(W_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Zr(W_);const o=nd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const f=Ms._fromJSON(e,c);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Xo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Xo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ux(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hx(e))return"Blackberry";if(px(e))return"Webos";if(s1(e))return"Safari";if((e.includes("chrome/")||cx(e))&&!e.includes("edge/"))return"Chrome";if(fx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ux(t=on()){return/firefox\//i.test(t)}function s1(t=on()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cx(t=on()){return/crios\//i.test(t)}function dx(t=on()){return/iemobile/i.test(t)}function fx(t=on()){return/android/i.test(t)}function hx(t=on()){return/blackberry/i.test(t)}function px(t=on()){return/webos/i.test(t)}function wh(t=on()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function a4(t=on()){var e;return wh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function l4(){return IM()&&document.documentMode===10}function mx(t=on()){return wh(t)||fx(t)||px(t)||hx(t)||/windows phone/i.test(t)||dx(t)}function u4(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t,e=[]){let n;switch(t){case"Browser":n=K_(on());break;case"Worker":n=`${K_(on())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oo}/${r}`}async function yx(t,e){return ao(t,"GET","/v2/recaptchaConfig",Aa(t,e))}function G_(t){return t!==void 0&&t.enterprise!==void 0}class vx{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function wx(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Lr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",c4().appendChild(r)})}function d4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const f4="https://www.google.com/recaptcha/enterprise.js?render=",h4="recaptcha-enterprise";class _x{constructor(e){this.type=h4,this.auth=lo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{yx(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new vx(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;G_(l)?l.enterprise.ready(()=>{try{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(u=>{a(u)})}catch(u){a(u)}}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&G_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}wx(f4+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function ef(t,e,n,r=!1){const i=new _x(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q_(this),this.idTokenSubscription=new Q_(this),this.beforeStateQueue=new p4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Xo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=K$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?We(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Zr(e))})}async initializeRecaptchaConfig(){const e=await yx(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new vx(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new _x(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new so("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zr(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await Xo.create(this,[Zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&B$(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function lo(t){return We(t)}class Q_{constructor(e){this.auth=e,this.observer=null,this.addObserver=PM(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t,e){const n=fs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(hu(s,e??{}))return i;Xn(i,"already-initialized")}return n.initialize({options:e})}function y4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function v4(t,e,n){const r=lo(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Ex(e),{host:o,port:a}=w4(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||_4()}function Ex(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function w4(t){const e=Ex(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Y_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Y_(o)}}}function Y_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,n){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}async function E4(t,e){return ao(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function im(t,e){return $u(t,"POST","/v1/accounts:signInWithPassword",Aa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(t,e){return $u(t,"POST","/v1/accounts:signInWithEmailLink",Aa(t,e))}async function C4(t,e){return $u(t,"POST","/v1/accounts:signInWithEmailLink",Aa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends o1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new gu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new gu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await ef(e,r,"signInWithPassword");return im(e,i)}else return im(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await ef(e,r,"signInWithPassword");return im(e,s)}else return Promise.reject(i)});case"emailLink":return S4(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return E4(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return C4(e,{idToken:n,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(t,e){return $u(t,"POST","/v1/accounts:signInWithIdp",Aa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="http://localhost";class Qs extends o1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=t1(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Qs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Jo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Jo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Jo(e,n)}buildRequest(){const e={requestUri:T4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ju(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function x4(t){const e=yl(vl(t)).link,n=e?yl(vl(e)).deep_link_id:null,r=yl(vl(t)).deep_link_id;return(r?yl(vl(r)).link:null)||r||n||e||t}class a1{constructor(e){var n,r,i,s,o,a;const l=yl(vl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=I4((i=l.mode)!==null&&i!==void 0?i:null);ce(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=x4(e);try{return new a1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.providerId=Pa.PROVIDER_ID}static credential(e,n){return gu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=a1.parseLink(n);return ce(r,"argument-error"),gu._fromEmailAndCode(e,r.code,r.tenantId)}}Pa.PROVIDER_ID="password";Pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends l1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Uu{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qs._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gr.credential(n,r)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Uu{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.GITHUB_SIGN_IN_METHOD="github.com";Li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Uu{constructor(){super("twitter.com")}static credential(e,n){return Qs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Oi.credential(n,r)}catch{return null}}}Oi.TWITTER_SIGN_IN_METHOD="twitter.com";Oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sm(t,e){return $u(t,"POST","/v1/accounts:signUp",Aa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ms._fromIdTokenResponse(e,r,i),o=X_(r);return new Ys({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=X_(r);return new Ys({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function X_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends er{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,tf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new tf(e,n,r,i)}}function Sx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?tf._fromErrorAndOperation(t,s,e,r):s})}async function k4(t,e,n=!1){const r=await fa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ys._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await fa(t,Sx(r,i,e,t),n);ce(s.idToken,r,"internal-error");const o=i1(s.idToken);ce(o,r,"internal-error");const{sub:a}=o;return ce(t.uid===a,r,"user-mismatch"),Ys._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Xn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cx(t,e,n=!1){const r="signIn",i=await Sx(t,r,e),s=await Ys._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function R4(t,e){return Cx(lo(t),e)}async function A4(t,e,n){var r;const i=lo(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await ef(i,s,"signUpPassword");o=sm(i,u)}else o=sm(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await ef(i,s,"signUpPassword");return sm(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await Ys._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function P4(t,e,n){return R4(We(t),Pa.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e){return ao(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L4(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=We(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await fa(r,N4(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function O4(t,e,n,r){return We(t).onIdTokenChanged(e,n,r)}function D4(t,e,n){return We(t).beforeAuthStateChanged(e,n)}function j4(t,e,n,r){return We(t).onAuthStateChanged(e,n,r)}function M4(t){return We(t).signOut()}const nf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nf,"1"),this.storage.removeItem(nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(){const t=on();return s1(t)||wh(t)}const U4=1e3,F4=10;class Ix extends Tx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=$4()&&u4(),this.fallbackToPolling=mx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);l4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,F4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},U4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ix.type="LOCAL";const V4=Ix;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx extends Tx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xx.type="SESSION";const kx=xx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new _h(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await z4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=u1("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return window}function H4(t){Or().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(){return typeof Or().WorkerGlobalScope<"u"&&typeof Or().importScripts=="function"}async function q4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function K4(){return bx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="firebaseLocalStorageDb",G4=1,rf="firebaseLocalStorage",Ax="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Eh(t,e){return t.transaction([rf],e?"readwrite":"readonly").objectStore(rf)}function Q4(){const t=indexedDB.deleteDatabase(Rx);return new Fu(t).toPromise()}function ly(){const t=indexedDB.open(Rx,G4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rf,{keyPath:Ax})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(rf)?e(r):(r.close(),await Q4(),e(await ly()))})})}async function J_(t,e,n){const r=Eh(t,!0).put({[Ax]:e,value:n});return new Fu(r).toPromise()}async function Y4(t,e){const n=Eh(t,!1).get(e),r=await new Fu(n).toPromise();return r===void 0?null:r.value}function Z_(t,e){const n=Eh(t,!0).delete(e);return new Fu(n).toPromise()}const X4=800,J4=3;class Px{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ly(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>J4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(K4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await q4(),!this.activeServiceWorker)return;this.sender=new B4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||W4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ly();return await J_(e,nf,"1"),await Z_(e,nf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>J_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Y4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Z_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Eh(i,!1).getAll();return new Fu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),X4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Px.type="LOCAL";const Z4=Px;new Mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t,e){return e?Zr(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1 extends o1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Jo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function e3(t){return Cx(t.auth,new c1(t),t.bypassAuthState)}function t3(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),b4(n,new c1(t),t.bypassAuthState)}async function n3(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),k4(n,new c1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return e3;case"linkViaPopup":case"linkViaRedirect":return n3;case"reauthViaPopup":case"reauthViaRedirect":return t3;default:Xn(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=new Mu(2e3,1e4);async function i3(t,e,n){const r=lo(t);H$(t,e,l1);const i=Nx(r,n);return new bs(r,"signInViaPopup",e,i).executeNotNull()}class bs extends Lx{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,bs.currentPopupAction&&bs.currentPopupAction.cancel(),bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=u1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,r3.get())};e()}}bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3="pendingRedirect",rd=new Map;class o3 extends Lx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rd.get(this.auth._key());if(!e){try{const r=await a3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rd.set(this.auth._key(),e)}return this.bypassAuthState||rd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function a3(t,e){const n=c3(e),r=u3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function l3(t,e){rd.set(t._key(),e)}function u3(t){return Zr(t._redirectPersistence)}function c3(t){return nd(s3,t.config.apiKey,t.name)}async function d3(t,e,n=!1){const r=lo(t),i=Nx(r,e),o=await new o3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=10*60*1e3;class h3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!p3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ox(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Lr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=f3&&this.cachedEventUids.clear(),this.cachedEventUids.has(eE(e))}saveEventToCache(e){this.cachedEventUids.add(eE(e)),this.lastProcessedEventTime=Date.now()}}function eE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ox({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function p3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ox(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(t,e={}){return ao(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y3=/^https?/;async function v3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await m3(t);for(const n of e)try{if(w3(n))return}catch{}Xn(t,"unauthorized-domain")}function w3(t){const e=ay(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!y3.test(n))return!1;if(g3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=new Mu(3e4,6e4);function tE(){const t=Or().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function E3(t){return new Promise((e,n)=>{var r,i,s;function o(){tE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tE(),n(Lr(t,"network-request-failed"))},timeout:_3.get()})}if(!((i=(r=Or().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Or().gapi)===null||s===void 0)&&s.load)o();else{const a=d4("iframefcb");return Or()[a]=()=>{gapi.load?o():n(Lr(t,"network-request-failed"))},wx(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw id=null,e})}let id=null;function S3(t){return id=id||E3(t),id}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=new Mu(5e3,15e3),T3="__/auth/iframe",I3="emulator/auth/iframe",x3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function b3(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?r1(e,I3):`https://${t.config.authDomain}/${T3}`,r={apiKey:e.apiKey,appName:t.name,v:oo},i=k3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ju(r).slice(1)}`}async function R3(t){const e=await S3(t),n=Or().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:b3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Lr(t,"network-request-failed"),a=Or().setTimeout(()=>{s(o)},C3.get());function l(){Or().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P3=500,N3=600,L3="_blank",O3="http://localhost";class nE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function D3(t,e,n,r=P3,i=N3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},A3),{width:r.toString(),height:i.toString(),top:s,left:o}),u=on().toLowerCase();n&&(a=cx(u)?L3:n),ux(u)&&(e=e||O3,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,w])=>`${h}${p}=${w},`,"");if(a4(u)&&a!=="_self")return j3(e||"",a),new nE(null);const f=window.open(e||"",a,c);ce(f,t,"popup-blocked");try{f.focus()}catch{}return new nE(f)}function j3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3="__/auth/handler",$3="emulator/auth/handler",U3=encodeURIComponent("fac");async function rE(t,e,n,r,i,s){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:oo,eventId:i};if(e instanceof l1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",AM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries(s||{}))o[c]=f}if(e instanceof Uu){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${U3}=${encodeURIComponent(l)}`:"";return`${F3(t)}?${ju(a).slice(1)}${u}`}function F3({config:t}){return t.emulator?r1(t,$3):`https://${t.authDomain}/${M3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="webStorageSupport";class V3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kx,this._completeRedirectFn=d3,this._overrideRedirectResult=l3}async _openPopup(e,n,r,i){var s;hi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await rE(e,n,r,ay(),i);return D3(e,o,u1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await rE(e,n,r,ay(),i);return H4(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(hi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await R3(e),r=new h3(e);return n.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(om,{type:om},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[om];o!==void 0&&n(!!o),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=v3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mx()||s1()||wh()}}const z3=V3;var iE="@firebase/auth",sE="0.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function q3(t){wr(new Yn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name}),ce(!(a!=null&&a.includes(":")),"argument-error",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gx(t)},u=new m4(r,i,s,l);return y4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wr(new Yn("auth-internal",e=>{const n=lo(e.getProvider("auth").getImmediate());return(r=>new B3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),In(iE,sE,H3(t)),In(iE,sE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=5*60,K3=HI("authIdTokenMaxAge")||W3;let oE=null;const G3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>K3)return;const i=n==null?void 0:n.token;oE!==i&&(oE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Q3(t=vh()){const e=fs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=g4(t,{popupRedirectResolver:z3,persistence:[Z4,V4,kx]}),r=HI("authTokenSyncURL");if(r){const s=G3(r);D4(n,s,()=>s(n.currentUser)),O4(n,o=>s(o))}const i=zI("auth");return i&&v4(n,`http://${i}`),n}q3("Browser");const Dx="@firebase/installations",d1="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=1e4,Mx=`w:${d1}`,$x="FIS_v2",Y3="https://firebaseinstallations.googleapis.com/v1",X3=60*60*1e3,J3="installations",Z3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},Xs=new so(J3,Z3,e6);function Ux(t){return t instanceof er&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx({projectId:t}){return`${Y3}/projects/${t}/installations`}function Vx(t){return{token:t.token,requestStatus:2,expiresIn:n6(t.expiresIn),creationTime:Date.now()}}async function zx(t,e){const r=(await e.json()).error;return Xs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Bx({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function t6(t,{refreshToken:e}){const n=Bx(t);return n.append("Authorization",r6(e)),n}async function Hx(t){const e=await t();return e.status>=500&&e.status<600?t():e}function n6(t){return Number(t.replace("s","000"))}function r6(t){return`${$x} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i6({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Fx(t),i=Bx(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:$x,appId:t.appId,sdkVersion:Mx},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Hx(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:Vx(u.authToken)}}else throw await zx("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=/^[cdef][\w-]{21}$/,uy="";function a6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=l6(t);return o6.test(n)?n:uy}catch{return uy}}function l6(t){return s6(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=new Map;function Kx(t,e){const n=Sh(t);Gx(n,e),u6(n,e)}function Gx(t,e){const n=Wx.get(t);if(n)for(const r of n)r(e)}function u6(t,e){const n=c6();n&&n.postMessage({key:t,fid:e}),d6()}let Rs=null;function c6(){return!Rs&&"BroadcastChannel"in self&&(Rs=new BroadcastChannel("[Firebase] FID Change"),Rs.onmessage=t=>{Gx(t.data.key,t.data.fid)}),Rs}function d6(){Wx.size===0&&Rs&&(Rs.close(),Rs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6="firebase-installations-database",h6=1,Js="firebase-installations-store";let am=null;function f1(){return am||(am=XI(f6,h6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Js)}}})),am}async function sf(t,e){const n=Sh(t),i=(await f1()).transaction(Js,"readwrite"),s=i.objectStore(Js),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Kx(t,e.fid),e}async function Qx(t){const e=Sh(t),r=(await f1()).transaction(Js,"readwrite");await r.objectStore(Js).delete(e),await r.done}async function Ch(t,e){const n=Sh(t),i=(await f1()).transaction(Js,"readwrite"),s=i.objectStore(Js),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Kx(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h1(t){let e;const n=await Ch(t.appConfig,r=>{const i=p6(r),s=m6(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===uy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function p6(t){const e=t||{fid:a6(),registrationStatus:0};return Yx(e)}function m6(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Xs.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=g6(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:y6(t)}:{installationEntry:e}}async function g6(t,e){try{const n=await i6(t,e);return sf(t.appConfig,n)}catch(n){throw Ux(n)&&n.customData.serverCode===409?await Qx(t.appConfig):await sf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function y6(t){let e=await aE(t.appConfig);for(;e.registrationStatus===1;)await qx(100),e=await aE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await h1(t);return r||n}return e}function aE(t){return Ch(t,e=>{if(!e)throw Xs.create("installation-not-found");return Yx(e)})}function Yx(t){return v6(t)?{fid:t.fid,registrationStatus:0}:t}function v6(t){return t.registrationStatus===1&&t.registrationTime+jx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w6({appConfig:t,heartbeatServiceProvider:e},n){const r=_6(t,n),i=t6(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:Mx,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Hx(()=>fetch(r,a));if(l.ok){const u=await l.json();return Vx(u)}else throw await zx("Generate Auth Token",l)}function _6(t,{fid:e}){return`${Fx(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p1(t,e=!1){let n;const r=await Ch(t.appConfig,s=>{if(!Xx(s))throw Xs.create("not-registered");const o=s.authToken;if(!e&&C6(o))return s;if(o.requestStatus===1)return n=E6(t,e),s;{if(!navigator.onLine)throw Xs.create("app-offline");const a=I6(s);return n=S6(t,a),a}});return n?await n:r.authToken}async function E6(t,e){let n=await lE(t.appConfig);for(;n.authToken.requestStatus===1;)await qx(100),n=await lE(t.appConfig);const r=n.authToken;return r.requestStatus===0?p1(t,e):r}function lE(t){return Ch(t,e=>{if(!Xx(e))throw Xs.create("not-registered");const n=e.authToken;return x6(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function S6(t,e){try{const n=await w6(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await sf(t.appConfig,r),n}catch(n){if(Ux(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Qx(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await sf(t.appConfig,r)}throw n}}function Xx(t){return t!==void 0&&t.registrationStatus===2}function C6(t){return t.requestStatus===2&&!T6(t)}function T6(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+X3}function I6(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function x6(t){return t.requestStatus===1&&t.requestTime+jx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(t){const e=t,{installationEntry:n,registrationPromise:r}=await h1(e);return r?r.catch(console.error):p1(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b6(t,e=!1){const n=t;return await R6(n),(await p1(n,e)).token}async function R6(t){const{registrationPromise:e}=await h1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t){if(!t||!t.options)throw lm("App Configuration");if(!t.name)throw lm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw lm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function lm(t){return Xs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="installations",P6="installations-internal",N6=t=>{const e=t.getProvider("app").getImmediate(),n=A6(e),r=fs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},L6=t=>{const e=t.getProvider("app").getImmediate(),n=fs(e,Jx).getImmediate();return{getId:()=>k6(n),getToken:i=>b6(n,i)}};function O6(){wr(new Yn(Jx,N6,"PUBLIC")),wr(new Yn(P6,L6,"PRIVATE"))}O6();In(Dx,d1);In(Dx,d1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="analytics",D6="firebase_id",j6="origin",M6=60*1e3,$6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",m1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn=new yh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ln=new so("analytics","Analytics",U6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t){if(!t.startsWith(m1)){const e=Ln.create("invalid-gtag-resource",{gtagURL:t});return xn.warn(e.message),""}return t}function Zx(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function V6(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function z6(t,e){const n=V6("firebase-js-sdk-policy",{createScriptURL:F6}),r=document.createElement("script"),i=`${m1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function B6(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function H6(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await Zx(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){xn.error(a)}t("config",i,s)}async function q6(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await Zx(n);for(const l of o){const u=a.find(f=>f.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){xn.error(s)}}function W6(t,e,n,r){async function i(s,o,a){try{s==="event"?await q6(t,e,n,o,a):s==="config"?await H6(t,e,n,r,o,a):s==="consent"?t("consent","update",a):t("set",o)}catch(l){xn.error(l)}}return i}function K6(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=W6(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function G6(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(m1)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=30,Y6=1e3;class X6{constructor(e={},n=Y6){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ek=new X6;function J6(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Z6(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:J6(r)},s=$6.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Ln.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function eU(t,e=ek,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Ln.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ln.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new rU;return setTimeout(async()=>{a.abort()},n!==void 0?n:M6),tk({appId:r,apiKey:i,measurementId:s},o,a,e)}async function tk(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=ek){var s;const{appId:o,measurementId:a}=t;try{await tU(r,e)}catch(l){if(a)return xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await Z6(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!nU(u)){if(i.deleteThrottleMetadata(o),a)return xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?j_(n,i.intervalMillis,Q6):j_(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,f),xn.debug(`Calling attemptFetch again in ${c} millis`),tk(t,f,r,i)}}function tU(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Ln.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function nU(t){if(!(t instanceof er)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class rU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function iU(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sU(){if(KI())try{await GI()}catch(t){return xn.warn(Ln.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return xn.warn(Ln.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function oU(t,e,n,r,i,s,o){var a;const l=eU(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&xn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>xn.error(p)),e.push(l);const u=sU().then(p=>{if(p)return r.getId()}),[c,f]=await Promise.all([l,u]);G6(s)||z6(s,c.measurementId),i("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[j6]="firebase",h.update=!0,f!=null&&(h[D6]=f),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e){this.app=e}_delete(){return delete Dl[this.app.options.appId],Promise.resolve()}}let Dl={},uE=[];const cE={};let um="dataLayer",lU="gtag",dE,nk,fE=!1;function uU(){const t=[];if(WI()&&t.push("This is a browser extension environment."),xM()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ln.create("invalid-analytics-context",{errorInfo:e});xn.warn(n.message)}}function cU(t,e,n){uU();const r=t.options.appId;if(!r)throw Ln.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ln.create("no-api-key");if(Dl[r]!=null)throw Ln.create("already-exists",{id:r});if(!fE){B6(um);const{wrappedGtag:s,gtagCore:o}=K6(Dl,uE,cE,um,lU);nk=s,dE=o,fE=!0}return Dl[r]=oU(t,uE,cE,e,dE,um,n),new aU(t)}function dU(t=vh()){t=We(t);const e=fs(t,of);return e.isInitialized()?e.getImmediate():fU(t)}function fU(t,e={}){const n=fs(t,of);if(n.isInitialized()){const i=n.getImmediate();if(hu(e,n.getOptions()))return i;throw Ln.create("already-initialized")}return n.initialize({options:e})}function hU(t,e,n,r){t=We(t),iU(nk,Dl[t.app.options.appId],e,n,r).catch(i=>xn.error(i))}const hE="@firebase/analytics",pE="0.9.5";function pU(){wr(new Yn(of,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return cU(r,i,n)},"PUBLIC")),wr(new Yn("analytics-internal",t,"PRIVATE")),In(hE,pE),In(hE,pE,"esm2017");function t(e){try{const n=e.getProvider(of).getImmediate();return{logEvent:(r,i,s)=>hU(n,r,i,s)}}catch(n){throw Ln.create("interop-component-reg-failed",{reason:n})}}}pU();var mU="firebase",gU="9.20.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In(mU,gU,"app");var yU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ee,g1=g1||{},me=yU||self;function af(){}function Th(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Vu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function vU(t){return Object.prototype.hasOwnProperty.call(t,cm)&&t[cm]||(t[cm]=++wU)}var cm="closure_uid_"+(1e9*Math.random()>>>0),wU=0;function _U(t,e,n){return t.call.apply(t.bind,arguments)}function EU(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function tn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?tn=_U:tn=EU,tn.apply(null,arguments)}function bc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ht(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function hs(){this.s=this.s,this.o=this.o}var SU=0;hs.prototype.s=!1;hs.prototype.na=function(){!this.s&&(this.s=!0,this.M(),SU!=0)&&vU(this)};hs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rk=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function y1(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function mE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Th(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function nn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}nn.prototype.h=function(){this.defaultPrevented=!0};var CU=function(){if(!me.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{me.addEventListener("test",af,e),me.removeEventListener("test",af,e)}catch{}return t}();function lf(t){return/^[\s\xa0]*$/.test(t)}var gE=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function dm(t,e){return t<e?-1:t>e?1:0}function Ih(){var t=me.navigator;return t&&(t=t.userAgent)?t:""}function kr(t){return Ih().indexOf(t)!=-1}function v1(t){return v1[" "](t),t}v1[" "]=af;function TU(t){var e=kU;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var IU=kr("Opera"),ha=kr("Trident")||kr("MSIE"),ik=kr("Edge"),cy=ik||ha,sk=kr("Gecko")&&!(Ih().toLowerCase().indexOf("webkit")!=-1&&!kr("Edge"))&&!(kr("Trident")||kr("MSIE"))&&!kr("Edge"),xU=Ih().toLowerCase().indexOf("webkit")!=-1&&!kr("Edge");function ok(){var t=me.document;return t?t.documentMode:void 0}var uf;e:{var fm="",hm=function(){var t=Ih();if(sk)return/rv:([^\);]+)(\)|;)/.exec(t);if(ik)return/Edge\/([\d\.]+)/.exec(t);if(ha)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(xU)return/WebKit\/(\S+)/.exec(t);if(IU)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(hm&&(fm=hm?hm[1]:""),ha){var pm=ok();if(pm!=null&&pm>parseFloat(fm)){uf=String(pm);break e}}uf=fm}var kU={};function bU(){return TU(function(){let t=0;const e=gE(String(uf)).split("."),n=gE("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=dm(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||dm(i[2].length==0,s[2].length==0)||dm(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var dy;if(me.document&&ha){var yE=ok();dy=yE||parseInt(uf,10)||void 0}else dy=void 0;var RU=dy;function yu(t,e){if(nn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(sk){e:{try{v1(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:AU[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&yu.X.h.call(this)}}Ht(yu,nn);var AU={2:"touch",3:"pen",4:"mouse"};yu.prototype.h=function(){yu.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var zu="closure_listenable_"+(1e6*Math.random()|0),PU=0;function NU(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++PU,this.ba=this.ea=!1}function xh(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function w1(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function ak(t){const e={};for(const n in t)e[n]=t[n];return e}const vE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lk(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<vE.length;s++)n=vE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function kh(t){this.src=t,this.g={},this.h=0}kh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=hy(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new NU(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function fy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=rk(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(xh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function hy(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var _1="closure_lm_"+(1e6*Math.random()|0),mm={};function uk(t,e,n,r,i){if(r&&r.once)return dk(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)uk(t,e[s],n,r,i);return null}return n=C1(n),t&&t[zu]?t.N(e,n,Vu(r)?!!r.capture:!!r,i):ck(t,e,n,!1,r,i)}function ck(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Vu(i)?!!i.capture:!!i,a=S1(t);if(a||(t[_1]=a=new kh(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=LU(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)CU||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hk(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function LU(){function t(n){return e.call(t.src,t.listener,n)}const e=OU;return t}function dk(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)dk(t,e[s],n,r,i);return null}return n=C1(n),t&&t[zu]?t.O(e,n,Vu(r)?!!r.capture:!!r,i):ck(t,e,n,!0,r,i)}function fk(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)fk(t,e[s],n,r,i);else r=Vu(r)?!!r.capture:!!r,n=C1(n),t&&t[zu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=hy(s,n,r,i),-1<n&&(xh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=S1(t))&&(e=t.g[e.toString()],t=-1,e&&(t=hy(e,n,r,i)),(n=-1<t?e[t]:null)&&E1(n))}function E1(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[zu])fy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hk(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=S1(e))?(fy(n,t),n.h==0&&(n.src=null,e[_1]=null)):xh(t)}}}function hk(t){return t in mm?mm[t]:mm[t]="on"+t}function OU(t,e){if(t.ba)t=!0;else{e=new yu(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&E1(t),t=n.call(r,e)}return t}function S1(t){return t=t[_1],t instanceof kh?t:null}var gm="__closure_events_fn_"+(1e9*Math.random()>>>0);function C1(t){return typeof t=="function"?t:(t[gm]||(t[gm]=function(e){return t.handleEvent(e)}),t[gm])}function Ot(){hs.call(this),this.i=new kh(this),this.P=this,this.I=null}Ht(Ot,hs);Ot.prototype[zu]=!0;Ot.prototype.removeEventListener=function(t,e,n,r){fk(this,t,e,n,r)};function zt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new nn(e,t);else if(e instanceof nn)e.target=e.target||t;else{var i=e;e=new nn(r,t),lk(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Rc(o,r,!0,e)&&i}if(o=e.g=t,i=Rc(o,r,!0,e)&&i,i=Rc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Rc(o,r,!1,e)&&i}Ot.prototype.M=function(){if(Ot.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xh(n[r]);delete t.g[e],t.h--}}this.I=null};Ot.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ot.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Rc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&fy(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var T1=me.JSON.stringify;function DU(){var t=gk;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class jU{constructor(){this.h=this.g=null}add(e,n){const r=pk.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var pk=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new MU,t=>t.reset());class MU{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function $U(t){me.setTimeout(()=>{throw t},0)}function mk(t,e){py||UU(),my||(py(),my=!0),gk.add(t,e)}var py;function UU(){var t=me.Promise.resolve(void 0);py=function(){t.then(FU)}}var my=!1,gk=new jU;function FU(){for(var t;t=DU();){try{t.h.call(t.g)}catch(n){$U(n)}var e=pk;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}my=!1}function bh(t,e){Ot.call(this),this.h=t||1,this.g=e||me,this.j=tn(this.lb,this),this.l=Date.now()}Ht(bh,Ot);ee=bh.prototype;ee.ca=!1;ee.R=null;ee.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),zt(this,"tick"),this.ca&&(I1(this),this.start()))}};ee.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function I1(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}ee.M=function(){bh.X.M.call(this),I1(this),delete this.g};function x1(t,e,n){if(typeof t=="function")n&&(t=tn(t,n));else if(t&&typeof t.handleEvent=="function")t=tn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:me.setTimeout(t,e||0)}function yk(t){t.g=x1(()=>{t.g=null,t.i&&(t.i=!1,yk(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class VU extends hs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yk(this)}M(){super.M(),this.g&&(me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vu(t){hs.call(this),this.h=t,this.g={}}Ht(vu,hs);var wE=[];function vk(t,e,n,r){Array.isArray(n)||(n&&(wE[0]=n.toString()),n=wE);for(var i=0;i<n.length;i++){var s=uk(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function wk(t){w1(t.g,function(e,n){this.g.hasOwnProperty(n)&&E1(e)},t),t.g={}}vu.prototype.M=function(){vu.X.M.call(this),wk(this)};vu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Rh(){this.g=!0}Rh.prototype.Aa=function(){this.g=!1};function zU(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function BU(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Fo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+qU(t,n)+(r?" "+r:"")})}function HU(t,e){t.info(function(){return"TIMEOUT: "+e})}Rh.prototype.info=function(){};function qU(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return T1(n)}catch{return e}}var uo={},_E=null;function Ah(){return _E=_E||new Ot}uo.Pa="serverreachability";function _k(t){nn.call(this,uo.Pa,t)}Ht(_k,nn);function wu(t){const e=Ah();zt(e,new _k(e))}uo.STAT_EVENT="statevent";function Ek(t,e){nn.call(this,uo.STAT_EVENT,t),this.stat=e}Ht(Ek,nn);function fn(t){const e=Ah();zt(e,new Ek(e,t))}uo.Qa="timingevent";function Sk(t,e){nn.call(this,uo.Qa,t),this.size=e}Ht(Sk,nn);function Bu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return me.setTimeout(function(){t()},e)}var Ph={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Ck={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function k1(){}k1.prototype.h=null;function EE(t){return t.h||(t.h=t.i())}function Tk(){}var Hu={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function b1(){nn.call(this,"d")}Ht(b1,nn);function R1(){nn.call(this,"c")}Ht(R1,nn);var gy;function Nh(){}Ht(Nh,k1);Nh.prototype.g=function(){return new XMLHttpRequest};Nh.prototype.i=function(){return{}};gy=new Nh;function qu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new vu(this),this.O=WU,t=cy?125:void 0,this.T=new bh(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Ik}function Ik(){this.i=null,this.g="",this.h=!1}var WU=45e3,yy={},cf={};ee=qu.prototype;ee.setTimeout=function(t){this.O=t};function vy(t,e,n){t.K=1,t.v=Oh(pi(e)),t.s=n,t.P=!0,xk(t,null)}function xk(t,e){t.F=Date.now(),Wu(t),t.A=pi(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),Ok(n.i,"t",r),t.C=0,n=t.l.H,t.h=new Ik,t.g=tb(t.l,n?e:null,!t.s),0<t.N&&(t.L=new VU(tn(t.La,t,t.g),t.N)),vk(t.S,t.g,"readystatechange",t.ib),e=t.H?ak(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),wu(),zU(t.j,t.u,t.A,t.m,t.U,t.s)}ee.ib=function(t){t=t.target;const e=this.L;e&&ei(t)==3?e.l():this.La(t)};ee.La=function(t){try{if(t==this.g)e:{const c=ei(this.g);var e=this.g.Ea();const f=this.g.aa();if(!(3>c)&&(c!=3||cy||this.g&&(this.h.h||this.g.fa()||IE(this.g)))){this.I||c!=4||e==7||(e==8||0>=f?wu(3):wu(2)),Lh(this);var n=this.g.aa();this.Y=n;t:if(kk(this)){var r=IE(this.g);t="";var i=r.length,s=ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){As(this),jl(this);var o="";break t}this.h.i=new me.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,BU(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lf(a)){var u=a;break t}}u=null}if(n=u)Fo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,wy(this,n);else{this.i=!1,this.o=3,fn(12),As(this),jl(this);break e}}this.P?(bk(this,c,o),cy&&this.i&&c==3&&(vk(this.S,this.T,"tick",this.hb),this.T.start())):(Fo(this.j,this.m,o,null),wy(this,o)),c==4&&As(this),this.i&&!this.I&&(c==4?Xk(this.l,this):(this.i=!1,Wu(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,fn(12)):(this.o=0,fn(13)),As(this),jl(this)}}}catch{}finally{}};function kk(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function bk(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=KU(t,n),i==cf){e==4&&(t.o=4,fn(14),r=!1),Fo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==yy){t.o=4,fn(15),Fo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Fo(t.j,t.m,i,null),wy(t,i);kk(t)&&i!=cf&&i!=yy&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,fn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),j1(e),e.K=!0,fn(11))):(Fo(t.j,t.m,n,"[Invalid Chunked Response]"),As(t),jl(t))}ee.hb=function(){if(this.g){var t=ei(this.g),e=this.g.fa();this.C<e.length&&(Lh(this),bk(this,t,e),this.i&&t!=4&&Wu(this))}};function KU(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?cf:(n=Number(e.substring(n,r)),isNaN(n)?yy:(r+=1,r+n>e.length?cf:(e=e.substr(r,n),t.C=r+n,e)))}ee.cancel=function(){this.I=!0,As(this)};function Wu(t){t.V=Date.now()+t.O,Rk(t,t.O)}function Rk(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Bu(tn(t.gb,t),e)}function Lh(t){t.B&&(me.clearTimeout(t.B),t.B=null)}ee.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(HU(this.j,this.A),this.K!=2&&(wu(),fn(17)),As(this),this.o=2,jl(this)):Rk(this,this.V-t)};function jl(t){t.l.G==0||t.I||Xk(t.l,t)}function As(t){Lh(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,I1(t.T),wk(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function wy(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||_y(n.h,t))){if(!t.J&&_y(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)hf(n),Mh(n);else break e;D1(n),fn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Bu(tn(n.cb,n),6e3));if(1>=Mk(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Ps(n,11)}else if((t.J||n.g==t)&&hf(n),!lf(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const f=u[4];f!=null&&(n.Ca=f,n.j.info("SVER="+n.Ca));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const w=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var s=r.h;s.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(A1(s,s.h),s.h=null))}if(r.D){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.za=y,rt(r.F,r.D,y))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=eb(r,r.H?r.ka:null,r.V),o.J){$k(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Lh(a),Wu(a)),r.g=o}else Qk(r);0<n.i.length&&$h(n)}else u[0]!="stop"&&u[0]!="close"||Ps(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ps(n,7):O1(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}wu(4)}catch{}}function GU(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Th(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function QU(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Th(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Ak(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Th(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=QU(t),r=GU(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Pk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function $s(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof $s){this.h=e!==void 0?e:t.h,df(this,t.j),this.s=t.s,this.g=t.g,ff(this,t.m),this.l=t.l,e=t.i;var n=new _u;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),SE(this,n),this.o=t.o}else t&&(n=String(t).match(Pk))?(this.h=!!e,df(this,n[1]||"",!0),this.s=wl(n[2]||""),this.g=wl(n[3]||"",!0),ff(this,n[4]),this.l=wl(n[5]||"",!0),SE(this,n[6]||"",!0),this.o=wl(n[7]||"")):(this.h=!!e,this.i=new _u(null,this.h))}$s.prototype.toString=function(){var t=[],e=this.j;e&&t.push(_l(e,CE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(_l(e,CE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(_l(n,n.charAt(0)=="/"?ZU:JU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",_l(n,t5)),t.join("")};function pi(t){return new $s(t)}function df(t,e,n){t.j=n?wl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ff(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function SE(t,e,n){e instanceof _u?(t.i=e,n5(t.i,t.h)):(n||(e=_l(e,e5)),t.i=new _u(e,t.h))}function rt(t,e,n){t.i.set(e,n)}function Oh(t){return rt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function wl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function _l(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,XU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function XU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var CE=/[#\/\?@]/g,JU=/[#\?:]/g,ZU=/[#\?]/g,e5=/[#\?@]/g,t5=/#/g;function _u(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ps(t){t.g||(t.g=new Map,t.h=0,t.i&&YU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ee=_u.prototype;ee.add=function(t,e){ps(this),this.i=null,t=Na(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Nk(t,e){ps(t),e=Na(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Lk(t,e){return ps(t),e=Na(t,e),t.g.has(e)}ee.forEach=function(t,e){ps(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ee.oa=function(){ps(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ee.W=function(t){ps(this);let e=[];if(typeof t=="string")Lk(this,t)&&(e=e.concat(this.g.get(Na(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ee.set=function(t,e){return ps(this),this.i=null,t=Na(this,t),Lk(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ee.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function Ok(t,e,n){Nk(t,e),0<n.length&&(t.i=null,t.g.set(Na(t,e),y1(n)),t.h+=n.length)}ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Na(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function n5(t,e){e&&!t.j&&(ps(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Nk(this,r),Ok(this,i,n))},t)),t.j=e}var r5=class{constructor(e,n){this.h=e,this.g=n}};function Dk(t){this.l=t||i5,me.PerformanceNavigationTiming?(t=me.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(me.g&&me.g.Ga&&me.g.Ga()&&me.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var i5=10;function jk(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Mk(t){return t.h?1:t.g?t.g.size:0}function _y(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function A1(t,e){t.g?t.g.add(e):t.h=e}function $k(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Dk.prototype.cancel=function(){if(this.i=Uk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Uk(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return y1(t.i)}function P1(){}P1.prototype.stringify=function(t){return me.JSON.stringify(t,void 0)};P1.prototype.parse=function(t){return me.JSON.parse(t,void 0)};function s5(){this.g=new P1}function o5(t,e,n){const r=n||"";try{Ak(t,function(i,s){let o=i;Vu(i)&&(o=T1(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function a5(t,e){const n=new Rh;if(me.Image){const r=new Image;r.onload=bc(Ac,n,r,"TestLoadImage: loaded",!0,e),r.onerror=bc(Ac,n,r,"TestLoadImage: error",!1,e),r.onabort=bc(Ac,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=bc(Ac,n,r,"TestLoadImage: timeout",!1,e),me.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ac(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ku(t){this.l=t.ac||null,this.j=t.jb||!1}Ht(Ku,k1);Ku.prototype.g=function(){return new Dh(this.l,this.j)};Ku.prototype.i=function(t){return function(){return t}}({});function Dh(t,e){Ot.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=N1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ht(Dh,Ot);var N1=0;ee=Dh.prototype;ee.open=function(t,e){if(this.readyState!=N1)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Eu(this)};ee.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||me).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gu(this)),this.readyState=N1};ee.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Eu(this)),this.g&&(this.readyState=3,Eu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof me.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fk(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function Fk(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}ee.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Gu(this):Eu(this),this.readyState==3&&Fk(this)}};ee.Va=function(t){this.g&&(this.response=this.responseText=t,Gu(this))};ee.Ua=function(t){this.g&&(this.response=t,Gu(this))};ee.ga=function(){this.g&&Gu(this)};function Gu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Eu(t)}ee.setRequestHeader=function(t,e){this.v.append(t,e)};ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Eu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Dh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var l5=me.JSON.parse;function ft(t){Ot.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Vk,this.K=this.L=!1}Ht(ft,Ot);var Vk="",u5=/^https?$/i,c5=["POST","PUT"];ee=ft.prototype;ee.Ka=function(t){this.L=t};ee.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():gy.g(),this.C=this.u?EE(this.u):EE(gy),this.g.onreadystatechange=tn(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){TE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=me.FormData&&t instanceof me.FormData,!(0<=rk(c5,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Hk(this),0<this.B&&((this.K=d5(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tn(this.qa,this)):this.A=x1(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){TE(this,s)}};function d5(t){return ha&&bU()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ee.qa=function(){typeof g1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zt(this,"timeout"),this.abort(8))};function TE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,zk(t),jh(t)}function zk(t){t.D||(t.D=!0,zt(t,"complete"),zt(t,"error"))}ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,zt(this,"complete"),zt(this,"abort"),jh(this))};ee.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jh(this,!0)),ft.X.M.call(this)};ee.Ha=function(){this.s||(this.F||this.v||this.l?Bk(this):this.fb())};ee.fb=function(){Bk(this)};function Bk(t){if(t.h&&typeof g1<"u"&&(!t.C[1]||ei(t)!=4||t.aa()!=2)){if(t.v&&ei(t)==4)x1(t.Ha,0,t);else if(zt(t,"readystatechange"),ei(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(Pk)[1]||null;if(!i&&me.self&&me.self.location){var s=me.self.location.protocol;i=s.substr(0,s.length-1)}r=!u5.test(i?i.toLowerCase():"")}n=r}if(n)zt(t,"complete"),zt(t,"success");else{t.m=6;try{var o=2<ei(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",zk(t)}}finally{jh(t)}}}}function jh(t,e){if(t.g){Hk(t);const n=t.g,r=t.C[0]?af:null;t.g=null,t.C=null,e||zt(t,"ready");try{n.onreadystatechange=r}catch{}}}function Hk(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(me.clearTimeout(t.A),t.A=null)}function ei(t){return t.g?t.g.readyState:0}ee.aa=function(){try{return 2<ei(this)?this.g.status:-1}catch{return-1}};ee.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};ee.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),l5(e)}};function IE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Vk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ee.Ea=function(){return this.m};ee.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function qk(t){let e="";return w1(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function L1(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=qk(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):rt(t,e,n))}function nl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Wk(t){this.Ca=0,this.i=[],this.j=new Rh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=nl("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=nl("baseRetryDelayMs",5e3,t),this.bb=nl("retryDelaySeedMs",1e4,t),this.$a=nl("forwardChannelMaxRetries",2,t),this.ta=nl("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new Dk(t&&t.concurrentRequestLimit),this.Fa=new s5,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}ee=Wk.prototype;ee.ma=8;ee.G=1;function O1(t){if(Kk(t),t.G==3){var e=t.U++,n=pi(t.F);rt(n,"SID",t.I),rt(n,"RID",e),rt(n,"TYPE","terminate"),Qu(t,n),e=new qu(t,t.j,e,void 0),e.K=2,e.v=Oh(pi(n)),n=!1,me.navigator&&me.navigator.sendBeacon&&(n=me.navigator.sendBeacon(e.v.toString(),"")),!n&&me.Image&&(new Image().src=e.v,n=!0),n||(e.g=tb(e.l,null),e.g.da(e.v)),e.F=Date.now(),Wu(e)}Zk(t)}function Mh(t){t.g&&(j1(t),t.g.cancel(),t.g=null)}function Kk(t){Mh(t),t.u&&(me.clearTimeout(t.u),t.u=null),hf(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&me.clearTimeout(t.m),t.m=null)}function $h(t){jk(t.h)||t.m||(t.m=!0,mk(t.Ja,t),t.C=0)}function f5(t,e){return Mk(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Bu(tn(t.Ja,t,e),Jk(t,t.C)),t.C++,!0)}ee.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new qu(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=ak(s),lk(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Gk(this,i,e),n=pi(this.F),rt(n,"RID",t),rt(n,"CVER",22),this.D&&rt(n,"X-HTTP-Session-Id",this.D),Qu(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(qk(s)))+"&"+e:this.o&&L1(n,this.o,s)),A1(this.h,i),this.Ya&&rt(n,"TYPE","init"),this.O?(rt(n,"$req",e),rt(n,"SID","null"),i.Z=!0,vy(i,n,null)):vy(i,n,e),this.G=2}}else this.G==3&&(t?xE(this,t):this.i.length==0||jk(this.h)||xE(this))};function xE(t,e){var n;e?n=e.m:n=t.U++;const r=pi(t.F);rt(r,"SID",t.I),rt(r,"RID",n),rt(r,"AID",t.T),Qu(t,r),t.o&&t.s&&L1(r,t.o,t.s),n=new qu(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=Gk(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),A1(t.h,n),vy(n,r,e)}function Qu(t,e){t.ia&&w1(t.ia,function(n,r){rt(e,r,n)}),t.l&&Ak({},function(n,r){rt(e,r,n)})}function Gk(t,e,n){n=Math.min(t.i.length,n);var r=t.l?tn(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{o5(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function Qk(t){t.g||t.u||(t.Z=1,mk(t.Ia,t),t.A=0)}function D1(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Bu(tn(t.Ia,t),Jk(t,t.A)),t.A++,!0)}ee.Ia=function(){if(this.u=null,Yk(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Bu(tn(this.eb,this),t)}};ee.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,fn(10),Mh(this),Yk(this))};function j1(t){t.B!=null&&(me.clearTimeout(t.B),t.B=null)}function Yk(t){t.g=new qu(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=pi(t.sa);rt(e,"RID","rpc"),rt(e,"SID",t.I),rt(e,"CI",t.L?"0":"1"),rt(e,"AID",t.T),rt(e,"TYPE","xmlhttp"),Qu(t,e),t.o&&t.s&&L1(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Oh(pi(e)),n.s=null,n.P=!0,xk(n,t)}ee.cb=function(){this.v!=null&&(this.v=null,Mh(this),D1(this),fn(19))};function hf(t){t.v!=null&&(me.clearTimeout(t.v),t.v=null)}function Xk(t,e){var n=null;if(t.g==e){hf(t),j1(t),t.g=null;var r=2}else if(_y(t.h,e))n=e.D,$k(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Ah(),zt(r,new Sk(r,n)),$h(t)}else Qk(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&f5(t,e)||r==2&&D1(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Ps(t,5);break;case 4:Ps(t,10);break;case 3:Ps(t,6);break;default:Ps(t,2)}}}function Jk(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Ps(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=tn(t.kb,t);n||(n=new $s("//www.google.com/images/cleardot.gif"),me.location&&me.location.protocol=="http"||df(n,"https"),Oh(n)),a5(n.toString(),r)}else fn(2);t.G=0,t.l&&t.l.va(e),Zk(t),Kk(t)}ee.kb=function(t){t?(this.j.info("Successfully pinged google.com"),fn(2)):(this.j.info("Failed to ping google.com"),fn(1))};function Zk(t){if(t.G=0,t.la=[],t.l){const e=Uk(t.h);(e.length!=0||t.i.length!=0)&&(mE(t.la,e),mE(t.la,t.i),t.h.i.length=0,y1(t.i),t.i.length=0),t.l.ua()}}function eb(t,e,n){var r=n instanceof $s?pi(n):new $s(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),ff(r,r.m);else{var i=me.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new $s(null,void 0);r&&df(s,r),e&&(s.g=e),i&&ff(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&rt(r,n,e),rt(r,"VER",t.ma),Qu(t,r),r}function tb(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new ft(new Ku({jb:!0})):new ft(t.ra),e.Ka(t.H),e}function nb(){}ee=nb.prototype;ee.xa=function(){};ee.wa=function(){};ee.va=function(){};ee.ua=function(){};ee.Ra=function(){};function pf(){if(ha&&!(10<=Number(RU)))throw Error("Environmental error: no available transport.")}pf.prototype.g=function(t,e){return new Mn(t,e)};function Mn(t,e){Ot.call(this),this.g=new Wk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!lf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!lf(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new La(this)}Ht(Mn,Ot);Mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;fn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=eb(t,null,t.V),$h(t)};Mn.prototype.close=function(){O1(this.g)};Mn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=T1(t),t=n);e.i.push(new r5(e.ab++,t)),e.G==3&&$h(e)};Mn.prototype.M=function(){this.g.l=null,delete this.j,O1(this.g),delete this.g,Mn.X.M.call(this)};function rb(t){b1.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ht(rb,b1);function ib(){R1.call(this),this.status=1}Ht(ib,R1);function La(t){this.g=t}Ht(La,nb);La.prototype.xa=function(){zt(this.g,"a")};La.prototype.wa=function(t){zt(this.g,new rb(t))};La.prototype.va=function(t){zt(this.g,new ib)};La.prototype.ua=function(){zt(this.g,"b")};pf.prototype.createWebChannel=pf.prototype.g;Mn.prototype.send=Mn.prototype.u;Mn.prototype.open=Mn.prototype.m;Mn.prototype.close=Mn.prototype.close;Ph.NO_ERROR=0;Ph.TIMEOUT=8;Ph.HTTP_ERROR=6;Ck.COMPLETE="complete";Tk.EventType=Hu;Hu.OPEN="a";Hu.CLOSE="b";Hu.ERROR="c";Hu.MESSAGE="d";Ot.prototype.listen=Ot.prototype.N;ft.prototype.listenOnce=ft.prototype.O;ft.prototype.getLastError=ft.prototype.Oa;ft.prototype.getLastErrorCode=ft.prototype.Ea;ft.prototype.getStatus=ft.prototype.aa;ft.prototype.getResponseJson=ft.prototype.Sa;ft.prototype.getResponseText=ft.prototype.fa;ft.prototype.send=ft.prototype.da;ft.prototype.setWithCredentials=ft.prototype.Ka;var h5=function(){return new pf},p5=function(){return Ah()},ym=Ph,m5=Ck,g5=uo,kE={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},y5=Ku,Pc=Tk,v5=ft;const bE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oa="9.20.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new yh("@firebase/firestore");function RE(){return Zs.logLevel}function ne(t,...e){if(Zs.logLevel<=Oe.DEBUG){const n=e.map(M1);Zs.debug(`Firestore (${Oa}): ${t}`,...n)}}function mi(t,...e){if(Zs.logLevel<=Oe.ERROR){const n=e.map(M1);Zs.error(`Firestore (${Oa}): ${t}`,...n)}}function mf(t,...e){if(Zs.logLevel<=Oe.WARN){const n=e.map(M1);Zs.warn(`Firestore (${Oa}): ${t}`,...n)}}function M1(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${Oa}) INTERNAL ASSERTION FAILED: `+t;throw mi(e),new Error(e)}function Xe(t,e){t||he()}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class _5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class E5{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new si;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new si,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new si)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string"),new sb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new Yt(e)}}class S5{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class C5{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new S5(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class T5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I5{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string"),this.T=n.token,new T5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=x5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Me(t,e){return t<e?-1:t>e?1:0}function pa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new St(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ye(e)}static min(){return new ye(new St(0,0))}static max(){return new ye(new St(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Su.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Su?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Qe extends Su{construct(e,n,r){return new Qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const k5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Su{construct(e,n,r){return new Zt(e,n,r)}static isValidIdentifier(e){return k5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new J(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Qe.fromString(e))}static fromName(e){return new se(Qe.fromString(e).popFirst(5))}static empty(){return new se(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Qe(e.slice()))}}function b5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new St(n+1,0):new St(n,r));return new rs(i,se.empty(),e)}function R5(t){return new rs(t.readTime,t.key,-1)}class rs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new rs(ye.min(),se.empty(),-1)}static max(){return new rs(ye.max(),se.empty(),-1)}}function A5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yu(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==P5)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Xu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}$1.ct=-1;function Uh(t){return t==null}function gf(t){return t===0&&1/t==-1/0}function L5(t){return typeof t=="number"&&Number.isInteger(t)&&!gf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function co(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ab(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=i??Ut.EMPTY,this.right=s??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ut(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ut(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new PE(this.data.getIterator())}getIteratorFrom(e){return new PE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class PE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new An([])}unionWith(e){let n=new kt(Zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new O5("Invalid base64 string: "+i):i}}(e);return new an(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new an(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const D5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(t){if(Xe(!!t),typeof t=="string"){let e=0;const n=D5.exec(t);if(Xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ma(t){return typeof t=="string"?an.fromBase64String(t):an.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ub(t){const e=t.mapValue.fields.__previous_value__;return lb(e)?ub(e):e}function Cu(t){const e=is(t.mapValue.fields.__local_write_time__.timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Tu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Tu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lb(t)?4:M5(t)?9007199254740991:10:he()}function jr(t,e){if(t===e)return!0;const n=eo(t);if(n!==eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cu(t).isEqual(Cu(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=is(r.timestampValue),o=is(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ma(r.bytesValue).isEqual(ma(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return vt(r.geoPointValue.latitude)===vt(i.geoPointValue.latitude)&&vt(r.geoPointValue.longitude)===vt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return vt(r.integerValue)===vt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=vt(r.doubleValue),o=vt(i.doubleValue);return s===o?gf(s)===gf(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return pa(t.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(AE(s)!==AE(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!jr(s[a],o[a])))return!1;return!0}(t,e);default:return he()}}function Iu(t,e){return(t.values||[]).find(n=>jr(n,e))!==void 0}function ga(t,e){if(t===e)return 0;const n=eo(t),r=eo(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=vt(i.integerValue||i.doubleValue),a=vt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return NE(t.timestampValue,e.timestampValue);case 4:return NE(Cu(t),Cu(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ma(i),a=ma(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Me(o[l],a[l]);if(u!==0)return u}return Me(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Me(vt(i.latitude),vt(s.latitude));return o!==0?o:Me(vt(i.longitude),vt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=ga(o[l],a[l]);if(u)return u}return Me(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Lc.mapValue&&s===Lc.mapValue)return 0;if(i===Lc.mapValue)return 1;if(s===Lc.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const f=Me(a[c],u[c]);if(f!==0)return f;const h=ga(o[a[c]],l[u[c]]);if(h!==0)return h}return Me(a.length,u.length)}(t.mapValue,e.mapValue);default:throw he()}}function NE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=is(t),r=is(e),i=Me(n.seconds,r.seconds);return i!==0?i:Me(n.nanos,r.nanos)}function ya(t){return Ey(t)}function Ey(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=is(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ma(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,se.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Ey(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Ey(r.fields[a])}`;return s+"}"}(t.mapValue):he();var e,n}function LE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sy(t){return!!t&&"integerValue"in t}function U1(t){return!!t&&"arrayValue"in t}function OE(t){return!!t&&"nullValue"in t}function DE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sd(t){return!!t&&"mapValue"in t}function Ml(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return co(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ml(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ml(t.arrayValue.values[n]);return e}return Object.assign({},t)}function M5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(n)}setAll(e){let n=Zt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ml(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());sd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){co(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new _n(Ml(this.value))}}function cb(t){const e=[];return co(t.fields,(n,r)=>{const i=new Zt([n]);if(sd(r)){const s=cb(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Jt(e,0,ye.min(),ye.min(),ye.min(),_n.empty(),0)}static newFoundDocument(e,n,r,i){return new Jt(e,1,n,ye.min(),r,i,0)}static newNoDocument(e,n){return new Jt(e,2,n,ye.min(),ye.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,ye.min(),ye.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n){this.position=e,this.inclusive=n}}function jE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=ga(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ME(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n="asc"){this.field=e,this.dir=n}}function $5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{}class Et extends db{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new F5(e,n,r):n==="array-contains"?new B5(e,r):n==="in"?new H5(e,r):n==="not-in"?new q5(e,r):n==="array-contains-any"?new W5(e,r):new Et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new V5(e,r):new z5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ga(n,this.value)):n!==null&&eo(this.value)===eo(n)&&this.matchesComparison(ga(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _r extends db{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new _r(e,n)}matches(e){return fb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function fb(t){return t.op==="and"}function hb(t){return U5(t)&&fb(t)}function U5(t){for(const e of t.filters)if(e instanceof _r)return!1;return!0}function Cy(t){if(t instanceof Et)return t.field.canonicalString()+t.op.toString()+ya(t.value);if(hb(t))return t.filters.map(e=>Cy(e)).join(",");{const e=t.filters.map(n=>Cy(n)).join(",");return`${t.op}(${e})`}}function pb(t,e){return t instanceof Et?function(n,r){return r instanceof Et&&n.op===r.op&&n.field.isEqual(r.field)&&jr(n.value,r.value)}(t,e):t instanceof _r?function(n,r){return r instanceof _r&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&pb(s,r.filters[o]),!0):!1}(t,e):void he()}function mb(t){return t instanceof Et?function(e){return`${e.field.canonicalString()} ${e.op} ${ya(e.value)}`}(t):t instanceof _r?function(e){return e.op.toString()+" {"+e.getFilters().map(mb).join(" ,")+"}"}(t):"Filter"}class F5 extends Et{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class V5 extends Et{constructor(e,n){super(e,"in",n),this.keys=gb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class z5 extends Et{constructor(e,n){super(e,"not-in",n),this.keys=gb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class B5 extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return U1(n)&&Iu(n.arrayValue,this.value)}}class H5 extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Iu(this.value.arrayValue,n)}}class q5 extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Iu(this.value.arrayValue,n)}}class W5 extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!U1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Iu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function $E(t,e=null,n=[],r=[],i=null,s=null,o=null){return new K5(t,e,n,r,i,s,o)}function F1(t){const e=ve(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ya(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ya(r)).join(",")),e.ft=n}return e.ft}function V1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ME(t.startAt,e.startAt)&&ME(t.endAt,e.endAt)}function Ty(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function G5(t,e,n,r,i,s,o,a){return new Ju(t,e,n,r,i,s,o,a)}function Fh(t){return new Ju(t)}function UE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function z1(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function vb(t){return t.collectionGroup!==null}function Zo(t){const e=ve(t);if(e.dt===null){e.dt=[];const n=z1(e),r=yb(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new $l(n)),e.dt.push(new $l(Zt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new $l(Zt.keyField(),s))}}}return e.dt}function gi(t){const e=ve(t);if(!e.wt)if(e.limitType==="F")e.wt=$E(e.path,e.collectionGroup,Zo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Zo(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new $l(s.field,o))}const r=e.endAt?new yf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new yf(e.startAt.position,e.startAt.inclusive):null;e.wt=$E(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function Iy(t,e){e.getFirstInequalityField(),z1(t);const n=t.filters.concat([e]);return new Ju(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xy(t,e,n){return new Ju(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vh(t,e){return V1(gi(t),gi(e))&&t.limitType===e.limitType}function wb(t){return`${F1(gi(t))}|lt:${t.limitType}`}function ky(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>mb(r)).join(", ")}]`),Uh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ya(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ya(r)).join(",")),`Target(${n})`}(gi(t))}; limitType=${t.limitType})`}function zh(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):se.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Zo(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=jE(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Zo(n),r)||n.endAt&&!function(i,s,o){const a=jE(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Zo(n),r))}(t,e)}function Q5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _b(t){return(e,n)=>{let r=!1;for(const i of Zo(t)){const s=Y5(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Y5(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?ga(a,l):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){co(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return ab(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=new bt(se.comparator);function yi(){return X5}const Eb=new bt(se.comparator);function El(...t){let e=Eb;for(const n of t)e=e.insert(n.key,n);return e}function Sb(t){let e=Eb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ns(){return Ul()}function Cb(){return Ul()}function Ul(){return new Da(t=>t.toString(),(t,e)=>t.isEqual(e))}const J5=new bt(se.comparator),Z5=new kt(se.comparator);function Ie(...t){let e=Z5;for(const n of t)e=e.add(n);return e}const e9=new kt(Me);function Tb(){return e9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gf(e)?"-0":e}}function xb(t){return{integerValue:""+t}}function t9(t,e){return L5(e)?xb(e):Ib(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function n9(t,e,n){return t instanceof vf?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof xu?bb(t,e):t instanceof ku?Rb(t,e):function(r,i){const s=kb(r,i),o=FE(s)+FE(r._t);return Sy(s)&&Sy(r._t)?xb(o):Ib(r.serializer,o)}(t,e)}function r9(t,e,n){return t instanceof xu?bb(t,e):t instanceof ku?Rb(t,e):n}function kb(t,e){return t instanceof wf?Sy(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class vf extends Bh{}class xu extends Bh{constructor(e){super(),this.elements=e}}function bb(t,e){const n=Ab(e);for(const r of t.elements)n.some(i=>jr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ku extends Bh{constructor(e){super(),this.elements=e}}function Rb(t,e){let n=Ab(e);for(const r of t.elements)n=n.filter(i=>!jr(i,r));return{arrayValue:{values:n}}}class wf extends Bh{constructor(e,n){super(),this.serializer=e,this._t=n}}function FE(t){return vt(t.integerValue||t.doubleValue)}function Ab(t){return U1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function i9(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof xu&&r instanceof xu||n instanceof ku&&r instanceof ku?pa(n.elements,r.elements,jr):n instanceof wf&&r instanceof wf?jr(n._t,r._t):n instanceof vf&&r instanceof vf}(t.transform,e.transform)}class s9{constructor(e,n){this.version=e,this.transformResults=n}}class gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function od(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hh{}function Pb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lb(t.key,gr.none()):new Zu(t.key,t.data,gr.none());{const n=t.data,r=_n.empty();let i=new kt(Zt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ms(t.key,r,new An(i.toArray()),gr.none())}}function o9(t,e,n){t instanceof Zu?function(r,i,s){const o=r.value.clone(),a=zE(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ms?function(r,i,s){if(!od(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=zE(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Nb(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Fl(t,e,n,r){return t instanceof Zu?function(i,s,o,a){if(!od(i.precondition,s))return o;const l=i.value.clone(),u=BE(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ms?function(i,s,o,a){if(!od(i.precondition,s))return o;const l=BE(i.fieldTransforms,a,s),u=s.data;return u.setAll(Nb(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return od(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function a9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=kb(r.transform,i||null);s!=null&&(n===null&&(n=_n.empty()),n.set(r.field,s))}return n||null}function VE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&pa(n,r,(i,s)=>i9(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zu extends Hh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ms extends Hh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Nb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function zE(t,e,n){const r=new Map;Xe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,r9(o,a,n[i]))}return r}function BE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,n9(s,o,e))}return r}class Lb extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l9 extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&o9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Cb();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Pb(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&pa(this.mutations,e.mutations,(n,r)=>VE(n,r))&&pa(this.baseMutations,e.baseMutations,(n,r)=>VE(n,r))}}class B1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Xe(e.mutations.length===r.length);let i=J5;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new B1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Re;function f9(t){switch(t){default:return he();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function Ob(t){if(t===void 0)return mi("GRPC error has no .code"),D.UNKNOWN;switch(t){case gt.OK:return D.OK;case gt.CANCELLED:return D.CANCELLED;case gt.UNKNOWN:return D.UNKNOWN;case gt.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case gt.INTERNAL:return D.INTERNAL;case gt.UNAVAILABLE:return D.UNAVAILABLE;case gt.UNAUTHENTICATED:return D.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case gt.NOT_FOUND:return D.NOT_FOUND;case gt.ALREADY_EXISTS:return D.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return D.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case gt.ABORTED:return D.ABORTED;case gt.OUT_OF_RANGE:return D.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return D.UNIMPLEMENTED;case gt.DATA_LOSS:return D.DATA_LOSS;default:return he()}}(Re=gt||(gt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Oc}static getOrCreateInstance(){return Oc===null&&(Oc=new H1),Oc}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Oc=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ec.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qh(ye.min(),i,Tb(),yi(),Ie())}}class ec{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ec(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class Db{constructor(e,n){this.targetId=e,this.Et=n}}class jb{constructor(e,n,r=an.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class HE{constructor(){this.At=0,this.Rt=WE(),this.vt=an.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=Ie(),n=Ie(),r=Ie();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new ec(this.vt,this.bt,e,n,r)}xt(){this.Pt=!1,this.Rt=WE()}Nt(e,n){this.Pt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class h9{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=yi(),this.qt=qE(),this.Ut=new kt(Me)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}zt(e){this.forEachTarget(e,n=>{const r=this.jt(n);switch(e.state){case 0:this.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(e){var n;const r=e.targetId,i=e.Et.count,s=this.Yt(r);if(s){const o=s.target;if(Ty(o))if(i===0){const a=new se(o.path);this.Qt(r,a,Jt.newNoDocument(a,ye.min()))}else Xe(i===1);else{const a=this.Zt(r);a!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=H1.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:e.Et.count}))}}}Xt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Ty(a.target)){const l=new se(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,Jt.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=Ie();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new qh(e,n,this.Ut,this.Lt,r);return this.Lt=yi(),this.qt=qE(),this.Ut=new kt(Me),i}Gt(e,n){if(!this.Wt(e))return;const r=this.te(e,n.key)?2:0;this.jt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.Wt(e))return;const i=this.jt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const n=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let n=this.Bt.get(e);return n||(n=new HE,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new kt(Me),this.qt=this.qt.insert(e,n)),n}Wt(e){const n=this.Yt(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new HE),this.Ft.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.Ft.getRemoteKeysForTarget(e).has(n)}}function qE(){return new bt(se.comparator)}function WE(){return new bt(se.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),m9=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),g9=(()=>({and:"AND",or:"OR"}))();class y9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _f(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function v9(t,e){return _f(t,e.toTimestamp())}function Dr(t){return Xe(!!t),ye.fromTimestamp(function(e){const n=is(e);return new St(n.seconds,n.nanos)}(t))}function q1(t,e){return function(n){return new Qe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function $b(t){const e=Qe.fromString(t);return Xe(zb(e)),e}function by(t,e){return q1(t.databaseId,e.path)}function vm(t,e){const n=$b(e);if(n.get(1)!==t.databaseId.projectId)throw new J(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(Ub(n))}function Ry(t,e){return q1(t.databaseId,e)}function w9(t){const e=$b(t);return e.length===4?Qe.emptyPath():Ub(e)}function Ay(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ub(t){return Xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function KE(t,e,n){return{name:by(t,e),fields:n.value.mapValue.fields}}function _9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Xe(u===void 0||typeof u=="string"),an.fromBase64String(u||"")):(Xe(u===void 0||u instanceof Uint8Array),an.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?D.UNKNOWN:Ob(l.code);return new J(u,l.message||"")}(o);n=new jb(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vm(t,r.document.name),s=Dr(r.document.updateTime),o=r.document.createTime?Dr(r.document.createTime):ye.min(),a=new _n({mapValue:{fields:r.document.fields}}),l=Jt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ad(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vm(t,r.document),s=r.readTime?Dr(r.readTime):ye.min(),o=Jt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ad([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vm(t,r.document),s=r.removedTargetIds||[];n=new ad([],s,i,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new d9(i),o=r.targetId;n=new Db(o,s)}}return n}function E9(t,e){let n;if(e instanceof Zu)n={update:KE(t,e.key,e.value)};else if(e instanceof Lb)n={delete:by(t,e.key)};else if(e instanceof ms)n={update:KE(t,e.key,e.data),updateMask:A9(e.fieldMask)};else{if(!(e instanceof l9))return he();n={verify:by(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof vf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof xu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ku)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof wf)return{fieldPath:s.field.canonicalString(),increment:o._t};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:v9(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he()}(t,e.precondition)),n}function S9(t,e){return t&&t.length>0?(Xe(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Dr(r.updateTime):Dr(i);return s.isEqual(ye.min())&&(s=Dr(i)),new s9(s,r.transformResults||[])}(n,e))):[]}function C9(t,e){return{documents:[Ry(t,e.path)]}}function T9(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Ry(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ry(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Vb(_r.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:So(c.field),direction:k9(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.useProto3Json||Uh(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function I9(t){let e=w9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const f=Fb(c);return f instanceof _r&&hb(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(f){return new $l(Co(f.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(c)));let a=null;n.limit&&(a=function(c){let f;return f=typeof c=="object"?c.value:c,Uh(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(c){const f=!!c.before,h=c.values||[];return new yf(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const f=!c.before,h=c.values||[];return new yf(h,f)}(n.endAt)),G5(e,i,o,s,a,"F",l,u)}function x9(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return he()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function Fb(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Co(e.unaryFilter.field);return Et.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Co(e.unaryFilter.field);return Et.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Co(e.unaryFilter.field);return Et.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Co(e.unaryFilter.field);return Et.create(s,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(e){return Et.create(Co(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return _r.create(e.compositeFilter.filters.map(n=>Fb(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return he()}}(e.compositeFilter.op))}(t):he()}function k9(t){return p9[t]}function b9(t){return m9[t]}function R9(t){return g9[t]}function So(t){return{fieldPath:t.canonicalString()}}function Co(t){return Zt.fromServerFormat(t.fieldPath)}function Vb(t){return t instanceof Et?function(e){if(e.op==="=="){if(DE(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NAN"}};if(OE(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(DE(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NOT_NAN"}};if(OE(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(e.field),op:b9(e.op),value:e.value}}}(t):t instanceof _r?function(e){const n=e.getFilters().map(r=>Vb(r));return n.length===1?n[0]:{compositeFilter:{op:R9(e.op),filters:n}}}(t):he()}function A9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n,r,i,s=ye.min(),o=ye.min(),a=an.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.se=e}}function N9(t){const e=I9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(){this.He=new O9}addToCollectionParentIndex(e,n){return this.He.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.He.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(rs.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class O9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kt(Qe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new va(0)}static bn(){return new va(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(){this.changes=new Da(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fl(r.mutation,i,An.empty(),St.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const i=Ns();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=El();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ns();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=yi();const o=Ul(),a=Ul();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ms)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Fl(c.mutation,u,c.mutation.getFieldMask(),St.now())):o.set(u.key,An.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new j9(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ul();let i=new bt((o,a)=>o-a),s=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||An.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Ie()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=Cb();c.forEach(h=>{if(!s.has(h)){const p=Pb(n.get(h),r.get(h));p!==null&&f.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return se.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(Ns());let a=-1,l=s;return o.next(u=>z.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?z.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ie())).next(c=>({batchId:a,changes:Sb(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=El();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=El();return this.indexManager.getCollectionParents(e,i).next(o=>z.forEach(o,a=>{const l=function(u,c){return new Ju(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,f)=>{s=s.insert(c,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,Jt.newInvalidDocument(u)))});let o=El();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Fl(u.mutation,l,An.empty(),St.now()),zh(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return z.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Dr(r.createTime)}),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:N9(r.bundledQuery),readTime:Dr(r.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(){this.overlays=new bt(se.comparator),this.ts=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ns();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.re(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ts.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=Ns(),s=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new bt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Ns(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ns(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return z.resolve(a)}re(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new c9(n,r));let s=this.ts.get(n);s===void 0&&(s=Ie(),this.ts.set(n,s)),this.ts.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.es=new kt(Pt.ns),this.ss=new kt(Pt.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,n){const r=new Pt(e,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.us(new Pt(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}hs(e){const n=new se(new Qe([])),r=new Pt(n,e),i=new Pt(n,e+1),s=[];return this.ss.forEachInRange([r,i],o=>{this.us(o),s.push(o.key)}),s}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const n=new se(new Qe([])),r=new Pt(n,e),i=new Pt(n,e+1);let s=Ie();return this.ss.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Pt(e,0),r=this.es.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,n){this.key=e,this.ds=n}static ns(e,n){return se.comparator(e.key,n.key)||Me(e.ds,n.ds)}static rs(e,n){return Me(e.ds,n.ds)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new kt(Pt.ns)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new u9(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this._s=this._s.add(new Pt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ys(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pt(n,0),i=new Pt(n,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([r,i],o=>{const a=this.gs(o.ds);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(Me);return n.forEach(i=>{const s=new Pt(i,0),o=new Pt(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,o],a=>{r=r.add(a.ds)})}),z.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;se.isDocumentKey(s)||(s=s.child(""));const o=new Pt(new se(s),0);let a=new kt(Me);return this._s.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.ds)),!0)},o),z.resolve(this.ps(a))}ps(e){const n=[];return e.forEach(r=>{const i=this.gs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Xe(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return z.forEach(n.mutations,i=>{const s=new Pt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,n){const r=new Pt(n,0),i=this._s.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Is(e,n){return this.ys(e)}ys(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}gs(e){const n=this.ys(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e){this.Ts=e,this.docs=new bt(se.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=yi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Jt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=yi();const o=n.path,a=new se(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||A5(R5(c),r)<=0||(i.has(c.key)||zh(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){he()}Es(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new z9(this)}getSize(e){return z.resolve(this.size)}}class z9 extends D9{constructor(e){super(),this.Jn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(e,i)):this.Jn.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Jn.getEntry(e,n)}getAllFromCache(e,n){return this.Jn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e){this.persistence=e,this.As=new Da(n=>F1(n),V1),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Rs=0,this.vs=new W1,this.targetCount=0,this.bs=va.vn()}forEachTarget(e,n){return this.As.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),z.resolve()}Sn(e){this.As.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new va(n),this.highestTargetId=n),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,n){return this.Sn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Sn(n),z.resolve()}removeTargetData(e,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.As.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.As.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.As.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.vs.os(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.vs.hs(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.vs.fs(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,n){this.Ps={},this.overlays={},this.Vs=new $1(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new B9(this),this.indexManager=new L9,this.remoteDocumentCache=function(r){return new V9(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new P9(n),this.xs=new $9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new U9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ps[e.toKey()];return r||(r=new F9(n,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const i=new q9(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(s=>this.referenceDelegate.ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return z.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,n)))}}class q9 extends N5{constructor(e){super(),this.currentSequenceNumber=e}}class K1{constructor(e){this.persistence=e,this.$s=new W1,this.Ms=null}static Fs(e){return new K1(e)}get Bs(){if(this.Ms)return this.Ms;throw he()}addReference(e,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Bs.add(n.toString()),z.resolve()}removeTarget(e,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Bs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ns(){this.Ms=new Set}ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Bs,r=>{const i=se.fromPath(r);return this.Ls(e,i).next(s=>{s||n.removeEntry(i,ye.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ls(e,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(e){return 0}Ls(e,n){return z.or([()=>z.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Vi=r,this.Si=i}static Di(e,n){let r=Ie(),i=Ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new G1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(){this.Ci=!1}initialize(e,n){this.xi=e,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ni(e,n).next(s=>s||this.ki(e,n,i,r)).next(s=>s||this.Oi(e,n))}Ni(e,n){if(UE(n))return z.resolve(null);let r=gi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xy(n,null,"F"),r=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ie(...s);return this.xi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.$i(n,a);return this.Mi(n,u,o,l.readTime)?this.Ni(e,xy(n,null,"F")):this.Fi(e,u,n,l)}))})))}ki(e,n,r,i){return UE(n)||i.isEqual(ye.min())?this.Oi(e,n):this.xi.getDocuments(e,r).next(s=>{const o=this.$i(n,s);return this.Mi(n,o,r,i)?this.Oi(e,n):(RE()<=Oe.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ky(n)),this.Fi(e,o,n,b5(i,-1)))})}$i(e,n){let r=new kt(_b(e));return n.forEach((i,s)=>{zh(e,s)&&(r=r.add(s))}),r}Mi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return RE()<=Oe.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",ky(n)),this.xi.getDocumentsMatchingQuery(e,n,rs.min())}Fi(e,n,r,i){return this.xi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e,n,r,i){this.persistence=e,this.Bi=n,this.serializer=i,this.Li=new bt(Me),this.qi=new Da(s=>F1(s),V1),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M9(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Li))}}function G9(t,e,n,r){return new K9(t,e,n,r)}async function Bb(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Gi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ie();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Qi:u,removedBatchIds:o,addedBatchIds:a}))})})}function Q9(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ki.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,f=c.keys();let h=z.resolve();return f.forEach(p=>{h=h.next(()=>u.getEntry(a,p)).next(w=>{const y=l.docVersions.get(p);Xe(y!==null),w.version.compareTo(y)<0&&(c.applyToRemoteDocument(w,l),w.isValidDocument()&&(w.setReadTime(l.commitVersion),u.addEntry(w)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Ie();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Hb(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ds.getLastRemoteSnapshotVersion(n))}function Y9(t,e){const n=ve(t),r=e.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const a=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;a.push(n.Ds.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Ds.addMatchingKeys(s,c.addedDocuments,f)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(f)?p=p.withResumeToken(an.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(w,y,v){return w.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,p,c)&&a.push(n.Ds.updateTargetData(s,p))});let l=yi(),u=Ie();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(X9(s,o,e.documentUpdates).next(c=>{l=c.zi,u=c.ji})),!r.isEqual(ye.min())){const c=n.Ds.getLastRemoteSnapshotVersion(s).next(f=>n.Ds.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Li=i,s))}function X9(t,e,n){let r=Ie(),i=Ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=yi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ye.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{zi:o,ji:i}})}function J9(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Z9(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Ds.allocateTargetId(r).next(o=>(i=new Us(e,o,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function Py(t,e,n){const r=ve(t),i=r.Li.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Xu(o))throw o;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Li=r.Li.remove(e),r.qi.delete(i.target)}function GE(t,e,n){const r=ve(t);let i=ye.min(),s=Ie();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=ve(a),f=c.qi.get(u);return f!==void 0?z.resolve(c.Li.get(f)):c.Ds.getTargetData(l,u)}(r,o,gi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Bi.getDocumentsMatchingQuery(o,e,n?i:ye.min(),n?s:Ie())).next(a=>(e8(r,Q5(e),a),{documents:a,Wi:s})))}function e8(t,e,n){let r=t.Ui.get(e)||ye.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ui.set(e,r)}class QE{constructor(){this.activeTargetIds=Tb()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t8{constructor(){this.Br=new QE,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,n,r){this.Lr[e]=n}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new QE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc=null;function wm(){return Dc===null?Dc=268435456+Math.round(2147483648*Math.random()):Dc++,"0x"+Dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class s8 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.ro=n+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,n,r,i,s){const o=wm(),a=this.ao(e,n);ne("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.ho(l,i,s),this.lo(e,a,l,r).then(u=>(ne("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw mf("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}fo(e,n,r,i,s,o){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Oa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){const r=r8[e];return`${this.ro}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){const s=wm();return new Promise((o,a)=>{const l=new v5;l.setWithCredentials(!0),l.listenOnce(m5.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ym.NO_ERROR:const c=l.getResponseJson();ne(Gt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case ym.TIMEOUT:ne(Gt,`RPC '${e}' ${s} timed out`),a(new J(D.DEADLINE_EXCEEDED,"Request time out"));break;case ym.HTTP_ERROR:const f=l.getStatus();if(ne(Gt,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const w=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(v)>=0?v:D.UNKNOWN}(p.status);a(new J(w,p.message))}else a(new J(D.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(D.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{ne(Gt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ne(Gt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(e,n,r){const i=wm(),s=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=h5(),a=p5(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new y5({})),this.ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");ne(Gt,`Creating RPC '${e}' stream ${i}: ${u}`,l);const c=o.createWebChannel(u,l);let f=!1,h=!1;const p=new i8({Wr:y=>{h?ne(Gt,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(f||(ne(Gt,`Opening RPC '${e}' stream ${i} transport.`),c.open(),f=!0),ne(Gt,`RPC '${e}' stream ${i} sending:`,y),c.send(y))},Hr:()=>c.close()}),w=(y,v,g)=>{y.listen(v,m=>{try{g(m)}catch(_){setTimeout(()=>{throw _},0)}})};return w(c,Pc.EventType.OPEN,()=>{h||ne(Gt,`RPC '${e}' stream ${i} transport opened.`)}),w(c,Pc.EventType.CLOSE,()=>{h||(h=!0,ne(Gt,`RPC '${e}' stream ${i} transport closed`),p.so())}),w(c,Pc.EventType.ERROR,y=>{h||(h=!0,mf(Gt,`RPC '${e}' stream ${i} transport errored:`,y),p.so(new J(D.UNAVAILABLE,"The operation could not be completed")))}),w(c,Pc.EventType.MESSAGE,y=>{var v;if(!h){const g=y.data[0];Xe(!!g);const m=g,_=m.error||((v=m[0])===null||v===void 0?void 0:v.error);if(_){ne(Gt,`RPC '${e}' stream ${i} received error:`,_);const E=_.status;let S=function(x){const P=gt[x];if(P!==void 0)return Ob(P)}(E),I=_.message;S===void 0&&(S=D.INTERNAL,I="Unknown error status: "+E+" with message "+_.message),h=!0,p.so(new J(S,I)),c.close()}else ne(Gt,`RPC '${e}' stream ${i} received:`,g),p.io(g)}}),w(a,g5.STAT_EVENT,y=>{y.stat===kE.PROXY?ne(Gt,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===kE.NOPROXY&&ne(Gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.no()},0),p}}function _m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(t){return new y9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ws=e,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n,r,i,s,o,a,l){this.Ws=e,this.bo=r,this.Po=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new qb(e,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(e,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,e!==4?this.Co.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(mi(n.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{e(()=>{const i=new J(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(e,n){const r=this.Uo(this.Vo);this.stream=this.Qo(e,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o8 extends Wb{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}Qo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Co.reset();const n=_9(this.serializer,e),r=function(i){if(!("targetChange"in i))return ye.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ye.min():s.readTime?Dr(s.readTime):ye.min()}(e);return this.listener.zo(n,r)}jo(e){const n={};n.database=Ay(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;return o=Ty(a)?{documents:C9(i,a)}:{query:T9(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=Mb(i,s.resumeToken):s.snapshotVersion.compareTo(ye.min())>0&&(o.readTime=_f(i,s.snapshotVersion.toTimestamp())),o}(this.serializer,e);const r=x9(this.serializer,e);r&&(n.labels=r),this.Fo(n)}Wo(e){const n={};n.database=Ay(this.serializer),n.removeTarget=e,this.Fo(n)}}class a8 extends Wb{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const n=S9(e.writeResults,e.commitTime),r=Dr(e.commitTime);return this.listener.Zo(r,n)}return Xe(!e.writeResults||e.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=Ay(this.serializer),this.Fo(e)}Yo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>E9(this.serializer,r))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new J(D.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.co(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(D.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(D.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class u8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,e==="Online"&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(mi(n),this.ru=!1):ne("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(o=>{r.enqueueAndForget(async()=>{fo(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ve(a);l.du.add(4),await tc(l),l.mu.set("Unknown"),l.du.delete(4),await Kh(l)}(this))})}),this.mu=new u8(r,i)}}async function Kh(t){if(fo(t))for(const e of t.wu)await e(!0)}async function tc(t){for(const e of t.wu)await e(!1)}function Kb(t,e){const n=ve(t);n.fu.has(e.targetId)||(n.fu.set(e.targetId,e),X1(n)?Y1(n):ja(n).No()&&Q1(n,e))}function Gb(t,e){const n=ve(t),r=ja(n);n.fu.delete(e),r.No()&&Qb(n,e),n.fu.size===0&&(r.No()?r.$o():fo(n)&&n.mu.set("Unknown"))}function Q1(t,e){t.gu.Ot(e.targetId),ja(t).jo(e)}function Qb(t,e){t.gu.Ot(e),ja(t).Wo(e)}function Y1(t){t.gu=new h9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.fu.get(e)||null}),ja(t).start(),t.mu.ou()}function X1(t){return fo(t)&&!ja(t).xo()&&t.fu.size>0}function fo(t){return ve(t).du.size===0}function Yb(t){t.gu=void 0}async function d8(t){t.fu.forEach((e,n)=>{Q1(t,e)})}async function f8(t,e){Yb(t),X1(t)?(t.mu.au(e),Y1(t)):t.mu.set("Unknown")}async function h8(t,e,n){if(t.mu.set("Online"),e instanceof jb&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.fu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.fu.delete(o),r.gu.removeTarget(o))}(t,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ef(t,r)}else if(e instanceof ad?t.gu.Kt(e):e instanceof Db?t.gu.Jt(e):t.gu.zt(e),!n.isEqual(ye.min()))try{const r=await Hb(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.gu.Xt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.fu.get(l);u&&i.fu.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.fu.get(a);if(!l)return;i.fu.set(a,l.withResumeToken(an.EMPTY_BYTE_STRING,l.snapshotVersion)),Qb(i,a);const u=new Us(l.target,a,1,l.sequenceNumber);Q1(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),await Ef(t,r)}}async function Ef(t,e,n){if(!Xu(e))throw e;t.du.add(1),await tc(t),t.mu.set("Offline"),n||(n=()=>Hb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne("RemoteStore","Retrying IndexedDB access"),await n(),t.du.delete(1),await Kh(t)})}function Xb(t,e){return e().catch(n=>Ef(t,n,e))}async function Gh(t){const e=ve(t),n=ss(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;p8(e);)try{const i=await J9(e.localStore,r);if(i===null){e.lu.length===0&&n.$o();break}r=i.batchId,m8(e,i)}catch(i){await Ef(e,i)}Jb(e)&&Zb(e)}function p8(t){return fo(t)&&t.lu.length<10}function m8(t,e){t.lu.push(e);const n=ss(t);n.No()&&n.Jo&&n.Yo(e.mutations)}function Jb(t){return fo(t)&&!ss(t).xo()&&t.lu.length>0}function Zb(t){ss(t).start()}async function g8(t){ss(t).tu()}async function y8(t){const e=ss(t);for(const n of t.lu)e.Yo(n.mutations)}async function v8(t,e,n){const r=t.lu.shift(),i=B1.from(r,e,n);await Xb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Gh(t)}async function w8(t,e){e&&ss(t).Jo&&await async function(n,r){if(i=r.code,f9(i)&&i!==D.ABORTED){const s=n.lu.shift();ss(n).Oo(),await Xb(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Gh(n)}var i}(t,e),Jb(t)&&Zb(t)}async function XE(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const r=fo(n);n.du.add(3),await tc(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.du.delete(3),await Kh(n)}async function _8(t,e){const n=ve(t);e?(n.du.delete(2),await Kh(n)):e||(n.du.add(2),await tc(n),n.mu.set("Unknown"))}function ja(t){return t.yu||(t.yu=function(e,n,r){const i=ve(e);return i.nu(),new o8(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:d8.bind(null,t),Zr:f8.bind(null,t),zo:h8.bind(null,t)}),t.wu.push(async e=>{e?(t.yu.Oo(),X1(t)?Y1(t):t.mu.set("Unknown")):(await t.yu.stop(),Yb(t))})),t.yu}function ss(t){return t.pu||(t.pu=function(e,n,r){const i=ve(e);return i.nu(),new a8(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:g8.bind(null,t),Zr:w8.bind(null,t),Xo:y8.bind(null,t),Zo:v8.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),await Gh(t)):(await t.pu.stop(),t.lu.length>0&&(ne("RemoteStore",`Stopping write stream with ${t.lu.length} pending writes`),t.lu=[]))})),t.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new J1(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Z1(t,e){if(mi("AsyncQueue",`${e}: ${t}`),Xu(t))return new J(D.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=El(),this.sortedSet=new bt(this.comparator)}static emptySet(e){return new ea(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ea)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ea;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(){this.Iu=new bt(se.comparator)}track(e){const n=e.doc.key,r=this.Iu.get(n);r?e.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,e):e.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Iu=this.Iu.remove(n):e.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):he():this.Iu=this.Iu.insert(n,e)}Tu(){const e=[];return this.Iu.inorderTraversal((n,r)=>{e.push(r)}),e}}class wa{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new wa(e,n,ea.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(){this.Eu=void 0,this.listeners=[]}}class S8{constructor(){this.queries=new Da(e=>wb(e),Vh),this.onlineState="Unknown",this.Au=new Set}}async function e0(t,e){const n=ve(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new E8),i)try{s.Eu=await n.onListen(r)}catch(o){const a=Z1(o,`Initialization of query '${ky(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Ru(n.onlineState),s.Eu&&e.vu(s.Eu)&&n0(n)}async function t0(t,e){const n=ve(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function C8(t,e){const n=ve(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.vu(i)&&(r=!0);o.Eu=i}}r&&n0(n)}function T8(t,e,n){const r=ve(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function n0(t){t.Au.forEach(e=>{e.next()})}class r0{constructor(e,n,r){this.query=e,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),n=!0):this.Du(e,this.onlineState)&&(this.Cu(e),n=!0),this.Vu=e,n}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),n=!0),n}Du(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Su(e){if(e.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(e){e=wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.key=e}}class t2{constructor(e){this.key=e}}class I8{constructor(e,n){this.query=e,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=Ie(),this.mutatedKeys=Ie(),this.Ku=_b(e),this.Gu=new ea(this.Ku)}get Qu(){return this.Lu}zu(e,n){const r=n?n.ju:new JE,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),p=zh(this.query,f)?f:null,w=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?w!==y&&(r.track({type:3,doc:p}),v=!0):this.Wu(h,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.Ku(p,l)>0||u&&this.Ku(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),v=!0):h&&!p&&(r.track({type:1,doc:h}),v=!0,(l||u)&&(a=!0)),v&&(p?(o=o.add(p),s=y?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,ju:r,Mi:a,mutatedKeys:s}}Wu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.ju.Tu();s.sort((u,c)=>function(f,h){const p=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return p(f)-p(h)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const o=n?this.Ju():[],a=this.Uu.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,s.length!==0||l?{snapshot:new wa(this.query,e.Gu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new JE,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=Ie(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return e.forEach(r=>{this.Uu.has(r)||n.push(new t2(r))}),this.Uu.forEach(r=>{e.has(r)||n.push(new e2(r))}),n}Xu(e){this.Lu=e.Wi,this.Uu=Ie();const n=this.zu(e.documents);return this.applyChanges(n,!0)}tc(){return wa.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class x8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class k8{constructor(e){this.key=e,this.ec=!1}}class b8{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Da(a=>wb(a),Vh),this.ic=new Map,this.rc=new Set,this.oc=new bt(se.comparator),this.uc=new Map,this.cc=new W1,this.ac={},this.hc=new Map,this.lc=va.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function R8(t,e){const n=U8(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await Z9(n.localStore,gi(e));n.isPrimaryClient&&Kb(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await A8(n,e,r,a==="current",o.resumeToken)}return i}async function A8(t,e,n,r,i){t.dc=(f,h,p)=>async function(w,y,v,g){let m=y.view.zu(v);m.Mi&&(m=await GE(w.localStore,y.query,!1).then(({documents:S})=>y.view.zu(S,m)));const _=g&&g.targetChanges.get(y.targetId),E=y.view.applyChanges(m,w.isPrimaryClient,_);return eS(w,y.targetId,E.Yu),E.snapshot}(t,f,h,p);const s=await GE(t.localStore,e,!0),o=new I8(e,s.Wi),a=o.zu(s.documents),l=ec.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);eS(t,n,u.Yu);const c=new x8(e,n,o);return t.sc.set(e,c),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),u.snapshot}async function P8(t,e){const n=ve(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!Vh(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Py(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Gb(n.remoteStore,r.targetId),Ny(n,r.targetId)}).catch(Yu)):(Ny(n,r.targetId),await Py(n.localStore,r.targetId,!0))}async function N8(t,e,n){const r=F8(t);try{const i=await function(s,o){const a=ve(s),l=St.now(),u=o.reduce((h,p)=>h.add(p.key),Ie());let c,f;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=yi(),w=Ie();return a.Ki.getEntries(h,u).next(y=>{p=y,p.forEach((v,g)=>{g.isValidDocument()||(w=w.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,p)).next(y=>{c=y;const v=[];for(const g of o){const m=a9(g,c.get(g.key).overlayedDocument);m!=null&&v.push(new ms(g.key,m,cb(m.value.mapValue),gr.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,v,o)}).next(y=>{f=y;const v=y.applyToLocalDocumentSet(c,w);return a.documentOverlayCache.saveOverlays(h,y.batchId,v)})}).then(()=>({batchId:f.batchId,changes:Sb(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new bt(Me)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),await nc(r,i.changes),await Gh(r.remoteStore)}catch(i){const s=Z1(i,"Failed to persist write");n.reject(s)}}async function n2(t,e){const n=ve(t);try{const r=await Y9(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(Xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?Xe(o.ec):i.removedDocuments.size>0&&(Xe(o.ec),o.ec=!1))}),await nc(n,r,e)}catch(r){await Yu(r)}}function ZE(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const a=o.view.Ru(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=ve(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const f of c.listeners)f.Ru(o)&&(l=!0)}),l&&n0(a)}(r.eventManager,e),i.length&&r.nc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function L8(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new bt(se.comparator);o=o.insert(s,Jt.newNoDocument(s,ye.min()));const a=Ie().add(s),l=new qh(ye.min(),new Map,new kt(Me),o,a);await n2(r,l),r.oc=r.oc.remove(s),r.uc.delete(e),i0(r)}else await Py(r.localStore,e,!1).then(()=>Ny(r,e,n)).catch(Yu)}async function O8(t,e){const n=ve(t),r=e.batch.batchId;try{const i=await Q9(n.localStore,e);i2(n,r,null),r2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nc(n,i)}catch(i){await Yu(i)}}async function D8(t,e,n){const r=ve(t);try{const i=await function(s,o){const a=ve(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(Xe(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);i2(r,e,n),r2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await nc(r,i)}catch(i){await Yu(i)}}function r2(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function i2(t,e,n){const r=ve(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function Ny(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc.wc(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.hs(e).forEach(r=>{t.cc.containsKey(r)||s2(t,r)})}function s2(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(Gb(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),i0(t))}function eS(t,e,n){for(const r of n)r instanceof e2?(t.cc.addReference(r.key,e),j8(t,r)):r instanceof t2?(ne("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||s2(t,r.key)):he()}function j8(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(ne("SyncEngine","New document in limbo: "+n),t.rc.add(r),i0(t))}function i0(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new se(Qe.fromString(e)),r=t.lc.next();t.uc.set(r,new k8(n)),t.oc=t.oc.insert(n,r),Kb(t.remoteStore,new Us(gi(Fh(n.path)),r,2,$1.ct))}}async function nc(t,e,n){const r=ve(t),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=G1.Di(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.nc.zo(i),await async function(a,l){const u=ve(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>z.forEach(l,f=>z.forEach(f.Vi,h=>u.persistence.referenceDelegate.addReference(c,f.targetId,h)).next(()=>z.forEach(f.Si,h=>u.persistence.referenceDelegate.removeReference(c,f.targetId,h)))))}catch(c){if(!Xu(c))throw c;ne("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const f=c.targetId;if(!c.fromCache){const h=u.Li.get(f),p=h.snapshotVersion,w=h.withLastLimboFreeSnapshotVersion(p);u.Li=u.Li.insert(f,w)}}}(r.localStore,s))}async function M8(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const r=await Bb(n.localStore,e);n.currentUser=e,function(i,s){i.hc.forEach(o=>{o.forEach(a=>{a.reject(new J(D.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nc(n,r.Qi)}}function $8(t,e){const n=ve(t),r=n.uc.get(e);if(r&&r.ec)return Ie().add(r.key);{let i=Ie();const s=n.ic.get(e);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}function U8(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=n2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L8.bind(null,e),e.nc.zo=C8.bind(null,e.eventManager),e.nc.wc=T8.bind(null,e.eventManager),e}function F8(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D8.bind(null,e),e}class tS{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return G9(this.persistence,new W9,e.initialUser,this.serializer)}createPersistence(e){return new H9(K1.Fs,this.serializer)}createSharedClientState(e){return new t8}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class V8{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ZE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=M8.bind(null,this.syncEngine),await _8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new S8}createDatastore(e){const n=Wh(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new s8(i));var i;return function(s,o,a,l){return new l8(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>ZE(this.syncEngine,a,0),o=YE.D()?new YE:new n8,new c8(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new b8(r,i,s,o,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ve(e);ne("RemoteStore","RemoteStore shutting down."),n.du.add(5),await tc(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=ob.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ne("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Z1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Em(t,e){t.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Bb(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function nS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await H8(t);ne("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>XE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>XE(e.remoteStore,s)),t._onlineComponents=e}function B8(t){return t.name==="FirebaseError"?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function H8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await Em(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!B8(n))throw n;mf("Error using user provided cache. Falling back to memory cache: "+n),await Em(t,new tS)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),await Em(t,new tS);return t._offlineComponents}async function o2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),await nS(t,t._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),await nS(t,new V8))),t._onlineComponents}function q8(t){return o2(t).then(e=>e.syncEngine)}async function Sf(t){const e=await o2(t),n=e.eventManager;return n.onListen=R8.bind(null,e.syncEngine),n.onUnlisten=P8.bind(null,e.syncEngine),n}function W8(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new s0({next:f=>{s.enqueueAndForget(()=>t0(i,c));const h=f.docs.has(o);!h&&f.fromCache?l.reject(new J(D.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&f.fromCache&&a&&a.source==="server"?l.reject(new J(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),c=new r0(Fh(o.path),u,{includeMetadataChanges:!0,xu:!0});return e0(i,c)}(await Sf(t),t.asyncQueue,e,n,r)),r.promise}function K8(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new s0({next:f=>{s.enqueueAndForget(()=>t0(i,c)),f.fromCache&&a.source==="server"?l.reject(new J(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),c=new r0(o,u,{includeMetadataChanges:!0,xu:!0});return e0(i,c)}(await Sf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t,e,n){if(!n)throw new J(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function G8(t,e,n,r){if(e===!0&&r===!0)throw new J(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iS(t){if(!se.isDocumentKey(t))throw new J(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sS(t){if(se.isDocumentKey(t))throw new J(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function On(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qh(t);throw new J(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new J(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,G8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oS(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new w5;switch(n.type){case"firstParty":return new C5(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new J(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=rS.get(e);n&&(ne("ComponentProvider","Removing Datastore"),rS.delete(e),n.terminate())}(this),Promise.resolve()}}function Q8(t,e,n,r={}){var i;const s=(t=On(t,Yh))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&mf("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Yt.MOCK_USER;else{o=qI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new J(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Yt(l)}t._authCredentials=new _5(new sb(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class ho{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ho(this.firestore,e,this._query)}}class Ji extends ho{constructor(e,n,r){super(e,n,Fh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new se(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function Xh(t,e,...n){if(t=We(t),a2("collection","path",e),t instanceof Yh){const r=Qe.fromString(e,...n);return sS(r),new Ji(t,null,r)}{if(!(t instanceof rn||t instanceof Ji))throw new J(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return sS(r),new Ji(t.firestore,null,r)}}function tr(t,e,...n){if(t=We(t),arguments.length===1&&(e=ob.A()),a2("doc","path",e),t instanceof Yh){const r=Qe.fromString(e,...n);return iS(r),new rn(t,null,new se(r))}{if(!(t instanceof rn||t instanceof Ji))throw new J(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return iS(r),new rn(t.firestore,t instanceof Ji?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new qb(this,"async_queue_retry"),this.qc=()=>{const n=_m();n&&ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const e=_m();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const n=_m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new si;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(e){if(!Xu(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(e){const n=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw mi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(e,n,r){this.Uc(),this.Lc.indexOf(e)>-1&&(n=0);const i=J1.createAndSchedule(this,e,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&he()}verifyOperationInProgress(){}async zc(){let e;do e=this.Nc,await e;while(e!==this.Nc)}jc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function aS(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class os extends Yh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Y8,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||l2(this),this._firestoreClient.terminate()}}function X8(t,e){const n=typeof t=="object"?t:vh(),r=typeof t=="string"?t:e||"(default)",i=fs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=BI("firestore");s&&Q8(i,...s)}return i}function Jh(t){return t._firestoreClient||l2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function l2(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new j5(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new z8(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _a(an.fromBase64String(e))}catch(n){throw new J(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _a(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8=/^__.*__$/;class Z8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zu(e,this.data,n,this.fieldTransforms)}}class u2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ms(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function c2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class l0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new l0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.ea(e),i}na(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return Cf(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(e.length===0)throw this.ia("Document fields must not be empty");if(c2(this.Yc)&&J8.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class eF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wh(e)}ua(e,n,r,i=!1){return new l0({Yc:e,methodName:n,oa:r,path:Zt.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ep(t){const e=t._freezeSettings(),n=Wh(t._databaseId);return new eF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function d2(t,e,n,r,i,s={}){const o=t.ua(s.merge||s.mergeFields?2:0,e,n,i);u0("Data must be an object, but it was:",o,r);const a=f2(r,o);let l,u;if(s.merge)l=new An(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const h=Ly(e,f,n);if(!o.contains(h))throw new J(D.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);p2(c,h)||c.push(h)}l=new An(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new Z8(new _n(a),l,u)}class tp extends o0{_toFieldTransform(e){if(e.Yc!==2)throw e.Yc===1?e.ia(`${this._methodName}() can only appear at the top level of your update data`):e.ia(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tp}}function tF(t,e,n,r){const i=t.ua(1,e,n);u0("Data must be an object, but it was:",i,r);const s=[],o=_n.empty();co(r,(l,u)=>{const c=c0(e,l,n);u=We(u);const f=i.na(c);if(u instanceof tp)s.push(c);else{const h=rc(u,f);h!=null&&(s.push(c),o.set(c,h))}});const a=new An(s);return new u2(o,a,i.fieldTransforms)}function nF(t,e,n,r,i,s){const o=t.ua(1,e,n),a=[Ly(e,r,n)],l=[i];if(s.length%2!=0)throw new J(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Ly(e,s[h])),l.push(s[h+1]);const u=[],c=_n.empty();for(let h=a.length-1;h>=0;--h)if(!p2(u,a[h])){const p=a[h];let w=l[h];w=We(w);const y=o.na(p);if(w instanceof tp)u.push(p);else{const v=rc(w,y);v!=null&&(u.push(p),c.set(p,v))}}const f=new An(u);return new u2(c,f,o.fieldTransforms)}function rF(t,e,n,r=!1){return rc(n,t.ua(r?4:3,e))}function rc(t,e){if(h2(t=We(t)))return u0("Unsupported field value:",e,t),f2(t,e);if(t instanceof o0)return function(n,r){if(!c2(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ta&&e.Yc!==4)throw e.ia("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=rc(o,r.sa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=We(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return t9(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=St.fromDate(n);return{timestampValue:_f(r.serializer,i)}}if(n instanceof St){const i=new St(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:_f(r.serializer,i)}}if(n instanceof a0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof _a)return{bytesValue:Mb(r.serializer,n._byteString)};if(n instanceof rn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:q1(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${Qh(n)}`)}(t,e)}function f2(t,e){const n={};return ab(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):co(t,(r,i)=>{const s=rc(i,e.Xc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function h2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof a0||t instanceof _a||t instanceof rn||t instanceof o0)}function u0(t,e,n){if(!h2(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Qh(n);throw r==="an object"?e.ia(t+" a custom object"):e.ia(t+" "+r)}}function Ly(t,e,n){if((e=We(e))instanceof Zh)return e._internalPath;if(typeof e=="string")return c0(t,e);throw Cf("Field path arguments must be of type string or ",t,!1,void 0,n)}const iF=new RegExp("[~\\*/\\[\\]]");function c0(t,e,n){if(e.search(iF)>=0)throw Cf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zh(...e.split("."))._internalPath}catch{throw Cf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new J(D.INVALID_ARGUMENT,a+t+l)}function p2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(g2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sF extends m2{data(){return super.data()}}function g2(t,e){return typeof e=="string"?c0(t,e):e instanceof Zh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d0{}class oF extends d0{}function aF(t,e,...n){let r=[];e instanceof d0&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof h0).length,o=i.filter(a=>a instanceof f0).length;if(s>1||s>0&&o>0)throw new J(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class f0 extends oF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new f0(e,n,r)}_apply(e){const n=this._parse(e);return v2(e._query,n),new ho(e.firestore,e.converter,Iy(e._query,n))}_parse(e){const n=ep(e.firestore);return function(i,s,o,a,l,u,c){let f;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new J(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){uS(c,u);const h=[];for(const p of c)h.push(lS(a,i,p));f={arrayValue:{values:h}}}else f=lS(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||uS(c,u),f=rF(o,s,c,u==="in"||u==="not-in");return Et.create(l,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class h0 extends d0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new h0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)v2(s,a),s=Iy(s,a)}(e._query,n),new ho(e.firestore,e.converter,Iy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function lS(t,e,n){if(typeof(n=We(n))=="string"){if(n==="")throw new J(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vb(e)&&n.indexOf("/")!==-1)throw new J(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Qe.fromString(n));if(!se.isDocumentKey(r))throw new J(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return LE(t,new se(r))}if(n instanceof rn)return LE(t,n._key);throw new J(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qh(n)}.`)}function uS(t,e){if(!Array.isArray(t)||t.length===0)throw new J(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function v2(t,e){if(e.isInequality()){const r=z1(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new J(D.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=yb(t);s!==null&&lF(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function lF(t,e,n){if(!n.isEqual(e))throw new J(D.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class uF{convertValue(e,n="none"){switch(eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw he()}}convertObject(e,n){const r={};return co(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new a0(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ub(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cu(e));default:return null}}convertTimestamp(e){const n=is(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qe.fromString(e);Xe(zb(r));const i=new Tu(r.get(1),r.get(3)),s=new se(r.popFirst(5));return i.isEqual(n)||mi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _2 extends m2{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(g2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ld extends _2{data(e={}){return super.data(e)}}class E2{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Sl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ld(this._firestore,this._userDataWriter,r.key,r,new Sl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new ld(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Sl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new ld(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Sl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:cF(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){t=On(t,rn);const e=On(t.firestore,os);return W8(Jh(e),t._key).then(n=>T2(e,t,n))}class p0 extends uF{constructor(e){super(),this.firestore=e}convertBytes(e){return new _a(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function S2(t){t=On(t,ho);const e=On(t.firestore,os),n=Jh(e),r=new p0(e);return y2(t._query),K8(n,t._query).then(i=>new E2(e,r,t,i))}function m0(t,e,n){t=On(t,rn);const r=On(t.firestore,os),i=w2(t.converter,e,n);return g0(r,[d2(ep(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,gr.none())])}function np(t,e,n,...r){t=On(t,rn);const i=On(t.firestore,os),s=ep(i);let o;return o=typeof(e=We(e))=="string"||e instanceof Zh?nF(s,"updateDoc",t._key,e,n,r):tF(s,"updateDoc",t._key,e),g0(i,[o.toMutation(t._key,gr.exists(!0))])}function dF(t,e){const n=On(t.firestore,os),r=tr(t),i=w2(t.converter,e);return g0(n,[d2(ep(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,gr.exists(!1))]).then(()=>r)}function C2(t,...e){var n,r,i;t=We(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||aS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(aS(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof rn)u=On(t.firestore,os),c=Fh(t._key.path),l={next:f=>{e[o]&&e[o](T2(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=On(t,ho);u=On(f.firestore,os),c=f._query;const h=new p0(u);l={next:p=>{e[o]&&e[o](new E2(u,h,f,p))},error:e[o+1],complete:e[o+2]},y2(t._query)}return function(f,h,p,w){const y=new s0(w),v=new r0(h,y,p);return f.asyncQueue.enqueueAndForget(async()=>e0(await Sf(f),v)),()=>{y.yc(),f.asyncQueue.enqueueAndForget(async()=>t0(await Sf(f),v))}}(Jh(u),c,a,l)}function g0(t,e){return function(n,r){const i=new si;return n.asyncQueue.enqueueAndForget(async()=>N8(await q8(n),r,i)),i.promise}(Jh(t),e)}function T2(t,e,n){const r=n.docs.get(e._key),i=new p0(t);return new _2(t,i,e._key,r,new Sl(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Oa=n})(oo),wr(new Yn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new os(new E5(n.getProvider("auth-internal")),new I5(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new J(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tu(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),In(bE,"3.10.1",t),In(bE,"3.10.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="firebasestorage.googleapis.com",x2="storageBucket",fF=2*60*1e3,hF=10*60*1e3,pF=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct extends er{constructor(e,n,r=0){super(Sm(e),`Firebase Storage: ${n} (${Sm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Je;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Je||(Je={}));function Sm(t){return"storage/"+t}function y0(){const t="An unknown error occurred, please check the error payload for server response.";return new ct(Je.UNKNOWN,t)}function mF(t){return new ct(Je.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function gF(t){return new ct(Je.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function yF(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ct(Je.UNAUTHENTICATED,t)}function vF(){return new ct(Je.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function wF(t){return new ct(Je.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function k2(){return new ct(Je.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function b2(){return new ct(Je.CANCELED,"User canceled the upload/download.")}function _F(t){return new ct(Je.INVALID_URL,"Invalid URL '"+t+"'.")}function EF(t){return new ct(Je.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function SF(){return new ct(Je.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+x2+"' property when initializing the app?")}function R2(){return new ct(Je.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function CF(){return new ct(Je.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function TF(){return new ct(Je.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function IF(t){return new ct(Je.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Oy(t){return new ct(Je.INVALID_ARGUMENT,t)}function A2(){return new ct(Je.APP_DELETED,"The Firebase app was deleted.")}function xF(t){return new ct(Je.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vl(t,e){return new ct(Je.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function rl(t){throw new ct(Je.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Pn.makeFromUrl(e,n)}catch{return new Pn(e,"")}if(r.path==="")return r;throw EF(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${c}/b/${i}/o${h}`,"i"),w={bucket:1,path:3},y=n===I2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",g=new RegExp(`^https?://${y}/${i}/${v}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:p,indices:w,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<_.length;E++){const S=_[E],I=S.regex.exec(e);if(I){const x=I[S.indices.bucket];let P=I[S.indices.path];P||(P=""),r=new Pn(x,P),S.postModify(r);break}}if(r==null)throw _F(e);return r}}class kF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...v){u||(u=!0,e.apply(null,v))}function f(v){i=setTimeout(()=>{i=null,t(p,l())},v)}function h(){s&&clearTimeout(s)}function p(v,...g){if(u){h();return}if(v){h(),c.call(null,v,...g);return}if(l()||o){h(),c.call(null,v,...g);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,f(_)}let w=!1;function y(v){w||(w=!0,h(),!u&&(i!==null?(v||(a=2),clearTimeout(i),f(0)):v||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function RF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(t){return t!==void 0}function PF(t){return typeof t=="function"}function NF(t){return typeof t=="object"&&!Array.isArray(t)}function rp(t){return typeof t=="string"||t instanceof String}function cS(t){return v0()&&t instanceof Blob}function v0(){return typeof Blob<"u"&&!CM()}function dS(t,e,n,r){if(r<e)throw Oy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Oy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function P2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Fs||(Fs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e,n,r,i,s,o,a,l,u,c,f,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,w)=>{this.resolve_=p,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new jc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Fs.NO_ERROR,l=s.getStatus();if(!a||N2(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Fs.ABORT;r(!1,new jc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new jc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());AF(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=y0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?A2():b2();o(l)}else{const l=k2();o(l)}};this.canceled_?n(!1,new jc(!1,null,!0)):this.backoffId_=bF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&RF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function OF(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function DF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function MF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $F(t,e,n,r,i,s,o=!0){const a=P2(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return jF(u,e),OF(u,n),DF(u,s),MF(u,r),new LF(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function FF(...t){const e=UF();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(v0())return new Blob(t);throw new ct(Je.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function VF(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(t){if(typeof atob>"u")throw IF("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Cm{constructor(e,n){this.data=e,this.contentType=n||null}}function BF(t,e){switch(t){case br.RAW:return new Cm(L2(e));case br.BASE64:case br.BASE64URL:return new Cm(O2(t,e));case br.DATA_URL:return new Cm(qF(e),WF(e))}throw y0()}function L2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function HF(t){let e;try{e=decodeURIComponent(t)}catch{throw Vl(br.DATA_URL,"Malformed data URL.")}return L2(e)}function O2(t,e){switch(t){case br.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Vl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case br.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Vl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=zF(e)}catch(i){throw i.message.includes("polyfill")?i:Vl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class D2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Vl(br.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=KF(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function qF(t){const e=new D2(t);return e.base64?O2(br.BASE64,e.rest):HF(e.rest)}function WF(t){return new D2(t).contentType}function KF(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){let r=0,i="";cS(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(cS(this.data_)){const r=this.data_,i=VF(r,e,n);return i===null?null:new Di(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Di(r,!0)}}static getBlob(...e){if(v0()){const n=e.map(r=>r instanceof Di?r.data_:r);return new Di(FF.apply(null,n))}else{const n=e.map(o=>rp(o)?BF(br.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Di(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(t){let e;try{e=JSON.parse(t)}catch{return null}return NF(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function QF(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function M2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t,e){return e}class un{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||YF}}let Mc=null;function XF(t){return!rp(t)||t.length<2?t:M2(t)}function $2(){if(Mc)return Mc;const t=[];t.push(new un("bucket")),t.push(new un("generation")),t.push(new un("metageneration")),t.push(new un("name","fullPath",!0));function e(s,o){return XF(o)}const n=new un("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new un("size");return i.xform=r,t.push(i),t.push(new un("timeCreated")),t.push(new un("updated")),t.push(new un("md5Hash",null,!0)),t.push(new un("cacheControl",null,!0)),t.push(new un("contentDisposition",null,!0)),t.push(new un("contentEncoding",null,!0)),t.push(new un("contentLanguage",null,!0)),t.push(new un("contentType",null,!0)),t.push(new un("metadata","customMetadata",!0)),Mc=t,Mc}function JF(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Pn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function ZF(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return JF(r,t),r}function U2(t,e,n){const r=j2(e);return r===null?null:ZF(t,r,n)}function e7(t,e,n,r){const i=j2(e);if(i===null||!rp(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,f=t.fullPath,h="/b/"+o(c)+"/o/"+o(f),p=ic(h,n,r),w=P2({alt:"media",token:u});return p+w})[0]}function F2(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Ma{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t){if(!t)throw y0()}function w0(t,e){function n(r,i){const s=U2(t,i,e);return oi(s!==null),s}return n}function t7(t,e){function n(r,i){const s=U2(t,i,e);return oi(s!==null),e7(s,i,t.host,t._protocol)}return n}function sc(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=vF():i=yF():n.getStatus()===402?i=gF(t.bucket):n.getStatus()===403?i=wF(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function V2(t){const e=sc(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=mF(t.path)),s.serverResponse=i.serverResponse,s}return n}function n7(t,e,n){const r=e.fullServerUrl(),i=ic(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ma(i,s,w0(t,n),o);return a.errorHandler=V2(e),a}function r7(t,e,n){const r=e.fullServerUrl(),i=ic(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ma(i,s,t7(t,n),o);return a.errorHandler=V2(e),a}function i7(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function z2(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=i7(null,e)),r}function s7(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let E=0;E<2;E++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=z2(e,r,i),c=F2(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Di.getBlob(f,r,h);if(p===null)throw R2();const w={name:u.fullPath},y=ic(s,t.host,t._protocol),v="POST",g=t.maxUploadRetryTime,m=new Ma(y,v,w0(t,n),g);return m.urlParams=w,m.headers=o,m.body=p.uploadData(),m.errorHandler=sc(e),m}class Tf{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function _0(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{oi(!1)}return oi(!!n&&(e||["active"]).indexOf(n)!==-1),n}function o7(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=z2(e,r,i),a={name:o.fullPath},l=ic(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},f=F2(o,n),h=t.maxUploadRetryTime;function p(y){_0(y);let v;try{v=y.getResponseHeader("X-Goog-Upload-URL")}catch{oi(!1)}return oi(rp(v)),v}const w=new Ma(l,u,p,h);return w.urlParams=a,w.headers=c,w.body=f,w.errorHandler=sc(e),w}function a7(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=_0(u,["active","final"]);let f=null;try{f=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{oi(!1)}f||oi(!1);const h=Number(f);return oi(!isNaN(h)),new Tf(h,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Ma(n,o,s,a);return l.headers=i,l.errorHandler=sc(e),l}const fS=256*1024;function l7(t,e,n,r,i,s,o,a){const l=new Tf(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw CF();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const f=l.current,h=f+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const w={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},y=r.slice(f,h);if(y===null)throw R2();function v(E,S){const I=_0(E,["active","final"]),x=l.current+c,P=r.size();let R;return I==="final"?R=w0(e,s)(E,S):R=null,new Tf(x,P,I==="final",R)}const g="POST",m=e.maxUploadRetryTime,_=new Ma(n,g,v,m);return _.headers=w,_.body=y.uploadData(),_.progressCallback=a||null,_.errorHandler=sc(t),_}const vn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Tm(t){switch(t){case"running":case"pausing":case"canceling":return vn.RUNNING;case"paused":return vn.PAUSED;case"success":return vn.SUCCESS;case"canceled":return vn.CANCELED;case"error":return vn.ERROR;default:return vn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e,n,r){if(PF(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class c7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Fs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Fs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw rl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw rl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class d7 extends c7{initXhr(){this.xhr_.responseType="text"}}function To(){return new d7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=$2(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Je.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(N2(i.status,[]))if(s)i=k2();else{this.sleepTime=Math.max(this.sleepTime*2,pF),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Je.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=o7(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,To,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=a7(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,To,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=fS*this._chunkMultiplier,n=new Tf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=l7(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,To,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){fS*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=n7(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,To,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=s7(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,To,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=b2(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Tm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new u7(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Tm(this._state)){case vn.SUCCESS:wo(this._resolve.bind(null,this.snapshot))();break;case vn.CANCELED:case vn.ERROR:const n=this._reject;wo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Tm(this._state)){case vn.RUNNING:case vn.PAUSED:e.next&&wo(e.next.bind(e,this.snapshot))();break;case vn.SUCCESS:e.complete&&wo(e.complete.bind(e))();break;case vn.CANCELED:case vn.ERROR:e.error&&wo(e.error.bind(e,this._error))();break;default:e.error&&wo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n){this._service=e,n instanceof Pn?this._location=n:this._location=Pn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new to(e,n)}get root(){const e=new Pn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return M2(this._location.path)}get storage(){return this._service}get parent(){const e=GF(this._location.path);if(e===null)return null;const n=new Pn(this._location.bucket,e);return new to(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw xF(e)}}function h7(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new f7(t,new Di(e),n)}function p7(t){t._throwIfRoot("getDownloadURL");const e=r7(t.storage,t._location,$2());return t.storage.makeRequestWithTokens(e,To).then(n=>{if(n===null)throw TF();return n})}function m7(t,e){const n=QF(t._location.path,e),r=new Pn(t._location.bucket,n);return new to(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g7(t){return/^[A-Za-z]+:\/\//.test(t)}function y7(t,e){return new to(t,e)}function B2(t,e){if(t instanceof E0){const n=t;if(n._bucket==null)throw SF();const r=new to(n,n._bucket);return e!=null?B2(r,e):r}else return e!==void 0?m7(t,e):t}function v7(t,e){if(e&&g7(e)){if(t instanceof E0)return y7(t,e);throw Oy("To use ref(service, url), the first argument must be a Storage instance.")}else return B2(t,e)}function hS(t,e){const n=e==null?void 0:e[x2];return n==null?null:Pn.makeFromBucketSpec(n,t)}function w7(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:qI(i,t.app.options.projectId))}class E0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=I2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fF,this._maxUploadRetryTime=hF,this._requests=new Set,i!=null?this._bucket=Pn.makeFromBucketSpec(i,this._host):this._bucket=hS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Pn.makeFromBucketSpec(this._url,e):this._bucket=hS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new to(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new kF(A2());{const o=$F(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const pS="@firebase/storage",mS="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="storage";function _7(t,e,n){return t=We(t),h7(t,e,n)}function E7(t){return t=We(t),p7(t)}function S7(t,e){return t=We(t),v7(t,e)}function C7(t=vh(),e){t=We(t);const r=fs(t,H2).getImmediate({identifier:e}),i=BI("storage");return i&&T7(r,...i),r}function T7(t,e,n,r={}){w7(t,e,n,r)}function I7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new E0(n,r,i,e,oo)}function x7(){wr(new Yn(H2,I7,"PUBLIC").setMultipleInstances(!0)),In(pS,mS,""),In(pS,mS,"esm2017")}x7();const k7={apiKey:"AIzaSyCp1genoyHX34BgerJeoNIDKJNp2H3Y2Rc",authDomain:"amelianceworship-d6e23.firebaseapp.com",projectId:"amelianceworship-d6e23",storageBucket:"amelianceworship-d6e23.appspot.com",messagingSenderId:"268005856332",appId:"1:268005856332:web:ba2da910ba7dec2a1350e9",measurementId:"G-28X8EC3EV9"},b7=JI(k7),$a=Q3(),R7=C7();dU(b7);const A7=new Gr,yn=X8();async function P7({email:t,password:e}){try{return{user:(await A4($a,t,e)).user,status:"success"}}catch(n){throw new Error(ae(n))}}function N7(){const t=$a.currentUser;if(t!==null)return{user:t,status:"success"};throw new Error(ae("Can't find user auth!"))}async function L7({email:t,password:e}){try{return{user:(await P4($a,t,e)).user,status:"success"}}catch(n){throw new Error(ae(n))}}async function O7(){try{return{user:(await i3($a,A7)).user,status:"success"}}catch(t){throw new Error(ae(t))}}function po(){return{status:"success"}}function D7(){try{return M4($a),po()}catch(t){throw new Error(ae(t))}}async function j7({user:t,displayName:e,photoURL:n}){const r={};if(e&&(r.displayName=e),n&&(r.photoURL=n),mr(r))throw new Error(ae("Nothing to update"));try{return await L4(t,r),po()}catch(i){throw new Error(ae(i))}}const M7=Object.freeze(Object.defineProperty({__proto__:null,createUser:P7,getCurrentAuthUser:N7,signInWithEmail:L7,signInWithGoogle:O7,signOut:D7,updateProfile:j7},Symbol.toStringTag,{value:"Module"}));async function $7({chatId:t}){const e=tr(yn,"chats",t);try{const n=await bu(e);if(n.exists())return{messages:n.data().message,status:"success"};await m0(e,{messages:[]});const r=await bu(e);if(r.exists())return{messages:r.data().message,status:"success"};throw new Error("Can't find group chat!")}catch(n){throw new Error(ae(n))}}const U7=Object.freeze(Object.defineProperty({__proto__:null,getChatMessages:$7},Symbol.toStringTag,{value:"Module"}));async function F7(){const t=Xh(yn,"groups");try{return{chatId:(await dF(t,{})).id,status:"success"}}catch(e){throw new Error(ae(e))}}async function q2({chatId:t}){const e=tr(yn,"groups",t);try{const n=await bu(e);if(n.exists())return{messages:n.data().messages,status:"success"};throw new Error("Can't find group messages!")}catch(n){throw new Error(ae(n))}}async function V7({text:t,chatId:e,user:n}){var r;try{const i=await q2({chatId:e});if("error"in i)throw new Error((r=i.error)==null?void 0:r.toString());const o={messageId:i.messages&&i.messages.length>0?i.messages[i.messages.length-1].messageId+1:0,text:t,chatId:e,date:St.now().toMillis().toString(),user:n};let a;"messages"in i&&i.messages&&i.messages.length>0?a=[...i.messages,o]:a=[o];const l=tr(yn,"groups",e);return await np(l,{messages:a}),po()}catch(i){throw new Error(ae(i))}}async function z7(){const t=Xh(yn,"groups");try{const e=await S2(t),n={};if(e.forEach(r=>{n[r.id]=r.data()}),!X.isObjectEmpty(n))return{groups:n,status:"success"};throw new Error("Can't find any groups!")}catch(e){throw new Error(ae(e))}}async function B7({chatId:t}){const e=tr(yn,"groups",t);try{const n=await bu(e);if(n.exists())return{info:n.data().info,status:"success"};throw new Error("Can't find group info!")}catch(n){throw new Error(ae(n))}}async function H7({chatId:t,displayName:e,photoURL:n,lastText:r,color:i,ownerId:s,admins:o,type:a}){const l=tr(yn,"groups",t);try{const u={};return t&&(u.chatId=t),e&&(u.displayName=e),n&&(u.photoURL=n),u.date=Hd().toString(),r&&(u.lastText=r),i&&(u.color=i),s&&(u.ownerId=s),o&&o.length>0&&(u.admins=o),a&&(u.type=a),await np(l,{info:u}),po()}catch(u){throw new Error(ae(u))}}const q7=Object.freeze(Object.defineProperty({__proto__:null,addGroup:F7,addMessage:V7,getAllGroups:z7,getGroupInfo:B7,getGroupMessages:q2,updateGroupInfo:H7},Symbol.toStringTag,{value:"Module"}));async function W7({uid:t}){const e=tr(yn,"userChats",t);try{return await m0(e,{}),po()}catch(n){throw new Error(ae(n))}}function K7({chatId:t,uid:e,targetChatUserId:n,targetChatUserDisplayName:r,targetChatUserPhotoURL:i}){const s=tr(yn,"userChats",e);np(s,{[`${t}.userInfo`]:{uid:n,displayName:r,photoURL:i},[`${t}.date`]:Hd()})}const G7=Object.freeze(Object.defineProperty({__proto__:null,addUserChatsForUser:W7,updateUserChatInfo:K7},Symbol.toStringTag,{value:"Module"}));async function Q7({uid:t}){const e=tr(yn,"users",t);try{return await m0(e,{uid:t}),po()}catch(n){throw new Error(ae(n))}}async function Y7(){const t=Xh(yn,"users");try{const e=await S2(t),n={};if(e.forEach(r=>{const i=r.data();n[r.id]={uid:i.uid,...i.user}}),!X.isObjectEmpty(n))return{users:n,status:"success"};throw new Error(ae("Can't find any users!"))}catch(e){throw new Error(ae(e))}}async function X7({userId:t}){const e=tr(yn,"users",t);try{const n=await bu(e);if(n.exists()){const r=n.data();return{user:{uid:r.uid,...r.user},status:"success"}}throw new Error("Can't find user!")}catch(n){throw new Error(ae(n))}}async function J7({uid:t,displayName:e,photoURL:n,email:r,userType:i,role:s,sex:o,lastActiveChatId:a,registrationDate:l,isOnline:u,visitsCount:c}){const f=tr(yn,"users",t);try{const h={};return e&&(h.displayName=e.trim()),n&&(h.photoURL=n),r&&(h.email=r),i&&(h.userType=i),s&&(h.role=s.trim()),o&&(h.sex=o),a&&(h.lastActiveChatId=a),h.lastVisitDate=Hd().toString(),h.registrationDate=l||Hd().toString(),u&&(h.isOnline=u),c&&(h.visitsCount=c),await np(f,{user:h}),po()}catch(h){throw new Error(ae(h))}}const Z7=Object.freeze(Object.defineProperty({__proto__:null,addUser:Q7,getAllUsers:Y7,getUserById:X7,updateUser:J7},Symbol.toStringTag,{value:"Module"})),eV=Object.freeze(Object.defineProperty({__proto__:null,chats:U7,groups:q7,userChats:G7,users:Z7},Symbol.toStringTag,{value:"Module"}));function tV(...t){return t.sort().join("-")}const nV=Object.freeze(Object.defineProperty({__proto__:null,combineIds:tV},Symbol.toStringTag,{value:"Module"}));async function rV({refName:t,file:e}){const n=S7(R7,t);try{return await _7(n,e),{downloadURL:await E7(n),status:"success"}}catch(r){throw new Error(ae(r))}}const iV=Object.freeze(Object.defineProperty({__proto__:null,uploadFile:rV},Symbol.toStringTag,{value:"Module"})),sV=Object.freeze(Object.defineProperty({__proto__:null,auth:M7,database:eV,helpers:nV,storage:iV},Symbol.toStringTag,{value:"Module"}));function oV(t){return t.table.rows.map(e=>{var n;return(n=e.c.at(0))==null?void 0:n.v})}function aV(t){const e={},{table:n}=t,r=n.rows[0].c.length;for(let i=0;i<r;i++){const s=[];for(let o=1;o<n.rows.length;o++)n.rows[o].c[i]?s[o-1]=n.rows[o].c[i].v??"":s[o]="";e[n.rows[0].c[i].v]=s}return e}const lV={convertDataFromSheetWithFirstRowHeading:aV,convertDataFromOneColumnSheet:oV},uV="https://docs.google.com/spreadsheets/d/";async function cV({sheetId:t,tqx:e="out:json",pageTitle:n="sheet",range:r=""}){const i=new URLSearchParams;e&&i.append("tqx",e),n&&i.append("sheet",n),r&&i.append("range",r);try{const o=await(await fetch(`${uV}${t}/gviz/tq?${i}`)).text();return JSON.parse(o.substring(47).slice(0,-2))}catch(s){throw new Error(ae(s))}}const dV={getSheetData:cV,convertors:lV},fV={firebase:sV,sheets:dV,appsscript:fM};async function hV(){try{return{ip:(await(await fetch("https://api.ipify.org?format=json")).json()).ip,status:"success"}}catch(t){throw new Error(ae(t))}}const pV={fetchIP:hV},be={google:fV,ipify:pV},mV="16wsDcFtQ7J1nYrlSkEB8KgLp_XpyCdwH-SIi0fuqapc";function gV(t){let e;if(t){const n=nj(t,"value"),r=tj(n,"value");e=ZD(r,"value")}return e}const zl=$r("songsList/fetchSongsListData",async(t,e)=>{try{const n=await be.google.appsscript.getAllTitledColumnsDataSingle({spreadsheetId:mV,sheetName:"common"}),r=Object.entries(n.data),i=[];return{songsList:r.map(o=>{const a=o[0];i.push(a);const l=gV(o[1].values);return[a,l]}),listTitles:n.info.titles}}catch(n){return e.rejectWithValue(ae(n))}}),yV="_Icon_1telp_46",vV="_disabled_1telp_53",wV="_clickable_1telp_61",_V="_tiny_1telp_65",EV="_small_1telp_69",SV="_medium_1telp_77",CV="_large_1telp_81",TV="_extra_1telp_85",gS={Icon:yV,disabled:vV,clickable:wV,tiny:_V,small:EV,default:"_default_1telp_73",medium:SV,large:CV,extra:TV},Ft=T.forwardRef(({size:t="default",width:e,height:n,onClick:r,children:i,className:s,style:o,...a},l)=>{const u=[r&&"clickable",t&&gS[t]],c=t==="custom"&&e&&n?{width:e,height:n}:{};return d.jsx("div",{className:X.join(gS.Icon,s,u),onClick:r,ref:l,style:{...o,...c},...a,children:i})});Ft.displayName="Icon";function IV(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("path",{d:"M7.86 2H16.14L22 7.86V16.14L16.14 22H7.86L2 16.14V7.86L7.86 2Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 8V12",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 16H12.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function xV(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("polyline",{points:"15 3 21 3 21 9"}),d.jsx("polyline",{points:"9 21 3 21 3 15"}),d.jsx("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),d.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]})}function kV(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("polyline",{points:"4 14 10 14 10 20"}),d.jsx("polyline",{points:"20 10 14 10 14 4"}),d.jsx("line",{x1:"14",y1:"10",x2:"21",y2:"3"}),d.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]})}function bV(t){return d.jsx(Ne,{fill:"none",...t,children:d.jsx("path",{d:"M21 12.79C20.8427 14.4922 20.2039 16.1144 19.1582 17.4668C18.1126 18.8192 16.7035 19.8458 15.0957 20.4265C13.4879 21.0073 11.748 21.1181 10.0795 20.7461C8.41101 20.3741 6.88299 19.5345 5.67422 18.3258C4.46545 17.117 3.62593 15.589 3.2539 13.9205C2.88187 12.252 2.99271 10.5121 3.57345 8.9043C4.1542 7.29651 5.18082 5.88737 6.53321 4.84175C7.88559 3.79614 9.50779 3.15731 11.21 3C10.2134 4.34827 9.73384 6.00945 9.85852 7.68141C9.98321 9.35338 10.7039 10.9251 11.8894 12.1106C13.0749 13.2961 14.6466 14.0168 16.3186 14.1415C17.9905 14.2662 19.6517 13.7866 21 12.79V12.79Z",strokeLinecap:"round",strokeLinejoin:"round"})})}function W2(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("circle",{cx:"12",cy:"12",r:"1"}),d.jsx("circle",{cx:"12",cy:"5",r:"1"}),d.jsx("circle",{cx:"12",cy:"19",r:"1"})]})}function RV(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("polyline",{points:"1 4 1 10 7 10"}),d.jsx("polyline",{points:"23 20 23 14 17 14"}),d.jsx("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})]})}function AV(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsxs("g",{clipPath:"url(#clip0_1475_3120)",children:[d.jsx("path",{d:"M12 17C14.7614 17 17 14.7614 17 12C17 9.23858 14.7614 7 12 7C9.23858 7 7 9.23858 7 12C7 14.7614 9.23858 17 12 17Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 1V3",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 21V23",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M4.22 4.22L5.64 5.64",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M18.36 18.36L19.78 19.78",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M1 12H3",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M21 12H23",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M4.22 19.78L5.64 18.36",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M18.36 5.64L19.78 4.22",strokeLinecap:"round",strokeLinejoin:"round"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1475_3120",children:d.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function PV(){const t=T.useCallback(()=>{const n=window.innerWidth-document.body.offsetWidth;document.body.style.overflow="hidden",document.body.style.width="100%",document.body.style.paddingRight=`${n}px`},[]),e=T.useCallback(()=>{document.body.style.overflow="",document.body.style.width="auto",document.body.style.paddingRight="0px"},[]);return{lockScroll:t,unlockScroll:e}}function oc(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("path",{d:"M18 6L6 18",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M6 6L18 18",strokeLinecap:"round",strokeLinejoin:"round"})]})}const NV="_Menu_b65v5_18",LV="_backdrop_b65v5_50",OV="_show_b65v5_80",DV="_close_b65v5_86",jV="_menuItems_b65v5_93",il={Menu:NV,backdrop:LV,"hide-menu":"_hide-menu_b65v5_1",show:OV,"show-menu":"_show-menu_b65v5_1",close:DV,menuItems:jV},ip=T.forwardRef(({children:t,isOpen:e,scrollLock:n,onClick:r,closeButton:i,preventItemClickClose:s,menuOrigin:o,anchorOrigin:a,...l},u)=>{const c=T.useRef(null),[f,h]=T.useState(!0),[p,w]=T.useState({}),{lockScroll:y,unlockScroll:v}=PV();if(T.useEffect(()=>(e&&n&&y(),v),[e]),T.useEffect(()=>{h(!0)},[e]),T.useEffect(()=>{var $,U;const E=(U=($=c.current)==null?void 0:$.parentElement)==null?void 0:U.getBoundingClientRect(),S={width:(E==null?void 0:E.width)||0,height:(E==null?void 0:E.height)||0,horizontalHalf:((E==null?void 0:E.width)||0)/2,verticalHalf:((E==null?void 0:E.height)||0)/2},I={},x=a==null?void 0:a.horizontal,P=a==null?void 0:a.vertical,R=o==null?void 0:o.horizontal,O=o==null?void 0:o.vertical;R==="left"&&(x==="left"&&(I.left=0),x==="center"&&(I.left=S.horizontalHalf),x==="right"&&(I.left=S.width)),R==="right"&&(x==="left"&&(I.right=S.width),x==="center"&&(I.right=S.horizontalHalf),x==="right"&&(I.right=0)),O==="top"&&(P==="top"&&(I.top=0),P==="center"&&(I.top=S.verticalHalf),P==="bottom"&&(I.top=S.height)),O==="bottom"&&(P==="top"&&(I.bottom=S.height),P==="center"&&(I.bottom=S.verticalHalf),P==="bottom"&&(I.bottom=0));const W=o?`${o==null?void 0:o.horizontal} ${o==null?void 0:o.vertical}`:"left top";w({...I,transformOrigin:W})},[e]),!e)return null;const g=()=>{h(!1)},m=()=>{f||(r(),v())},_=E=>{s&&E.stopPropagation()};return d.jsxs(d.Fragment,{children:[d.jsx("div",{role:"navigation",className:il.backdrop,onClick:g,ref:u,...l}),d.jsxs("nav",{onAnimationEnd:m,ref:c,className:X.join(il.Menu,f&&il.show),style:p,children:[d.jsx("ul",{className:il.menuItems,onClick:_,children:t}),i&&d.jsx(it,{className:il.close,onClick:g,type:"secondary",size:"small",children:d.jsx(oc,{size:"small"})})]})]})});ip.displayName="Menu";const MV="_MenuContainer_xz9l3_1",$V={MenuContainer:MV},sp=T.forwardRef(({children:t,className:e,...n},r)=>d.jsx("div",{className:X.join($V.MenuContainer,e),ref:r,...n,children:t}));sp.displayName="MenuContainer";const UV="_MenuDivider_3of8s_1",FV={MenuDivider:UV},K2=T.forwardRef(({className:t,...e},n)=>d.jsx("span",{className:X.join(FV.MenuDivider,t),ref:n,...e}));K2.displayName="MenuDivider";const VV="_MenuItem_2d0qh_46",zV="_disabled_2d0qh_71",yS={MenuItem:VV,disabled:zV},ti=T.forwardRef(({disabled:t,children:e,className:n,...r},i)=>{const s=[t&&yS.disabled];return d.jsx("li",{className:X.join(yS.MenuItem,n,s),ref:i,...r,children:e})});ti.displayName="MenuItem";const BV={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6"},H=T.forwardRef(({component:t,display:e,children:n,className:r,...i},s)=>{const o=t||"p",a=e?en[e]:null,l=t?en[t]:en.p1,u={className:X.join(r,a||l),ref:s,...i},c=BV[o]||"p";return d.jsx(Vv,{as:c,...u,children:n})});H.displayName="Typography";function HV(){const e=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";return document.documentElement.setAttribute("data-theme",e),e}function qV(){const[t,e]=T.useState(!1),[n,r]=T.useState(!1),{theme:i}=ut(w=>w.appReducer),{actions:s}=MI,o=ln(),a=oj(),l=()=>{r(!0)},u=()=>{r(!1)},c=()=>{r(!1),II()},f=()=>{r(!1),o(zl())},h=()=>{const w=HV();o(s.setTheme(w))},p=()=>{const w=!t;a(w),e(w)};return d.jsxs(sp,{children:[d.jsxs(ip,{isOpen:n,onClick:u,anchorOrigin:{horizontal:"right",vertical:"top"},menuOrigin:{horizontal:"right",vertical:"top"},preventItemClickClose:!0,children:[d.jsxs(ti,{onClick:c,children:[d.jsx(Ft,{size:"small",children:d.jsx(IV,{})}),d.jsx(H,{component:"p2",children:"Скинути налаштування"})]}),d.jsxs(ti,{onClick:f,children:[d.jsx(Ft,{size:"small",children:d.jsx(RV,{})}),d.jsx(H,{component:"p2",children:"Оновити список пісень"})]}),d.jsx(K2,{}),d.jsxs(ti,{onClick:h,children:[d.jsx(Ft,{size:"small",children:i==="dark"?d.jsx(bV,{}):d.jsx(AV,{})}),d.jsxs(H,{component:"p2",children:["Тема:"," ",i==="dark"?"темна":"світла"]})]}),d.jsxs(ti,{onClick:p,children:[d.jsx(Ft,{size:"small",children:t?d.jsx(kV,{}):d.jsx(xV,{})}),d.jsx(H,{component:"p2",children:"На весь екран"})]})]}),d.jsx(it,{type:"text",onClick:l,children:d.jsx(W2,{})})]})}var Wr={},WV={get exports(){return Wr},set exports(t){Wr=t}};(function(t,e){(function(r,i){t.exports=i(T)})(WR,n=>(()=>{var r={"./node_modules/css-mediaquery/index.js":(a,l)=>{l.match=w,l.parse=y;var u=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,c=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,f=/^(?:(min|max)-)?(.+)/,h=/(em|rem|px|cm|mm|in|pt|pc)?$/,p=/(dpi|dpcm|dppx)?$/;function w(_,E){return y(_).some(function(S){var I=S.inverse,x=S.type==="all"||E.type===S.type;if(x&&I||!(x||I))return!1;var P=S.expressions.every(function(R){var O=R.feature,W=R.modifier,$=R.value,U=E[O];if(!U)return!1;switch(O){case"orientation":case"scan":return U.toLowerCase()===$.toLowerCase();case"width":case"height":case"device-width":case"device-height":$=m($),U=m(U);break;case"resolution":$=g($),U=g(U);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":$=v($),U=v(U);break;case"grid":case"color":case"color-index":case"monochrome":$=parseInt($,10)||1,U=parseInt(U,10)||0;break}switch(W){case"min":return U>=$;case"max":return U<=$;default:return U===$}});return P&&!I||!P&&I})}function y(_){return _.split(",").map(function(E){E=E.trim();var S=E.match(u),I=S[1],x=S[2],P=S[3]||"",R={};return R.inverse=!!I&&I.toLowerCase()==="not",R.type=x?x.toLowerCase():"all",P=P.match(/\([^\)]+\)/g)||[],R.expressions=P.map(function(O){var W=O.match(c),$=W[1].toLowerCase().match(f);return{modifier:$[1],feature:$[2],value:W[2]}}),R})}function v(_){var E=Number(_),S;return E||(S=_.match(/^(\d+)\s*\/\s*(\d+)$/),E=S[1]/S[2]),E}function g(_){var E=parseFloat(_),S=String(_).match(p)[1];switch(S){case"dpcm":return E/2.54;case"dppx":return E*96;default:return E}}function m(_){var E=parseFloat(_),S=String(_).match(h)[1];switch(S){case"em":return E*16;case"rem":return E*16;case"cm":return E*96/2.54;case"mm":return E*96/2.54/10;case"in":return E*96;case"pt":return E*72;case"pc":return E*72/12;default:return E}}},"./node_modules/hyphenate-style-name/index.js":(a,l,u)=>{u.r(l),u.d(l,{default:()=>y});var c=/[A-Z]/g,f=/^ms-/,h={};function p(v){return"-"+v.toLowerCase()}function w(v){if(h.hasOwnProperty(v))return h[v];var g=v.replace(c,p);return h[v]=f.test(g)?"-"+g:g}const y=w},"./node_modules/matchmediaquery/index.js":(a,l,u)=>{var c=u("./node_modules/css-mediaquery/index.js").match,f=typeof window<"u"?window.matchMedia:null;function h(w,y,v){var g=this;if(f&&!v){var m=f.call(window,w);this.matches=m.matches,this.media=m.media,m.addListener(S)}else this.matches=c(w,y),this.media=w;this.addListener=_,this.removeListener=E,this.dispose=I;function _(x){m&&m.addListener(x)}function E(x){m&&m.removeListener(x)}function S(x){g.matches=x.matches,g.media=x.media}function I(){m&&m.removeListener(S)}}function p(w,y,v){return new h(w,y,v)}a.exports=p},"./node_modules/object-assign/index.js":a=>{/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function f(p){if(p==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(p)}function h(){try{if(!Object.assign)return!1;var p=new String("abc");if(p[5]="de",Object.getOwnPropertyNames(p)[0]==="5")return!1;for(var w={},y=0;y<10;y++)w["_"+String.fromCharCode(y)]=y;var v=Object.getOwnPropertyNames(w).map(function(m){return w[m]});if(v.join("")!=="0123456789")return!1;var g={};return"abcdefghijklmnopqrst".split("").forEach(function(m){g[m]=m}),Object.keys(Object.assign({},g)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}a.exports=h()?Object.assign:function(p,w){for(var y,v=f(p),g,m=1;m<arguments.length;m++){y=Object(arguments[m]);for(var _ in y)u.call(y,_)&&(v[_]=y[_]);if(l){g=l(y);for(var E=0;E<g.length;E++)c.call(y,g[E])&&(v[g[E]]=y[g[E]])}}return v}},"./node_modules/prop-types/checkPropTypes.js":(a,l,u)=>{var c=function(){};{var f=u("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),h={},p=u("./node_modules/prop-types/lib/has.js");c=function(y){var v="Warning: "+y;typeof console<"u"&&console.error(v);try{throw new Error(v)}catch{}}}function w(y,v,g,m,_){for(var E in y)if(p(y,E)){var S;try{if(typeof y[E]!="function"){var I=Error((m||"React class")+": "+g+" type `"+E+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof y[E]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw I.name="Invariant Violation",I}S=y[E](v,E,m,g,null,f)}catch(P){S=P}if(S&&!(S instanceof Error)&&c((m||"React class")+": type specification of "+g+" `"+E+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof S+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),S instanceof Error&&!(S.message in h)){h[S.message]=!0;var x=_?_():"";c("Failed "+g+" type: "+S.message+(x??""))}}}w.resetWarningCache=function(){h={}},a.exports=w},"./node_modules/prop-types/factoryWithTypeCheckers.js":(a,l,u)=>{var c=u("./node_modules/react-is/index.js"),f=u("./node_modules/object-assign/index.js"),h=u("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),p=u("./node_modules/prop-types/lib/has.js"),w=u("./node_modules/prop-types/checkPropTypes.js"),y=function(){};y=function(g){var m="Warning: "+g;typeof console<"u"&&console.error(m);try{throw new Error(m)}catch{}};function v(){return null}a.exports=function(g,m){var _=typeof Symbol=="function"&&Symbol.iterator,E="@@iterator";function S(B){var G=B&&(_&&B[_]||B[E]);if(typeof G=="function")return G}var I="<<anonymous>>",x={array:W("array"),bigint:W("bigint"),bool:W("boolean"),func:W("function"),number:W("number"),object:W("object"),string:W("string"),symbol:W("symbol"),any:$(),arrayOf:U,element:le(),elementType:Se(),instanceOf:je,node:Y(),objectOf:q,oneOf:pt,oneOfType:oe,shape:ze,exact:Vn};function P(B,G){return B===G?B!==0||1/B===1/G:B!==B&&G!==G}function R(B,G){this.message=B,this.data=G&&typeof G=="object"?G:{},this.stack=""}R.prototype=Error.prototype;function O(B){var G={},we=0;function _e(Ce,C,k,A,V,j,b){if(A=A||I,j=j||k,b!==h){if(m){var K=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw K.name="Invariant Violation",K}else if(typeof console<"u"){var Te=A+":"+k;!G[Te]&&we<3&&(y("You are manually calling a React.PropTypes validation function for the `"+j+"` prop on `"+A+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),G[Te]=!0,we++)}}return C[k]==null?Ce?C[k]===null?new R("The "+V+" `"+j+"` is marked as required "+("in `"+A+"`, but its value is `null`.")):new R("The "+V+" `"+j+"` is marked as required in "+("`"+A+"`, but its value is `undefined`.")):null:B(C,k,A,V,j)}var pe=_e.bind(null,!1);return pe.isRequired=_e.bind(null,!0),pe}function W(B){function G(we,_e,pe,Ce,C,k){var A=we[_e],V=Ze(A);if(V!==B){var j=mt(A);return new R("Invalid "+Ce+" `"+C+"` of type "+("`"+j+"` supplied to `"+pe+"`, expected ")+("`"+B+"`."),{expectedType:B})}return null}return O(G)}function $(){return O(v)}function U(B){function G(we,_e,pe,Ce,C){if(typeof B!="function")return new R("Property `"+C+"` of component `"+pe+"` has invalid PropType notation inside arrayOf.");var k=we[_e];if(!Array.isArray(k)){var A=Ze(k);return new R("Invalid "+Ce+" `"+C+"` of type "+("`"+A+"` supplied to `"+pe+"`, expected an array."))}for(var V=0;V<k.length;V++){var j=B(k,V,pe,Ce,C+"["+V+"]",h);if(j instanceof Error)return j}return null}return O(G)}function le(){function B(G,we,_e,pe,Ce){var C=G[we];if(!g(C)){var k=Ze(C);return new R("Invalid "+pe+" `"+Ce+"` of type "+("`"+k+"` supplied to `"+_e+"`, expected a single ReactElement."))}return null}return O(B)}function Se(){function B(G,we,_e,pe,Ce){var C=G[we];if(!c.isValidElementType(C)){var k=Ze(C);return new R("Invalid "+pe+" `"+Ce+"` of type "+("`"+k+"` supplied to `"+_e+"`, expected a single ReactElement type."))}return null}return O(B)}function je(B){function G(we,_e,pe,Ce,C){if(!(we[_e]instanceof B)){var k=B.name||I,A=Si(we[_e]);return new R("Invalid "+Ce+" `"+C+"` of type "+("`"+A+"` supplied to `"+pe+"`, expected ")+("instance of `"+k+"`."))}return null}return O(G)}function pt(B){if(!Array.isArray(B))return arguments.length>1?y("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):y("Invalid argument supplied to oneOf, expected an array."),v;function G(we,_e,pe,Ce,C){for(var k=we[_e],A=0;A<B.length;A++)if(P(k,B[A]))return null;var V=JSON.stringify(B,function(b,K){var Te=mt(K);return Te==="symbol"?String(K):K});return new R("Invalid "+Ce+" `"+C+"` of value `"+String(k)+"` "+("supplied to `"+pe+"`, expected one of "+V+"."))}return O(G)}function q(B){function G(we,_e,pe,Ce,C){if(typeof B!="function")return new R("Property `"+C+"` of component `"+pe+"` has invalid PropType notation inside objectOf.");var k=we[_e],A=Ze(k);if(A!=="object")return new R("Invalid "+Ce+" `"+C+"` of type "+("`"+A+"` supplied to `"+pe+"`, expected an object."));for(var V in k)if(p(k,V)){var j=B(k,V,pe,Ce,C+"."+V,h);if(j instanceof Error)return j}return null}return O(G)}function oe(B){if(!Array.isArray(B))return y("Invalid argument supplied to oneOfType, expected an instance of array."),v;for(var G=0;G<B.length;G++){var we=B[G];if(typeof we!="function")return y("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+Ei(we)+" at index "+G+"."),v}function _e(pe,Ce,C,k,A){for(var V=[],j=0;j<B.length;j++){var b=B[j],K=b(pe,Ce,C,k,A,h);if(K==null)return null;K.data&&p(K.data,"expectedType")&&V.push(K.data.expectedType)}var Te=V.length>0?", expected one of type ["+V.join(", ")+"]":"";return new R("Invalid "+k+" `"+A+"` supplied to "+("`"+C+"`"+Te+"."))}return O(_e)}function Y(){function B(G,we,_e,pe,Ce){return Ke(G[we])?null:new R("Invalid "+pe+" `"+Ce+"` supplied to "+("`"+_e+"`, expected a ReactNode."))}return O(B)}function ke(B,G,we,_e,pe){return new R((B||"React class")+": "+G+" type `"+we+"."+_e+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+pe+"`.")}function ze(B){function G(we,_e,pe,Ce,C){var k=we[_e],A=Ze(k);if(A!=="object")return new R("Invalid "+Ce+" `"+C+"` of type `"+A+"` "+("supplied to `"+pe+"`, expected `object`."));for(var V in B){var j=B[V];if(typeof j!="function")return ke(pe,Ce,C,V,mt(j));var b=j(k,V,pe,Ce,C+"."+V,h);if(b)return b}return null}return O(G)}function Vn(B){function G(we,_e,pe,Ce,C){var k=we[_e],A=Ze(k);if(A!=="object")return new R("Invalid "+Ce+" `"+C+"` of type `"+A+"` "+("supplied to `"+pe+"`, expected `object`."));var V=f({},we[_e],B);for(var j in V){var b=B[j];if(p(B,j)&&typeof b!="function")return ke(pe,Ce,C,j,mt(b));if(!b)return new R("Invalid "+Ce+" `"+C+"` key `"+j+"` supplied to `"+pe+"`.\nBad object: "+JSON.stringify(we[_e],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(B),null,"  "));var K=b(k,j,pe,Ce,C+"."+j,h);if(K)return K}return null}return O(G)}function Ke(B){switch(typeof B){case"number":case"string":case"undefined":return!0;case"boolean":return!B;case"object":if(Array.isArray(B))return B.every(Ke);if(B===null||g(B))return!0;var G=S(B);if(G){var we=G.call(B),_e;if(G!==B.entries){for(;!(_e=we.next()).done;)if(!Ke(_e.value))return!1}else for(;!(_e=we.next()).done;){var pe=_e.value;if(pe&&!Ke(pe[1]))return!1}}else return!1;return!0;default:return!1}}function nr(B,G){return B==="symbol"?!0:G?G["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&G instanceof Symbol:!1}function Ze(B){var G=typeof B;return Array.isArray(B)?"array":B instanceof RegExp?"object":nr(G,B)?"symbol":G}function mt(B){if(typeof B>"u"||B===null)return""+B;var G=Ze(B);if(G==="object"){if(B instanceof Date)return"date";if(B instanceof RegExp)return"regexp"}return G}function Ei(B){var G=mt(B);switch(G){case"array":case"object":return"an "+G;case"boolean":case"date":case"regexp":return"a "+G;default:return G}}function Si(B){return!B.constructor||!B.constructor.name?I:B.constructor.name}return x.checkPropTypes=w,x.resetWarningCache=w.resetWarningCache,x.PropTypes=x,x}},"./node_modules/prop-types/index.js":(a,l,u)=>{{var c=u("./node_modules/react-is/index.js"),f=!0;a.exports=u("./node_modules/prop-types/factoryWithTypeCheckers.js")(c.isElement,f)}},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":a=>{var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";a.exports=l},"./node_modules/prop-types/lib/has.js":a=>{a.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(a,l)=>{/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var u=typeof Symbol=="function"&&Symbol.for,c=u?Symbol.for("react.element"):60103,f=u?Symbol.for("react.portal"):60106,h=u?Symbol.for("react.fragment"):60107,p=u?Symbol.for("react.strict_mode"):60108,w=u?Symbol.for("react.profiler"):60114,y=u?Symbol.for("react.provider"):60109,v=u?Symbol.for("react.context"):60110,g=u?Symbol.for("react.async_mode"):60111,m=u?Symbol.for("react.concurrent_mode"):60111,_=u?Symbol.for("react.forward_ref"):60112,E=u?Symbol.for("react.suspense"):60113,S=u?Symbol.for("react.suspense_list"):60120,I=u?Symbol.for("react.memo"):60115,x=u?Symbol.for("react.lazy"):60116,P=u?Symbol.for("react.block"):60121,R=u?Symbol.for("react.fundamental"):60117,O=u?Symbol.for("react.responder"):60118,W=u?Symbol.for("react.scope"):60119;function $(b){return typeof b=="string"||typeof b=="function"||b===h||b===m||b===w||b===p||b===E||b===S||typeof b=="object"&&b!==null&&(b.$$typeof===x||b.$$typeof===I||b.$$typeof===y||b.$$typeof===v||b.$$typeof===_||b.$$typeof===R||b.$$typeof===O||b.$$typeof===W||b.$$typeof===P)}function U(b){if(typeof b=="object"&&b!==null){var K=b.$$typeof;switch(K){case c:var Te=b.type;switch(Te){case g:case m:case h:case w:case p:case E:return Te;default:var Be=Te&&Te.$$typeof;switch(Be){case v:case _:case x:case I:case y:return Be;default:return K}}case f:return K}}}var le=g,Se=m,je=v,pt=y,q=c,oe=_,Y=h,ke=x,ze=I,Vn=f,Ke=w,nr=p,Ze=E,mt=!1;function Ei(b){return mt||(mt=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),Si(b)||U(b)===g}function Si(b){return U(b)===m}function B(b){return U(b)===v}function G(b){return U(b)===y}function we(b){return typeof b=="object"&&b!==null&&b.$$typeof===c}function _e(b){return U(b)===_}function pe(b){return U(b)===h}function Ce(b){return U(b)===x}function C(b){return U(b)===I}function k(b){return U(b)===f}function A(b){return U(b)===w}function V(b){return U(b)===p}function j(b){return U(b)===E}l.AsyncMode=le,l.ConcurrentMode=Se,l.ContextConsumer=je,l.ContextProvider=pt,l.Element=q,l.ForwardRef=oe,l.Fragment=Y,l.Lazy=ke,l.Memo=ze,l.Portal=Vn,l.Profiler=Ke,l.StrictMode=nr,l.Suspense=Ze,l.isAsyncMode=Ei,l.isConcurrentMode=Si,l.isContextConsumer=B,l.isContextProvider=G,l.isElement=we,l.isForwardRef=_e,l.isFragment=pe,l.isLazy=Ce,l.isMemo=C,l.isPortal=k,l.isProfiler=A,l.isStrictMode=V,l.isSuspense=j,l.isValidElementType=$,l.typeOf=U})()},"./node_modules/react-is/index.js":(a,l,u)=>{a.exports=u("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(a,l,u)=>{u.r(l),u.d(l,{shallowEqualArrays:()=>f,shallowEqualObjects:()=>c});function c(h,p){if(h===p)return!0;if(!h||!p)return!1;var w=Object.keys(h),y=Object.keys(p),v=w.length;if(y.length!==v)return!1;for(var g=0;g<v;g++){var m=w[g];if(h[m]!==p[m]||!Object.prototype.hasOwnProperty.call(p,m))return!1}return!0}function f(h,p){if(h===p)return!0;if(!h||!p)return!1;var w=h.length;if(p.length!==w)return!1;for(var y=0;y<w;y++)if(h[y]!==p[y])return!1;return!0}},"./src/Component.ts":function(a,l,u){var c=this&&this.__rest||function(w,y){var v={};for(var g in w)Object.prototype.hasOwnProperty.call(w,g)&&y.indexOf(g)<0&&(v[g]=w[g]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,g=Object.getOwnPropertySymbols(w);m<g.length;m++)y.indexOf(g[m])<0&&Object.prototype.propertyIsEnumerable.call(w,g[m])&&(v[g[m]]=w[g[m]]);return v},f=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(l,"__esModule",{value:!0});var h=f(u("./src/useMediaQuery.ts")),p=function(w){var y=w.children,v=w.device,g=w.onChange,m=c(w,["children","device","onChange"]),_=(0,h.default)(m,v,g);return typeof y=="function"?y(_):_?y:null};l.default=p},"./src/Context.ts":(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0});var c=u("react"),f=(0,c.createContext)(void 0);l.default=f},"./src/index.ts":function(a,l,u){var c=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(l,"__esModule",{value:!0}),l.Context=l.toQuery=l.useMediaQuery=l.default=void 0;var f=c(u("./src/useMediaQuery.ts"));l.useMediaQuery=f.default;var h=c(u("./src/Component.ts"));l.default=h.default;var p=c(u("./src/toQuery.ts"));l.toQuery=p.default;var w=c(u("./src/Context.ts"));l.Context=w.default},"./src/mediaQuery.ts":function(a,l,u){var c=this&&this.__assign||function(){return c=Object.assign||function(E){for(var S,I=1,x=arguments.length;I<x;I++){S=arguments[I];for(var P in S)Object.prototype.hasOwnProperty.call(S,P)&&(E[P]=S[P])}return E},c.apply(this,arguments)},f=this&&this.__rest||function(E,S){var I={};for(var x in E)Object.prototype.hasOwnProperty.call(E,x)&&S.indexOf(x)<0&&(I[x]=E[x]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var P=0,x=Object.getOwnPropertySymbols(E);P<x.length;P++)S.indexOf(x[P])<0&&Object.prototype.propertyIsEnumerable.call(E,x[P])&&(I[x[P]]=E[x[P]]);return I},h=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(l,"__esModule",{value:!0});var p=h(u("./node_modules/prop-types/index.js")),w=p.default.oneOfType([p.default.string,p.default.number]),y={all:p.default.bool,grid:p.default.bool,aural:p.default.bool,braille:p.default.bool,handheld:p.default.bool,print:p.default.bool,projection:p.default.bool,screen:p.default.bool,tty:p.default.bool,tv:p.default.bool,embossed:p.default.bool},v={orientation:p.default.oneOf(["portrait","landscape"]),scan:p.default.oneOf(["progressive","interlace"]),aspectRatio:p.default.string,deviceAspectRatio:p.default.string,height:w,deviceHeight:w,width:w,deviceWidth:w,color:p.default.bool,colorIndex:p.default.bool,monochrome:p.default.bool,resolution:w,type:Object.keys(y)};v.type;var g=f(v,["type"]),m=c({minAspectRatio:p.default.string,maxAspectRatio:p.default.string,minDeviceAspectRatio:p.default.string,maxDeviceAspectRatio:p.default.string,minHeight:w,maxHeight:w,minDeviceHeight:w,maxDeviceHeight:w,minWidth:w,maxWidth:w,minDeviceWidth:w,maxDeviceWidth:w,minColor:p.default.number,maxColor:p.default.number,minColorIndex:p.default.number,maxColorIndex:p.default.number,minMonochrome:p.default.number,maxMonochrome:p.default.number,minResolution:w,maxResolution:w},g),_=c(c({},y),m);l.default={all:_,types:y,matchers:v,features:m}},"./src/toQuery.ts":function(a,l,u){var c=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});var f=c(u("./node_modules/hyphenate-style-name/index.js")),h=c(u("./src/mediaQuery.ts")),p=function(g){return"not ".concat(g)},w=function(g,m){var _=(0,f.default)(g);return typeof m=="number"&&(m="".concat(m,"px")),m===!0?_:m===!1?p(_):"(".concat(_,": ").concat(m,")")},y=function(g){return g.join(" and ")},v=function(g){var m=[];return Object.keys(h.default.all).forEach(function(_){var E=g[_];E!=null&&m.push(w(_,E))}),y(m)};l.default=v},"./src/useMediaQuery.ts":function(a,l,u){var c=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(l,"__esModule",{value:!0});var f=u("react"),h=c(u("./node_modules/matchmediaquery/index.js")),p=c(u("./node_modules/hyphenate-style-name/index.js")),w=u("./node_modules/shallow-equal/dist/index.esm.js"),y=c(u("./src/toQuery.ts")),v=c(u("./src/Context.ts")),g=function(R){return R.query||(0,y.default)(R)},m=function(R){if(R){var O=Object.keys(R);return O.reduce(function(W,$){return W[(0,p.default)($)]=R[$],W},{})}},_=function(){var R=(0,f.useRef)(!1);return(0,f.useEffect)(function(){R.current=!0},[]),R.current},E=function(R){var O=(0,f.useContext)(v.default),W=function(){return m(R)||m(O)},$=(0,f.useState)(W),U=$[0],le=$[1];return(0,f.useEffect)(function(){var Se=W();(0,w.shallowEqualObjects)(U,Se)||le(Se)},[R,O]),U},S=function(R){var O=function(){return g(R)},W=(0,f.useState)(O),$=W[0],U=W[1];return(0,f.useEffect)(function(){var le=O();$!==le&&U(le)},[R]),$},I=function(R,O){var W=function(){return(0,h.default)(R,O||{},!!O)},$=(0,f.useState)(W),U=$[0],le=$[1],Se=_();return(0,f.useEffect)(function(){if(Se){var je=W();return le(je),function(){je&&je.dispose()}}},[R,O]),U},x=function(R){var O=(0,f.useState)(R.matches),W=O[0],$=O[1];return(0,f.useEffect)(function(){var U=function(le){$(le.matches)};return R.addListener(U),$(R.matches),function(){R.removeListener(U)}},[R]),W},P=function(R,O,W){var $=E(O),U=S(R);if(!U)throw new Error("Invalid or missing MediaQuery!");var le=I(U,$),Se=x(le),je=_();return(0,f.useEffect)(function(){je&&W&&W(Se)},[Se]),(0,f.useEffect)(function(){return function(){le&&le.dispose()}},[]),Se};l.default=P},react:a=>{a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var u=i[a]={exports:{}};return r[a].call(u.exports,u,u.exports,s),u.exports}s.d=(a,l)=>{for(var u in l)s.o(l,u)&&!s.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o=s("./src/index.ts");return o})())})(WV);const ys={xx:1/0,xl:1179,lg:1023,md:767,sm:539,xs:479,ss:359};function KV(){return{isScreenXX:Wr.useMediaQuery({query:`(max-width: ${ys.xx}px)`}),isScreenXL:Wr.useMediaQuery({query:`(max-width: ${ys.xl}px)`}),isScreenLG:Wr.useMediaQuery({query:`(max-width: ${ys.lg}px)`}),isScreenMD:Wr.useMediaQuery({query:`(max-width: ${ys.md}px)`}),isScreenSM:Wr.useMediaQuery({query:`(max-width: ${ys.sm}px)`}),isScreenXS:Wr.useMediaQuery({query:`(max-width: ${ys.xs}px)`}),isScreenSS:Wr.useMediaQuery({query:`(max-width: ${ys.ss}px)`})}}const S0=T.forwardRef(({gridContainer:t,grid:e,children:n,className:r,...i},s)=>{const o=e&&zv(e);return d.jsx("nav",{className:X.join(r,t&&"row",o),ref:s,...i,children:n})});S0.displayName="Nav";const G2=[{label:"Головна",path:pn.home,end:!1},{label:"Список пісень",path:pn.songslist,end:!1},{label:"Користувачі",path:Kn.users,end:!1}],GV="_NavigationDesktop_10tfr_1",QV="_active_10tfr_7",YV="_link_10tfr_7",Im={NavigationDesktop:GV,active:QV,link:YV};function XV(){const{isAuth:t}=Mr(),e=({isActive:n})=>n?Im.active:"";return d.jsx(S0,{className:Im.NavigationDesktop,children:G2.map(n=>(!n.private||t)&&d.jsx(Bd,{className:e,end:n.end,to:n.path,children:d.jsx(Ws,{className:Im.link,underline:!1,children:n.label})},n.label))})}function JV(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("path",{d:"M3.55844 12.8077H21.5584",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M3.55844 6.80774H21.5584",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M3.55844 18.8077H21.5584",strokeLinecap:"round",strokeLinejoin:"round"})]})}const ZV="_NavigationMobile_g69i1_46",ez="_active_g69i1_52",tz="_link_g69i1_52",xm={NavigationMobile:ZV,active:ez,link:tz};function nz(){const{isAuth:t}=Mr(),[e,n]=T.useState(!1),r=()=>{n(!0)},i=()=>{n(!1)},s=({isActive:o})=>o?xm.active:"";return d.jsx(S0,{className:xm.NavigationMobile,children:d.jsxs(sp,{children:[d.jsx(ip,{isOpen:e,onClick:i,anchorOrigin:{horizontal:"right",vertical:"top"},menuOrigin:{horizontal:"right",vertical:"top"},preventItemClickClose:!0,children:G2.map(o=>(!o.private||t)&&d.jsxs(Bd,{className:s,end:o.end,to:o.path,children:[" ",d.jsx(ti,{onClick:i,children:d.jsx(Ws,{className:xm.link,underline:!1,children:o.label})})]},o.label))}),d.jsx(it,{type:"text",onClick:r,children:d.jsx(JV,{})})]})})}function rz(){const{isScreenMD:t}=KV();return d.jsxs(d.Fragment,{children:[!t&&d.jsx(XV,{}),t&&d.jsx(nz,{})]})}const ud=$r("user/createUserWithEmail",async({email:t,password:e},n)=>{var r;try{const i=await be.google.firebase.auth.createUser({email:t,password:e});if("error"in i)throw new Error((r=i.error)==null?void 0:r.toString());return"error"in await be.google.firebase.database.users.addUser({uid:i.user.uid})||await be.google.firebase.database.users.updateUser({uid:i.user.uid,displayName:"",photoURL:"",email:t||"",userType:"user",role:"",sex:"",lastActiveChatId:"0",registrationDate:"",visitsCount:1}),await be.google.firebase.database.userChats.addUserChatsForUser({uid:i.user.uid}),{uid:be.google.firebase.auth.getCurrentAuthUser().user.uid,displayName:"",photoURL:"",email:t,userType:"",sex:"",role:"",lastActiveChatId:"",lastVisitDate:"",registrationDate:"",isOnline:!1,visitsCount:1}}catch(i){return n.rejectWithValue(ae(i))}}),km=$r("user/getAuthUserById",async({uid:t},e)=>{try{const n=await be.google.firebase.database.users.getUserById({userId:t});return{uid:n.user.uid,displayName:n.user.displayName,photoURL:n.user.photoURL,email:n.user.email,userType:n.user.userType,sex:n.user.sex,role:n.user.role,lastActiveChatId:n.user.lastActiveChatId,lastVisitDate:n.user.lastVisitDate,registrationDate:n.user.registrationDate,isOnline:n.user.isOnline,visitsCount:n.user.visitsCount}}catch(n){return e.rejectWithValue(ae(n))}}),cd=$r("user/getAuthUserId",async(t,e)=>{try{let n=null;return await new Promise(r=>{j4($a,async i=>{n=i==null?void 0:i.uid,r(null)})}),n}catch(n){return e.rejectWithValue(ae(n))}}),dd=$r("user/initUserOnPageLoad",async({uid:t},e)=>{var n,r,i,s,o,a,l,u,c;try{const f=await be.google.firebase.database.users.getUserById({userId:t}),h={uid:t,displayName:((n=f.user)==null?void 0:n.displayName)||"",photoURL:((r=f.user)==null?void 0:r.photoURL)||"",email:((i=f.user)==null?void 0:i.email)||"",userType:((s=f.user)==null?void 0:s.userType)||"",sex:((o=f.user)==null?void 0:o.sex)||"",role:((a=f.user)==null?void 0:a.role)||"",lastActiveChatId:((l=f.user)==null?void 0:l.lastActiveChatId)||"",registrationDate:((u=f.user)==null?void 0:u.registrationDate)||"",visitsCount:(((c=f.user)==null?void 0:c.visitsCount)||0)+1};await be.google.firebase.database.users.updateUser(h);const p=await be.google.firebase.database.users.getUserById({userId:t});return{uid:p.user.uid,displayName:p.user.displayName,photoURL:p.user.photoURL,email:p.user.email,userType:p.user.userType,sex:p.user.sex,role:p.user.role,lastActiveChatId:p.user.lastActiveChatId,lastVisitDate:p.user.lastVisitDate,registrationDate:p.user.registrationDate,isOnline:p.user.isOnline,visitsCount:p.user.visitsCount}}catch(f){return e.rejectWithValue(ae(f))}}),fd=$r("user/signIn",async({email:t,password:e},n)=>{try{const r=await be.google.firebase.auth.signInWithEmail({email:t,password:e}),i=await be.google.firebase.database.users.getUserById({userId:r.user.uid}),s={uid:r.user.uid,displayName:i.user.displayName||"",photoURL:i.user.photoURL||"",email:i.user.email||"",userType:i.user.userType||"",sex:i.user.sex||"",role:i.user.role||"",lastActiveChatId:i.user.lastActiveChatId||"",registrationDate:i.user.registrationDate||"",visitsCount:(i.user.visitsCount||0)+1};await be.google.firebase.database.users.updateUser(s);const o=await be.google.firebase.database.users.getUserById({userId:r.user.uid});return{uid:be.google.firebase.auth.getCurrentAuthUser().user.uid,displayName:o.user.displayName,photoURL:o.user.photoURL,email:o.user.email,userType:o.user.userType,sex:o.user.sex,role:o.user.role,lastActiveChatId:o.user.lastActiveChatId,lastVisitDate:o.user.lastVisitDate,registrationDate:o.user.registrationDate,isOnline:o.user.isOnline,visitsCount:o.user.visitsCount}}catch(r){return n.rejectWithValue(ae(r))}}),Bl=$r("user/signInWithGoogle",async(t,e)=>{try{await be.google.firebase.auth.signInWithGoogle();const n=be.google.firebase.auth.getCurrentAuthUser();let r=null;try{r=await be.google.firebase.database.users.getUserById({userId:n.user.uid})}catch{}if(!r)"error"in await be.google.firebase.database.users.addUser({uid:n.user.uid})||await be.google.firebase.database.users.updateUser({uid:n.user.uid,displayName:n.user.displayName||"User",photoURL:n.user.photoURL||"",email:n.user.email||"",userType:"user",role:"",sex:"",lastActiveChatId:"0",registrationDate:"",visitsCount:1}),await be.google.firebase.database.userChats.addUserChatsForUser({uid:n.user.uid}),r=await be.google.firebase.database.users.getUserById({userId:n.user.uid});else{const o={uid:r.user.uid,displayName:r.user.displayName||"",photoURL:r.user.photoURL||"",email:r.user.email||"",userType:r.user.userType||"",sex:r.user.sex||"",role:r.user.role||"",lastActiveChatId:r.user.lastActiveChatId||"",registrationDate:r.user.registrationDate||"",visitsCount:(r.user.visitsCount||0)+1};await be.google.firebase.database.users.updateUser(o)}const i=await be.google.firebase.database.users.getUserById({userId:n.user.uid});return{uid:be.google.firebase.auth.getCurrentAuthUser().user.uid,displayName:i.user.displayName,photoURL:i.user.photoURL,email:i.user.email,userType:i.user.userType,sex:i.user.sex,role:i.user.role,lastActiveChatId:i.user.lastActiveChatId,lastVisitDate:i.user.lastVisitDate,registrationDate:i.user.registrationDate,isOnline:i.user.isOnline,visitsCount:i.user.visitsCount}}catch(n){return e.rejectWithValue(ae(n))}}),hd=$r("user/updateUser",async({uid:t,displayName:e,photo:n,email:r,userType:i,sex:s,role:o,lastActiveChatId:a,visitsCount:l},u)=>{var c,f,h,p,w,y,v,g,m;try{const _=n?await be.google.firebase.storage.uploadFile({refName:`users/${t}/profile/profileImage-${t}`,file:n}):null,E=_&&"downloadURL"in _&&_.downloadURL||"",S=await be.google.firebase.database.users.getUserById({userId:t}),I={uid:t,displayName:e||((c=S.user)==null?void 0:c.displayName)||"",photoURL:E||((f=S.user)==null?void 0:f.photoURL)||"",email:r||((h=S.user)==null?void 0:h.email)||"",userType:i||((p=S.user)==null?void 0:p.userType)||"",sex:s||((w=S.user)==null?void 0:w.sex)||"",role:o||((y=S.user)==null?void 0:y.role)||"",lastActiveChatId:a||((v=S.user)==null?void 0:v.lastActiveChatId)||"",registrationDate:((g=S.user)==null?void 0:g.registrationDate)||"",visitsCount:l||((m=S.user)==null?void 0:m.visitsCount)||1};await be.google.firebase.database.users.updateUser(I);const x=be.google.firebase.auth.getCurrentAuthUser(),P={user:x.user,displayName:e||x.user.displayName||"",photoURL:E||x.user.photoURL||""};await be.google.firebase.auth.updateProfile(P);const R=await be.google.firebase.database.users.getUserById({userId:t});return{uid:be.google.firebase.auth.getCurrentAuthUser().user.uid,displayName:R.user.displayName,photoURL:R.user.photoURL,email:R.user.email,userType:R.user.userType,sex:R.user.sex,role:R.user.role,lastActiveChatId:R.user.lastActiveChatId,lastVisitDate:R.user.lastVisitDate,registrationDate:R.user.registrationDate,isOnline:R.user.isOnline,visitsCount:R.user.visitsCount}}catch(_){return u.rejectWithValue(ae(_))}}),iz={isLoading:!1,error:"",user:{},fetchedUserData:null,authUserId:void 0},Ua=Ra({name:"user",initialState:iz,reducers:{setUser(t,e){t.user.uid=e.payload.uid,t.user.displayName=e.payload.displayName,t.user.photoURL=e.payload.photoURL,t.user.email=e.payload.email},setUserDataFromFetched(t){t.user=t.fetchedUserData||{},t.fetchedUserData=null},signOut(t){t.user={},t.error="",t.isLoading=!1,be.google.firebase.auth.signOut()},resetError(t){t.error=""}},extraReducers:t=>{t.addCase(ud.pending,e=>{e.fetchedUserData=null,e.error="",e.isLoading=!0}).addCase(ud.fulfilled,(e,n)=>{const r=mr(n.payload)?null:n.payload;e.fetchedUserData=r,e.error="",e.isLoading=!1}).addCase(ud.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(fd.pending,e=>{e.fetchedUserData=null,e.error="",e.isLoading=!0}).addCase(fd.fulfilled,(e,n)=>{const r=mr(n.payload)?null:n.payload;e.fetchedUserData=r,e.error="",e.isLoading=!1}).addCase(fd.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(Bl.pending,e=>{e.fetchedUserData=null,e.error="",e.isLoading=!0}).addCase(Bl.fulfilled,(e,n)=>{const r=mr(n.payload)?null:n.payload;e.fetchedUserData=r,e.error="",e.isLoading=!1}).addCase(Bl.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(hd.pending,e=>{e.error="",e.isLoading=!0}).addCase(hd.fulfilled,(e,n)=>{e.user=n.payload,e.error="",e.isLoading=!1}).addCase(hd.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(dd.pending,e=>{e.user={},e.error="",e.isLoading=!0}).addCase(dd.fulfilled,(e,n)=>{e.user=n.payload,e.error="",e.isLoading=!1}).addCase(dd.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(cd.pending,e=>{e.error="",e.isLoading=!0,e.authUserId=void 0}).addCase(cd.fulfilled,(e,n)=>{e.authUserId=n.payload||null,e.error="",e.isLoading=!1}).addCase(cd.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(km.pending,e=>{e.error="",e.isLoading=!0}).addCase(km.fulfilled,(e,n)=>{e.user=n.payload,e.error="",e.isLoading=!1}).addCase(km.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1})}}),sz="_img_nvjha_46",oz="_small_nvjha_52",az="_extra_nvjha_56",lz="_charContainer_nvjha_61",uz="_char_nvjha_61",cz="_clickable_nvjha_83",vs={img:sz,small:oz,extra:az,charContainer:lz,char:uz,clickable:cz},Ea=T.forwardRef(({src:t,alt:e,char:n,color:r,size:i="default",onClick:s,children:o,className:a,...l},u)=>{const[c,f]=T.useState("");T.useEffect(()=>{t&&f(t)},[t]);const h=[s&&vs.clickable],p=i&&vs[i],w=()=>{f("")};return d.jsxs("div",{onClick:s,className:X.join(vs.Avatar,a,h),ref:u,...l,children:[!c&&o&&d.jsx("div",{className:X.join(vs.charContainer,p),style:{backgroundColor:r},children:o}),!!c&&d.jsx("img",{className:X.join(vs.img,p),src:c,alt:e,onError:w}),!c&&!o&&d.jsx("div",{className:X.join(vs.charContainer,p),style:{backgroundColor:r},children:d.jsx(H,{display:"h5",className:vs.char,children:n})})]})});Ea.displayName="Avatar";function dz(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),d.jsx("polyline",{points:"16 17 21 12 16 7"}),d.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})}function fz(t){return d.jsx(Ne,{fill:"none",...t,children:d.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})})}function hz(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}function pz(){const[t,e]=T.useState(!1),n=Zn(),r=ds(),{isAdmin:i,isAuth:s}=Mr(),{user:o}=ut(v=>v.userReducer),{photoURL:a,displayName:l,email:u,role:c}=o,f=ln(),{actions:h}=Ua,p=()=>{e(!0)},w=()=>{e(!1)},y=()=>{f(h.signOut()),ej(pn,r.pathname)||n(pn.home),w()};return d.jsxs(sp,{children:[d.jsxs(ip,{isOpen:t,onClick:w,anchorOrigin:{horizontal:"right",vertical:"top"},menuOrigin:{horizontal:"right",vertical:"top"},preventItemClickClose:!0,children:[s&&d.jsx(Bd,{to:Kn.user,children:d.jsxs(ti,{onClick:w,children:[d.jsx(Ft,{children:d.jsx(hz,{})}),d.jsx(Ws,{underline:!1,children:"Редагування профілю"})]})}),i&&d.jsx(Bd,{to:TI.admin,children:d.jsxs(ti,{onClick:w,children:[d.jsx(Ft,{children:d.jsx(fz,{})}),d.jsx(Ws,{underline:!1,children:"Панель адміна"})]})}),d.jsxs(ti,{onClick:y,children:[d.jsx(Ft,{children:d.jsx(dz,{})}),d.jsx(H,{component:"p1",children:"Вихід"})]})]}),d.jsx(Ea,{src:a,alt:l,char:(l==null?void 0:l[0])||(u==null?void 0:u[0])||"",size:"small",onClick:p,title:`${l} ${c}`})]})}const mz="_Header_yqrt5_1",gz="_container_yqrt5_5",yz="_controls_yqrt5_13",bm={Header:mz,container:gz,controls:yz};function vz({navigation:t=!0,headerMenu:e=!0,userMenu:n=!0}){const r=Zn(),{isAuth:i}=Mr(),s=()=>{r(pn.login)};return d.jsx(ie,{component:"header",className:bm.Header,children:d.jsxs(ot,{container:!0,component:"section",className:bm.container,children:[d.jsx(UD,{}),d.jsxs(ie,{className:bm.controls,children:[t&&d.jsx(rz,{}),e&&d.jsx(qV,{}),n&&(i?d.jsx(pz,{}):d.jsx(it,{size:"small",onClick:s,children:"Увійти"}))]})]})})}function wz(t){t&&document.documentElement.style.setProperty("--vh",`${t}px`)}function _z(){const t=typeof window<"u";function e(){return t?window.innerHeight:null}const[n,r]=T.useState(e());return T.useEffect(()=>{wz(n)},[n]),T.useEffect(()=>(window.addEventListener("resize",()=>r(e())),()=>window.addEventListener("resize",()=>r(e()))),[t]),T.useEffect(()=>(window.addEventListener("orientationchange",()=>r(e())),()=>window.addEventListener("orientationchange",()=>r(e()))),[t]),{viewportHeight:n}}function Ez(t){const[e,n]=T.useState();return T.useLayoutEffect(()=>{document.body.classList.add("no-transition");const r=t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");n(r),document.documentElement.setAttribute("data-theme",r),setTimeout(()=>document.body.classList.remove("no-transition"),0)},[]),{theme:e}}function Sz(){const[t,e]=T.useState(!1);_z();const{theme:n}=ut(h=>h.appReducer),{error:r,user:i,authUserId:s}=ut(h=>h.userReducer),{uid:o}=i;Ez(n);const a=ln(),{actions:l}=Ua,u=Zn(),c=ds(),[f]=T.useState(c.pathname);return T.useLayoutEffect(()=>{document.body.classList.add("scroll"),a(cd())},[]),T.useLayoutEffect(()=>{!t&&s&&a(dd({uid:s}))},[s]),T.useEffect(()=>{!t&&(o||s===null||r)&&(r&&a(l.signOut()),e(!0),u(f))},[o,s,r]),{isInit:t}}function vS({header:t=!0,navigation:e=!0,headerMenu:n=!0,userMenu:r=!0,footer:i=!0}){const{isInit:s}=Sz();return s?d.jsxs(d.Fragment,{children:[t&&d.jsx(vz,{navigation:e,headerMenu:n,userMenu:r}),d.jsx(bO,{}),i&&d.jsx($D,{})]}):d.jsx(pD,{})}const Cz=T.forwardRef(({gridContainer:t,children:e,className:n,...r},i)=>d.jsx("div",{className:X.join(n,"container",t&&"row"),ref:i,...r,children:e}));Cz.displayName="Container";const Tz=T.forwardRef(({children:t,className:e,...n},r)=>d.jsx("footer",{className:X.join(e,"footer"),ref:r,...n,children:t}));Tz.displayName="Footer";const Iz=T.forwardRef(({children:t,className:e,...n},r)=>d.jsx("header",{className:X.join(e,"header"),ref:r,...n,children:t}));Iz.displayName="Header";const C0=T.forwardRef(({children:t,className:e,...n},r)=>d.jsx("main",{className:X.join(e,"main"),ref:r,...n,children:t}));C0.displayName="Main";const xz=T.forwardRef(({gridContainer:t,grid:e,children:n,className:r,...i},s)=>{const o=[e&&zv(e)];return d.jsx("section",{className:X.join(r,t&&"row",o),ref:s,...i,children:n})});xz.displayName="Section";const Rm={};function kz(){return d.jsx(ie,{component:"main",className:Rm.HomePage,children:d.jsx(ot,{container:!0,component:"section",className:Rm.container,children:d.jsx("div",{className:Rm.AdminPage,children:"AdminPage"})})})}const bz="_container_1l783_1",Rz="_title_1l783_9",Az="_title40_1l783_13",Pz="_title4_1l783_13",Nz="_description_1l783_22",sl={container:bz,title:Rz,title40:Az,title4:Pz,"char-animation":"_char-animation_1l783_1",description:Nz};function Lz(){const t=Zn();return d.jsx(ie,{component:"main",children:d.jsxs(ot,{container:!0,component:"section",className:sl.container,children:[d.jsx(it,{size:"small",onClick:()=>t(pn.home),children:"На головну"}),d.jsxs(ie,{className:sl.title,children:[d.jsx(H,{component:"p1",display:"h1",className:sl.title40,children:"40"}),d.jsx(H,{component:"p1",display:"h1",className:sl.title4,children:"4"})]}),d.jsx(ie,{className:sl.description,children:d.jsxs(H,{component:"p2",children:["Вибачте, сторінки не існує",d.jsx("br",{}),"або функціонал ще в процесі розробки",d.jsx("br",{}),"¯\\_(ツ)_/¯"]})})]})})}const Oz="_container_6r9gh_1",Dz="_buttons_6r9gh_9",jz="_description_6r9gh_16",Am={container:Oz,buttons:Dz,description:jz};function wS(){const t=EI(),e=Zn(),n=()=>{II()};return $o(t)&&t.status?d.jsx(Lz,{}):d.jsx(ie,{component:"main",children:d.jsx(ot,{container:!0,component:"section",className:Am.container,children:d.jsxs(d.Fragment,{children:[d.jsxs(ie,{className:Am.buttons,children:[d.jsx(it,{size:"small",onClick:()=>e(pn.home),children:"На головну"}),d.jsx(it,{type:"secondary",size:"small",onClick:n,children:"Видалити дані та перезавантажити"}),d.jsx(Hv,{type:"secondary",size:"small",href:"https://t.me/amelianceskymusic",blank:!0,children:"Написати мені в Телеграм"})]}),d.jsx(H,{component:"h3",children:"Сорі, виникла помилка =("}),d.jsx(ie,{className:Am.description,children:d.jsxs(d.Fragment,{children:[d.jsx(H,{component:"h4",children:$o(t)&&t.status}),d.jsxs(H,{component:"h5",children:[t instanceof Error&&t.message,$o(t)&&t.statusText,$o(t)&&t.data.message]})]})})]})})})}const Mz="_HomePage_1l60f_46",$z="_container_1l60f_46",_S={HomePage:Mz,container:$z};function Uz(){return d.jsx(ie,{component:"main",className:_S.HomePage,children:d.jsxs(ot,{container:!0,component:"section",className:_S.container,children:[d.jsx(H,{component:"h1",children:"Вітаю на сайті 👋"}),d.jsx(H,{component:"h6",children:"Сайт знаходиться в розробці"}),d.jsx(H,{component:"h6",children:"Якщо ви знайшли баг або у вас є якісь пропозиції, побажання, коментарі, пишіть в Телеграм 😊"}),d.jsx(Hv,{href:"https://t.me/amelianceskymusic",blank:!0,children:"Написати"})]})})}var ac=t=>t.type==="checkbox",Vo=t=>t instanceof Date,dn=t=>t==null;const Q2=t=>typeof t=="object";var Rt=t=>!dn(t)&&!Array.isArray(t)&&Q2(t)&&!Vo(t),Fz=t=>Rt(t)&&t.target?ac(t.target)?t.target.checked:t.target.value:t,Vz=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,zz=(t,e)=>t.has(Vz(e)),Bz=t=>{const e=t.constructor&&t.constructor.prototype;return Rt(e)&&e.hasOwnProperty("isPrototypeOf")},T0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Cs(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(T0&&(t instanceof Blob||t instanceof FileList))&&(n||Rt(t)))if(e=n?[]:{},!Array.isArray(t)&&!Bz(t))e=t;else for(const r in t)e[r]=Cs(t[r]);else return t;return e}var lc=t=>Array.isArray(t)?t.filter(Boolean):[],wt=t=>t===void 0,te=(t,e,n)=>{if(!e||!Rt(t))return n;const r=lc(e.split(/[,[\].]+?/)).reduce((i,s)=>dn(i)?i:i[s],t);return wt(r)||r===t?wt(t[e])?n:t[e]:r};const ES={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},fr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Qr.createContext(null);var Hz=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==fr.all&&(e._proxyFormState[o]=!r||fr.all),n&&(n[o]=!0),t[o]}});return i},zn=t=>Rt(t)&&!Object.keys(t).length,qz=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return zn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||fr.all))},Pm=t=>Array.isArray(t)?t:[t];function Wz(t){const e=Qr.useRef(t);e.current=t,Qr.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Rr=t=>typeof t=="string",Kz=(t,e,n,r,i)=>Rr(t)?(r&&e.watch.add(t),te(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),te(n,s))):(r&&(e.watchAll=!0),n),I0=t=>/^\w*$/.test(t),Y2=t=>lc(t.replace(/["|']|\]/g,"").split(/\.|\[/));function et(t,e,n){let r=-1;const i=I0(e)?[e]:Y2(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=Rt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t}var Gz=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{};const Dy=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=te(t,r);if(i){const{_f:s,...o}=i;if(s&&e(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else Rt(o)&&Dy(o,e)}}};var SS=t=>({isOnSubmit:!t||t===fr.onSubmit,isOnBlur:t===fr.onBlur,isOnChange:t===fr.onChange,isOnAll:t===fr.all,isOnTouch:t===fr.onTouched}),CS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),Qz=(t,e,n)=>{const r=lc(te(t,n));return et(r,"root",e[n]),et(t,n,r),t},ta=t=>typeof t=="boolean",x0=t=>t.type==="file",$i=t=>typeof t=="function",If=t=>{if(!T0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},pd=t=>Rr(t),k0=t=>t.type==="radio",xf=t=>t instanceof RegExp;const TS={value:!1,isValid:!1},IS={value:!0,isValid:!0};var X2=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!wt(t[0].attributes.value)?wt(t[0].value)||t[0].value===""?IS:{value:t[0].value,isValid:!0}:IS:TS}return TS};const xS={isValid:!1,value:null};var J2=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,xS):xS;function kS(t,e,n="validate"){if(pd(t)||Array.isArray(t)&&t.every(pd)||ta(t)&&!t)return{type:n,message:pd(t)?t:"",ref:e}}var _o=t=>Rt(t)&&!xf(t)?t:{value:t,message:""},bS=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:f,pattern:h,validate:p,name:w,valueAsNumber:y,mount:v,disabled:g}=t._f,m=te(e,w);if(!v||g)return{};const _=o?o[0]:s,E=$=>{r&&_.reportValidity&&(_.setCustomValidity(ta($)?"":$||""),_.reportValidity())},S={},I=k0(s),x=ac(s),P=I||x,R=(y||x0(s))&&wt(s.value)&&wt(m)||If(s)&&s.value===""||m===""||Array.isArray(m)&&!m.length,O=Gz.bind(null,w,n,S),W=($,U,le,Se=Fr.maxLength,je=Fr.minLength)=>{const pt=$?U:le;S[w]={type:$?Se:je,message:pt,ref:s,...O($?Se:je,pt)}};if(i?!Array.isArray(m)||!m.length:a&&(!P&&(R||dn(m))||ta(m)&&!m||x&&!X2(o).isValid||I&&!J2(o).isValid)){const{value:$,message:U}=pd(a)?{value:!!a,message:a}:_o(a);if($&&(S[w]={type:Fr.required,message:U,ref:_,...O(Fr.required,U)},!n))return E(U),S}if(!R&&(!dn(c)||!dn(f))){let $,U;const le=_o(f),Se=_o(c);if(!dn(m)&&!isNaN(m)){const je=s.valueAsNumber||m&&+m;dn(le.value)||($=je>le.value),dn(Se.value)||(U=je<Se.value)}else{const je=s.valueAsDate||new Date(m),pt=Y=>new Date(new Date().toDateString()+" "+Y),q=s.type=="time",oe=s.type=="week";Rr(le.value)&&m&&($=q?pt(m)>pt(le.value):oe?m>le.value:je>new Date(le.value)),Rr(Se.value)&&m&&(U=q?pt(m)<pt(Se.value):oe?m<Se.value:je<new Date(Se.value))}if(($||U)&&(W(!!$,le.message,Se.message,Fr.max,Fr.min),!n))return E(S[w].message),S}if((l||u)&&!R&&(Rr(m)||i&&Array.isArray(m))){const $=_o(l),U=_o(u),le=!dn($.value)&&m.length>+$.value,Se=!dn(U.value)&&m.length<+U.value;if((le||Se)&&(W(le,$.message,U.message),!n))return E(S[w].message),S}if(h&&!R&&Rr(m)){const{value:$,message:U}=_o(h);if(xf($)&&!m.match($)&&(S[w]={type:Fr.pattern,message:U,ref:s,...O(Fr.pattern,U)},!n))return E(U),S}if(p){if($i(p)){const $=await p(m,e),U=kS($,_);if(U&&(S[w]={...U,...O(Fr.validate,U.message)},!n))return E(U.message),S}else if(Rt(p)){let $={};for(const U in p){if(!zn($)&&!n)break;const le=kS(await p[U](m,e),_,U);le&&($={...le,...O(U,le.message)},E(le.message),n&&(S[w]=$))}if(!zn($)&&(S[w]={ref:_,...$},!n))return S}}return E(!0),S};function Yz(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=wt(t)?r++:t[e[r++]];return t}function Xz(t){for(const e in t)if(!wt(t[e]))return!1;return!0}function Mt(t,e){const n=Array.isArray(e)?e:I0(e)?[e]:Y2(e),r=n.length===1?t:Yz(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Rt(r)&&zn(r)||Array.isArray(r)&&Xz(r))&&Mt(t,n.slice(0,-1)),t}function Nm(){let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}}var kf=t=>dn(t)||!Q2(t);function Ls(t,e){if(kf(t)||kf(e))return t===e;if(Vo(t)&&Vo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Vo(s)&&Vo(o)||Rt(s)&&Rt(o)||Array.isArray(s)&&Array.isArray(o)?!Ls(s,o):s!==o)return!1}}return!0}var Z2=t=>t.type==="select-multiple",Jz=t=>k0(t)||ac(t),Lm=t=>If(t)&&t.isConnected,eR=t=>{for(const e in t)if($i(t[e]))return!0;return!1};function bf(t,e={}){const n=Array.isArray(t);if(Rt(t)||n)for(const r in t)Array.isArray(t[r])||Rt(t[r])&&!eR(t[r])?(e[r]=Array.isArray(t[r])?[]:{},bf(t[r],e[r])):dn(t[r])||(e[r]=!0);return e}function tR(t,e,n){const r=Array.isArray(t);if(Rt(t)||r)for(const i in t)Array.isArray(t[i])||Rt(t[i])&&!eR(t[i])?wt(e)||kf(n[i])?n[i]=Array.isArray(t[i])?bf(t[i],[]):{...bf(t[i])}:tR(t[i],dn(e)?{}:e[i],n[i]):n[i]=!Ls(t[i],e[i]);return n}var Om=(t,e)=>tR(t,e,bf(e)),nR=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>wt(t)?t:e?t===""?NaN:t&&+t:n&&Rr(t)?new Date(t):r?r(t):t;function Dm(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return x0(e)?e.files:k0(e)?J2(t.refs).value:Z2(e)?[...e.selectedOptions].map(({value:n})=>n):ac(e)?X2(t.refs).value:nR(wt(e.value)?t.ref.value:e.value,t)}var Zz=(t,e,n,r)=>{const i={};for(const s of t){const o=te(e,s);o&&et(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},ol=t=>wt(t)?t:xf(t)?t.source:Rt(t)?xf(t.value)?t.value.source:t.value:t,eB=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function RS(t,e,n){const r=te(t,n);if(r||I0(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=te(e,s),a=te(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var tB=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,nB=(t,e)=>!lc(te(t,e)).length&&Mt(t,e);const rB={mode:fr.onSubmit,reValidateMode:fr.onChange,shouldFocusError:!0};function iB(t={},e){let n={...rB,...t},r={submitCount:0,isDirty:!1,isLoading:$i(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=Rt(n.defaultValues)||Rt(n.values)?Cs(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:Cs(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Nm(),array:Nm(),state:Nm()},p=t.resetOptions&&t.resetOptions.keepDirtyValues,w=SS(n.mode),y=SS(n.reValidateMode),v=n.criteriaMode===fr.all,g=C=>k=>{clearTimeout(c),c=setTimeout(C,k)},m=async C=>{if(f.isValid||C){const k=n.resolver?zn((await R()).errors):await W(i,!0);k!==r.isValid&&h.state.next({isValid:k})}},_=C=>f.isValidating&&h.state.next({isValidating:C}),E=(C,k=[],A,V,j=!0,b=!0)=>{if(V&&A){if(a.action=!0,b&&Array.isArray(te(i,C))){const K=A(te(i,C),V.argA,V.argB);j&&et(i,C,K)}if(b&&Array.isArray(te(r.errors,C))){const K=A(te(r.errors,C),V.argA,V.argB);j&&et(r.errors,C,K),nB(r.errors,C)}if(f.touchedFields&&b&&Array.isArray(te(r.touchedFields,C))){const K=A(te(r.touchedFields,C),V.argA,V.argB);j&&et(r.touchedFields,C,K)}f.dirtyFields&&(r.dirtyFields=Om(s,o)),h.state.next({name:C,isDirty:U(C,k),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else et(o,C,k)},S=(C,k)=>{et(r.errors,C,k),h.state.next({errors:r.errors})},I=(C,k,A,V)=>{const j=te(i,C);if(j){const b=te(o,C,wt(A)?te(s,C):A);wt(b)||V&&V.defaultChecked||k?et(o,C,k?b:Dm(j._f)):je(C,b),a.mount&&m()}},x=(C,k,A,V,j)=>{let b=!1,K=!1;const Te={name:C};if(!A||V){f.isDirty&&(K=r.isDirty,r.isDirty=Te.isDirty=U(),b=K!==Te.isDirty);const Be=Ls(te(s,C),k);K=te(r.dirtyFields,C),Be?Mt(r.dirtyFields,C):et(r.dirtyFields,C,!0),Te.dirtyFields=r.dirtyFields,b=b||f.dirtyFields&&K!==!Be}if(A){const Be=te(r.touchedFields,C);Be||(et(r.touchedFields,C,A),Te.touchedFields=r.touchedFields,b=b||f.touchedFields&&Be!==A)}return b&&j&&h.state.next(Te),b?Te:{}},P=(C,k,A,V)=>{const j=te(r.errors,C),b=f.isValid&&ta(k)&&r.isValid!==k;if(t.delayError&&A?(u=g(()=>S(C,A)),u(t.delayError)):(clearTimeout(c),u=null,A?et(r.errors,C,A):Mt(r.errors,C)),(A?!Ls(j,A):j)||!zn(V)||b){const K={...V,...b&&ta(k)?{isValid:k}:{},errors:r.errors,name:C};r={...r,...K},h.state.next(K)}_(!1)},R=async C=>n.resolver(o,n.context,Zz(C||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),O=async C=>{const{errors:k}=await R();if(C)for(const A of C){const V=te(k,A);V?et(r.errors,A,V):Mt(r.errors,A)}else r.errors=k;return k},W=async(C,k,A={valid:!0})=>{for(const V in C){const j=C[V];if(j){const{_f:b,...K}=j;if(b){const Te=l.array.has(b.name),Be=await bS(j,o,v,n.shouldUseNativeValidation&&!k,Te);if(Be[b.name]&&(A.valid=!1,k))break;!k&&(te(Be,b.name)?Te?Qz(r.errors,Be,b.name):et(r.errors,b.name,Be[b.name]):Mt(r.errors,b.name))}K&&await W(K,k,A)}}return A.valid},$=()=>{for(const C of l.unMount){const k=te(i,C);k&&(k._f.refs?k._f.refs.every(A=>!Lm(A)):!Lm(k._f.ref))&&Ze(C)}l.unMount=new Set},U=(C,k)=>(C&&k&&et(o,C,k),!Ls(ke(),s)),le=(C,k,A)=>Kz(C,l,{...a.mount?o:wt(k)?s:Rr(C)?{[C]:k}:k},A,k),Se=C=>lc(te(a.mount?o:s,C,t.shouldUnregister?te(s,C,[]):[])),je=(C,k,A={})=>{const V=te(i,C);let j=k;if(V){const b=V._f;b&&(!b.disabled&&et(o,C,nR(k,b)),j=If(b.ref)&&dn(k)?"":k,Z2(b.ref)?[...b.ref.options].forEach(K=>K.selected=j.includes(K.value)):b.refs?ac(b.ref)?b.refs.length>1?b.refs.forEach(K=>(!K.defaultChecked||!K.disabled)&&(K.checked=Array.isArray(j)?!!j.find(Te=>Te===K.value):j===K.value)):b.refs[0]&&(b.refs[0].checked=!!j):b.refs.forEach(K=>K.checked=K.value===j):x0(b.ref)?b.ref.value="":(b.ref.value=j,b.ref.type||h.values.next({name:C,values:{...o}})))}(A.shouldDirty||A.shouldTouch)&&x(C,j,A.shouldTouch,A.shouldDirty,!0),A.shouldValidate&&Y(C)},pt=(C,k,A)=>{for(const V in k){const j=k[V],b=`${C}.${V}`,K=te(i,b);(l.array.has(C)||!kf(j)||K&&!K._f)&&!Vo(j)?pt(b,j,A):je(b,j,A)}},q=(C,k,A={})=>{const V=te(i,C),j=l.array.has(C),b=Cs(k);et(o,C,b),j?(h.array.next({name:C,values:{...o}}),(f.isDirty||f.dirtyFields)&&A.shouldDirty&&h.state.next({name:C,dirtyFields:Om(s,o),isDirty:U(C,b)})):V&&!V._f&&!dn(b)?pt(C,b,A):je(C,b,A),CS(C,l)&&h.state.next({...r}),h.values.next({name:C,values:{...o}}),!a.mount&&e()},oe=async C=>{const k=C.target;let A=k.name,V=!0;const j=te(i,A),b=()=>k.type?Dm(j._f):Fz(C);if(j){let K,Te;const Be=b(),Ci=C.type===ES.BLUR||C.type===ES.FOCUS_OUT,up=!eB(j._f)&&!n.resolver&&!te(r.errors,A)&&!j._f.deps||tB(Ci,te(r.touchedFields,A),r.isSubmitted,y,w),go=CS(A,l,Ci);et(o,A,Be),Ci?(j._f.onBlur&&j._f.onBlur(C),u&&u(0)):j._f.onChange&&j._f.onChange(C);const za=x(A,Be,Ci,!1),N=!zn(za)||go;if(!Ci&&h.values.next({name:A,type:C.type,values:{...o}}),up)return f.isValid&&m(),N&&h.state.next({name:A,...go?{}:za});if(!Ci&&go&&h.state.next({...r}),_(!0),n.resolver){const{errors:L}=await R([A]),M=RS(r.errors,i,A),Z=RS(L,i,M.name||A);K=Z.error,A=Z.name,Te=zn(L)}else K=(await bS(j,o,v,n.shouldUseNativeValidation))[A],V=isNaN(Be)||Be===te(o,A,Be),V&&(K?Te=!1:f.isValid&&(Te=await W(i,!0)));V&&(j._f.deps&&Y(j._f.deps),P(A,Te,K,za))}},Y=async(C,k={})=>{let A,V;const j=Pm(C);if(_(!0),n.resolver){const b=await O(wt(C)?C:j);A=zn(b),V=C?!j.some(K=>te(b,K)):A}else C?(V=(await Promise.all(j.map(async b=>{const K=te(i,b);return await W(K&&K._f?{[b]:K}:K)}))).every(Boolean),!(!V&&!r.isValid)&&m()):V=A=await W(i);return h.state.next({...!Rr(C)||f.isValid&&A!==r.isValid?{}:{name:C},...n.resolver||!C?{isValid:A}:{},errors:r.errors,isValidating:!1}),k.shouldFocus&&!V&&Dy(i,b=>b&&te(r.errors,b),C?j:l.mount),V},ke=C=>{const k={...s,...a.mount?o:{}};return wt(C)?k:Rr(C)?te(k,C):C.map(A=>te(k,A))},ze=(C,k)=>({invalid:!!te((k||r).errors,C),isDirty:!!te((k||r).dirtyFields,C),isTouched:!!te((k||r).touchedFields,C),error:te((k||r).errors,C)}),Vn=C=>{C&&Pm(C).forEach(k=>Mt(r.errors,k)),h.state.next({errors:C?r.errors:{}})},Ke=(C,k,A)=>{const V=(te(i,C,{_f:{}})._f||{}).ref;et(r.errors,C,{...k,ref:V}),h.state.next({name:C,errors:r.errors,isValid:!1}),A&&A.shouldFocus&&V&&V.focus&&V.focus()},nr=(C,k)=>$i(C)?h.values.subscribe({next:A=>C(le(void 0,k),A)}):le(C,k,!0),Ze=(C,k={})=>{for(const A of C?Pm(C):l.mount)l.mount.delete(A),l.array.delete(A),k.keepValue||(Mt(i,A),Mt(o,A)),!k.keepError&&Mt(r.errors,A),!k.keepDirty&&Mt(r.dirtyFields,A),!k.keepTouched&&Mt(r.touchedFields,A),!n.shouldUnregister&&!k.keepDefaultValue&&Mt(s,A);h.values.next({values:{...o}}),h.state.next({...r,...k.keepDirty?{isDirty:U()}:{}}),!k.keepIsValid&&m()},mt=(C,k={})=>{let A=te(i,C);const V=ta(k.disabled);return et(i,C,{...A||{},_f:{...A&&A._f?A._f:{ref:{name:C}},name:C,mount:!0,...k}}),l.mount.add(C),A?V&&et(o,C,k.disabled?void 0:te(o,C,Dm(A._f))):I(C,!0,k.value),{...V?{disabled:k.disabled}:{},...n.shouldUseNativeValidation?{required:!!k.required,min:ol(k.min),max:ol(k.max),minLength:ol(k.minLength),maxLength:ol(k.maxLength),pattern:ol(k.pattern)}:{},name:C,onChange:oe,onBlur:oe,ref:j=>{if(j){mt(C,k),A=te(i,C);const b=wt(j.value)&&j.querySelectorAll&&j.querySelectorAll("input,select,textarea")[0]||j,K=Jz(b),Te=A._f.refs||[];if(K?Te.find(Be=>Be===b):b===A._f.ref)return;et(i,C,{_f:{...A._f,...K?{refs:[...Te.filter(Lm),b,...Array.isArray(te(s,C))?[{}]:[]],ref:{type:b.type,name:C}}:{ref:b}}}),I(C,!1,void 0,b)}else A=te(i,C,{}),A._f&&(A._f.mount=!1),(n.shouldUnregister||k.shouldUnregister)&&!(zz(l.array,C)&&a.action)&&l.unMount.add(C)}}},Ei=()=>n.shouldFocusError&&Dy(i,C=>C&&te(r.errors,C),l.mount),Si=(C,k)=>async A=>{A&&(A.preventDefault&&A.preventDefault(),A.persist&&A.persist());let V=Cs(o);if(h.state.next({isSubmitting:!0}),n.resolver){const{errors:j,values:b}=await R();r.errors=j,V=b}else await W(i);Mt(r.errors,"root"),zn(r.errors)?(h.state.next({errors:{}}),await C(V,A)):(k&&await k({...r.errors},A),Ei(),setTimeout(Ei)),h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zn(r.errors),submitCount:r.submitCount+1,errors:r.errors})},B=(C,k={})=>{te(i,C)&&(wt(k.defaultValue)?q(C,te(s,C)):(q(C,k.defaultValue),et(s,C,k.defaultValue)),k.keepTouched||Mt(r.touchedFields,C),k.keepDirty||(Mt(r.dirtyFields,C),r.isDirty=k.defaultValue?U(C,te(s,C)):U()),k.keepError||(Mt(r.errors,C),f.isValid&&m()),h.state.next({...r}))},G=(C,k={})=>{const A=C||s,V=Cs(A),j=C&&!zn(C)?V:s;if(k.keepDefaultValues||(s=A),!k.keepValues){if(k.keepDirtyValues||p)for(const b of l.mount)te(r.dirtyFields,b)?et(j,b,te(o,b)):q(b,te(j,b));else{if(T0&&wt(C))for(const b of l.mount){const K=te(i,b);if(K&&K._f){const Te=Array.isArray(K._f.refs)?K._f.refs[0]:K._f.ref;if(If(Te)){const Be=Te.closest("form");if(Be){Be.reset();break}}}}i={}}o=t.shouldUnregister?k.keepDefaultValues?Cs(s):{}:V,h.array.next({values:{...j}}),h.values.next({values:{...j}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!f.isValid||!!k.keepIsValid,a.watch=!!t.shouldUnregister,h.state.next({submitCount:k.keepSubmitCount?r.submitCount:0,isDirty:k.keepDirty?r.isDirty:!!(k.keepDefaultValues&&!Ls(C,s)),isSubmitted:k.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:k.keepDirtyValues?r.dirtyFields:k.keepDefaultValues&&C?Om(s,C):{},touchedFields:k.keepTouched?r.touchedFields:{},errors:k.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},we=(C,k)=>G($i(C)?C(o):C,k);return{control:{register:mt,unregister:Ze,getFieldState:ze,_executeSchema:R,_getWatch:le,_getDirty:U,_updateValid:m,_removeUnmounted:$,_updateFieldArray:E,_getFieldArray:Se,_reset:G,_resetDefaultValues:()=>$i(n.defaultValues)&&n.defaultValues().then(C=>{we(C,n.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:C=>{r={...r,...C}},_subjects:h,_proxyFormState:f,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(C){a=C},get _defaultValues(){return s},get _names(){return l},set _names(C){l=C},get _formState(){return r},set _formState(C){r=C},get _options(){return n},set _options(C){n={...n,...C}}},trigger:Y,register:mt,handleSubmit:Si,watch:nr,setValue:q,getValues:ke,reset:we,resetField:B,clearErrors:Vn,unregister:Ze,setError:Ke,setFocus:(C,k={})=>{const A=te(i,C),V=A&&A._f;if(V){const j=V.refs?V.refs[0]:V.ref;j.focus&&(j.focus(),k.shouldSelect&&j.select())}},getFieldState:ze}}function b0(t={}){const e=Qr.useRef(),[n,r]=Qr.useState({isDirty:!1,isValidating:!1,isLoading:$i(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:$i(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...iB(t,()=>r(s=>({...s}))),formState:n});const i=e.current.control;return i._options=t,Wz({subject:i._subjects.state,next:s=>{qz(s,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),Qr.useEffect(()=>{t.values&&!Ls(t.values,i._defaultValues)?i._reset(t.values,i._options.resetOptions):i._resetDefaultValues()},[t.values,i]),Qr.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=Hz(n,i),e.current}function rR(t){return d.jsxs(Ne,{stroke:"none",...t,children:[d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.64 12.2045C20.64 11.5664 20.5827 10.9527 20.4764 10.3636H12V13.845H16.8436C16.635 14.97 16.0009 15.9232 15.0477 16.5614V18.8195H17.9564C19.6582 17.2527 20.64 14.9454 20.64 12.2045Z",fill:"#4285F4"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 21C14.43 21 16.4673 20.1941 17.9564 18.8196L15.0477 16.5614C14.2418 17.1014 13.2109 17.4205 12 17.4205C9.65591 17.4205 7.67182 15.8373 6.96409 13.71H3.95728V16.0418C5.43818 18.9832 8.48182 21 12 21Z",fill:"#34A853"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.96409 13.71C6.78409 13.17 6.68182 12.5932 6.68182 12C6.68182 11.4068 6.78409 10.83 6.96409 10.29V7.95818H3.95727C3.34773 9.17318 3 10.5477 3 12C3 13.4523 3.34773 14.8268 3.95727 16.0418L6.96409 13.71Z",fill:"#FBBC05"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6.57955C13.3214 6.57955 14.5077 7.03364 15.4405 7.92545L18.0218 5.34409C16.4632 3.89182 14.4259 3 12 3C8.48182 3 5.43818 5.01682 3.95728 7.95818L6.96409 10.29C7.67182 8.16273 9.65591 6.57955 12 6.57955Z",fill:"#EA4335"})]})}function iR(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}const sB="_Backdrop_1yd3e_46",oB="_show_1yd3e_61",aB="_disabled_1yd3e_66",jm={Backdrop:sB,"hide-blackout":"_hide-blackout_1yd3e_1",show:oB,"show-blackout":"_show-blackout_1yd3e_1",disabled:aB},R0=T.forwardRef(({className:t,disabled:e,show:n,opacity:r,...i},s)=>{const o=T.useRef(null);T.useEffect(()=>{var l;o&&r&&((l=o.current)==null||l.style.setProperty("--backdrop-opacity",`${r}%`))},[o]);const a=[e&&jm.disabled,n&&jm.show];return d.jsx("button",{type:"button",className:X.join(jm.Backdrop,t,a),ref:iR([s,o]),...i})});R0.displayName="Backdrop";const lB="_LoaderLine_92256_1",uB="_background_92256_10",cB="_normal_92256_13",dB="_animation_92256_13",fB="_loader_92256_1",hB="_inversion_92256_22",al={LoaderLine:lB,background:uB,normal:cB,animation:dB,loader:fB,inversion:hB},sR=T.forwardRef(({isInversion:t,className:e,...n},r)=>{const i=[t?al.inversion:al.normal];return d.jsxs("div",{className:X.join(al.LoaderLine,e,i),ref:r,...n,children:[d.jsx("div",{className:al.background}),d.jsx("div",{className:al.animation})]})});sR.displayName="LoaderLine";function op({children:t,className:e="root-portal",elementType:n="div"}){const r=T.useRef(document.createElement(n)),{current:i}=r;return T.useEffect(()=>(i.classList.add(e),document.body.appendChild(r.current),()=>{document.body.removeChild(i)}),[]),_N.createPortal(t,i)}const pB="_LoaderOverlay_1d96m_1",mB={LoaderOverlay:pB};function Fa(){return d.jsx(op,{children:d.jsxs(ie,{className:X.join(mB.LoaderOverlay),children:[d.jsx(R0,{show:!0}),d.jsx(sR,{})]})})}const ap=T.forwardRef(({children:t,className:e,...n},r)=>d.jsx("form",{className:e,ref:r,...n,children:t}));ap.displayName="Form";const gB="_inputContainer_5k7mp_1",yB="_input_5k7mp_1",AS={inputContainer:gB,input:yB},vB="_container_zpng5_1",wB="_inputBlockContainer_zpng5_8",_B="_input_zpng5_8",EB="_error_zpng5_24",$e={container:vB,inputBlockContainer:wB,input:_B,error:EB},SB=T.forwardRef(({register:t=null,errors:e,onLabelClick:n,label:r,children:i,className:s,...o},a)=>{var c;const l=f=>{n&&n(f)},u=e?(c=e[t==null?void 0:t.name])==null?void 0:c.message:"";return d.jsxs("div",{className:$e.container,children:[i&&d.jsx(H,{component:"h3",children:i}),d.jsxs("div",{className:$e.inputBlockContainer,children:[d.jsxs("label",{className:AS.inputContainer,children:[d.jsx("input",{type:"checkbox",className:X.join(AS.input,s),ref:a,...t,...o}),d.jsx(H,{component:"p1",onClick:l,children:r})]}),t&&d.jsx(H,{component:"p2",className:X.join($e.error),children:typeof u=="string"&&u})]})]})});SB.displayName="Checkbox";function CB(t){return d.jsx(Ne,{fill:"none",...t,children:d.jsx("path",{d:"M6 9L12 15L18 9",strokeLinecap:"round",strokeLinejoin:"round"})})}const TB="_inputContainer_izcmr_1",IB="_icon_izcmr_5",xB="_input_izcmr_1",Mm={inputContainer:TB,icon:IB,input:xB},oR=T.forwardRef(({options:t,register:e,errors:n,selected:r,blank:i,onDropdownChange:s,children:o,className:a,...l},u)=>{var w;const[c,f]=T.useState(r),h=y=>{f(y.target.value),s&&s(y.target.value)},p=n?(w=n[e==null?void 0:e.name])==null?void 0:w.message:"";return d.jsxs("div",{className:$e.container,children:[d.jsx(H,{component:"h5",children:o}),d.jsxs("div",{className:$e.inputBlockContainer,children:[d.jsxs("label",{className:Mm.inputContainer,children:[d.jsxs("select",{className:X.join(Mm.input,$e.input,en.input,a),value:c,onChange:h,ref:u,...e,...l,children:[i&&d.jsx("option",{children:" "}),t.map(y=>d.jsx("option",{value:y,children:y},y))]}),d.jsx(Ft,{size:"custom",style:{width:20,height:20},className:Mm.icon,onClick:()=>null,children:d.jsx(CB,{size:"custom",style:{width:20,height:20}})})]}),e&&d.jsx(H,{component:"p2",className:X.join($e.error),children:typeof p=="string"&&p})]})]})});oR.displayName="Dropdown";const A0=T.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>{var a;const o=e?(a=e[t==null?void 0:t.name])==null?void 0:a.message:"";return d.jsxs("div",{className:$e.container,children:[d.jsx(H,{component:"h5",children:r}),d.jsxs("div",{className:$e.inputBlockContainer,children:[d.jsx("label",{children:d.jsx("input",{type:"email",className:X.join($e.input,en.input),placeholder:n,ref:s,...t,...i})}),t&&d.jsx(H,{component:"p2",className:X.join($e.error),children:typeof o=="string"&&o})]})]})});A0.displayName="EmailInput";function kB(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("path",{d:"M23 19C23 19.5304 22.7893 20.0391 22.4142 20.4142C22.0391 20.7893 21.5304 21 21 21H3C2.46957 21 1.96086 20.7893 1.58579 20.4142C1.21071 20.0391 1 19.5304 1 19V8C1 7.46957 1.21071 6.96086 1.58579 6.58579C1.96086 6.21071 2.46957 6 3 6H7L9 3H15L17 6H21C21.5304 6 22.0391 6.21071 22.4142 6.58579C22.7893 6.96086 23 7.46957 23 8V19Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 17C14.2091 17 16 15.2091 16 13C16 10.7909 14.2091 9 12 9C9.79086 9 8 10.7909 8 13C8 15.2091 9.79086 17 12 17Z",strokeLinecap:"round",strokeLinejoin:"round"})]})}const bB="_FileImgUpload_142ig_1",RB="_container_142ig_7",AB="_input_142ig_14",PB="_imgPreview_142ig_18",$m={FileImgUpload:bB,container:RB,input:AB,imgPreview:PB},aR=T.forwardRef(({register:t,errors:e,watch:n,accept:r,label:i,defaultImg:s="",children:o,className:a,...l},u)=>{var v;const[c,f]=T.useState(s),h=n?n(t?t.name:null):null,p=g=>{if(g&&g.length>0)if(typeof g=="string")f(g);else{const m=URL.createObjectURL(g[0]);f(m)}};T.useEffect(()=>{n&&h&&p(h)},[h]);const w=g=>{!n&&s&&p(g.target.files)},y=e?(v=e[t==null?void 0:t.name])==null?void 0:v.message:"";return d.jsxs("div",{className:X.join($m.FileImgUpload,$e.container),children:[d.jsx(H,{component:"h5",children:o}),d.jsxs("div",{className:$e.inputBlockContainer,children:[d.jsxs("label",{className:X.join($m.container,en.input),children:[d.jsx("input",{type:"file",accept:r||"",className:X.join($m.input,a),ref:u,onChange:w,...t,...l}),c?d.jsx(Ea,{src:c,alt:c}):d.jsx(Ea,{children:d.jsx(kB,{})}),i]}),t&&d.jsx(H,{component:"p2",className:X.join($e.error),children:typeof y=="string"&&y})]})]})});aR.displayName="FileImgUpload";const NB="_input_1wgeu_1",LB={input:NB},OB=T.forwardRef(({children:t,className:e,...n},r)=>d.jsx("div",{children:d.jsxs("label",{htmlFor:"file",children:[t,d.jsx("input",{type:"file",className:X.join(LB.input,e),id:"file",ref:r,...n})]})}));OB.displayName="FileUpload";function DB(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("path",{d:"M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",strokeLinecap:"round",strokeLinejoin:"round"})]})}function jB(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsxs("g",{clipPath:"url(#clip0_2015_815)",children:[d.jsx("path",{d:"M17.94 17.94C16.2306 19.243 14.1491 19.9649 12 20C5 20 1 12 1 12C2.24389 9.68189 3.96914 7.6566 6.06 6.05999M9.9 4.23999C10.5883 4.07887 11.2931 3.99833 12 3.99999C19 3.99999 23 12 23 12C22.393 13.1356 21.6691 14.2047 20.84 15.19M14.12 14.12C13.8454 14.4147 13.5141 14.6511 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1752 15.0074 10.8016 14.8565C10.4281 14.7056 10.0887 14.481 9.80385 14.1961C9.51897 13.9113 9.29439 13.5719 9.14351 13.1984C8.99262 12.8248 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2218 9.18488 10.8538C9.34884 10.4858 9.58525 10.1546 9.88 9.87999",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M1 1L23 23",strokeLinecap:"round",strokeLinejoin:"round"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2015_815",children:d.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}const MB="_inputContainer_nkmmv_1",$B="_input_nkmmv_1",UB="_icon_nkmmv_9",Os={inputContainer:MB,input:$B,icon:UB},Rf=T.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>{var f;const[o,a]=T.useState(!1),l=h=>{h.stopPropagation(),a(p=>!p)},u=o?"text":"password",c=e?(f=e[t==null?void 0:t.name])==null?void 0:f.message:"";return d.jsxs("div",{className:$e.container,children:[d.jsx(H,{component:"h5",children:r}),d.jsxs("div",{className:$e.inputBlockContainer,children:[d.jsxs("label",{className:Os.inputContainer,children:[d.jsx("input",{type:u,className:X.join($e.input,Os.input,en.input),placeholder:n,ref:s,...t,...i}),d.jsx(Ft,{size:"custom",style:{width:20,height:20},className:Os.icon,onClick:l,children:o?d.jsx(DB,{size:"custom",style:{width:20,height:20}}):d.jsx(jB,{size:"custom",style:{width:20,height:20}})})]}),t&&d.jsx(H,{component:"p2",className:X.join($e.error),children:typeof c=="string"&&c})]})]})});Rf.displayName="PasswordInput";const jy=T.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>{var a;const o=e?(a=e[t==null?void 0:t.name])==null?void 0:a.message:"";return d.jsxs("div",{className:$e.container,children:[d.jsx(H,{component:"h5",children:r}),d.jsxs("div",{className:$e.inputBlockContainer,children:[d.jsx("label",{children:d.jsx("input",{type:"text",className:X.join($e.input,en.input),placeholder:n,ref:s,...t,...i})}),t&&(t==null?void 0:t.name)&&d.jsx(H,{component:"p2",className:X.join($e.error),children:typeof o=="string"&&o})]})]})});jy.displayName="TextInput";const FB="_element_1akzf_1",VB="_elementsContainer_1akzf_9",zB="_input_1akzf_15",Um={element:FB,elementsContainer:VB,input:zB},lR=T.forwardRef(({register:t,errors:e,labels:n,children:r,...i},s)=>{var a;const o=e?(a=e[t==null?void 0:t.name])==null?void 0:a.message:"";return d.jsxs("div",{className:$e.container,children:[d.jsx(H,{component:"h5",children:r}),d.jsxs("div",{className:$e.inputBlockContainer,children:[d.jsx("div",{className:Um.elementsContainer,children:n.map(l=>d.jsxs("label",{className:Um.element,children:[d.jsx("input",{type:"radio",className:X.join(Um.input,en.input),value:l.toString(),ref:s,...t,...i}),d.jsx(H,{component:"p1",children:l})]},l))}),t&&d.jsx(H,{component:"p2",className:X.join($e.error),children:typeof o=="string"&&o})]})]})});lR.displayName="RadioButton";const BB="_content_ol8b2_18",HB="_titleContainer_ol8b2_22",qB="_success_ol8b2_22",WB="_info_ol8b2_27",KB="_error_ol8b2_32",GB="_warn_ol8b2_37",QB="_Modal_ol8b2_70",YB="_buttons_ol8b2_107",XB="_medium_ol8b2_111",JB="_large_ol8b2_122",ZB="_title_ol8b2_22",eH="_body_ol8b2_155",Vr={content:BB,titleContainer:HB,success:qB,info:WB,error:KB,warn:GB,Modal:QB,"hide-modal":"_hide-modal_ol8b2_1",buttons:YB,medium:XB,large:JB,"show-modal":"_show-modal_ol8b2_1",title:ZB,body:eH},mo=T.forwardRef(({type:t,title:e,noTitle:n,mainButton:r={text:"Ок"},secondButton:i,backdrop:s,onClose:o,noButtons:a=!1,size:l="flex",children:u,className:c,...f},h)=>{const[p,w]=T.useState("show"),y=i&&!X.isObjectEmpty(i),v=()=>{w("")},g=()=>{p!=="show"&&(v(),document.body.style.overflow="visible",o&&o())},m=()=>{s!=null&&s.onClick&&s.onClick(),v()},_=()=>{r!=null&&r.onClick&&r.onClick(),r!=null&&r.form||v()},E=()=>{i!=null&&i.onClick&&i.onClick(),i!=null&&i.form||v()},S=t?Vr[t]:null,I=e||t==="alert"&&"Повідомлення!"||t==="info"&&"Інформація!"||t==="success"&&"Успіх!"||t==="error"&&"Помилка"||t==="warn"&&"Попередження!";T.useEffect(()=>{document.body.style.overflow="hidden"},[]);const x=l==="medium"&&Vr.medium||l==="large"&&Vr.large;return d.jsx(op,{children:d.jsxs("div",{className:X.join(Vr.Modal,c,p),onAnimationEnd:g,ref:h,...f,children:[d.jsx(R0,{onClick:m,disabled:s==null?void 0:s.disabled,show:p==="show"}),d.jsxs("div",{className:X.join(x,Vr.content),children:[d.jsx("div",{className:t&&X.join(Vr.titleContainer,S,t),children:d.jsx(H,{component:"h4",className:Vr.title,children:!n&&I})}),d.jsx("div",{className:Vr.body,children:u}),!a&&d.jsxs("div",{className:Vr.buttons,children:[y&&d.jsxs(it,{size:i==null?void 0:i.size,type:(i==null?void 0:i.type)||"secondary",onClick:()=>E(),submit:i==null?void 0:i.isSubmit,disabled:i==null?void 0:i.disabled,children:[(i==null?void 0:i.iconPosition)==="left"&&(i==null?void 0:i.icon),!(i!=null&&i.icon)&&(i!=null&&i.icon?"Відміна":i==null?void 0:i.text),!(i!=null&&i.text)&&(i==null?void 0:i.icon)&&(i==null?void 0:i.icon),(i==null?void 0:i.iconPosition)==="left"&&(i==null?void 0:i.icon)]}),d.jsxs(it,{size:r==null?void 0:r.size,type:(r==null?void 0:r.type)||"primary",onClick:()=>_(),submit:r==null?void 0:r.isSubmit,disabled:r==null?void 0:r.disabled,children:[(r==null?void 0:r.iconPosition)==="left"&&(r==null?void 0:r.icon),!(r!=null&&r.icon)&&(r!=null&&r.icon?"Ок":r==null?void 0:r.text),!(r!=null&&r.text)&&(r==null?void 0:r.icon)&&(r==null?void 0:r.icon),(r==null?void 0:r.iconPosition)==="right"&&(r==null?void 0:r.icon)]})]})]})]})})});mo.displayName="Modal";function tH({onClose:t,error:e}){return d.jsx(mo,{onClose:t,type:"error",size:"medium",title:"Помилка при вході!",children:d.jsxs(d.Fragment,{children:[d.jsx(H,{component:"p1",className:"center",children:"Невірні дані!"}),d.jsx(H,{component:"caption",className:"center",children:e})]})})}function nH({onClose:t}){return d.jsx(mo,{onClose:t,type:"success",size:"medium",title:"Вітаю!",children:d.jsx(H,{component:"p1",className:"center",children:"Ви успішно увійшли на сайт!"})})}const rH="_container_wf24k_1",iH="_form_wf24k_9",sH="_main_wf24k_17",oH="_additional_wf24k_23",aH="_center_wf24k_29",ll={container:rH,form:iH,main:sH,additional:oH,center:aH};function lH(){const{isAuth:t,isFillProfile:e}=Mr(),n=Zn(),r=ln(),{error:i,isLoading:s,fetchedUserData:o}=ut(g=>g.userReducer),{actions:a}=Ua;T.useEffect(()=>{t&&n(e?Kn.users:Kn.user)},[t]);const{register:l,handleSubmit:u,formState:{errors:c}}=b0({mode:"onSubmit",defaultValues:{email:"",password:""}}),f=mr(c),h={email:l("email",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/i,message:"Невірно введена адреса електронної пошти!"}}),password:l("password",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[a-zA-Z0-9]+$/,message:"Використовуйте тільки латинські літери та цифри!"},minLength:{value:8,message:"Мінімальна довжина пароля 8 символів"},maxLength:{value:16,message:"Максимальна довжина пароля 16 символів"}})},p=async({email:g,password:m})=>{r(fd({email:g,password:m}))},w=()=>{r(Bl())},y=()=>{r(a.setUserDataFromFetched())},v=()=>{r(a.resetError())};return d.jsxs(C0,{children:[d.jsxs(ot,{container:!0,className:ll.container,children:[d.jsx(H,{component:"h4",children:"Вхід"}),d.jsxs(ap,{className:ll.form,onSubmit:u(p),children:[d.jsxs(ie,{className:ll.main,children:[d.jsx(A0,{register:h.email,errors:c,children:"Адреса електронної пошти*:"}),d.jsx(Rf,{register:h.password,errors:c,children:"Пароль*:"}),d.jsx(it,{submit:!0,disabled:!f,children:"Увійти"})]}),d.jsx(H,{component:"p2",className:ll.center,children:"або"}),d.jsxs(ie,{className:ll.additional,children:[d.jsxs(it,{type:"secondary",onClick:w,children:[d.jsx(rR,{}),"Увійти через Google"]}),d.jsxs(H,{component:"p2",children:["Немає акаунту?"," ",d.jsx(mh,{to:pn.signup,children:d.jsx(Ws,{display:"p2",children:"Створити"})})]})]})]}),s&&d.jsx(Fa,{})]}),o&&!s?d.jsx(nH,{onClose:y}):null,i&&!s&&d.jsx(tH,{onClose:v,error:i})]})}function uH({onClose:t,error:e}){return d.jsx(mo,{onClose:t,type:"error",size:"medium",title:"Невірні дані!",children:d.jsxs(d.Fragment,{children:[d.jsx(H,{component:"p1",className:"center",children:"Виникла помилка при реєстрації."}),d.jsx(H,{component:"p1",className:"center",children:"Можливо такий користувач вже існує!"}),d.jsx(H,{component:"caption",className:"center",children:e})]})})}function cH({onClose:t}){return d.jsx(mo,{onClose:t,type:"success",size:"medium",title:"Вітаю!",children:d.jsx(H,{component:"p1",className:"center",children:"Ви успішно зареєструвалися на сайті! Лишився ще один крок😉"})})}const dH="_container_wf24k_1",fH="_form_wf24k_9",hH="_main_wf24k_17",pH="_additional_wf24k_23",mH="_center_wf24k_29",ul={container:dH,form:fH,main:hH,additional:pH,center:mH};function gH(){const{isAuth:t,isFillProfile:e}=Mr(),n=Zn(),r=ln(),{error:i,isLoading:s,fetchedUserData:o}=ut(S=>S.userReducer),{actions:a}=Ua;T.useEffect(()=>{t&&n(e?Kn.users:Kn.user)},[t]);const{register:l,handleSubmit:u,reset:c,resetField:f,watch:h,formState:{errors:p}}=b0({mode:"onSubmit",defaultValues:{email:"",password:"",confirmPassword:""}}),w=mr(p),y={email:l("email",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/i,message:"Невірно введена адреса електронної пошти!"}}),password:l("password",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[a-zA-Z0-9]+$/,message:"Використовуйте тільки латинські літери та цифри!"},minLength:{value:8,message:"Мінімальна довжина пароля 8 символів"},maxLength:{value:16,message:"Максимальна довжина пароля 16 символів"}}),confirmPassword:l("confirmPassword",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[a-zA-Z0-9]+$/,message:"Використовуйте тільки латинські літери та цифри!"},minLength:{value:8,message:"Мінімальна довжина пароля 8 символів"},maxLength:{value:16,message:"Максимальна довжина пароля 16 символів"},validate:S=>h("password")===S||"Паролі не збігаються!"})},v=async({email:S,password:I})=>{r(ud({email:S,password:I}))},g=()=>{f("confirmPassword")},m=()=>{r(Bl())},_=()=>{r(a.setUserDataFromFetched())},E=()=>{r(a.resetError())};return d.jsxs(C0,{children:[d.jsxs(ot,{container:!0,className:ul.container,children:[d.jsx(H,{component:"h4",children:"Реєстрація"}),d.jsxs(ap,{className:ul.form,onSubmit:u(v),children:[d.jsxs(ie,{className:ul.main,children:[d.jsx(A0,{register:y.email,errors:p,children:"Адреса електронної пошти*:"}),d.jsx(Rf,{register:y.password,errors:p,onChange:g,children:"Пароль*:"}),d.jsx(Rf,{register:y.confirmPassword,errors:p,children:"Підтвердження паролю*:"}),d.jsx(it,{submit:!0,disabled:!w,children:"Створити"})]}),d.jsx(H,{component:"p2",className:ul.center,children:"або"}),d.jsxs(ie,{className:ul.additional,children:[d.jsxs(it,{type:"secondary",onClick:m,children:[d.jsx(rR,{}),"Увійти через Google"]}),d.jsxs(H,{component:"p2",children:["Вже є акаунт?"," ",d.jsx(mh,{className:"link",to:pn.login,children:d.jsx(Ws,{display:"p2",children:"Увійти"})})]})]})]}),s&&d.jsx(Fa,{})]}),o&&!s&&d.jsx(cH,{onClose:_}),i&&!s&&d.jsx(uH,{onClose:E,error:i})]})}const yH={christian:`
	Авва Отче Святий — ми в руці Твоїй
	Ангели в небі Господа славлять
	Бог Ти цар мого життя
	Боже Єдиний нашу країну тримай
	Всесильний Нездоланний
	Господи — Ти надія у житті
	Минає час минають дні
	Схилимо коліна
	Я за тебе молюсь Україно
	Як сум і муку мою душу огорне
`,others:`
	always
	ain't it fun
`},vH="christian",PS=yH[vH].trim().split(`
`).map(t=>t.trim()),wH={normalOrderAudioFilesList:PS,audioTracksList:PS,isPlaying:!1,isPlayerShow:!1,lastOpenedTrack:null,currentTrack:null,currentTrackIndex:0,currentTrackDuration:0,currentTrackTimeProgress:0},Va=Ra({name:"musicPlayer",initialState:wH,reducers:{setNormalAudioTracksList(t){t.audioTracksList=t.normalOrderAudioFilesList},setShuffleAudioTracksList(t){t.audioTracksList=X.shuffleArray(t.audioTracksList)},setIsPlaying(t,e){t.isPlaying=e.payload,t.isPlaying?t.currentTrack=t.audioTracksList[t.currentTrackIndex]:t.lastOpenedTrack=t.currentTrack},toggleIsPlaying(t){t.isPlaying=!t.isPlaying,t.isPlaying?t.currentTrack=t.audioTracksList[t.currentTrackIndex]:t.lastOpenedTrack=t.currentTrack},showPlayer(t){t.isPlayerShow=!0},hidePlayer(t){t.isPlayerShow=!1},setCurrentTrack(t,e){t.currentTrack=e.payload},setCurrentTrackIndex(t,e){t.currentTrackIndex=e.payload},setCurrentTrackDuration(t,e){t.currentTrackDuration=e.payload},setCurrentTrackTimeProgress(t,e){t.currentTrackTimeProgress=e.payload},prevTrack(t){if(t.currentTrackIndex===0){const e=t.audioTracksList.length-1;t.currentTrackIndex=e,t.currentTrack=t.audioTracksList[e]}else{const e=t.currentTrackIndex-1;t.currentTrackIndex=e,t.currentTrack=t.audioTracksList[e]}},nextTrack(t){if(t.currentTrackIndex>=t.audioTracksList.length-1)t.currentTrackIndex=0,[t.currentTrack]=t.audioTracksList;else{const e=t.currentTrackIndex+1;t.currentTrackIndex=e,t.currentTrack=t.audioTracksList[e]}}}});function uR({startTransitionClass:t,onTransitionEndAction:e,autostart:n=!0}){const[r,i]=T.useState(!1);return T.useEffect(()=>{n&&i(!0)},[n]),{transitionClass:r?t:null,handleOnTransitionEnd:()=>{r||e()},runStartTransition:()=>{i(!0)},runEndTransition:()=>{i(!1)}}}function _H(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("path",{d:"M11 17L6 12L11 7",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M18 17L13 12L18 7",strokeLinecap:"round",strokeLinejoin:"round"})]})}function EH(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("path",{d:"M13 17L18 12L13 7",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M6 17L11 12L6 7",strokeLinecap:"round",strokeLinejoin:"round"})]})}function cR(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),d.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]})}function dR(t){return d.jsx(Ne,{fill:"none",...t,children:d.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})}function SH(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("polygon",{points:"19 20 9 12 19 4 19 20"}),d.jsx("line",{x1:"5",y1:"19",x2:"5",y2:"5"})]})}function CH(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("polygon",{points:"5 4 15 12 5 20 5 4"}),d.jsx("line",{x1:"19",y1:"5",x2:"19",y2:"19"})]})}const TH="_Controls_1ma96_1",IH="_playIcon_1ma96_8",NS={Controls:TH,playIcon:IH};function xH({timeProgress:t,setTimeProgress:e,audioRef:n,progressBarRef:r}){const i=T.useRef(),{isPlaying:s,currentTrackDuration:o,currentTrackTimeProgress:a}=ut(v=>v.musicPlayerReducer),l=ln(),{actions:u}=Va,c=T.useCallback(()=>{if(n.current&&r.current){const{currentTime:v}=n.current;e(v);const g=r.current;g.value=v.toString(),g.style.setProperty("--progress-bar--range-progress",`${Number(g.value)/o*100}%`),s&&(i.current=requestAnimationFrame(c))}},[n,o,s,r,e]);T.useEffect(()=>{n.current&&(s?n.current.play():n.current.pause()),i.current=requestAnimationFrame(c)},[s,n,c]);const f=()=>{l(u.toggleIsPlaying()),s||e(a)},h=()=>{if(n.current){const v=n.current;v.currentTime+=10}},p=()=>{if(n.current){const v=n.current;v.currentTime-=10}},w=()=>{if(t>=1){if(e(0),n.current){const v=n.current;v.currentTime=0}}else l(u.prevTrack())},y=()=>{l(u.nextTrack())};return d.jsxs(ie,{className:NS.Controls,children:[d.jsx(it,{type:"text",onClick:w,children:d.jsx(SH,{})}),d.jsx(it,{type:"text",onClick:p,children:d.jsx(_H,{})}),d.jsx(it,{type:"secondary",onClick:f,children:s?d.jsx(cR,{}):d.jsx(dR,{className:NS.playIcon})}),d.jsx(it,{type:"text",onClick:h,children:d.jsx(EH,{})}),d.jsx(it,{type:"text",onClick:y,children:d.jsx(CH,{})})]})}const kH={},fR=T.forwardRef(({className:t,...e},n)=>d.jsx("audio",{className:X.join(kH.AudioPlayer,t),ref:n,...e,children:d.jsx("track",{kind:"captions"})}));fR.displayName="AudioPlayer";const bH="_DisplayTrack_1d8z7_1",RH={DisplayTrack:bH};function AH({timeProgress:t,audioRef:e,progressBarRef:n,onClose:r}){const{currentTrack:i}=ut(c=>c.musicPlayerReducer),{actions:s}=Va,o=ln(),a=()=>{if(e.current&&n.current){const c=e.current,f=Math.trunc(c.duration);o(s.setCurrentTrackDuration(f));const h=n.current;h.max=f.toString()}},l=()=>{o(s.nextTrack())},u=()=>{r()};return d.jsxs(ie,{className:RH.DisplayTrack,children:[d.jsx(fR,{src:`/mp3/${i}.mp3`,ref:e,onLoadedMetadata:a,onEnded:l}),d.jsx(H,{component:"h6",children:i}),d.jsx(Ft,{onClick:u,children:d.jsx(oc,{size:"small"})})]})}const PH="_ProgressBar_8spjb_1",NH="_timeProgress_8spjb_8",LH="_duration_8spjb_9",OH="_range_8spjb_22",$c={ProgressBar:PH,timeProgress:NH,duration:LH,range:OH};function DH({timeProgress:t,audioRef:e,progressBarRef:n}){const{currentTrackDuration:r}=ut(l=>l.musicPlayerReducer),{actions:i}=Va,s=ln(),o=()=>{if(e.current&&n.current){const l=e.current;l.currentTime=Number(n.current.value)}},a=()=>{e.current&&n.current&&s(i.setCurrentTrackTimeProgress(Number(n.current.value)))};return d.jsxs(ie,{className:$c.ProgressBar,children:[d.jsx(H,{component:"p2",className:$c.timeProgress,children:w_(t)}),d.jsx("input",{type:"range",className:$c.range,onChange:o,onMouseUp:a,defaultValue:"0",ref:n}),d.jsx(H,{component:"p2",className:$c.duration,children:w_(r)})]})}const jH="_MusicPlayer_gyg3u_46",MH="_show_gyg3u_65",LS={MusicPlayer:jH,show:MH};function $H(){const{audioTracksList:t,lastOpenedTrack:e,currentTrack:n,isPlaying:r,currentTrackIndex:i,currentTrackTimeProgress:s}=ut(y=>y.musicPlayerReducer),o=ln(),{actions:a}=Va,[l,u]=T.useState(e===n?s:0);T.useEffect(()=>{r||o(a.setCurrentTrackTimeProgress(l))},[r]);const c=T.useRef(null),f=T.useRef(null);T.useEffect(()=>{if(o(a.setCurrentTrack(t[i])),c.current&&l>0){const y=c.current;y.currentTime=l}},[]);const{transitionClass:h,handleOnTransitionEnd:p,runEndTransition:w}=uR({startTransitionClass:LS.show,onTransitionEndAction:()=>{o(a.hidePlayer()),o(a.setIsPlaying(!1)),o(a.setCurrentTrackTimeProgress(l))}});return T.useEffect(()=>{if(t.length>0&&n){const y=t.indexOf(n);o(a.setCurrentTrackIndex(y)),o(a.setCurrentTrack(t[y])),o(a.setIsPlaying(!0))}n||o(a.setIsPlaying(!1))},[a,t,n,o]),d.jsxs(ie,{className:Ct(LS.MusicPlayer,h),onTransitionEnd:p,children:[d.jsx(AH,{timeProgress:l,audioRef:c,progressBarRef:f,onClose:w}),d.jsx(DH,{timeProgress:l,audioRef:c,progressBarRef:f}),d.jsx(xH,{timeProgress:l,setTimeProgress:u,audioRef:c,progressBarRef:f})]})}const UH={activeTableNumber:0,namesList:[],selectedSongsId:[],tableGroupLabels:[],nameListLimitCount:10,isLoading:!1,error:"",songsList:[],listTitles:[],lastFetchingDate:"",pageMode:"list"},Sa=Ra({name:"songsList",initialState:UH,reducers:{setActiveTable(t,e){t.activeTableNumber=e.payload},resetTableGroupLabels(t){t.tableGroupLabels=[]},resetNamesList(t){t.namesList=[]},toggleSetToSelectedSongsId(t,e){let n=[...t.selectedSongsId];const r=t.selectedSongsId.indexOf(e.payload);r>=0?n.splice(r,1):n=[...t.selectedSongsId,e.payload],t.selectedSongsId=n},removeFromSelectedSongsId(t,e){const n=[...t.selectedSongsId],r=t.selectedSongsId.indexOf(e.payload);r>=0&&n.splice(r,1),t.selectedSongsId=n},resetSelectedSongsId(t){t.selectedSongsId=[]},toggleSetToNamesList(t,e){const n=e.payload,{namesList:r}=t;let i=[...r];r.length===0&&(i=[n]),r.length>0&&r.length<t.nameListLimitCount&&(i=[...r,n]);const s=r.indexOf(n);s>=0&&(i=[...r],i.splice(s,1)),t.namesList=i},setLastFetchingDate(t,e){t.lastFetchingDate=e.payload},setPageMode(t,e){t.pageMode=e.payload}},extraReducers:t=>{t.addCase(zl.pending,e=>{e.isLoading=!0,e.error=""}).addCase(zl.fulfilled,(e,n)=>{e.songsList=n.payload.songsList,e.error="",e.isLoading=!1,e.listTitles=n.payload.listTitles,e.tableGroupLabels=n.payload.songsList.map(r=>r[1].map(i=>i[0]))}).addCase(zl.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1})}});function FH(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}const hR=T.forwardRef(({register:t,errors:e,onApply:n,placeholder:r,onChangeValue:i,autoClear:s=!1,onKeyDown:o,children:a,...l},u)=>{var g;const[c,f]=T.useState(""),h=m=>{i&&i(m.target.value),f(m.target.value)},p=()=>{n&&n(c),s&&f("")},w=()=>{i&&i(""),f("")},y=m=>{o&&o(m),m.key==="Enter"&&(n&&n(c),s&&f(""))},v=e?(g=e[t==null?void 0:t.name])==null?void 0:g.message:"";return d.jsxs("div",{className:$e.container,children:[d.jsx(H,{component:"h5",children:a}),d.jsxs("div",{className:$e.inputBlockContainer,children:[d.jsxs("label",{className:Os.inputContainer,children:[d.jsx("input",{type:"text",className:X.join($e.input,Os.input,en.input),placeholder:r,ref:u,onChange:h,onKeyDown:y,value:c,...t,...l}),!n&&c.length>0&&d.jsx(Ft,{size:"custom",style:{width:20,height:20},className:Os.icon,onClick:w,children:d.jsx(oc,{size:"custom",style:{width:20,height:20}})}),(!n&&c.length<1||n)&&d.jsx(Ft,{size:"custom",style:{width:20,height:20},className:Os.icon,onClick:p,children:d.jsx(FH,{size:"custom",style:{width:20,height:20}})})]}),t&&d.jsx(H,{component:"p2",className:X.join($e.error),children:typeof v=="string"&&v})]})]})});hR.displayName="SearchInput";function VH(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("path",{d:"M12 5V19",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M5 12H19",strokeLinecap:"round",strokeLinejoin:"round"})]})}function pR({children:t,...e}){return d.jsx(d.Fragment,{children:T.Children.map(t,n=>T.isValidElement(n)?T.cloneElement(n,{...n.props,...e}):null)})}const OS={up:"up",down:"down"};function zH(t,e){const n=t??100,[r,i]=T.useState("start"),[s,o]=T.useState(0);return T.useEffect(()=>{let a=window.scrollY;const l=h=>Math.abs(h-a)>n,u=h=>h>a&&!(a>0&&h===0)&&!(h>0&&a===0),c=()=>{const h=window.scrollY;if(o(h),l(h)){e&&e();const p=u(h)?OS.down:OS.up;i(p),a=h>0?h:0}},f=()=>window.requestAnimationFrame(c);return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]),{scrollDirection:r,scrollPosition:s}}function BH(){const[t,e]=T.useState({windowWidth:0,windowHeight:0});return T.useLayoutEffect(()=>{function n(){e({windowWidth:window.innerWidth,windowHeight:window.innerHeight})}return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),t}const HH="_StickyButton_bwa52_18",qH="_show_bwa52_63",WH="_slideIn_bwa52_63",KH="_popup_bwa52_66",GH="_hide_bwa52_69",QH="_moveOffset_bwa52_108",Sr={StickyButton:HH,show:qH,slideIn:WH,"slide-in-show-animation":"_slide-in-show-animation_bwa52_1",popup:KH,"popup-show-animation":"_popup-show-animation_bwa52_1",hide:GH,"slide-in-hide-animation":"_slide-in-hide-animation_bwa52_1","popup-hide-animation":"_popup-hide-animation_bwa52_1",moveOffset:QH,"move-offset-animation":"_move-offset-animation_bwa52_1"},mR=T.forwardRef(({animation:t,inverseDirection:e,hideOnScreensCount:n,offset:r,children:i,className:s,...o},a)=>{const[l,u]=T.useState(Sr.hide),{windowHeight:c}=BH(),{scrollDirection:f,scrollPosition:h}=zH(200);T.useEffect(()=>{const g=h>c*(n||1);u(g&&e&&f==="up"?Sr.show:g&&e&&f==="down"||g&&f==="up"?Sr.hide:g&&f==="down"?Sr.show:Sr.hide)},[n,e,f,h,c]);const p=[t&&l,t==="slide-in"&&Sr.slideIn,t==="popup"&&Sr.popup],[w,y]=T.useState(!1),v=w&&Sr.moveOffset;return T.useEffect(()=>{y(!!r)},[r]),d.jsx(op,{children:d.jsx("div",{className:X.join(Sr.StickyButton,s,p,v),ref:a,style:{"--sticky-button-offset":r?`calc(${r}px * -1)`:"var(--sticky-button-offset-init)","--sticky-button-offset-prev:":"var(--sticky-button-offset)"},...o,children:i})})});mR.displayName="StickyButton";const YH="_open_x4t2u_18",XH="_menuItem_x4t2u_18",JH="_menu_x4t2u_18",ZH="_disabled_x4t2u_91",eq="_menuDivider_x4t2u_96",tq="_menuTitle_x4t2u_102",nq="_iconBlock_x4t2u_120",rq="_mainIcon_x4t2u_127",iq="_plusIcon_x4t2u_131",zr={open:YH,menuItem:XH,menu:JH,disabled:ZH,menuDivider:eq,menuTitle:tq,iconBlock:nq,mainIcon:rq,plusIcon:iq},gR=T.forwardRef(({animation:t,inverseDirection:e,hideOnScreensCount:n,offset:r,menuItems:i,className:s,onClick:o,children:a,...l},u)=>{const[c,f]=T.useState(!1),h=()=>{f(y=>!y)},p=[c&&zr.open],w=y=>{y(),f(!1)};return d.jsxs(mR,{className:X.join(zr.StickyMenu,s,p),animation:t,inverseDirection:e,hideOnScreensCount:n,offset:r,onClick:o,ref:u,children:[d.jsx(it,{onClick:h,children:d.jsxs(ie,{className:zr.iconBlock,children:[a?d.jsx(pR,{className:zr.mainIcon,children:a}):d.jsx(W2,{className:zr.mainIcon}),d.jsx(VH,{className:zr.plusIcon})]})}),d.jsx(ie,{className:zr.menu,children:i.map((y,v)=>d.jsx(ie,{className:zr.menuItem,style:{"--sticky-menu-offset":`calc((100% * ${i.length-(v+1)}) + (8px * ${i.length-(v+1)}))`},onClick:()=>w(y.action),children:d.jsx(H,{className:zr.menuTitle,children:y.title})},y.title))})]})});gR.displayName="StickyMenu";function sq(){const{isPlayerShow:t}=ut(l=>l.musicPlayerReducer),{pageMode:e}=ut(l=>l.songsListReducer),i=t&&174||e==="list"&&0||0,s=ln(),{actions:o}=Sa,a=()=>{s(o.setPageMode("selection"))};return d.jsx(gR,{offset:i,inverseDirection:!0,menuItems:[{title:"Вибрати",action:a}]})}const oq="_ListNavigation_1wvg1_1",aq={ListNavigation:oq};function lq({charsList:t}){return d.jsx(ie,{component:"nav",className:aq.ListNavigation,children:t.length>0&&t.map(e=>d.jsx(Bv,{href:`${pn.songslist}#${e}`,className:"link",children:e},e))})}function uq({ref:t,wayDirection:e="horizontal",targetDirection:n=null,swipeOffset:r=10,moveOffset:i=1}){var m;const[s]=T.useState(((m=t.current)==null?void 0:m.style.position)||"static"),[o,a]=T.useState(null),[l,u]=T.useState(null),[c,f]=T.useState(null),[h,p]=T.useState(null),[w,y]=T.useState(null),[v,g]=T.useState(null);return T.useEffect(()=>{const _=t==null?void 0:t.current;let E=null,S=null;const I=R=>{E=R.touches[0].clientX,S=R.touches[0].clientY,a({x:E,y:S})},x=R=>{const O=R.touches[0].clientX,W=R.touches[0].clientY;if(u({x:O,y:W}),E===null||S===null)return;let $=null;e==="horizontal"?($=O-E,$>i&&y("right"),$<i&&y("left")):e==="vertical"&&($=W-S,$>i&&y("down"),$<i&&y("up")),g($)},P=R=>{const O=R.changedTouches[0].clientX,W=R.changedTouches[0].clientY;if(f({x:O,y:W}),!(E===null||S===null)){if(e==="horizontal"){const $=O-E;$>r&&p("right"),$<r&&p("left")}else if(e==="vertical"){const $=W-S;$>r&&p("down"),$<r&&p("up")}a(null)}};return _&&(_.addEventListener("touchstart",I),_.addEventListener("touchmove",x),_.addEventListener("touchend",P)),()=>{_&&(_.removeEventListener("touchstart",I),_.removeEventListener("touchstart",I),_.removeEventListener("touchend",P))}},[]),T.useEffect(()=>{const _=t==null?void 0:t.current;_&&n&&(w===n?(_.style.position="relative",_.style.left=`${v}px`):_.style.position=s)},[v,w]),{startTouchPosition:o,moveTouchPosition:l,endTouchPosition:c,swipeDirection:h,moveDirection:w,difference:v}}function DS(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 8V12",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 16H12.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function cq(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("path",{d:"M10.29 3.86001L1.81999 18C1.64536 18.3024 1.55296 18.6453 1.55198 18.9945C1.551 19.3437 1.64148 19.6871 1.81442 19.9905C1.98735 20.2939 2.23672 20.5468 2.5377 20.7239C2.83868 20.901 3.18079 20.9962 3.52999 21H20.47C20.8192 20.9962 21.1613 20.901 21.4623 20.7239C21.7633 20.5468 22.0126 20.2939 22.1856 19.9905C22.3585 19.6871 22.449 19.3437 22.448 18.9945C22.447 18.6453 22.3546 18.3024 22.18 18L13.71 3.86001C13.5317 3.56611 13.2807 3.32313 12.9812 3.15449C12.6817 2.98585 12.3437 2.89726 12 2.89726C11.6563 2.89726 11.3183 2.98585 11.0188 3.15449C10.7193 3.32313 10.4683 3.56611 10.29 3.86001Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 9V13",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 17H12.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function dq(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("path",{d:"M22 11.08V12C21.9988 14.1564 21.3005 16.2547 20.0093 17.9818C18.7182 19.709 16.9033 20.9725 14.8354 21.5839C12.7674 22.1953 10.5573 22.1219 8.53447 21.3746C6.51168 20.6273 4.78465 19.2461 3.61096 17.4371C2.43727 15.628 1.87979 13.4881 2.02168 11.3363C2.16356 9.18457 2.99721 7.13633 4.39828 5.49707C5.79935 3.85782 7.69279 2.71538 9.79619 2.24015C11.8996 1.76491 14.1003 1.98234 16.07 2.86",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M22 4L12 14.01L9 11.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function fq(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("path",{d:"M12.7165 22.7087C18.2394 22.7087 22.7165 18.2315 22.7165 12.7087C22.7165 7.18582 18.2394 2.70866 12.7165 2.70866C7.19367 2.70866 2.71652 7.18582 2.71652 12.7087C2.71652 18.2315 7.19367 22.7087 12.7165 22.7087Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12.7165 16.7087V12.7087",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12.7165 8.70866H12.7265",strokeLinecap:"round",strokeLinejoin:"round"})]})}function hq(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("path",{d:"M12.237 22.8758C17.7599 22.8758 22.237 18.3987 22.237 12.8758C22.237 7.35296 17.7599 2.87581 12.237 2.87581C6.71418 2.87581 2.23703 7.35296 2.23703 12.8758C2.23703 18.3987 6.71418 22.8758 12.237 22.8758Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M15.237 9.87581L9.23703 15.8758",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M9.23703 9.87581L15.237 15.8758",strokeLinecap:"round",strokeLinejoin:"round"})]})}const pq="_LoaderBars_qlkif_1",mq="_loader_qlkif_1",gq={LoaderBars:pq,loader:mq},yq=T.forwardRef(({className:t,...e},n)=>d.jsxs("div",{className:X.join(gq.LoaderBars,t),ref:n,...e,children:[d.jsx("div",{}),d.jsx("div",{}),d.jsx("div",{})]}));yq.displayName="LoaderBars";const vq="_LoaderCounter_1kaup_1",wq="_counter_1kaup_9",_q="_background_1kaup_14",Eq="_animation_1kaup_22",Eo={LoaderCounter:vq,counter:wq,background:_q,animation:Eq,"loader-animation":"_loader-animation_1kaup_1"},yR=T.forwardRef(({timer:t,isInversion:e,className:n,...r},i)=>{const[s,o]=T.useState(t/1e3);T.useEffect(()=>{X.setIntervalCounts({callback:()=>o(u=>u-1),delay:1e3,counts:t/1e3})},[]);const a=T.useRef(null);T.useLayoutEffect(()=>{var u;(u=a.current)==null||u.style.setProperty("--loader-counter--animation-duration",`${t}ms`)},[t]);const l=[e?Eo.inversion:Eo.normal];return d.jsxs("div",{className:X.join(Eo.LoaderCounter,n,l),ref:i,...r,children:[d.jsx("div",{className:Eo.background}),d.jsx("div",{className:Eo.animation,ref:a}),d.jsx(H,{component:"p2",className:Eo.counter,children:s})]})});yR.displayName="LoaderCounter";const Sq="_Toast_1acxc_18",Cq="_success_1acxc_22",Tq="_info_1acxc_27",Iq="_error_1acxc_32",xq="_warn_1acxc_37",kq="_oneLine_1acxc_83",bq="_medium_1acxc_86",Rq="_large_1acxc_94",Aq="_content_1acxc_97",Pq="_textContent_1acxc_106",Nq="_title_1acxc_116",Lq="_message_1acxc_120",Oq="_topLeft_1acxc_124",Dq="_topCenter_1acxc_128",jq="_topRight_1acxc_132",Mq="_bottomLeft_1acxc_146",$q="_bottomCenter_1acxc_150",Uq="_bottomRight_1acxc_154",Fq="_hideToastAnimation_1acxc_168",ar={Toast:Sq,success:Cq,info:Tq,error:Iq,warn:xq,oneLine:kq,medium:bq,large:Rq,content:Aq,textContent:Pq,title:Nq,message:Lq,topLeft:Oq,"top-animation-show":"_top-animation-show_1acxc_1",topCenter:Dq,topRight:jq,bottomLeft:Mq,"bottom-animation-show":"_bottom-animation-show_1acxc_1",bottomCenter:$q,bottomRight:Uq,hideToastAnimation:Fq,"animation-hide":"_animation-hide_1acxc_1"};function Vq(t){return t==="alert"?d.jsx(DS,{}):t==="info"?d.jsx(fq,{}):t==="success"?d.jsx(dq,{}):t==="error"?d.jsx(hq,{}):t==="warn"?d.jsx(cq,{}):d.jsx(DS,{})}const vR=T.forwardRef(({id:t,message:e,title:n="",type:r,size:i="flex",position:s="topRight",oneLine:o,onCloseButtonClick:a,duration:l=3e3,className:u,...c},f)=>{const h=T.useRef(null),{remove:p}=_R(),w=[i&&ar[i],r&&ar[r],s&&ar[s]],y=o&&ar.oneLine,v=n||r==="alert"&&"Повідомлення!"||r==="info"&&"Інформація!"||r==="success"&&"Успіх!"||r==="error"&&"Помилка!"||r==="warn"&&"Попередження!",g=()=>{var S,I;(S=h.current)==null||S.classList.add(ar.hideToastAnimation),(I=h.current)==null||I.addEventListener("animationend",x=>{x.target===h.current&&(x.stopPropagation(),p(t))})},m=T.useRef();T.useEffect(()=>(l>0&&(m.current=setTimeout(()=>{g()},l)),()=>{clearTimeout(m.current)}),[]);const{swipeDirection:_}=uq({ref:h,targetDirection:"right"});T.useEffect(()=>{_==="right"&&g()},[_]);const E=S=>{a&&a(S),g()};return d.jsxs("div",{className:X.join(ar.Toast,u,w),ref:iR([f,h]),...c,children:[d.jsxs("div",{className:ar.content,children:[d.jsx(Ft,{children:Vq(r)}),d.jsxs("div",{className:X.join(ar.textContent,y),children:[d.jsx(H,{component:"h6",className:ar.title,children:v}),typeof e=="string"?d.jsx(H,{component:"p1",className:ar.message,children:e}):e.map(S=>d.jsx(H,{component:"p1",className:ar.message,children:S},S))]}),l>0&&d.jsx(yR,{timer:l})]}),d.jsx(Ft,{size:"small",onClick:E,children:d.jsx(oc,{size:"small"})})]})});vR.displayName="Toast";const zq="_ToastsContainer_1yqsk_46",jS={ToastsContainer:zq,"left-top":"_left-top_1yqsk_61","center-top":"_center-top_1yqsk_64","left-bottom":"_left-bottom_1yqsk_67","center-bottom":"_center-bottom_1yqsk_71","right-bottom":"_right-bottom_1yqsk_75"};function Bq({toasts:t,position:e={horizontal:"right",vertical:"top"}}){const n=jS[`${e.horizontal}-${e.vertical}`];return!t||t.length<=0?null:d.jsx(op,{children:d.jsx(ie,{className:X.join(jS.ToastsContainer,n),children:d.jsx(d.Fragment,{children:t.map(r=>d.jsx(vR,{id:r.id,message:r.message,title:r.title,type:r.type,size:r.size,position:r.position,oneLine:r.oneLine,onCloseButtonClick:r.onCloseButtonClick,duration:r.duration},r.id))})})})}const wR=T.createContext({}),_R=()=>T.useContext(wR);function Hq({maxToast:t=1,children:e}){const[n,r]=T.useState([]),[i,s]=T.useState("top-right"),o=u=>{u.position&&u.position!==i&&s(u.position),r(c=>{const f=c.length<t?c:c.slice(1),h={...u,id:X.getRandomNumber(1e8,999999999).toString()};return[...f,h]})},a=u=>{r(c=>c.filter(f=>f.id!==u))},l=T.useMemo(()=>({add:o,remove:a,position:i}),[]);return d.jsxs(wR.Provider,{value:l,children:[e,d.jsx(Bq,{toasts:n})]})}const qq="_SelectionBar_d5a6w_46",Wq="_extended_d5a6w_59",Kq="_button_d5a6w_63",Gq="_show_d5a6w_75",cl={SelectionBar:qq,extended:Wq,button:Kq,show:Gq};function Qq(){const{namesList:t}=ut(c=>c.songsListReducer),{isPlayerShow:e}=ut(c=>c.musicPlayerReducer),n=e&&cl.extended,r=ln(),{actions:i}=Sa,{add:s}=_R(),{transitionClass:o,handleOnTransitionEnd:a,runEndTransition:l}=uR({startTransitionClass:cl.show,onTransitionEndAction:()=>{r(i.resetNamesList()),r(i.resetSelectedSongsId()),r(i.setPageMode("list"))}}),u=async()=>{const c=t.map((h,p)=>`${p+1}. ${h}`),f=c.join(`
`);try{await sj(f)&&s({title:"Скопійовано:",message:c,duration:5e3})}catch{s({type:"error",message:"Не вдалося скопіювати. Напишіть мені в Телеграм!",duration:5e3})}r(i.resetNamesList()),r(i.resetSelectedSongsId())};return d.jsxs(ot,{className:Ct(cl.SelectionBar,n,o),onTransitionEnd:a,row:!0,children:[d.jsx(ie,{className:cl.button,children:d.jsx(it,{size:"small",type:"secondary",onClick:l,children:d.jsx(oc,{})})}),d.jsx(ie,{className:cl.button,children:d.jsx(it,{size:"small",onClick:u,disabled:t.length<=0,children:`Скопіювати ${t.length} / 10`})})]})}const Yq="_List_3gzz3_1",Xq="_unordered_3gzz3_6",Jq="_custom_3gzz3_12",Fm={List:Yq,unordered:Xq,custom:Jq},ER=T.forwardRef(({type:t,margin:e,children:n,className:r,...i},s)=>{const o=[t==="unordered"&&Fm[t],t==="custom"&&Fm[t]],a={marginLeft:e&&`${e}px`};return d.jsx("ul",{className:X.join(Fm.List,r,o),ref:s,style:a,...i,children:d.jsx(pR,{style:a,children:n})})});ER.displayName="List";const SR=T.forwardRef(({children:t,className:e,...n},r)=>d.jsx("li",{className:e,ref:r,...n,children:t}));SR.displayName="ListItem";function Zq(t=()=>{},e=300){const[n,r]=T.useState(!1);return T.useEffect(()=>{let i=null;return n?i=setTimeout(t,e):i&&clearTimeout(i),()=>{i&&clearTimeout(i)}},[t,e,n]),{onMouseDown:()=>r(!0),onMouseUp:()=>r(!1),onMouseLeave:()=>r(!1),onTouchStart:()=>r(!0),onTouchEnd:()=>r(!1)}}function eW(t){return d.jsx(Ne,{fill:"none",...t,children:d.jsx("polyline",{points:"20 6 9 17 4 12"})})}const tW="_SongListItem_155jy_46",nW="_textBlock_155jy_55",rW="_selection_155jy_61",iW="_songName_155jy_67",sW="_checkIcon_155jy_74",oW="_active_155jy_78",aW="_playIcon_155jy_84",lW="_playing_155jy_89",xi={SongListItem:tW,textBlock:nW,selection:rW,songName:iW,checkIcon:sW,"check-icon-show-animation":"_check-icon-show-animation_155jy_1",active:oW,"check-icon-checked-animation":"_check-icon-checked-animation_155jy_1",playIcon:aW,playing:lW,"play-animation":"_play-animation_155jy_1","text-move-right-animation":"_text-move-right-animation_155jy_1"};function uW({song:t}){const e=ln(),{audioTracksList:n,currentTrack:r,isPlaying:i}=ut(S=>S.musicPlayerReducer),{actions:s}=Va,o=()=>{e(s.showPlayer()),e(s.toggleIsPlaying()),r&&r.includes(t.value)||e(s.setCurrentTrack(t.value))},a=i&&r===t.value?"secondary":"text",l=i&&r===t.value&&xi.playing,{namesList:u,nameListLimitCount:c,selectedSongsId:f,pageMode:h}=ut(S=>S.songsListReducer),{actions:p}=Sa,y=f.includes(t.position)&&xi.active,v=[h==="selection"&&xi.selection],g=()=>{h==="selection"&&(u.length<c?e(p.toggleSetToSelectedSongsId(t.position)):e(p.removeFromSelectedSongsId(t.position)),e(p.toggleSetToNamesList(t.value)))},{actions:m}=Sa,E=Zq(()=>{e(m.setPageMode("selection"))});return d.jsxs(SR,{className:Ct(xi.SongListItem,y),...E,children:[d.jsxs(ie,{className:Ct(xi.textBlock,v),onClick:g,children:[h==="selection"&&d.jsx(Ft,{className:Ct(xi.checkIcon,y),children:d.jsx(eW,{size:"small"})}),d.jsx(H,{component:"p1",id:`song_${t.position}`,className:xi.songName,children:t.value})]}),n.includes(t.value)&&d.jsx(it,{type:a,size:"small",onClick:o,className:Ct(l),disabled:!n.includes(t.value),children:n.includes(t.value)&&(i&&r===t.value?d.jsx(cR,{size:"small"}):d.jsx(dR,{size:"small",className:xi.playIcon}))})]},t.position)}const cW="_SongsList_50aix_46",dW="_songsGroup_50aix_52",fW="_songsGroupSymbol_50aix_56",hW="_songsNames_50aix_65",Uc={SongsList:cW,songsGroup:dW,songsGroupSymbol:fW,songsNames:hW};function pW({songsTable:t}){return d.jsx(ie,{className:Uc.SongsList,children:t.map(e=>e[1].length>0&&d.jsxs(ie,{className:Uc.songsGroup,children:[d.jsx(H,{component:"h3",className:Uc.songsGroupSymbol,id:e[0],children:e[0]}),d.jsx(ER,{className:Uc.songsNames,children:e[1].map(n=>d.jsx(uW,{song:n},n.position))})]},e[0]))})}const mW="_SongsListPage_10yxc_46",gW="_container_10yxc_50",yW="_tools_10yxc_60",Vm={SongsListPage:mW,container:gW,tools:yW};function vW(){const[t,e]=T.useState(0),[n,r]=T.useState(),{error:i,isLoading:s,songsList:o,tableGroupLabels:a,lastFetchingDate:l,listTitles:u,selectedSongsId:c,pageMode:f}=ut(_=>_.songsListReducer),{isPlayerShow:h}=ut(_=>_.musicPlayerReducer),p=ln(),{actions:w}=Sa;T.useEffect(()=>{const _=XD();(mr(o)||l!==_)&&(p(zl()),p(w.setLastFetchingDate(_)))},[]);const[y,v]=T.useState("");T.useEffect(()=>{if(o.length>0){const _=o[t][1];r(y?_.map(E=>[E[0],E[1].filter(S=>S.value.toLowerCase().includes(y.toLowerCase()))]):_)}},[t,o,y]);const g=_=>{const E=u.indexOf(_);e(E)};if(i)throw Error(i);const m=_=>{v(_)};return d.jsxs(ie,{component:"main",className:Vm.SongsListPage,children:[d.jsxs(ot,{component:"section",container:!0,className:Vm.container,children:[d.jsxs(ie,{className:Vm.tools,children:[s&&d.jsx(Fa,{}),d.jsx(oR,{selected:u[t],onDropdownChange:g,options:u}),d.jsx(hR,{placeholder:"Пошук...",onChangeValue:m}),a&&a.length>0&&d.jsx(lq,{charsList:a[t]})]}),n&&d.jsx(pW,{songsTable:n})]}),f!=="selection"&&d.jsx(sq,{}),n&&h&&d.jsx($H,{}),f==="selection"&&d.jsx(Qq,{})]})}const md={male:"Хлопчик",female:"Дівчинка"},wW={user:"Користувач",admin:"Адміністратор",owner:"Кодувальник"},zm=$r("user/getUserInfo",async({uid:t},e)=>{try{const n=await be.google.firebase.database.users.getUserById({userId:t});return{uid:t||"",displayName:n.user.displayName,photoURL:n.user.photoURL,email:n.user.email,userType:n.user.userType,sex:n.user.sex,role:n.user.role,lastActiveChatId:n.user.lastActiveChatId,lastVisitDate:n.user.lastVisitDate,registrationDate:n.user.registrationDate,isOnline:n.user.isOnline,visitsCount:n.user.visitsCount}}catch(n){return e.rejectWithValue(ae(n))}}),_W={isLoading:!1,error:"",userInfo:{},userInfoRealtime:{}},CR=Ra({name:"userInfo",initialState:_W,reducers:{removeUserInfo(t){t.userInfo={}},resetError(t){t.error=""},setUsersRealtime(t,e){t.userInfoRealtime=e.payload}},extraReducers:t=>{t.addCase(zm.pending,e=>{e.error="",e.isLoading=!0,e.userInfo={}}).addCase(zm.fulfilled,(e,n)=>{e.userInfo={...n.payload},e.error="",e.isLoading=!1}).addCase(zm.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1})}});function EW(t){return d.jsxs(Ne,{fill:"none",...t,children:[d.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),d.jsx("polyline",{points:"12 19 5 12 12 5"})]})}const SW="_container_1r4tb_1",CW="_info_1r4tb_8",TW="_row_1r4tb_16",IW="_column_1r4tb_21",xW="_headingColumn_1r4tb_25",Ae={container:SW,info:CW,row:TW,column:IW,headingColumn:xW};function kW(){var o,a;const{userId:t}=vO(),e=Zn(),n=()=>{e(-1)},{userInfoRealtime:r}=ut(l=>l.userInfoReducer),i=ln(),{actions:s}=CR;return T.useEffect(()=>{const l=tr(yn,"users",t||"");let u;try{u=C2(l,c=>{const f=c.data();if(f&&!mr(f))i(s.setUsersRealtime({uid:f.uid,...f.user}));else throw new Error("Can't find user!")})}catch(c){throw new Error(ae(c))}return()=>u()},[]),d.jsx(ie,{component:"main",className:Ae.UserInfoPage,children:r?d.jsxs(ot,{container:!0,component:"section",className:Ae.container,children:[d.jsx(Ea,{src:r.photoURL||"",alt:r.displayName||"",char:((o=r.displayName)==null?void 0:o[0])||((a=r.email)==null?void 0:a[0])||"",size:"extra"}),d.jsxs(ie,{className:Ae.info,children:[d.jsx(H,{component:"h5",className:Ae.userInfoRealtime,children:r.displayName}),d.jsxs(ot,{row:!0,className:Ae.row,children:[d.jsx(ie,{grid:{xx:6},className:Ct(Ae.headingColumn,Ae.column),children:d.jsx(H,{component:"h6",children:"Роль"})}),d.jsx(ie,{grid:{xx:6},className:Ct(Ae.infoColumn,Ae.column),children:r.role&&d.jsx(H,{component:"p2",children:`[${r.role}]`})})]}),d.jsxs(ot,{row:!0,className:Ae.row,children:[d.jsx(ie,{grid:{xx:6},className:Ct(Ae.headingColumn,Ae.column),children:d.jsx(H,{component:"h6",children:"Кількість відвідувань"})}),d.jsx(ie,{grid:{xx:6},className:Ct(Ae.infoColumn,Ae.column),children:d.jsx(H,{component:"p2",children:r.visitsCount})})]}),d.jsxs(ot,{row:!0,className:Ae.row,children:[d.jsx(ie,{grid:{xx:6},className:Ct(Ae.headingColumn,Ae.column),children:d.jsx(H,{component:"h6",children:"Останній вхід"})}),d.jsx(ie,{grid:{xx:6},className:Ct(Ae.infoColumn,Ae.column),children:d.jsxs(H,{component:"p2",children:[xc(String(r.lastVisitDate)).toLocaleDateString()," ",xc(String(r.lastVisitDate)).toLocaleTimeString()]})})]}),d.jsxs(ot,{row:!0,className:Ae.row,children:[d.jsx(ie,{grid:{xx:6},className:Ct(Ae.headingColumn,Ae.column),children:d.jsx(H,{component:"h6",children:"Дата реєстрації"})}),d.jsx(ie,{grid:{xx:6},className:Ct(Ae.infoColumn,Ae.column),children:d.jsxs(H,{component:"p2",children:[xc(String(r.registrationDate)).toLocaleDateString()," ",xc(String(r.registrationDate)).toLocaleTimeString()]})})]}),d.jsxs(ot,{row:!0,className:Ae.row,children:[d.jsx(ie,{grid:{xx:6},className:Ct(Ae.headingColumn,Ae.column),children:d.jsx(H,{component:"h6",children:"Стать"})}),d.jsx(ie,{grid:{xx:6},className:Ct(Ae.infoColumn,Ae.column),children:r.sex&&d.jsx(H,{component:"p2",children:md[r.sex]})})]}),d.jsxs(ot,{row:!0,className:Ae.row,children:[d.jsx(ie,{grid:{xx:6},className:Ct(Ae.headingColumn,Ae.column),children:d.jsx(H,{component:"h6",children:"Тип"})}),d.jsx(ie,{grid:{xx:6},className:Ct(Ae.infoColumn,Ae.column),children:r.userType&&d.jsx(H,{component:"p2",children:wW[r.userType]})})]})]}),d.jsx(Ft,{onClick:n,children:d.jsx(EW,{})})]}):d.jsx(Fa,{})})}function bW({onClose:t,error:e}){return d.jsx(mo,{onClose:t,type:"error",size:"medium",title:"Невірні дані!",children:d.jsxs(d.Fragment,{children:[d.jsx(H,{component:"p1",className:"center",children:"Помилка при оновлені даних."}),d.jsx(H,{component:"p1",className:"center",children:"Спробуйте, будь ласка, пізніше!"}),d.jsx(H,{component:"caption",className:"center",children:e})]})})}function RW({onClose:t}){return d.jsx(mo,{onClose:t,type:"success",size:"medium",title:"Чудово!",children:d.jsx(H,{component:"p1",className:"center",children:"Дані успішно оновлені!"})})}const AW="_container_zun5x_1",PW="_form_zun5x_8",Bm={container:AW,form:PW};function NW(){const[t,e]=T.useState(!1),n=ln(),{actions:r}=Ua,{user:i,isLoading:s,error:o}=ut(x=>x.userReducer),{uid:a,displayName:l,photoURL:u,sex:c,role:f}=i,h=c!==""?c:"male",{register:p,handleSubmit:w,watch:y,formState:{errors:v}}=b0({mode:"onSubmit",defaultValues:{userName:l,profileImage:u,role:f,sex:md[h]}}),g=mr(v),m={userName:p("userName",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[\sа-яА-ЯёЁъЪїЇіІєЄґҐa-zA-Z_]+$/,message:"Використовуйте тільки літери, пробіл або нижнє підкреслення!"},minLength:{value:2,message:"Мінімальна довжина логіну 2 символів"},maxLength:{value:32,message:"Максимальна довжина логіну 32 символів"}}),profileImage:p("profileImage",{validate:x=>x&&(typeof x=="string"||typeof x!="string"&&!mr(x))?!0:"Будь ласка, оберіть зображення!"}),role:p("role",{required:"Поле таке пусте! Введіть більше символів!",minLength:{value:2,message:"Мінімальна довжина логіну 2 символів"},maxLength:{value:32,message:"Максимальна довжина логіну 32 символів"}}),sex:p("sex",{required:"Оберіть стать!"})},_=async({userName:x,profileImage:P,role:R,sex:O})=>{const W=O===md.male?"male":"female";n(hd({uid:a,displayName:x!==l?x:void 0,photo:typeof P!="string"?P[0]:void 0,role:R!==f?R:void 0,sex:W!==c?W:void 0})),e(!0)},E=Zn(),S=()=>{E(Kn.users)},I=()=>{n(r.resetError())};return d.jsxs(ie,{component:"main",className:Bm.UserPage,children:[d.jsxs(ot,{container:!0,component:"section",className:Bm.container,children:[d.jsx(H,{component:"h4",children:"Редагування профілю"}),d.jsxs(ap,{className:Bm.form,onSubmit:w(_),children:[d.jsx(aR,{watch:y,register:m.profileImage,errors:v,accept:".jpg, .jpeg, .png",label:"Оберіть зображення",children:"Зображення профілю:"}),d.jsx(jy,{register:m.userName,errors:v,children:"Логін*:"}),d.jsxs(jy,{register:m.role,errors:v,children:["Роль*:",d.jsx(H,{component:"caption",children:"(наприклад: Майстер мікрофону, Басист)"})]}),d.jsx(lR,{labels:Object.values(md),register:m.sex,errors:v,children:"Стать*:"}),d.jsx(it,{submit:!0,disabled:!g,children:"Оновити дані"})]})]}),s&&d.jsx(Fa,{}),t&&!s&&d.jsx(RW,{onClose:S}),o&&!s&&d.jsx(bW,{onClose:I,error:o})]})}const Hm=$r("user/getAllUsers",async(t,e)=>{try{const n=await be.google.firebase.database.users.getAllUsers();return Object.values(n.users)}catch(n){return e.rejectWithValue(ae(n))}}),LW={isLoading:!1,error:"",users:[],usersRealtime:[]},TR=Ra({name:"users",initialState:LW,reducers:{removeUsers(t){t.users=[]},resetError(t){t.error=""},setUsersRealtime(t,e){t.usersRealtime=e.payload}},extraReducers:t=>{t.addCase(Hm.pending,e=>{e.error="",e.isLoading=!0}).addCase(Hm.fulfilled,(e,n)=>{e.users=n.payload,e.error="",e.isLoading=!1}).addCase(Hm.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1})}}),OW="_UsersPage_1kf4i_46",DW="_container_1kf4i_50",jW="_listContainer_1kf4i_57",MW="_userName_1kf4i_64",$W="_user_1kf4i_64",UW="_current_1kf4i_85",FW="_ellipsis_1kf4i_92",VW="_userStats_1kf4i_99",zW="_time_1kf4i_112",kn={UsersPage:OW,container:DW,listContainer:jW,userName:MW,user:$W,current:UW,ellipsis:FW,userStats:VW,time:zW};function BW(){const t=Zn(),{user:e}=ut(a=>a.userReducer),{uid:n}=e,{usersRealtime:r}=ut(a=>a.usersReducer),i=ln(),{actions:s}=TR;T.useEffect(()=>{const a=Xh(yn,"users"),l=aF(a);let u;try{u=C2(l,c=>{const f=[];if(c.forEach(h=>{const p=h.data();f.push({uid:p.uid,...p.user})}),f.length>0)i(s.setUsersRealtime(f));else throw new Error("Can't find any users!")})}catch(c){throw new Error(ae(c))}return()=>u()},[]);const o=a=>{t(`${Kn.userInfo}/${a}`)};return d.jsxs(ie,{component:"main",className:kn.UsersPage,children:[d.jsxs(ot,{container:!0,component:"section",className:kn.container,children:[d.jsx(H,{component:"h4",children:"Список користувачів"}),d.jsxs(ot,{className:kn.listContainer,children:[d.jsxs(ot,{row:!0,className:kn.row,children:[d.jsx(ie,{grid:{xx:7,xl:9,md:9},children:d.jsx(H,{component:"h5",children:"Користувач"})}),d.jsx(ie,{grid:{xx:2,md:3},children:d.jsx(H,{component:"h5",className:kn.ellipsis,children:"Відвідувань"})})]}),r.length>0&&rj(r,"visitsCount").reverse().map(a=>{var l,u;return d.jsxs(ot,{row:!0,className:Ct(kn.row,kn.user,a.uid===n?kn.current:null),onClick:()=>o(a.uid),children:[d.jsx(ie,{grid:{xx:1,md:2},children:d.jsx(Ea,{src:a.photoURL||"",alt:a.displayName||"",char:((l=a.displayName)==null?void 0:l[0])||((u=a.email)==null?void 0:u[0])||"",size:"small"})}),d.jsxs(ie,{grid:{xx:6,xl:8,md:7},className:kn.userName,children:[d.jsx(H,{component:"p1",className:kn.ellipsis,children:a.displayName}),a.role&&d.jsx(H,{component:"caption",className:kn.ellipsis,children:`[${a.role}]`})]}),d.jsxs(ie,{grid:{xx:2,md:3},className:kn.userStats,children:[d.jsx(H,{component:"p1",children:a.visitsCount}),a.lastVisitDate&&d.jsxs(ie,{className:kn.time,children:[d.jsx(H,{component:"caption",children:Yg(a.lastVisitDate).toLocaleDateString()}),d.jsx(H,{component:"caption",children:Yg(a.lastVisitDate).toLocaleTimeString()})]})]})]},a.uid)})]})]}),r===null&&d.jsx(Fa,{})]})}function qm({children:t}){const{isAuth:e}=Mr();return e?t:d.jsx(SI,{to:pn.login})}function HW({children:t}){const{isAdmin:e}=Mr();return e?t:d.jsx(SI,{to:pn.home})}const qW=MO([{path:"/",element:d.jsx(vS,{}),errorElement:d.jsx(wS,{}),children:[{element:d.jsx(Uz,{}),index:!0},{element:d.jsx(vW,{}),path:`${pn.songslist}`},{element:d.jsx(qm,{children:d.jsx(NW,{})}),path:Kn.user},{element:d.jsx(qm,{children:d.jsx(BW,{})}),path:Kn.users},{element:d.jsx(HW,{children:d.jsx(kz,{})}),path:TI.admin}]},{path:"/",element:d.jsx(vS,{navigation:!1,userMenu:!1}),errorElement:d.jsx(wS,{}),children:[{element:d.jsx(lH,{}),path:pn.login},{element:d.jsx(gH,{}),path:pn.signup},{element:d.jsx(qm,{children:d.jsx(kW,{})}),path:`${Kn.userInfo}/:userId`}]}]);function WW(){return d.jsx(kO,{router:qW})}var P0="persist:",N0="persist/FLUSH",lp="persist/REHYDRATE",L0="persist/PAUSE",O0="persist/PERSIST",D0="persist/PURGE",j0="persist/REGISTER",IR=-1;function gd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gd=function(n){return typeof n}:gd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gd(t)}function MS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MS(n,!0).forEach(function(r){GW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GW(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QW(t,e,n,r){r.debug;var i=KW({},n);return t&&gd(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function YW(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:P0).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(S){return S}:typeof t.serialize=="function"?a=t.serialize:a=XW;var l=t.writeFailHandler||null,u={},c={},f=[],h=null,p=null,w=function(S){Object.keys(S).forEach(function(I){g(I)&&u[I]!==S[I]&&f.indexOf(I)===-1&&f.push(I)}),Object.keys(u).forEach(function(I){S[I]===void 0&&g(I)&&f.indexOf(I)===-1&&u[I]!==void 0&&f.push(I)}),h===null&&(h=setInterval(y,i)),u=S};function y(){if(f.length===0){h&&clearInterval(h),h=null;return}var E=f.shift(),S=r.reduce(function(I,x){return x.in(I,E,u)},u[E]);if(S!==void 0)try{c[E]=a(S)}catch(I){console.error("redux-persist/createPersistoid: error serializing state",I)}else delete c[E];f.length===0&&v()}function v(){Object.keys(c).forEach(function(E){u[E]===void 0&&delete c[E]}),p=o.setItem(s,a(c)).catch(m)}function g(E){return!(n&&n.indexOf(E)===-1&&E!=="_persist"||e&&e.indexOf(E)!==-1)}function m(E){l&&l(E)}var _=function(){for(;f.length!==0;)y();return p||Promise.resolve()};return{update:w,flush:_}}function XW(t){return JSON.stringify(t)}function JW(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:P0).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=ZW,r.getItem(n).then(function(s){if(s)try{var o={},a=i(s);return Object.keys(a).forEach(function(l){o[l]=e.reduceRight(function(u,c){return c.out(u,l,a)},i(a[l]))}),o}catch(l){throw l}else return})}function ZW(t){return JSON.parse(t)}function eK(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:P0).concat(t.key);return e.removeItem(n,tK)}function tK(t){}function $S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$S(n,!0).forEach(function(r){nK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$S(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nK(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rK(t,e){if(t==null)return{};var n=iK(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var sK=5e3;function oK(t,e){var n=t.version!==void 0?t.version:IR;t.debug;var r=t.stateReconciler===void 0?QW:t.stateReconciler,i=t.getStoredState||JW,s=t.timeout!==void 0?t.timeout:sK,o=null,a=!1,l=!0,u=function(f){return f._persist.rehydrated&&o&&!l&&o.update(f),f};return function(c,f){var h=c||{},p=h._persist,w=rK(h,["_persist"]),y=w;if(f.type===O0){var v=!1,g=function(P,R){v||(f.rehydrate(t.key,P,R),v=!0)};if(s&&setTimeout(function(){!v&&g(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),l=!1,o||(o=YW(t)),p)return Br({},e(y,f),{_persist:p});if(typeof f.rehydrate!="function"||typeof f.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return f.register(t.key),i(t).then(function(x){var P=t.migrate||function(R,O){return Promise.resolve(R)};P(x,n).then(function(R){g(R)},function(R){g(void 0,R)})},function(x){g(void 0,x)}),Br({},e(y,f),{_persist:{version:n,rehydrated:!1}})}else{if(f.type===D0)return a=!0,f.result(eK(t)),Br({},e(y,f),{_persist:p});if(f.type===N0)return f.result(o&&o.flush()),Br({},e(y,f),{_persist:p});if(f.type===L0)l=!0;else if(f.type===lp){if(a)return Br({},y,{_persist:Br({},p,{rehydrated:!0})});if(f.key===t.key){var m=e(y,f),_=f.payload,E=r!==!1&&_!==void 0?r(_,c,m,t):m,S=Br({},E,{_persist:Br({},p,{rehydrated:!0})});return u(S)}}}if(!p)return e(c,f);var I=e(y,f);return I===y?c:u(Br({},I,{_persist:p}))}}function US(t){return uK(t)||lK(t)||aK()}function aK(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function lK(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function uK(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function FS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function My(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FS(n,!0).forEach(function(r){cK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cK(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xR={registry:[],bootstrapped:!1},dK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xR,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case j0:return My({},e,{registry:[].concat(US(e.registry),[n.key])});case lp:var r=e.registry.indexOf(n.key),i=US(e.registry);return i.splice(r,1),My({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function fK(t,e,n){var r=n||!1,i=Xv(dK,xR,e&&e.enhancer?e.enhancer:void 0),s=function(u){i.dispatch({type:j0,key:u})},o=function(u,c,f){var h={type:lp,payload:c,err:f,key:u};t.dispatch(h),i.dispatch(h),r&&a.getState().bootstrapped&&(r(),r=!1)},a=My({},i,{purge:function(){var u=[];return t.dispatch({type:D0,result:function(f){u.push(f)}}),Promise.all(u)},flush:function(){var u=[];return t.dispatch({type:N0,result:function(f){u.push(f)}}),Promise.all(u)},pause:function(){t.dispatch({type:L0})},persist:function(){t.dispatch({type:O0,register:s,rehydrate:o})}});return e&&e.manualPersist||a.persist(),a}function hK(t,e){var n=e||{},r=n.debug;return function(i,s){if(!i)return Promise.resolve(void 0);var o=i._persist&&i._persist.version!==void 0?i._persist.version:IR;if(o===s||o>s)return Promise.resolve(i);var a=Object.keys(t).map(function(u){return parseInt(u)}).filter(function(u){return s>=u&&u>o}).sort(function(u,c){return u-c});try{var l=a.reduce(function(u,c){return t[c](u)},i);return Promise.resolve(l)}catch(u){return Promise.reject(u)}}}var M0={},$0={};$0.__esModule=!0;$0.default=gK;function yd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yd=function(n){return typeof n}:yd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yd(t)}function Wm(){}var pK={getItem:Wm,setItem:Wm,removeItem:Wm};function mK(t){if((typeof self>"u"?"undefined":yd(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function gK(t){var e="".concat(t,"Storage");return mK(e)?self[e]:pK}M0.__esModule=!0;M0.default=wK;var yK=vK($0);function vK(t){return t&&t.__esModule?t:{default:t}}function wK(t){var e=(0,yK.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var kR=void 0,_K=EK(M0);function EK(t){return t&&t.__esModule?t:{default:t}}var SK=(0,_K.default)("local");kR=SK;const CK=NI({appReducer:MI.reducer,songsListReducer:Sa.reducer,userReducer:Ua.reducer,usersReducer:TR.reducer,userInfoReducer:CR.reducer,musicPlayerReducer:Va.reducer}),TK={0:t=>t,1:t=>{const e={...t};return{...e,appReducer:{...e.appReducer,tea:void 0}}}},IK={key:Zv.name,storage:kR,whitelist:["appReducer","songsListReducer"],version:0,migrate:hK(TK,{debug:!1})},xK=oK(IK,CK),bR=$j({reducer:xK,middleware:t=>t({serializableCheck:{ignoredActions:[N0,lp,L0,O0,D0,j0]}})}),kK=fK(bR);function bK(){return d.jsx(uL,{store:bR,children:d.jsx(Hq,{maxToast:5,children:d.jsx(lI,{loading:null,persistor:kK,children:d.jsx(WW,{})})})})}const RK=document.getElementById("root"),AK=XT(RK);AK.render(d.jsx(T.StrictMode,{children:d.jsx(bK,{})}));
