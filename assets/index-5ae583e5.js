function ux(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const cx="AKfycbxGD1Lys79Ixt4BQ5mfH3ylX4_ZvtSGUFHltMILILPBWtcdPoSlI3FD5Ir8OcwtBA",dx=`https://script.google.com/macros/s/${cx}/exec`;function fx(t,e){console.error("analyticsAPI",`${t}:`,e)}function Lh(...t){console.log("analyticsAPI",...t)}async function hx({spreadsheetId:t,sheetName:e,sheetIndex:n,titlesParams:r,indexesParams:i,type:s,col:o,row:a,value:l}){const u=new URLSearchParams;return t&&u.append("spreadsheetId",t),e&&u.append("sheetName",e),n&&u.append("sheetIndex",n.toString()),r&&u.append("titlesParams",JSON.stringify(r)),i&&u.append("indexesParams",JSON.stringify(i)),s&&u.append("type",s),o&&u.append("col",o.toString()),a&&u.append("row",a.toString()),l&&u.append("value",l.toString()),fetch(`${dx}?${u}`,{method:"POST"}).then(c=>c.text()).then(c=>JSON.parse(c)).then(c=>(c.status!=="success"&&(Lh("doPost",c.status),Lh("doPost",c.info),Lh("doPost",c.error)),c)).catch(c=>fx("doPost",c))}async function px({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){return hx({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED"}).then(i=>i)}const mx={postTitledColumnsDataByTitles:px};async function gx(){try{return{ip:(await(await fetch("https://api.ipify.org?format=json")).json()).ip,status:"success"}}catch(t){return{error:t,status:"error"}}}const yx={fetchIP:gx},jS={appsscript:mx,ipify:yx};function vx(){const t=navigator.userAgent;let e,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE",version:e[1]||""}):n[1]==="Chrome"&&(e=t.match(/\bOPR|Edge\/(\d+)/),e!=null)?{name:"Opera",version:e[1]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],(e=t.match(/version\/(\d+)/i))!=null&&n.splice(1,1,e[1]),{name:n[0],version:n[1]})}function wx(){return/Android/i.test(navigator.userAgent)?"Android":/webOS/i.test(navigator.userAgent)?"webOS":/iPhone/i.test(navigator.userAgent)?"iPhone":/iPad/i.test(navigator.userAgent)?"iPad":/iPod/i.test(navigator.userAgent)?"iPod":/BlackBerry/i.test(navigator.userAgent)?"BlackBerry":/IEMobile/i.test(navigator.userAgent)?"IEMobile":/Opera Mini/i.test(navigator.userAgent)?"Opera Mini":null}async function _x(){const t=await jS.ipify.fetchIP();return{ip:t.status==="success"?t.ip:"",time:new Date().toString(),timezone:new Date().getTimezoneOffset()/60,language:window.navigator.language,languages:[...window.navigator.languages],mobile:wx()||"",page:window.location.pathname,referrer:document.referrer,browser:vx(),screenWidth:window.screen.width,screenHeight:window.screen.height,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight}}const Sx="156bmyJELUA_4HS995nK2KNl4NAgBkxh-OQrQT2jEjO4";async function Ex(){const t=await _x(),{ip:e,page:n,time:r,language:i,languages:s,browser:o,mobile:a,screenHeight:l,screenWidth:u,viewportHeight:c,viewportWidth:d}=t;await jS.appsscript.postTitledColumnsDataByTitles({spreadsheetId:Sx,titlesParams:{ip:e,page:n,time:r,language:i,languages:s.join(" | "),browser:o.name,version:o.version,mobile:a,screenHeight:l,screenWidth:u,viewportHeight:c,viewportWidth:d}})}Ex();var Cx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function US(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var v={},Tx={get exports(){return v},set exports(t){v=t}},Zd={},b={},bx={get exports(){return b},set exports(t){b=t}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var au=Symbol.for("react.element"),Ix=Symbol.for("react.portal"),kx=Symbol.for("react.fragment"),xx=Symbol.for("react.strict_mode"),Rx=Symbol.for("react.profiler"),Ax=Symbol.for("react.provider"),Px=Symbol.for("react.context"),Ox=Symbol.for("react.forward_ref"),Lx=Symbol.for("react.suspense"),Nx=Symbol.for("react.memo"),Dx=Symbol.for("react.lazy"),q1=Symbol.iterator;function Mx(t){return t===null||typeof t!="object"?null:(t=q1&&t[q1]||t["@@iterator"],typeof t=="function"?t:null)}var FS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VS=Object.assign,zS={};function ea(t,e,n){this.props=t,this.context=e,this.refs=zS,this.updater=n||FS}ea.prototype.isReactComponent={};ea.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ea.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HS(){}HS.prototype=ea.prototype;function Hg(t,e,n){this.props=t,this.context=e,this.refs=zS,this.updater=n||FS}var Bg=Hg.prototype=new HS;Bg.constructor=Hg;VS(Bg,ea.prototype);Bg.isPureReactComponent=!0;var W1=Array.isArray,BS=Object.prototype.hasOwnProperty,qg={current:null},qS={key:!0,ref:!0,__self:!0,__source:!0};function WS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)BS.call(e,r)&&!qS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:au,type:t,key:s,ref:o,props:i,_owner:qg.current}}function $x(t,e){return{$$typeof:au,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wg(t){return typeof t=="object"&&t!==null&&t.$$typeof===au}function jx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var K1=/\/+/g;function Nh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jx(""+t.key):e.toString(36)}function vc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case au:case Ix:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Nh(o,0):r,W1(i)?(n="",t!=null&&(n=t.replace(K1,"$&/")+"/"),vc(i,e,n,"",function(u){return u})):i!=null&&(Wg(i)&&(i=$x(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(K1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",W1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Nh(s,a);o+=vc(s,e,n,l,i)}else if(l=Mx(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Nh(s,a++),o+=vc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wu(t,e,n){if(t==null)return t;var r=[],i=0;return vc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Ux(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},wc={transition:null},Fx={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:wc,ReactCurrentOwner:qg};Ce.Children={map:Wu,forEach:function(t,e,n){Wu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wu(t,function(){e++}),e},toArray:function(t){return Wu(t,function(e){return e})||[]},only:function(t){if(!Wg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=ea;Ce.Fragment=kx;Ce.Profiler=Rx;Ce.PureComponent=Hg;Ce.StrictMode=xx;Ce.Suspense=Lx;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fx;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=VS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=qg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)BS.call(e,l)&&!qS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:au,type:t.type,key:i,ref:s,props:r,_owner:o}};Ce.createContext=function(t){return t={$$typeof:Px,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ax,_context:t},t.Consumer=t};Ce.createElement=WS;Ce.createFactory=function(t){var e=WS.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:Ox,render:t}};Ce.isValidElement=Wg;Ce.lazy=function(t){return{$$typeof:Dx,_payload:{_status:-1,_result:t},_init:Ux}};Ce.memo=function(t,e){return{$$typeof:Nx,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=wc.transition;wc.transition={};try{t()}finally{wc.transition=e}};Ce.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ce.useCallback=function(t,e){return rn.current.useCallback(t,e)};Ce.useContext=function(t){return rn.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return rn.current.useEffect(t,e)};Ce.useId=function(){return rn.current.useId()};Ce.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return rn.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};Ce.useRef=function(t){return rn.current.useRef(t)};Ce.useState=function(t){return rn.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return rn.current.useTransition()};Ce.version="18.2.0";(function(t){t.exports=Ce})(bx);const Qn=US(b),em=ux({__proto__:null,default:Qn},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx=b,zx=Symbol.for("react.element"),Hx=Symbol.for("react.fragment"),Bx=Object.prototype.hasOwnProperty,qx=Vx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wx={key:!0,ref:!0,__self:!0,__source:!0};function KS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Bx.call(e,r)&&!Wx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zx,type:t,key:s,ref:o,props:i,_owner:qx.current}}Zd.Fragment=Hx;Zd.jsx=KS;Zd.jsxs=KS;(function(t){t.exports=Zd})(Tx);var wl={},Kx={get exports(){return wl},set exports(t){wl=t}},bn={},tm={},Gx={get exports(){return tm},set exports(t){tm=t}},GS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,W){var re=q.length;q.push(W);e:for(;0<re;){var xe=re-1>>>1,$e=q[xe];if(0<i($e,W))q[xe]=W,q[re]=$e,re=xe;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var W=q[0],re=q.pop();if(re!==W){q[0]=re;e:for(var xe=0,$e=q.length,dt=$e>>>1;xe<dt;){var _t=2*(xe+1)-1,Hn=q[_t],Fe=_t+1,ft=q[Fe];if(0>i(Hn,re))Fe<$e&&0>i(ft,Hn)?(q[xe]=ft,q[Fe]=re,xe=Fe):(q[xe]=Hn,q[_t]=re,xe=_t);else if(Fe<$e&&0>i(ft,re))q[xe]=ft,q[Fe]=re,xe=Fe;else break e}}return W}function i(q,W){var re=q.sortIndex-W.sortIndex;return re!==0?re:q.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,y=!1,p=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(q){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=q)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function _(q){if(p=!1,w(q),!y)if(n(l)!==null)y=!0,De(C);else{var W=n(u);W!==null&&st(_,W.startTime-q)}}function C(q,W){y=!1,p&&(p=!1,g(N),N=-1),h=!0;var re=f;try{for(w(W),d=n(l);d!==null&&(!(d.expirationTime>W)||q&&!G());){var xe=d.callback;if(typeof xe=="function"){d.callback=null,f=d.priorityLevel;var $e=xe(d.expirationTime<=W);W=t.unstable_now(),typeof $e=="function"?d.callback=$e:d===n(l)&&r(l),w(W)}else r(l);d=n(l)}if(d!==null)var dt=!0;else{var _t=n(u);_t!==null&&st(_,_t.startTime-W),dt=!1}return dt}finally{d=null,f=re,h=!1}}var T=!1,I=null,N=-1,A=5,D=-1;function G(){return!(t.unstable_now()-D<A)}function B(){if(I!==null){var q=t.unstable_now();D=q;var W=!0;try{W=I(!0,q)}finally{W?j():(T=!1,I=null)}}else T=!1}var j;if(typeof m=="function")j=function(){m(B)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,be=ae.port2;ae.port1.onmessage=B,j=function(){be.postMessage(null)}}else j=function(){S(B,0)};function De(q){I=q,T||(T=!0,j())}function st(q,W){N=S(function(){q(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){y||h||(y=!0,De(C))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var re=f;f=W;try{return q()}finally{f=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var re=f;f=q;try{return W()}finally{f=re}},t.unstable_scheduleCallback=function(q,W,re){var xe=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?xe+re:xe):re=xe,q){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=re+$e,q={id:c++,callback:W,priorityLevel:q,startTime:re,expirationTime:$e,sortIndex:-1},re>xe?(q.sortIndex=re,e(u,q),n(l)===null&&q===n(u)&&(p?(g(N),N=-1):p=!0,st(_,re-xe))):(q.sortIndex=$e,e(l,q),y||h||(y=!0,De(C))),q},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(q){var W=f;return function(){var re=f;f=W;try{return q.apply(this,arguments)}finally{f=re}}}})(GS);(function(t){t.exports=GS})(Gx);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QS=b,En=tm;function V(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YS=new Set,_l={};function Ms(t,e){Mo(t,e),Mo(t+"Capture",e)}function Mo(t,e){for(_l[t]=e,t=0;t<e.length;t++)YS.add(e[t])}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nm=Object.prototype.hasOwnProperty,Qx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G1={},Q1={};function Yx(t){return nm.call(Q1,t)?!0:nm.call(G1,t)?!1:Qx.test(t)?Q1[t]=!0:(G1[t]=!0,!1)}function Xx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Jx(t,e,n,r){if(e===null||typeof e>"u"||Xx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ot[t]=new sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ot[e]=new sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ot[t]=new sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ot[t]=new sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ot[t]=new sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ot[t]=new sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ot[t]=new sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ot[t]=new sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ot[t]=new sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kg=/[\-:]([a-z])/g;function Gg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kg,Gg);Ot[e]=new sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kg,Gg);Ot[e]=new sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kg,Gg);Ot[e]=new sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ot[t]=new sn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ot[t]=new sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qg(t,e,n,r){var i=Ot.hasOwnProperty(e)?Ot[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Jx(e,n,i,r)&&(n=null),r||i===null?Yx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ni=QS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ku=Symbol.for("react.element"),ro=Symbol.for("react.portal"),io=Symbol.for("react.fragment"),Yg=Symbol.for("react.strict_mode"),rm=Symbol.for("react.profiler"),XS=Symbol.for("react.provider"),JS=Symbol.for("react.context"),Xg=Symbol.for("react.forward_ref"),im=Symbol.for("react.suspense"),sm=Symbol.for("react.suspense_list"),Jg=Symbol.for("react.memo"),ui=Symbol.for("react.lazy"),ZS=Symbol.for("react.offscreen"),Y1=Symbol.iterator;function Sa(t){return t===null||typeof t!="object"?null:(t=Y1&&t[Y1]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Object.assign,Dh;function Fa(t){if(Dh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Dh=e&&e[1]||""}return`
`+Dh+t}var Mh=!1;function $h(t,e){if(!t||Mh)return"";Mh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Mh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fa(t):""}function Zx(t){switch(t.tag){case 5:return Fa(t.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 2:case 15:return t=$h(t.type,!1),t;case 11:return t=$h(t.type.render,!1),t;case 1:return t=$h(t.type,!0),t;default:return""}}function om(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case io:return"Fragment";case ro:return"Portal";case rm:return"Profiler";case Yg:return"StrictMode";case im:return"Suspense";case sm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case JS:return(t.displayName||"Context")+".Consumer";case XS:return(t._context.displayName||"Context")+".Provider";case Xg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jg:return e=t.displayName||null,e!==null?e:om(t.type)||"Memo";case ui:e=t._payload,t=t._init;try{return om(t(e))}catch{}}return null}function eR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return om(e);case 8:return e===Yg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ni(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function eE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tR(t){var e=eE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gu(t){t._valueTracker||(t._valueTracker=tR(t))}function tE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=eE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Kc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function am(t,e){var n=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function X1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ni(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nE(t,e){e=e.checked,e!=null&&Qg(t,"checked",e,!1)}function lm(t,e){nE(t,e);var n=Ni(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?um(t,e.type,n):e.hasOwnProperty("defaultValue")&&um(t,e.type,Ni(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function J1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function um(t,e,n){(e!=="number"||Kc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Va=Array.isArray;function _o(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ni(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function cm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(V(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Z1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(V(92));if(Va(n)){if(1<n.length)throw Error(V(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ni(n)}}function rE(t,e){var n=Ni(e.value),r=Ni(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function e0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function iE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?iE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qu,sE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qu=Qu||document.createElement("div"),Qu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Sl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nR=["Webkit","ms","Moz","O"];Object.keys(Xa).forEach(function(t){nR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xa[e]=Xa[t]})});function oE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xa.hasOwnProperty(t)&&Xa[t]?(""+e).trim():e+"px"}function aE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=oE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rR=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fm(t,e){if(e){if(rR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(V(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(V(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(V(61))}if(e.style!=null&&typeof e.style!="object")throw Error(V(62))}}function hm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pm=null;function Zg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mm=null,So=null,Eo=null;function t0(t){if(t=cu(t)){if(typeof mm!="function")throw Error(V(280));var e=t.stateNode;e&&(e=sf(e),mm(t.stateNode,t.type,e))}}function lE(t){So?Eo?Eo.push(t):Eo=[t]:So=t}function uE(){if(So){var t=So,e=Eo;if(Eo=So=null,t0(t),e)for(t=0;t<e.length;t++)t0(e[t])}}function cE(t,e){return t(e)}function dE(){}var jh=!1;function fE(t,e,n){if(jh)return t(e,n);jh=!0;try{return cE(t,e,n)}finally{jh=!1,(So!==null||Eo!==null)&&(dE(),uE())}}function El(t,e){var n=t.stateNode;if(n===null)return null;var r=sf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(V(231,e,typeof n));return n}var gm=!1;if(qr)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){gm=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{gm=!1}function iR(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ja=!1,Gc=null,Qc=!1,ym=null,sR={onError:function(t){Ja=!0,Gc=t}};function oR(t,e,n,r,i,s,o,a,l){Ja=!1,Gc=null,iR.apply(sR,arguments)}function aR(t,e,n,r,i,s,o,a,l){if(oR.apply(this,arguments),Ja){if(Ja){var u=Gc;Ja=!1,Gc=null}else throw Error(V(198));Qc||(Qc=!0,ym=u)}}function $s(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function n0(t){if($s(t)!==t)throw Error(V(188))}function lR(t){var e=t.alternate;if(!e){if(e=$s(t),e===null)throw Error(V(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return n0(i),t;if(s===r)return n0(i),e;s=s.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?t:e}function pE(t){return t=lR(t),t!==null?mE(t):null}function mE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mE(t);if(e!==null)return e;t=t.sibling}return null}var gE=En.unstable_scheduleCallback,r0=En.unstable_cancelCallback,uR=En.unstable_shouldYield,cR=En.unstable_requestPaint,it=En.unstable_now,dR=En.unstable_getCurrentPriorityLevel,ey=En.unstable_ImmediatePriority,yE=En.unstable_UserBlockingPriority,Yc=En.unstable_NormalPriority,fR=En.unstable_LowPriority,vE=En.unstable_IdlePriority,ef=null,gr=null;function hR(t){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(ef,t,void 0,(t.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:gR,pR=Math.log,mR=Math.LN2;function gR(t){return t>>>=0,t===0?32:31-(pR(t)/mR|0)|0}var Yu=64,Xu=4194304;function za(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=za(a):(s&=o,s!==0&&(r=za(s)))}else o=n&~i,o!==0?r=za(o):s!==0&&(r=za(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jn(e),i=1<<n,r|=t[n],e&=~i;return r}function yR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Jn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=yR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function vm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wE(){var t=Yu;return Yu<<=1,!(Yu&4194240)&&(Yu=64),t}function Uh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function lu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jn(e),t[e]=n}function wR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ty(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Oe=0;function _E(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var SE,ny,EE,CE,TE,wm=!1,Ju=[],_i=null,Si=null,Ei=null,Cl=new Map,Tl=new Map,di=[],_R="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function i0(t,e){switch(t){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":Cl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(e.pointerId)}}function Ca(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=cu(e),e!==null&&ny(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function SR(t,e,n,r,i){switch(e){case"focusin":return _i=Ca(_i,t,e,n,r,i),!0;case"dragenter":return Si=Ca(Si,t,e,n,r,i),!0;case"mouseover":return Ei=Ca(Ei,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Cl.set(s,Ca(Cl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Tl.set(s,Ca(Tl.get(s)||null,t,e,n,r,i)),!0}return!1}function bE(t){var e=ss(t.target);if(e!==null){var n=$s(e);if(n!==null){if(e=n.tag,e===13){if(e=hE(n),e!==null){t.blockedOn=e,TE(t.priority,function(){EE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _c(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_m(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);pm=r,n.target.dispatchEvent(r),pm=null}else return e=cu(n),e!==null&&ny(e),t.blockedOn=n,!1;e.shift()}return!0}function s0(t,e,n){_c(t)&&n.delete(e)}function ER(){wm=!1,_i!==null&&_c(_i)&&(_i=null),Si!==null&&_c(Si)&&(Si=null),Ei!==null&&_c(Ei)&&(Ei=null),Cl.forEach(s0),Tl.forEach(s0)}function Ta(t,e){t.blockedOn===e&&(t.blockedOn=null,wm||(wm=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,ER)))}function bl(t){function e(i){return Ta(i,t)}if(0<Ju.length){Ta(Ju[0],t);for(var n=1;n<Ju.length;n++){var r=Ju[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_i!==null&&Ta(_i,t),Si!==null&&Ta(Si,t),Ei!==null&&Ta(Ei,t),Cl.forEach(e),Tl.forEach(e),n=0;n<di.length;n++)r=di[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<di.length&&(n=di[0],n.blockedOn===null);)bE(n),n.blockedOn===null&&di.shift()}var Co=ni.ReactCurrentBatchConfig,Jc=!0;function CR(t,e,n,r){var i=Oe,s=Co.transition;Co.transition=null;try{Oe=1,ry(t,e,n,r)}finally{Oe=i,Co.transition=s}}function TR(t,e,n,r){var i=Oe,s=Co.transition;Co.transition=null;try{Oe=4,ry(t,e,n,r)}finally{Oe=i,Co.transition=s}}function ry(t,e,n,r){if(Jc){var i=_m(t,e,n,r);if(i===null)Qh(t,e,r,Zc,n),i0(t,r);else if(SR(i,t,e,n,r))r.stopPropagation();else if(i0(t,r),e&4&&-1<_R.indexOf(t)){for(;i!==null;){var s=cu(i);if(s!==null&&SE(s),s=_m(t,e,n,r),s===null&&Qh(t,e,r,Zc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Qh(t,e,r,null,n)}}var Zc=null;function _m(t,e,n,r){if(Zc=null,t=Zg(r),t=ss(t),t!==null)if(e=$s(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zc=t,null}function IE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dR()){case ey:return 1;case yE:return 4;case Yc:case fR:return 16;case vE:return 536870912;default:return 16}default:return 16}}var vi=null,iy=null,Sc=null;function kE(){if(Sc)return Sc;var t,e=iy,n=e.length,r,i="value"in vi?vi.value:vi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Sc=i.slice(t,1<r?1-r:void 0)}function Ec(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zu(){return!0}function o0(){return!1}function In(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zu:o0,this.isPropagationStopped=o0,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zu)},persist:function(){},isPersistent:Zu}),e}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sy=In(ta),uu=Xe({},ta,{view:0,detail:0}),bR=In(uu),Fh,Vh,ba,tf=Xe({},uu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ba&&(ba&&t.type==="mousemove"?(Fh=t.screenX-ba.screenX,Vh=t.screenY-ba.screenY):Vh=Fh=0,ba=t),Fh)},movementY:function(t){return"movementY"in t?t.movementY:Vh}}),a0=In(tf),IR=Xe({},tf,{dataTransfer:0}),kR=In(IR),xR=Xe({},uu,{relatedTarget:0}),zh=In(xR),RR=Xe({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),AR=In(RR),PR=Xe({},ta,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OR=In(PR),LR=Xe({},ta,{data:0}),l0=In(LR),NR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $R(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MR[t])?!!e[t]:!1}function oy(){return $R}var jR=Xe({},uu,{key:function(t){if(t.key){var e=NR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ec(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?DR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oy,charCode:function(t){return t.type==="keypress"?Ec(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ec(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),UR=In(jR),FR=Xe({},tf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u0=In(FR),VR=Xe({},uu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oy}),zR=In(VR),HR=Xe({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),BR=In(HR),qR=Xe({},tf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WR=In(qR),KR=[9,13,27,32],ay=qr&&"CompositionEvent"in window,Za=null;qr&&"documentMode"in document&&(Za=document.documentMode);var GR=qr&&"TextEvent"in window&&!Za,xE=qr&&(!ay||Za&&8<Za&&11>=Za),c0=String.fromCharCode(32),d0=!1;function RE(t,e){switch(t){case"keyup":return KR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var so=!1;function QR(t,e){switch(t){case"compositionend":return AE(e);case"keypress":return e.which!==32?null:(d0=!0,c0);case"textInput":return t=e.data,t===c0&&d0?null:t;default:return null}}function YR(t,e){if(so)return t==="compositionend"||!ay&&RE(t,e)?(t=kE(),Sc=iy=vi=null,so=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xE&&e.locale!=="ko"?null:e.data;default:return null}}var XR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XR[t.type]:e==="textarea"}function PE(t,e,n,r){lE(r),e=ed(e,"onChange"),0<e.length&&(n=new sy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var el=null,Il=null;function JR(t){zE(t,0)}function nf(t){var e=lo(t);if(tE(e))return t}function ZR(t,e){if(t==="change")return e}var OE=!1;if(qr){var Hh;if(qr){var Bh="oninput"in document;if(!Bh){var h0=document.createElement("div");h0.setAttribute("oninput","return;"),Bh=typeof h0.oninput=="function"}Hh=Bh}else Hh=!1;OE=Hh&&(!document.documentMode||9<document.documentMode)}function p0(){el&&(el.detachEvent("onpropertychange",LE),Il=el=null)}function LE(t){if(t.propertyName==="value"&&nf(Il)){var e=[];PE(e,Il,t,Zg(t)),fE(JR,e)}}function eA(t,e,n){t==="focusin"?(p0(),el=e,Il=n,el.attachEvent("onpropertychange",LE)):t==="focusout"&&p0()}function tA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nf(Il)}function nA(t,e){if(t==="click")return nf(e)}function rA(t,e){if(t==="input"||t==="change")return nf(e)}function iA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tr=typeof Object.is=="function"?Object.is:iA;function kl(t,e){if(tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!nm.call(e,i)||!tr(t[i],e[i]))return!1}return!0}function m0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function g0(t,e){var n=m0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=m0(n)}}function NE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?NE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function DE(){for(var t=window,e=Kc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Kc(t.document)}return e}function ly(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sA(t){var e=DE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&NE(n.ownerDocument.documentElement,n)){if(r!==null&&ly(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=g0(n,s);var o=g0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oA=qr&&"documentMode"in document&&11>=document.documentMode,oo=null,Sm=null,tl=null,Em=!1;function y0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Em||oo==null||oo!==Kc(r)||(r=oo,"selectionStart"in r&&ly(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tl&&kl(tl,r)||(tl=r,r=ed(Sm,"onSelect"),0<r.length&&(e=new sy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=oo)))}function ec(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ao={animationend:ec("Animation","AnimationEnd"),animationiteration:ec("Animation","AnimationIteration"),animationstart:ec("Animation","AnimationStart"),transitionend:ec("Transition","TransitionEnd")},qh={},ME={};qr&&(ME=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function rf(t){if(qh[t])return qh[t];if(!ao[t])return t;var e=ao[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ME)return qh[t]=e[n];return t}var $E=rf("animationend"),jE=rf("animationiteration"),UE=rf("animationstart"),FE=rf("transitionend"),VE=new Map,v0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vi(t,e){VE.set(t,e),Ms(e,[t])}for(var Wh=0;Wh<v0.length;Wh++){var Kh=v0[Wh],aA=Kh.toLowerCase(),lA=Kh[0].toUpperCase()+Kh.slice(1);Vi(aA,"on"+lA)}Vi($E,"onAnimationEnd");Vi(jE,"onAnimationIteration");Vi(UE,"onAnimationStart");Vi("dblclick","onDoubleClick");Vi("focusin","onFocus");Vi("focusout","onBlur");Vi(FE,"onTransitionEnd");Mo("onMouseEnter",["mouseout","mouseover"]);Mo("onMouseLeave",["mouseout","mouseover"]);Mo("onPointerEnter",["pointerout","pointerover"]);Mo("onPointerLeave",["pointerout","pointerover"]);Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ha));function w0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aR(r,e,void 0,t),t.currentTarget=null}function zE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;w0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;w0(i,a,u),s=l}}}if(Qc)throw t=ym,Qc=!1,ym=null,t}function Ve(t,e){var n=e[km];n===void 0&&(n=e[km]=new Set);var r=t+"__bubble";n.has(r)||(HE(e,t,2,!1),n.add(r))}function Gh(t,e,n){var r=0;e&&(r|=4),HE(n,t,r,e)}var tc="_reactListening"+Math.random().toString(36).slice(2);function xl(t){if(!t[tc]){t[tc]=!0,YS.forEach(function(n){n!=="selectionchange"&&(uA.has(n)||Gh(n,!1,t),Gh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[tc]||(e[tc]=!0,Gh("selectionchange",!1,e))}}function HE(t,e,n,r){switch(IE(e)){case 1:var i=CR;break;case 4:i=TR;break;default:i=ry}n=i.bind(null,e,n,t),i=void 0,!gm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Qh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ss(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}fE(function(){var u=s,c=Zg(n),d=[];e:{var f=VE.get(t);if(f!==void 0){var h=sy,y=t;switch(t){case"keypress":if(Ec(n)===0)break e;case"keydown":case"keyup":h=UR;break;case"focusin":y="focus",h=zh;break;case"focusout":y="blur",h=zh;break;case"beforeblur":case"afterblur":h=zh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=a0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=kR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=zR;break;case $E:case jE:case UE:h=AR;break;case FE:h=BR;break;case"scroll":h=bR;break;case"wheel":h=WR;break;case"copy":case"cut":case"paste":h=OR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=u0}var p=(e&4)!==0,S=!p&&t==="scroll",g=p?f!==null?f+"Capture":null:f;p=[];for(var m=u,w;m!==null;){w=m;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,g!==null&&(_=El(m,g),_!=null&&p.push(Rl(m,_,w)))),S)break;m=m.return}0<p.length&&(f=new h(f,y,null,n,c),d.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==pm&&(y=n.relatedTarget||n.fromElement)&&(ss(y)||y[Wr]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(y=n.relatedTarget||n.toElement,h=u,y=y?ss(y):null,y!==null&&(S=$s(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=u),h!==y)){if(p=a0,_="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(p=u0,_="onPointerLeave",g="onPointerEnter",m="pointer"),S=h==null?f:lo(h),w=y==null?f:lo(y),f=new p(_,m+"leave",h,n,c),f.target=S,f.relatedTarget=w,_=null,ss(c)===u&&(p=new p(g,m+"enter",y,n,c),p.target=w,p.relatedTarget=S,_=p),S=_,h&&y)t:{for(p=h,g=y,m=0,w=p;w;w=Qs(w))m++;for(w=0,_=g;_;_=Qs(_))w++;for(;0<m-w;)p=Qs(p),m--;for(;0<w-m;)g=Qs(g),w--;for(;m--;){if(p===g||g!==null&&p===g.alternate)break t;p=Qs(p),g=Qs(g)}p=null}else p=null;h!==null&&_0(d,f,h,p,!1),y!==null&&S!==null&&_0(d,S,y,p,!0)}}e:{if(f=u?lo(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var C=ZR;else if(f0(f))if(OE)C=rA;else{C=tA;var T=eA}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=nA);if(C&&(C=C(t,u))){PE(d,C,n,c);break e}T&&T(t,f,u),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&um(f,"number",f.value)}switch(T=u?lo(u):window,t){case"focusin":(f0(T)||T.contentEditable==="true")&&(oo=T,Sm=u,tl=null);break;case"focusout":tl=Sm=oo=null;break;case"mousedown":Em=!0;break;case"contextmenu":case"mouseup":case"dragend":Em=!1,y0(d,n,c);break;case"selectionchange":if(oA)break;case"keydown":case"keyup":y0(d,n,c)}var I;if(ay)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else so?RE(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(xE&&n.locale!=="ko"&&(so||N!=="onCompositionStart"?N==="onCompositionEnd"&&so&&(I=kE()):(vi=c,iy="value"in vi?vi.value:vi.textContent,so=!0)),T=ed(u,N),0<T.length&&(N=new l0(N,t,null,n,c),d.push({event:N,listeners:T}),I?N.data=I:(I=AE(n),I!==null&&(N.data=I)))),(I=GR?QR(t,n):YR(t,n))&&(u=ed(u,"onBeforeInput"),0<u.length&&(c=new l0("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=I))}zE(d,e)})}function Rl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ed(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=El(t,n),s!=null&&r.unshift(Rl(t,s,i)),s=El(t,e),s!=null&&r.push(Rl(t,s,i))),t=t.return}return r}function Qs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=El(n,s),l!=null&&o.unshift(Rl(n,l,a))):i||(l=El(n,s),l!=null&&o.push(Rl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cA=/\r\n?/g,dA=/\u0000|\uFFFD/g;function S0(t){return(typeof t=="string"?t:""+t).replace(cA,`
`).replace(dA,"")}function nc(t,e,n){if(e=S0(e),S0(t)!==e&&n)throw Error(V(425))}function td(){}var Cm=null,Tm=null;function bm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Im=typeof setTimeout=="function"?setTimeout:void 0,fA=typeof clearTimeout=="function"?clearTimeout:void 0,E0=typeof Promise=="function"?Promise:void 0,hA=typeof queueMicrotask=="function"?queueMicrotask:typeof E0<"u"?function(t){return E0.resolve(null).then(t).catch(pA)}:Im;function pA(t){setTimeout(function(){throw t})}function Yh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),bl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);bl(e)}function Ci(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function C0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var na=Math.random().toString(36).slice(2),cr="__reactFiber$"+na,Al="__reactProps$"+na,Wr="__reactContainer$"+na,km="__reactEvents$"+na,mA="__reactListeners$"+na,gA="__reactHandles$"+na;function ss(t){var e=t[cr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wr]||n[cr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=C0(t);t!==null;){if(n=t[cr])return n;t=C0(t)}return e}t=n,n=t.parentNode}return null}function cu(t){return t=t[cr]||t[Wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function lo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(V(33))}function sf(t){return t[Al]||null}var xm=[],uo=-1;function zi(t){return{current:t}}function ze(t){0>uo||(t.current=xm[uo],xm[uo]=null,uo--)}function je(t,e){uo++,xm[uo]=t.current,t.current=e}var Di={},Gt=zi(Di),cn=zi(!1),Es=Di;function $o(t,e){var n=t.type.contextTypes;if(!n)return Di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function dn(t){return t=t.childContextTypes,t!=null}function nd(){ze(cn),ze(Gt)}function T0(t,e,n){if(Gt.current!==Di)throw Error(V(168));je(Gt,e),je(cn,n)}function BE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(V(108,eR(t)||"Unknown",i));return Xe({},n,r)}function rd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Di,Es=Gt.current,je(Gt,t),je(cn,cn.current),!0}function b0(t,e,n){var r=t.stateNode;if(!r)throw Error(V(169));n?(t=BE(t,e,Es),r.__reactInternalMemoizedMergedChildContext=t,ze(cn),ze(Gt),je(Gt,t)):ze(cn),je(cn,n)}var Nr=null,of=!1,Xh=!1;function qE(t){Nr===null?Nr=[t]:Nr.push(t)}function yA(t){of=!0,qE(t)}function Hi(){if(!Xh&&Nr!==null){Xh=!0;var t=0,e=Oe;try{var n=Nr;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nr=null,of=!1}catch(i){throw Nr!==null&&(Nr=Nr.slice(t+1)),gE(ey,Hi),i}finally{Oe=e,Xh=!1}}return null}var co=[],fo=0,id=null,sd=0,Pn=[],On=0,Cs=null,Mr=1,$r="";function es(t,e){co[fo++]=sd,co[fo++]=id,id=t,sd=e}function WE(t,e,n){Pn[On++]=Mr,Pn[On++]=$r,Pn[On++]=Cs,Cs=t;var r=Mr;t=$r;var i=32-Jn(r)-1;r&=~(1<<i),n+=1;var s=32-Jn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Mr=1<<32-Jn(e)+i|n<<i|r,$r=s+t}else Mr=1<<s|n<<i|r,$r=t}function uy(t){t.return!==null&&(es(t,1),WE(t,1,0))}function cy(t){for(;t===id;)id=co[--fo],co[fo]=null,sd=co[--fo],co[fo]=null;for(;t===Cs;)Cs=Pn[--On],Pn[On]=null,$r=Pn[--On],Pn[On]=null,Mr=Pn[--On],Pn[On]=null}var _n=null,vn=null,qe=!1,Gn=null;function KE(t,e){var n=Ln(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function I0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_n=t,vn=Ci(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_n=t,vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Cs!==null?{id:Mr,overflow:$r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ln(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_n=t,vn=null,!0):!1;default:return!1}}function Rm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Am(t){if(qe){var e=vn;if(e){var n=e;if(!I0(t,e)){if(Rm(t))throw Error(V(418));e=Ci(n.nextSibling);var r=_n;e&&I0(t,e)?KE(r,n):(t.flags=t.flags&-4097|2,qe=!1,_n=t)}}else{if(Rm(t))throw Error(V(418));t.flags=t.flags&-4097|2,qe=!1,_n=t}}}function k0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_n=t}function rc(t){if(t!==_n)return!1;if(!qe)return k0(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bm(t.type,t.memoizedProps)),e&&(e=vn)){if(Rm(t))throw GE(),Error(V(418));for(;e;)KE(t,e),e=Ci(e.nextSibling)}if(k0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(V(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vn=Ci(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vn=null}}else vn=_n?Ci(t.stateNode.nextSibling):null;return!0}function GE(){for(var t=vn;t;)t=Ci(t.nextSibling)}function jo(){vn=_n=null,qe=!1}function dy(t){Gn===null?Gn=[t]:Gn.push(t)}var vA=ni.ReactCurrentBatchConfig;function Wn(t,e){if(t&&t.defaultProps){e=Xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var od=zi(null),ad=null,ho=null,fy=null;function hy(){fy=ho=ad=null}function py(t){var e=od.current;ze(od),t._currentValue=e}function Pm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function To(t,e){ad=t,fy=ho=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(un=!0),t.firstContext=null)}function $n(t){var e=t._currentValue;if(fy!==t)if(t={context:t,memoizedValue:e,next:null},ho===null){if(ad===null)throw Error(V(308));ho=t,ad.dependencies={lanes:0,firstContext:t}}else ho=ho.next=t;return e}var os=null;function my(t){os===null?os=[t]:os.push(t)}function QE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,my(e)):(n.next=i.next,i.next=n),e.interleaved=n,Kr(t,r)}function Kr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ci=!1;function gy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Kr(t,n)}return i=r.interleaved,i===null?(e.next=e,my(r)):(e.next=i.next,i.next=e),r.interleaved=e,Kr(t,n)}function Cc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ty(t,n)}}function x0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ld(t,e,n,r){var i=t.updateQueue;ci=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,p=a;switch(f=e,h=n,p.tag){case 1:if(y=p.payload,typeof y=="function"){d=y.call(h,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=p.payload,f=typeof y=="function"?y.call(h,d,f):y,f==null)break e;d=Xe({},d,f);break e;case 2:ci=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);bs|=o,t.lanes=o,t.memoizedState=d}}function R0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var XE=new QS.Component().refs;function Om(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var af={isMounted:function(t){return(t=t._reactInternals)?$s(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nn(),i=Ii(t),s=Vr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ti(t,s,i),e!==null&&(Zn(e,t,i,r),Cc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nn(),i=Ii(t),s=Vr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ti(t,s,i),e!==null&&(Zn(e,t,i,r),Cc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nn(),r=Ii(t),i=Vr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ti(t,i,r),e!==null&&(Zn(e,t,r,n),Cc(e,t,r))}};function A0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!kl(n,r)||!kl(i,s):!0}function JE(t,e,n){var r=!1,i=Di,s=e.contextType;return typeof s=="object"&&s!==null?s=$n(s):(i=dn(e)?Es:Gt.current,r=e.contextTypes,s=(r=r!=null)?$o(t,i):Di),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=af,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function P0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&af.enqueueReplaceState(e,e.state,null)}function Lm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=XE,gy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=$n(s):(s=dn(e)?Es:Gt.current,i.context=$o(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Om(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&af.enqueueReplaceState(i,i.state,null),ld(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ia(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===XE&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,t))}return t}function ic(t,e){throw t=Object.prototype.toString.call(e),Error(V(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function O0(t){var e=t._init;return e(t._payload)}function ZE(t){function e(g,m){if(t){var w=g.deletions;w===null?(g.deletions=[m],g.flags|=16):w.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=ki(g,m),g.index=0,g.sibling=null,g}function s(g,m,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<m?(g.flags|=2,m):w):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,w,_){return m===null||m.tag!==6?(m=ip(w,g.mode,_),m.return=g,m):(m=i(m,w),m.return=g,m)}function l(g,m,w,_){var C=w.type;return C===io?c(g,m,w.props.children,_,w.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ui&&O0(C)===m.type)?(_=i(m,w.props),_.ref=Ia(g,m,w),_.return=g,_):(_=Rc(w.type,w.key,w.props,null,g.mode,_),_.ref=Ia(g,m,w),_.return=g,_)}function u(g,m,w,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=sp(w,g.mode,_),m.return=g,m):(m=i(m,w.children||[]),m.return=g,m)}function c(g,m,w,_,C){return m===null||m.tag!==7?(m=gs(w,g.mode,_,C),m.return=g,m):(m=i(m,w),m.return=g,m)}function d(g,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ip(""+m,g.mode,w),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ku:return w=Rc(m.type,m.key,m.props,null,g.mode,w),w.ref=Ia(g,null,m),w.return=g,w;case ro:return m=sp(m,g.mode,w),m.return=g,m;case ui:var _=m._init;return d(g,_(m._payload),w)}if(Va(m)||Sa(m))return m=gs(m,g.mode,w,null),m.return=g,m;ic(g,m)}return null}function f(g,m,w,_){var C=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:a(g,m,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ku:return w.key===C?l(g,m,w,_):null;case ro:return w.key===C?u(g,m,w,_):null;case ui:return C=w._init,f(g,m,C(w._payload),_)}if(Va(w)||Sa(w))return C!==null?null:c(g,m,w,_,null);ic(g,w)}return null}function h(g,m,w,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(w)||null,a(m,g,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ku:return g=g.get(_.key===null?w:_.key)||null,l(m,g,_,C);case ro:return g=g.get(_.key===null?w:_.key)||null,u(m,g,_,C);case ui:var T=_._init;return h(g,m,w,T(_._payload),C)}if(Va(_)||Sa(_))return g=g.get(w)||null,c(m,g,_,C,null);ic(m,_)}return null}function y(g,m,w,_){for(var C=null,T=null,I=m,N=m=0,A=null;I!==null&&N<w.length;N++){I.index>N?(A=I,I=null):A=I.sibling;var D=f(g,I,w[N],_);if(D===null){I===null&&(I=A);break}t&&I&&D.alternate===null&&e(g,I),m=s(D,m,N),T===null?C=D:T.sibling=D,T=D,I=A}if(N===w.length)return n(g,I),qe&&es(g,N),C;if(I===null){for(;N<w.length;N++)I=d(g,w[N],_),I!==null&&(m=s(I,m,N),T===null?C=I:T.sibling=I,T=I);return qe&&es(g,N),C}for(I=r(g,I);N<w.length;N++)A=h(I,g,N,w[N],_),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?N:A.key),m=s(A,m,N),T===null?C=A:T.sibling=A,T=A);return t&&I.forEach(function(G){return e(g,G)}),qe&&es(g,N),C}function p(g,m,w,_){var C=Sa(w);if(typeof C!="function")throw Error(V(150));if(w=C.call(w),w==null)throw Error(V(151));for(var T=C=null,I=m,N=m=0,A=null,D=w.next();I!==null&&!D.done;N++,D=w.next()){I.index>N?(A=I,I=null):A=I.sibling;var G=f(g,I,D.value,_);if(G===null){I===null&&(I=A);break}t&&I&&G.alternate===null&&e(g,I),m=s(G,m,N),T===null?C=G:T.sibling=G,T=G,I=A}if(D.done)return n(g,I),qe&&es(g,N),C;if(I===null){for(;!D.done;N++,D=w.next())D=d(g,D.value,_),D!==null&&(m=s(D,m,N),T===null?C=D:T.sibling=D,T=D);return qe&&es(g,N),C}for(I=r(g,I);!D.done;N++,D=w.next())D=h(I,g,N,D.value,_),D!==null&&(t&&D.alternate!==null&&I.delete(D.key===null?N:D.key),m=s(D,m,N),T===null?C=D:T.sibling=D,T=D);return t&&I.forEach(function(B){return e(g,B)}),qe&&es(g,N),C}function S(g,m,w,_){if(typeof w=="object"&&w!==null&&w.type===io&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ku:e:{for(var C=w.key,T=m;T!==null;){if(T.key===C){if(C=w.type,C===io){if(T.tag===7){n(g,T.sibling),m=i(T,w.props.children),m.return=g,g=m;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ui&&O0(C)===T.type){n(g,T.sibling),m=i(T,w.props),m.ref=Ia(g,T,w),m.return=g,g=m;break e}n(g,T);break}else e(g,T);T=T.sibling}w.type===io?(m=gs(w.props.children,g.mode,_,w.key),m.return=g,g=m):(_=Rc(w.type,w.key,w.props,null,g.mode,_),_.ref=Ia(g,m,w),_.return=g,g=_)}return o(g);case ro:e:{for(T=w.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){n(g,m.sibling),m=i(m,w.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=sp(w,g.mode,_),m.return=g,g=m}return o(g);case ui:return T=w._init,S(g,m,T(w._payload),_)}if(Va(w))return y(g,m,w,_);if(Sa(w))return p(g,m,w,_);ic(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,w),m.return=g,g=m):(n(g,m),m=ip(w,g.mode,_),m.return=g,g=m),o(g)):n(g,m)}return S}var Uo=ZE(!0),eC=ZE(!1),du={},yr=zi(du),Pl=zi(du),Ol=zi(du);function as(t){if(t===du)throw Error(V(174));return t}function yy(t,e){switch(je(Ol,e),je(Pl,t),je(yr,du),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dm(e,t)}ze(yr),je(yr,e)}function Fo(){ze(yr),ze(Pl),ze(Ol)}function tC(t){as(Ol.current);var e=as(yr.current),n=dm(e,t.type);e!==n&&(je(Pl,t),je(yr,n))}function vy(t){Pl.current===t&&(ze(yr),ze(Pl))}var Qe=zi(0);function ud(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jh=[];function wy(){for(var t=0;t<Jh.length;t++)Jh[t]._workInProgressVersionPrimary=null;Jh.length=0}var Tc=ni.ReactCurrentDispatcher,Zh=ni.ReactCurrentBatchConfig,Ts=0,Ye=null,mt=null,Et=null,cd=!1,nl=!1,Ll=0,wA=0;function $t(){throw Error(V(321))}function _y(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tr(t[n],e[n]))return!1;return!0}function Sy(t,e,n,r,i,s){if(Ts=s,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tc.current=t===null||t.memoizedState===null?CA:TA,t=n(r,i),nl){s=0;do{if(nl=!1,Ll=0,25<=s)throw Error(V(301));s+=1,Et=mt=null,e.updateQueue=null,Tc.current=bA,t=n(r,i)}while(nl)}if(Tc.current=dd,e=mt!==null&&mt.next!==null,Ts=0,Et=mt=Ye=null,cd=!1,e)throw Error(V(300));return t}function Ey(){var t=Ll!==0;return Ll=0,t}function lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ye.memoizedState=Et=t:Et=Et.next=t,Et}function jn(){if(mt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=Et===null?Ye.memoizedState:Et.next;if(e!==null)Et=e,mt=t;else{if(t===null)throw Error(V(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Et===null?Ye.memoizedState=Et=t:Et=Et.next=t}return Et}function Nl(t,e){return typeof e=="function"?e(t):e}function ep(t){var e=jn(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=mt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ts&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ye.lanes|=c,bs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,tr(r,e.memoizedState)||(un=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ye.lanes|=s,bs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function tp(t){var e=jn(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);tr(s,e.memoizedState)||(un=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function nC(){}function rC(t,e){var n=Ye,r=jn(),i=e(),s=!tr(r.memoizedState,i);if(s&&(r.memoizedState=i,un=!0),r=r.queue,Cy(oC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,Dl(9,sC.bind(null,n,r,i,e),void 0,null),Tt===null)throw Error(V(349));Ts&30||iC(n,e,i)}return i}function iC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sC(t,e,n,r){e.value=n,e.getSnapshot=r,aC(e)&&lC(t)}function oC(t,e,n){return n(function(){aC(e)&&lC(t)})}function aC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tr(t,n)}catch{return!0}}function lC(t){var e=Kr(t,1);e!==null&&Zn(e,t,1,-1)}function L0(t){var e=lr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:t},e.queue=t,t=t.dispatch=EA.bind(null,Ye,t),[e.memoizedState,t]}function Dl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uC(){return jn().memoizedState}function bc(t,e,n,r){var i=lr();Ye.flags|=t,i.memoizedState=Dl(1|e,n,void 0,r===void 0?null:r)}function lf(t,e,n,r){var i=jn();r=r===void 0?null:r;var s=void 0;if(mt!==null){var o=mt.memoizedState;if(s=o.destroy,r!==null&&_y(r,o.deps)){i.memoizedState=Dl(e,n,s,r);return}}Ye.flags|=t,i.memoizedState=Dl(1|e,n,s,r)}function N0(t,e){return bc(8390656,8,t,e)}function Cy(t,e){return lf(2048,8,t,e)}function cC(t,e){return lf(4,2,t,e)}function dC(t,e){return lf(4,4,t,e)}function fC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hC(t,e,n){return n=n!=null?n.concat([t]):null,lf(4,4,fC.bind(null,e,t),n)}function Ty(){}function pC(t,e){var n=jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_y(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function mC(t,e){var n=jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_y(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gC(t,e,n){return Ts&21?(tr(n,e)||(n=wE(),Ye.lanes|=n,bs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,un=!0),t.memoizedState=n)}function _A(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=Zh.transition;Zh.transition={};try{t(!1),e()}finally{Oe=n,Zh.transition=r}}function yC(){return jn().memoizedState}function SA(t,e,n){var r=Ii(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vC(t))wC(e,n);else if(n=QE(t,e,n,r),n!==null){var i=nn();Zn(n,t,r,i),_C(n,e,r)}}function EA(t,e,n){var r=Ii(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vC(t))wC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,tr(a,o)){var l=e.interleaved;l===null?(i.next=i,my(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=QE(t,e,i,r),n!==null&&(i=nn(),Zn(n,t,r,i),_C(n,e,r))}}function vC(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function wC(t,e){nl=cd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _C(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ty(t,n)}}var dd={readContext:$n,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},CA={readContext:$n,useCallback:function(t,e){return lr().memoizedState=[t,e===void 0?null:e],t},useContext:$n,useEffect:N0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bc(4194308,4,fC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bc(4194308,4,t,e)},useInsertionEffect:function(t,e){return bc(4,2,t,e)},useMemo:function(t,e){var n=lr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=lr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SA.bind(null,Ye,t),[r.memoizedState,t]},useRef:function(t){var e=lr();return t={current:t},e.memoizedState=t},useState:L0,useDebugValue:Ty,useDeferredValue:function(t){return lr().memoizedState=t},useTransition:function(){var t=L0(!1),e=t[0];return t=_A.bind(null,t[1]),lr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ye,i=lr();if(qe){if(n===void 0)throw Error(V(407));n=n()}else{if(n=e(),Tt===null)throw Error(V(349));Ts&30||iC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,N0(oC.bind(null,r,s,t),[t]),r.flags|=2048,Dl(9,sC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=lr(),e=Tt.identifierPrefix;if(qe){var n=$r,r=Mr;n=(r&~(1<<32-Jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ll++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},TA={readContext:$n,useCallback:pC,useContext:$n,useEffect:Cy,useImperativeHandle:hC,useInsertionEffect:cC,useLayoutEffect:dC,useMemo:mC,useReducer:ep,useRef:uC,useState:function(){return ep(Nl)},useDebugValue:Ty,useDeferredValue:function(t){var e=jn();return gC(e,mt.memoizedState,t)},useTransition:function(){var t=ep(Nl)[0],e=jn().memoizedState;return[t,e]},useMutableSource:nC,useSyncExternalStore:rC,useId:yC,unstable_isNewReconciler:!1},bA={readContext:$n,useCallback:pC,useContext:$n,useEffect:Cy,useImperativeHandle:hC,useInsertionEffect:cC,useLayoutEffect:dC,useMemo:mC,useReducer:tp,useRef:uC,useState:function(){return tp(Nl)},useDebugValue:Ty,useDeferredValue:function(t){var e=jn();return mt===null?e.memoizedState=t:gC(e,mt.memoizedState,t)},useTransition:function(){var t=tp(Nl)[0],e=jn().memoizedState;return[t,e]},useMutableSource:nC,useSyncExternalStore:rC,useId:yC,unstable_isNewReconciler:!1};function Vo(t,e){try{var n="",r=e;do n+=Zx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function np(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Nm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var IA=typeof WeakMap=="function"?WeakMap:Map;function SC(t,e,n){n=Vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hd||(hd=!0,Bm=r),Nm(t,e)},n}function EC(t,e,n){n=Vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Nm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Nm(t,e),typeof r!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function D0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new IA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=FA.bind(null,t,e,n),e.then(t,t))}function M0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vr(-1,1),e.tag=2,Ti(n,e,1))),n.lanes|=1),t)}var kA=ni.ReactCurrentOwner,un=!1;function Zt(t,e,n,r){e.child=t===null?eC(e,null,n,r):Uo(e,t.child,n,r)}function j0(t,e,n,r,i){n=n.render;var s=e.ref;return To(e,i),r=Sy(t,e,n,r,s,i),n=Ey(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gr(t,e,i)):(qe&&n&&uy(e),e.flags|=1,Zt(t,e,r,i),e.child)}function U0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Oy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,CC(t,e,s,r,i)):(t=Rc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:kl,n(o,r)&&t.ref===e.ref)return Gr(t,e,i)}return e.flags|=1,t=ki(s,r),t.ref=e.ref,t.return=e,e.child=t}function CC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(kl(s,r)&&t.ref===e.ref)if(un=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(un=!0);else return e.lanes=t.lanes,Gr(t,e,i)}return Dm(t,e,n,r,i)}function TC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(mo,yn),yn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(mo,yn),yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,je(mo,yn),yn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,je(mo,yn),yn|=r;return Zt(t,e,i,n),e.child}function bC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Dm(t,e,n,r,i){var s=dn(n)?Es:Gt.current;return s=$o(e,s),To(e,i),n=Sy(t,e,n,r,s,i),r=Ey(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gr(t,e,i)):(qe&&r&&uy(e),e.flags|=1,Zt(t,e,n,i),e.child)}function F0(t,e,n,r,i){if(dn(n)){var s=!0;rd(e)}else s=!1;if(To(e,i),e.stateNode===null)Ic(t,e),JE(e,n,r),Lm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=$n(u):(u=dn(n)?Es:Gt.current,u=$o(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&P0(e,o,r,u),ci=!1;var f=e.memoizedState;o.state=f,ld(e,r,o,i),l=e.memoizedState,a!==r||f!==l||cn.current||ci?(typeof c=="function"&&(Om(e,n,c,r),l=e.memoizedState),(a=ci||A0(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,YE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Wn(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=$n(l):(l=dn(n)?Es:Gt.current,l=$o(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&P0(e,o,r,l),ci=!1,f=e.memoizedState,o.state=f,ld(e,r,o,i);var y=e.memoizedState;a!==d||f!==y||cn.current||ci?(typeof h=="function"&&(Om(e,n,h,r),y=e.memoizedState),(u=ci||A0(e,n,u,r,f,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Mm(t,e,n,r,s,i)}function Mm(t,e,n,r,i,s){bC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&b0(e,n,!1),Gr(t,e,s);r=e.stateNode,kA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Uo(e,t.child,null,s),e.child=Uo(e,null,a,s)):Zt(t,e,a,s),e.memoizedState=r.state,i&&b0(e,n,!0),e.child}function IC(t){var e=t.stateNode;e.pendingContext?T0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&T0(t,e.context,!1),yy(t,e.containerInfo)}function V0(t,e,n,r,i){return jo(),dy(i),e.flags|=256,Zt(t,e,n,r),e.child}var $m={dehydrated:null,treeContext:null,retryLane:0};function jm(t){return{baseLanes:t,cachePool:null,transitions:null}}function kC(t,e,n){var r=e.pendingProps,i=Qe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),je(Qe,i&1),t===null)return Am(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=df(o,r,0,null),t=gs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=jm(n),e.memoizedState=$m,t):by(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return xA(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ki(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ki(a,s):(s=gs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?jm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=$m,r}return s=t.child,t=s.sibling,r=ki(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function by(t,e){return e=df({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sc(t,e,n,r){return r!==null&&dy(r),Uo(e,t.child,null,n),t=by(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xA(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=np(Error(V(422))),sc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=df({mode:"visible",children:r.children},i,0,null),s=gs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Uo(e,t.child,null,o),e.child.memoizedState=jm(o),e.memoizedState=$m,s);if(!(e.mode&1))return sc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(V(419)),r=np(s,r,void 0),sc(t,e,o,r)}if(a=(o&t.childLanes)!==0,un||a){if(r=Tt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Kr(t,i),Zn(r,t,i,-1))}return Py(),r=np(Error(V(421))),sc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=VA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,vn=Ci(i.nextSibling),_n=e,qe=!0,Gn=null,t!==null&&(Pn[On++]=Mr,Pn[On++]=$r,Pn[On++]=Cs,Mr=t.id,$r=t.overflow,Cs=e),e=by(e,r.children),e.flags|=4096,e)}function z0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Pm(t.return,e,n)}function rp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function xC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Zt(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&z0(t,n,e);else if(t.tag===19)z0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ud(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ud(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rp(e,!0,n,null,s);break;case"together":rp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ic(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(V(153));if(e.child!==null){for(t=e.child,n=ki(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ki(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function RA(t,e,n){switch(e.tag){case 3:IC(e),jo();break;case 5:tC(e);break;case 1:dn(e.type)&&rd(e);break;case 4:yy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;je(od,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?kC(t,e,n):(je(Qe,Qe.current&1),t=Gr(t,e,n),t!==null?t.sibling:null);je(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,TC(t,e,n)}return Gr(t,e,n)}var RC,Um,AC,PC;RC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Um=function(){};AC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,as(yr.current);var s=null;switch(n){case"input":i=am(t,i),r=am(t,r),s=[];break;case"select":i=Xe({},i,{value:void 0}),r=Xe({},r,{value:void 0}),s=[];break;case"textarea":i=cm(t,i),r=cm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=td)}fm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_l.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_l.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ve("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};PC=function(t,e,n,r){n!==r&&(e.flags|=4)};function ka(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AA(t,e,n){var r=e.pendingProps;switch(cy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return dn(e.type)&&nd(),jt(e),null;case 3:return r=e.stateNode,Fo(),ze(cn),ze(Gt),wy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gn!==null&&(Km(Gn),Gn=null))),Um(t,e),jt(e),null;case 5:vy(e);var i=as(Ol.current);if(n=e.type,t!==null&&e.stateNode!=null)AC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(V(166));return jt(e),null}if(t=as(yr.current),rc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[cr]=e,r[Al]=s,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<Ha.length;i++)Ve(Ha[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":X1(r,s),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ve("invalid",r);break;case"textarea":Z1(r,s),Ve("invalid",r)}fm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&nc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&nc(r.textContent,a,t),i=["children",""+a]):_l.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ve("scroll",r)}switch(n){case"input":Gu(r),J1(r,s,!0);break;case"textarea":Gu(r),e0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=td)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=iE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[cr]=e,t[Al]=r,RC(t,e,!1,!1),e.stateNode=t;e:{switch(o=hm(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),i=r;break;case"iframe":case"object":case"embed":Ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ha.length;i++)Ve(Ha[i],t);i=r;break;case"source":Ve("error",t),i=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),i=r;break;case"details":Ve("toggle",t),i=r;break;case"input":X1(t,r),i=am(t,r),Ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Xe({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":Z1(t,r),i=cm(t,r),Ve("invalid",t);break;default:i=r}fm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?aE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Sl(t,l):typeof l=="number"&&Sl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_l.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ve("scroll",t):l!=null&&Qg(t,s,l,o))}switch(n){case"input":Gu(t),J1(t,r,!1);break;case"textarea":Gu(t),e0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ni(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?_o(t,!!r.multiple,s,!1):r.defaultValue!=null&&_o(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=td)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)PC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(V(166));if(n=as(Ol.current),as(yr.current),rc(e)){if(r=e.stateNode,n=e.memoizedProps,r[cr]=e,(s=r.nodeValue!==n)&&(t=_n,t!==null))switch(t.tag){case 3:nc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cr]=e,e.stateNode=r}return jt(e),null;case 13:if(ze(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&vn!==null&&e.mode&1&&!(e.flags&128))GE(),jo(),e.flags|=98560,s=!1;else if(s=rc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(V(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(V(317));s[cr]=e}else jo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),s=!1}else Gn!==null&&(Km(Gn),Gn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?yt===0&&(yt=3):Py())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return Fo(),Um(t,e),t===null&&xl(e.stateNode.containerInfo),jt(e),null;case 10:return py(e.type._context),jt(e),null;case 17:return dn(e.type)&&nd(),jt(e),null;case 19:if(ze(Qe),s=e.memoizedState,s===null)return jt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ka(s,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ud(t),o!==null){for(e.flags|=128,ka(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(Qe,Qe.current&1|2),e.child}t=t.sibling}s.tail!==null&&it()>zo&&(e.flags|=128,r=!0,ka(s,!1),e.lanes=4194304)}else{if(!r)if(t=ud(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ka(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!qe)return jt(e),null}else 2*it()-s.renderingStartTime>zo&&n!==1073741824&&(e.flags|=128,r=!0,ka(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=it(),e.sibling=null,n=Qe.current,je(Qe,r?n&1|2:n&1),e):(jt(e),null);case 22:case 23:return Ay(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yn&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(V(156,e.tag))}function PA(t,e){switch(cy(e),e.tag){case 1:return dn(e.type)&&nd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fo(),ze(cn),ze(Gt),wy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vy(e),null;case 13:if(ze(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(V(340));jo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(Qe),null;case 4:return Fo(),null;case 10:return py(e.type._context),null;case 22:case 23:return Ay(),null;case 24:return null;default:return null}}var oc=!1,zt=!1,OA=typeof WeakSet=="function"?WeakSet:Set,Q=null;function po(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(t,e,r)}else n.current=null}function Fm(t,e,n){try{n()}catch(r){Ze(t,e,r)}}var H0=!1;function LA(t,e){if(Cm=Jc,t=DE(),ly(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tm={focusedElem:t,selectionRange:n},Jc=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var p=y.memoizedProps,S=y.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?p:Wn(e.type,p),S);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(_){Ze(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return y=H0,H0=!1,y}function rl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Fm(e,n,s)}i=i.next}while(i!==r)}}function uf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function OC(t){var e=t.alternate;e!==null&&(t.alternate=null,OC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cr],delete e[Al],delete e[km],delete e[mA],delete e[gA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function LC(t){return t.tag===5||t.tag===3||t.tag===4}function B0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||LC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=td));else if(r!==4&&(t=t.child,t!==null))for(zm(t,e,n),t=t.sibling;t!==null;)zm(t,e,n),t=t.sibling}function Hm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hm(t,e,n),t=t.sibling;t!==null;)Hm(t,e,n),t=t.sibling}var xt=null,Kn=!1;function ai(t,e,n){for(n=n.child;n!==null;)NC(t,e,n),n=n.sibling}function NC(t,e,n){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(ef,n)}catch{}switch(n.tag){case 5:zt||po(n,e);case 6:var r=xt,i=Kn;xt=null,ai(t,e,n),xt=r,Kn=i,xt!==null&&(Kn?(t=xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xt.removeChild(n.stateNode));break;case 18:xt!==null&&(Kn?(t=xt,n=n.stateNode,t.nodeType===8?Yh(t.parentNode,n):t.nodeType===1&&Yh(t,n),bl(t)):Yh(xt,n.stateNode));break;case 4:r=xt,i=Kn,xt=n.stateNode.containerInfo,Kn=!0,ai(t,e,n),xt=r,Kn=i;break;case 0:case 11:case 14:case 15:if(!zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Fm(n,e,o),i=i.next}while(i!==r)}ai(t,e,n);break;case 1:if(!zt&&(po(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ze(n,e,a)}ai(t,e,n);break;case 21:ai(t,e,n);break;case 22:n.mode&1?(zt=(r=zt)||n.memoizedState!==null,ai(t,e,n),zt=r):ai(t,e,n);break;default:ai(t,e,n)}}function q0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new OA),e.forEach(function(r){var i=zA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:xt=a.stateNode,Kn=!1;break e;case 3:xt=a.stateNode.containerInfo,Kn=!0;break e;case 4:xt=a.stateNode.containerInfo,Kn=!0;break e}a=a.return}if(xt===null)throw Error(V(160));NC(s,o,i),xt=null,Kn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ze(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DC(e,t),e=e.sibling}function DC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qn(e,t),ar(t),r&4){try{rl(3,t,t.return),uf(3,t)}catch(p){Ze(t,t.return,p)}try{rl(5,t,t.return)}catch(p){Ze(t,t.return,p)}}break;case 1:qn(e,t),ar(t),r&512&&n!==null&&po(n,n.return);break;case 5:if(qn(e,t),ar(t),r&512&&n!==null&&po(n,n.return),t.flags&32){var i=t.stateNode;try{Sl(i,"")}catch(p){Ze(t,t.return,p)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&nE(i,s),hm(a,o);var u=hm(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?aE(i,d):c==="dangerouslySetInnerHTML"?sE(i,d):c==="children"?Sl(i,d):Qg(i,c,d,u)}switch(a){case"input":lm(i,s);break;case"textarea":rE(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?_o(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?_o(i,!!s.multiple,s.defaultValue,!0):_o(i,!!s.multiple,s.multiple?[]:"",!1))}i[Al]=s}catch(p){Ze(t,t.return,p)}}break;case 6:if(qn(e,t),ar(t),r&4){if(t.stateNode===null)throw Error(V(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(p){Ze(t,t.return,p)}}break;case 3:if(qn(e,t),ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bl(e.containerInfo)}catch(p){Ze(t,t.return,p)}break;case 4:qn(e,t),ar(t);break;case 13:qn(e,t),ar(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(xy=it())),r&4&&q0(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(zt=(u=zt)||c,qn(e,t),zt=u):qn(e,t),ar(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Q=t,c=t.child;c!==null;){for(d=Q=c;Q!==null;){switch(f=Q,h=f.child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:po(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(p){Ze(r,n,p)}}break;case 5:po(f,f.return);break;case 22:if(f.memoizedState!==null){K0(d);continue}}h!==null?(h.return=f,Q=h):K0(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=oE("display",o))}catch(p){Ze(t,t.return,p)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){Ze(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:qn(e,t),ar(t),r&4&&q0(t);break;case 21:break;default:qn(e,t),ar(t)}}function ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(LC(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Sl(i,""),r.flags&=-33);var s=B0(t);Hm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=B0(t);zm(t,a,o);break;default:throw Error(V(161))}}catch(l){Ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function NA(t,e,n){Q=t,MC(t)}function MC(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||oc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||zt;a=oc;var u=zt;if(oc=o,(zt=l)&&!u)for(Q=i;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?G0(i):l!==null?(l.return=o,Q=l):G0(i);for(;s!==null;)Q=s,MC(s),s=s.sibling;Q=i,oc=a,zt=u}W0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):W0(t)}}function W0(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||uf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&R0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}R0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&bl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}zt||e.flags&512&&Vm(e)}catch(f){Ze(e,e.return,f)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function K0(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function G0(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{uf(4,e)}catch(l){Ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ze(e,i,l)}}var s=e.return;try{Vm(e)}catch(l){Ze(e,s,l)}break;case 5:var o=e.return;try{Vm(e)}catch(l){Ze(e,o,l)}}}catch(l){Ze(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var DA=Math.ceil,fd=ni.ReactCurrentDispatcher,Iy=ni.ReactCurrentOwner,Nn=ni.ReactCurrentBatchConfig,ke=0,Tt=null,ut=null,At=0,yn=0,mo=zi(0),yt=0,Ml=null,bs=0,cf=0,ky=0,il=null,an=null,xy=0,zo=1/0,Pr=null,hd=!1,Bm=null,bi=null,ac=!1,wi=null,pd=0,sl=0,qm=null,kc=-1,xc=0;function nn(){return ke&6?it():kc!==-1?kc:kc=it()}function Ii(t){return t.mode&1?ke&2&&At!==0?At&-At:vA.transition!==null?(xc===0&&(xc=wE()),xc):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:IE(t.type)),t):1}function Zn(t,e,n,r){if(50<sl)throw sl=0,qm=null,Error(V(185));lu(t,n,r),(!(ke&2)||t!==Tt)&&(t===Tt&&(!(ke&2)&&(cf|=n),yt===4&&fi(t,At)),fn(t,r),n===1&&ke===0&&!(e.mode&1)&&(zo=it()+500,of&&Hi()))}function fn(t,e){var n=t.callbackNode;vR(t,e);var r=Xc(t,t===Tt?At:0);if(r===0)n!==null&&r0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&r0(n),e===1)t.tag===0?yA(Q0.bind(null,t)):qE(Q0.bind(null,t)),hA(function(){!(ke&6)&&Hi()}),n=null;else{switch(_E(r)){case 1:n=ey;break;case 4:n=yE;break;case 16:n=Yc;break;case 536870912:n=vE;break;default:n=Yc}n=BC(n,$C.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $C(t,e){if(kc=-1,xc=0,ke&6)throw Error(V(327));var n=t.callbackNode;if(bo()&&t.callbackNode!==n)return null;var r=Xc(t,t===Tt?At:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=md(t,r);else{e=r;var i=ke;ke|=2;var s=UC();(Tt!==t||At!==e)&&(Pr=null,zo=it()+500,ms(t,e));do try{jA();break}catch(a){jC(t,a)}while(1);hy(),fd.current=s,ke=i,ut!==null?e=0:(Tt=null,At=0,e=yt)}if(e!==0){if(e===2&&(i=vm(t),i!==0&&(r=i,e=Wm(t,i))),e===1)throw n=Ml,ms(t,0),fi(t,r),fn(t,it()),n;if(e===6)fi(t,r);else{if(i=t.current.alternate,!(r&30)&&!MA(i)&&(e=md(t,r),e===2&&(s=vm(t),s!==0&&(r=s,e=Wm(t,s))),e===1))throw n=Ml,ms(t,0),fi(t,r),fn(t,it()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(V(345));case 2:ts(t,an,Pr);break;case 3:if(fi(t,r),(r&130023424)===r&&(e=xy+500-it(),10<e)){if(Xc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){nn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Im(ts.bind(null,t,an,Pr),e);break}ts(t,an,Pr);break;case 4:if(fi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Jn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DA(r/1960))-r,10<r){t.timeoutHandle=Im(ts.bind(null,t,an,Pr),r);break}ts(t,an,Pr);break;case 5:ts(t,an,Pr);break;default:throw Error(V(329))}}}return fn(t,it()),t.callbackNode===n?$C.bind(null,t):null}function Wm(t,e){var n=il;return t.current.memoizedState.isDehydrated&&(ms(t,e).flags|=256),t=md(t,e),t!==2&&(e=an,an=n,e!==null&&Km(e)),t}function Km(t){an===null?an=t:an.push.apply(an,t)}function MA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!tr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fi(t,e){for(e&=~ky,e&=~cf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jn(e),r=1<<n;t[n]=-1,e&=~r}}function Q0(t){if(ke&6)throw Error(V(327));bo();var e=Xc(t,0);if(!(e&1))return fn(t,it()),null;var n=md(t,e);if(t.tag!==0&&n===2){var r=vm(t);r!==0&&(e=r,n=Wm(t,r))}if(n===1)throw n=Ml,ms(t,0),fi(t,e),fn(t,it()),n;if(n===6)throw Error(V(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ts(t,an,Pr),fn(t,it()),null}function Ry(t,e){var n=ke;ke|=1;try{return t(e)}finally{ke=n,ke===0&&(zo=it()+500,of&&Hi())}}function Is(t){wi!==null&&wi.tag===0&&!(ke&6)&&bo();var e=ke;ke|=1;var n=Nn.transition,r=Oe;try{if(Nn.transition=null,Oe=1,t)return t()}finally{Oe=r,Nn.transition=n,ke=e,!(ke&6)&&Hi()}}function Ay(){yn=mo.current,ze(mo)}function ms(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fA(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(cy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nd();break;case 3:Fo(),ze(cn),ze(Gt),wy();break;case 5:vy(r);break;case 4:Fo();break;case 13:ze(Qe);break;case 19:ze(Qe);break;case 10:py(r.type._context);break;case 22:case 23:Ay()}n=n.return}if(Tt=t,ut=t=ki(t.current,null),At=yn=e,yt=0,Ml=null,ky=cf=bs=0,an=il=null,os!==null){for(e=0;e<os.length;e++)if(n=os[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}os=null}return t}function jC(t,e){do{var n=ut;try{if(hy(),Tc.current=dd,cd){for(var r=Ye.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cd=!1}if(Ts=0,Et=mt=Ye=null,nl=!1,Ll=0,Iy.current=null,n===null||n.return===null){yt=1,Ml=e,ut=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=At,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=M0(o);if(h!==null){h.flags&=-257,$0(h,o,a,s,e),h.mode&1&&D0(s,u,e),e=h,l=u;var y=e.updateQueue;if(y===null){var p=new Set;p.add(l),e.updateQueue=p}else y.add(l);break e}else{if(!(e&1)){D0(s,u,e),Py();break e}l=Error(V(426))}}else if(qe&&a.mode&1){var S=M0(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),$0(S,o,a,s,e),dy(Vo(l,a));break e}}s=l=Vo(l,a),yt!==4&&(yt=2),il===null?il=[s]:il.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=SC(s,l,e);x0(s,g);break e;case 1:a=l;var m=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(bi===null||!bi.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=EC(s,a,e);x0(s,_);break e}}s=s.return}while(s!==null)}VC(n)}catch(C){e=C,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(1)}function UC(){var t=fd.current;return fd.current=dd,t===null?dd:t}function Py(){(yt===0||yt===3||yt===2)&&(yt=4),Tt===null||!(bs&268435455)&&!(cf&268435455)||fi(Tt,At)}function md(t,e){var n=ke;ke|=2;var r=UC();(Tt!==t||At!==e)&&(Pr=null,ms(t,e));do try{$A();break}catch(i){jC(t,i)}while(1);if(hy(),ke=n,fd.current=r,ut!==null)throw Error(V(261));return Tt=null,At=0,yt}function $A(){for(;ut!==null;)FC(ut)}function jA(){for(;ut!==null&&!uR();)FC(ut)}function FC(t){var e=HC(t.alternate,t,yn);t.memoizedProps=t.pendingProps,e===null?VC(t):ut=e,Iy.current=null}function VC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=PA(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,ut=null;return}}else if(n=AA(n,e,yn),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);yt===0&&(yt=5)}function ts(t,e,n){var r=Oe,i=Nn.transition;try{Nn.transition=null,Oe=1,UA(t,e,n,r)}finally{Nn.transition=i,Oe=r}return null}function UA(t,e,n,r){do bo();while(wi!==null);if(ke&6)throw Error(V(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(V(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(wR(t,s),t===Tt&&(ut=Tt=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ac||(ac=!0,BC(Yc,function(){return bo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Nn.transition,Nn.transition=null;var o=Oe;Oe=1;var a=ke;ke|=4,Iy.current=null,LA(t,n),DC(n,t),sA(Tm),Jc=!!Cm,Tm=Cm=null,t.current=n,NA(n),cR(),ke=a,Oe=o,Nn.transition=s}else t.current=n;if(ac&&(ac=!1,wi=t,pd=i),s=t.pendingLanes,s===0&&(bi=null),hR(n.stateNode),fn(t,it()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hd)throw hd=!1,t=Bm,Bm=null,t;return pd&1&&t.tag!==0&&bo(),s=t.pendingLanes,s&1?t===qm?sl++:(sl=0,qm=t):sl=0,Hi(),null}function bo(){if(wi!==null){var t=_E(pd),e=Nn.transition,n=Oe;try{if(Nn.transition=null,Oe=16>t?16:t,wi===null)var r=!1;else{if(t=wi,wi=null,pd=0,ke&6)throw Error(V(331));var i=ke;for(ke|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var c=Q;switch(c.tag){case 0:case 11:case 15:rl(8,c,s)}var d=c.child;if(d!==null)d.return=c,Q=d;else for(;Q!==null;){c=Q;var f=c.sibling,h=c.return;if(OC(c),c===u){Q=null;break}if(f!==null){f.return=h,Q=f;break}Q=h}}}var y=s.alternate;if(y!==null){var p=y.child;if(p!==null){y.child=null;do{var S=p.sibling;p.sibling=null,p=S}while(p!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Q=g;break e}Q=s.return}}var m=t.current;for(Q=m;Q!==null;){o=Q;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Q=w;else e:for(o=m;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:uf(9,a)}}catch(C){Ze(a,a.return,C)}if(a===o){Q=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,Q=_;break e}Q=a.return}}if(ke=i,Hi(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(ef,t)}catch{}r=!0}return r}finally{Oe=n,Nn.transition=e}}return!1}function Y0(t,e,n){e=Vo(n,e),e=SC(t,e,1),t=Ti(t,e,1),e=nn(),t!==null&&(lu(t,1,e),fn(t,e))}function Ze(t,e,n){if(t.tag===3)Y0(t,t,n);else for(;e!==null;){if(e.tag===3){Y0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bi===null||!bi.has(r))){t=Vo(n,t),t=EC(e,t,1),e=Ti(e,t,1),t=nn(),e!==null&&(lu(e,1,t),fn(e,t));break}}e=e.return}}function FA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&(At&n)===n&&(yt===4||yt===3&&(At&130023424)===At&&500>it()-xy?ms(t,0):ky|=n),fn(t,e)}function zC(t,e){e===0&&(t.mode&1?(e=Xu,Xu<<=1,!(Xu&130023424)&&(Xu=4194304)):e=1);var n=nn();t=Kr(t,e),t!==null&&(lu(t,e,n),fn(t,n))}function VA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zC(t,n)}function zA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(e),zC(t,n)}var HC;HC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cn.current)un=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return un=!1,RA(t,e,n);un=!!(t.flags&131072)}else un=!1,qe&&e.flags&1048576&&WE(e,sd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ic(t,e),t=e.pendingProps;var i=$o(e,Gt.current);To(e,n),i=Sy(null,e,r,t,i,n);var s=Ey();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dn(r)?(s=!0,rd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gy(e),i.updater=af,e.stateNode=i,i._reactInternals=e,Lm(e,r,t,n),e=Mm(null,e,r,!0,s,n)):(e.tag=0,qe&&s&&uy(e),Zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ic(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=BA(r),t=Wn(r,t),i){case 0:e=Dm(null,e,r,t,n);break e;case 1:e=F0(null,e,r,t,n);break e;case 11:e=j0(null,e,r,t,n);break e;case 14:e=U0(null,e,r,Wn(r.type,t),n);break e}throw Error(V(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),Dm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),F0(t,e,r,i,n);case 3:e:{if(IC(e),t===null)throw Error(V(387));r=e.pendingProps,s=e.memoizedState,i=s.element,YE(t,e),ld(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Vo(Error(V(423)),e),e=V0(t,e,r,n,i);break e}else if(r!==i){i=Vo(Error(V(424)),e),e=V0(t,e,r,n,i);break e}else for(vn=Ci(e.stateNode.containerInfo.firstChild),_n=e,qe=!0,Gn=null,n=eC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jo(),r===i){e=Gr(t,e,n);break e}Zt(t,e,r,n)}e=e.child}return e;case 5:return tC(e),t===null&&Am(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,bm(r,i)?o=null:s!==null&&bm(r,s)&&(e.flags|=32),bC(t,e),Zt(t,e,o,n),e.child;case 6:return t===null&&Am(e),null;case 13:return kC(t,e,n);case 4:return yy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Uo(e,null,r,n):Zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),j0(t,e,r,i,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,je(od,r._currentValue),r._currentValue=o,s!==null)if(tr(s.value,o)){if(s.children===i.children&&!cn.current){e=Gr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Vr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Pm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(V(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Pm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,To(e,n),i=$n(i),r=r(i),e.flags|=1,Zt(t,e,r,n),e.child;case 14:return r=e.type,i=Wn(r,e.pendingProps),i=Wn(r.type,i),U0(t,e,r,i,n);case 15:return CC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),Ic(t,e),e.tag=1,dn(r)?(t=!0,rd(e)):t=!1,To(e,n),JE(e,r,i),Lm(e,r,i,n),Mm(null,e,r,!0,t,n);case 19:return xC(t,e,n);case 22:return TC(t,e,n)}throw Error(V(156,e.tag))};function BC(t,e){return gE(t,e)}function HA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,e,n,r){return new HA(t,e,n,r)}function Oy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BA(t){if(typeof t=="function")return Oy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xg)return 11;if(t===Jg)return 14}return 2}function ki(t,e){var n=t.alternate;return n===null?(n=Ln(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Oy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case io:return gs(n.children,i,s,e);case Yg:o=8,i|=8;break;case rm:return t=Ln(12,n,e,i|2),t.elementType=rm,t.lanes=s,t;case im:return t=Ln(13,n,e,i),t.elementType=im,t.lanes=s,t;case sm:return t=Ln(19,n,e,i),t.elementType=sm,t.lanes=s,t;case ZS:return df(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case XS:o=10;break e;case JS:o=9;break e;case Xg:o=11;break e;case Jg:o=14;break e;case ui:o=16,r=null;break e}throw Error(V(130,t==null?t:typeof t,""))}return e=Ln(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function gs(t,e,n,r){return t=Ln(7,t,r,e),t.lanes=n,t}function df(t,e,n,r){return t=Ln(22,t,r,e),t.elementType=ZS,t.lanes=n,t.stateNode={isHidden:!1},t}function ip(t,e,n){return t=Ln(6,t,null,e),t.lanes=n,t}function sp(t,e,n){return e=Ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uh(0),this.expirationTimes=Uh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ly(t,e,n,r,i,s,o,a,l){return t=new qA(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ln(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gy(s),t}function WA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ro,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function qC(t){if(!t)return Di;t=t._reactInternals;e:{if($s(t)!==t||t.tag!==1)throw Error(V(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(V(171))}if(t.tag===1){var n=t.type;if(dn(n))return BE(t,n,e)}return e}function WC(t,e,n,r,i,s,o,a,l){return t=Ly(n,r,!0,t,i,s,o,a,l),t.context=qC(null),n=t.current,r=nn(),i=Ii(n),s=Vr(r,i),s.callback=e??null,Ti(n,s,i),t.current.lanes=i,lu(t,i,r),fn(t,r),t}function ff(t,e,n,r){var i=e.current,s=nn(),o=Ii(i);return n=qC(n),e.context===null?e.context=n:e.pendingContext=n,e=Vr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ti(i,e,o),t!==null&&(Zn(t,i,o,s),Cc(t,i,o)),o}function gd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function X0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ny(t,e){X0(t,e),(t=t.alternate)&&X0(t,e)}function KA(){return null}var KC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dy(t){this._internalRoot=t}hf.prototype.render=Dy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(V(409));ff(t,e,null,null)};hf.prototype.unmount=Dy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Is(function(){ff(null,t,null,null)}),e[Wr]=null}};function hf(t){this._internalRoot=t}hf.prototype.unstable_scheduleHydration=function(t){if(t){var e=CE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<di.length&&e!==0&&e<di[n].priority;n++);di.splice(n,0,t),n===0&&bE(t)}};function My(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function J0(){}function GA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=gd(o);s.call(u)}}var o=WC(e,r,t,0,null,!1,!1,"",J0);return t._reactRootContainer=o,t[Wr]=o.current,xl(t.nodeType===8?t.parentNode:t),Is(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=gd(l);a.call(u)}}var l=Ly(t,0,!1,null,null,!1,!1,"",J0);return t._reactRootContainer=l,t[Wr]=l.current,xl(t.nodeType===8?t.parentNode:t),Is(function(){ff(e,l,n,r)}),l}function mf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=gd(o);a.call(l)}}ff(e,o,t,i)}else o=GA(n,e,t,i,r);return gd(o)}SE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=za(e.pendingLanes);n!==0&&(ty(e,n|1),fn(e,it()),!(ke&6)&&(zo=it()+500,Hi()))}break;case 13:Is(function(){var r=Kr(t,1);if(r!==null){var i=nn();Zn(r,t,1,i)}}),Ny(t,1)}};ny=function(t){if(t.tag===13){var e=Kr(t,134217728);if(e!==null){var n=nn();Zn(e,t,134217728,n)}Ny(t,134217728)}};EE=function(t){if(t.tag===13){var e=Ii(t),n=Kr(t,e);if(n!==null){var r=nn();Zn(n,t,e,r)}Ny(t,e)}};CE=function(){return Oe};TE=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};mm=function(t,e,n){switch(e){case"input":if(lm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=sf(r);if(!i)throw Error(V(90));tE(r),lm(r,i)}}}break;case"textarea":rE(t,n);break;case"select":e=n.value,e!=null&&_o(t,!!n.multiple,e,!1)}};cE=Ry;dE=Is;var QA={usingClientEntryPoint:!1,Events:[cu,lo,sf,lE,uE,Ry]},xa={findFiberByHostInstance:ss,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},YA={bundleType:xa.bundleType,version:xa.version,rendererPackageName:xa.rendererPackageName,rendererConfig:xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pE(t),t===null?null:t.stateNode},findFiberByHostInstance:xa.findFiberByHostInstance||KA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{ef=lc.inject(YA),gr=lc}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QA;bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!My(e))throw Error(V(200));return WA(t,e,null,n)};bn.createRoot=function(t,e){if(!My(t))throw Error(V(299));var n=!1,r="",i=KC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ly(t,1,!1,null,null,n,!1,r,i),t[Wr]=e.current,xl(t.nodeType===8?t.parentNode:t),new Dy(e)};bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(V(188)):(t=Object.keys(t).join(","),Error(V(268,t)));return t=pE(e),t=t===null?null:t.stateNode,t};bn.flushSync=function(t){return Is(t)};bn.hydrate=function(t,e,n){if(!pf(e))throw Error(V(200));return mf(null,t,e,!0,n)};bn.hydrateRoot=function(t,e,n){if(!My(t))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=KC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=WC(e,null,t,1,n??null,i,!1,s,o),t[Wr]=e.current,xl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new hf(e)};bn.render=function(t,e,n){if(!pf(e))throw Error(V(200));return mf(null,t,e,!1,n)};bn.unmountComponentAtNode=function(t){if(!pf(t))throw Error(V(40));return t._reactRootContainer?(Is(function(){mf(null,null,t,!1,function(){t._reactRootContainer=null,t[Wr]=null})}),!0):!1};bn.unstable_batchedUpdates=Ry;bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!pf(n))throw Error(V(200));if(t==null||t._reactInternals===void 0)throw Error(V(38));return mf(t,e,n,!1,r)};bn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=bn})(Kx);const XA=US(wl);var GC,Z0=wl;GC=Z0.createRoot,Z0.hydrateRoot;var Gm={},JA={get exports(){return Gm},set exports(t){Gm=t}},QC={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ho=b;function ZA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var eP=typeof Object.is=="function"?Object.is:ZA,tP=Ho.useState,nP=Ho.useEffect,rP=Ho.useLayoutEffect,iP=Ho.useDebugValue;function sP(t,e){var n=e(),r=tP({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return rP(function(){i.value=n,i.getSnapshot=e,op(i)&&s({inst:i})},[t,n,e]),nP(function(){return op(i)&&s({inst:i}),t(function(){op(i)&&s({inst:i})})},[t]),iP(n),n}function op(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!eP(t,n)}catch{return!0}}function oP(t,e){return e()}var aP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?oP:sP;QC.useSyncExternalStore=Ho.useSyncExternalStore!==void 0?Ho.useSyncExternalStore:aP;(function(t){t.exports=QC})(JA);var Qm={},lP={get exports(){return Qm},set exports(t){Qm=t}},YC={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf=b,uP=Gm;function cP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dP=typeof Object.is=="function"?Object.is:cP,fP=uP.useSyncExternalStore,hP=gf.useRef,pP=gf.useEffect,mP=gf.useMemo,gP=gf.useDebugValue;YC.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=hP(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=mP(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var y=o.value;if(i(y,h))return d=y}return d=h}if(y=d,dP(c,h))return y;var p=r(h);return i!==void 0&&i(y,p)?y:(c=h,d=p)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=fP(t,s[0],s[1]);return pP(function(){o.hasValue=!0,o.value=a},[a]),gP(a),a};(function(t){t.exports=YC})(lP);function yP(t){t()}let XC=yP;const vP=t=>XC=t,wP=()=>XC,Mi=b.createContext(null);function JC(){return b.useContext(Mi)}const _P=()=>{throw new Error("uSES not initialized!")};let ZC=_P;const SP=t=>{ZC=t},EP=(t,e)=>t===e;function CP(t=Mi){const e=t===Mi?JC:()=>b.useContext(t);return function(r,i=EP){const{store:s,subscription:o,getServerState:a}=e(),l=ZC(o.addNestedSub,s.getState,a||s.getState,r,i);return b.useDebugValue(l),l}}const TP=CP();var Ym={},bP={get exports(){return Ym},set exports(t){Ym=t}},Le={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kt=typeof Symbol=="function"&&Symbol.for,$y=kt?Symbol.for("react.element"):60103,jy=kt?Symbol.for("react.portal"):60106,yf=kt?Symbol.for("react.fragment"):60107,vf=kt?Symbol.for("react.strict_mode"):60108,wf=kt?Symbol.for("react.profiler"):60114,_f=kt?Symbol.for("react.provider"):60109,Sf=kt?Symbol.for("react.context"):60110,Uy=kt?Symbol.for("react.async_mode"):60111,Ef=kt?Symbol.for("react.concurrent_mode"):60111,Cf=kt?Symbol.for("react.forward_ref"):60112,Tf=kt?Symbol.for("react.suspense"):60113,IP=kt?Symbol.for("react.suspense_list"):60120,bf=kt?Symbol.for("react.memo"):60115,If=kt?Symbol.for("react.lazy"):60116,kP=kt?Symbol.for("react.block"):60121,xP=kt?Symbol.for("react.fundamental"):60117,RP=kt?Symbol.for("react.responder"):60118,AP=kt?Symbol.for("react.scope"):60119;function kn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case $y:switch(t=t.type,t){case Uy:case Ef:case yf:case wf:case vf:case Tf:return t;default:switch(t=t&&t.$$typeof,t){case Sf:case Cf:case If:case bf:case _f:return t;default:return e}}case jy:return e}}}function eT(t){return kn(t)===Ef}Le.AsyncMode=Uy;Le.ConcurrentMode=Ef;Le.ContextConsumer=Sf;Le.ContextProvider=_f;Le.Element=$y;Le.ForwardRef=Cf;Le.Fragment=yf;Le.Lazy=If;Le.Memo=bf;Le.Portal=jy;Le.Profiler=wf;Le.StrictMode=vf;Le.Suspense=Tf;Le.isAsyncMode=function(t){return eT(t)||kn(t)===Uy};Le.isConcurrentMode=eT;Le.isContextConsumer=function(t){return kn(t)===Sf};Le.isContextProvider=function(t){return kn(t)===_f};Le.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===$y};Le.isForwardRef=function(t){return kn(t)===Cf};Le.isFragment=function(t){return kn(t)===yf};Le.isLazy=function(t){return kn(t)===If};Le.isMemo=function(t){return kn(t)===bf};Le.isPortal=function(t){return kn(t)===jy};Le.isProfiler=function(t){return kn(t)===wf};Le.isStrictMode=function(t){return kn(t)===vf};Le.isSuspense=function(t){return kn(t)===Tf};Le.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===yf||t===Ef||t===wf||t===vf||t===Tf||t===IP||typeof t=="object"&&t!==null&&(t.$$typeof===If||t.$$typeof===bf||t.$$typeof===_f||t.$$typeof===Sf||t.$$typeof===Cf||t.$$typeof===xP||t.$$typeof===RP||t.$$typeof===AP||t.$$typeof===kP)};Le.typeOf=kn;(function(t){t.exports=Le})(bP);var tT=Ym,PP={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},OP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},nT={};nT[tT.ForwardRef]=PP;nT[tT.Memo]=OP;var ew={},LP={get exports(){return ew},set exports(t){ew=t}},Ne={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy=Symbol.for("react.element"),Vy=Symbol.for("react.portal"),kf=Symbol.for("react.fragment"),xf=Symbol.for("react.strict_mode"),Rf=Symbol.for("react.profiler"),Af=Symbol.for("react.provider"),Pf=Symbol.for("react.context"),NP=Symbol.for("react.server_context"),Of=Symbol.for("react.forward_ref"),Lf=Symbol.for("react.suspense"),Nf=Symbol.for("react.suspense_list"),Df=Symbol.for("react.memo"),Mf=Symbol.for("react.lazy"),DP=Symbol.for("react.offscreen"),rT;rT=Symbol.for("react.module.reference");function Vn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Fy:switch(t=t.type,t){case kf:case Rf:case xf:case Lf:case Nf:return t;default:switch(t=t&&t.$$typeof,t){case NP:case Pf:case Of:case Mf:case Df:case Af:return t;default:return e}}case Vy:return e}}}Ne.ContextConsumer=Pf;Ne.ContextProvider=Af;Ne.Element=Fy;Ne.ForwardRef=Of;Ne.Fragment=kf;Ne.Lazy=Mf;Ne.Memo=Df;Ne.Portal=Vy;Ne.Profiler=Rf;Ne.StrictMode=xf;Ne.Suspense=Lf;Ne.SuspenseList=Nf;Ne.isAsyncMode=function(){return!1};Ne.isConcurrentMode=function(){return!1};Ne.isContextConsumer=function(t){return Vn(t)===Pf};Ne.isContextProvider=function(t){return Vn(t)===Af};Ne.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fy};Ne.isForwardRef=function(t){return Vn(t)===Of};Ne.isFragment=function(t){return Vn(t)===kf};Ne.isLazy=function(t){return Vn(t)===Mf};Ne.isMemo=function(t){return Vn(t)===Df};Ne.isPortal=function(t){return Vn(t)===Vy};Ne.isProfiler=function(t){return Vn(t)===Rf};Ne.isStrictMode=function(t){return Vn(t)===xf};Ne.isSuspense=function(t){return Vn(t)===Lf};Ne.isSuspenseList=function(t){return Vn(t)===Nf};Ne.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===kf||t===Rf||t===xf||t===Lf||t===Nf||t===DP||typeof t=="object"&&t!==null&&(t.$$typeof===Mf||t.$$typeof===Df||t.$$typeof===Af||t.$$typeof===Pf||t.$$typeof===Of||t.$$typeof===rT||t.getModuleId!==void 0)};Ne.typeOf=Vn;(function(t){t.exports=Ne})(LP);function MP(){const t=wP();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const tw={notify(){},get:()=>[]};function $P(t,e){let n,r=tw;function i(d){return l(),r.subscribe(d)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=MP())}function u(){n&&(n(),n=void 0,r.clear(),r=tw)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const jP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UP=jP?b.useLayoutEffect:b.useEffect;function FP({store:t,context:e,children:n,serverState:r}){const i=b.useMemo(()=>{const a=$P(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),s=b.useMemo(()=>t.getState(),[t]);UP(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=e||Mi;return Qn.createElement(o.Provider,{value:i},n)}function iT(t=Mi){const e=t===Mi?JC:()=>b.useContext(t);return function(){const{store:r}=e();return r}}const VP=iT();function zP(t=Mi){const e=t===Mi?VP:iT(t);return function(){return e().dispatch}}const HP=zP();SP(Qm.useSyncExternalStoreWithSelector);vP(wl.unstable_batchedUpdates);function Ac(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ac=function(n){return typeof n}:Ac=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ac(t)}function BP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qP(t,e,n){return e&&nw(t.prototype,e),n&&nw(t,n),t}function WP(t,e){return e&&(Ac(e)==="object"||typeof e=="function")?e:Pc(t)}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Xm(t)}function Pc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jm(t,e)}function Jm(t,e){return Jm=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Jm(t,e)}function Oc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sT=function(t){KP(e,t);function e(){var n,r;BP(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=WP(this,(n=Xm(e)).call.apply(n,[this].concat(s))),Oc(Pc(r),"state",{bootstrapped:!1}),Oc(Pc(r),"_unsubscribe",void 0),Oc(Pc(r),"handlePersistorState",function(){var a=r.props.persistor,l=a.getState(),u=l.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return qP(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(b.PureComponent);Oc(sT,"defaultProps",{children:null,loading:null});/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ie(){return Ie=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ie.apply(this,arguments)}var rt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(rt||(rt={}));const rw="popstate";function GP(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return $l("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Qr(i)}return YP(e,n,null,t)}function ve(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QP(){return Math.random().toString(36).substr(2,8)}function iw(t,e){return{usr:t.state,key:t.key,idx:e}}function $l(t,e,n,r){return n===void 0&&(n=null),Ie({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ri(e):e,{state:n,key:e&&e.key||r||QP()})}function Qr(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ri(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function YP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=rt.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Ie({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=rt.Pop;let S=c(),g=S==null?null:S-u;u=S,l&&l({action:a,location:p.location,delta:g})}function f(S,g){a=rt.Push;let m=$l(p.location,S,g);n&&n(m,S),u=c()+1;let w=iw(m,u),_=p.createHref(m);try{o.pushState(w,"",_)}catch{i.location.assign(_)}s&&l&&l({action:a,location:p.location,delta:1})}function h(S,g){a=rt.Replace;let m=$l(p.location,S,g);n&&n(m,S),u=c();let w=iw(m,u),_=p.createHref(m);o.replaceState(w,"",_),s&&l&&l({action:a,location:p.location,delta:0})}function y(S){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof S=="string"?S:Qr(S);return ve(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let p={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(rw,d),l=S,()=>{i.removeEventListener(rw,d),l=null}},createHref(S){return e(i,S)},createURL:y,encodeLocation(S){let g=y(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:h,go(S){return o.go(S)}};return p}var pt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(pt||(pt={}));const XP=new Set(["lazy","caseSensitive","path","id","index","children"]);function JP(t){return t.index===!0}function oT(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(ve(i.index!==!0||!i.children,"Cannot specify children on an index route"),ve(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),JP(i)){let l=Ie({},i,{hasErrorBoundary:e(i),id:a});return r[a]=l,l}else{let l=Ie({},i,{id:a,hasErrorBoundary:e(i),children:void 0});return r[a]=l,i.children&&(l.children=oT(i.children,e,o,r)),l}})}function go(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ri(e):e,i=fu(r.pathname||"/",n);if(i==null)return null;let s=aT(t);ZP(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=lO(s[a],dO(i));return o}function aT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ve(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=zr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(ve(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),aT(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:oO(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of lT(s.path))i(s,o,l)}),e}function lT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=lT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function ZP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const eO=/^:\w+$/,tO=3,nO=2,rO=1,iO=10,sO=-2,sw=t=>t==="*";function oO(t,e){let n=t.split("/"),r=n.length;return n.some(sw)&&(r+=sO),e&&(r+=nO),n.filter(i=>!sw(i)).reduce((i,s)=>i+(eO.test(s)?tO:s===""?rO:iO),r)}function aO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function lO(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=uO({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:zr([i,c.pathname]),pathnameBase:mO(zr([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=zr([i,c.pathnameBase]))}return s}function uO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=cO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=a[d]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=fO(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function cO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Bo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function dO(t){try{return decodeURI(t)}catch(e){return Bo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function fO(t,e){try{return decodeURIComponent(t)}catch(n){return Bo(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function fu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function hO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ri(t):t;return{pathname:n?n.startsWith("/")?n:pO(n,e):e,search:gO(r),hash:yO(i)}}function pO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ap(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $f(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ri(t):(i=Ie({},t),ve(!i.pathname||!i.pathname.includes("?"),ap("?","pathname","search",i)),ve(!i.pathname||!i.pathname.includes("#"),ap("#","pathname","hash",i)),ve(!i.search||!i.search.includes("#"),ap("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=hO(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const zr=t=>t.join("/").replace(/\/\/+/g,"/"),mO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class ow extends Error{}class vO{constructor(e,n){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],ve(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((s,o)=>r=o),this.controller=new AbortController;let i=()=>r(new ow("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(e).reduce((s,o)=>{let[a,l]=o;return Object.assign(s,{[a]:this.trackPromise(a,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=n}trackPromise(e,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,e,null,i),i=>this.onSettle(r,e,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,n,r,i){return this.controller.signal.aborted&&r instanceof ow?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r)):(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),r?(Object.defineProperty(e,"_error",{get:()=>r}),this.emit(!1,n),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>i}),this.emit(!1,n),i))}emit(e,n){this.subscribers.forEach(r=>r(e,n))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(e){let n=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(s=>{e.removeEventListener("abort",r),(s||this.done)&&i(s)})})}return n}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return ve(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,n)=>{let[r,i]=n;return Object.assign(e,{[r]:_O(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function wO(t){return t instanceof Promise&&t._tracked===!0}function _O(t){if(!wO(t))return t;if(t._error)throw t._error;return t._data}class Hy{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ol(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uT=["post","put","patch","delete"],SO=new Set(uT),EO=["get",...uT],CO=new Set(EO),TO=new Set([301,302,303,307,308]),bO=new Set([307,308]),lp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},IO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},aw={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},cT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kO=!dT,xO=t=>!!t.hasErrorBoundary;function RO(t){ve(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=t.detectErrorBoundary||xO,n={},r=oT(t.routes,e,void 0,n),i,s=null,o=new Set,a=null,l=null,u=null,c=t.hydrationData!=null,d=go(r,t.history.location,t.basename),f=null;if(d==null){let R=ur(404,{pathname:t.history.location.pathname}),{matches:L,route:$}=hw(r);d=L,f={[$.id]:R}}let h=!d.some(R=>R.route.lazy)&&(!d.some(R=>R.route.loader)||t.hydrationData!=null),y,p={historyAction:t.history.action,location:t.history.location,matches:d,initialized:h,navigation:lp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||f,fetchers:new Map,blockers:new Map},S=rt.Pop,g=!1,m,w=!1,_=!1,C=[],T=[],I=new Map,N=0,A=-1,D=new Map,G=new Set,B=new Map,j=new Map,ae=new Map,be=!1;function De(){if(s=t.history.listen($=>{let{action:X,location:ee,delta:le}=$;if(be){be=!1;return}Bo(ae.size===0||le!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=ge({currentLocation:p.location,nextLocation:ee,historyAction:X});if(ie&&le!=null){be=!0,t.history.go(le*-1),O(ie,{state:"blocked",location:ee,proceed(){O(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),t.history.go(le)},reset(){P(ie),W({blockers:new Map(y.state.blockers)})}});return}return dt(X,ee)}),p.initialized)return y;let R=p.matches.filter($=>$.route.lazy);if(R.length===0)return dt(rt.Pop,p.location),y;let L=R.map($=>Zm($.route,e,n));return Promise.all(L).then(()=>{!p.matches.some(X=>X.route.loader)||t.hydrationData!=null?W({initialized:!0}):dt(rt.Pop,p.location)}),y}function st(){s&&s(),o.clear(),m&&m.abort(),p.fetchers.forEach((R,L)=>ce(L)),p.blockers.forEach((R,L)=>P(L))}function q(R){return o.add(R),()=>o.delete(R)}function W(R){p=Ie({},p,R),o.forEach(L=>L(p))}function re(R,L){var $,X;let ee=p.actionData!=null&&p.navigation.formMethod!=null&&Or(p.navigation.formMethod)&&p.navigation.state==="loading"&&(($=R.state)==null?void 0:$._isRedirect)!==!0,le;L.actionData?Object.keys(L.actionData).length>0?le=L.actionData:le=null:ee?le=p.actionData:le=null;let ie=L.loaderData?fw(p.loaderData,L.loaderData,L.matches||[],L.errors):p.loaderData;for(let[te]of ae)P(te);let _e=g===!0||p.navigation.formMethod!=null&&Or(p.navigation.formMethod)&&((X=R.state)==null?void 0:X._isRedirect)!==!0;i&&(r=i,i=void 0),W(Ie({},L,{actionData:le,loaderData:ie,historyAction:S,location:R,initialized:!0,navigation:lp,revalidation:"idle",restoreScrollPosition:Ks(R,L.matches||p.matches),preventScrollReset:_e,blockers:new Map(p.blockers)})),w||S===rt.Pop||(S===rt.Push?t.history.push(R,R.state):S===rt.Replace&&t.history.replace(R,R.state)),S=rt.Pop,g=!1,w=!1,_=!1,C=[],T=[]}async function xe(R,L){if(typeof R=="number"){t.history.go(R);return}let{path:$,submission:X,error:ee}=lw(R,L),le=p.location,ie=$l(p.location,$,L&&L.state);ie=Ie({},ie,t.history.encodeLocation(ie));let _e=L&&L.replace!=null?L.replace:void 0,te=rt.Push;_e===!0?te=rt.Replace:_e===!1||X!=null&&Or(X.formMethod)&&X.formAction===p.location.pathname+p.location.search&&(te=rt.Replace);let Dt=L&&"preventScrollReset"in L?L.preventScrollReset===!0:void 0,Re=ge({currentLocation:le,nextLocation:ie,historyAction:te});if(Re){O(Re,{state:"blocked",location:ie,proceed(){O(Re,{state:"proceeding",proceed:void 0,reset:void 0,location:ie}),xe(R,L)},reset(){P(Re),W({blockers:new Map(p.blockers)})}});return}return await dt(te,ie,{submission:X,pendingError:ee,preventScrollReset:Dt,replace:L&&L.replace})}function $e(){if(pe(),W({revalidation:"loading"}),p.navigation.state!=="submitting"){if(p.navigation.state==="idle"){dt(p.historyAction,p.location,{startUninterruptedRevalidation:!0});return}dt(S||p.historyAction,p.navigation.location,{overrideNavigation:p.navigation})}}async function dt(R,L,$){m&&m.abort(),m=null,S=R,w=($&&$.startUninterruptedRevalidation)===!0,wa(p.location,p.matches),g=($&&$.preventScrollReset)===!0;let X=i||r,ee=$&&$.overrideNavigation,le=go(X,L,t.basename);if(!le){let nt=ur(404,{pathname:L.pathname}),{matches:sr,route:Bn}=hw(X);Se(),re(L,{matches:sr,loaderData:{},errors:{[Bn.id]:nt}});return}if(NO(p.location,L)&&!($&&$.submission&&Or($.submission.formMethod))){re(L,{matches:le});return}m=new AbortController;let ie=Aa(t.history,L,m.signal,$&&$.submission),_e,te;if($&&$.pendingError)te={[yo(le).route.id]:$.pendingError};else if($&&$.submission&&Or($.submission.formMethod)){let nt=await _t(ie,L,$.submission,le,{replace:$.replace});if(nt.shortCircuited)return;_e=nt.pendingActionData,te=nt.pendingActionError,ee=Ie({state:"loading",location:L},$.submission),ie=new Request(ie.url,{signal:ie.signal})}let{shortCircuited:Dt,loaderData:Re,errors:Xt}=await Hn(ie,L,le,ee,$&&$.submission,$&&$.replace,_e,te);Dt||(m=null,re(L,Ie({matches:le},_e?{actionData:_e}:{},{loaderData:Re,errors:Xt})))}async function _t(R,L,$,X,ee){pe();let le=Ie({state:"submitting",location:L},$);W({navigation:le});let ie,_e=eg(X,L);if(!_e.route.action&&!_e.route.lazy)ie={type:pt.error,error:ur(405,{method:R.method,pathname:L.pathname,routeId:_e.route.id})};else if(ie=await Ra("action",R,_e,X,n,e,y.basename),R.signal.aborted)return{shortCircuited:!0};if(Io(ie)){let te;return ee&&ee.replace!=null?te=ee.replace:te=ie.location===p.location.pathname+p.location.search,await F(p,ie,{submission:$,replace:te}),{shortCircuited:!0}}if(al(ie)){let te=yo(X,_e.route.id);return(ee&&ee.replace)!==!0&&(S=rt.Push),{pendingActionData:{},pendingActionError:{[te.route.id]:ie.error}}}if(ls(ie))throw ur(400,{type:"defer-action"});return{pendingActionData:{[_e.route.id]:ie.data}}}async function Hn(R,L,$,X,ee,le,ie,_e){let te=X;te||(te=Ie({state:"loading",location:L,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ee));let Dt=ee||(te.formMethod&&te.formAction&&te.formData&&te.formEncType?{formMethod:te.formMethod,formAction:te.formAction,formData:te.formData,formEncType:te.formEncType}:void 0),Re=i||r,[Xt,nt]=uw(t.history,p,$,Dt,L,_,C,T,B,Re,t.basename,ie,_e);if(Se(Mt=>!($&&$.some(or=>or.route.id===Mt))||Xt&&Xt.some(or=>or.route.id===Mt)),Xt.length===0&&nt.length===0)return re(L,Ie({matches:$,loaderData:{},errors:_e||null},ie?{actionData:ie}:{})),{shortCircuited:!0};if(!w){nt.forEach(or=>{let Yi=p.fetchers.get(or.key),qu={state:"loading",data:Yi&&Yi.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(or.key,qu)});let Mt=ie||p.actionData;W(Ie({navigation:te},Mt?Object.keys(Mt).length===0?{actionData:null}:{actionData:Mt}:{},nt.length>0?{fetchers:new Map(p.fetchers)}:{}))}A=++N,nt.forEach(Mt=>I.set(Mt.key,m));let{results:sr,loaderResults:Bn,fetcherResults:_a}=await K(p.matches,$,Xt,nt,R);if(R.signal.aborted)return{shortCircuited:!0};nt.forEach(Mt=>I.delete(Mt.key));let Hu=pw(sr);if(Hu)return await F(p,Hu,{replace:le}),{shortCircuited:!0};let{loaderData:Bu,errors:Gs}=dw(p,$,Xt,Bn,_e,nt,_a,j);j.forEach((Mt,or)=>{Mt.subscribe(Yi=>{(Yi||Mt.done)&&j.delete(or)})}),x();let Ah=M(A);return Ie({loaderData:Bu,errors:Gs},Ah||nt.length>0?{fetchers:new Map(p.fetchers)}:{})}function Fe(R){return p.fetchers.get(R)||IO}function ft(R,L,$,X){if(kO)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");I.has(R)&&E(R);let le=go(i||r,$,t.basename);if(!le){me(R,L,ur(404,{pathname:$}));return}let{path:ie,submission:_e}=lw($,X,!0),te=eg(le,ie);if(g=(X&&X.preventScrollReset)===!0,_e&&Or(_e.formMethod)){si(R,L,ie,te,le,_e);return}B.set(R,{routeId:L,path:ie}),oi(R,L,ie,te,le,_e)}async function si(R,L,$,X,ee,le){if(pe(),B.delete(R),!X.route.action&&!X.route.lazy){let Ir=ur(405,{method:le.formMethod,pathname:$,routeId:L});me(R,L,Ir);return}let ie=p.fetchers.get(R),_e=Ie({state:"submitting"},le,{data:ie&&ie.data," _hasFetcherDoneAnything ":!0});p.fetchers.set(R,_e),W({fetchers:new Map(p.fetchers)});let te=new AbortController,Dt=Aa(t.history,$,te.signal,le);I.set(R,te);let Re=await Ra("action",Dt,X,ee,n,e,y.basename);if(Dt.signal.aborted){I.get(R)===te&&I.delete(R);return}if(Io(Re)){I.delete(R),G.add(R);let Ir=Ie({state:"loading"},le,{data:void 0," _hasFetcherDoneAnything ":!0});return p.fetchers.set(R,Ir),W({fetchers:new Map(p.fetchers)}),F(p,Re,{isFetchActionRedirect:!0})}if(al(Re)){me(R,L,Re.error);return}if(ls(Re))throw ur(400,{type:"defer-action"});let Xt=p.navigation.location||p.location,nt=Aa(t.history,Xt,te.signal),sr=i||r,Bn=p.navigation.state!=="idle"?go(sr,p.navigation.location,t.basename):p.matches;ve(Bn,"Didn't find any matches after fetcher action");let _a=++N;D.set(R,_a);let Hu=Ie({state:"loading",data:Re.data},le,{" _hasFetcherDoneAnything ":!0});p.fetchers.set(R,Hu);let[Bu,Gs]=uw(t.history,p,Bn,le,Xt,_,C,T,B,sr,t.basename,{[X.route.id]:Re.data},void 0);Gs.filter(Ir=>Ir.key!==R).forEach(Ir=>{let Oh=Ir.key,B1=p.fetchers.get(Oh),lx={state:"loading",data:B1&&B1.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(Oh,lx),I.set(Oh,te)}),W({fetchers:new Map(p.fetchers)});let{results:Ah,loaderResults:Mt,fetcherResults:or}=await K(p.matches,Bn,Bu,Gs,nt);if(te.signal.aborted)return;D.delete(R),I.delete(R),Gs.forEach(Ir=>I.delete(Ir.key));let Yi=pw(Ah);if(Yi)return F(p,Yi);let{loaderData:qu,errors:Ph}=dw(p,p.matches,Bu,Mt,void 0,Gs,or,j),ox={state:"idle",data:Re.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(R,ox);let ax=M(_a);p.navigation.state==="loading"&&_a>A?(ve(S,"Expected pending action"),m&&m.abort(),re(p.navigation.location,{matches:Bn,loaderData:qu,errors:Ph,fetchers:new Map(p.fetchers)})):(W(Ie({errors:Ph,loaderData:fw(p.loaderData,qu,Bn,Ph)},ax?{fetchers:new Map(p.fetchers)}:{})),_=!1)}async function oi(R,L,$,X,ee,le){let ie=p.fetchers.get(R),_e=Ie({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},le,{data:ie&&ie.data," _hasFetcherDoneAnything ":!0});p.fetchers.set(R,_e),W({fetchers:new Map(p.fetchers)});let te=new AbortController,Dt=Aa(t.history,$,te.signal);I.set(R,te);let Re=await Ra("loader",Dt,X,ee,n,e,y.basename);if(ls(Re)&&(Re=await mT(Re,Dt.signal,!0)||Re),I.get(R)===te&&I.delete(R),Dt.signal.aborted)return;if(Io(Re)){await F(p,Re);return}if(al(Re)){let nt=yo(p.matches,L);p.fetchers.delete(R),W({fetchers:new Map(p.fetchers),errors:{[nt.route.id]:Re.error}});return}ve(!ls(Re),"Unhandled fetcher deferred data");let Xt={state:"idle",data:Re.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(R,Xt),W({fetchers:new Map(p.fetchers)})}async function F(R,L,$){var X;let{submission:ee,replace:le,isFetchActionRedirect:ie}=$===void 0?{}:$;L.revalidate&&(_=!0);let _e=$l(R.location,L.location,Ie({_isRedirect:!0},ie?{_isFetchActionRedirect:!0}:{}));if(ve(_e,"Expected a location on the redirect navigation"),cT.test(L.location)&&dT&&typeof((X=window)==null?void 0:X.location)<"u"){let sr=t.history.createURL(L.location),Bn=fu(sr.pathname,t.basename||"/")==null;if(window.location.origin!==sr.origin||Bn){le?window.location.replace(L.location):window.location.assign(L.location);return}}m=null;let te=le===!0?rt.Replace:rt.Push,{formMethod:Dt,formAction:Re,formEncType:Xt,formData:nt}=R.navigation;!ee&&Dt&&Re&&nt&&Xt&&(ee={formMethod:Dt,formAction:Re,formEncType:Xt,formData:nt}),bO.has(L.status)&&ee&&Or(ee.formMethod)?await dt(te,_e,{submission:Ie({},ee,{formAction:L.location}),preventScrollReset:g}):await dt(te,_e,{overrideNavigation:{state:"loading",location:_e,formMethod:ee?ee.formMethod:void 0,formAction:ee?ee.formAction:void 0,formEncType:ee?ee.formEncType:void 0,formData:ee?ee.formData:void 0},preventScrollReset:g})}async function K(R,L,$,X,ee){let le=await Promise.all([...$.map(te=>Ra("loader",ee,te,L,n,e,y.basename)),...X.map(te=>te.matches&&te.match?Ra("loader",Aa(t.history,te.path,ee.signal),te.match,te.matches,n,e,y.basename):{type:pt.error,error:ur(404,{pathname:te.path})})]),ie=le.slice(0,$.length),_e=le.slice($.length);return await Promise.all([mw(R,$,ie,ee.signal,!1,p.loaderData),mw(R,X.map(te=>te.match),_e,ee.signal,!0)]),{results:le,loaderResults:ie,fetcherResults:_e}}function pe(){_=!0,C.push(...Se()),B.forEach((R,L)=>{I.has(L)&&(T.push(L),E(L))})}function me(R,L,$){let X=yo(p.matches,L);ce(R),W({errors:{[X.route.id]:$},fetchers:new Map(p.fetchers)})}function ce(R){I.has(R)&&E(R),B.delete(R),D.delete(R),G.delete(R),p.fetchers.delete(R)}function E(R){let L=I.get(R);ve(L,"Expected fetch controller: "+R),L.abort(),I.delete(R)}function k(R){for(let L of R){let X={state:"idle",data:Fe(L).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(L,X)}}function x(){let R=[];for(let L of G){let $=p.fetchers.get(L);ve($,"Expected fetcher: "+L),$.state==="loading"&&(G.delete(L),R.push(L))}k(R)}function M(R){let L=[];for(let[$,X]of D)if(X<R){let ee=p.fetchers.get($);ve(ee,"Expected fetcher: "+$),ee.state==="loading"&&(E($),D.delete($),L.push($))}return k(L),L.length>0}function H(R,L){let $=p.blockers.get(R)||aw;return ae.get(R)!==L&&ae.set(R,L),$}function P(R){p.blockers.delete(R),ae.delete(R)}function O(R,L){let $=p.blockers.get(R)||aw;ve($.state==="unblocked"&&L.state==="blocked"||$.state==="blocked"&&L.state==="blocked"||$.state==="blocked"&&L.state==="proceeding"||$.state==="blocked"&&L.state==="unblocked"||$.state==="proceeding"&&L.state==="unblocked","Invalid blocker state transition: "+$.state+" -> "+L.state),p.blockers.set(R,L),W({blockers:new Map(p.blockers)})}function ge(R){let{currentLocation:L,nextLocation:$,historyAction:X}=R;if(ae.size===0)return;ae.size>1&&Bo(!1,"A router only supports one blocker at a time");let ee=Array.from(ae.entries()),[le,ie]=ee[ee.length-1],_e=p.blockers.get(le);if(!(_e&&_e.state==="proceeding")&&ie({currentLocation:L,nextLocation:$,historyAction:X}))return le}function Se(R){let L=[];return j.forEach(($,X)=>{(!R||R(X))&&($.cancel(),L.push(X),j.delete(X))}),L}function Ws(R,L,$){if(a=R,u=L,l=$||(X=>X.key),!c&&p.navigation===lp){c=!0;let X=Ks(p.location,p.matches);X!=null&&W({restoreScrollPosition:X})}return()=>{a=null,u=null,l=null}}function wa(R,L){if(a&&l&&u){let $=L.map(ee=>gw(ee,p.loaderData)),X=l(R,$)||R.key;a[X]=u()}}function Ks(R,L){if(a&&l&&u){let $=L.map(le=>gw(le,p.loaderData)),X=l(R,$)||R.key,ee=a[X];if(typeof ee=="number")return ee}return null}function Rh(R){i=R}return y={get basename(){return t.basename},get state(){return p},get routes(){return r},initialize:De,subscribe:q,enableScrollRestoration:Ws,navigate:xe,fetch:ft,revalidate:$e,createHref:R=>t.history.createHref(R),encodeLocation:R=>t.history.encodeLocation(R),getFetcher:Fe,deleteFetcher:ce,dispose:st,getBlocker:H,deleteBlocker:P,_internalFetchControllers:I,_internalActiveDeferreds:j,_internalSetRoutes:Rh},y}function AO(t){return t!=null&&"formData"in t}function lw(t,e,n){n===void 0&&(n=!1);let r=typeof t=="string"?t:Qr(t);if(!e||!AO(e))return{path:r};if(e.formMethod&&!MO(e.formMethod))return{path:r,error:ur(405,{method:e.formMethod})};let i;if(e.formData&&(i={formMethod:e.formMethod||"get",formAction:pT(r),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},Or(i.formMethod)))return{path:r,submission:i};let s=ri(r),o=hT(e.formData);return n&&s.search&&gT(s.search)&&o.append("index",""),s.search="?"+o,{path:Qr(s),submission:i}}function PO(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function uw(t,e,n,r,i,s,o,a,l,u,c,d,f){let h=f?Object.values(f)[0]:d?Object.values(d)[0]:void 0,y=t.createURL(e.location),p=t.createURL(i),S=s||y.toString()===p.toString()||y.search!==p.search,g=f?Object.keys(f)[0]:void 0,w=PO(n,g).filter((C,T)=>{if(C.route.lazy)return!0;if(C.route.loader==null)return!1;if(OO(e.loaderData,e.matches[T],C)||o.some(A=>A===C.route.id))return!0;let I=e.matches[T],N=C;return cw(C,Ie({currentUrl:y,currentParams:I.params,nextUrl:p,nextParams:N.params},r,{actionResult:h,defaultShouldRevalidate:S||fT(I,N)}))}),_=[];return l.forEach((C,T)=>{if(!n.some(D=>D.route.id===C.routeId))return;let I=go(u,C.path,c);if(!I){_.push(Ie({key:T},C,{matches:null,match:null}));return}let N=eg(I,C.path);if(a.includes(T)){_.push(Ie({key:T,matches:I,match:N},C));return}cw(N,Ie({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:p,nextParams:n[n.length-1].params},r,{actionResult:h,defaultShouldRevalidate:S}))&&_.push(Ie({key:T,matches:I,match:N},C))}),[w,_]}function OO(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function fT(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function cw(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Zm(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ve(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Bo(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!XP.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,{hasErrorBoundary:e(Ie({},i)),lazy:void 0})}async function Ra(t,e,n,r,i,s,o,a,l,u){o===void 0&&(o="/"),a===void 0&&(a=!1),l===void 0&&(l=!1);let c,d,f,h=S=>{let g,m=new Promise((w,_)=>g=_);return f=()=>g(),e.signal.addEventListener("abort",f),Promise.race([S({request:e,params:n.params,context:u}),m])};try{let S=n.route[t];if(n.route.lazy)if(S)d=(await Promise.all([h(S),Zm(n.route,s,i)]))[0];else if(await Zm(n.route,s,i),S=n.route[t],S)d=await h(S);else{if(t==="action")throw ur(405,{method:e.method,pathname:new URL(e.url).pathname,routeId:n.route.id});return{type:pt.data,data:void 0}}else ve(S,"Could not find the "+t+' to run on the "'+n.route.id+'" route'),d=await h(S);ve(d!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(S){c=pt.error,d=S}finally{f&&e.signal.removeEventListener("abort",f)}if(DO(d)){let S=d.status;if(TO.has(S)){let w=d.headers.get("Location");if(ve(w,"Redirects returned/thrown from loaders/actions must have a Location header"),cT.test(w)){if(!a){let _=new URL(e.url),C=w.startsWith("//")?new URL(_.protocol+w):new URL(w),T=fu(C.pathname,o)!=null;C.origin===_.origin&&T&&(w=C.pathname+C.search+C.hash)}}else{let _=r.slice(0,r.indexOf(n)+1),C=$f(_).map(I=>I.pathnameBase),T=zy(w,C,new URL(e.url).pathname);if(ve(Qr(T),"Unable to resolve redirect location: "+w),o){let I=T.pathname;T.pathname=I==="/"?o:zr([o,I])}w=Qr(T)}if(a)throw d.headers.set("Location",w),d;return{type:pt.redirect,status:S,location:w,revalidate:d.headers.get("X-Remix-Revalidate")!==null}}if(l)throw{type:c||pt.data,response:d};let g,m=d.headers.get("Content-Type");return m&&/\bapplication\/json\b/.test(m)?g=await d.json():g=await d.text(),c===pt.error?{type:c,error:new Hy(S,d.statusText,g),headers:d.headers}:{type:pt.data,data:g,statusCode:d.status,headers:d.headers}}if(c===pt.error)return{type:c,error:d};if(d instanceof vO){var y,p;return{type:pt.deferred,deferredData:d,statusCode:(y=d.init)==null?void 0:y.status,headers:((p=d.init)==null?void 0:p.headers)&&new Headers(d.init.headers)}}return{type:pt.data,data:d}}function Aa(t,e,n,r){let i=t.createURL(pT(e)).toString(),s={signal:n};if(r&&Or(r.formMethod)){let{formMethod:o,formEncType:a,formData:l}=r;s.method=o.toUpperCase(),s.body=a==="application/x-www-form-urlencoded"?hT(l):l}return new Request(i,s)}function hT(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function LO(t,e,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,d)=>{let f=e[d].route.id;if(ve(!Io(c),"Cannot handle redirect results in processLoaderData"),al(c)){let h=yo(t,f),y=c.error;r&&(y=Object.values(r)[0],r=void 0),o=o||{},o[h.route.id]==null&&(o[h.route.id]=y),s[f]=void 0,l||(l=!0,a=ol(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else ls(c)?(i.set(f,c.deferredData),s[f]=c.deferredData.data):s[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[f]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function dw(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=LO(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:d,match:f}=s[c];ve(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let h=o[c];if(al(h)){let y=yo(t.matches,f==null?void 0:f.route.id);u&&u[y.route.id]||(u=Ie({},u,{[y.route.id]:h.error})),t.fetchers.delete(d)}else if(Io(h))ve(!1,"Unhandled fetcher revalidation redirect");else if(ls(h))ve(!1,"Unhandled fetcher deferred data");else{let y={state:"idle",data:h.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(d,y)}}return{loaderData:l,errors:u}}function fw(t,e,n,r){let i=Ie({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function yo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function hw(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ur(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"&&(a="defer() is not supported in actions")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Hy(t||500,o,new Error(a),!0)}function pw(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Io(n))return n}}function pT(t){let e=typeof t=="string"?ri(t):t;return Qr(Ie({},e,{hash:""}))}function NO(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function ls(t){return t.type===pt.deferred}function al(t){return t.type===pt.error}function Io(t){return(t&&t.type)===pt.redirect}function DO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function MO(t){return CO.has(t)}function Or(t){return SO.has(t)}async function mw(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!fT(u,l)&&(s&&s[l.route.id])!==void 0;ls(a)&&(i||c)&&await mT(a,r,i).then(d=>{d&&(n[o]=d||n[o])})}}async function mT(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:pt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:pt.error,error:i}}return{type:pt.data,data:t.deferredData.data}}}function gT(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function gw(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function eg(t,e){let n=typeof e=="string"?ri(e).search:e.search;if(t[t.length-1].route.index&&gT(n||""))return t[t.length-1];let r=$f(t);return r[r.length-1]}/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $O(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const jO=typeof Object.is=="function"?Object.is:$O,{useState:UO,useEffect:FO,useLayoutEffect:VO,useDebugValue:zO}=em;function HO(t,e,n){const r=e(),[{inst:i},s]=UO({inst:{value:r,getSnapshot:e}});return VO(()=>{i.value=r,i.getSnapshot=e,up(i)&&s({inst:i})},[t,r,e]),FO(()=>(up(i)&&s({inst:i}),t(()=>{up(i)&&s({inst:i})})),[t]),zO(r),r}function up(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!jO(n,r)}catch{return!0}}function BO(t,e,n){return e()}const qO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WO=!qO,KO=WO?BO:HO,GO="useSyncExternalStore"in em?(t=>t.useSyncExternalStore)(em):KO,By=b.createContext(null),jf=b.createContext(null),ra=b.createContext(null),Uf=b.createContext(null),js=b.createContext({outlet:null,matches:[]}),yT=b.createContext(null);function tg(){return tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tg.apply(this,arguments)}function QO(t,e){let{relative:n}=e===void 0?{}:e;hu()||ve(!1);let{basename:r,navigator:i}=b.useContext(ra),{hash:s,pathname:o,search:a}=qy(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:zr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function hu(){return b.useContext(Uf)!=null}function Bi(){return hu()||ve(!1),b.useContext(Uf).location}function ia(){hu()||ve(!1);let{basename:t,navigator:e}=b.useContext(ra),{matches:n}=b.useContext(js),{pathname:r}=Bi(),i=JSON.stringify($f(n).map(a=>a.pathnameBase)),s=b.useRef(!1);return b.useEffect(()=>{s.current=!0}),b.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=zy(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:zr([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}const YO=b.createContext(null);function XO(t){let e=b.useContext(js).outlet;return e&&b.createElement(YO.Provider,{value:t},e)}function qy(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=b.useContext(js),{pathname:i}=Bi(),s=JSON.stringify($f(r).map(o=>o.pathnameBase));return b.useMemo(()=>zy(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function JO(t,e){hu()||ve(!1);let{navigator:n}=b.useContext(ra),r=b.useContext(jf),{matches:i}=b.useContext(js),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Bi(),u;if(e){var c;let p=typeof e=="string"?ri(e):e;a==="/"||(c=p.pathname)!=null&&c.startsWith(a)||ve(!1),u=p}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",h=go(t,{pathname:f}),y=nL(h&&h.map(p=>Object.assign({},p,{params:Object.assign({},o,p.params),pathname:zr([a,n.encodeLocation?n.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?a:zr([a,n.encodeLocation?n.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,r||void 0);return e&&y?b.createElement(Uf.Provider,{value:{location:tg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:rt.Pop}},y):y}function ZO(){let t=vT(),e=ol(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,s)}class eL extends b.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?b.createElement(js.Provider,{value:this.props.routeContext},b.createElement(yT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tL(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(By);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(js.Provider,{value:e},r)}function nL(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||ve(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=b.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=b.createElement(ZO,null));let c=e.concat(r.slice(0,a+1)),d=()=>{let f=s;return l?f=u:o.route.Component?f=b.createElement(o.route.Component,null):o.route.element&&(f=o.route.element),b.createElement(tL,{match:o,routeContext:{outlet:s,matches:c},children:f})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?b.createElement(eL,{location:n.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var yw;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(yw||(yw={}));var yd;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(yd||(yd={}));function rL(t){let e=b.useContext(jf);return e||ve(!1),e}function iL(t){let e=b.useContext(js);return e||ve(!1),e}function sL(t){let e=iL(),n=e.matches[e.matches.length-1];return n.route.id||ve(!1),n.route.id}function vT(){var t;let e=b.useContext(yT),n=rL(yd.UseRouteError),r=sL(yd.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function oL(t){let{fallbackElement:e,router:n}=t,r=b.useCallback(()=>n.state,[n]),i=GO(n.subscribe,r,r),s=b.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:l=>n.navigate(l),push:(l,u,c)=>n.navigate(l,{state:u,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(l,u,c)=>n.navigate(l,{replace:!0,state:u,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[n]),o=n.basename||"/",a=b.useMemo(()=>({router:n,navigator:s,static:!1,basename:o}),[n,s,o]);return b.createElement(b.Fragment,null,b.createElement(By.Provider,{value:a},b.createElement(jf.Provider,{value:i},b.createElement(uL,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:s},n.state.initialized?b.createElement(cL,null):e))),null)}function aL(t){return XO(t.context)}function lL(t){ve(!1)}function uL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=rt.Pop,navigator:s,static:o=!1}=t;hu()&&ve(!1);let a=e.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=ri(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:h="default"}=r,y=b.useMemo(()=>{let p=fu(u,a);return p==null?null:{location:{pathname:p,search:c,hash:d,state:f,key:h},navigationType:i}},[a,u,c,d,f,h,i]);return y==null?null:b.createElement(ra.Provider,{value:l},b.createElement(Uf.Provider,{children:n,value:y}))}function cL(t){let{children:e,location:n}=t,r=b.useContext(By),i=r&&!e?r.router.routes:ng(e);return JO(i,n)}var vw;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(vw||(vw={}));new Promise(()=>{});function ng(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;if(r.type===b.Fragment){n.push.apply(n,ng(r.props.children,e));return}r.type!==lL&&ve(!1),!r.props.index||!r.props.children||ve(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ng(r.props.children,s)),n.push(o)}),n}function dL(t){return!!t.ErrorBoundary||!!t.errorElement}/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jl.apply(this,arguments)}function wT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hL(t,e){return t.button===0&&(!e||e==="_self")&&!fL(t)}const pL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],mL=["aria-current","caseSensitive","className","end","style","to","children"];function gL(t,e){return RO({basename:e==null?void 0:e.basename,history:GP({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||yL(),routes:t,detectErrorBoundary:dL}).initialize()}function yL(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=jl({},e,{errors:vL(e.errors)})),e}function vL(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Hy(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let s=new Error(i.message);s.stack="",n[r]=s}else n[r]=i;return n}const wL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_L=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ff=b.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,d=wT(e,pL),{basename:f}=b.useContext(ra),h,y=!1;if(typeof u=="string"&&_L.test(u)&&(h=u,wL)){let m=new URL(window.location.href),w=u.startsWith("//")?new URL(m.protocol+u):new URL(u),_=fu(w.pathname,f);w.origin===m.origin&&_!=null?u=_+w.search+w.hash:y=!0}let p=QO(u,{relative:i}),S=SL(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function g(m){r&&r(m),m.defaultPrevented||S(m)}return b.createElement("a",jl({},d,{href:h||p,onClick:y||s?r:g,ref:n,target:l}))}),ys=b.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=e,c=wT(e,mL),d=qy(l,{relative:c.relative}),f=Bi(),h=b.useContext(jf),{navigator:y}=b.useContext(ra),p=y.encodeLocation?y.encodeLocation(d).pathname:d.pathname,S=f.pathname,g=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;i||(S=S.toLowerCase(),g=g?g.toLowerCase():null,p=p.toLowerCase());let m=S===p||!o&&S.startsWith(p)&&S.charAt(p.length)==="/",w=g!=null&&(g===p||!o&&g.startsWith(p)&&g.charAt(p.length)==="/"),_=m?r:void 0,C;typeof s=="function"?C=s({isActive:m,isPending:w}):C=[s,m?"active":null,w?"pending":null].filter(Boolean).join(" ");let T=typeof a=="function"?a({isActive:m,isPending:w}):a;return b.createElement(Ff,jl({},c,{"aria-current":_,className:C,ref:n,style:T,to:l}),typeof u=="function"?u({isActive:m,isPending:w}):u)});var ww;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(ww||(ww={}));var _w;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_w||(_w={}));function SL(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=ia(),l=Bi(),u=qy(t,{relative:o});return b.useCallback(c=>{if(hL(c,n)){c.preventDefault();let d=r!==void 0?r:Qr(l)===Qr(u);a(t,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}function Lt({size:t="default",strokeWidth:e=2,height:n,width:r,children:i,className:s,...o}){const a={tiny:"12px",small:"16px",default:"24px",medium:"32px",large:"36px",extra:"48px",custom:"24px"};return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:r||a[t],height:n||a[t],className:s,fill:"currentColor",stroke:"currentColor",strokeWidth:e,...o,children:i})}function rg(t){return v.jsxs(Lt,{width:"45px",height:"28px",viewBox:"0 0 45 28",stroke:"none",...t,children:[v.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.48798 6L0 22.8H3.98401L5.48108 19.2H13.2687L14.76 22.8H18.84L11.328 6H7.48798ZM12.0459 16.248L9.38251 9.81833L6.70868 16.248H12.0459Z"}),v.jsx("path",{d:"M17.205 6L22.7009 22.8H26.877L30.6852 11.4169L34.3889 22.8H38.5649L44.0609 6H40.3409L36.4266 17.8967L32.5889 6H28.989L25.0272 17.809L21.2369 6H17.205Z"})]})}function EL(t,e){return e&&e.length===t.length?t.map((n,r)=>({...n,id:e[r]})):t.map((n,r)=>({...n,id:r}))}function CL(...t){return{className:t.flat(1/0).filter(e=>e).join(" ").trim()}}function TL(t,e,n,r=""){const i=document.createElement(e);if(n!=null&&n.class){const s=n.class.split(" ");i.classList.add(...s)}return n!=null&&n.id&&i.setAttribute("id",n.id),n!=null&&n.attributes&&n.attributes.forEach(s=>{const o=s.split("=")[0],a=(s.split("=")[1]||"").replaceAll('"',"");i.setAttribute(o,a)}),r&&(i.innerHTML=r),t.append(i),i}function bL(...t){return t.reduce((e,n)=>e.filter(r=>n.includes(r)))}function IL(){return Date.now()}function kL(...t){return t.reduce((e,n)=>e.filter(r=>!n.includes(r)))}function xL(t){return t.map((e,n)=>e!==""?n:"").filter(String)}function xi(t,e){return Math.trunc(Math.random()*(e-t+1)+t)}function RL(){const t=xi(0,255).toString(16),e=xi(0,255).toString(16),n=xi(0,255).toString(16);return`#${t}${e}${n}`}function AL(){const t=xi(0,255),e=xi(0,255),n=xi(0,255);return[t,e,n]}function PL(){let t;return()=>{const e=t>window.scrollY?"UP":"DOWN";return t=window.scrollY,e}}const OL=PL();function nr(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function LL(t,e){return!e&&typeof t=="string"?t[0]:e&&typeof t!="string"?t[e].toString()[0]:null}function NL(t,e){const n=new Map,r=t[0];if(typeof r!="string"&&!nr(r))throw new Error("Invalid value");if(!e&&nr(r))throw new Error("No key provided");return t.forEach(i=>{const s=LL(i,e);n.has(s)?n.set(s,[...n.get(s),i]):n.set(s,[i])}),Array.from(n.entries())}function DL(t){return Object.keys(t).length===0}function ML(...t){return t.flat(1/0).filter(e=>e).join(" ").trim()}function $L(t){return new Date(+t)}function jL(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!nr(r))throw new Error("Invalid value");if(nr(r)&&!e)throw new Error("No key provided");let i=[];return!e&&typeof r=="string"&&(i=n.filter(s=>s.trim()!=="")),e&&typeof r!="string"&&(i=n.filter(s=>s[e].toString().trim()!=="")),i}function UL({callback:t,delay:e,counts:n}){let r=0;const i=setInterval(()=>{t(),r+=1,r===n&&clearInterval(i)},e);return i}function FL(t){const e=t.slice();for(let n=0;n<t.length;n++){const r=xi(0,t.length-1);[e[n],e[r]]=[e[r],e[n]]}return e}function VL(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!nr(r))throw new Error("Invalid value");if(nr(r)&&!e)throw new Error("No key provided");let i=[];return!e&&typeof r=="string"&&(i=n.sort((s,o)=>s.localeCompare(o))),e&&typeof r!="string"&&(i=n.sort((s,o)=>s[e].toString().localeCompare(o[e].toString()))),i}function zL(t,e,n="num"){const r=t.slice();return e&&r.sort((i,s)=>{if(n==="num"){if(+i[e]<+s[e])return-1;if(+i[e]>+s[e])return 1}else{if(i[e]<s[e])return-1;if(i[e]>s[e])return 1}return 0}),r}function HL(t,e,n="..."){return t.length>e?`${t.substring(0,e).trim()}${n}`:t}function BL(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!nr(r))throw new Error("Invalid value");if(nr(r)&&!e)throw new Error("No key provided");let i=0;return!e&&typeof r=="string"?i=t.length-n.reverse().findIndex(s=>s!==""):e&&typeof r!="string"&&(i=t.length-n.reverse().findIndex(s=>s[e]!=="")),n.reverse().splice(0,i)}function qL(t,e){const n=t[0];if(typeof n!="string"&&!nr(n))throw new Error("Invalid value");if(nr(n)&&!e)throw new Error("No key provided");const r=t.slice();let i=0;return!e&&typeof n=="string"?i=r.findIndex(s=>s!==""):e&&typeof n!="string"&&(i=r.findIndex(s=>s[e]!=="")),r.splice(i)}const Z={addId:EL,className:CL,createHTMLElem:TL,getCommonValues:bL,getCurrentDateInMs:IL,getDifferentValues:kL,getIndexesOfNonEmptyElements:xL,getRandomHEXColor:RL,getRandomNumber:xi,getRandomRGBColor:AL,getScrollDirection:OL,groupBy:NL,isObject:nr,isObjectEmpty:DL,join:ML,parseCurrentDateFromMs:$L,removeEmptyValues:jL,setIntervalCounts:UL,shuffleArray:FL,sortArrayLocalCompare:VL,sortArrayOfObj:zL,stringCut:HL,trimEndEmptyValues:BL,trimStartEmptyValues:qL};function Wy({as:t="div",...e}){return v.jsx(t,{...e})}function _T(t){const e=(t==null?void 0:t.size)===10?"col10":"col";return Z.join([(t==null?void 0:t.xx)&&`${e}-xx-${t.xx}`,(t==null?void 0:t.xl)&&`${e}-xl-${t.xl}`,(t==null?void 0:t.lg)&&`${e}-lg-${t.lg}`,(t==null?void 0:t.md)&&`${e}-md-${t.md}`,(t==null?void 0:t.sm)&&`${e}-sm-${t.sm}`,(t==null?void 0:t.xs)&&`${e}-xs-${t.xs}`,(t==null?void 0:t.ss)&&`${e}-ss-${t.ss}`])}const qt=b.forwardRef(({component:t="div",grid:e,children:n,className:r,...i},s)=>{const o=e&&_T(e),a={className:Z.join(r,o),ref:s,...i};return v.jsx(Wy,{as:t,...a,children:n})});qt.displayName="Block";const WL="_StartScreen_srdz3_1",KL={StartScreen:WL};function GL(){return v.jsx(qt,{className:KL.StartScreen,children:v.jsx(rg,{})})}const Ct={home:"/",about:"/about",songslist:"/songslist",chordslist:"/chordslist",login:"/login",signup:"/signup",other:"/*"},Ky={chat:"/chat"};function ll(t,e){return!t.split("/")[2]&&t.split("/")[1]===e}const Us=TP;function Gy(){const{displayName:t}=Us(e=>e.userReducer);return{isAuth:!!t}}const qi=b.forwardRef(({container:t,row:e,component:n="div",children:r,className:i,...s},o)=>{const a=[t&&"container",e&&"row"],l={className:Z.join(i,a),ref:o,...s};return v.jsx(Wy,{as:n,...l,children:r})});qi.displayName="Grid";const QL="_h1_1bs5w_34",YL="_inversion_1bs5w_37",XL="_h2_1bs5w_41",JL="_h3_1bs5w_48",ZL="_h4_1bs5w_55",eN="_h5_1bs5w_62",tN="_h6_1bs5w_69",nN="_subtitle1_1bs5w_76",rN="_subtitle2_1bs5w_83",iN="_p1_1bs5w_90",sN="_p2_1bs5w_97",oN="_caption_1bs5w_104",aN="_overline_1bs5w_111",lN="_link_1bs5w_118",uN="_input_1bs5w_132",cN="_button_1bs5w_460",hn={h1:QL,inversion:YL,h2:XL,h3:JL,h4:ZL,h5:eN,h6:tN,subtitle1:nN,subtitle2:rN,p1:iN,p2:sN,caption:oN,overline:aN,link:lN,"link-sm":"_link-sm_1bs5w_125",input:uN,button:cN,"button-sm":"_button-sm_1bs5w_471","button-icon":"_button-icon_1bs5w_482","button-icon-sm":"_button-icon-sm_1bs5w_493"},dN="_Link_1wghn_57",fN="_noUnderline_1wghn_63",hN="_inverted_1wghn_66",pN="_disabled_1wghn_96",vd={Link:dN,noUnderline:fN,inverted:hN,disabled:pN},vr=b.forwardRef(({display:t,underline:e,children:n,blank:r,className:i,...s},o)=>{const a=[t?hn[t]:hn.link,e===!1&&vd.noUnderline],l=r&&{target:"_blank",rel:"noreferrer noopener"};return v.jsx("span",{className:Z.join(vd.Link,i,a),ref:o,...l,...s,children:n})});vr.displayName="LinkLabel";const mN="_Footer_14zpd_1",gN="_container_14zpd_1",Sw={Footer:mN,container:gN};function yN(){const{pathname:t}=Bi(),{isAuth:e}=Gy(),n=ll(t,"login"),r=ll(t,"signup");return v.jsx(qt,{component:"footer",className:Sw.Footer,children:v.jsx(qi,{container:!0,className:Sw.container,children:!(n||r)&&e&&t!==Ky.chat&&v.jsx(ys,{to:Ct.home,children:v.jsx(vr,{children:"2023 03 12"})})})})}const Qy={version:"2023-03-28_15-54",name:"amelianceworship"};function Vf(t,e){console.error(`${Qy.name} >`,`${t}:`,e)}function ko(...t){console.log(`${Qy.name} >`,...t)}const vN="AKfycbxGD1Lys79Ixt4BQ5mfH3ylX4_ZvtSGUFHltMILILPBWtcdPoSlI3FD5Ir8OcwtBA",ST=`https://script.google.com/macros/s/${vN}/exec`;async function Fs({spreadsheetId:t,sheetName:e,sheetIndex:n,columnTitles:r,columnIndexes:i,type:s}){const o=new URLSearchParams;return t&&o.append("spreadsheetId",t),e&&o.append("sheetName",e),n&&o.append("sheetIndex",n.toString()),r&&o.append("columnTitles",JSON.stringify(r)),i&&o.append("columnIndexes",JSON.stringify(i)),s&&o.append("type",s),fetch(`${ST}?${o}`).then(a=>a.text()).then(a=>JSON.parse(a)).then(a=>(a.status!=="success"&&(ko("doGet","status:",a.status),ko("doGet","info:",a.info),ko("doGet","error:",a.error)),a)).catch(a=>Vf("doGet",a))}async function wN({spreadsheetId:t,sheetIndex:e,sheetName:n}){return Fs({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"TITLED"}).then(r=>r)}async function _N({spreadsheetId:t,sheetIndex:e,sheetName:n}){return Fs({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"TITLED_SINGLE"}).then(r=>r)}async function SN({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r}){return Fs({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r,type:"TITLED"}).then(i=>i)}async function EN({spreadsheetId:t,sheetIndex:e,sheetName:n,columnTitles:r}){return Fs({spreadsheetId:t,sheetIndex:e,sheetName:n,columnTitles:r,type:"TITLED"}).then(i=>i)}async function CN({spreadsheetId:t,sheetIndex:e,sheetName:n}){return Fs({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"UNTITLED"}).then(r=>r)}async function TN({spreadsheetId:t,sheetIndex:e,sheetName:n}){return Fs({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"UNTITLED_SINGLE"}).then(r=>r)}async function bN({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r}){return Fs({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r,type:"UNTITLED"}).then(i=>i)}async function ii({spreadsheetId:t,sheetName:e,sheetIndex:n,titlesParams:r,indexesParams:i,type:s,col:o,row:a,value:l}){const u=new URLSearchParams;return t&&u.append("spreadsheetId",t),e&&u.append("sheetName",e),n&&u.append("sheetIndex",n.toString()),r&&u.append("titlesParams",JSON.stringify(r)),i&&u.append("indexesParams",JSON.stringify(i)),s&&u.append("type",s),o&&u.append("col",o.toString()),a&&u.append("row",a.toString()),l&&u.append("value",l.toString()),fetch(`${ST}?${u}`,{method:"POST"}).then(c=>c.text()).then(c=>JSON.parse(c)).then(c=>(c.status!=="success"&&(ko("doPost",c.status),ko("doPost",c.info),ko("doPost",c.error)),c)).catch(c=>Vf("doPost",c))}async function IN({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){return ii({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"TITLED_SINGLE"}).then(i=>i)}async function kN({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){return ii({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED_SINGLE"}).then(i=>i)}async function xN({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){return ii({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"TITLED"}).then(i=>i)}async function RN({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){return ii({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED"}).then(i=>i)}async function AN({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s}){return ii({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s,type:"TITLED_UPDATE"}).then(o=>o)}async function PN({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){return ii({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED_ONE_ROW"}).then(i=>i)}async function ON({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){return ii({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED_SINGLE"}).then(i=>i)}async function LN({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){return ii({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED"}).then(i=>i)}async function NN({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s}){return ii({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s,type:"UNTITLED_UPDATE"}).then(o=>o)}const DN={getAllTitledColumnsData:wN,getTitledColumnsDataByIndexes:SN,getTitledColumnsDataByTitles:EN,getAllUntitledColumnsData:CN,getUntitledColumnsDataByIndexes:bN,postTitledColumnsDataByIndexes:xN,postSingleTitledColumnsDataByIndexes:IN,postSingleTitledColumnsDataByTitles:kN,postTitledColumnsDataByTitles:RN,postAllUntitledParamsAsOneRow:PN,postSingleUntitledColumnsDataByIndexes:ON,postUntitledColumnsDataByIndexes:LN,postTitledUpdate:AN,postUntitledUpdate:NN,getAllTitledColumnsDataSingle:_N,getAllUntitledColumnsDataSingle:TN};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},MN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},CT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,o||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ET(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw Error();const f=s<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},$N=function(t){const e=ET(t);return CT.encodeByteArray(e,!0)},wd=function(t){return $N(t).replace(/\./g,"")},TT=function(t){try{return CT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function UN(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function FN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VN(){const t=Qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function IT(){try{return typeof indexedDB=="object"}catch{return!1}}function kT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function zN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}function HN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=()=>HN().__FIREBASE_DEFAULTS__,qN=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&TT(t[1]);return e&&JSON.parse(e)},Yy=()=>{try{return BN()||qN()||WN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xT=t=>{var e,n;return(n=(e=Yy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},RT=t=>{const e=xT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KN=()=>{var t;return(t=Yy())===null||t===void 0?void 0:t.config},AT=t=>{var e;return(e=Yy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[wd(JSON.stringify(n)),wd(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="FirebaseError";class zn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QN,Object.setPrototypeOf(this,zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vs.prototype.create)}}class Vs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?YN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new zn(i,a,r)}}function YN(t,e){return t.replace(XN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const XN=/\{\$([^}]+)}/g;function JN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ul(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Ew(s)&&Ew(o)){if(!Ul(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ew(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ba(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function qa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ZN(t,e){const n=new eD(t,e);return n.subscribe.bind(n)}class eD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=cp),i.error===void 0&&(i.error=cp),i.complete===void 0&&(i.complete=cp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=1e3,rD=2,iD=4*60*60*1e3,sD=.5;function Cw(t,e=nD,n=rD){const r=e*Math.pow(n,t),i=Math.round(sD*r*(Math.random()-.5)*2);return Math.min(iD,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t){return t&&t._delegate?t._delegate:t}class Un{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new GN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lD(e))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ns){return this.instances.has(e)}getOptions(e=ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ns){return this.component?this.component.multipleInstances?e:ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aD(t){return t===ns?void 0:t}function lD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const cD={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},dD=Ae.INFO,fD={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},hD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=fD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zf{constructor(e){this.name=e,this._logLevel=dD,this._logHandler=hD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const pD=(t,e)=>e.some(n=>t instanceof n);let Tw,bw;function mD(){return Tw||(Tw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gD(){return bw||(bw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OT=new WeakMap,ig=new WeakMap,LT=new WeakMap,dp=new WeakMap,Xy=new WeakMap;function yD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ri(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&OT.set(n,t)}).catch(()=>{}),Xy.set(e,t),e}function vD(t){if(ig.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ig.set(t,e)}let sg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ig.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ri(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wD(t){sg=t(sg)}function _D(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fp(this),e,...n);return LT.set(r,e.sort?e.sort():[e]),Ri(r)}:gD().includes(t)?function(...e){return t.apply(fp(this),e),Ri(OT.get(this))}:function(...e){return Ri(t.apply(fp(this),e))}}function SD(t){return typeof t=="function"?_D(t):(t instanceof IDBTransaction&&vD(t),pD(t,mD())?new Proxy(t,sg):t)}function Ri(t){if(t instanceof IDBRequest)return yD(t);if(dp.has(t))return dp.get(t);const e=SD(t);return e!==t&&(dp.set(t,e),Xy.set(e,t)),e}const fp=t=>Xy.get(t);function NT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ri(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ri(o.result),l.oldVersion,l.newVersion,Ri(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const ED=["get","getKey","getAll","getAllKeys","count"],CD=["put","add","delete","clear"],hp=new Map;function Iw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hp.get(e))return hp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=CD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ED.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return hp.set(e,s),s}wD(t=>({...t,get:(e,n,r)=>Iw(e,n)||t.get(e,n,r),has:(e,n)=>!!Iw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const og="@firebase/app",kw="0.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new zf("@firebase/app"),ID="@firebase/app-compat",kD="@firebase/analytics-compat",xD="@firebase/analytics",RD="@firebase/app-check-compat",AD="@firebase/app-check",PD="@firebase/auth",OD="@firebase/auth-compat",LD="@firebase/database",ND="@firebase/database-compat",DD="@firebase/functions",MD="@firebase/functions-compat",$D="@firebase/installations",jD="@firebase/installations-compat",UD="@firebase/messaging",FD="@firebase/messaging-compat",VD="@firebase/performance",zD="@firebase/performance-compat",HD="@firebase/remote-config",BD="@firebase/remote-config-compat",qD="@firebase/storage",WD="@firebase/storage-compat",KD="@firebase/firestore",GD="@firebase/firestore-compat",QD="firebase",YD="9.15.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="[DEFAULT]",XD={[og]:"fire-core",[ID]:"fire-core-compat",[xD]:"fire-analytics",[kD]:"fire-analytics-compat",[AD]:"fire-app-check",[RD]:"fire-app-check-compat",[PD]:"fire-auth",[OD]:"fire-auth-compat",[LD]:"fire-rtdb",[ND]:"fire-rtdb-compat",[DD]:"fire-fn",[MD]:"fire-fn-compat",[$D]:"fire-iid",[jD]:"fire-iid-compat",[UD]:"fire-fcm",[FD]:"fire-fcm-compat",[VD]:"fire-perf",[zD]:"fire-perf-compat",[HD]:"fire-rc",[BD]:"fire-rc-compat",[qD]:"fire-gcs",[WD]:"fire-gcs-compat",[KD]:"fire-fst",[GD]:"fire-fst-compat","fire-js":"fire-js",[QD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new Map,lg=new Map;function JD(t,e){try{t.container.addComponent(e)}catch(n){ks.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rr(t){const e=t.name;if(lg.has(e))return ks.debug(`There were multiple attempts to register component ${e}.`),!1;lg.set(e,t);for(const n of _d.values())JD(n,t);return!0}function Wi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ai=new Vs("app","Firebase",ZD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=YD;function DT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ag,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ai.create("bad-app-name",{appName:String(i)});if(n||(n=KN()),!n)throw Ai.create("no-options");const s=_d.get(i);if(s){if(Ul(n,s.options)&&Ul(r,s.config))return s;throw Ai.create("duplicate-app",{appName:i})}const o=new uD(i);for(const l of lg.values())o.addComponent(l);const a=new eM(n,r,o);return _d.set(i,a),a}function Hf(t=ag){const e=_d.get(t);if(!e&&t===ag)return DT();if(!e)throw Ai.create("no-app",{appName:t});return e}function pn(t,e,n){var r;let i=(r=XD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ks.warn(a.join(" "));return}rr(new Un(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM="firebase-heartbeat-database",nM=1,Fl="firebase-heartbeat-store";let pp=null;function MT(){return pp||(pp=NT(tM,nM,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Fl)}}}).catch(t=>{throw Ai.create("idb-open",{originalErrorMessage:t.message})})),pp}async function rM(t){try{return(await MT()).transaction(Fl).objectStore(Fl).get($T(t))}catch(e){if(e instanceof zn)ks.warn(e.message);else{const n=Ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ks.warn(n.message)}}}async function xw(t,e){try{const r=(await MT()).transaction(Fl,"readwrite");return await r.objectStore(Fl).put(e,$T(t)),r.done}catch(n){if(n instanceof zn)ks.warn(n.message);else{const r=Ai.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ks.warn(r.message)}}}function $T(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=1024,sM=30*24*60*60*1e3;class oM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Rw();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=sM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Rw(),{heartbeatsToSend:n,unsentEntries:r}=aM(this._heartbeatsCache.heartbeats),i=wd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Rw(){return new Date().toISOString().substring(0,10)}function aM(t,e=iM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Aw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Aw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IT()?kT().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await rM(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Aw(t){return wd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t){rr(new Un("platform-logger",e=>new TD(e),"PRIVATE")),rr(new Un("heartbeat",e=>new oM(e),"PRIVATE")),pn(og,kw,t),pn(og,kw,"esm2017"),pn("fire-js","")}uM("");function Jy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function jT(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cM=jT,UT=new Vs("auth","Firebase",jT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=new zf("@firebase/auth");function Lc(t,...e){Pw.logLevel<=Ae.ERROR&&Pw.error(`Auth (${sa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t,...e){throw Zy(t,...e)}function wr(t,...e){return Zy(t,...e)}function FT(t,e,n){const r=Object.assign(Object.assign({},cM()),{[e]:n});return new Vs("auth","Firebase",r).create(e,{appName:t.name})}function dM(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Fn(t,"argument-error"),FT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return UT.create(t,...e)}function ue(t,e,...n){if(!t)throw Zy(e,...n)}function jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lc(e),new Error(e)}function Yr(t,e){t||jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=new Map;function Ur(t){Yr(t instanceof Function,"Expected a class definition");let e=Ow.get(t);return e?(Yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ow.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t,e){const n=Wi(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ul(s,e??{}))return i;Fn(i,"already-initialized")}return n.initialize({options:e})}function hM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ur);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function pM(){return Lw()==="http:"||Lw()==="https:"}function Lw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pM()||bT()||"connection"in navigator)?navigator.onLine:!0}function gM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yr(n>e,"Short delay should be less than long delay!"),this.isMobile=jN()||FN()}get(){return mM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t,e){Yr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=new mu(3e4,6e4);function gu(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function oa(t,e,n,r,i={}){return zT(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=pu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),VT.fetch()(HT(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function zT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},yM),e);try{const i=new wM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw uc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw uc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw uc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw uc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw FT(t,c,u);Fn(t,c)}}catch(i){if(i instanceof zn)throw i;Fn(t,"network-request-failed")}}async function yu(t,e,n,r,i={}){const s=await oa(t,e,n,r,i);return"mfaPendingCredential"in s&&Fn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function HT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ev(t.config,i):`${t.config.apiScheme}://${i}`}class wM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wr(this.auth,"network-request-failed")),vM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function uc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=wr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(t,e){return oa(t,"POST","/v1/accounts:delete",e)}async function SM(t,e){return oa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EM(t,e=!1){const n=Ge(t),r=await n.getIdToken(e),i=tv(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ul(mp(i.auth_time)),issuedAtTime:ul(mp(i.iat)),expirationTime:ul(mp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function mp(t){return Number(t)*1e3}function tv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const i=TT(n);return i?JSON.parse(i):(Lc("Failed to decode base64 JWT payload"),null)}catch(i){return Lc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function CM(t){const e=tv(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zn&&TM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function TM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ul(this.lastLoginAt),this.creationTime=ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await qo(t,SM(n,{idToken:r}));ue(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?xM(s.providerUserInfo):[],a=kM(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new BT(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function IM(t){const e=Ge(t);await Sd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function xM(t){return t.map(e=>{var{providerId:n}=e,r=Jy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RM(t,e){const n=await zT(t,{},async()=>{const r=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=HT(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",VT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ue(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await RM(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Vl;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ue(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Jy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new BT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await qo(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return EM(this,e)}reload(){return IM(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new vs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await qo(this,_M(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,p=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:_,isAnonymous:C,providerData:T,stsTokenManager:I}=n;ue(w&&I,e,"internal-error");const N=Vl.fromJSON(this.name,I);ue(typeof w=="string",e,"internal-error"),li(d,e.name),li(f,e.name),ue(typeof _=="boolean",e,"internal-error"),ue(typeof C=="boolean",e,"internal-error"),li(h,e.name),li(y,e.name),li(p,e.name),li(S,e.name),li(g,e.name),li(m,e.name);const A=new vs({uid:w,auth:e,email:f,emailVerified:_,displayName:d,isAnonymous:C,photoURL:y,phoneNumber:h,tenantId:p,stsTokenManager:N,createdAt:g,lastLoginAt:m});return T&&Array.isArray(T)&&(A.providerData=T.map(D=>Object.assign({},D))),S&&(A._redirectEventId=S),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Vl;i.updateFromServerResponse(n);const s=new vs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Sd(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qT.type="NONE";const Nw=qT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t,e,n){return`firebase:${t}:${e}:${n}`}class xo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Nc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Nc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xo(Ur(Nw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ur(Nw);const o=Nc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=vs._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new xo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new xo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YT(e))return"Blackberry";if(XT(e))return"Webos";if(nv(e))return"Safari";if((e.includes("chrome/")||KT(e))&&!e.includes("edge/"))return"Chrome";if(QT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function WT(t=Qt()){return/firefox\//i.test(t)}function nv(t=Qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KT(t=Qt()){return/crios\//i.test(t)}function GT(t=Qt()){return/iemobile/i.test(t)}function QT(t=Qt()){return/android/i.test(t)}function YT(t=Qt()){return/blackberry/i.test(t)}function XT(t=Qt()){return/webos/i.test(t)}function Bf(t=Qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function AM(t=Qt()){var e;return Bf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PM(){return VN()&&document.documentMode===10}function JT(t=Qt()){return Bf(t)||QT(t)||XT(t)||YT(t)||/windows phone/i.test(t)||GT(t)}function OM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(t,e=[]){let n;switch(t){case"Browser":n=Dw(Qt());break;case"Worker":n=`${Dw(Qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mw(this),this.idTokenSubscription=new Mw(this),this.beforeStateQueue=new LM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UT,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await xo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ge(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ur(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function aa(t){return Ge(t)}class Mw{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZN(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function DM(t,e,n){const r=aa(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=eb(e),{host:o,port:a}=MM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||$M()}function eb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function MM(t){const e=eb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:$w(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:$w(o)}}}function $w(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $M(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,n){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}async function jM(t,e){return oa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(t,e){return yu(t,"POST","/v1/accounts:signInWithPassword",gu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FM(t,e){return yu(t,"POST","/v1/accounts:signInWithEmailLink",gu(t,e))}async function VM(t,e){return yu(t,"POST","/v1/accounts:signInWithEmailLink",gu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends rv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new zl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new zl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return UM(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return FM(e,{email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return jM(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return VM(e,{idToken:n,email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(t,e){return yu(t,"POST","/v1/accounts:signInWithIdp",gu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM="http://localhost";class xs extends rv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Jy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new xs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ro(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ro(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ro(e,n)}buildRequest(){const e={requestUri:zM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BM(t){const e=Ba(qa(t)).link,n=e?Ba(qa(e)).deep_link_id:null,r=Ba(qa(t)).deep_link_id;return(r?Ba(qa(r)).link:null)||r||n||e||t}class iv{constructor(e){var n,r,i,s,o,a;const l=Ba(qa(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=HM((i=l.mode)!==null&&i!==void 0?i:null);ue(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=BM(e);try{return new iv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.providerId=la.PROVIDER_ID}static credential(e,n){return zl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=iv.parseLink(n);return ue(r,"argument-error"),zl._fromEmailAndCode(e,r.code,r.tenantId)}}la.PROVIDER_ID="password";la.EMAIL_PASSWORD_SIGN_IN_METHOD="password";la.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends sv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends vu{constructor(){super("facebook.com")}static credential(e){return xs._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xs._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Dr.credential(n,r)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends vu{constructor(){super("github.com")}static credential(e){return xs._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.GITHUB_SIGN_IN_METHOD="github.com";pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends vu{constructor(){super("twitter.com")}static credential(e,n){return xs._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return mi.credential(n,r)}catch{return null}}}mi.TWITTER_SIGN_IN_METHOD="twitter.com";mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(t,e){return yu(t,"POST","/v1/accounts:signUp",gu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await vs._fromIdTokenResponse(e,r,i),o=jw(r);return new Rs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jw(r);return new Rs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends zn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ed.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ed(e,n,r,i)}}function tb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ed._fromErrorAndOperation(t,s,e,r):s})}async function WM(t,e,n=!1){const r=await qo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Rs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await qo(t,tb(r,i,e,t),n);ue(s.idToken,r,"internal-error");const o=tv(s.idToken);ue(o,r,"internal-error");const{sub:a}=o;return ue(t.uid===a,r,"user-mismatch"),Rs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Fn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nb(t,e,n=!1){const r="signIn",i=await tb(t,r,e),s=await Rs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function GM(t,e){return nb(aa(t),e)}async function QM(t,e,n){const r=aa(t),i=await qM(r,{returnSecureToken:!0,email:e,password:n}),s=await Rs._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function YM(t,e,n){return GM(Ge(t),la.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM(t,e){return oa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JM(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ge(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await qo(r,XM(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function ZM(t,e,n,r){return Ge(t).onIdTokenChanged(e,n,r)}function e$(t,e,n){return Ge(t).beforeAuthStateChanged(e,n)}function t$(t,e,n,r){return Ge(t).onAuthStateChanged(e,n,r)}function n$(t){return Ge(t).signOut()}const Cd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cd,"1"),this.storage.removeItem(Cd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r$(){const t=Qt();return nv(t)||Bf(t)}const i$=1e3,s$=10;class ib extends rb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=r$()&&OM(),this.fallbackToPolling=JT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);PM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,s$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},i$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ib.type="LOCAL";const o$=ib;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb extends rb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sb.type="SESSION";const ob=sb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new qf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await a$(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=ov("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return window}function u$(t){_r().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(){return typeof _r().WorkerGlobalScope<"u"&&typeof _r().importScripts=="function"}async function c$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function f$(){return ab()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="firebaseLocalStorageDb",h$=1,Td="firebaseLocalStorage",ub="fbase_key";class wu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wf(t,e){return t.transaction([Td],e?"readwrite":"readonly").objectStore(Td)}function p$(){const t=indexedDB.deleteDatabase(lb);return new wu(t).toPromise()}function cg(){const t=indexedDB.open(lb,h$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Td,{keyPath:ub})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Td)?e(r):(r.close(),await p$(),e(await cg()))})})}async function Uw(t,e,n){const r=Wf(t,!0).put({[ub]:e,value:n});return new wu(r).toPromise()}async function m$(t,e){const n=Wf(t,!1).get(e),r=await new wu(n).toPromise();return r===void 0?null:r.value}function Fw(t,e){const n=Wf(t,!0).delete(e);return new wu(n).toPromise()}const g$=800,y$=3;class cb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>y$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ab()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qf._getInstance(f$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await c$(),!this.activeServiceWorker)return;this.sender=new l$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||d$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cg();return await Uw(e,Cd,"1"),await Fw(e,Cd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Uw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>m$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Wf(i,!1).getAll();return new wu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cb.type="LOCAL";const v$=cb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function _$(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=wr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",w$().appendChild(r)})}function S$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(t,e){return e?Ur(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av extends rv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function E$(t){return nb(t.auth,new av(t),t.bypassAuthState)}function C$(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),KM(n,new av(t),t.bypassAuthState)}async function T$(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),WM(n,new av(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E$;case"linkViaPopup":case"linkViaRedirect":return T$;case"reauthViaPopup":case"reauthViaRedirect":return C$;default:Fn(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$=new mu(2e3,1e4);async function I$(t,e,n){const r=aa(t);dM(t,e,sv);const i=db(r,n);return new us(r,"signInViaPopup",e,i).executeNotNull()}class us extends fb{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,us.currentPopupAction&&us.currentPopupAction.cancel(),us.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const e=ov();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,us.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,b$.get())};e()}}us.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$="pendingRedirect",Dc=new Map;class x$ extends fb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Dc.get(this.auth._key());if(!e){try{const r=await R$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Dc.set(this.auth._key(),e)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function R$(t,e){const n=O$(e),r=P$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function A$(t,e){Dc.set(t._key(),e)}function P$(t){return Ur(t._redirectPersistence)}function O$(t){return Nc(k$,t.config.apiKey,t.name)}async function L$(t,e,n=!1){const r=aa(t),i=db(r,e),o=await new x$(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=10*60*1e3;class D${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!M$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!hb(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N$&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vw(e))}saveEventToCache(e){this.cachedEventUids.add(Vw(e)),this.lastProcessedEventTime=Date.now()}}function Vw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function M$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $$(t,e={}){return oa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U$=/^https?/;async function F$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $$(t);for(const n of e)try{if(V$(n))return}catch{}Fn(t,"unauthorized-domain")}function V$(t){const e=ug(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!U$.test(n))return!1;if(j$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$=new mu(3e4,6e4);function zw(){const t=_r().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function H$(t){return new Promise((e,n)=>{var r,i,s;function o(){zw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zw(),n(wr(t,"network-request-failed"))},timeout:z$.get()})}if(!((i=(r=_r().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=_r().gapi)===null||s===void 0)&&s.load)o();else{const a=S$("iframefcb");return _r()[a]=()=>{gapi.load?o():n(wr(t,"network-request-failed"))},_$(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Mc=null,e})}let Mc=null;function B$(t){return Mc=Mc||H$(t),Mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$=new mu(5e3,15e3),W$="__/auth/iframe",K$="emulator/auth/iframe",G$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y$(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ev(e,K$):`https://${t.config.authDomain}/${W$}`,r={apiKey:e.apiKey,appName:t.name,v:sa},i=Q$.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${pu(r).slice(1)}`}async function X$(t){const e=await B$(t),n=_r().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:Y$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=wr(t,"network-request-failed"),a=_r().setTimeout(()=>{s(o)},q$.get());function l(){_r().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z$=500,ej=600,tj="_blank",nj="http://localhost";class Hw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rj(t,e,n,r=Z$,i=ej){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},J$),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Qt().toLowerCase();n&&(a=KT(u)?tj:n),WT(u)&&(e=e||nj,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,y])=>`${f}${h}=${y},`,"");if(AM(u)&&a!=="_self")return ij(e||"",a),new Hw(null);const d=window.open(e||"",a,c);ue(d,t,"popup-blocked");try{d.focus()}catch{}return new Hw(d)}function ij(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="__/auth/handler",oj="emulator/auth/handler";function Bw(t,e,n,r,i,s){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:sa,eventId:i};if(e instanceof sv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",JN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof vu){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${aj(t)}?${pu(a).slice(1)}`}function aj({config:t}){return t.emulator?ev(t,oj):`https://${t.authDomain}/${sj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="webStorageSupport";class lj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ob,this._completeRedirectFn=L$,this._overrideRedirectResult=A$}async _openPopup(e,n,r,i){var s;Yr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=Bw(e,n,r,ug(),i);return rj(e,o,ov())}async _openRedirect(e,n,r,i){return await this._originValidation(e),u$(Bw(e,n,r,ug(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Yr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await X$(e),r=new D$(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gp,{type:gp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[gp];o!==void 0&&n(!!o),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=F$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JT()||nv()||Bf()}}const uj=lj;var qw="@firebase/auth",Ww="0.21.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function fj(t){rr(new Un("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{ue(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),ue(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZT(t)},c=new NM(a,l,u);return hM(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),rr(new Un("auth-internal",e=>{const n=aa(e.getProvider("auth").getImmediate());return(r=>new cj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pn(qw,Ww,dj(t)),pn(qw,Ww,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=5*60,pj=AT("authIdTokenMaxAge")||hj;let Kw=null;const mj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pj)return;const i=n==null?void 0:n.token;Kw!==i&&(Kw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function gj(t=Hf()){const e=Wi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=fM(t,{popupRedirectResolver:uj,persistence:[v$,o$,ob]}),r=AT("authTokenSyncURL");if(r){const s=mj(r);e$(n,s,()=>s(n.currentUser)),ZM(n,o=>s(o))}const i=xT("auth");return i&&DM(n,`http://${i}`),n}fj("Browser");const pb="@firebase/installations",lv="0.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=1e4,gb=`w:${lv}`,yb="FIS_v2",yj="https://firebaseinstallations.googleapis.com/v1",vj=60*60*1e3,wj="installations",_j="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},As=new Vs(wj,_j,Sj);function vb(t){return t instanceof zn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb({projectId:t}){return`${yj}/projects/${t}/installations`}function _b(t){return{token:t.token,requestStatus:2,expiresIn:Cj(t.expiresIn),creationTime:Date.now()}}async function Sb(t,e){const r=(await e.json()).error;return As.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Eb({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Ej(t,{refreshToken:e}){const n=Eb(t);return n.append("Authorization",Tj(e)),n}async function Cb(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Cj(t){return Number(t.replace("s","000"))}function Tj(t){return`${yb} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bj({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=wb(t),i=Eb(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:yb,appId:t.appId,sdkVersion:gb},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Cb(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:_b(u.authToken)}}else throw await Sb("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=/^[cdef][\w-]{21}$/,dg="";function xj(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Rj(t);return kj.test(n)?n:dg}catch{return dg}}function Rj(t){return Ij(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new Map;function Ib(t,e){const n=Kf(t);kb(n,e),Aj(n,e)}function kb(t,e){const n=bb.get(t);if(n)for(const r of n)r(e)}function Aj(t,e){const n=Pj();n&&n.postMessage({key:t,fid:e}),Oj()}let cs=null;function Pj(){return!cs&&"BroadcastChannel"in self&&(cs=new BroadcastChannel("[Firebase] FID Change"),cs.onmessage=t=>{kb(t.data.key,t.data.fid)}),cs}function Oj(){bb.size===0&&cs&&(cs.close(),cs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj="firebase-installations-database",Nj=1,Ps="firebase-installations-store";let yp=null;function uv(){return yp||(yp=NT(Lj,Nj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ps)}}})),yp}async function bd(t,e){const n=Kf(t),i=(await uv()).transaction(Ps,"readwrite"),s=i.objectStore(Ps),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Ib(t,e.fid),e}async function xb(t){const e=Kf(t),r=(await uv()).transaction(Ps,"readwrite");await r.objectStore(Ps).delete(e),await r.done}async function Gf(t,e){const n=Kf(t),i=(await uv()).transaction(Ps,"readwrite"),s=i.objectStore(Ps),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Ib(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cv(t){let e;const n=await Gf(t.appConfig,r=>{const i=Dj(r),s=Mj(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===dg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Dj(t){const e=t||{fid:xj(),registrationStatus:0};return Rb(e)}function Mj(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(As.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=$j(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:jj(t)}:{installationEntry:e}}async function $j(t,e){try{const n=await bj(t,e);return bd(t.appConfig,n)}catch(n){throw vb(n)&&n.customData.serverCode===409?await xb(t.appConfig):await bd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function jj(t){let e=await Gw(t.appConfig);for(;e.registrationStatus===1;)await Tb(100),e=await Gw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await cv(t);return r||n}return e}function Gw(t){return Gf(t,e=>{if(!e)throw As.create("installation-not-found");return Rb(e)})}function Rb(t){return Uj(t)?{fid:t.fid,registrationStatus:0}:t}function Uj(t){return t.registrationStatus===1&&t.registrationTime+mb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fj({appConfig:t,heartbeatServiceProvider:e},n){const r=Vj(t,n),i=Ej(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:gb,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Cb(()=>fetch(r,a));if(l.ok){const u=await l.json();return _b(u)}else throw await Sb("Generate Auth Token",l)}function Vj(t,{fid:e}){return`${wb(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dv(t,e=!1){let n;const r=await Gf(t.appConfig,s=>{if(!Ab(s))throw As.create("not-registered");const o=s.authToken;if(!e&&Bj(o))return s;if(o.requestStatus===1)return n=zj(t,e),s;{if(!navigator.onLine)throw As.create("app-offline");const a=Wj(s);return n=Hj(t,a),a}});return n?await n:r.authToken}async function zj(t,e){let n=await Qw(t.appConfig);for(;n.authToken.requestStatus===1;)await Tb(100),n=await Qw(t.appConfig);const r=n.authToken;return r.requestStatus===0?dv(t,e):r}function Qw(t){return Gf(t,e=>{if(!Ab(e))throw As.create("not-registered");const n=e.authToken;return Kj(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Hj(t,e){try{const n=await Fj(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await bd(t.appConfig,r),n}catch(n){if(vb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await xb(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await bd(t.appConfig,r)}throw n}}function Ab(t){return t!==void 0&&t.registrationStatus===2}function Bj(t){return t.requestStatus===2&&!qj(t)}function qj(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+vj}function Wj(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Kj(t){return t.requestStatus===1&&t.requestTime+mb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(t){const e=t,{installationEntry:n,registrationPromise:r}=await cv(e);return r?r.catch(console.error):dv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(t,e=!1){const n=t;return await Yj(n),(await dv(n,e)).token}async function Yj(t){const{registrationPromise:e}=await cv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(t){if(!t||!t.options)throw vp("App Configuration");if(!t.name)throw vp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw vp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function vp(t){return As.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="installations",Jj="installations-internal",Zj=t=>{const e=t.getProvider("app").getImmediate(),n=Xj(e),r=Wi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},e4=t=>{const e=t.getProvider("app").getImmediate(),n=Wi(e,Pb).getImmediate();return{getId:()=>Gj(n),getToken:i=>Qj(n,i)}};function t4(){rr(new Un(Pb,Zj,"PUBLIC")),rr(new Un(Jj,e4,"PRIVATE"))}t4();pn(pb,lv);pn(pb,lv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="analytics",n4="firebase_id",r4="origin",i4=60*1e3,s4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ob="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn=new zf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function o4(t,e){const n=document.createElement("script");n.src=`${Ob}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function a4(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function l4(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await Lb(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Sn.error(a)}t("config",i,s)}async function u4(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await Lb(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Sn.error(s)}}function c4(t,e,n,r){async function i(s,o,a){try{s==="event"?await u4(t,e,n,o,a):s==="config"?await l4(t,e,n,r,o,a):s==="consent"?t("consent","update",a):t("set",o)}catch(l){Sn.error(l)}}return i}function d4(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=c4(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function f4(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Ob)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},Dn=new Vs("analytics","Analytics",h4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=30,m4=1e3;class g4{constructor(e={},n=m4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Nb=new g4;function y4(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function v4(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:y4(r)},s=s4.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Dn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function w4(t,e=Nb,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Dn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Dn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new E4;return setTimeout(async()=>{a.abort()},n!==void 0?n:i4),Db({appId:r,apiKey:i,measurementId:s},o,a,e)}async function Db(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Nb){var s;const{appId:o,measurementId:a}=t;try{await _4(r,e)}catch(l){if(a)return Sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await v4(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!S4(u)){if(i.deleteThrottleMetadata(o),a)return Sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?Cw(n,i.intervalMillis,p4):Cw(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),Sn.debug(`Calling attemptFetch again in ${c} millis`),Db(t,d,r,i)}}function _4(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function S4(t){if(!(t instanceof zn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class E4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function C4(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(){if(IT())try{await kT()}catch(t){return Sn.warn(Dn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Sn.warn(Dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function b4(t,e,n,r,i,s,o){var a;const l=w4(t);l.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Sn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Sn.error(h)),e.push(l);const u=T4().then(h=>{if(h)return r.getId()}),[c,d]=await Promise.all([l,u]);f4(s)||o4(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[r4]="firebase",f.update=!0,d!=null&&(f[n4]=d),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.app=e}_delete(){return delete cl[this.app.options.appId],Promise.resolve()}}let cl={},Yw=[];const Xw={};let wp="dataLayer",k4="gtag",Jw,Mb,Zw=!1;function x4(){const t=[];if(bT()&&t.push("This is a browser extension environment."),zN()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Dn.create("invalid-analytics-context",{errorInfo:e});Sn.warn(n.message)}}function R4(t,e,n){x4();const r=t.options.appId;if(!r)throw Dn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Dn.create("no-api-key");if(cl[r]!=null)throw Dn.create("already-exists",{id:r});if(!Zw){a4(wp);const{wrappedGtag:s,gtagCore:o}=d4(cl,Yw,Xw,wp,k4);Mb=s,Jw=o,Zw=!0}return cl[r]=b4(t,Yw,Xw,e,Jw,wp,n),new I4(t)}function A4(t=Hf()){t=Ge(t);const e=Wi(t,Id);return e.isInitialized()?e.getImmediate():P4(t)}function P4(t,e={}){const n=Wi(t,Id);if(n.isInitialized()){const i=n.getImmediate();if(Ul(e,n.getOptions()))return i;throw Dn.create("already-initialized")}return n.initialize({options:e})}function O4(t,e,n,r){t=Ge(t),C4(Mb,cl[t.app.options.appId],e,n,r).catch(i=>Sn.error(i))}const e_="@firebase/analytics",t_="0.9.0";function L4(){rr(new Un(Id,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return R4(r,i,n)},"PUBLIC")),rr(new Un("analytics-internal",t,"PRIVATE")),pn(e_,t_),pn(e_,t_,"esm2017");function t(e){try{const n=e.getProvider(Id).getImmediate();return{logEvent:(r,i,s)=>O4(n,r,i,s)}}catch(n){throw Dn.create("interop-component-reg-failed",{reason:n})}}}L4();var N4="firebase",D4="9.15.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn(N4,D4,"app");var M4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y,fv=fv||{},fe=M4||self;function kd(){}function Qf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function _u(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function $4(t){return Object.prototype.hasOwnProperty.call(t,_p)&&t[_p]||(t[_p]=++j4)}var _p="closure_uid_"+(1e9*Math.random()>>>0),j4=0;function U4(t,e,n){return t.call.apply(t.bind,arguments)}function F4(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Wt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Wt=U4:Wt=F4,Wt.apply(null,arguments)}function cc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Nt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ki(){this.s=this.s,this.o=this.o}var V4=0;Ki.prototype.s=!1;Ki.prototype.na=function(){!this.s&&(this.s=!0,this.M(),V4!=0)&&$4(this)};Ki.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $b=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function hv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function n_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Qf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Kt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Kt.prototype.h=function(){this.defaultPrevented=!0};var z4=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{fe.addEventListener("test",kd,e),fe.removeEventListener("test",kd,e)}catch{}return t}();function xd(t){return/^[\s\xa0]*$/.test(t)}var r_=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Sp(t,e){return t<e?-1:t>e?1:0}function Yf(){var t=fe.navigator;return t&&(t=t.userAgent)?t:""}function dr(t){return Yf().indexOf(t)!=-1}function pv(t){return pv[" "](t),t}pv[" "]=kd;function H4(t){var e=W4;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var B4=dr("Opera"),Wo=dr("Trident")||dr("MSIE"),jb=dr("Edge"),fg=jb||Wo,Ub=dr("Gecko")&&!(Yf().toLowerCase().indexOf("webkit")!=-1&&!dr("Edge"))&&!(dr("Trident")||dr("MSIE"))&&!dr("Edge"),q4=Yf().toLowerCase().indexOf("webkit")!=-1&&!dr("Edge");function Fb(){var t=fe.document;return t?t.documentMode:void 0}var Rd;e:{var Ep="",Cp=function(){var t=Yf();if(Ub)return/rv:([^\);]+)(\)|;)/.exec(t);if(jb)return/Edge\/([\d\.]+)/.exec(t);if(Wo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(q4)return/WebKit\/(\S+)/.exec(t);if(B4)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Cp&&(Ep=Cp?Cp[1]:""),Wo){var Tp=Fb();if(Tp!=null&&Tp>parseFloat(Ep)){Rd=String(Tp);break e}}Rd=Ep}var W4={};function K4(){return H4(function(){let t=0;const e=r_(String(Rd)).split("."),n=r_("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Sp(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Sp(i[2].length==0,s[2].length==0)||Sp(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var hg;if(fe.document&&Wo){var i_=Fb();hg=i_||parseInt(Rd,10)||void 0}else hg=void 0;var G4=hg;function Hl(t,e){if(Kt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Ub){e:{try{pv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Q4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Hl.X.h.call(this)}}Nt(Hl,Kt);var Q4={2:"touch",3:"pen",4:"mouse"};Hl.prototype.h=function(){Hl.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Su="closure_listenable_"+(1e6*Math.random()|0),Y4=0;function X4(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++Y4,this.ba=this.ea=!1}function Xf(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function mv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Vb(t){const e={};for(const n in t)e[n]=t[n];return e}const s_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zb(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<s_.length;s++)n=s_[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Jf(t){this.src=t,this.g={},this.h=0}Jf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=mg(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new X4(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function pg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=$b(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Xf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function mg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var gv="closure_lm_"+(1e6*Math.random()|0),bp={};function Hb(t,e,n,r,i){if(r&&r.once)return qb(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Hb(t,e[s],n,r,i);return null}return n=wv(n),t&&t[Su]?t.N(e,n,_u(r)?!!r.capture:!!r,i):Bb(t,e,n,!1,r,i)}function Bb(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=_u(i)?!!i.capture:!!i,a=vv(t);if(a||(t[gv]=a=new Jf(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=J4(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)z4||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Kb(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function J4(){function t(n){return e.call(t.src,t.listener,n)}const e=Z4;return t}function qb(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)qb(t,e[s],n,r,i);return null}return n=wv(n),t&&t[Su]?t.O(e,n,_u(r)?!!r.capture:!!r,i):Bb(t,e,n,!0,r,i)}function Wb(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Wb(t,e[s],n,r,i);else r=_u(r)?!!r.capture:!!r,n=wv(n),t&&t[Su]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=mg(s,n,r,i),-1<n&&(Xf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=vv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=mg(e,n,r,i)),(n=-1<t?e[t]:null)&&yv(n))}function yv(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Su])pg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Kb(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vv(e))?(pg(n,t),n.h==0&&(n.src=null,e[gv]=null)):Xf(t)}}}function Kb(t){return t in bp?bp[t]:bp[t]="on"+t}function Z4(t,e){if(t.ba)t=!0;else{e=new Hl(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&yv(t),t=n.call(r,e)}return t}function vv(t){return t=t[gv],t instanceof Jf?t:null}var Ip="__closure_events_fn_"+(1e9*Math.random()>>>0);function wv(t){return typeof t=="function"?t:(t[Ip]||(t[Ip]=function(e){return t.handleEvent(e)}),t[Ip])}function bt(){Ki.call(this),this.i=new Jf(this),this.P=this,this.I=null}Nt(bt,Ki);bt.prototype[Su]=!0;bt.prototype.removeEventListener=function(t,e,n,r){Wb(this,t,e,n,r)};function Pt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Kt(e,t);else if(e instanceof Kt)e.target=e.target||t;else{var i=e;e=new Kt(r,t),zb(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=dc(o,r,!0,e)&&i}if(o=e.g=t,i=dc(o,r,!0,e)&&i,i=dc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=dc(o,r,!1,e)&&i}bt.prototype.M=function(){if(bt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xf(n[r]);delete t.g[e],t.h--}}this.I=null};bt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};bt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function dc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&pg(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var _v=fe.JSON.stringify;function e3(){var t=Yb;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class t3{constructor(){this.h=this.g=null}add(e,n){const r=Gb.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Gb=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new n3,t=>t.reset());class n3{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function r3(t){fe.setTimeout(()=>{throw t},0)}function Qb(t,e){gg||i3(),yg||(gg(),yg=!0),Yb.add(t,e)}var gg;function i3(){var t=fe.Promise.resolve(void 0);gg=function(){t.then(s3)}}var yg=!1,Yb=new t3;function s3(){for(var t;t=e3();){try{t.h.call(t.g)}catch(n){r3(n)}var e=Gb;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}yg=!1}function Zf(t,e){bt.call(this),this.h=t||1,this.g=e||fe,this.j=Wt(this.lb,this),this.l=Date.now()}Nt(Zf,bt);Y=Zf.prototype;Y.ca=!1;Y.R=null;Y.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Pt(this,"tick"),this.ca&&(Sv(this),this.start()))}};Y.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Sv(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}Y.M=function(){Zf.X.M.call(this),Sv(this),delete this.g};function Ev(t,e,n){if(typeof t=="function")n&&(t=Wt(t,n));else if(t&&typeof t.handleEvent=="function")t=Wt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:fe.setTimeout(t,e||0)}function Xb(t){t.g=Ev(()=>{t.g=null,t.i&&(t.i=!1,Xb(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class o3 extends Ki{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Xb(this)}M(){super.M(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bl(t){Ki.call(this),this.h=t,this.g={}}Nt(Bl,Ki);var o_=[];function Jb(t,e,n,r){Array.isArray(n)||(n&&(o_[0]=n.toString()),n=o_);for(var i=0;i<n.length;i++){var s=Hb(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Zb(t){mv(t.g,function(e,n){this.g.hasOwnProperty(n)&&yv(e)},t),t.g={}}Bl.prototype.M=function(){Bl.X.M.call(this),Zb(this)};Bl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function eh(){this.g=!0}eh.prototype.Aa=function(){this.g=!1};function a3(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function l3(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function vo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+c3(t,n)+(r?" "+r:"")})}function u3(t,e){t.info(function(){return"TIMEOUT: "+e})}eh.prototype.info=function(){};function c3(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return _v(n)}catch{return e}}var zs={},a_=null;function th(){return a_=a_||new bt}zs.Pa="serverreachability";function eI(t){Kt.call(this,zs.Pa,t)}Nt(eI,Kt);function ql(t){const e=th();Pt(e,new eI(e))}zs.STAT_EVENT="statevent";function tI(t,e){Kt.call(this,zs.STAT_EVENT,t),this.stat=e}Nt(tI,Kt);function tn(t){const e=th();Pt(e,new tI(e,t))}zs.Qa="timingevent";function nI(t,e){Kt.call(this,zs.Qa,t),this.size=e}Nt(nI,Kt);function Eu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){t()},e)}var nh={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},rI={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Cv(){}Cv.prototype.h=null;function l_(t){return t.h||(t.h=t.i())}function iI(){}var Cu={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Tv(){Kt.call(this,"d")}Nt(Tv,Kt);function bv(){Kt.call(this,"c")}Nt(bv,Kt);var vg;function rh(){}Nt(rh,Cv);rh.prototype.g=function(){return new XMLHttpRequest};rh.prototype.i=function(){return{}};vg=new rh;function Tu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Bl(this),this.O=d3,t=fg?125:void 0,this.T=new Zf(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new sI}function sI(){this.i=null,this.g="",this.h=!1}var d3=45e3,wg={},Ad={};Y=Tu.prototype;Y.setTimeout=function(t){this.O=t};function _g(t,e,n){t.K=1,t.v=sh(Xr(e)),t.s=n,t.P=!0,oI(t,null)}function oI(t,e){t.F=Date.now(),bu(t),t.A=Xr(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),pI(n.i,"t",r),t.C=0,n=t.l.H,t.h=new sI,t.g=DI(t.l,n?e:null,!t.s),0<t.N&&(t.L=new o3(Wt(t.La,t,t.g),t.N)),Jb(t.S,t.g,"readystatechange",t.ib),e=t.H?Vb(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),ql(),a3(t.j,t.u,t.A,t.m,t.U,t.s)}Y.ib=function(t){t=t.target;const e=this.L;e&&Fr(t)==3?e.l():this.La(t)};Y.La=function(t){try{if(t==this.g)e:{const c=Fr(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>c)&&(c!=3||fg||this.g&&(this.h.h||this.g.fa()||f_(this.g)))){this.I||c!=4||e==7||(e==8||0>=d?ql(3):ql(2)),ih(this);var n=this.g.aa();this.Y=n;t:if(aI(this)){var r=f_(this.g);t="";var i=r.length,s=Fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ds(this),dl(this);var o="";break t}this.h.i=new fe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,l3(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xd(a)){var u=a;break t}}u=null}if(n=u)vo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Sg(this,n);else{this.i=!1,this.o=3,tn(12),ds(this),dl(this);break e}}this.P?(lI(this,c,o),fg&&this.i&&c==3&&(Jb(this.S,this.T,"tick",this.hb),this.T.start())):(vo(this.j,this.m,o,null),Sg(this,o)),c==4&&ds(this),this.i&&!this.I&&(c==4?PI(this.l,this):(this.i=!1,bu(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,tn(12)):(this.o=0,tn(13)),ds(this),dl(this)}}}catch{}finally{}};function aI(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function lI(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=f3(t,n),i==Ad){e==4&&(t.o=4,tn(14),r=!1),vo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==wg){t.o=4,tn(15),vo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else vo(t.j,t.m,i,null),Sg(t,i);aI(t)&&i!=Ad&&i!=wg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,tn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ov(e),e.K=!0,tn(11))):(vo(t.j,t.m,n,"[Invalid Chunked Response]"),ds(t),dl(t))}Y.hb=function(){if(this.g){var t=Fr(this.g),e=this.g.fa();this.C<e.length&&(ih(this),lI(this,t,e),this.i&&t!=4&&bu(this))}};function f3(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Ad:(n=Number(e.substring(n,r)),isNaN(n)?wg:(r+=1,r+n>e.length?Ad:(e=e.substr(r,n),t.C=r+n,e)))}Y.cancel=function(){this.I=!0,ds(this)};function bu(t){t.V=Date.now()+t.O,uI(t,t.O)}function uI(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Eu(Wt(t.gb,t),e)}function ih(t){t.B&&(fe.clearTimeout(t.B),t.B=null)}Y.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(u3(this.j,this.A),this.K!=2&&(ql(),tn(17)),ds(this),this.o=2,dl(this)):uI(this,this.V-t)};function dl(t){t.l.G==0||t.I||PI(t.l,t)}function ds(t){ih(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Sv(t.T),Zb(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Sg(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Eg(n.h,t))){if(!t.J&&Eg(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Ld(n),lh(n);else break e;Pv(n),tn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Eu(Wt(n.cb,n),6e3));if(1>=yI(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else fs(n,11)}else if((t.J||n.g==t)&&Ld(n),!xd(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const d=u[4];d!=null&&(n.Ca=d,n.j.info("SVER="+n.Ca));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const y=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.h;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Iv(s,s.h),s.h=null))}if(r.D){const p=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(r.za=p,We(r.F,r.D,p))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=NI(r,r.H?r.ka:null,r.V),o.J){vI(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(ih(a),bu(a)),r.g=o}else RI(r);0<n.i.length&&uh(n)}else u[0]!="stop"&&u[0]!="close"||fs(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?fs(n,7):Av(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}ql(4)}catch{}}function h3(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Qf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function p3(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Qf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function cI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Qf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=p3(t),r=h3(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var dI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function m3(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ws(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ws){this.h=e!==void 0?e:t.h,Pd(this,t.j),this.s=t.s,this.g=t.g,Od(this,t.m),this.l=t.l,e=t.i;var n=new Wl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),u_(this,n),this.o=t.o}else t&&(n=String(t).match(dI))?(this.h=!!e,Pd(this,n[1]||"",!0),this.s=Wa(n[2]||""),this.g=Wa(n[3]||"",!0),Od(this,n[4]),this.l=Wa(n[5]||"",!0),u_(this,n[6]||"",!0),this.o=Wa(n[7]||"")):(this.h=!!e,this.i=new Wl(null,this.h))}ws.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ka(e,c_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ka(e,c_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ka(n,n.charAt(0)=="/"?v3:y3,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ka(n,_3)),t.join("")};function Xr(t){return new ws(t)}function Pd(t,e,n){t.j=n?Wa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Od(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function u_(t,e,n){e instanceof Wl?(t.i=e,S3(t.i,t.h)):(n||(e=Ka(e,w3)),t.i=new Wl(e,t.h))}function We(t,e,n){t.i.set(e,n)}function sh(t){return We(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Wa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ka(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,g3),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function g3(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var c_=/[#\/\?@]/g,y3=/[#\?:]/g,v3=/[#\?]/g,w3=/[#\?@]/g,_3=/#/g;function Wl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Gi(t){t.g||(t.g=new Map,t.h=0,t.i&&m3(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Y=Wl.prototype;Y.add=function(t,e){Gi(this),this.i=null,t=ua(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function fI(t,e){Gi(t),e=ua(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function hI(t,e){return Gi(t),e=ua(t,e),t.g.has(e)}Y.forEach=function(t,e){Gi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Y.oa=function(){Gi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Y.W=function(t){Gi(this);let e=[];if(typeof t=="string")hI(this,t)&&(e=e.concat(this.g.get(ua(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Y.set=function(t,e){return Gi(this),this.i=null,t=ua(this,t),hI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Y.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function pI(t,e,n){fI(t,e),0<n.length&&(t.i=null,t.g.set(ua(t,e),hv(n)),t.h+=n.length)}Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ua(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function S3(t,e){e&&!t.j&&(Gi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(fI(this,r),pI(this,i,n))},t)),t.j=e}var E3=class{constructor(e,n){this.h=e,this.g=n}};function mI(t){this.l=t||C3,fe.PerformanceNavigationTiming?(t=fe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(fe.g&&fe.g.Ga&&fe.g.Ga()&&fe.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var C3=10;function gI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function yI(t){return t.h?1:t.g?t.g.size:0}function Eg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Iv(t,e){t.g?t.g.add(e):t.h=e}function vI(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}mI.prototype.cancel=function(){if(this.i=wI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function wI(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return hv(t.i)}function kv(){}kv.prototype.stringify=function(t){return fe.JSON.stringify(t,void 0)};kv.prototype.parse=function(t){return fe.JSON.parse(t,void 0)};function T3(){this.g=new kv}function b3(t,e,n){const r=n||"";try{cI(t,function(i,s){let o=i;_u(i)&&(o=_v(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function I3(t,e){const n=new eh;if(fe.Image){const r=new Image;r.onload=cc(fc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=cc(fc,n,r,"TestLoadImage: error",!1,e),r.onabort=cc(fc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=cc(fc,n,r,"TestLoadImage: timeout",!1,e),fe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function fc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Iu(t){this.l=t.ac||null,this.j=t.jb||!1}Nt(Iu,Cv);Iu.prototype.g=function(){return new oh(this.l,this.j)};Iu.prototype.i=function(t){return function(){return t}}({});function oh(t,e){bt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=xv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nt(oh,bt);var xv=0;Y=oh.prototype;Y.open=function(t,e){if(this.readyState!=xv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Kl(this)};Y.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||fe).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ku(this)),this.readyState=xv};Y.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Kl(this)),this.g&&(this.readyState=3,Kl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_I(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function _I(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}Y.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ku(this):Kl(this),this.readyState==3&&_I(this)}};Y.Va=function(t){this.g&&(this.response=this.responseText=t,ku(this))};Y.Ua=function(t){this.g&&(this.response=t,ku(this))};Y.ga=function(){this.g&&ku(this)};function ku(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Kl(t)}Y.setRequestHeader=function(t,e){this.v.append(t,e)};Y.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Y.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Kl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(oh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var k3=fe.JSON.parse;function tt(t){bt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=SI,this.K=this.L=!1}Nt(tt,bt);var SI="",x3=/^https?$/i,R3=["POST","PUT"];Y=tt.prototype;Y.Ka=function(t){this.L=t};Y.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():vg.g(),this.C=this.u?l_(this.u):l_(vg),this.g.onreadystatechange=Wt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){d_(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=fe.FormData&&t instanceof fe.FormData,!(0<=$b(R3,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{TI(this),0<this.B&&((this.K=A3(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wt(this.qa,this)):this.A=Ev(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){d_(this,s)}};function A3(t){return Wo&&K4()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Y.qa=function(){typeof fv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pt(this,"timeout"),this.abort(8))};function d_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,EI(t),ah(t)}function EI(t){t.D||(t.D=!0,Pt(t,"complete"),Pt(t,"error"))}Y.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Pt(this,"complete"),Pt(this,"abort"),ah(this))};Y.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ah(this,!0)),tt.X.M.call(this)};Y.Ha=function(){this.s||(this.F||this.v||this.l?CI(this):this.fb())};Y.fb=function(){CI(this)};function CI(t){if(t.h&&typeof fv<"u"&&(!t.C[1]||Fr(t)!=4||t.aa()!=2)){if(t.v&&Fr(t)==4)Ev(t.Ha,0,t);else if(Pt(t,"readystatechange"),Fr(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(dI)[1]||null;if(!i&&fe.self&&fe.self.location){var s=fe.self.location.protocol;i=s.substr(0,s.length-1)}r=!x3.test(i?i.toLowerCase():"")}n=r}if(n)Pt(t,"complete"),Pt(t,"success");else{t.m=6;try{var o=2<Fr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",EI(t)}}finally{ah(t)}}}}function ah(t,e){if(t.g){TI(t);const n=t.g,r=t.C[0]?kd:null;t.g=null,t.C=null,e||Pt(t,"ready");try{n.onreadystatechange=r}catch{}}}function TI(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(fe.clearTimeout(t.A),t.A=null)}function Fr(t){return t.g?t.g.readyState:0}Y.aa=function(){try{return 2<Fr(this)?this.g.status:-1}catch{return-1}};Y.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};Y.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),k3(e)}};function f_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case SI:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}Y.Ea=function(){return this.m};Y.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function bI(t){let e="";return mv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Rv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=bI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):We(t,e,n))}function Pa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function II(t){this.Ca=0,this.i=[],this.j=new eh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Pa("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Pa("baseRetryDelayMs",5e3,t),this.bb=Pa("retryDelaySeedMs",1e4,t),this.$a=Pa("forwardChannelMaxRetries",2,t),this.ta=Pa("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new mI(t&&t.concurrentRequestLimit),this.Fa=new T3,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}Y=II.prototype;Y.ma=8;Y.G=1;function Av(t){if(kI(t),t.G==3){var e=t.U++,n=Xr(t.F);We(n,"SID",t.I),We(n,"RID",e),We(n,"TYPE","terminate"),xu(t,n),e=new Tu(t,t.j,e,void 0),e.K=2,e.v=sh(Xr(n)),n=!1,fe.navigator&&fe.navigator.sendBeacon&&(n=fe.navigator.sendBeacon(e.v.toString(),"")),!n&&fe.Image&&(new Image().src=e.v,n=!0),n||(e.g=DI(e.l,null),e.g.da(e.v)),e.F=Date.now(),bu(e)}LI(t)}function lh(t){t.g&&(Ov(t),t.g.cancel(),t.g=null)}function kI(t){lh(t),t.u&&(fe.clearTimeout(t.u),t.u=null),Ld(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&fe.clearTimeout(t.m),t.m=null)}function uh(t){gI(t.h)||t.m||(t.m=!0,Qb(t.Ja,t),t.C=0)}function P3(t,e){return yI(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Eu(Wt(t.Ja,t,e),OI(t,t.C)),t.C++,!0)}Y.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Tu(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=Vb(s),zb(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=xI(this,i,e),n=Xr(this.F),We(n,"RID",t),We(n,"CVER",22),this.D&&We(n,"X-HTTP-Session-Id",this.D),xu(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(bI(s)))+"&"+e:this.o&&Rv(n,this.o,s)),Iv(this.h,i),this.Ya&&We(n,"TYPE","init"),this.O?(We(n,"$req",e),We(n,"SID","null"),i.Z=!0,_g(i,n,null)):_g(i,n,e),this.G=2}}else this.G==3&&(t?h_(this,t):this.i.length==0||gI(this.h)||h_(this))};function h_(t,e){var n;e?n=e.m:n=t.U++;const r=Xr(t.F);We(r,"SID",t.I),We(r,"RID",n),We(r,"AID",t.T),xu(t,r),t.o&&t.s&&Rv(r,t.o,t.s),n=new Tu(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=xI(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Iv(t.h,n),_g(n,r,e)}function xu(t,e){t.ia&&mv(t.ia,function(n,r){We(e,r,n)}),t.l&&cI({},function(n,r){We(e,r,n)})}function xI(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Wt(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{b3(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function RI(t){t.g||t.u||(t.Z=1,Qb(t.Ia,t),t.A=0)}function Pv(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Eu(Wt(t.Ia,t),OI(t,t.A)),t.A++,!0)}Y.Ia=function(){if(this.u=null,AI(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Eu(Wt(this.eb,this),t)}};Y.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,tn(10),lh(this),AI(this))};function Ov(t){t.B!=null&&(fe.clearTimeout(t.B),t.B=null)}function AI(t){t.g=new Tu(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Xr(t.sa);We(e,"RID","rpc"),We(e,"SID",t.I),We(e,"CI",t.L?"0":"1"),We(e,"AID",t.T),We(e,"TYPE","xmlhttp"),xu(t,e),t.o&&t.s&&Rv(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=sh(Xr(e)),n.s=null,n.P=!0,oI(n,t)}Y.cb=function(){this.v!=null&&(this.v=null,lh(this),Pv(this),tn(19))};function Ld(t){t.v!=null&&(fe.clearTimeout(t.v),t.v=null)}function PI(t,e){var n=null;if(t.g==e){Ld(t),Ov(t),t.g=null;var r=2}else if(Eg(t.h,e))n=e.D,vI(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=th(),Pt(r,new nI(r,n)),uh(t)}else RI(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&P3(t,e)||r==2&&Pv(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:fs(t,5);break;case 4:fs(t,10);break;case 3:fs(t,6);break;default:fs(t,2)}}}function OI(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function fs(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Wt(t.kb,t);n||(n=new ws("//www.google.com/images/cleardot.gif"),fe.location&&fe.location.protocol=="http"||Pd(n,"https"),sh(n)),I3(n.toString(),r)}else tn(2);t.G=0,t.l&&t.l.va(e),LI(t),kI(t)}Y.kb=function(t){t?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function LI(t){if(t.G=0,t.la=[],t.l){const e=wI(t.h);(e.length!=0||t.i.length!=0)&&(n_(t.la,e),n_(t.la,t.i),t.h.i.length=0,hv(t.i),t.i.length=0),t.l.ua()}}function NI(t,e,n){var r=n instanceof ws?Xr(n):new ws(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Od(r,r.m);else{var i=fe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ws(null,void 0);r&&Pd(s,r),e&&(s.g=e),i&&Od(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&We(r,n,e),We(r,"VER",t.ma),xu(t,r),r}function DI(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new tt(new Iu({jb:!0})):new tt(t.ra),e.Ka(t.H),e}function MI(){}Y=MI.prototype;Y.xa=function(){};Y.wa=function(){};Y.va=function(){};Y.ua=function(){};Y.Ra=function(){};function Nd(){if(Wo&&!(10<=Number(G4)))throw Error("Environmental error: no available transport.")}Nd.prototype.g=function(t,e){return new Cn(t,e)};function Cn(t,e){bt.call(this),this.g=new II(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!xd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xd(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ca(this)}Nt(Cn,bt);Cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;tn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=NI(t,null,t.V),uh(t)};Cn.prototype.close=function(){Av(this.g)};Cn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=_v(t),t=n);e.i.push(new E3(e.ab++,t)),e.G==3&&uh(e)};Cn.prototype.M=function(){this.g.l=null,delete this.j,Av(this.g),delete this.g,Cn.X.M.call(this)};function $I(t){Tv.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Nt($I,Tv);function jI(){bv.call(this),this.status=1}Nt(jI,bv);function ca(t){this.g=t}Nt(ca,MI);ca.prototype.xa=function(){Pt(this.g,"a")};ca.prototype.wa=function(t){Pt(this.g,new $I(t))};ca.prototype.va=function(t){Pt(this.g,new jI)};ca.prototype.ua=function(){Pt(this.g,"b")};Nd.prototype.createWebChannel=Nd.prototype.g;Cn.prototype.send=Cn.prototype.u;Cn.prototype.open=Cn.prototype.m;Cn.prototype.close=Cn.prototype.close;nh.NO_ERROR=0;nh.TIMEOUT=8;nh.HTTP_ERROR=6;rI.COMPLETE="complete";iI.EventType=Cu;Cu.OPEN="a";Cu.CLOSE="b";Cu.ERROR="c";Cu.MESSAGE="d";bt.prototype.listen=bt.prototype.N;tt.prototype.listenOnce=tt.prototype.O;tt.prototype.getLastError=tt.prototype.Oa;tt.prototype.getLastErrorCode=tt.prototype.Ea;tt.prototype.getStatus=tt.prototype.aa;tt.prototype.getResponseJson=tt.prototype.Sa;tt.prototype.getResponseText=tt.prototype.fa;tt.prototype.send=tt.prototype.da;tt.prototype.setWithCredentials=tt.prototype.Ka;var O3=function(){return new Nd},L3=function(){return th()},kp=nh,N3=rI,D3=zs,p_={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},M3=Iu,hc=iI,$3=tt;const m_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let da="9.15.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new zf("@firebase/firestore");function g_(){return Os.logLevel}function ne(t,...e){if(Os.logLevel<=Ae.DEBUG){const n=e.map(Lv);Os.debug(`Firestore (${da}): ${t}`,...n)}}function Jr(t,...e){if(Os.logLevel<=Ae.ERROR){const n=e.map(Lv);Os.error(`Firestore (${da}): ${t}`,...n)}}function Cg(t,...e){if(Os.logLevel<=Ae.WARN){const n=e.map(Lv);Os.warn(`Firestore (${da}): ${t}`,...n)}}function Lv(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t="Unexpected state"){const e=`FIRESTORE (${da}) INTERNAL ASSERTION FAILED: `+t;throw Jr(e),new Error(e)}function Ue(t,e){t||de()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let se=class extends zn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UI=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}};class j3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}let U3=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},F3=class{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new UI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Vt(e)}},V3=class{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ue(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}},z3=class{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new V3(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},H3=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},B3=class{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.A=n.token,new H3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FI=class{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=q3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Pe(t,e){return t<e?-1:t>e?1:0}function Ko(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ct(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new ct(0,0))}static max(){return new he(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(),r===void 0?r=e.length-n:r>e.length-n&&de(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ke extends Gl{construct(e,n,r){return new Ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ke(n)}static emptyPath(){return new Ke([])}}const W3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Gl{construct(e,n,r){return new Bt(e,n,r)}static isValidIdentifier(e){return W3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new se(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new se(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new se(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Ke.fromString(e))}static fromName(e){return new oe(Ke.fromString(e).popFirst(5))}static empty(){return new oe(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Ke(e.slice()))}}function K3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new $i(i,oe.empty(),e)}function G3(t){return new $i(t.readTime,t.key,-1)}class $i{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $i(he.min(),oe.empty(),-1)}static max(){return new $i(he.max(),oe.empty(),-1)}}function Q3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ru(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==Y3)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Au(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}Nv.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Ql{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(t){return t==null}function Dd(t){return t===0&&1/t==-1/0}function Z3(t){return typeof t=="number"&&Number.isInteger(t)&&!Dd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Yt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const e6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ji(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=e6.exec(t);if(Ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Go(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function HI(t){const e=t.mapValue.fields.__previous_value__;return zI(e)?HI(e):e}function Yl(t){const e=ji(t.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ls(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zI(t)?4:t6(t)?9007199254740991:10:de()}function Cr(t,e){if(t===e)return!0;const n=Ls(t);if(n!==Ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yl(t).isEqual(Yl(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ji(r.timestampValue),o=ji(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Go(r.bytesValue).isEqual(Go(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return at(r.geoPointValue.latitude)===at(i.geoPointValue.latitude)&&at(r.geoPointValue.longitude)===at(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return at(r.integerValue)===at(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=at(r.doubleValue),o=at(i.doubleValue);return s===o?Dd(s)===Dd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ko(t.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(y_(s)!==y_(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Cr(s[a],o[a])))return!1;return!0}(t,e);default:return de()}}function Xl(t,e){return(t.values||[]).find(n=>Cr(n,e))!==void 0}function Qo(t,e){if(t===e)return 0;const n=Ls(t),r=Ls(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=at(i.integerValue||i.doubleValue),a=at(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return v_(t.timestampValue,e.timestampValue);case 4:return v_(Yl(t),Yl(e));case 5:return Pe(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Go(i),a=Go(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Pe(o[l],a[l]);if(u!==0)return u}return Pe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Pe(at(i.latitude),at(s.latitude));return o!==0?o:Pe(at(i.longitude),at(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Qo(o[l],a[l]);if(u)return u}return Pe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===pc.mapValue&&s===pc.mapValue)return 0;if(i===pc.mapValue)return 1;if(s===pc.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Pe(a[c],u[c]);if(d!==0)return d;const f=Qo(o[a[c]],l[u[c]]);if(f!==0)return f}return Pe(a.length,u.length)}(t.mapValue,e.mapValue);default:throw de()}}function v_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=ji(t),r=ji(e),i=Pe(n.seconds,r.seconds);return i!==0?i:Pe(n.nanos,r.nanos)}function Yo(t){return Tg(t)}function Tg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ji(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Go(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,oe.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Tg(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Tg(r.fields[a])}`;return s+"}"}(t.mapValue):de();var e,n}function bg(t){return!!t&&"integerValue"in t}function Dv(t){return!!t&&"arrayValue"in t}function w_(t){return!!t&&"nullValue"in t}function __(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $c(t){return!!t&&"mapValue"in t}function fl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function t6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.position=e,this.inclusive=n}}function S_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=Qo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function E_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{}class gt extends BI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new i6(e,n,r):n==="array-contains"?new a6(e,r):n==="in"?new l6(e,r):n==="not-in"?new u6(e,r):n==="array-contains-any"?new c6(e,r):new gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new s6(e,r):new o6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qo(n,this.value)):n!==null&&Ls(this.value)===Ls(n)&&this.matchesComparison(Qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Tr extends BI{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Tr(e,n)}matches(e){return qI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function qI(t){return t.op==="and"}function n6(t){return r6(t)&&qI(t)}function r6(t){for(const e of t.filters)if(e instanceof Tr)return!1;return!0}function WI(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+Yo(t.value);{const e=t.filters.map(n=>WI(n)).join(",");return`${t.op}(${e})`}}function KI(t,e){return t instanceof gt?function(n,r){return r instanceof gt&&n.op===r.op&&n.field.isEqual(r.field)&&Cr(n.value,r.value)}(t,e):t instanceof Tr?function(n,r){return r instanceof Tr&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&KI(s,r.filters[o]),!0):!1}(t,e):void de()}function GI(t){return t instanceof gt?function(e){return`${e.field.canonicalString()} ${e.op} ${Yo(e.value)}`}(t):t instanceof Tr?function(e){return e.op.toString()+" {"+e.getFilters().map(GI).join(" ,")+"}"}(t):"Filter"}class i6 extends gt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class s6 extends gt{constructor(e,n){super(e,"in",n),this.keys=QI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class o6 extends gt{constructor(e,n){super(e,"not-in",n),this.keys=QI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class a6 extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dv(n)&&Xl(n.arrayValue,this.value)}}class l6 extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class u6 extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xl(this.value.arrayValue,n)}}class c6 extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n="asc"){this.field=e,this.dir=n}}function d6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mc(this.root,e,this.comparator,!0)}}class mc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=i??Rt.EMPTY,this.right=s??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Rt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Rt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new C_(this.data.getIterator())}getIteratorFrom(e){return new C_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class C_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new vt(Bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$c(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fl(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=fl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());$c(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$c(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ln(fl(this.value))}}function YI(t){const e=[];return Hs(t.fields,(n,r)=>{const i=new Bt([n]);if($c(r)){const s=YI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ht(e,0,he.min(),he.min(),he.min(),ln.empty(),0)}static newFoundDocument(e,n,r,i){return new Ht(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new Ht(e,2,n,he.min(),he.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,he.min(),he.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f6=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}};function T_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new f6(t,e,n,r,i,s,o)}function Mv(t){const e=ye(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>WI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yo(r)).join(",")),e.ft=n}return e.ft}function $v(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!d6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!E_(t.startAt,e.startAt)&&E_(t.endAt,e.endAt)}function Ig(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}};function h6(t,e,n,r,i,s,o,a){return new dh(t,e,n,r,i,s,o,a)}function jv(t){return new dh(t)}function b_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function p6(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function m6(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function g6(t){return t.collectionGroup!==null}function Ao(t){const e=ye(t);if(e.dt===null){e.dt=[];const n=m6(e),r=p6(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new hl(n)),e.dt.push(new hl(Bt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new hl(Bt.keyField(),s))}}}return e.dt}function Zr(t){const e=ye(t);if(!e._t)if(e.limitType==="F")e._t=T_(e.path,e.collectionGroup,Ao(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ao(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new hl(s.field,o))}const r=e.endAt?new Md(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Md(e.startAt.position,e.startAt.inclusive):null;e._t=T_(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function kg(t,e,n){return new dh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fh(t,e){return $v(Zr(t),Zr(e))&&t.limitType===e.limitType}function XI(t){return`${Mv(Zr(t))}|lt:${t.limitType}`}function xg(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>GI(r)).join(", ")}]`),ch(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yo(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yo(r)).join(",")),`Target(${n})`}(Zr(t))}; limitType=${t.limitType})`}function Uv(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):oe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ao(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=S_(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ao(n),r)||n.endAt&&!function(i,s,o){const a=S_(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ao(n),r))}(t,e)}function y6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JI(t){return(e,n)=>{let r=!1;for(const i of Ao(t)){const s=v6(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function v6(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Qo(a,l):de()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dd(e)?"-0":e}}function ek(t){return{integerValue:""+t}}function w6(t,e){return Z3(e)?ek(e):ZI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this._=void 0}}function _6(t,e,n){return t instanceof Jl?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Zl?nk(t,e):t instanceof eu?rk(t,e):function(r,i){const s=tk(r,i),o=I_(s)+I_(r.gt);return bg(s)&&bg(r.gt)?ek(o):ZI(r.yt,o)}(t,e)}function S6(t,e,n){return t instanceof Zl?nk(t,e):t instanceof eu?rk(t,e):n}function tk(t,e){return t instanceof $d?bg(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Jl extends hh{}class Zl extends hh{constructor(e){super(),this.elements=e}}function nk(t,e){const n=ik(e);for(const r of t.elements)n.some(i=>Cr(i,r))||n.push(r);return{arrayValue:{values:n}}}class eu extends hh{constructor(e){super(),this.elements=e}}function rk(t,e){let n=ik(e);for(const r of t.elements)n=n.filter(i=>!Cr(i,r));return{arrayValue:{values:n}}}class $d extends hh{constructor(e,n){super(),this.yt=e,this.gt=n}}function I_(t){return at(t.integerValue||t.doubleValue)}function ik(t){return Dv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n){this.field=e,this.transform=n}}function C6(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Zl&&r instanceof Zl||n instanceof eu&&r instanceof eu?Ko(n.elements,r.elements,Cr):n instanceof $d&&r instanceof $d?Cr(n.gt,r.gt):n instanceof Jl&&r instanceof Jl}(t.transform,e.transform)}class T6{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ph{}function sk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ak(t.key,er.none()):new Pu(t.key,t.data,er.none());{const n=t.data,r=ln.empty();let i=new vt(Bt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Qi(t.key,r,new Mn(i.toArray()),er.none())}}function b6(t,e,n){t instanceof Pu?function(r,i,s){const o=r.value.clone(),a=x_(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Qi?function(r,i,s){if(!jc(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=x_(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(ok(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function pl(t,e,n,r){return t instanceof Pu?function(i,s,o,a){if(!jc(i.precondition,s))return o;const l=i.value.clone(),u=R_(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qi?function(i,s,o,a){if(!jc(i.precondition,s))return o;const l=R_(i.fieldTransforms,a,s),u=s.data;return u.setAll(ok(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return jc(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function I6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=tk(r.transform,i||null);s!=null&&(n===null&&(n=ln.empty()),n.set(r.field,s))}return n||null}function k_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ko(n,r,(i,s)=>C6(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pu extends ph{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qi extends ph{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ok(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function x_(t,e,n){const r=new Map;Ue(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,S6(o,a,n[i]))}return r}function R_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,_6(s,o,e))}return r}class ak extends ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k6 extends ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,Te;function R6(t){switch(t){default:return de();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function lk(t){if(t===void 0)return Jr("GRPC error has no .code"),U.UNKNOWN;switch(t){case ot.OK:return U.OK;case ot.CANCELLED:return U.CANCELLED;case ot.UNKNOWN:return U.UNKNOWN;case ot.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case ot.INTERNAL:return U.INTERNAL;case ot.UNAVAILABLE:return U.UNAVAILABLE;case ot.UNAUTHENTICATED:return U.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case ot.NOT_FOUND:return U.NOT_FOUND;case ot.ALREADY_EXISTS:return U.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return U.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case ot.ABORTED:return U.ABORTED;case ot.OUT_OF_RANGE:return U.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return U.UNIMPLEMENTED;case ot.DATA_LOSS:return U.DATA_LOSS;default:return de()}}(Te=ot||(ot={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return VI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=new wt(oe.comparator);function ei(){return A6}const uk=new wt(oe.comparator);function Ga(...t){let e=uk;for(const n of t)e=e.insert(n.key,n);return e}function ck(t){let e=uk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hs(){return ml()}function dk(){return ml()}function ml(){return new fa(t=>t.toString(),(t,e)=>t.isEqual(e))}const P6=new wt(oe.comparator),O6=new vt(oe.comparator);function Ee(...t){let e=O6;for(const n of t)e=e.add(n);return e}const L6=new vt(Pe);function fk(){return L6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mh(he.min(),i,fk(),ei(),Ee())}}class Ou{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ou(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class hk{constructor(e,n){this.targetId=e,this.Et=n}}class pk{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class A_{constructor(){this.At=0,this.Rt=O_(),this.bt=Yt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Ee(),n=Ee(),r=Ee();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:de()}}),new Ou(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=O_()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class N6{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=ei(),this.qt=P_(),this.Ut=new vt(Pe)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const s=i.target;if(Ig(s))if(r===0){const o=new oe(s.path);this.Qt(n,o,Ht.newNoDocument(o,he.min()))}else Ue(r===1);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Ig(a.target)){const l=new oe(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,Ht.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=Ee();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new mh(e,n,this.Ut,this.Lt,r);return this.Lt=ei(),this.qt=P_(),this.Ut=new vt(Pe),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new A_,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new vt(Pe),this.qt=this.qt.insert(e,n)),n}zt(e){const n=this.Yt(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new A_),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function P_(){return new wt(oe.comparator)}function O_(){return new wt(oe.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),M6=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),$6=(()=>({and:"AND",or:"OR"}))();class j6{constructor(e,n){this.databaseId=e,this.wt=n}}function jd(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mk(t,e){return t.wt?e.toBase64():e.toUint8Array()}function U6(t,e){return jd(t,e.toTimestamp())}function Sr(t){return Ue(!!t),he.fromTimestamp(function(e){const n=ji(e);return new ct(n.seconds,n.nanos)}(t))}function Fv(t,e){return function(n){return new Ke(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function gk(t){const e=Ke.fromString(t);return Ue(_k(e)),e}function Rg(t,e){return Fv(t.databaseId,e.path)}function xp(t,e){const n=gk(e);if(n.get(1)!==t.databaseId.projectId)throw new se(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(yk(n))}function Ag(t,e){return Fv(t.databaseId,e)}function F6(t){const e=gk(t);return e.length===4?Ke.emptyPath():yk(e)}function Pg(t){return new Ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yk(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function L_(t,e,n){return{name:Rg(t,e),fields:n.value.mapValue.fields}}function V6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.wt?(Ue(u===void 0||typeof u=="string"),Yt.fromBase64String(u||"")):(Ue(u===void 0||u instanceof Uint8Array),Yt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?U.UNKNOWN:lk(l.code);return new se(u,l.message||"")}(o);n=new pk(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=xp(t,r.document.name),s=Sr(r.document.updateTime),o=r.document.createTime?Sr(r.document.createTime):he.min(),a=new ln({mapValue:{fields:r.document.fields}}),l=Ht.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Uc(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=xp(t,r.document),s=r.readTime?Sr(r.readTime):he.min(),o=Ht.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Uc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=xp(t,r.document),s=r.removedTargetIds||[];n=new Uc([],s,i,null)}else{if(!("filter"in e))return de();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new x6(i),o=r.targetId;n=new hk(o,s)}}return n}function z6(t,e){let n;if(e instanceof Pu)n={update:L_(t,e.key,e.value)};else if(e instanceof ak)n={delete:Rg(t,e.key)};else if(e instanceof Qi)n={update:L_(t,e.key,e.data),updateMask:X6(e.fieldMask)};else{if(!(e instanceof k6))return de();n={verify:Rg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Jl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Zl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof eu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof $d)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw de()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:U6(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de()}(t,e.precondition)),n}function H6(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Sr(r.updateTime):Sr(i);return s.isEqual(he.min())&&(s=Sr(i)),new T6(s,r.transformResults||[])}(n,e))):[]}function B6(t,e){return{documents:[Ag(t,e.path)]}}function q6(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Ag(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ag(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return wk(Tr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:eo(c.field),direction:G6(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.wt||ch(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function W6(t){let e=F6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ue(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=vk(c);return d instanceof Tr&&n6(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new hl(to(d.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,ch(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,f=c.values||[];return new Md(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,f=c.values||[];return new Md(f,d)}(n.endAt)),h6(e,i,o,s,a,"F",l,u)}function K6(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return de()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function vk(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=to(e.unaryFilter.field);return gt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=to(e.unaryFilter.field);return gt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=to(e.unaryFilter.field);return gt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=to(e.unaryFilter.field);return gt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(t):t.fieldFilter!==void 0?function(e){return gt.create(to(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Tr.create(e.compositeFilter.filters.map(n=>vk(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return de()}}(e.compositeFilter.op))}(t):de()}function G6(t){return D6[t]}function Q6(t){return M6[t]}function Y6(t){return $6[t]}function eo(t){return{fieldPath:t.canonicalString()}}function to(t){return Bt.fromServerFormat(t.fieldPath)}function wk(t){return t instanceof gt?function(e){if(e.op==="=="){if(__(e.value))return{unaryFilter:{field:eo(e.field),op:"IS_NAN"}};if(w_(e.value))return{unaryFilter:{field:eo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(__(e.value))return{unaryFilter:{field:eo(e.field),op:"IS_NOT_NAN"}};if(w_(e.value))return{unaryFilter:{field:eo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(e.field),op:Q6(e.op),value:e.value}}}(t):t instanceof Tr?function(e){const n=e.getFilters().map(r=>wk(r));return n.length===1?n[0]:{compositeFilter:{op:Y6(e.op),filters:n}}}(t):de()}function X6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _k(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&b6(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=dk();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=sk(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,(n,r)=>k_(n,r))&&Ko(this.baseMutations,e.baseMutations,(n,r)=>k_(n,r))}}class Vv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length);let i=P6;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Vv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,r,i,s=he.min(),o=he.min(),a=Yt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e){this.ie=e}}function tU(t){const e=W6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(){this.Je=new rU}addToCollectionParentIndex(e,n){return this.Je.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve($i.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve($i.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class rU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vt(Ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vt(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Xo(0)}static vn(){return new Xo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(){this.changes=new fa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&pl(r.mutation,i,Mn.empty(),ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const i=hs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ga();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=hs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ei();const o=ml(),a=ml();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Qi)?s=s.insert(u.key,u):c!==void 0&&(o.set(u.key,c.mutation.getFieldMask()),pl(c.mutation,u,c.mutation.getFieldMask(),ct.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new sU(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ml();let i=new wt((o,a)=>o-a),s=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Mn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Ee()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=dk();c.forEach(f=>{if(!s.has(f)){const h=sk(n.get(f),r.get(f));h!==null&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return oe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):g6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(hs());let a=-1,l=s;return o.next(u=>z.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?z.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ee())).next(c=>({batchId:a,changes:ck(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=Ga();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Ga();return this.indexManager.getCollectionParents(e,i).next(o=>z.forEach(o,a=>{const l=function(u,c){return new dh(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,Ht.newInvalidDocument(u)))});let o=Ga();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&pl(u.mutation,l,Mn.empty(),ct.now()),Uv(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return z.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Sr(r.createTime)}),z.resolve()}getNamedQuery(e,n){return z.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:tU(r.bundledQuery),readTime:Sr(r.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(){this.overlays=new wt(oe.comparator),this.es=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hs();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.oe(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=hs(),s=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new wt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=hs(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=hs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return z.resolve(a)}oe(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Z6(n,r));let s=this.es.get(n);s===void 0&&(s=Ee(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(){this.ns=new vt(St.ss),this.rs=new vt(St.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new St(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new St(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new oe(new Ke([])),r=new St(n,e),i=new St(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new oe(new Ke([])),r=new St(n,e),i=new St(n,e+1);let s=Ee();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new St(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return oe.comparator(e.key,n.key)||Pe(e._s,n._s)}static os(e,n){return Pe(e._s,n._s)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new vt(St.ss)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new J6(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new St(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),i=new St(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(Pe);return n.forEach(i=>{const s=new St(i,0),o=new St(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),z.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;oe.isDocumentKey(s)||(s=s.child(""));const o=new St(new oe(s),0);let a=new vt(Pe);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},o),z.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ue(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return z.forEach(n.mutations,i=>{const s=new St(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new St(n,0),i=this.gs.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e){this.Es=e,this.docs=new wt(oe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=ei();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ht.newInvalidDocument(i))}),z.resolve(r)}getAllFromCollection(e,n,r){let i=ei();const s=new oe(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||Q3(G3(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,i){de()}As(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dU(this)}getSize(e){return z.resolve(this.size)}}class dU extends iU{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e){this.persistence=e,this.Rs=new fa(n=>Mv(n),$v),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.bs=0,this.Ps=new zv,this.targetCount=0,this.vs=Xo.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),z.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Xo(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Dn(n),z.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Nv(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new fU(this),this.indexManager=new nU,this.remoteDocumentCache=function(r){return new cU(r)}(r=>this.referenceDelegate.xs(r)),this.yt=new eU(n),this.Ns=new aU(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new uU(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const i=new pU(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return z.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class pU extends X3{constructor(e){super(),this.currentSequenceNumber=e}}class Hv{constructor(e){this.persistence=e,this.Fs=new zv,this.$s=null}static Bs(e){return new Hv(e)}get Ls(){if(this.$s)return this.$s;throw de()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),z.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Ls,r=>{const i=oe.fromPath(r);return this.qs(e,i).next(s=>{s||n.removeEntry(i,he.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return z.or([()=>z.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=Ee(),i=Ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Bv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(b_(n))return z.resolve(null);let r=Zr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=kg(n,null,"F"),r=Zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ee(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(e,kg(n,null,"F")):this.Bi(e,u,n,l)}))})))}Oi(e,n,r,i){return b_(n)||i.isEqual(he.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(g_()<=Ae.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xg(n)),this.Bi(e,o,n,K3(i,-1)))})}Fi(e,n){let r=new vt(JI(e));return n.forEach((i,s)=>{Uv(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return g_()<=Ae.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",xg(n)),this.Ni.getDocumentsMatchingQuery(e,n,$i.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new wt(Pe),this.Ui=new fa(s=>Mv(s),$v),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oU(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function yU(t,e,n,r){return new gU(t,e,n,r)}async function Sk(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ee();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function vU(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let f=z.resolve();return d.forEach(h=>{f=f.next(()=>u.getEntry(a,h)).next(y=>{const p=l.docVersions.get(h);Ue(p!==null),y.version.compareTo(p)<0&&(c.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),u.addEntry(y)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Ee();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Ek(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function wU(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(d)?h=h.withResumeToken(Yt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(d,h),function(y,p,S){return y.resumeToken.approximateByteSize()===0||p.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(f,h,c)&&a.push(n.Cs.updateTargetData(s,h))});let l=ei(),u=Ee();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(_U(s,o,e.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!r.isEqual(he.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(d=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.qi=i,s))}function _U(t,e,n){let r=Ee(),i=Ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ei();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function SU(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function EU(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new _s(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}async function Og(t,e,n){const r=ye(t),i=r.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Au(o))throw o;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}function N_(t,e,n){const r=ye(t);let i=he.min(),s=Ee();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=ye(a),d=c.Ui.get(u);return d!==void 0?z.resolve(c.qi.get(d)):c.Cs.getTargetData(l,u)}(r,o,Zr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:he.min(),n?s:Ee())).next(a=>(CU(r,y6(e),a),{documents:a,Hi:s})))}function CU(t,e,n){let r=t.Ki.get(e)||he.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}class D_{constructor(){this.activeTargetIds=fk()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TU{constructor(){this.Lr=new D_,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new D_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);ne("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(ne("RestConnection","Received: ",l),l),l=>{throw Cg("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+da,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){const r=IU[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new $3;a.setWithCredentials(!0),a.listenOnce(N3.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case kp.NO_ERROR:const u=a.getResponseJson();ne("Connection","XHR received:",JSON.stringify(u)),s(u);break;case kp.TIMEOUT:ne("Connection",'RPC "'+e+'" timed out'),o(new se(U.DEADLINE_EXCEEDED,"Request time out"));break;case kp.HTTP_ERROR:const c=a.getStatus();if(ne("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const h=function(y){const p=y.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(p)>=0?p:U.UNKNOWN}(f.status);o(new se(h,f.message))}else o(new se(U.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new se(U.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{ne("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=O3(),o=L3(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new M3({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=i.join("");ne("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,d=!1;const f=new kU({Hr:y=>{d?ne("Connection","Not sending because WebChannel is closed:",y):(c||(ne("Connection","Opening WebChannel transport."),u.open(),c=!0),ne("Connection","WebChannel sending:",y),u.send(y))},Jr:()=>u.close()}),h=(y,p,S)=>{y.listen(p,g=>{try{S(g)}catch(m){setTimeout(()=>{throw m},0)}})};return h(u,hc.EventType.OPEN,()=>{d||ne("Connection","WebChannel transport opened.")}),h(u,hc.EventType.CLOSE,()=>{d||(d=!0,ne("Connection","WebChannel transport closed"),f.io())}),h(u,hc.EventType.ERROR,y=>{d||(d=!0,Cg("Connection","WebChannel transport errored:",y),f.io(new se(U.UNAVAILABLE,"The operation could not be completed")))}),h(u,hc.EventType.MESSAGE,y=>{var p;if(!d){const S=y.data[0];Ue(!!S);const g=S,m=g.error||((p=g[0])===null||p===void 0?void 0:p.error);if(m){ne("Connection","WebChannel received error:",m);const w=m.status;let _=function(T){const I=ot[T];if(I!==void 0)return lk(I)}(w),C=m.message;_===void 0&&(_=U.INTERNAL,C="Unknown error status: "+w+" with message "+m.message),d=!0,f.io(new se(_,C)),u.close()}else ne("Connection","WebChannel received:",S),f.ro(S)}}),h(o,D3.STAT_EVENT,y=>{y.stat===p_.PROXY?ne("Connection","Detected buffering proxy"):y.stat===p_.NOPROXY&&ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.so()},0),f}}function Rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t){return new j6(t,!0)}class Ck{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n,r,i,s,o,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Ck(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Jr(n.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new se(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RU extends Tk{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=V6(this.yt,e),r=function(i){if(!("targetChange"in i))return he.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?he.min():s.readTime?Sr(s.readTime):he.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=Pg(this.yt),n.addTarget=function(i,s){let o;const a=s.target;return o=Ig(a)?{documents:B6(i,a)}:{query:q6(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=mk(i,s.resumeToken):s.snapshotVersion.compareTo(he.min())>0&&(o.readTime=jd(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=K6(this.yt,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=Pg(this.yt),n.removeTarget=e,this.Bo(n)}}class AU extends Tk{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=H6(e.writeResults,e.commitTime),r=Sr(e.commitTime);return this.listener.Zo(r,n)}return Ue(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Pg(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>z6(this.yt,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new se(U.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(U.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(U.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class OU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Jr(n),this.ou=!1):ne("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(o=>{r.enqueueAndForget(async()=>{Bs(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ye(a);l._u.add(4),await Lu(l),l.gu.set("Unknown"),l._u.delete(4),await yh(l)}(this))})}),this.gu=new OU(r,i)}}async function yh(t){if(Bs(t))for(const e of t.wu)await e(!0)}async function Lu(t){for(const e of t.wu)await e(!1)}function bk(t,e){const n=ye(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),Kv(n)?Wv(n):ha(n).ko()&&qv(n,e))}function Ik(t,e){const n=ye(t),r=ha(n);n.du.delete(e),r.ko()&&kk(n,e),n.du.size===0&&(r.ko()?r.Fo():Bs(n)&&n.gu.set("Unknown"))}function qv(t,e){t.yu.Ot(e.targetId),ha(t).zo(e)}function kk(t,e){t.yu.Ot(e),ha(t).Ho(e)}function Wv(t){t.yu=new N6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),ha(t).start(),t.gu.uu()}function Kv(t){return Bs(t)&&!ha(t).No()&&t.du.size>0}function Bs(t){return ye(t)._u.size===0}function xk(t){t.yu=void 0}async function NU(t){t.du.forEach((e,n)=>{qv(t,e)})}async function DU(t,e){xk(t),Kv(t)?(t.gu.hu(e),Wv(t)):t.gu.set("Unknown")}async function MU(t,e,n){if(t.gu.set("Online"),e instanceof pk&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.du.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.du.delete(o),r.yu.removeTarget(o))}(t,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ud(t,r)}else if(e instanceof Uc?t.yu.Kt(e):e instanceof hk?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(he.min()))try{const r=await Ek(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.du.get(l);u&&i.du.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(Yt.EMPTY_BYTE_STRING,l.snapshotVersion)),kk(i,a);const u=new _s(l.target,a,1,l.sequenceNumber);qv(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),await Ud(t,r)}}async function Ud(t,e,n){if(!Au(e))throw e;t._u.add(1),await Lu(t),t.gu.set("Offline"),n||(n=()=>Ek(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await yh(t)})}function Rk(t,e){return e().catch(n=>Ud(t,n,e))}async function vh(t){const e=ye(t),n=Ui(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;$U(e);)try{const i=await SU(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,jU(e,i)}catch(i){await Ud(e,i)}Ak(e)&&Pk(e)}function $U(t){return Bs(t)&&t.fu.length<10}function jU(t,e){t.fu.push(e);const n=Ui(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function Ak(t){return Bs(t)&&!Ui(t).No()&&t.fu.length>0}function Pk(t){Ui(t).start()}async function UU(t){Ui(t).eu()}async function FU(t){const e=Ui(t);for(const n of t.fu)e.Xo(n.mutations)}async function VU(t,e,n){const r=t.fu.shift(),i=Vv.from(r,e,n);await Rk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await vh(t)}async function zU(t,e){e&&Ui(t).Yo&&await async function(n,r){if(i=r.code,R6(i)&&i!==U.ABORTED){const s=n.fu.shift();Ui(n).Mo(),await Rk(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await vh(n)}var i}(t,e),Ak(t)&&Pk(t)}async function $_(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const r=Bs(n);n._u.add(3),await Lu(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await yh(n)}async function HU(t,e){const n=ye(t);e?(n._u.delete(2),await yh(n)):e||(n._u.add(2),await Lu(n),n.gu.set("Unknown"))}function ha(t){return t.pu||(t.pu=function(e,n,r){const i=ye(e);return i.su(),new RU(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:NU.bind(null,t),Zr:DU.bind(null,t),Wo:MU.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),Kv(t)?Wv(t):t.gu.set("Unknown")):(await t.pu.stop(),xk(t))})),t.pu}function Ui(t){return t.Iu||(t.Iu=function(e,n,r){const i=ye(e);return i.su(),new AU(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:UU.bind(null,t),Zr:zU.bind(null,t),tu:FU.bind(null,t),Zo:VU.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await vh(t)):(await t.Iu.stop(),t.fu.length>0&&(ne("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Gv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qv(t,e){if(Jr("AsyncQueue",`${e}: ${t}`),Au(t))return new se(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=Ga(),this.sortedSet=new wt(this.comparator)}static emptySet(e){return new Po(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Po;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(){this.Tu=new wt(oe.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):de():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Jo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Jo(e,n,Po.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(){this.Au=void 0,this.listeners=[]}}class qU{constructor(){this.queries=new fa(e=>XI(e),fh),this.onlineState="Unknown",this.Ru=new Set}}async function Ok(t,e){const n=ye(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new BU),i)try{s.Au=await n.onListen(r)}catch(o){const a=Qv(o,`Initialization of query '${xg(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&Yv(n)}async function Lk(t,e){const n=ye(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function WU(t,e){const n=ye(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&Yv(n)}function KU(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Yv(t){t.Ru.forEach(e=>{e.next()})}class Nk{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Jo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.key=e}}class Mk{constructor(e){this.key=e}}class GU{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ee(),this.mutatedKeys=Ee(),this.Gu=JI(e),this.Qu=new Po(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new j_,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),h=Uv(this.query,d)?d:null,y=!!f&&this.mutatedKeys.has(f.key),p=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let S=!1;f&&h?f.data.isEqual(h.data)?y!==p&&(r.track({type:3,doc:h}),S=!0):this.Hu(f,h)||(r.track({type:2,doc:h}),S=!0,(l&&this.Gu(h,l)>0||u&&this.Gu(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),S=!0):f&&!h&&(r.track({type:1,doc:f}),S=!0,(l||u)&&(a=!0)),S&&(h?(o=o.add(h),s=p?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((u,c)=>function(d,f){const h=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return h(d)-h(f)}(u.type,c.type)||this.Gu(u.doc,c.doc)),this.Ju(r);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new Jo(this.query,e.Qu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new j_,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Ee(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new Mk(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new Dk(r))}),n}tc(e){this.qu=e.Hi,this.Ku=Ee();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Jo.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class QU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class YU{constructor(e){this.key=e,this.nc=!1}}class XU{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new fa(a=>XI(a),fh),this.rc=new Map,this.oc=new Set,this.uc=new wt(oe.comparator),this.cc=new Map,this.ac=new zv,this.hc={},this.lc=new Map,this.fc=Xo.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function JU(t,e){const n=l5(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=await EU(n.localStore,Zr(e));n.isPrimaryClient&&bk(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await ZU(n,e,r,a==="current",o.resumeToken)}return i}async function ZU(t,e,n,r,i){t._c=(d,f,h)=>async function(y,p,S,g){let m=p.view.Wu(S);m.$i&&(m=await N_(y.localStore,p.query,!1).then(({documents:C})=>p.view.Wu(C,m)));const w=g&&g.targetChanges.get(p.targetId),_=p.view.applyChanges(m,y.isPrimaryClient,w);return F_(y,p.targetId,_.Xu),_.snapshot}(t,d,f,h);const s=await N_(t.localStore,e,!0),o=new GU(e,s.Hi),a=o.Wu(s.documents),l=Ou.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);F_(t,n,u.Xu);const c=new QU(e,n,o);return t.ic.set(e,c),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),u.snapshot}async function e5(t,e){const n=ye(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!fh(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Og(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Ik(n.remoteStore,r.targetId),Lg(n,r.targetId)}).catch(Ru)):(Lg(n,r.targetId),await Og(n.localStore,r.targetId,!0))}async function t5(t,e,n){const r=u5(t);try{const i=await function(s,o){const a=ye(s),l=ct.now(),u=o.reduce((f,h)=>f.add(h.key),Ee());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let h=ei(),y=Ee();return a.Gi.getEntries(f,u).next(p=>{h=p,h.forEach((S,g)=>{g.isValidDocument()||(y=y.add(S))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,h)).next(p=>{c=p;const S=[];for(const g of o){const m=I6(g,c.get(g.key).overlayedDocument);m!=null&&S.push(new Qi(g.key,m,YI(m.value.mapValue),er.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,S,o)}).next(p=>{d=p;const S=p.applyToLocalDocumentSet(c,y);return a.documentOverlayCache.saveOverlays(f,p.batchId,S)})}).then(()=>({batchId:d.batchId,changes:ck(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new wt(Pe)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Nu(r,i.changes),await vh(r.remoteStore)}catch(i){const s=Qv(i,"Failed to persist write");n.reject(s)}}async function $k(t,e){const n=ye(t);try{const r=await wU(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?Ue(o.nc):i.removedDocuments.size>0&&(Ue(o.nc),o.nc=!1))}),await Nu(n,r,e)}catch(r){await Ru(r)}}function U_(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=ye(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.bu(o)&&(l=!0)}),l&&Yv(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function n5(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new wt(oe.comparator);o=o.insert(s,Ht.newNoDocument(s,he.min()));const a=Ee().add(s),l=new mh(he.min(),new Map,new vt(Pe),o,a);await $k(r,l),r.uc=r.uc.remove(s),r.cc.delete(e),Xv(r)}else await Og(r.localStore,e,!1).then(()=>Lg(r,e,n)).catch(Ru)}async function r5(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await vU(n.localStore,e);Uk(n,r,null),jk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nu(n,i)}catch(i){await Ru(i)}}async function i5(t,e,n){const r=ye(t);try{const i=await function(s,o){const a=ye(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(Ue(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);Uk(r,e,n),jk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nu(r,i)}catch(i){await Ru(i)}}function jk(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function Uk(t,e,n){const r=ye(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Lg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||Fk(t,r)})}function Fk(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(Ik(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),Xv(t))}function F_(t,e,n){for(const r of n)r instanceof Dk?(t.ac.addReference(r.key,e),s5(t,r)):r instanceof Mk?(ne("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||Fk(t,r.key)):de()}function s5(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(ne("SyncEngine","New document in limbo: "+n),t.oc.add(r),Xv(t))}function Xv(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new oe(Ke.fromString(e)),r=t.fc.next();t.cc.set(r,new YU(n)),t.uc=t.uc.insert(n,r),bk(t.remoteStore,new _s(Zr(jv(n.path)),r,2,Nv.at))}}async function Nu(t,e,n){const r=ye(t),i=[],s=[],o=[];r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Bv.Ci(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.sc.Wo(i),await async function(a,l){const u=ye(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>z.forEach(l,d=>z.forEach(d.Si,f=>u.persistence.referenceDelegate.addReference(c,d.targetId,f)).next(()=>z.forEach(d.Di,f=>u.persistence.referenceDelegate.removeReference(c,d.targetId,f)))))}catch(c){if(!Au(c))throw c;ne("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const f=u.qi.get(d),h=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(h);u.qi=u.qi.insert(d,y)}}}(r.localStore,s))}async function o5(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const r=await Sk(n.localStore,e);n.currentUser=e,function(i,s){i.lc.forEach(o=>{o.forEach(a=>{a.reject(new se(U.CANCELLED,s))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nu(n,r.ji)}}function a5(t,e){const n=ye(t),r=n.cc.get(e);if(r&&r.nc)return Ee().add(r.key);{let i=Ee();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function l5(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$k.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n5.bind(null,e),e.sc.Wo=WU.bind(null,e.eventManager),e.sc.wc=KU.bind(null,e.eventManager),e}function u5(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i5.bind(null,e),e}class c5{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=gh(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return yU(this.persistence,new mU,e.initialUser,this.yt)}yc(e){return new hU(Hv.Bs,this.yt)}gc(e){return new TU}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class d5{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>U_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=o5.bind(null,this.syncEngine),await HU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new qU}createDatastore(e){const n=gh(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new xU(i));var i;return function(s,o,a,l){return new PU(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>U_(this.syncEngine,a,0),o=M_.C()?new M_:new bU,new LU(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new XU(r,i,s,o,a,l);return u&&(c.dc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ye(e);ne("RemoteStore","RemoteStore shutting down."),n._u.add(5),await Lu(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t,e,n){if(!n)throw new se(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function f5(t,e,n,r){if(e===!0&&r===!0)throw new se(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function V_(t){if(!oe.isDocumentKey(t))throw new se(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function z_(t){if(oe.isDocumentKey(t))throw new se(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de()}function br(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jv(t);throw new se(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=new Map;class B_{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new se(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,f5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new se(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B_(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new j3;switch(n.type){case"gapi":const r=n.client;return new z3(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new se(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=H_.get(e);n&&(ne("ComponentProvider","Removing Datastore"),H_.delete(e),n.terminate())}(this),Promise.resolve()}}function h5(t,e,n,r={}){var i;const s=(t=br(t,wh))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Cg("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Vt.MOCK_USER;else{o=PT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new se(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Vt(l)}t._authCredentials=new U3(new UI(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}}class _h{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _h(this.firestore,e,this._query)}}class Pi extends _h{constructor(e,n,r){super(e,n,jv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new oe(e))}withConverter(e){return new Pi(this.firestore,e,this._path)}}function Zv(t,e,...n){if(t=Ge(t),Vk("collection","path",e),t instanceof wh){const r=Ke.fromString(e,...n);return z_(r),new Pi(t,null,r)}{if(!(t instanceof mn||t instanceof Pi))throw new se(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return z_(r),new Pi(t.firestore,null,r)}}function ir(t,e,...n){if(t=Ge(t),arguments.length===1&&(e=FI.R()),Vk("doc","path",e),t instanceof wh){const r=Ke.fromString(e,...n);return V_(r),new mn(t,null,new oe(r))}{if(!(t instanceof mn||t instanceof Pi))throw new se(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return V_(r),new mn(t.firestore,t instanceof Pi?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vt.UNAUTHENTICATED,this.clientId=FI.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ne("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function m5(t,e){t.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Sk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function g5(t,e){t.asyncQueue.verifyOperationInProgress();const n=await y5(t);ne("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>$_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>$_(e.remoteStore,s)),t.onlineComponents=e}async function y5(t){return t.offlineComponents||(ne("FirestoreClient","Using default OfflineComponentProvider"),await m5(t,new c5)),t.offlineComponents}async function Hk(t){return t.onlineComponents||(ne("FirestoreClient","Using default OnlineComponentProvider"),await g5(t,new d5)),t.onlineComponents}function v5(t){return Hk(t).then(e=>e.syncEngine)}async function Bk(t){const e=await Hk(t),n=e.eventManager;return n.onListen=JU.bind(null,e.syncEngine),n.onUnlisten=e5.bind(null,e.syncEngine),n}function w5(t,e,n={}){const r=new Hr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new zk({next:d=>{s.enqueueAndForget(()=>Lk(i,c));const f=d.docs.has(o);!f&&d.fromCache?l.reject(new se(U.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&a&&a.source==="server"?l.reject(new se(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new Nk(jv(o.path),u,{includeMetadataChanges:!0,Nu:!0});return Ok(i,c)}(await Bk(t),t.asyncQueue,e,n,r)),r.promise}function _5(t,e,n={}){const r=new Hr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new zk({next:d=>{s.enqueueAndForget(()=>Lk(i,c)),d.fromCache&&a.source==="server"?l.reject(new se(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new Nk(o,u,{includeMetadataChanges:!0,Nu:!0});return Ok(i,c)}(await Bk(t),t.asyncQueue,e,n,r)),r.promise}class S5{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Ck(this,"async_queue_retry"),this.Wc=()=>{const n=Rp();n&&ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=Rp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=Rp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new Hr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!Au(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Jr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=Gv.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&de()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}class pa extends wh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new S5,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||qk(this),this._firestoreClient.terminate()}}function E5(t,e){const n=typeof t=="object"?t:Hf(),r=typeof t=="string"?t:e||"(default)",i=Wi(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=RT("firestore");s&&h5(i,...s)}return i}function e1(t){return t._firestoreClient||qk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function qk(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new J3(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new p5(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zo(Yt.fromBase64String(e))}catch(n){throw new se(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zo(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=/^__.*__$/;class T5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pu(e,this.data,n,this.fieldTransforms)}}class Wk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Kk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class n1{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new n1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Fd(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(Kk(this.sa)&&C5.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class b5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||gh(e)}da(e,n,r,i=!1){return new n1({sa:e,methodName:n,fa:r,path:Bt.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function r1(t){const e=t._freezeSettings(),n=gh(t._databaseId);return new b5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Gk(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);s1("Data must be an object, but it was:",o,r);const a=Qk(r,o);let l,u;if(s.merge)l=new Mn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=Ng(e,d,n);if(!o.contains(f))throw new se(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Xk(c,f)||c.push(f)}l=new Mn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new T5(new ln(a),l,u)}class Ch extends Eh{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ch}}class i1 extends Eh{_toFieldTransform(e){return new E6(e.path,new Jl)}isEqual(e){return e instanceof i1}}function I5(t,e,n,r){const i=t.da(1,e,n);s1("Data must be an object, but it was:",i,r);const s=[],o=ln.empty();Hs(r,(l,u)=>{const c=o1(e,l,n);u=Ge(u);const d=i.ca(c);if(u instanceof Ch)s.push(c);else{const f=Th(u,d);f!=null&&(s.push(c),o.set(c,f))}});const a=new Mn(s);return new Wk(o,a,i.fieldTransforms)}function k5(t,e,n,r,i,s){const o=t.da(1,e,n),a=[Ng(e,r,n)],l=[i];if(s.length%2!=0)throw new se(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Ng(e,s[f])),l.push(s[f+1]);const u=[],c=ln.empty();for(let f=a.length-1;f>=0;--f)if(!Xk(u,a[f])){const h=a[f];let y=l[f];y=Ge(y);const p=o.ca(h);if(y instanceof Ch)u.push(h);else{const S=Th(y,p);S!=null&&(u.push(h),c.set(h,S))}}const d=new Mn(u);return new Wk(c,d,o.fieldTransforms)}function Th(t,e){if(Yk(t=Ge(t)))return s1("Unsupported field value:",e,t),Qk(t,e);if(t instanceof Eh)return function(n,r){if(!Kk(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Th(o,r.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Ge(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return w6(r.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=ct.fromDate(n);return{timestampValue:jd(r.yt,i)}}if(n instanceof ct){const i=new ct(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:jd(r.yt,i)}}if(n instanceof t1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Zo)return{bytesValue:mk(r.yt,n._byteString)};if(n instanceof mn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Fv(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${Jv(n)}`)}(t,e)}function Qk(t,e){const n={};return VI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(t,(r,i)=>{const s=Th(i,e.ra(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Yk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof t1||t instanceof Zo||t instanceof mn||t instanceof Eh)}function s1(t,e,n){if(!Yk(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Jv(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function Ng(t,e,n){if((e=Ge(e))instanceof Sh)return e._internalPath;if(typeof e=="string")return o1(t,e);throw Fd("Field path arguments must be of type string or ",t,!1,void 0,n)}const x5=new RegExp("[~\\*/\\[\\]]");function o1(t,e,n){if(e.search(x5)>=0)throw Fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sh(...e.split("."))._internalPath}catch{throw Fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new se(U.INVALID_ARGUMENT,a+t+l)}function Xk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new R5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class R5 extends Jk{data(){return super.data()}}function Zk(t,e){return typeof e=="string"?o1(t,e):e instanceof Sh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P5{convertValue(e,n="none"){switch(Ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw de()}}convertObject(e,n){const r={};return Hs(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new t1(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=HI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const n=ji(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ke.fromString(e);Ue(_k(r));const i=new Ql(r.get(1),r.get(3)),s=new oe(r.popFirst(5));return i.isEqual(n)||Jr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class t2 extends Jk{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Zk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Fc extends t2{data(e={}){return super.data(e)}}class O5{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Fc(this._firestore,this._userDataWriter,r.key,r,new Qa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Fc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Qa(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Fc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Qa(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:L5(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function L5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(t){t=br(t,mn);const e=br(t.firestore,pa);return w5(e1(e),t._key).then(n=>D5(e,t,n))}class n2 extends P5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,n)}}function r2(t){t=br(t,_h);const e=br(t.firestore,pa),n=e1(e),r=new n2(e);return A5(t._query),_5(n,t._query).then(i=>new O5(e,r,t,i))}function a1(t,e,n){t=br(t,mn);const r=br(t.firestore,pa),i=e2(t.converter,e,n);return l1(r,[Gk(r1(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,er.none())])}function bh(t,e,n,...r){t=br(t,mn);const i=br(t.firestore,pa),s=r1(i);let o;return o=typeof(e=Ge(e))=="string"||e instanceof Sh?k5(s,"updateDoc",t._key,e,n,r):I5(s,"updateDoc",t._key,e),l1(i,[o.toMutation(t._key,er.exists(!0))])}function N5(t,e){const n=br(t.firestore,pa),r=ir(t),i=e2(t.converter,e);return l1(n,[Gk(r1(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,er.exists(!1))]).then(()=>r)}function l1(t,e){return function(n,r){const i=new Hr;return n.asyncQueue.enqueueAndForget(async()=>t5(await v5(n),r,i)),i.promise}(e1(t),e)}function D5(t,e,n){const r=n.docs.get(e._key),i=new n2(t);return new t2(t,i,e._key,r,new Qa(n.hasPendingWrites,n.fromCache),e.converter)}function u1(){return new i1("serverTimestamp")}(function(t,e=!0){(function(n){da=n})(sa),rr(new Un("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new pa(new F3(n.getProvider("auth-internal")),new B3(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new se(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),pn(m_,"3.8.0",t),pn(m_,"3.8.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="firebasestorage.googleapis.com",s2="storageBucket",M5=2*60*1e3,$5=10*60*1e3,j5=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je extends zn{constructor(e,n,r=0){super(Ap(e),`Firebase Storage: ${n} (${Ap(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Je.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ap(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function Ap(t){return"storage/"+t}function c1(){const t="An unknown error occurred, please check the error payload for server response.";return new Je("unknown",t)}function U5(t){return new Je("object-not-found","Object '"+t+"' does not exist.")}function F5(t){return new Je("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function V5(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Je("unauthenticated",t)}function z5(){return new Je("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function H5(t){return new Je("unauthorized","User does not have permission to access '"+t+"'.")}function o2(){return new Je("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function a2(){return new Je("canceled","User canceled the upload/download.")}function B5(t){return new Je("invalid-url","Invalid URL '"+t+"'.")}function q5(t){return new Je("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function W5(){return new Je("no-default-bucket","No default bucket found. Did you set the '"+s2+"' property when initializing the app?")}function l2(){return new Je("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function K5(){return new Je("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function G5(){return new Je("no-download-url","The given file does not have any download URLs.")}function Q5(t){return new Je("unsupported-environment",`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Dg(t){return new Je("invalid-argument",t)}function u2(){return new Je("app-deleted","The Firebase app was deleted.")}function Y5(t){return new Je("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gl(t,e){return new Je("invalid-format","String does not match format '"+t+"': "+e)}function Oa(t){throw new Je("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=wn.makeFromUrl(e,n)}catch{return new wn(e,"")}if(r.path==="")return r;throw q5(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(_){_.path_=decodeURIComponent(_.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),y={bucket:1,path:3},p=n===i2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",g=new RegExp(`^https?://${p}/${i}/${S}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:h,indices:y,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let _=0;_<w.length;_++){const C=w[_],T=C.regex.exec(e);if(T){const I=T[C.indices.bucket];let N=T[C.indices.path];N||(N=""),r=new wn(I,N),C.postModify(r);break}}if(r==null)throw B5(e);return r}}class X5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...S){u||(u=!0,e.apply(null,S))}function d(S){i=setTimeout(()=>{i=null,t(h,l())},S)}function f(){s&&clearTimeout(s)}function h(S,...g){if(u){f();return}if(S){f(),c.call(null,S,...g);return}if(l()||o){f(),c.call(null,S,...g);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let y=!1;function p(S){y||(y=!0,f(),!u&&(i!==null?(S||(a=2),clearTimeout(i),d(0)):S||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,p(!0)},n),p}function Z5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t){return t!==void 0}function t9(t){return typeof t=="function"}function n9(t){return typeof t=="object"&&!Array.isArray(t)}function Ih(t){return typeof t=="string"||t instanceof String}function q_(t){return d1()&&t instanceof Blob}function d1(){return typeof Blob<"u"&&!UN()}function W_(t,e,n,r){if(r<e)throw Dg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Dg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function c2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ss;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ss||(Ss={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e,n,r,i,s,o,a,l,u,c,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,y)=>{this.resolve_=h,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new gc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ss.NO_ERROR,l=s.getStatus();if((!a||d2(l,this.additionalRetryCodes_))&&this.retry){const c=s.getErrorCode()===Ss.ABORT;r(!1,new gc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new gc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());e9(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=c1();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?u2():a2();o(l)}else{const l=o2();o(l)}};this.canceled_?n(!1,new gc(!1,null,!0)):this.backoffId_=J5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Z5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function i9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function s9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function o9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function a9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function l9(t,e,n,r,i,s,o=!0){const a=c2(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return o9(u,e),i9(u,n),s9(u,s),a9(u,r),new r9(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function c9(...t){const e=u9();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(d1())return new Blob(t);throw new Je("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function d9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(t){if(typeof atob>"u")throw Q5("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Pp{constructor(e,n){this.data=e,this.contentType=n||null}}function h9(t,e){switch(t){case pr.RAW:return new Pp(f2(e));case pr.BASE64:case pr.BASE64URL:return new Pp(h2(t,e));case pr.DATA_URL:return new Pp(m9(e),g9(e))}throw c1()}function f2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function p9(t){let e;try{e=decodeURIComponent(t)}catch{throw gl(pr.DATA_URL,"Malformed data URL.")}return f2(e)}function h2(t,e){switch(t){case pr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw gl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case pr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw gl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=f9(e)}catch(i){throw i.message.includes("polyfill")?i:gl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class p2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw gl(pr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=y9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function m9(t){const e=new p2(t);return e.base64?h2(pr.BASE64,e.rest):p9(e.rest)}function g9(t){return new p2(t).contentType}function y9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n){let r=0,i="";q_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(q_(this.data_)){const r=this.data_,i=d9(r,e,n);return i===null?null:new gi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new gi(r,!0)}}static getBlob(...e){if(d1()){const n=e.map(r=>r instanceof gi?r.data_:r);return new gi(c9.apply(null,n))}else{const n=e.map(o=>Ih(o)?h9(pr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new gi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t){let e;try{e=JSON.parse(t)}catch{return null}return n9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function w9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function g2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(t,e){return e}class Jt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||_9}}let yc=null;function S9(t){return!Ih(t)||t.length<2?t:g2(t)}function y2(){if(yc)return yc;const t=[];t.push(new Jt("bucket")),t.push(new Jt("generation")),t.push(new Jt("metageneration")),t.push(new Jt("name","fullPath",!0));function e(s,o){return S9(o)}const n=new Jt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Jt("size");return i.xform=r,t.push(i),t.push(new Jt("timeCreated")),t.push(new Jt("updated")),t.push(new Jt("md5Hash",null,!0)),t.push(new Jt("cacheControl",null,!0)),t.push(new Jt("contentDisposition",null,!0)),t.push(new Jt("contentEncoding",null,!0)),t.push(new Jt("contentLanguage",null,!0)),t.push(new Jt("contentType",null,!0)),t.push(new Jt("metadata","customMetadata",!0)),yc=t,yc}function E9(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new wn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function C9(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return E9(r,t),r}function v2(t,e,n){const r=m2(e);return r===null?null:C9(t,r,n)}function T9(t,e,n,r){const i=m2(e);if(i===null||!Ih(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,f="/b/"+o(c)+"/o/"+o(d),h=Du(f,n,r),y=c2({alt:"media",token:u});return h+y})[0]}function w2(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class ma{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t){if(!t)throw c1()}function f1(t,e){function n(r,i){const s=v2(t,i,e);return Br(s!==null),s}return n}function b9(t,e){function n(r,i){const s=v2(t,i,e);return Br(s!==null),T9(s,i,t.host,t._protocol)}return n}function Mu(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=z5():i=V5():n.getStatus()===402?i=F5(t.bucket):n.getStatus()===403?i=H5(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function _2(t){const e=Mu(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=U5(t.path)),s.serverResponse=i.serverResponse,s}return n}function I9(t,e,n){const r=e.fullServerUrl(),i=Du(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new ma(i,s,f1(t,n),o);return a.errorHandler=_2(e),a}function k9(t,e,n){const r=e.fullServerUrl(),i=Du(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new ma(i,s,b9(t,n),o);return a.errorHandler=_2(e),a}function x9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function S2(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=x9(null,e)),r}function R9(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let _=0;_<2;_++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=S2(e,r,i),c=w2(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",h=gi.getBlob(d,r,f);if(h===null)throw l2();const y={name:u.fullPath},p=Du(s,t.host,t._protocol),S="POST",g=t.maxUploadRetryTime,m=new ma(p,S,f1(t,n),g);return m.urlParams=y,m.headers=o,m.body=h.uploadData(),m.errorHandler=Mu(e),m}class Vd{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function h1(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Br(!1)}return Br(!!n&&(e||["active"]).indexOf(n)!==-1),n}function A9(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=S2(e,r,i),a={name:o.fullPath},l=Du(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=w2(o,n),f=t.maxUploadRetryTime;function h(p){h1(p);let S;try{S=p.getResponseHeader("X-Goog-Upload-URL")}catch{Br(!1)}return Br(Ih(S)),S}const y=new ma(l,u,h,f);return y.urlParams=a,y.headers=c,y.body=d,y.errorHandler=Mu(e),y}function P9(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=h1(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Br(!1)}d||Br(!1);const f=Number(d);return Br(!isNaN(f)),new Vd(f,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new ma(n,o,s,a);return l.headers=i,l.errorHandler=Mu(e),l}const K_=256*1024;function O9(t,e,n,r,i,s,o,a){const l=new Vd(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw K5();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,f=d+c;let h="";c===0?h="finalize":u===c?h="upload, finalize":h="upload";const y={"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":`${l.current}`},p=r.slice(d,f);if(p===null)throw l2();function S(_,C){const T=h1(_,["active","final"]),I=l.current+c,N=r.size();let A;return T==="final"?A=f1(e,s)(_,C):A=null,new Vd(I,N,T==="final",A)}const g="POST",m=e.maxUploadRetryTime,w=new ma(n,g,S,m);return w.headers=y,w.body=p.uploadData(),w.progressCallback=a||null,w.errorHandler=Mu(t),w}const on={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Op(t){switch(t){case"running":case"pausing":case"canceling":return on.RUNNING;case"paused":return on.PAUSED;case"success":return on.SUCCESS;case"canceled":return on.CANCELED;case"error":return on.ERROR;default:return on.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,n,r){if(t9(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class N9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ss.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ss.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ss.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Oa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Oa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Oa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Oa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Oa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class D9 extends N9{initXhr(){this.xhr_.responseType="text"}}function no(){return new D9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=y2(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(d2(i.status,[]))if(s)i=o2();else{this.sleepTime=Math.max(this.sleepTime*2,j5),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=A9(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,no,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=P9(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,no,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=K_*this._chunkMultiplier,n=new Vd(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=O9(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,no,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){K_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=I9(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,no,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=R9(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,no,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=a2(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Op(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new L9(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Op(this._state)){case on.SUCCESS:Ys(this._resolve.bind(null,this.snapshot))();break;case on.CANCELED:case on.ERROR:const n=this._reject;Ys(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Op(this._state)){case on.RUNNING:case on.PAUSED:e.next&&Ys(e.next.bind(e,this.snapshot))();break;case on.SUCCESS:e.complete&&Ys(e.complete.bind(e))();break;case on.CANCELED:case on.ERROR:e.error&&Ys(e.error.bind(e,this._error))();break;default:e.error&&Ys(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){this._service=e,n instanceof wn?this._location=n:this._location=wn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ns(e,n)}get root(){const e=new wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return g2(this._location.path)}get storage(){return this._service}get parent(){const e=v9(this._location.path);if(e===null)return null;const n=new wn(this._location.bucket,e);return new Ns(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Y5(e)}}function $9(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new M9(t,new gi(e),n)}function j9(t){t._throwIfRoot("getDownloadURL");const e=k9(t.storage,t._location,y2());return t.storage.makeRequestWithTokens(e,no).then(n=>{if(n===null)throw G5();return n})}function U9(t,e){const n=w9(t._location.path,e),r=new wn(t._location.bucket,n);return new Ns(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(t){return/^[A-Za-z]+:\/\//.test(t)}function V9(t,e){return new Ns(t,e)}function E2(t,e){if(t instanceof p1){const n=t;if(n._bucket==null)throw W5();const r=new Ns(n,n._bucket);return e!=null?E2(r,e):r}else return e!==void 0?U9(t,e):t}function z9(t,e){if(e&&F9(e)){if(t instanceof p1)return V9(t,e);throw Dg("To use ref(service, url), the first argument must be a Storage instance.")}else return E2(t,e)}function G_(t,e){const n=e==null?void 0:e[s2];return n==null?null:wn.makeFromBucketSpec(n,t)}function H9(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:PT(i,t.app.options.projectId))}class p1{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=i2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=M5,this._maxUploadRetryTime=$5,this._requests=new Set,i!=null?this._bucket=wn.makeFromBucketSpec(i,this._host):this._bucket=G_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wn.makeFromBucketSpec(this._url,e):this._bucket=G_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){W_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){W_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ns(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new X5(u2());{const o=l9(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Q_="@firebase/storage",Y_="0.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="storage";function B9(t,e,n){return t=Ge(t),$9(t,e,n)}function q9(t){return t=Ge(t),j9(t)}function W9(t,e){return t=Ge(t),z9(t,e)}function K9(t=Hf(),e){t=Ge(t);const r=Wi(t,C2).getImmediate({identifier:e}),i=RT("storage");return i&&G9(r,...i),r}function G9(t,e,n,r={}){H9(t,e,n,r)}function Q9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new p1(n,r,i,e,sa)}function Y9(){rr(new Un(C2,Q9,"PUBLIC").setMultipleInstances(!0)),pn(Q_,Y_,""),pn(Q_,Y_,"esm2017")}Y9();const X9={apiKey:"AIzaSyCp1genoyHX34BgerJeoNIDKJNp2H3Y2Rc",authDomain:"amelianceworship-d6e23.firebaseapp.com",projectId:"amelianceworship-d6e23",storageBucket:"amelianceworship-d6e23.appspot.com",messagingSenderId:"268005856332",appId:"1:268005856332:web:ba2da910ba7dec2a1350e9",measurementId:"G-28X8EC3EV9"},J9=DT(X9),ga=gj(),Z9=K9();A4(J9);const e8=new Dr,xn=E5();function Me(t,e){return Vf(t,e),{error:e,status:"error"}}const t8="src/App/api/google/firebase/auth/createUser.ts";async function n8({email:t,password:e}){try{return{user:(await QM(ga,t,e)).user,status:"success"}}catch(n){return Me(t8,n)}}const r8="src/App/api/google/firebase/auth/getCurrentAuthUser.ts";function i8(){const t=ga.currentUser;return t!==null?{user:t,status:"success"}:Me(r8,"Can't find user auth!")}const s8="src/App/api/google/firebase/auth/signIn.ts";async function o8({email:t,password:e}){try{return{user:(await YM(ga,t,e)).user,status:"success"}}catch(n){return Me(s8,n)}}const a8="src/App/api/google/firebase/auth/signInWithGoogle.ts";async function l8(){try{return{user:(await I$(ga,e8)).user,status:"success"}}catch(t){return Me(a8,t)}}function qs(){return{status:"success"}}const u8="src/App/api/google/firebase/auth/signOut.ts";function c8(){try{return n$(ga),qs()}catch(t){return Me(u8,t)}}const d8="src/App/api/google/firebase/auth/updateProfile.ts";async function f8({user:t,displayName:e,photoURL:n}){try{return await JM(t,{displayName:e,photoURL:n}),qs()}catch(r){return Me(d8,r)}}const h8={createUser:n8,getCurrentAuthUser:i8,signIn:o8,signInWithGoogle:l8,signOut:c8,updateProfile:f8},X_="src/App/api/google/firebase/database/chats/getChatMessages.ts";async function p8({chatId:t}){const e=ir(xn,"chats",t);try{const n=await tu(e);if(n.exists())return{messages:n.data().message,status:"success"};await a1(e,{messages:[]});const r=await tu(e);return r.exists()?{messages:r.data().message,status:"success"}:Me(X_,"Can't find group chat!")}catch(n){return Me(X_,n)}}const m8={getChatMessages:p8},g8="src/App/api/google/firebase/database/groups/addGroup.ts";async function y8(){const t=Zv(xn,"groups");try{return{chatId:(await N5(t,{})).id,status:"success"}}catch(e){return Me(g8,e)}}const J_="src/App/api/google/firebase/database/groups/getGroupMessages.ts";async function T2({chatId:t}){const e=ir(xn,"groups",t);try{const n=await tu(e);return n.exists()?{messages:n.data().messages,status:"success"}:Me(J_,"Can't find group messages!")}catch(n){return Me(J_,n)}}const Z_="src/App/api/google/firebase/database/groups/addMessage.ts";async function v8({text:t,chatId:e,user:n}){var r;try{const i=await T2({chatId:e});if("error"in i)return Me(Z_,(r=i.error)==null?void 0:r.toString());const o={messageId:i.messages&&i.messages.length>0?i.messages[i.messages.length-1].messageId+1:0,text:t,chatId:e,date:ct.now().toMillis().toString(),user:n};let a;"messages"in i&&i.messages&&i.messages.length>0?a=[...i.messages,o]:a=[o];const l=ir(xn,"groups",e);return await bh(l,{messages:a}),qs()}catch(i){return Me(Z_,i)}}const eS="src/App/api/google/firebase/database/groups/getAllGroups.ts";async function w8(){const t=Zv(xn,"groups");try{const e=await r2(t),n={};return e.forEach(r=>{n[r.id]=r.data()}),Z.isObjectEmpty(n)?Me(eS,"Can't find any groups!"):{groups:n,status:"success"}}catch(e){return Me(eS,e)}}const tS="src/App/api/google/firebase/database/groups/getGroupInfo.ts";async function _8({chatId:t}){const e=ir(xn,"groups",t);try{const n=await tu(e);return n.exists()?{info:n.data().info,status:"success"}:Me(tS,"Can't find group info!")}catch(n){return Me(tS,n)}}const S8="src/App/api/google/firebase/database/groups/updateGroupInfo.ts";async function E8({chatId:t,displayName:e,photoURL:n,lastText:r,color:i,ownerId:s,admins:o,type:a}){const l=ir(xn,"groups",t);try{const u={};return t&&(u.chatId=t),e&&(u.displayName=e),n&&(u.photoURL=n),u.date=u1().toString(),r&&(u.lastText=r),i&&(u.color=i),s&&(u.ownerId=s),o&&o.length>0&&(u.admins=o),a&&(u.type=a),await bh(l,{info:u}),qs()}catch(u){return Me(S8,u)}}const C8={addGroup:y8,addMessage:v8,getGroupMessages:T2,getAllGroups:w8,updateGroupInfo:E8,getGroupInfo:_8},T8="src/App/api/google/firebase/database/userChats/addUserChatsForUser.ts";async function b8({uid:t}){const e=ir(xn,"userChats",t);try{return await a1(e,{}),qs()}catch(n){return Me(T8,n)}}function I8({chatId:t,uid:e,targetChatUserId:n,targetChatUserDisplayName:r,targetChatUserPhotoURL:i}){const s=ir(xn,"userChats",e);bh(s,{[`${t}.userInfo`]:{uid:n,displayName:r,photoURL:i},[`${t}.date`]:u1()})}const k8={addUserChatsForUser:b8,updateUserChatInfo:I8},x8="src/App/api/google/firebase/database/users/addUser.ts";async function R8({uid:t}){const e=ir(xn,"users",t);try{return await a1(e,{uid:t}),qs()}catch(n){return Me(x8,n)}}const nS="src/App/api/google/firebase/database/users/getAllUsers.ts";async function A8(){const t=Zv(xn,"users");try{const e=await r2(t),n={};return e.forEach(i=>{n[i.id]=i.data()}),Z.isObjectEmpty(n)?Me(nS,"Can't find any chats!"):{users:n,status:"success"}}catch(e){return Me(nS,e)}}const rS="src/App/api/google/firebase/database/users/getUserById.ts";async function P8({userId:t}){const e=ir(xn,"users",t);try{const n=await tu(e);if(n.exists()){const{user:r}=n.data();return{user:r,status:"success"}}return Me(rS,"Can't find user!")}catch(n){return Me(rS,n)}}const O8="src/App/api/google/firebase/database/groups/updateGroupInfo.ts";async function L8({uid:t,displayName:e,photoURL:n,email:r,role:i,sex:s,lastActiveChatId:o,isOnline:a}){const l=ir(xn,"users",t);try{const u={};return e&&(u.displayName=e),n&&(u.photoURL=n),r&&(u.email=r),i&&(u.role=i),s&&(u.sex=s),o&&(u.lastActiveChatId=o),u.lastVisitDate=u1().toString(),a&&(u.isOnline=a),await bh(l,{user:u}),qs()}catch(u){return Me(O8,u)}}const N8={addUser:R8,getAllUsers:A8,getUserById:P8,updateUser:L8},D8={chats:m8,groups:C8,userChats:k8,users:N8};function M8(...t){return t.sort().join("-")}const $8={combineIds:M8},j8="src/App/api/google/firebase/storage/uploadFile.ts";async function U8({refName:t,file:e}){const n=W9(Z9,t);try{return await B9(n,e),{downloadURL:await q9(n),status:"success"}}catch(r){return Me(j8,r)}}const F8={uploadFile:U8},V8={auth:h8,database:D8,helpers:$8,storage:F8};function z8(t){return t.table.rows.map(e=>{var n;return(n=e.c.at(0))==null?void 0:n.v})}function H8(t){const e={},{table:n}=t,r=n.rows[0].c.length;for(let i=0;i<r;i++){const s=[];for(let o=1;o<n.rows.length;o++)n.rows[o].c[i]?s[o-1]=n.rows[o].c[i].v??"":s[o]="";e[n.rows[0].c[i].v]=s}return e}const B8={convertDataFromSheetWithFirstRowHeading:H8,convertDataFromOneColumnSheet:z8},q8="https://docs.google.com/spreadsheets/d/";async function W8({sheetId:t,tqx:e="out:json",pageTitle:n="sheet",range:r=""}){const i=new URLSearchParams;e&&i.append("tqx",e),n&&i.append("sheet",n),r&&i.append("range",r);try{const o=await(await fetch(`${q8}${t}/gviz/tq?${i}`)).text();return JSON.parse(o.substring(47).slice(0,-2))}catch(s){Vf("getSheetData",s)}return null}const K8={getSheetData:W8,convertors:B8},G8={firebase:V8,sheets:K8,appsscript:DN},Q8="src/App/api/ipify/fetchIP.ts";async function Y8(){try{return{ip:(await(await fetch("https://api.ipify.org?format=json")).json()).ip,status:"success"}}catch(t){return Me(Q8,t)}}const X8={fetchIP:Y8},An={google:G8,ipify:X8};function iS(t){return v.jsxs(Lt,{width:"108px",height:"28px",viewBox:"0 0 108 28",stroke:"none",...t,children:[v.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.48798 6L0 22.8H3.98401L5.48108 19.2H13.2687L14.76 22.8H18.84L11.328 6H7.48798ZM12.0459 16.248L9.38251 9.81833L6.70868 16.248H12.0459Z"}),v.jsx("path",{d:"M17.205 6L22.7009 22.8H26.877L30.6852 11.4169L34.3889 22.8H38.5649L44.0609 6H40.3409L36.4266 17.8967L32.5889 6H28.989L25.0272 17.809L21.2369 6H17.205Z"}),v.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M49.495 22.944C48.463 22.944 47.545 22.728 46.741 22.296C45.949 21.864 45.319 21.276 44.851 20.532C44.395 19.776 44.167 18.918 44.167 17.958C44.167 16.986 44.395 16.128 44.851 15.384C45.319 14.628 45.949 14.04 46.741 13.62C47.545 13.188 48.463 12.972 49.495 12.972C50.515 12.972 51.427 13.188 52.231 13.62C53.035 14.04 53.665 14.622 54.121 15.366C54.577 16.11 54.805 16.974 54.805 17.958C54.805 18.918 54.577 19.776 54.121 20.532C53.665 21.276 53.035 21.864 52.231 22.296C51.427 22.728 50.515 22.944 49.495 22.944ZM49.495 20.64C49.963 20.64 50.383 20.532 50.755 20.316C51.127 20.1 51.421 19.794 51.637 19.398C51.853 18.99 51.961 18.51 51.961 17.958C51.961 17.394 51.853 16.914 51.637 16.518C51.421 16.122 51.127 15.816 50.755 15.6C50.383 15.384 49.963 15.276 49.495 15.276C49.027 15.276 48.607 15.384 48.235 15.6C47.863 15.816 47.563 16.122 47.335 16.518C47.119 16.914 47.011 17.394 47.011 17.958C47.011 18.51 47.119 18.99 47.335 19.398C47.563 19.794 47.863 20.1 48.235 20.316C48.607 20.532 49.027 20.64 49.495 20.64Z"}),v.jsx("path",{d:"M60.364 13.116H57.6819V22.8H60.4899V18.228C60.4899 17.304 60.7239 16.626 61.1919 16.194C61.6719 15.75 62.2959 15.528 63.0639 15.528C63.1719 15.528 63.2739 15.534 63.3699 15.546C63.3847 15.546 63.3998 15.5461 63.4152 15.5464L63.4372 15.5469L63.4645 15.5478C63.5353 15.5504 63.6118 15.5558 63.6939 15.564V12.972C62.7819 12.972 62.0079 13.152 61.3719 13.512C60.9645 13.7349 60.6285 14.0267 60.364 14.3875V13.116Z"}),v.jsx("path",{d:"M69.6919 22.944C68.8639 22.944 68.0659 22.848 67.2979 22.656C66.5419 22.452 65.9419 22.2 65.4979 21.9L66.4339 19.884C66.8779 20.16 67.3999 20.388 67.9999 20.568C68.6119 20.736 69.2119 20.82 69.7999 20.82C70.4479 20.82 70.9039 20.742 71.1679 20.586C71.4438 20.43 71.5818 20.214 71.5818 19.938C71.5818 19.71 71.4739 19.542 71.2579 19.434C71.0539 19.314 70.7779 19.224 70.4299 19.164C70.2651 19.1356 70.0923 19.1072 69.9115 19.0789C69.7103 19.0472 69.4991 19.0156 69.2779 18.984C68.8699 18.924 68.4559 18.846 68.0359 18.75C67.6158 18.642 67.2319 18.486 66.8839 18.282C66.5359 18.078 66.2538 17.802 66.0379 17.454C65.8339 17.106 65.7319 16.656 65.7319 16.104C65.7319 15.492 65.9059 14.952 66.2538 14.484C66.6139 14.016 67.1299 13.65 67.8019 13.386C68.4739 13.11 69.2779 12.972 70.2139 12.972C70.8739 12.972 71.5459 13.044 72.2299 13.188C72.9139 13.332 73.4839 13.542 73.9399 13.818L73.0038 15.816C72.5359 15.54 72.0619 15.354 71.5818 15.258C71.1139 15.15 70.6579 15.096 70.2139 15.096C69.5899 15.096 69.1339 15.18 68.8459 15.348C68.5579 15.516 68.4139 15.732 68.4139 15.996C68.4139 16.236 68.5159 16.416 68.7198 16.536C68.9359 16.656 69.2179 16.752 69.5659 16.824C69.9139 16.896 70.2919 16.962 70.6999 17.022C71.1199 17.07 71.5399 17.148 71.9599 17.256C72.3799 17.364 72.7579 17.52 73.0939 17.724C73.4419 17.916 73.7239 18.186 73.9399 18.534C74.1559 18.87 74.2639 19.314 74.2639 19.866C74.2639 20.466 74.0839 21 73.7239 21.468C73.3639 21.924 72.8419 22.284 72.1579 22.548C71.4859 22.812 70.6639 22.944 69.6919 22.944Z"}),v.jsx("path",{d:"M84.9344 13.44C84.3344 13.128 83.6504 12.972 82.8824 12.972C82.0544 12.972 81.3163 13.146 80.6684 13.494C80.3424 13.669 80.0544 13.8821 79.8044 14.133V9.444H76.9964V22.8H79.8044V18.012C79.8044 17.412 79.9004 16.92 80.0923 16.536C80.2964 16.152 80.5724 15.87 80.9203 15.69C81.2804 15.498 81.6824 15.402 82.1264 15.402C82.7504 15.402 83.2303 15.588 83.5663 15.96C83.9144 16.332 84.0884 16.908 84.0884 17.688V22.8H86.8964V17.256C86.8964 16.272 86.7224 15.468 86.3744 14.844C86.0264 14.208 85.5464 13.74 84.9344 13.44Z"}),v.jsx("path",{d:"M91.8457 11.766C91.3297 11.766 90.9097 11.616 90.5857 11.316C90.2617 11.016 90.0997 10.644 90.0997 10.2C90.0997 9.75601 90.2617 9.384 90.5857 9.08401C90.9097 8.784 91.3297 8.634 91.8457 8.634C92.3617 8.634 92.7817 8.77802 93.1057 9.06601C93.4297 9.34201 93.5917 9.702 93.5917 10.146C93.5917 10.614 93.4297 11.004 93.1057 11.316C92.7937 11.616 92.3737 11.766 91.8457 11.766Z"}),v.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M100.438 22.404C101.05 22.764 101.764 22.944 102.58 22.944C103.492 22.944 104.308 22.74 105.028 22.332C105.76 21.924 106.336 21.348 106.756 20.604C107.188 19.86 107.404 18.978 107.404 17.958C107.404 16.95 107.188 16.074 106.756 15.33C106.336 14.586 105.76 14.01 105.028 13.602C104.308 13.182 103.492 12.972 102.58 12.972C101.728 12.972 100.996 13.152 100.384 13.512C100.062 13.7013 99.7799 13.942 99.5378 14.2342V13.116H96.8557V26.292H99.6638V21.7747C99.8927 22.0254 100.151 22.2352 100.438 22.404ZM103.336 20.316C102.976 20.532 102.562 20.64 102.094 20.64C101.626 20.64 101.206 20.532 100.834 20.316C100.462 20.1 100.168 19.794 99.9518 19.398C99.7357 18.99 99.6277 18.51 99.6277 17.958C99.6277 17.394 99.7357 16.914 99.9518 16.518C100.168 16.122 100.462 15.816 100.834 15.6C101.206 15.384 101.626 15.276 102.094 15.276C102.562 15.276 102.976 15.384 103.336 15.6C103.708 15.816 104.002 16.122 104.218 16.518C104.446 16.914 104.56 17.394 104.56 17.958C104.56 18.51 104.446 18.99 104.218 19.398C104.002 19.794 103.708 20.1 103.336 20.316Z"}),v.jsx("path",{d:"M90.4417 22.8V13.116H93.2497V22.8H90.4417Z"})]})}function J8({type:t}){const{isAuth:e}=Gy();return v.jsxs(Ff,{to:"/",style:{color:"var(--color--f1-0)"},children:[t==="short"&&v.jsx(rg,{}),t==="normal"&&v.jsx(iS,{}),!t&&(e?v.jsx(iS,{}):v.jsx(rg,{}))]})}const ya=HP;function Yn(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Fi(t){return!!t&&!!t[Be]}function ti(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===aF}(t)||Array.isArray(t)||!!t[dS]||!!(!((e=t.constructor)===null||e===void 0)&&e[dS])||m1(t)||g1(t))}function Ds(t,e,n){n===void 0&&(n=!1),va(t)===0?(n?Object.keys:Lo)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function va(t){var e=t[Be];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:m1(t)?2:g1(t)?3:0}function Oo(t,e){return va(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Z8(t,e){return va(t)===2?t.get(e):t[e]}function b2(t,e,n){var r=va(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function I2(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function m1(t){return sF&&t instanceof Map}function g1(t){return oF&&t instanceof Set}function rs(t){return t.o||t.t}function y1(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=x2(t);delete e[Be];for(var n=Lo(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function v1(t,e){return e===void 0&&(e=!1),w1(t)||Fi(t)||!ti(t)||(va(t)>1&&(t.set=t.add=t.clear=t.delete=eF),Object.freeze(t),e&&Ds(t,function(n,r){return v1(r,!0)},!0)),t}function eF(){Yn(2)}function w1(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Er(t){var e=Ug[t];return e||Yn(18,t),e}function tF(t,e){Ug[t]||(Ug[t]=e)}function Mg(){return nu}function Lp(t,e){e&&(Er("Patches"),t.u=[],t.s=[],t.v=e)}function zd(t){$g(t),t.p.forEach(nF),t.p=null}function $g(t){t===nu&&(nu=t.l)}function sS(t){return nu={p:[],l:nu,h:t,m:!0,_:0}}function nF(t){var e=t[Be];e.i===0||e.i===1?e.j():e.O=!0}function Np(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.g||Er("ES5").S(e,t,r),r?(n[Be].P&&(zd(e),Yn(4)),ti(t)&&(t=Hd(e,t),e.l||Bd(e,t)),e.u&&Er("Patches").M(n[Be].t,t,e.u,e.s)):t=Hd(e,n,[]),zd(e),e.u&&e.v(e.u,e.s),t!==k2?t:void 0}function Hd(t,e,n){if(w1(e))return e;var r=e[Be];if(!r)return Ds(e,function(a,l){return oS(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Bd(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=y1(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Ds(s,function(a,l){return oS(t,r,i,a,l,n,o)}),Bd(t,i,!1),n&&t.u&&Er("Patches").N(r,n,t.u,t.s)}return r.o}function oS(t,e,n,r,i,s,o){if(Fi(i)){var a=Hd(t,i,s&&e&&e.i!==3&&!Oo(e.R,r)?s.concat(r):void 0);if(b2(n,r,a),!Fi(a))return;t.m=!1}else o&&n.add(i);if(ti(i)&&!w1(i)){if(!t.h.D&&t._<1)return;Hd(t,i),e&&e.A.l||Bd(t,i)}}function Bd(t,e,n){n===void 0&&(n=!1),t.h.D&&t.m&&v1(e,n)}function Dp(t,e){var n=t[Be];return(n?rs(n):t)[e]}function aS(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function yi(t){t.P||(t.P=!0,t.l&&yi(t.l))}function Mp(t){t.o||(t.o=y1(t.t))}function jg(t,e,n){var r=m1(e)?Er("MapSet").F(e,n):g1(e)?Er("MapSet").T(e,n):t.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Mg(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=ru;o&&(l=[a],u=Ya);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f}(e,n):Er("ES5").J(e,n);return(n?n.A:Mg()).p.push(r),r}function rF(t){return Fi(t)||Yn(22,t),function e(n){if(!ti(n))return n;var r,i=n[Be],s=va(n);if(i){if(!i.P&&(i.i<4||!Er("ES5").K(i)))return i.t;i.I=!0,r=lS(n,s),i.I=!1}else r=lS(n,s);return Ds(r,function(o,a){i&&Z8(i.t,o)===a||b2(r,o,e(a))}),s===3?new Set(r):r}(t)}function lS(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return y1(t)}function iF(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[Be];return ru.get(l,s)},set:function(l){var u=this[Be];ru.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Be];if(!a.P)switch(a.i){case 5:r(a)&&yi(a);break;case 4:n(a)&&yi(a)}}}function n(s){for(var o=s.t,a=s.k,l=Lo(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Be){var d=o[c];if(d===void 0&&!Oo(o,c))return!0;var f=a[c],h=f&&f[Be];if(h?h.t!==d:!I2(f,d))return!0}}var y=!!o[Be];return l.length!==Lo(o).length+(y?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};tF("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,d){if(c){for(var f=Array(d.length),h=0;h<d.length;h++)Object.defineProperty(f,""+h,t(h,!0));return f}var y=x2(d);delete y[Be];for(var p=Lo(y),S=0;S<p.length;S++){var g=p[S];y[g]=t(g,c||!!y[g].enumerable)}return Object.create(Object.getPrototypeOf(d),y)}(a,s),u={i:a?5:4,A:o?o.A:Mg(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,Be,{value:u,writable:!0}),l},S:function(s,o,a){a?Fi(o)&&o[Be].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[Be];if(c){var d=c.t,f=c.k,h=c.R,y=c.i;if(y===4)Ds(f,function(w){w!==Be&&(d[w]!==void 0||Oo(d,w)?h[w]||l(f[w]):(h[w]=!0,yi(c)))}),Ds(d,function(w){f[w]!==void 0||Oo(f,w)||(h[w]=!1,yi(c))});else if(y===5){if(r(c)&&(yi(c),h.length=!0),f.length<d.length)for(var p=f.length;p<d.length;p++)h[p]=!1;else for(var S=d.length;S<f.length;S++)h[S]=!0;for(var g=Math.min(f.length,d.length),m=0;m<g;m++)f.hasOwnProperty(m)||(h[m]=!0),h[m]===void 0&&l(f[m])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var uS,nu,_1=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",sF=typeof Map<"u",oF=typeof Set<"u",cS=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",k2=_1?Symbol.for("immer-nothing"):((uS={})["immer-nothing"]=!0,uS),dS=_1?Symbol.for("immer-draftable"):"__$immer_draftable",Be=_1?Symbol.for("immer-state"):"__$immer_state",aF=""+Object.prototype.constructor,Lo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,x2=Object.getOwnPropertyDescriptors||function(t){var e={};return Lo(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},Ug={},ru={get:function(t,e){if(e===Be)return t;var n=rs(t);if(!Oo(n,e))return function(i,s,o){var a,l=aS(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!ti(r)?r:r===Dp(t.t,e)?(Mp(t),t.o[e]=jg(t.A.h,r,t)):r},has:function(t,e){return e in rs(t)},ownKeys:function(t){return Reflect.ownKeys(rs(t))},set:function(t,e,n){var r=aS(rs(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Dp(rs(t),e),s=i==null?void 0:i[Be];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(I2(n,i)&&(n!==void 0||Oo(t.t,e)))return!0;Mp(t),yi(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Dp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Mp(t),yi(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=rs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Yn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Yn(12)}},Ya={};Ds(ru,function(t,e){Ya[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Ya.deleteProperty=function(t,e){return Ya.set.call(this,t,e,void 0)},Ya.set=function(t,e,n){return ru.set.call(this,t[0],e,n,t[0])};var lF=function(){function t(n){var r=this;this.g=cS,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(p){var S=this;p===void 0&&(p=a);for(var g=arguments.length,m=Array(g>1?g-1:0),w=1;w<g;w++)m[w-1]=arguments[w];return l.produce(p,function(_){var C;return(C=s).call.apply(C,[S,_].concat(m))})}}var u;if(typeof s!="function"&&Yn(6),o!==void 0&&typeof o!="function"&&Yn(7),ti(i)){var c=sS(r),d=jg(r,i,void 0),f=!0;try{u=s(d),f=!1}finally{f?zd(c):$g(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(p){return Lp(c,o),Np(p,c)},function(p){throw zd(c),p}):(Lp(c,o),Np(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===k2&&(u=void 0),r.D&&v1(u,!0),o){var h=[],y=[];Er("Patches").M(i,u,h,y),o(h,y)}return u}Yn(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(d))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){ti(n)||Yn(8),Fi(n)&&(n=rF(n));var r=sS(this),i=jg(this,n,void 0);return i[Be].C=!0,$g(r),i},e.finishDraft=function(n,r){var i=n&&n[Be],s=i.A;return Lp(s,r),Np(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!cS&&Yn(20),this.g=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Er("Patches").$;return Fi(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),Tn=new lF,R2=Tn.produce;Tn.produceWithPatches.bind(Tn);Tn.setAutoFreeze.bind(Tn);Tn.setUseProxies.bind(Tn);Tn.applyPatches.bind(Tn);Tn.createDraft.bind(Tn);Tn.finishDraft.bind(Tn);function iu(t){return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function uF(t,e){if(iu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(iu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cF(t){var e=uF(t,"string");return iu(e)==="symbol"?e:String(e)}function dF(t,e,n){return e=cF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fS(Object(n),!0).forEach(function(r){dF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ft(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var pS=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),$p=function(){return Math.random().toString(36).substring(7).split("").join(".")},qd={INIT:"@@redux/INIT"+$p(),REPLACE:"@@redux/REPLACE"+$p(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+$p()}};function fF(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function S1(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ft(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ft(1));return n(S1)(t,e)}if(typeof t!="function")throw new Error(Ft(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(Ft(3));return s}function d(p){if(typeof p!="function")throw new Error(Ft(4));if(l)throw new Error(Ft(5));var S=!0;return u(),a.push(p),function(){if(S){if(l)throw new Error(Ft(6));S=!1,u();var m=a.indexOf(p);a.splice(m,1),o=null}}}function f(p){if(!fF(p))throw new Error(Ft(7));if(typeof p.type>"u")throw new Error(Ft(8));if(l)throw new Error(Ft(9));try{l=!0,s=i(s,p)}finally{l=!1}for(var S=o=a,g=0;g<S.length;g++){var m=S[g];m()}return p}function h(p){if(typeof p!="function")throw new Error(Ft(10));i=p,f({type:qd.REPLACE})}function y(){var p,S=d;return p={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(Ft(11));function w(){m.next&&m.next(c())}w();var _=S(w);return{unsubscribe:_}}},p[pS]=function(){return this},p}return f({type:qd.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:h},r[pS]=y,r}function hF(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:qd.INIT});if(typeof r>"u")throw new Error(Ft(12));if(typeof n(void 0,{type:qd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ft(13))})}function A2(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{hF(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,d={},f=0;f<s.length;f++){var h=s[f],y=n[h],p=l[h],S=y(p,u);if(typeof S>"u")throw u&&u.type,new Error(Ft(14));d[h]=S,c=c||S!==p}return c=c||s.length!==Object.keys(l).length,c?d:l}}function Wd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function pF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Ft(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=Wd.apply(void 0,a)(i.dispatch),hS(hS({},i),{},{dispatch:s})}}}function P2(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var O2=P2();O2.withExtraArgument=P2;const mS=O2;var mF=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gF=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Kd=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},yF=Object.defineProperty,vF=Object.defineProperties,wF=Object.getOwnPropertyDescriptors,gS=Object.getOwnPropertySymbols,_F=Object.prototype.hasOwnProperty,SF=Object.prototype.propertyIsEnumerable,yS=function(t,e,n){return e in t?yF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Oi=function(t,e){for(var n in e||(e={}))_F.call(e,n)&&yS(t,n,e[n]);if(gS)for(var r=0,i=gS(e);r<i.length;r++){var n=i[r];SF.call(e,n)&&yS(t,n,e[n])}return t},jp=function(t,e){return vF(t,wF(e))},EF=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},CF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Wd:Wd.apply(null,arguments)};function TF(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var bF=function(t){mF(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Kd([void 0],n[0].concat(this)))):new(e.bind.apply(e,Kd([void 0],n.concat(this))))},e}(Array);function Fg(t){return ti(t)?R2(t,function(){}):t}function IF(t){return typeof t=="boolean"}function kF(){return function(e){return xF(e)}}function xF(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new bF;return n&&(IF(n)?r.push(mS):r.push(mS.withExtraArgument(n.extraArgument))),r}var RF=!0;function AF(t){var e=kF(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,f=d===void 0?void 0:d,h;if(typeof i=="function")h=i;else if(TF(i))h=A2(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var y=o;typeof y=="function"&&(y=y(e));var p=pF.apply(void 0,y),S=Wd;l&&(S=CF(Oi({trace:!RF},typeof l=="object"&&l)));var g=[p];Array.isArray(f)?g=Kd([p],f):typeof f=="function"&&(g=f(g));var m=S.apply(void 0,g);return S1(h,c,m)}function Li(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Oi(Oi({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function L2(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function PF(t){return typeof t=="function"}function OF(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?L2(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(PF(t))l=function(){return Fg(t())};else{var u=Fg(t);l=function(){return u}}function c(d,f){d===void 0&&(d=l());var h=Kd([s[f.type]],o.filter(function(y){var p=y.matcher;return p(f)}).map(function(y){var p=y.reducer;return p}));return h.filter(function(y){return!!y}).length===0&&(h=[a]),h.reduce(function(y,p){if(p)if(Fi(y)){var S=y,g=p(S,f);return g===void 0?y:g}else{if(ti(y))return R2(y,function(m){return p(m,f)});var g=p(y,f);if(g===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return y},d)}return c.getInitialState=l,c}function LF(t,e){return t+"/"+e}function E1(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:Fg(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var d=r[c],f=LF(e,c),h,y;"reducer"in d?(h=d.reducer,y=d.prepare):h=d,s[c]=h,o[f]=h,a[c]=y?Li(f,y):Li(f)});function l(){var c=typeof t.extraReducers=="function"?L2(t.extraReducers):[t.extraReducers],d=c[0],f=d===void 0?{}:d,h=c[1],y=h===void 0?[]:h,p=c[2],S=p===void 0?void 0:p,g=Oi(Oi({},f),o);return OF(n,function(m){for(var w in g)m.addCase(w,g[w]);for(var _=0,C=y;_<C.length;_++){var T=C[_];m.addMatcher(T.matcher,T.reducer)}S&&m.addDefaultCase(S)})}var u;return{name:e,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var NF="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",DF=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=NF[Math.random()*64|0];return e},MF=["name","message","stack","code"],Up=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),vS=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),$F=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=MF;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}},kh=function(){function t(e,n,r){var i=Li(e+"/fulfilled",function(u,c,d,f){return{payload:u,meta:jp(Oi({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),s=Li(e+"/pending",function(u,c,d){return{payload:void 0,meta:jp(Oi({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=Li(e+"/rejected",function(u,c,d,f,h){return{payload:f,error:(r&&r.serializeError||$F)(u||"Rejected"),meta:jp(Oi({},h||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,f){var h=r!=null&&r.idGenerator?r.idGenerator(u):DF(),y=new a,p;function S(m){p=m,y.abort()}var g=function(){return EF(this,null,function(){var m,w,_,C,T,I,N;return gF(this,function(A){switch(A.label){case 0:return A.trys.push([0,4,,5]),C=(m=r==null?void 0:r.condition)==null?void 0:m.call(r,u,{getState:d,extra:f}),UF(C)?[4,C]:[3,2];case 1:C=A.sent(),A.label=2;case 2:if(C===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return T=new Promise(function(D,G){return y.signal.addEventListener("abort",function(){return G({name:"AbortError",message:p||"Aborted"})})}),c(s(h,u,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:h,arg:u},{getState:d,extra:f}))),[4,Promise.race([T,Promise.resolve(n(u,{dispatch:c,getState:d,extra:f,requestId:h,signal:y.signal,abort:S,rejectWithValue:function(D,G){return new Up(D,G)},fulfillWithValue:function(D,G){return new vS(D,G)}})).then(function(D){if(D instanceof Up)throw D;return D instanceof vS?i(D.payload,h,u,D.meta):i(D,h,u)})])];case 3:return _=A.sent(),[3,5];case 4:return I=A.sent(),_=I instanceof Up?o(null,h,u,I.payload,I.meta):o(I,h,u),[3,5];case 5:return N=r&&!r.dispatchConditionRejection&&o.match(_)&&_.meta.condition,N||c(_),[2,_]}})})}();return Object.assign(g,{abort:S,requestId:h,arg:u,unwrap:function(){return g.then(jF)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t}();function jF(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function UF(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var C1="listenerMiddleware";Li(C1+"/add");Li(C1+"/removeAll");Li(C1+"/remove");var wS;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);iF();const $u={error:"Сорі, якась невідома помилка! ¯\\_O_o_/¯"};function su(t){var e;return{error:((e=t.error)==null?void 0:e.toString())||$u.error}}const Vc=kh("user/createUser",async({displayName:t,email:e,password:n,photo:r},i)=>{var s,o,a,l;try{const u=await An.google.firebase.auth.createUser({email:e,password:n});if("error"in u)return su(u);const c=r?await An.google.firebase.storage.uploadFile({refName:`users/${u.user.uid}/profile/profileImage-${u.user.uid}-${Z.getCurrentDateInMs()}`,file:r}):null,d=c&&"downloadURL"in c&&c.downloadURL||"";"error"in await An.google.firebase.database.users.addUser({uid:u.user.uid})||await An.google.firebase.database.users.updateUser({uid:u.user.uid,displayName:u.user.displayName||"User",photoURL:d,email:u.user.email||"",status:"user",sex:"unknown",lastActiveChatId:"0"}),await An.google.firebase.auth.updateProfile({user:u.user,displayName:t,photoURL:d}),await An.google.firebase.database.userChats.addUserChatsForUser({uid:u.user.uid});const h=An.google.firebase.auth.getCurrentAuthUser();return"error"in h?su(h):{uid:((s=h.user.uid)==null?void 0:s.toString())||"",displayName:((o=h.user.displayName)==null?void 0:o.toString())||"",photoURL:((a=h.user.photoURL)==null?void 0:a.toString())||"",email:((l=h.user.email)==null?void 0:l.toString())||""}}catch{return i.rejectWithValue($u)}}),zc=kh("user/signIn",async({email:t,password:e},n)=>{try{const r=await An.google.firebase.auth.signIn({email:t,password:e});return"error"in r?su(r):{uid:r.user.uid||"",displayName:r.user.displayName||"",photoURL:r.user.photoURL||"",email:r.user.email||""}}catch{return n.rejectWithValue($u)}}),yl=kh("user/signInWithGoogle",async(t,e)=>{try{const n=await An.google.firebase.auth.signInWithGoogle();if("error"in n)return su(n);const r=An.google.firebase.auth.getCurrentAuthUser();return"error"in r?su(r):{displayName:r.user.displayName||"",email:r.user.email||"",photoURL:r.user.photoURL||"",uid:r.user.uid||""}}catch{return e.rejectWithValue($u)}}),FF={isLoading:!1,error:"",uid:"",displayName:"",photoURL:"",email:"",status:"user",sex:"unknown",role:"",lastActiveChatId:"",lastVisitDate:"",isOnline:!1},ju=E1({name:"user",initialState:FF,reducers:{setUser(t,e){t.uid=e.payload.uid,t.displayName=e.payload.displayName,t.photoURL=e.payload.photoURL,t.email=e.payload.email},removeUser(t){t.uid="",t.displayName="",t.photoURL="",t.email="",t.status="user",t.sex="unknown",t.role="",t.lastActiveChatId="",t.lastVisitDate="",t.isOnline=!1},resetError(t){t.error=""}},extraReducers:t=>{t.addCase(Vc.pending,e=>{e.isLoading=!0,e.error="",e.uid="",e.displayName="",e.photoURL="",e.email="",e.status="user",e.sex="unknown",e.role="",e.lastActiveChatId="",e.lastVisitDate="",e.isOnline=!1}).addCase(Vc.fulfilled,(e,n)=>{"error"in n.payload?e.error=n.payload.error:(e.uid=n.payload.uid,e.displayName=n.payload.displayName,e.photoURL=n.payload.photoURL,e.email=n.payload.email),e.isLoading=!1}).addCase(Vc.rejected,(e,n)=>{e.error=n.payload.error,e.isLoading=!1}).addCase(zc.pending,e=>{e.isLoading=!0,e.error="",e.uid="",e.displayName="",e.photoURL="",e.email="",e.status="user",e.sex="unknown",e.role="",e.lastActiveChatId="",e.lastVisitDate="",e.isOnline=!1}).addCase(zc.fulfilled,(e,n)=>{"error"in n.payload?e.error=n.payload.error:(e.email=n.payload.email,e.displayName=n.payload.displayName,e.photoURL=n.payload.photoURL,e.uid=n.payload.uid),e.isLoading=!1}).addCase(zc.rejected,(e,n)=>{e.error=n.payload.error,e.isLoading=!1}).addCase(yl.pending,e=>{e.isLoading=!0,e.error="",e.uid="",e.displayName="",e.photoURL="",e.email="",e.status="user",e.sex="unknown",e.role="",e.lastActiveChatId="",e.lastVisitDate="",e.isOnline=!1}).addCase(yl.fulfilled,(e,n)=>{"error"in n.payload?e.error=n.payload.error:(e.email=n.payload.email,e.displayName=n.payload.displayName,e.photoURL=n.payload.photoURL,e.uid=n.payload.uid),e.isLoading=!1}).addCase(yl.rejected,(e,n)=>{e.error=n.payload.error,e.isLoading=!1})}}),VF="_img_q4y9a_1",zF="_small_q4y9a_7",HF="_charContainer_q4y9a_12",BF="_char_q4y9a_12",Xs={img:VF,small:zF,charContainer:HF,char:BF},Gd=b.forwardRef(({src:t,alt:e,char:n,color:r,size:i="default",onClick:s,children:o,className:a,...l},u)=>{const c=[s&&"clickable"],d=i&&Xs[i];return v.jsxs("div",{onClick:s,className:Z.join(Xs.Avatar,a,c),ref:u,...l,children:[!t&&o&&v.jsx("div",{className:Z.join(Xs.charContainer,d),style:{backgroundColor:r},children:o}),t&&v.jsx("img",{className:Z.join(Xs.img,d),src:t,alt:e}),!t&&!o&&v.jsx("div",{className:Z.join(Xs.charContainer,d),style:{backgroundColor:r},children:v.jsx("h5",{className:Z.join(Xs.char,"h5"),children:n})})]})});Gd.displayName="Avatar";const qF="_Button_rdaje_106",WF="_tiny_rdaje_119",KF="_small_rdaje_122",GF="_medium_rdaje_128",QF="_large_rdaje_131",YF="_extra_rdaje_134",XF="_clickable_rdaje_137",JF="_disabled_rdaje_147",ZF="_label_rdaje_162",e7="_icon_rdaje_189",t7="_secondary_rdaje_213",n7="_text_rdaje_230",fr={Button:qF,tiny:WF,small:KF,default:"_default_rdaje_125",medium:GF,large:QF,extra:YF,clickable:XF,disabled:JF,label:ZF,icon:e7,secondary:t7,text:n7},gn=b.forwardRef(({size:t="default",type:e="primary",submit:n,children:r,className:i,...s},o)=>{const a=Array.isArray(r)?r==null?void 0:r.some(c=>typeof c=="string"):typeof r=="string",l=t&&fr[t],u=[e&&fr[e],!a&&fr.icon];return v.jsx("button",{type:n?"submit":"button",className:Z.join(fr.Button,i,l,u),ref:o,...s,children:v.jsx("span",{className:Z.join(fr.label,hn.button,l),children:r})})});gn.displayName="Button";const N2=b.forwardRef(({size:t="default",width:e,height:n,type:r="primary",blank:i,customStyle:s,children:o,className:a,style:l,...u},c)=>{const d=Array.isArray(o)?o==null?void 0:o.some(p=>typeof p=="string"):typeof o=="string",f=[t&&fr[t],r&&fr[r],!d&&fr.icon,fr.Button],h=i&&{target:"_blank",rel:"noreferrer noopener"},y=t==="custom"?{width:e,height:n}:{};return v.jsx("a",{className:Z.join(a,!s&&f),ref:c,style:{...l,...y},...h,...u,children:v.jsx("span",{className:Z.join(fr.label,hn.button),children:o})})});N2.displayName="ButtonLink";var Lr={},r7={get exports(){return Lr},set exports(t){Lr=t}};(function(t,e){(function(r,i){t.exports=i(b)})(Cx,n=>(()=>{var r={"./node_modules/css-mediaquery/index.js":(a,l)=>{l.match=y,l.parse=p;var u=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,c=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,d=/^(?:(min|max)-)?(.+)/,f=/(em|rem|px|cm|mm|in|pt|pc)?$/,h=/(dpi|dpcm|dppx)?$/;function y(w,_){return p(w).some(function(C){var T=C.inverse,I=C.type==="all"||_.type===C.type;if(I&&T||!(I||T))return!1;var N=C.expressions.every(function(A){var D=A.feature,G=A.modifier,B=A.value,j=_[D];if(!j)return!1;switch(D){case"orientation":case"scan":return j.toLowerCase()===B.toLowerCase();case"width":case"height":case"device-width":case"device-height":B=m(B),j=m(j);break;case"resolution":B=g(B),j=g(j);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":B=S(B),j=S(j);break;case"grid":case"color":case"color-index":case"monochrome":B=parseInt(B,10)||1,j=parseInt(j,10)||0;break}switch(G){case"min":return j>=B;case"max":return j<=B;default:return j===B}});return N&&!T||!N&&T})}function p(w){return w.split(",").map(function(_){_=_.trim();var C=_.match(u),T=C[1],I=C[2],N=C[3]||"",A={};return A.inverse=!!T&&T.toLowerCase()==="not",A.type=I?I.toLowerCase():"all",N=N.match(/\([^\)]+\)/g)||[],A.expressions=N.map(function(D){var G=D.match(c),B=G[1].toLowerCase().match(d);return{modifier:B[1],feature:B[2],value:G[2]}}),A})}function S(w){var _=Number(w),C;return _||(C=w.match(/^(\d+)\s*\/\s*(\d+)$/),_=C[1]/C[2]),_}function g(w){var _=parseFloat(w),C=String(w).match(h)[1];switch(C){case"dpcm":return _/2.54;case"dppx":return _*96;default:return _}}function m(w){var _=parseFloat(w),C=String(w).match(f)[1];switch(C){case"em":return _*16;case"rem":return _*16;case"cm":return _*96/2.54;case"mm":return _*96/2.54/10;case"in":return _*96;case"pt":return _*72;case"pc":return _*72/12;default:return _}}},"./node_modules/hyphenate-style-name/index.js":(a,l,u)=>{u.r(l),u.d(l,{default:()=>p});var c=/[A-Z]/g,d=/^ms-/,f={};function h(S){return"-"+S.toLowerCase()}function y(S){if(f.hasOwnProperty(S))return f[S];var g=S.replace(c,h);return f[S]=d.test(g)?"-"+g:g}const p=y},"./node_modules/matchmediaquery/index.js":(a,l,u)=>{var c=u("./node_modules/css-mediaquery/index.js").match,d=typeof window<"u"?window.matchMedia:null;function f(y,p,S){var g=this;if(d&&!S){var m=d.call(window,y);this.matches=m.matches,this.media=m.media,m.addListener(C)}else this.matches=c(y,p),this.media=y;this.addListener=w,this.removeListener=_,this.dispose=T;function w(I){m&&m.addListener(I)}function _(I){m&&m.removeListener(I)}function C(I){g.matches=I.matches,g.media=I.media}function T(){m&&m.removeListener(C)}}function h(y,p,S){return new f(y,p,S)}a.exports=h},"./node_modules/object-assign/index.js":a=>{/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function d(h){if(h==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(h)}function f(){try{if(!Object.assign)return!1;var h=new String("abc");if(h[5]="de",Object.getOwnPropertyNames(h)[0]==="5")return!1;for(var y={},p=0;p<10;p++)y["_"+String.fromCharCode(p)]=p;var S=Object.getOwnPropertyNames(y).map(function(m){return y[m]});if(S.join("")!=="0123456789")return!1;var g={};return"abcdefghijklmnopqrst".split("").forEach(function(m){g[m]=m}),Object.keys(Object.assign({},g)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}a.exports=f()?Object.assign:function(h,y){for(var p,S=d(h),g,m=1;m<arguments.length;m++){p=Object(arguments[m]);for(var w in p)u.call(p,w)&&(S[w]=p[w]);if(l){g=l(p);for(var _=0;_<g.length;_++)c.call(p,g[_])&&(S[g[_]]=p[g[_]])}}return S}},"./node_modules/prop-types/checkPropTypes.js":(a,l,u)=>{var c=function(){};{var d=u("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),f={},h=u("./node_modules/prop-types/lib/has.js");c=function(p){var S="Warning: "+p;typeof console<"u"&&console.error(S);try{throw new Error(S)}catch{}}}function y(p,S,g,m,w){for(var _ in p)if(h(p,_)){var C;try{if(typeof p[_]!="function"){var T=Error((m||"React class")+": "+g+" type `"+_+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof p[_]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw T.name="Invariant Violation",T}C=p[_](S,_,m,g,null,d)}catch(N){C=N}if(C&&!(C instanceof Error)&&c((m||"React class")+": type specification of "+g+" `"+_+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof C+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),C instanceof Error&&!(C.message in f)){f[C.message]=!0;var I=w?w():"";c("Failed "+g+" type: "+C.message+(I??""))}}}y.resetWarningCache=function(){f={}},a.exports=y},"./node_modules/prop-types/factoryWithTypeCheckers.js":(a,l,u)=>{var c=u("./node_modules/react-is/index.js"),d=u("./node_modules/object-assign/index.js"),f=u("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),h=u("./node_modules/prop-types/lib/has.js"),y=u("./node_modules/prop-types/checkPropTypes.js"),p=function(){};p=function(g){var m="Warning: "+g;typeof console<"u"&&console.error(m);try{throw new Error(m)}catch{}};function S(){return null}a.exports=function(g,m){var w=typeof Symbol=="function"&&Symbol.iterator,_="@@iterator";function C(F){var K=F&&(w&&F[w]||F[_]);if(typeof K=="function")return K}var T="<<anonymous>>",I={array:G("array"),bigint:G("bigint"),bool:G("boolean"),func:G("function"),number:G("number"),object:G("object"),string:G("string"),symbol:G("symbol"),any:B(),arrayOf:j,element:ae(),elementType:be(),instanceOf:De,node:re(),objectOf:q,oneOf:st,oneOfType:W,shape:$e,exact:dt};function N(F,K){return F===K?F!==0||1/F===1/K:F!==F&&K!==K}function A(F,K){this.message=F,this.data=K&&typeof K=="object"?K:{},this.stack=""}A.prototype=Error.prototype;function D(F){var K={},pe=0;function me(E,k,x,M,H,P,O){if(M=M||T,P=P||x,O!==f){if(m){var ge=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw ge.name="Invariant Violation",ge}else if(typeof console<"u"){var Se=M+":"+x;!K[Se]&&pe<3&&(p("You are manually calling a React.PropTypes validation function for the `"+P+"` prop on `"+M+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),K[Se]=!0,pe++)}}return k[x]==null?E?k[x]===null?new A("The "+H+" `"+P+"` is marked as required "+("in `"+M+"`, but its value is `null`.")):new A("The "+H+" `"+P+"` is marked as required in "+("`"+M+"`, but its value is `undefined`.")):null:F(k,x,M,H,P)}var ce=me.bind(null,!1);return ce.isRequired=me.bind(null,!0),ce}function G(F){function K(pe,me,ce,E,k,x){var M=pe[me],H=Fe(M);if(H!==F){var P=ft(M);return new A("Invalid "+E+" `"+k+"` of type "+("`"+P+"` supplied to `"+ce+"`, expected ")+("`"+F+"`."),{expectedType:F})}return null}return D(K)}function B(){return D(S)}function j(F){function K(pe,me,ce,E,k){if(typeof F!="function")return new A("Property `"+k+"` of component `"+ce+"` has invalid PropType notation inside arrayOf.");var x=pe[me];if(!Array.isArray(x)){var M=Fe(x);return new A("Invalid "+E+" `"+k+"` of type "+("`"+M+"` supplied to `"+ce+"`, expected an array."))}for(var H=0;H<x.length;H++){var P=F(x,H,ce,E,k+"["+H+"]",f);if(P instanceof Error)return P}return null}return D(K)}function ae(){function F(K,pe,me,ce,E){var k=K[pe];if(!g(k)){var x=Fe(k);return new A("Invalid "+ce+" `"+E+"` of type "+("`"+x+"` supplied to `"+me+"`, expected a single ReactElement."))}return null}return D(F)}function be(){function F(K,pe,me,ce,E){var k=K[pe];if(!c.isValidElementType(k)){var x=Fe(k);return new A("Invalid "+ce+" `"+E+"` of type "+("`"+x+"` supplied to `"+me+"`, expected a single ReactElement type."))}return null}return D(F)}function De(F){function K(pe,me,ce,E,k){if(!(pe[me]instanceof F)){var x=F.name||T,M=oi(pe[me]);return new A("Invalid "+E+" `"+k+"` of type "+("`"+M+"` supplied to `"+ce+"`, expected ")+("instance of `"+x+"`."))}return null}return D(K)}function st(F){if(!Array.isArray(F))return arguments.length>1?p("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):p("Invalid argument supplied to oneOf, expected an array."),S;function K(pe,me,ce,E,k){for(var x=pe[me],M=0;M<F.length;M++)if(N(x,F[M]))return null;var H=JSON.stringify(F,function(O,ge){var Se=ft(ge);return Se==="symbol"?String(ge):ge});return new A("Invalid "+E+" `"+k+"` of value `"+String(x)+"` "+("supplied to `"+ce+"`, expected one of "+H+"."))}return D(K)}function q(F){function K(pe,me,ce,E,k){if(typeof F!="function")return new A("Property `"+k+"` of component `"+ce+"` has invalid PropType notation inside objectOf.");var x=pe[me],M=Fe(x);if(M!=="object")return new A("Invalid "+E+" `"+k+"` of type "+("`"+M+"` supplied to `"+ce+"`, expected an object."));for(var H in x)if(h(x,H)){var P=F(x,H,ce,E,k+"."+H,f);if(P instanceof Error)return P}return null}return D(K)}function W(F){if(!Array.isArray(F))return p("Invalid argument supplied to oneOfType, expected an instance of array."),S;for(var K=0;K<F.length;K++){var pe=F[K];if(typeof pe!="function")return p("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+si(pe)+" at index "+K+"."),S}function me(ce,E,k,x,M){for(var H=[],P=0;P<F.length;P++){var O=F[P],ge=O(ce,E,k,x,M,f);if(ge==null)return null;ge.data&&h(ge.data,"expectedType")&&H.push(ge.data.expectedType)}var Se=H.length>0?", expected one of type ["+H.join(", ")+"]":"";return new A("Invalid "+x+" `"+M+"` supplied to "+("`"+k+"`"+Se+"."))}return D(me)}function re(){function F(K,pe,me,ce,E){return _t(K[pe])?null:new A("Invalid "+ce+" `"+E+"` supplied to "+("`"+me+"`, expected a ReactNode."))}return D(F)}function xe(F,K,pe,me,ce){return new A((F||"React class")+": "+K+" type `"+pe+"."+me+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+ce+"`.")}function $e(F){function K(pe,me,ce,E,k){var x=pe[me],M=Fe(x);if(M!=="object")return new A("Invalid "+E+" `"+k+"` of type `"+M+"` "+("supplied to `"+ce+"`, expected `object`."));for(var H in F){var P=F[H];if(typeof P!="function")return xe(ce,E,k,H,ft(P));var O=P(x,H,ce,E,k+"."+H,f);if(O)return O}return null}return D(K)}function dt(F){function K(pe,me,ce,E,k){var x=pe[me],M=Fe(x);if(M!=="object")return new A("Invalid "+E+" `"+k+"` of type `"+M+"` "+("supplied to `"+ce+"`, expected `object`."));var H=d({},pe[me],F);for(var P in H){var O=F[P];if(h(F,P)&&typeof O!="function")return xe(ce,E,k,P,ft(O));if(!O)return new A("Invalid "+E+" `"+k+"` key `"+P+"` supplied to `"+ce+"`.\nBad object: "+JSON.stringify(pe[me],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(F),null,"  "));var ge=O(x,P,ce,E,k+"."+P,f);if(ge)return ge}return null}return D(K)}function _t(F){switch(typeof F){case"number":case"string":case"undefined":return!0;case"boolean":return!F;case"object":if(Array.isArray(F))return F.every(_t);if(F===null||g(F))return!0;var K=C(F);if(K){var pe=K.call(F),me;if(K!==F.entries){for(;!(me=pe.next()).done;)if(!_t(me.value))return!1}else for(;!(me=pe.next()).done;){var ce=me.value;if(ce&&!_t(ce[1]))return!1}}else return!1;return!0;default:return!1}}function Hn(F,K){return F==="symbol"?!0:K?K["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&K instanceof Symbol:!1}function Fe(F){var K=typeof F;return Array.isArray(F)?"array":F instanceof RegExp?"object":Hn(K,F)?"symbol":K}function ft(F){if(typeof F>"u"||F===null)return""+F;var K=Fe(F);if(K==="object"){if(F instanceof Date)return"date";if(F instanceof RegExp)return"regexp"}return K}function si(F){var K=ft(F);switch(K){case"array":case"object":return"an "+K;case"boolean":case"date":case"regexp":return"a "+K;default:return K}}function oi(F){return!F.constructor||!F.constructor.name?T:F.constructor.name}return I.checkPropTypes=y,I.resetWarningCache=y.resetWarningCache,I.PropTypes=I,I}},"./node_modules/prop-types/index.js":(a,l,u)=>{{var c=u("./node_modules/react-is/index.js"),d=!0;a.exports=u("./node_modules/prop-types/factoryWithTypeCheckers.js")(c.isElement,d)}},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":a=>{var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";a.exports=l},"./node_modules/prop-types/lib/has.js":a=>{a.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(a,l)=>{/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var u=typeof Symbol=="function"&&Symbol.for,c=u?Symbol.for("react.element"):60103,d=u?Symbol.for("react.portal"):60106,f=u?Symbol.for("react.fragment"):60107,h=u?Symbol.for("react.strict_mode"):60108,y=u?Symbol.for("react.profiler"):60114,p=u?Symbol.for("react.provider"):60109,S=u?Symbol.for("react.context"):60110,g=u?Symbol.for("react.async_mode"):60111,m=u?Symbol.for("react.concurrent_mode"):60111,w=u?Symbol.for("react.forward_ref"):60112,_=u?Symbol.for("react.suspense"):60113,C=u?Symbol.for("react.suspense_list"):60120,T=u?Symbol.for("react.memo"):60115,I=u?Symbol.for("react.lazy"):60116,N=u?Symbol.for("react.block"):60121,A=u?Symbol.for("react.fundamental"):60117,D=u?Symbol.for("react.responder"):60118,G=u?Symbol.for("react.scope"):60119;function B(O){return typeof O=="string"||typeof O=="function"||O===f||O===m||O===y||O===h||O===_||O===C||typeof O=="object"&&O!==null&&(O.$$typeof===I||O.$$typeof===T||O.$$typeof===p||O.$$typeof===S||O.$$typeof===w||O.$$typeof===A||O.$$typeof===D||O.$$typeof===G||O.$$typeof===N)}function j(O){if(typeof O=="object"&&O!==null){var ge=O.$$typeof;switch(ge){case c:var Se=O.type;switch(Se){case g:case m:case f:case y:case h:case _:return Se;default:var Ws=Se&&Se.$$typeof;switch(Ws){case S:case w:case I:case T:case p:return Ws;default:return ge}}case d:return ge}}}var ae=g,be=m,De=S,st=p,q=c,W=w,re=f,xe=I,$e=T,dt=d,_t=y,Hn=h,Fe=_,ft=!1;function si(O){return ft||(ft=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),oi(O)||j(O)===g}function oi(O){return j(O)===m}function F(O){return j(O)===S}function K(O){return j(O)===p}function pe(O){return typeof O=="object"&&O!==null&&O.$$typeof===c}function me(O){return j(O)===w}function ce(O){return j(O)===f}function E(O){return j(O)===I}function k(O){return j(O)===T}function x(O){return j(O)===d}function M(O){return j(O)===y}function H(O){return j(O)===h}function P(O){return j(O)===_}l.AsyncMode=ae,l.ConcurrentMode=be,l.ContextConsumer=De,l.ContextProvider=st,l.Element=q,l.ForwardRef=W,l.Fragment=re,l.Lazy=xe,l.Memo=$e,l.Portal=dt,l.Profiler=_t,l.StrictMode=Hn,l.Suspense=Fe,l.isAsyncMode=si,l.isConcurrentMode=oi,l.isContextConsumer=F,l.isContextProvider=K,l.isElement=pe,l.isForwardRef=me,l.isFragment=ce,l.isLazy=E,l.isMemo=k,l.isPortal=x,l.isProfiler=M,l.isStrictMode=H,l.isSuspense=P,l.isValidElementType=B,l.typeOf=j})()},"./node_modules/react-is/index.js":(a,l,u)=>{a.exports=u("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(a,l,u)=>{u.r(l),u.d(l,{shallowEqualArrays:()=>d,shallowEqualObjects:()=>c});function c(f,h){if(f===h)return!0;if(!f||!h)return!1;var y=Object.keys(f),p=Object.keys(h),S=y.length;if(p.length!==S)return!1;for(var g=0;g<S;g++){var m=y[g];if(f[m]!==h[m]||!Object.prototype.hasOwnProperty.call(h,m))return!1}return!0}function d(f,h){if(f===h)return!0;if(!f||!h)return!1;var y=f.length;if(h.length!==y)return!1;for(var p=0;p<y;p++)if(f[p]!==h[p])return!1;return!0}},"./src/Component.ts":function(a,l,u){var c=this&&this.__rest||function(y,p){var S={};for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&p.indexOf(g)<0&&(S[g]=y[g]);if(y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,g=Object.getOwnPropertySymbols(y);m<g.length;m++)p.indexOf(g[m])<0&&Object.prototype.propertyIsEnumerable.call(y,g[m])&&(S[g[m]]=y[g[m]]);return S},d=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(l,"__esModule",{value:!0});var f=d(u("./src/useMediaQuery.ts")),h=function(y){var p=y.children,S=y.device,g=y.onChange,m=c(y,["children","device","onChange"]),w=(0,f.default)(m,S,g);return typeof p=="function"?p(w):w?p:null};l.default=h},"./src/Context.ts":(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0});var c=u("react"),d=(0,c.createContext)(void 0);l.default=d},"./src/index.ts":function(a,l,u){var c=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0}),l.Context=l.toQuery=l.useMediaQuery=l.default=void 0;var d=c(u("./src/useMediaQuery.ts"));l.useMediaQuery=d.default;var f=c(u("./src/Component.ts"));l.default=f.default;var h=c(u("./src/toQuery.ts"));l.toQuery=h.default;var y=c(u("./src/Context.ts"));l.Context=y.default},"./src/mediaQuery.ts":function(a,l,u){var c=this&&this.__assign||function(){return c=Object.assign||function(_){for(var C,T=1,I=arguments.length;T<I;T++){C=arguments[T];for(var N in C)Object.prototype.hasOwnProperty.call(C,N)&&(_[N]=C[N])}return _},c.apply(this,arguments)},d=this&&this.__rest||function(_,C){var T={};for(var I in _)Object.prototype.hasOwnProperty.call(_,I)&&C.indexOf(I)<0&&(T[I]=_[I]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var N=0,I=Object.getOwnPropertySymbols(_);N<I.length;N++)C.indexOf(I[N])<0&&Object.prototype.propertyIsEnumerable.call(_,I[N])&&(T[I[N]]=_[I[N]]);return T},f=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(l,"__esModule",{value:!0});var h=f(u("./node_modules/prop-types/index.js")),y=h.default.oneOfType([h.default.string,h.default.number]),p={all:h.default.bool,grid:h.default.bool,aural:h.default.bool,braille:h.default.bool,handheld:h.default.bool,print:h.default.bool,projection:h.default.bool,screen:h.default.bool,tty:h.default.bool,tv:h.default.bool,embossed:h.default.bool},S={orientation:h.default.oneOf(["portrait","landscape"]),scan:h.default.oneOf(["progressive","interlace"]),aspectRatio:h.default.string,deviceAspectRatio:h.default.string,height:y,deviceHeight:y,width:y,deviceWidth:y,color:h.default.bool,colorIndex:h.default.bool,monochrome:h.default.bool,resolution:y,type:Object.keys(p)};S.type;var g=d(S,["type"]),m=c({minAspectRatio:h.default.string,maxAspectRatio:h.default.string,minDeviceAspectRatio:h.default.string,maxDeviceAspectRatio:h.default.string,minHeight:y,maxHeight:y,minDeviceHeight:y,maxDeviceHeight:y,minWidth:y,maxWidth:y,minDeviceWidth:y,maxDeviceWidth:y,minColor:h.default.number,maxColor:h.default.number,minColorIndex:h.default.number,maxColorIndex:h.default.number,minMonochrome:h.default.number,maxMonochrome:h.default.number,minResolution:y,maxResolution:y},g),w=c(c({},p),m);l.default={all:w,types:p,matchers:S,features:m}},"./src/toQuery.ts":function(a,l,u){var c=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});var d=c(u("./node_modules/hyphenate-style-name/index.js")),f=c(u("./src/mediaQuery.ts")),h=function(g){return"not ".concat(g)},y=function(g,m){var w=(0,d.default)(g);return typeof m=="number"&&(m="".concat(m,"px")),m===!0?w:m===!1?h(w):"(".concat(w,": ").concat(m,")")},p=function(g){return g.join(" and ")},S=function(g){var m=[];return Object.keys(f.default.all).forEach(function(w){var _=g[w];_!=null&&m.push(y(w,_))}),p(m)};l.default=S},"./src/useMediaQuery.ts":function(a,l,u){var c=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(l,"__esModule",{value:!0});var d=u("react"),f=c(u("./node_modules/matchmediaquery/index.js")),h=c(u("./node_modules/hyphenate-style-name/index.js")),y=u("./node_modules/shallow-equal/dist/index.esm.js"),p=c(u("./src/toQuery.ts")),S=c(u("./src/Context.ts")),g=function(A){return A.query||(0,p.default)(A)},m=function(A){if(A){var D=Object.keys(A);return D.reduce(function(G,B){return G[(0,h.default)(B)]=A[B],G},{})}},w=function(){var A=(0,d.useRef)(!1);return(0,d.useEffect)(function(){A.current=!0},[]),A.current},_=function(A){var D=(0,d.useContext)(S.default),G=function(){return m(A)||m(D)},B=(0,d.useState)(G),j=B[0],ae=B[1];return(0,d.useEffect)(function(){var be=G();(0,y.shallowEqualObjects)(j,be)||ae(be)},[A,D]),j},C=function(A){var D=function(){return g(A)},G=(0,d.useState)(D),B=G[0],j=G[1];return(0,d.useEffect)(function(){var ae=D();B!==ae&&j(ae)},[A]),B},T=function(A,D){var G=function(){return(0,f.default)(A,D||{},!!D)},B=(0,d.useState)(G),j=B[0],ae=B[1],be=w();return(0,d.useEffect)(function(){if(be){var De=G();return ae(De),function(){De&&De.dispose()}}},[A,D]),j},I=function(A){var D=(0,d.useState)(A.matches),G=D[0],B=D[1];return(0,d.useEffect)(function(){var j=function(ae){B(ae.matches)};return A.addListener(j),B(A.matches),function(){A.removeListener(j)}},[A]),G},N=function(A,D,G){var B=_(D),j=C(A);if(!j)throw new Error("Invalid or missing MediaQuery!");var ae=T(j,B),be=I(ae),De=w();return(0,d.useEffect)(function(){De&&G&&G(be)},[be]),(0,d.useEffect)(function(){return function(){ae&&ae.dispose()}},[]),be};l.default=N},react:a=>{a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var u=i[a]={exports:{}};return r[a].call(u.exports,u,u.exports,s),u.exports}s.d=(a,l)=>{for(var u in l)s.o(l,u)&&!s.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o=s("./src/index.ts");return o})())})(r7);const Xi={xx:1/0,xl:1179,lg:1023,md:767,sm:539,xs:479,ss:359};function i7(){return{isScreenXX:Lr.useMediaQuery({query:`(max-width: ${Xi.xx}px)`}),isScreenXL:Lr.useMediaQuery({query:`(max-width: ${Xi.xl}px)`}),isScreenLG:Lr.useMediaQuery({query:`(max-width: ${Xi.lg}px)`}),isScreenMD:Lr.useMediaQuery({query:`(max-width: ${Xi.md}px)`}),isScreenSM:Lr.useMediaQuery({query:`(max-width: ${Xi.sm}px)`}),isScreenXS:Lr.useMediaQuery({query:`(max-width: ${Xi.xs}px)`}),isScreenSS:Lr.useMediaQuery({query:`(max-width: ${Xi.ss}px)`})}}const T1=b.forwardRef(({gridContainer:t,grid:e,children:n,className:r,...i},s)=>{const o=e&&_T(e);return v.jsx("nav",{className:Z.join(r,t&&"row",o),ref:s,...i,children:n})});T1.displayName="Nav";const D2=b.forwardRef(({display:t,underline:e,children:n,blank:r,className:i,...s},o)=>{const a=[t?hn[t]:hn.link,e===!1&&vd.noUnderline],l=r&&{target:"_blank",rel:"noreferrer noopener"};return v.jsx("a",{className:Z.join(vd.Link,i,a),ref:o,...l,...s,children:n})});D2.displayName="Link";const s7="_NavigationDesktop_10tfr_1",o7="_active_10tfr_7",a7="_link_10tfr_7",La={NavigationDesktop:s7,active:o7,link:a7};function l7(){const t=({isActive:e})=>e?La.active:"";return v.jsxs(T1,{className:La.NavigationDesktop,children:[v.jsx(ys,{className:t,end:!0,to:Ct.home,children:v.jsx(vr,{className:La.link,underline:!1,children:"Головна"})}),v.jsx(ys,{className:t,to:Ct.songslist,children:v.jsx(vr,{className:La.link,underline:!1,children:"Список пісень"})}),v.jsx(ys,{className:t,end:!0,to:Ky.chat,children:v.jsx(vr,{className:La.link,underline:!1,children:"Чат"})})]})}function u7(t){return v.jsxs(Lt,{fill:"none",...t,children:[v.jsx("path",{d:"M3.55844 12.8077H21.5584",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M3.55844 6.80774H21.5584",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M3.55844 18.8077H21.5584",strokeLinecap:"round",strokeLinejoin:"round"})]})}function c7(){const t=b.useCallback(()=>{const n=window.innerWidth-document.body.offsetWidth;document.body.style.overflow="hidden",document.body.style.width="100%",document.body.style.paddingRight=`${n}px`},[]),e=b.useCallback(()=>{document.body.style.overflow="",document.body.style.width="auto",document.body.style.paddingRight="0px"},[]);return{lockScroll:t,unlockScroll:e}}function M2(t){return v.jsxs(Lt,{fill:"none",...t,children:[v.jsx("path",{d:"M18 6L6 18",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M6 6L18 18",strokeLinecap:"round",strokeLinejoin:"round"})]})}const d7="_Menu_zlkq0_18",f7="_backdrop_zlkq0_50",h7="_clickable_zlkq0_60",p7="_show_zlkq0_82",m7="_close_zlkq0_88",g7="_menuItems_zlkq0_95",Na={Menu:d7,backdrop:f7,clickable:h7,"hide-menu":"_hide-menu_zlkq0_1",show:p7,"show-menu":"_show-menu_zlkq0_1",close:m7,menuItems:g7},b1=b.forwardRef(({children:t,isOpen:e,scrollLock:n,onClick:r,closeButton:i,preventItemClickClose:s,menuOrigin:o,anchorOrigin:a,...l},u)=>{const c=b.useRef(null),[d,f]=b.useState(!0),[h,y]=b.useState({}),{lockScroll:p,unlockScroll:S}=c7();if(b.useEffect(()=>(e&&n&&p(),S),[e]),b.useEffect(()=>{f(!0)},[e]),b.useEffect(()=>{var B,j;const _=(j=(B=c.current)==null?void 0:B.parentElement)==null?void 0:j.getBoundingClientRect(),C={width:(_==null?void 0:_.width)||0,height:(_==null?void 0:_.height)||0,horizontalHalf:((_==null?void 0:_.width)||0)/2,verticalHalf:((_==null?void 0:_.height)||0)/2},T={},I=a==null?void 0:a.horizontal,N=a==null?void 0:a.vertical,A=o==null?void 0:o.horizontal,D=o==null?void 0:o.vertical;A==="left"&&(I==="left"&&(T.left=0),I==="center"&&(T.left=C.horizontalHalf),I==="right"&&(T.left=C.width)),A==="right"&&(I==="left"&&(T.right=C.width),I==="center"&&(T.right=C.horizontalHalf),I==="right"&&(T.right=0)),D==="top"&&(N==="top"&&(T.top=0),N==="center"&&(T.top=C.verticalHalf),N==="bottom"&&(T.top=C.height)),D==="bottom"&&(N==="top"&&(T.bottom=C.height),N==="center"&&(T.bottom=C.verticalHalf),N==="bottom"&&(T.bottom=0));const G=o?`${o==null?void 0:o.horizontal} ${o==null?void 0:o.vertical}`:"left top";y({...T,transformOrigin:G})},[e]),!e)return null;const g=()=>{f(!1)},m=()=>{d||(r(),S())},w=_=>{s&&_.stopPropagation()};return v.jsxs(v.Fragment,{children:[v.jsx("div",{role:"navigation",className:Na.backdrop,onClick:g,ref:u,...l}),v.jsxs("nav",{onAnimationEnd:m,ref:c,className:Z.join(Na.Menu,d&&Na.show),style:h,children:[v.jsx("ul",{className:Na.menuItems,onClick:w,children:t}),i&&v.jsx(gn,{className:Na.close,onClick:g,type:"secondary",size:"small",children:v.jsx(M2,{size:"small"})})]})]})});b1.displayName="Menu";const y7="_MenuContainer_xz9l3_1",v7={MenuContainer:y7},I1=b.forwardRef(({children:t,className:e,...n},r)=>v.jsx("div",{className:Z.join(v7.MenuContainer,e),ref:r,...n,children:t}));I1.displayName="MenuContainer";const w7="_MenuDivider_3of8s_1",_7={MenuDivider:w7},S7=b.forwardRef(({className:t,...e},n)=>v.jsx("span",{className:Z.join(_7.MenuDivider,t),ref:n,...e}));S7.displayName="MenuDivider";const E7="_MenuItem_15m8b_46",C7="_clickable_15m8b_55",T7="_disabled_15m8b_69",_S={MenuItem:E7,clickable:C7,disabled:T7},vl=b.forwardRef(({disabled:t,children:e,className:n,...r},i)=>{const s=[t&&_S.disabled];return v.jsx("li",{className:Z.join(_S.MenuItem,n,s),ref:i,...r,children:e})});vl.displayName="MenuItem";const b7="_NavigationMobile_1g68x_1",I7="_active_1g68x_7",k7="_link_1g68x_7",Da={NavigationMobile:b7,active:I7,link:k7};function x7(){const[t,e]=b.useState(!1),n=()=>{e(!0)},r=()=>{e(!1)},i=({isActive:s})=>s?Da.active:"";return v.jsx(T1,{className:Da.NavigationMobile,children:v.jsxs(I1,{children:[v.jsxs(b1,{isOpen:t,onClick:r,anchorOrigin:{horizontal:"right",vertical:"top"},menuOrigin:{horizontal:"right",vertical:"top"},preventItemClickClose:!0,children:[v.jsx(vl,{children:v.jsx(ys,{className:i,end:!0,to:Ct.home,children:v.jsx(vr,{className:Da.link,underline:!1,children:"Головна"})})}),v.jsx(vl,{children:v.jsx(ys,{className:i,to:Ct.songslist,children:v.jsx(vr,{className:Da.link,underline:!1,children:"Список пісень"})})}),v.jsx(vl,{children:v.jsx(ys,{className:i,end:!0,to:Ky.chat,children:v.jsx(vr,{className:Da.link,underline:!1,children:"Чат"})})})]}),v.jsx(gn,{type:"text",onClick:n,children:v.jsx(u7,{})})]})})}const R7={theme:"light",fullscreen:!0},$2=E1({name:"app",initialState:R7,reducers:{setTheme(t,e){t.theme=e.payload},toggleTheme(t){t.theme=t.theme==="light"?"dark":"light"},toggleFullscreen(t){t.fullscreen=!t.fullscreen}}});function A7(t){return v.jsxs(Lt,{fill:"none",...t,children:[v.jsx("circle",{cx:"12",cy:"12",r:"3"}),v.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})}const P7={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6"},we=b.forwardRef(({component:t,display:e,children:n,className:r,...i},s)=>{const o=t||"p",a=e?hn[e]:null,l=t?hn[t]:hn.p1,u={className:Z.join(r,a||l),ref:s,...i},c=P7[o]||"p";return v.jsx(Wy,{as:c,...u,children:n})});we.displayName="Typography";function O7(){const e=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";return document.documentElement.setAttribute("data-theme",e),e}function L7(){const[t,e]=b.useState(!1),{theme:n}=Us(l=>l.appReducer),{actions:r}=$2,i=ya(),s=()=>{e(!0)},o=()=>{e(!1)},a=()=>{const l=O7();i(r.setTheme(l))};return v.jsxs(I1,{children:[v.jsx(b1,{isOpen:t,onClick:o,anchorOrigin:{horizontal:"right",vertical:"top"},menuOrigin:{horizontal:"right",vertical:"top"},preventItemClickClose:!0,children:v.jsx(vl,{onClick:a,children:v.jsxs(we,{component:"p1",children:["Тема:"," ",n==="dark"?"темна":"світла"]})})}),v.jsx(gn,{type:"text",onClick:s,children:v.jsx(A7,{})})]})}const N7="_Header_yqrt5_1",D7="_container_yqrt5_5",M7="_controls_yqrt5_13",Fp={Header:N7,container:D7,controls:M7};function $7(){const{isScreenMD:t}=i7(),e=ya(),{photoURL:n,displayName:r,email:i}=Us(y=>y.userReducer),{pathname:s}=Bi(),o=ia(),{isAuth:a}=Gy(),{removeUser:l}=ju.actions,u=()=>{e(l()),An.google.firebase.auth.signOut(),o(Ct.home)},c=()=>{o(Ct.login)},d=ll(s,"login"),f=ll(s,"signup"),h=ll(s,"songslist");return v.jsx(qt,{component:"header",className:Fp.Header,children:v.jsxs(qi,{container:!0,component:"section",className:Fp.container,children:[v.jsx(J8,{}),v.jsxs(qt,{className:Fp.controls,children:[!h&&v.jsxs(v.Fragment,{children:[!t&&!(d||f)&&v.jsx(l7,{}),t&&!(d||f)&&v.jsx(x7,{}),a?!(d||f)&&v.jsx(Gd,{src:n,alt:r,char:r[0]||i[0],size:"small",onClick:u}):!(d||f)&&v.jsx(gn,{size:"small",onClick:c,children:"Увійти"})]}),v.jsx(L7,{})]})]})})}function j7(t){t&&document.documentElement.style.setProperty("--vh",`${t}px`)}function U7(){const t=typeof window<"u";function e(){return t?window.innerHeight:null}const[n,r]=b.useState(e());return b.useEffect(()=>{j7(n)},[n]),b.useEffect(()=>(window.addEventListener("resize",()=>r(e())),()=>window.addEventListener("resize",()=>r(e()))),[t]),b.useEffect(()=>(window.addEventListener("orientationchange",()=>r(e())),()=>window.addEventListener("orientationchange",()=>r(e()))),[t]),{viewportHeight:n}}function F7(t){const[e,n]=b.useState();return b.useLayoutEffect(()=>{document.body.classList.add("no-transition");const r=t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");n(r),document.documentElement.setAttribute("data-theme",r),setTimeout(()=>document.body.classList.remove("no-transition"),0)},[]),{theme:e}}function V7(){const[t,e]=b.useState(!1);U7();const{theme:n}=Us(u=>u.appReducer);F7(n);const r=ya(),{actions:i}=ju,s=ia(),o=Bi(),[a,l]=b.useState("");return b.useLayoutEffect(()=>{document.body.classList.add("scroll")},[]),b.useLayoutEffect(()=>{l(o.pathname)},[o]),b.useEffect(()=>{(async()=>{t$(ga,c=>{var d,f,h,y;c&&r(i.setUser({displayName:(d=c.displayName)==null?void 0:d.toString(),email:(f=c.email)==null?void 0:f.toString(),photoURL:(h=c.photoURL)==null?void 0:h.toString(),uid:(y=c.uid)==null?void 0:y.toString()})),t||(a&&s(a),e(!0))})})()},[]),{isInit:t}}function z7(){const{isInit:t}=V7();return t?v.jsxs(v.Fragment,{children:[v.jsx($7,{}),v.jsx(aL,{}),v.jsx(yN,{})]}):v.jsx(GL,{})}const Uu=b.forwardRef(({children:t,className:e,...n},r)=>v.jsx("main",{className:Z.join(e,"main"),ref:r,...n,children:t}));Uu.displayName="Main";function H7(){return v.jsx(Uu,{children:v.jsx(we,{component:"h1",children:"About"})})}function B7(){return v.jsx(Uu,{children:v.jsx(we,{component:"h1",children:"ChordsList"})})}const q7="_container_1l783_1",W7="_title_1l783_9",K7="_title40_1l783_13",G7="_title4_1l783_13",Q7="_description_1l783_22",Ma={container:q7,title:W7,title40:K7,title4:G7,"char-animation":"_char-animation_1l783_1",description:Q7};function Y7(){const t=vT(),e=ia();return v.jsx(qt,{component:"main",children:v.jsxs(qi,{container:!0,component:"section",className:Ma.container,children:[v.jsx(gn,{size:"small",onClick:()=>e(Ct.home),children:"На головну"}),v.jsxs(qt,{className:Ma.title,children:[v.jsx(we,{component:"p1",display:"h1",className:Ma.title40,children:"40"}),v.jsx(we,{component:"p1",display:"h1",className:Ma.title4,children:"4"})]}),v.jsx(qt,{className:Ma.description,children:v.jsxs(v.Fragment,{children:[t&&v.jsxs(v.Fragment,{children:[v.jsx(we,{component:"h5",children:ol(t)&&t.status}),v.jsxs(we,{component:"h6",children:[t instanceof Error&&t.message,ol(t)&&t.statusText,ol(t)&&t.data.message]})]}),v.jsxs(we,{component:"p2",children:["Вибачте, сторінки не існує",v.jsx("br",{}),"або функціонал ще в процесі розробки",v.jsx("br",{}),"¯\\_(ツ)_/¯"]})]})})]})})}const X7="_HomePage_1l60f_46",J7="_container_1l60f_46",SS={HomePage:X7,container:J7};function Z7(){return v.jsx(qt,{component:"main",className:SS.HomePage,children:v.jsxs(qi,{container:!0,component:"section",className:SS.container,children:[v.jsx(we,{component:"h1",children:"Вітаю на сайті 👋"}),v.jsx(we,{component:"h6",children:"Сайт знаходиться в розробці"}),v.jsx(we,{component:"h6",children:"Якщо ви знайшли баг або у вас є якісь пропозиції, побажання, коментарі, пишіть в Телеграм 😊"}),v.jsx(N2,{href:"https://t.me/amelianceskymusic",blank:!0,children:"Написати"})]})})}var Fu=t=>t.type==="checkbox",wo=t=>t instanceof Date,en=t=>t==null;const j2=t=>typeof t=="object";var It=t=>!en(t)&&!Array.isArray(t)&&j2(t)&&!wo(t),eV=t=>It(t)&&t.target?Fu(t.target)?t.target.checked:t.target.value:t,tV=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,nV=(t,e)=>t.has(tV(e)),Vu=t=>Array.isArray(t)?t.filter(Boolean):[],lt=t=>t===void 0,J=(t,e,n)=>{if(!e||!It(t))return n;const r=Vu(e.split(/[,[\].]+?/)).reduce((i,s)=>en(i)?i:i[s],t);return lt(r)||r===t?lt(t[e])?n:t[e]:r};const ES={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Xn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},kr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Qn.createContext(null);var rV=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Xn.all&&(e._proxyFormState[o]=!r||Xn.all),n&&(n[o]=!0),t[o]}});return i},Rn=t=>It(t)&&!Object.keys(t).length,iV=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Rn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Xn.all))},Vp=t=>Array.isArray(t)?t:[t];function sV(t){const e=Qn.useRef(t);e.current=t,Qn.useEffect(()=>{const n=!t.disabled&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var mr=t=>typeof t=="string",oV=(t,e,n,r,i)=>mr(t)?(r&&e.watch.add(t),J(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),J(n,s))):(r&&(e.watchAll=!0),n),aV=t=>{const e=t.constructor&&t.constructor.prototype;return It(e)&&e.hasOwnProperty("isPrototypeOf")},k1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function is(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(k1&&(t instanceof Blob||t instanceof FileList))&&(n||It(t)))if(e=n?[]:{},!Array.isArray(t)&&!aV(t))e=t;else for(const r in t)e[r]=is(t[r]);else return t;return e}var lV=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},x1=t=>/^\w*$/.test(t),U2=t=>Vu(t.replace(/["|']|\]/g,"").split(/\.|\[/));function He(t,e,n){let r=-1;const i=x1(e)?[e]:U2(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=It(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t}const Vg=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=J(t,r);if(i){const{_f:s,...o}=i;if(s&&e(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else It(o)&&Vg(o,e)}}};var CS=t=>({isOnSubmit:!t||t===Xn.onSubmit,isOnBlur:t===Xn.onBlur,isOnChange:t===Xn.onChange,isOnAll:t===Xn.all,isOnTouch:t===Xn.onTouched}),TS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),uV=(t,e,n)=>{const r=Vu(J(t,n));return He(r,"root",e[n]),He(t,n,r),t},No=t=>typeof t=="boolean",R1=t=>t.type==="file",Do=t=>typeof t=="function",Qd=t=>{if(!k1)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Hc=t=>mr(t)||Qn.isValidElement(t),A1=t=>t.type==="radio",Yd=t=>t instanceof RegExp;const bS={value:!1,isValid:!1},IS={value:!0,isValid:!0};var F2=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!lt(t[0].attributes.value)?lt(t[0].value)||t[0].value===""?IS:{value:t[0].value,isValid:!0}:IS:bS}return bS};const kS={isValid:!1,value:null};var V2=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,kS):kS;function xS(t,e,n="validate"){if(Hc(t)||Array.isArray(t)&&t.every(Hc)||No(t)&&!t)return{type:n,message:Hc(t)?t:"",ref:e}}var Js=t=>It(t)&&!Yd(t)?t:{value:t,message:""},RS=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:d,pattern:f,validate:h,name:y,valueAsNumber:p,mount:S,disabled:g}=t._f,m=J(e,y);if(!S||g)return{};const w=o?o[0]:s,_=B=>{r&&w.reportValidity&&(w.setCustomValidity(No(B)?"":B||""),w.reportValidity())},C={},T=A1(s),I=Fu(s),N=T||I,A=(p||R1(s))&&lt(s.value)&&lt(m)||Qd(s)&&s.value===""||m===""||Array.isArray(m)&&!m.length,D=lV.bind(null,y,n,C),G=(B,j,ae,be=kr.maxLength,De=kr.minLength)=>{const st=B?j:ae;C[y]={type:B?be:De,message:st,ref:s,...D(B?be:De,st)}};if(i?!Array.isArray(m)||!m.length:a&&(!N&&(A||en(m))||No(m)&&!m||I&&!F2(o).isValid||T&&!V2(o).isValid)){const{value:B,message:j}=Hc(a)?{value:!!a,message:a}:Js(a);if(B&&(C[y]={type:kr.required,message:j,ref:w,...D(kr.required,j)},!n))return _(j),C}if(!A&&(!en(c)||!en(d))){let B,j;const ae=Js(d),be=Js(c);if(!en(m)&&!isNaN(m)){const De=s.valueAsNumber||m&&+m;en(ae.value)||(B=De>ae.value),en(be.value)||(j=De<be.value)}else{const De=s.valueAsDate||new Date(m),st=re=>new Date(new Date().toDateString()+" "+re),q=s.type=="time",W=s.type=="week";mr(ae.value)&&m&&(B=q?st(m)>st(ae.value):W?m>ae.value:De>new Date(ae.value)),mr(be.value)&&m&&(j=q?st(m)<st(be.value):W?m<be.value:De<new Date(be.value))}if((B||j)&&(G(!!B,ae.message,be.message,kr.max,kr.min),!n))return _(C[y].message),C}if((l||u)&&!A&&(mr(m)||i&&Array.isArray(m))){const B=Js(l),j=Js(u),ae=!en(B.value)&&m.length>B.value,be=!en(j.value)&&m.length<j.value;if((ae||be)&&(G(ae,B.message,j.message),!n))return _(C[y].message),C}if(f&&!A&&mr(m)){const{value:B,message:j}=Js(f);if(Yd(B)&&!m.match(B)&&(C[y]={type:kr.pattern,message:j,ref:s,...D(kr.pattern,j)},!n))return _(j),C}if(h){if(Do(h)){const B=await h(m,e),j=xS(B,w);if(j&&(C[y]={...j,...D(kr.validate,j.message)},!n))return _(j.message),C}else if(It(h)){let B={};for(const j in h){if(!Rn(B)&&!n)break;const ae=xS(await h[j](m,e),w,j);ae&&(B={...ae,...D(j,ae.message)},_(ae.message),n&&(C[y]=B))}if(!Rn(B)&&(C[y]={ref:w,...B},!n))return C}}return _(!0),C};function cV(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=lt(t)?r++:t[e[r++]];return t}function dV(t){for(const e in t)if(!lt(t[e]))return!1;return!0}function Ut(t,e){const n=Array.isArray(e)?e:x1(e)?[e]:U2(e),r=n.length===1?t:cV(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(It(r)&&Rn(r)||Array.isArray(r)&&dV(r))&&Ut(t,n.slice(0,-1)),t}function zp(){let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}}var Xd=t=>en(t)||!j2(t);function ps(t,e){if(Xd(t)||Xd(e))return t===e;if(wo(t)&&wo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(wo(s)&&wo(o)||It(s)&&It(o)||Array.isArray(s)&&Array.isArray(o)?!ps(s,o):s!==o)return!1}}return!0}var z2=t=>t.type==="select-multiple",fV=t=>A1(t)||Fu(t),Hp=t=>Qd(t)&&t.isConnected,H2=t=>{for(const e in t)if(Do(t[e]))return!0;return!1};function Jd(t,e={}){const n=Array.isArray(t);if(It(t)||n)for(const r in t)Array.isArray(t[r])||It(t[r])&&!H2(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Jd(t[r],e[r])):en(t[r])||(e[r]=!0);return e}function B2(t,e,n){const r=Array.isArray(t);if(It(t)||r)for(const i in t)Array.isArray(t[i])||It(t[i])&&!H2(t[i])?lt(e)||Xd(n[i])?n[i]=Array.isArray(t[i])?Jd(t[i],[]):{...Jd(t[i])}:B2(t[i],en(e)?{}:e[i],n[i]):ps(t[i],e[i])?delete n[i]:n[i]=!0;return n}var Bp=(t,e)=>B2(t,e,Jd(e)),q2=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>lt(t)?t:e?t===""?NaN:t&&+t:n&&mr(t)?new Date(t):r?r(t):t;function qp(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return R1(e)?e.files:A1(e)?V2(t.refs).value:z2(e)?[...e.selectedOptions].map(({value:n})=>n):Fu(e)?F2(t.refs).value:q2(lt(e.value)?t.ref.value:e.value,t)}var hV=(t,e,n,r)=>{const i={};for(const s of t){const o=J(e,s);o&&He(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},$a=t=>lt(t)?t:Yd(t)?t.source:It(t)?Yd(t.value)?t.value.source:t.value:t,pV=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function AS(t,e,n){const r=J(t,n);if(r||x1(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=J(e,s),a=J(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var mV=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,gV=(t,e)=>!Vu(J(t,e)).length&&Ut(t,e);const yV={mode:Xn.onSubmit,reValidateMode:Xn.onChange,shouldFocusError:!0};function vV(t={},e){let n={...yV,...t};const r=t.resetOptions&&t.resetOptions.keepDirtyValues;let i={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},s={},o=It(n.defaultValues)?is(n.defaultValues)||{}:{},a=n.shouldUnregister?{}:is(o),l={action:!1,mount:!1,watch:!1},u={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={watch:zp(),array:zp(),state:zp()},y=CS(n.mode),p=CS(n.reValidateMode),S=n.criteriaMode===Xn.all,g=E=>k=>{clearTimeout(d),d=window.setTimeout(E,k)},m=async E=>{if(f.isValid||E){const k=n.resolver?Rn((await A()).errors):await G(s,!0);k!==i.isValid&&(i.isValid=k,h.state.next({isValid:k}))}},w=E=>f.isValidating&&h.state.next({isValidating:E}),_=(E,k=[],x,M,H=!0,P=!0)=>{if(M&&x){if(l.action=!0,P&&Array.isArray(J(s,E))){const O=x(J(s,E),M.argA,M.argB);H&&He(s,E,O)}if(P&&Array.isArray(J(i.errors,E))){const O=x(J(i.errors,E),M.argA,M.argB);H&&He(i.errors,E,O),gV(i.errors,E)}if(f.touchedFields&&P&&Array.isArray(J(i.touchedFields,E))){const O=x(J(i.touchedFields,E),M.argA,M.argB);H&&He(i.touchedFields,E,O)}f.dirtyFields&&(i.dirtyFields=Bp(o,a)),h.state.next({name:E,isDirty:j(E,k),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else He(a,E,k)},C=(E,k)=>{He(i.errors,E,k),h.state.next({errors:i.errors})},T=(E,k,x,M)=>{const H=J(s,E);if(H){const P=J(a,E,lt(x)?J(o,E):x);lt(P)||M&&M.defaultChecked||k?He(a,E,k?P:qp(H._f)):De(E,P),l.mount&&m()}},I=(E,k,x,M,H)=>{let P=!1,O=!1;const ge={name:E};if(!x||M){f.isDirty&&(O=i.isDirty,i.isDirty=ge.isDirty=j(),P=O!==ge.isDirty);const Se=ps(J(o,E),k);O=J(i.dirtyFields,E),Se?Ut(i.dirtyFields,E):He(i.dirtyFields,E,!0),ge.dirtyFields=i.dirtyFields,P=P||f.dirtyFields&&O!==!Se}if(x){const Se=J(i.touchedFields,E);Se||(He(i.touchedFields,E,x),ge.touchedFields=i.touchedFields,P=P||f.touchedFields&&Se!==x)}return P&&H&&h.state.next(ge),P?ge:{}},N=(E,k,x,M)=>{const H=J(i.errors,E),P=f.isValid&&No(k)&&i.isValid!==k;if(t.delayError&&x?(c=g(()=>C(E,x)),c(t.delayError)):(clearTimeout(d),c=null,x?He(i.errors,E,x):Ut(i.errors,E)),(x?!ps(H,x):H)||!Rn(M)||P){const O={...M,...P&&No(k)?{isValid:k}:{},errors:i.errors,name:E};i={...i,...O},h.state.next(O)}w(!1)},A=async E=>await n.resolver(a,n.context,hV(E||u.mount,s,n.criteriaMode,n.shouldUseNativeValidation)),D=async E=>{const{errors:k}=await A();if(E)for(const x of E){const M=J(k,x);M?He(i.errors,x,M):Ut(i.errors,x)}else i.errors=k;return k},G=async(E,k,x={valid:!0})=>{for(const M in E){const H=E[M];if(H){const{_f:P,...O}=H;if(P){const ge=u.array.has(P.name),Se=await RS(H,a,S,n.shouldUseNativeValidation,ge);if(Se[P.name]&&(x.valid=!1,k))break;!k&&(J(Se,P.name)?ge?uV(i.errors,Se,P.name):He(i.errors,P.name,Se[P.name]):Ut(i.errors,P.name))}O&&await G(O,k,x)}}return x.valid},B=()=>{for(const E of u.unMount){const k=J(s,E);k&&(k._f.refs?k._f.refs.every(x=>!Hp(x)):!Hp(k._f.ref))&&Fe(E)}u.unMount=new Set},j=(E,k)=>(E&&k&&He(a,E,k),!ps(xe(),o)),ae=(E,k,x)=>oV(E,u,{...l.mount?a:lt(k)?o:mr(E)?{[E]:k}:k},x,k),be=E=>Vu(J(l.mount?a:o,E,t.shouldUnregister?J(o,E,[]):[])),De=(E,k,x={})=>{const M=J(s,E);let H=k;if(M){const P=M._f;P&&(!P.disabled&&He(a,E,q2(k,P)),H=Qd(P.ref)&&en(k)?"":k,z2(P.ref)?[...P.ref.options].forEach(O=>O.selected=H.includes(O.value)):P.refs?Fu(P.ref)?P.refs.length>1?P.refs.forEach(O=>(!O.defaultChecked||!O.disabled)&&(O.checked=Array.isArray(H)?!!H.find(ge=>ge===O.value):H===O.value)):P.refs[0]&&(P.refs[0].checked=!!H):P.refs.forEach(O=>O.checked=O.value===H):R1(P.ref)?P.ref.value="":(P.ref.value=H,P.ref.type||h.watch.next({name:E})))}(x.shouldDirty||x.shouldTouch)&&I(E,H,x.shouldTouch,x.shouldDirty,!0),x.shouldValidate&&re(E)},st=(E,k,x)=>{for(const M in k){const H=k[M],P=`${E}.${M}`,O=J(s,P);(u.array.has(E)||!Xd(H)||O&&!O._f)&&!wo(H)?st(P,H,x):De(P,H,x)}},q=(E,k,x={})=>{const M=J(s,E),H=u.array.has(E),P=is(k);He(a,E,P),H?(h.array.next({name:E,values:a}),(f.isDirty||f.dirtyFields)&&x.shouldDirty&&(i.dirtyFields=Bp(o,a),h.state.next({name:E,dirtyFields:i.dirtyFields,isDirty:j(E,P)}))):M&&!M._f&&!en(P)?st(E,P,x):De(E,P,x),TS(E,u)&&h.state.next({}),h.watch.next({name:E}),!l.mount&&e()},W=async E=>{const k=E.target;let x=k.name;const M=J(s,x),H=()=>k.type?qp(M._f):eV(E);if(M){let P,O;const ge=H(),Se=E.type===ES.BLUR||E.type===ES.FOCUS_OUT,Ws=!pV(M._f)&&!n.resolver&&!J(i.errors,x)&&!M._f.deps||mV(Se,J(i.touchedFields,x),i.isSubmitted,p,y),wa=TS(x,u,Se);He(a,x,ge),Se?(M._f.onBlur&&M._f.onBlur(E),c&&c(0)):M._f.onChange&&M._f.onChange(E);const Ks=I(x,ge,Se,!1),Rh=!Rn(Ks)||wa;if(!Se&&h.watch.next({name:x,type:E.type}),Ws)return f.isValid&&m(),Rh&&h.state.next({name:x,...wa?{}:Ks});if(!Se&&wa&&h.state.next({}),w(!0),n.resolver){const{errors:R}=await A([x]),L=AS(i.errors,s,x),$=AS(R,s,L.name||x);P=$.error,x=$.name,O=Rn(R)}else P=(await RS(M,a,S,n.shouldUseNativeValidation))[x],P?O=!1:f.isValid&&(O=await G(s,!0));M._f.deps&&re(M._f.deps),N(x,O,P,Ks)}},re=async(E,k={})=>{let x,M;const H=Vp(E);if(w(!0),n.resolver){const P=await D(lt(E)?E:H);x=Rn(P),M=E?!H.some(O=>J(P,O)):x}else E?(M=(await Promise.all(H.map(async P=>{const O=J(s,P);return await G(O&&O._f?{[P]:O}:O)}))).every(Boolean),!(!M&&!i.isValid)&&m()):M=x=await G(s);return h.state.next({...!mr(E)||f.isValid&&x!==i.isValid?{}:{name:E},...n.resolver||!E?{isValid:x}:{},errors:i.errors,isValidating:!1}),k.shouldFocus&&!M&&Vg(s,P=>P&&J(i.errors,P),E?H:u.mount),M},xe=E=>{const k={...o,...l.mount?a:{}};return lt(E)?k:mr(E)?J(k,E):E.map(x=>J(k,x))},$e=(E,k)=>({invalid:!!J((k||i).errors,E),isDirty:!!J((k||i).dirtyFields,E),isTouched:!!J((k||i).touchedFields,E),error:J((k||i).errors,E)}),dt=E=>{E?Vp(E).forEach(k=>Ut(i.errors,k)):i.errors={},h.state.next({errors:i.errors})},_t=(E,k,x)=>{const M=(J(s,E,{_f:{}})._f||{}).ref;He(i.errors,E,{...k,ref:M}),h.state.next({name:E,errors:i.errors,isValid:!1}),x&&x.shouldFocus&&M&&M.focus&&M.focus()},Hn=(E,k)=>Do(E)?h.watch.subscribe({next:x=>E(ae(void 0,k),x)}):ae(E,k,!0),Fe=(E,k={})=>{for(const x of E?Vp(E):u.mount)u.mount.delete(x),u.array.delete(x),J(s,x)&&(k.keepValue||(Ut(s,x),Ut(a,x)),!k.keepError&&Ut(i.errors,x),!k.keepDirty&&Ut(i.dirtyFields,x),!k.keepTouched&&Ut(i.touchedFields,x),!n.shouldUnregister&&!k.keepDefaultValue&&Ut(o,x));h.watch.next({}),h.state.next({...i,...k.keepDirty?{isDirty:j()}:{}}),!k.keepIsValid&&m()},ft=(E,k={})=>{let x=J(s,E);const M=No(k.disabled);return He(s,E,{...x||{},_f:{...x&&x._f?x._f:{ref:{name:E}},name:E,mount:!0,...k}}),u.mount.add(E),x?M&&He(a,E,k.disabled?void 0:J(a,E,qp(x._f))):T(E,!0,k.value),{...M?{disabled:k.disabled}:{},...n.shouldUseNativeValidation?{required:!!k.required,min:$a(k.min),max:$a(k.max),minLength:$a(k.minLength),maxLength:$a(k.maxLength),pattern:$a(k.pattern)}:{},name:E,onChange:W,onBlur:W,ref:H=>{if(H){ft(E,k),x=J(s,E);const P=lt(H.value)&&H.querySelectorAll&&H.querySelectorAll("input,select,textarea")[0]||H,O=fV(P),ge=x._f.refs||[];if(O?ge.find(Se=>Se===P):P===x._f.ref)return;He(s,E,{_f:{...x._f,...O?{refs:[...ge.filter(Hp),P,...Array.isArray(J(o,E))?[{}]:[]],ref:{type:P.type,name:E}}:{ref:P}}}),T(E,!1,void 0,P)}else x=J(s,E,{}),x._f&&(x._f.mount=!1),(n.shouldUnregister||k.shouldUnregister)&&!(nV(u.array,E)&&l.action)&&u.unMount.add(E)}}},si=()=>n.shouldFocusError&&Vg(s,E=>E&&J(i.errors,E),u.mount),oi=(E,k)=>async x=>{x&&(x.preventDefault&&x.preventDefault(),x.persist&&x.persist());let M=is(a);if(h.state.next({isSubmitting:!0}),n.resolver){const{errors:H,values:P}=await A();i.errors=H,M=P}else await G(s);Rn(i.errors)?(h.state.next({errors:{}}),await E(M,x)):(k&&await k({...i.errors},x),si()),h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Rn(i.errors),submitCount:i.submitCount+1,errors:i.errors})},F=(E,k={})=>{J(s,E)&&(lt(k.defaultValue)?q(E,J(o,E)):(q(E,k.defaultValue),He(o,E,k.defaultValue)),k.keepTouched||Ut(i.touchedFields,E),k.keepDirty||(Ut(i.dirtyFields,E),i.isDirty=k.defaultValue?j(E,J(o,E)):j()),k.keepError||(Ut(i.errors,E),f.isValid&&m()),h.state.next({...i}))},K=(E,k={})=>{const x=E||o,M=is(x),H=E&&!Rn(E)?M:o;if(k.keepDefaultValues||(o=x),!k.keepValues){if(k.keepDirtyValues||r)for(const P of u.mount)J(i.dirtyFields,P)?He(H,P,J(a,P)):q(P,J(H,P));else{if(k1&&lt(E))for(const P of u.mount){const O=J(s,P);if(O&&O._f){const ge=Array.isArray(O._f.refs)?O._f.refs[0]:O._f.ref;if(Qd(ge)){const Se=ge.closest("form");if(Se){Se.reset();break}}}}s={}}a=t.shouldUnregister?k.keepDefaultValues?is(o):{}:M,h.array.next({values:H}),h.watch.next({values:H})}u={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&e(),l.mount=!f.isValid||!!k.keepIsValid,l.watch=!!t.shouldUnregister,h.state.next({submitCount:k.keepSubmitCount?i.submitCount:0,isDirty:k.keepDirty||k.keepDirtyValues?i.isDirty:!!(k.keepDefaultValues&&!ps(E,o)),isSubmitted:k.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:k.keepDirty||k.keepDirtyValues?i.dirtyFields:k.keepDefaultValues&&E?Bp(o,E):{},touchedFields:k.keepTouched?i.touchedFields:{},errors:k.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},pe=(E,k)=>K(Do(E)?E(a):E,k),me=(E,k={})=>{const x=J(s,E),M=x&&x._f;if(M){const H=M.refs?M.refs[0]:M.ref;H.focus&&(H.focus(),k.shouldSelect&&H.select())}},ce=E=>{i={...i,...E}};return Do(n.defaultValues)&&n.defaultValues().then(E=>{pe(E,n.resetOptions),h.state.next({isLoading:!1})}),{control:{register:ft,unregister:Fe,getFieldState:$e,_executeSchema:A,_focusError:si,_getWatch:ae,_getDirty:j,_updateValid:m,_removeUnmounted:B,_updateFieldArray:_,_getFieldArray:be,_reset:K,_updateFormState:ce,_subjects:h,_proxyFormState:f,get _fields(){return s},get _formValues(){return a},get _stateFlags(){return l},set _stateFlags(E){l=E},get _defaultValues(){return o},get _names(){return u},set _names(E){u=E},get _formState(){return i},set _formState(E){i=E},get _options(){return n},set _options(E){n={...n,...E}}},trigger:re,register:ft,handleSubmit:oi,watch:Hn,setValue:q,getValues:xe,reset:pe,resetField:F,clearErrors:dt,unregister:Fe,setError:_t,setFocus:me,getFieldState:$e}}function W2(t={}){const e=Qn.useRef(),[n,r]=Qn.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Do(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...vV(t,()=>r(s=>({...s}))),formState:n});const i=e.current.control;return i._options=t,sV({subject:i._subjects.state,next:s=>{iV(s,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),Qn.useEffect(()=>{i._stateFlags.mount||(i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),Qn.useEffect(()=>{t.values&&!ps(t.values,i._defaultValues)&&i._reset(t.values,i._options.resetOptions)},[t.values,i]),Qn.useEffect(()=>{n.submitCount&&i._focusError()},[i,n.submitCount]),e.current.formState=rV(n,i),e.current}function K2(t){return v.jsxs(Lt,{stroke:"none",...t,children:[v.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.64 12.2045C20.64 11.5664 20.5827 10.9527 20.4764 10.3636H12V13.845H16.8436C16.635 14.97 16.0009 15.9232 15.0477 16.5614V18.8195H17.9564C19.6582 17.2527 20.64 14.9454 20.64 12.2045Z",fill:"#4285F4"}),v.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 21C14.43 21 16.4673 20.1941 17.9564 18.8196L15.0477 16.5614C14.2418 17.1014 13.2109 17.4205 12 17.4205C9.65591 17.4205 7.67182 15.8373 6.96409 13.71H3.95728V16.0418C5.43818 18.9832 8.48182 21 12 21Z",fill:"#34A853"}),v.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.96409 13.71C6.78409 13.17 6.68182 12.5932 6.68182 12C6.68182 11.4068 6.78409 10.83 6.96409 10.29V7.95818H3.95727C3.34773 9.17318 3 10.5477 3 12C3 13.4523 3.34773 14.8268 3.95727 16.0418L6.96409 13.71Z",fill:"#FBBC05"}),v.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6.57955C13.3214 6.57955 14.5077 7.03364 15.4405 7.92545L18.0218 5.34409C16.4632 3.89182 14.4259 3 12 3C8.48182 3 5.43818 5.01682 3.95728 7.95818L6.96409 10.29C7.67182 8.16273 9.65591 6.57955 12 6.57955Z",fill:"#EA4335"})]})}const P1=b.forwardRef(({children:t,className:e,...n},r)=>v.jsx("form",{className:e,ref:r,...n,children:t}));P1.displayName="Form";const wV="_inputContainer_rcdqz_1",_V={inputContainer:wV},SV="_container_bo7dy_1",EV="_inputBlockContainer_bo7dy_8",CV="_input_bo7dy_8",TV="_error_bo7dy_24",et={container:SV,inputBlockContainer:EV,input:CV,error:TV},bV=b.forwardRef(({register:t=null,errors:e,label:n,children:r,...i},s)=>v.jsxs("div",{className:et.container,children:[v.jsx(we,{component:"h3",children:r}),v.jsxs("div",{className:et.inputBlockContainer,children:[v.jsxs("label",{className:_V.inputContainer,children:[v.jsx("input",{type:"checkbox",ref:s,...t,...i}),v.jsx(we,{component:"p1",children:n})]}),t&&v.jsx(we,{component:"p2",className:Z.join(et.error),children:e&&e[t.name]&&e[t.name].message||""})]})]}));bV.displayName="Checkbox";const O1=b.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>v.jsxs("div",{className:et.container,children:[v.jsx(we,{component:"h5",children:r}),v.jsxs("div",{className:et.inputBlockContainer,children:[v.jsx("label",{children:v.jsx("input",{type:"email",className:Z.join(et.input,hn.input),placeholder:n,ref:s,...t,...i})}),t&&v.jsx(we,{component:"p2",className:Z.join(et.error),children:e&&e[t==null?void 0:t.name]&&e[t==null?void 0:t.name].message||""})]})]}));O1.displayName="EmailInput";const IV="_Icon_1epyj_46",kV="_disabled_1epyj_53",xV="_clickable_1epyj_61",RV="_tiny_1epyj_65",AV="_small_1epyj_69",PV="_medium_1epyj_77",OV="_large_1epyj_81",LV="_extra_1epyj_85",PS={Icon:IV,disabled:kV,clickable:xV,tiny:RV,small:AV,default:"_default_1epyj_73",medium:PV,large:OV,extra:LV},ou=b.forwardRef(({size:t="default",width:e=24,height:n=24,onClick:r,children:i,className:s,style:o,...a},l)=>{const u=[r&&"clickable",t&&PS[t]],c=t==="custom"?{width:e,height:n}:{};return v.jsx("div",{className:Z.join(PS.Icon,s,u),onClick:r,ref:l,style:{...o,...c},...a,children:i})});ou.displayName="Icon";function NV(t){return v.jsxs(Lt,{fill:"none",...t,children:[v.jsxs("g",{clipPath:"url(#clip0_2015_815)",children:[v.jsx("path",{d:"M17.94 17.94C16.2306 19.243 14.1491 19.9649 12 20C5 20 1 12 1 12C2.24389 9.68189 3.96914 7.6566 6.06 6.05999M9.9 4.23999C10.5883 4.07887 11.2931 3.99833 12 3.99999C19 3.99999 23 12 23 12C22.393 13.1356 21.6691 14.2047 20.84 15.19M14.12 14.12C13.8454 14.4147 13.5141 14.6511 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1752 15.0074 10.8016 14.8565C10.4281 14.7056 10.0887 14.481 9.80385 14.1961C9.51897 13.9113 9.29439 13.5719 9.14351 13.1984C8.99262 12.8248 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2218 9.18488 10.8538C9.34884 10.4858 9.58525 10.1546 9.88 9.87999",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M1 1L23 23",strokeLinecap:"round",strokeLinejoin:"round"})]}),v.jsx("defs",{children:v.jsx("clipPath",{id:"clip0_2015_815",children:v.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function DV(t){return v.jsxs(Lt,{fill:"none",...t,children:[v.jsx("path",{d:"M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",strokeLinecap:"round",strokeLinejoin:"round"})]})}const MV="_inputContainer_1lt49_1",$V="_icon_1lt49_5",Wp={inputContainer:MV,icon:$V},L1=b.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>{const[o,a]=b.useState(!1),l=c=>{c.stopPropagation(),a(d=>!d)},u=o?"text":"password";return v.jsxs("div",{className:et.container,children:[v.jsx(we,{component:"h5",children:r}),v.jsxs("div",{className:et.inputBlockContainer,children:[v.jsxs("label",{className:Wp.inputContainer,children:[v.jsx("input",{type:u,className:Z.join(Wp.input,et.input,hn.input),placeholder:n,ref:s,...t,...i}),v.jsx(ou,{size:"custom",style:{width:20,height:20},className:Wp.icon,onClick:l,children:o?v.jsx(DV,{size:"custom",style:{width:20,height:20}}):v.jsx(NV,{size:"custom",style:{width:20,height:20}})})]}),t&&v.jsx(we,{component:"p2",className:Z.join(et.error),children:e&&e[t==null?void 0:t.name]&&e[t==null?void 0:t.name].message||""})]})]})});L1.displayName="PasswordInput";const G2=b.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>v.jsxs("div",{className:et.container,children:[v.jsx(we,{component:"h5",children:r}),v.jsxs("div",{className:et.inputBlockContainer,children:[v.jsx("label",{children:v.jsx("input",{type:"text",className:Z.join(et.input,hn.input),placeholder:n,ref:s,...t,...i})}),t&&v.jsx(we,{component:"p2",className:Z.join(et.error),children:e&&e[t==null?void 0:t.name]&&e[t==null?void 0:t.name].message||""})]})]}));G2.displayName="TextInput";const jV="_input_1wgeu_1",UV={input:jV},FV=b.forwardRef(({children:t,className:e,...n},r)=>v.jsx("div",{children:v.jsxs("label",{htmlFor:"file",children:[t,v.jsx("input",{type:"file",className:Z.join(UV.input,e),id:"file",ref:r,...n})]})}));FV.displayName="FileUpload";function VV(t){return v.jsxs(Lt,{fill:"none",...t,children:[v.jsx("path",{d:"M23 19C23 19.5304 22.7893 20.0391 22.4142 20.4142C22.0391 20.7893 21.5304 21 21 21H3C2.46957 21 1.96086 20.7893 1.58579 20.4142C1.21071 20.0391 1 19.5304 1 19V8C1 7.46957 1.21071 6.96086 1.58579 6.58579C1.96086 6.21071 2.46957 6 3 6H7L9 3H15L17 6H21C21.5304 6 22.0391 6.21071 22.4142 6.58579C22.7893 6.96086 23 7.46957 23 8V19Z",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M12 17C14.2091 17 16 15.2091 16 13C16 10.7909 14.2091 9 12 9C9.79086 9 8 10.7909 8 13C8 15.2091 9.79086 17 12 17Z",strokeLinecap:"round",strokeLinejoin:"round"})]})}const zV="_FileImgUpload_142ig_1",HV="_container_142ig_7",BV="_input_142ig_14",qV="_imgPreview_142ig_18",Kp={FileImgUpload:zV,container:HV,input:BV,imgPreview:qV},Q2=b.forwardRef(({register:t,errors:e,watch:n,accept:r,label:i,children:s,className:o,...a},l)=>{const[u,c]=b.useState(),d=n(t?t.name:null);return b.useEffect(()=>{let f="";d&&d.length>0&&(f=URL.createObjectURL(d[0])),c(f)},[d]),v.jsxs("div",{className:Z.join(Kp.FileImgUpload,et.container),children:[v.jsx(we,{component:"h5",children:s}),v.jsxs("div",{className:et.inputBlockContainer,children:[v.jsxs("label",{className:Z.join(Kp.container,hn.input),children:[v.jsx("input",{type:"file",accept:r||"",className:Z.join(Kp.input,o),ref:l,...t,...a}),u?v.jsx(Gd,{src:u,alt:u}):v.jsx(Gd,{children:v.jsx(VV,{})}),i]}),t&&v.jsx(we,{component:"p2",className:Z.join(et.error),children:e&&e[t.name]&&e[t.name].message||""})]})]})});Q2.displayName="FileImgUpload";function Y2(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}const WV="_Backdrop_1yd3e_46",KV="_show_1yd3e_61",GV="_disabled_1yd3e_66",Gp={Backdrop:WV,"hide-blackout":"_hide-blackout_1yd3e_1",show:KV,"show-blackout":"_show-blackout_1yd3e_1",disabled:GV},N1=b.forwardRef(({className:t,disabled:e,show:n,opacity:r,...i},s)=>{const o=b.useRef(null);b.useEffect(()=>{var l;o&&r&&((l=o.current)==null||l.style.setProperty("--backdrop-opacity",`${r}%`))},[o]);const a=[e&&Gp.disabled,n&&Gp.show];return v.jsx("button",{type:"button",className:Z.join(Gp.Backdrop,t,a),ref:Y2([s,o]),...i})});N1.displayName="Backdrop";function D1({children:t,className:e="root-portal",elementType:n="div"}){const r=b.useRef(document.createElement(n)),{current:i}=r;return b.useEffect(()=>(i.classList.add(e),document.body.appendChild(r.current),()=>{document.body.removeChild(i)}),[]),XA.createPortal(t,i)}const QV="_content_ol8b2_18",YV="_titleContainer_ol8b2_22",XV="_success_ol8b2_22",JV="_info_ol8b2_27",ZV="_error_ol8b2_32",ez="_warn_ol8b2_37",tz="_Modal_ol8b2_70",nz="_buttons_ol8b2_107",rz="_medium_ol8b2_111",iz="_large_ol8b2_122",sz="_title_ol8b2_22",oz="_body_ol8b2_155",xr={content:QV,titleContainer:YV,success:XV,info:JV,error:ZV,warn:ez,Modal:tz,"hide-modal":"_hide-modal_ol8b2_1",buttons:nz,medium:rz,large:iz,"show-modal":"_show-modal_ol8b2_1",title:sz,body:oz},zu=b.forwardRef(({type:t,title:e,noTitle:n,mainButton:r={text:"Ок"},secondButton:i,backdrop:s,onClose:o,noButtons:a=!1,size:l="flex",children:u,className:c,...d},f)=>{const[h,y]=b.useState("show"),p=i&&!Z.isObjectEmpty(i),S=()=>{y("")},g=()=>{h!=="show"&&(S(),document.body.style.overflow="visible",o&&o())},m=()=>{s!=null&&s.onClick&&s.onClick(),S()},w=()=>{r!=null&&r.onClick&&r.onClick(),r!=null&&r.form||S()},_=()=>{i!=null&&i.onClick&&i.onClick(),i!=null&&i.form||S()},C=t?xr[t]:null,T=e||t==="alert"&&"Повідомлення!"||t==="info"&&"Інформація!"||t==="success"&&"Успіх!"||t==="error"&&"Помилка"||t==="warn"&&"Попередження!";b.useEffect(()=>{document.body.style.overflow="hidden"},[]);const I=l==="medium"&&xr.medium||l==="large"&&xr.large;return v.jsx(D1,{children:v.jsxs("div",{className:Z.join(xr.Modal,c,h),onAnimationEnd:g,ref:f,...d,children:[v.jsx(N1,{onClick:m,disabled:s==null?void 0:s.disabled,show:h==="show"}),v.jsxs("div",{className:Z.join(I,xr.content),children:[v.jsx("div",{className:t&&Z.join(xr.titleContainer,C,t),children:v.jsx(we,{component:"h4",className:xr.title,children:!n&&T})}),v.jsx("div",{className:xr.body,children:u}),!a&&v.jsxs("div",{className:xr.buttons,children:[p&&v.jsxs(gn,{size:i==null?void 0:i.size,type:(i==null?void 0:i.type)||"secondary",onClick:()=>_(),submit:i==null?void 0:i.isSubmit,disabled:i==null?void 0:i.disabled,children:[(i==null?void 0:i.iconPosition)==="left"&&(i==null?void 0:i.icon),!(i!=null&&i.icon)&&(i!=null&&i.icon?"Відміна":i==null?void 0:i.text),!(i!=null&&i.text)&&(i==null?void 0:i.icon)&&(i==null?void 0:i.icon),(i==null?void 0:i.iconPosition)==="left"&&(i==null?void 0:i.icon)]}),v.jsxs(gn,{size:r==null?void 0:r.size,type:(r==null?void 0:r.type)||"primary",onClick:()=>w(),submit:r==null?void 0:r.isSubmit,disabled:r==null?void 0:r.disabled,children:[(r==null?void 0:r.iconPosition)==="left"&&(r==null?void 0:r.icon),!(r!=null&&r.icon)&&(r!=null&&r.icon?"Ок":r==null?void 0:r.text),!(r!=null&&r.text)&&(r==null?void 0:r.icon)&&(r==null?void 0:r.icon),(r==null?void 0:r.iconPosition)==="right"&&(r==null?void 0:r.icon)]})]})]})]})})});zu.displayName="Modal";function az({onClose:t}){return v.jsx(zu,{onClose:t,type:"error",size:"medium",title:"Невірні дані!",children:v.jsxs(v.Fragment,{children:[v.jsx(we,{component:"p1",className:"center",children:"Невірно вказана електронна адреса чи пароль."}),v.jsx(we,{component:"p1",className:"center",children:"Перевірте, будь ласка, дані та спробуйте ще раз!"})]})})}function lz({onClose:t}){return v.jsx(zu,{onClose:t,type:"success",size:"medium",title:"Вітаю!",children:v.jsx(we,{component:"p1",className:"center",children:"Ви успішно увійшли на сайт та отримали доступ до додаткового функціоналу!"})})}const uz="_container_188oq_1",cz="_form_188oq_9",dz="_buttons_188oq_17",Qp={container:uz,form:cz,buttons:dz};function fz(){const t=ia(),e=ya(),{error:n,isLoading:r,uid:i}=Us(y=>y.userReducer),{actions:s}=ju,{register:o,handleSubmit:a,formState:{errors:l}}=W2({mode:"onSubmit",defaultValues:{email:"",password:""}}),u={email:o("email",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/i,message:"Невірно введена адреса електронної пошти!"}}),password:o("password",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[a-zA-Z0-9]+$/,message:"Використовуйте тільки латинські літери та цифри!"},minLength:{value:8,message:"Мінімальна довжина пароля 8 символів"},maxLength:{value:16,message:"Максимальна довжина пароля 16 символів"}})},c=async({email:y,password:p})=>{e(zc({email:y,password:p}))},d=()=>{e(yl())},f=()=>{t(Ct.home)},h=()=>{e(s.resetError())};return v.jsxs(Uu,{children:[v.jsxs(qi,{container:!0,className:Qp.container,children:[v.jsx(we,{component:"h4",children:"Вхід"}),v.jsxs(P1,{className:Qp.form,onSubmit:a(c),children:[v.jsx(O1,{register:u.email,errors:l,children:"Адреса електронної пошти*:"}),v.jsx(L1,{register:u.password,errors:l,children:"Пароль*:"}),v.jsxs(qt,{className:Qp.buttons,children:[v.jsx(gn,{type:"primary",submit:!0,children:"Увійти"}),v.jsxs(gn,{type:"secondary",onClick:d,children:[v.jsx(K2,{}),"Увійти через Google"]}),v.jsxs(we,{component:"p1",children:["Немає акаунту?"," ",v.jsx(Ff,{to:Ct.signup,children:v.jsx(vr,{children:"Створити"})})]})]})]})]}),i&&!r?v.jsx(lz,{onClose:f}):null,n&&!r?v.jsx(az,{onClose:h}):null]})}function hz({onClose:t}){return v.jsx(zu,{onClose:t,type:"error",size:"medium",title:"Невірні дані!",children:v.jsxs(v.Fragment,{children:[v.jsx(we,{component:"p1",className:"center",children:"Невірно заповнені поля, або такий користувач вже існує."}),v.jsx(we,{component:"p1",className:"center",children:"Перевірте, будь ласка, дані та спробуйте ще раз!"})]})})}function pz({onClose:t}){return v.jsx(zu,{onClose:t,type:"success",size:"medium",title:"Вітаю!",children:v.jsx(we,{component:"p1",className:"center",children:"Ви успішно зареєструвалися на сайті та отримали доступ до додаткового функціоналу!"})})}const mz="_container_188oq_1",gz="_form_188oq_9",yz="_buttons_188oq_17",Yp={container:mz,form:gz,buttons:yz};function vz(){const t=ia(),e=ya(),{error:n,isLoading:r,uid:i}=Us(m=>m.userReducer),{actions:s}=ju,{register:o,handleSubmit:a,reset:l,watch:u,formState:{errors:c,isDirty:d}}=W2({mode:"onSubmit",defaultValues:{userName:"",email:"",password:"",profileImage:void 0}}),f=Z.isObjectEmpty(c),h={userName:o("userName",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[\sа-яА-ЯёЁъЪїЇіІєЄґҐa-zA-Z_]+$/,message:"Використовуйте тільки літери, пробіл або нижнє підкреслення!"},minLength:{value:2,message:"Мінімальна довжина логіну 2 символів"},maxLength:{value:32,message:"Максимальна довжина логіну 32 символів"}}),email:o("email",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/i,message:"Невірно введена адреса електронної пошти!"}}),password:o("password",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[a-zA-Z0-9]+$/,message:"Використовуйте тільки латинські літери та цифри!"},minLength:{value:8,message:"Мінімальна довжина пароля 8 символів"},maxLength:{value:16,message:"Максимальна довжина пароля 16 символів"}}),profileImage:o("profileImage",{required:"Будь ласка, оберіть зображення!"})},y=async({userName:m,email:w,password:_,profileImage:C})=>{e(Vc({displayName:m,email:w,password:_,photo:C[0]}))},p=()=>{e(yl())},S=()=>{l(),t(Ct.home)},g=()=>{e(s.resetError())};return v.jsxs(Uu,{children:[v.jsxs(qi,{container:!0,className:Yp.container,children:[v.jsx(we,{component:"h4",children:"Реєстрація"}),v.jsxs(P1,{className:Yp.form,onSubmit:a(y),children:[v.jsx(Q2,{watch:u,register:h.profileImage,errors:c,accept:".jpg, .jpeg, .png",label:"Оберіть зображення",children:"Зображення профілю*:"}),v.jsx(G2,{register:h.userName,errors:c,children:"Логін*:"}),v.jsx(O1,{register:h.email,errors:c,children:"Адреса електронної пошти*:"}),v.jsx(L1,{register:h.password,errors:c,children:"Пароль*:"}),v.jsxs(qt,{className:Yp.buttons,children:[v.jsx(gn,{submit:!0,disabled:!d||!f,children:"Створити"}),v.jsxs(gn,{type:"secondary",onClick:p,children:[v.jsx(K2,{}),"Увійти через Google"]}),v.jsxs(we,{component:"p1",children:["Вже є акаунт?"," ",v.jsx(Ff,{className:"link",to:Ct.login,children:v.jsx(vr,{children:"Увійти"})})]})]})]})]}),i&&!r?v.jsx(pz,{onClose:S}):null,n&&!r?v.jsx(hz,{onClose:g}):null]})}const wz="src/App/helpers/writeTextToClipboard.ts";async function _z(t){if(t)try{return await navigator.clipboard.writeText(t),{status:"success"}}catch(e){return Me(wz,e)}return{status:"error"}}const hr={general:"Загальний Список",study:"Вивчити/Зробити",christmas:"Різдво",easter:"Пасха",defer:"Відкласти на час"},Sz="16wsDcFtQ7J1nYrlSkEB8KgLp_XpyCdwH-SIi0fuqapc";function ja(t){let e;if(t){const n=Z.sortArrayLocalCompare(t,"value"),r=Z.removeEmptyValues(n,"value");e=Z.groupBy(r,"value")}return e}const Bc=kh("songsList/fetchSongsList",async(t,e)=>{try{const n=await An.google.appsscript.getAllTitledColumnsDataSingle({spreadsheetId:Sz,sheetName:"common"});return{[hr.general]:ja(n.data.general.values),[hr.study]:ja(n.data.study.values),[hr.christmas]:ja(n.data.christmas.values),[hr.easter]:ja(n.data.easter.values),[hr.defer]:ja(n.data.defer.values)}}catch{return e.rejectWithValue($u)}}),Ez="_LoaderLine_92256_1",Cz="_background_92256_10",Tz="_normal_92256_13",bz="_animation_92256_13",Iz="_loader_92256_1",kz="_inversion_92256_22",Ua={LoaderLine:Ez,background:Cz,normal:Tz,animation:bz,loader:Iz,inversion:kz},X2=b.forwardRef(({isInversion:t,className:e,...n},r)=>{const i=[t?Ua.inversion:Ua.normal];return v.jsxs("div",{className:Z.join(Ua.LoaderLine,e,i),ref:r,...n,children:[v.jsx("div",{className:Ua.background}),v.jsx("div",{className:Ua.animation})]})});X2.displayName="LoaderLine";const xz="_LoaderOverlay_1d96m_1",Rz={LoaderOverlay:xz};function Az(){return v.jsx(D1,{children:v.jsxs(qt,{className:Z.join(Rz.LoaderOverlay),children:[v.jsx(N1,{show:!0}),v.jsx(X2,{})]})})}function Pz(t){return v.jsxs(Lt,{fill:"none",...t,children:[v.jsx("path",{d:"M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M5 15H4C3.46957 15 2.96086 14.7893 2.58579 14.4142C2.21071 14.0391 2 13.5304 2 13V4C2 3.46957 2.21071 2.96086 2.58579 2.58579C2.96086 2.21071 3.46957 2 4 2H13C13.5304 2 14.0391 2.21071 14.4142 2.58579C14.7893 2.96086 15 3.46957 15 4V5",strokeLinecap:"round",strokeLinejoin:"round"})]})}function Oz(t){return v.jsx(Lt,{fill:"none",...t,children:v.jsx("path",{d:"M6 9L12 15L18 9",strokeLinecap:"round",strokeLinejoin:"round"})})}const Lz="_inputContainer_izcmr_1",Nz="_icon_izcmr_5",Dz="_input_izcmr_1",Xp={inputContainer:Lz,icon:Nz,input:Dz},J2=b.forwardRef(({options:t,register:e,errors:n,selected:r,blank:i,onDropdownChange:s,children:o,className:a,...l},u)=>{const[c,d]=b.useState(r),f=h=>{d(h.target.value),s&&s(h.target.value)};return v.jsxs("div",{className:et.container,children:[v.jsx(we,{component:"h5",children:o}),v.jsxs("div",{className:et.inputBlockContainer,children:[v.jsxs("label",{className:Xp.inputContainer,children:[v.jsxs("select",{className:Z.join(Xp.input,et.input,hn.input,a),value:c,onChange:f,ref:u,...e,...l,children:[i&&v.jsx("option",{children:" "}),t.map(h=>v.jsx("option",{value:h,children:h},h))]}),v.jsx(ou,{size:"custom",style:{width:20,height:20},className:Xp.icon,onClick:()=>null,children:v.jsx(Oz,{size:"custom",style:{width:20,height:20}})})]}),e&&v.jsx(we,{component:"p2",className:Z.join(et.error),children:n&&n[e==null?void 0:e.name]&&n[e==null?void 0:e.name].message||""})]})]})});J2.displayName="Dropdown";function Mz({children:t,...e}){return v.jsx(v.Fragment,{children:b.Children.map(t,n=>b.isValidElement(n)?b.cloneElement(n,{...n.props,...e}):null)})}const $z="_List_1bjol_1",jz="_unordered_1bjol_6",Uz="_custom_1bjol_12",Jp={List:$z,unordered:jz,custom:Uz},Z2=b.forwardRef(({type:t,margin:e,children:n,className:r,...i},s)=>{const o=[t==="unordered"&&Jp[t],t==="custom"&&Jp[t]],a={marginLeft:e&&`${e}px`};return v.jsx("ul",{className:Z.join(Jp.List,r,o),ref:s,style:a,...i,children:v.jsx(Mz,{style:a,children:n})})});Z2.displayName="List";const ex=b.forwardRef(({children:t,className:e,...n},r)=>v.jsx("li",{className:e,ref:r,...n,children:t}));ex.displayName="ListItem";function OS(t){return v.jsxs(Lt,{fill:"none",...t,children:[v.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M12 8V12",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M12 16H12.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function Fz(t){return v.jsxs(Lt,{fill:"none",...t,children:[v.jsx("path",{d:"M10.29 3.86001L1.81999 18C1.64536 18.3024 1.55296 18.6453 1.55198 18.9945C1.551 19.3437 1.64148 19.6871 1.81442 19.9905C1.98735 20.2939 2.23672 20.5468 2.5377 20.7239C2.83868 20.901 3.18079 20.9962 3.52999 21H20.47C20.8192 20.9962 21.1613 20.901 21.4623 20.7239C21.7633 20.5468 22.0126 20.2939 22.1856 19.9905C22.3585 19.6871 22.449 19.3437 22.448 18.9945C22.447 18.6453 22.3546 18.3024 22.18 18L13.71 3.86001C13.5317 3.56611 13.2807 3.32313 12.9812 3.15449C12.6817 2.98585 12.3437 2.89726 12 2.89726C11.6563 2.89726 11.3183 2.98585 11.0188 3.15449C10.7193 3.32313 10.4683 3.56611 10.29 3.86001Z",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M12 9V13",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M12 17H12.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function Vz(t){return v.jsxs(Lt,{fill:"none",...t,children:[v.jsx("path",{d:"M22 11.08V12C21.9988 14.1564 21.3005 16.2547 20.0093 17.9818C18.7182 19.709 16.9033 20.9725 14.8354 21.5839C12.7674 22.1953 10.5573 22.1219 8.53447 21.3746C6.51168 20.6273 4.78465 19.2461 3.61096 17.4371C2.43727 15.628 1.87979 13.4881 2.02168 11.3363C2.16356 9.18457 2.99721 7.13633 4.39828 5.49707C5.79935 3.85782 7.69279 2.71538 9.79619 2.24015C11.8996 1.76491 14.1003 1.98234 16.07 2.86",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M22 4L12 14.01L9 11.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function zz(t){return v.jsxs(Lt,{fill:"none",...t,children:[v.jsx("path",{d:"M12.7165 22.7087C18.2394 22.7087 22.7165 18.2315 22.7165 12.7087C22.7165 7.18582 18.2394 2.70866 12.7165 2.70866C7.19367 2.70866 2.71652 7.18582 2.71652 12.7087C2.71652 18.2315 7.19367 22.7087 12.7165 22.7087Z",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M12.7165 16.7087V12.7087",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M12.7165 8.70866H12.7265",strokeLinecap:"round",strokeLinejoin:"round"})]})}function Hz(t){return v.jsxs(Lt,{fill:"none",...t,children:[v.jsx("path",{d:"M12.237 22.8758C17.7599 22.8758 22.237 18.3987 22.237 12.8758C22.237 7.35296 17.7599 2.87581 12.237 2.87581C6.71418 2.87581 2.23703 7.35296 2.23703 12.8758C2.23703 18.3987 6.71418 22.8758 12.237 22.8758Z",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M15.237 9.87581L9.23703 15.8758",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M9.23703 9.87581L15.237 15.8758",strokeLinecap:"round",strokeLinejoin:"round"})]})}const Bz="_LoaderCounter_1kaup_1",qz="_counter_1kaup_9",Wz="_background_1kaup_14",Kz="_animation_1kaup_22",Zs={LoaderCounter:Bz,counter:qz,background:Wz,animation:Kz,"loader-animation":"_loader-animation_1kaup_1"},tx=b.forwardRef(({timer:t,isInversion:e,className:n,...r},i)=>{const[s,o]=b.useState(t/1e3);b.useEffect(()=>{Z.setIntervalCounts({callback:()=>o(u=>u-1),delay:1e3,counts:t/1e3})},[]);const a=b.useRef(null);b.useLayoutEffect(()=>{var u;(u=a.current)==null||u.style.setProperty("--loader-counter--animation-duration",`${t}ms`)},[t]);const l=[e?Zs.inversion:Zs.normal];return v.jsxs("div",{className:Z.join(Zs.LoaderCounter,n,l),ref:Y2([i,a]),...r,children:[v.jsx("div",{className:Zs.background}),v.jsx("div",{className:Zs.animation,ref:a}),v.jsx(we,{component:"p2",className:Zs.counter,children:s})]})});tx.displayName="LoaderCounter";const Gz="_Toast_cccyb_18",Qz="_success_cccyb_22",Yz="_info_cccyb_27",Xz="_error_cccyb_32",Jz="_warn_cccyb_37",Zz="_oneLine_cccyb_84",eH="_medium_cccyb_87",tH="_large_cccyb_95",nH="_content_cccyb_98",rH="_textContent_cccyb_107",iH="_title_cccyb_117",sH="_message_cccyb_121",oH="_topLeft_cccyb_125",aH="_topCenter_cccyb_129",lH="_topRight_cccyb_133",uH="_bottomLeft_cccyb_147",cH="_bottomCenter_cccyb_151",dH="_bottomRight_cccyb_155",ht={Toast:Gz,success:Qz,info:Yz,error:Xz,warn:Jz,oneLine:Zz,medium:eH,large:tH,content:nH,textContent:rH,title:iH,message:sH,topLeft:oH,"top-animation-show":"_top-animation-show_cccyb_1",topCenter:aH,topRight:lH,bottomLeft:uH,"bottom-animation-show":"_bottom-animation-show_cccyb_1",bottomCenter:cH,bottomRight:dH},nx=b.forwardRef(({id:t,message:e,title:n,noTitle:r,type:i,size:s="flex",position:o="bottom-center",oneLine:a,onCloseButtonClick:l,autoDeleteTime:u=0,className:c,...d},f)=>{const[h,y]=b.useState(!1),p=s==="medium"&&ht.medium||s==="large"&&ht.large,S=i==="alert"&&ht.alert||i==="info"&&ht.info||i==="success"&&ht.success||i==="error"&&ht.error||i==="warn"&&ht.warn,g=n||i==="alert"&&"Повідомлення!"||i==="info"&&"Інформація!"||i==="success"&&"Успіх!"||i==="error"&&"Помилка"||i==="warn"&&"Попередження!",m=_=>_==="alert"?v.jsx(OS,{}):_==="info"?v.jsx(zz,{}):_==="success"?v.jsx(Vz,{}):_==="error"?v.jsx(Hz,{}):_==="warn"?v.jsx(Fz,{}):v.jsx(OS,{}),w=o==="bottom-center"&&ht.bottomCenter||o==="top-center"&&ht.topCenter||o==="top-left"&&ht.topLeft||o==="top-right"&&ht.topRight||o==="bottom-left"&&ht.bottomLeft||o==="bottom-right"&&ht.bottomRight;return b.useEffect(()=>{y(!0)},[w]),v.jsxs("div",{className:Z.join(ht.Toast,h&&w,p,S,c),ref:f,...d,"data-id":t,children:[v.jsxs("div",{className:ht.content,children:[v.jsx(ou,{children:m(i)}),v.jsxs("div",{className:Z.join(ht.textContent,a&&ht.oneLine),children:[v.jsx(we,{component:"h6",className:ht.title,children:!r&&g}),v.jsx(we,{component:"p1",className:ht.message,children:e})]}),v.jsx(tx,{timer:u})]}),v.jsx(ou,{size:"small",onClick:l,children:v.jsx(M2,{size:"small"})})]})});nx.displayName="Toast";const fH="_ToastList_98f1o_1",hH="_topLeft_98f1o_15",pH="_topCenter_98f1o_20",mH="_topRight_98f1o_25",gH="_bottomLeft_98f1o_30",yH="_bottomCenter_98f1o_35",vH="_bottomRight_98f1o_40",Ji={ToastList:fH,topLeft:hH,topCenter:pH,topRight:mH,bottomLeft:gH,bottomCenter:yH,bottomRight:vH};function wH({onClearList:t,id:e,message:n,title:r,noTitle:i,type:s="alert",size:o="flex",position:a="top-right",oneLine:l,autoDeleteTime:u=0,maxCount:c=1}){const[d,f]=b.useState(!0),[h,y]=b.useState([]),p=m=>{y(w=>w.filter(_=>_.id!==m))};b.useEffect(()=>{f(!1),y(m=>{const w={id:e,message:n,title:r,noTitle:i,type:s,size:o,position:a,oneLine:l,autoDeleteTime:u};return a.includes("top")?[...m,w].slice(-c):[w,...m].slice(0,c)}),u>0&&setTimeout(()=>{p(e)},u)},[e]),b.useEffect(()=>{!d&&h.length<1&&t()},[h]);const S=a==="bottom-center"&&Ji.bottomCenter||a==="top-center"&&Ji.topCenter||a==="top-left"&&Ji.topLeft||a==="top-right"&&Ji.topRight||a==="bottom-left"&&Ji.bottomLeft||a==="bottom-right"&&Ji.bottomRight,g=m=>{var C;const _=(C=m.currentTarget.parentElement)==null?void 0:C.getAttribute("data-id");_&&p(_)};return v.jsx(D1,{children:v.jsx("div",{className:Z.join(Ji.ToastList,S),children:h.length>0&&h.map(m=>v.jsx(nx,{id:m.id,message:m.message,title:m.title,noTitle:m.noTitle,type:m.type,size:m.size,position:m.position,oneLine:m.oneLine,autoDeleteTime:u,onCloseButtonClick:g},m.id))})})}const LS={up:"up",down:"down"};function _H(t,e){const n=t??100,[r,i]=b.useState("start"),[s,o]=b.useState(0);return b.useEffect(()=>{let a=window.scrollY;const l=f=>Math.abs(f-a)>n,u=f=>f>a&&!(a>0&&f===0)&&!(f>0&&a===0),c=()=>{const f=window.scrollY;if(o(f),l(f)){e&&e();const h=u(f)?LS.down:LS.up;i(h),a=f>0?f:0}},d=()=>window.requestAnimationFrame(c);return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]),{scrollDirection:r,scrollPosition:s}}function SH(){const[t,e]=b.useState({windowWidth:0,windowHeight:0});return b.useLayoutEffect(()=>{function n(){e({windowWidth:window.innerWidth,windowHeight:window.innerHeight})}return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),t}const EH="_StickyButton_1dud9_18",CH="_hide_1dud9_58",TH="_show_1dud9_64",Zi={StickyButton:EH,hide:CH,"sticky-button-hide":"_sticky-button-hide_1dud9_1",show:TH,"sticky-button-show":"_sticky-button-show_1dud9_1"};function bH({children:t,popup:e,inverseDirection:n,hideOnScreensCount:r=0}){const[i,s]=b.useState(Zi.hide),{windowHeight:o}=SH(),{scrollDirection:a,scrollPosition:l}=_H(200);return b.useEffect(()=>{const u=l>o*r;s(u&&n&&a==="up"?Zi.show:u&&n&&a==="down"||u&&a==="up"?Zi.hide:u&&a==="down"?Zi.show:Zi.hide)},[r,n,a,l,o]),v.jsx("div",{className:Z.join(Zi.StickyButton,e&&i),children:t})}function IH(t){return v.jsx(Lt,{fill:"none",...t,children:v.jsx("path",{d:"M18 15L12 9L6 15",strokeLinecap:"round",strokeLinejoin:"round"})})}function kH(){return v.jsx(bH,{popup:!0,inverseDirection:!0,hideOnScreensCount:1,children:v.jsx(gn,{size:"small",onClick:()=>document.body.scrollIntoView(),children:v.jsx(IH,{size:"small"})})})}const xH="_SongsListPage_1c5ze_46",RH="_container_1c5ze_50",AH="_songsList_1c5ze_59",PH="_listNavigation_1c5ze_65",OH="_songsGroup_1c5ze_73",LH="_songsGroupSymbol_1c5ze_77",NH="_songs_1c5ze_59",DH="_songItem_1c5ze_92",MH="_copyIcon_1c5ze_97",Rr={SongsListPage:xH,container:RH,songsList:AH,listNavigation:PH,songsGroup:OH,songsGroupSymbol:LH,songs:NH,songItem:DH,copyIcon:MH};function $H(){var h,y;const{isLoading:t,songsList:e,songsTableNames:n}=Us(p=>p.songsListReducer),[r,i]=b.useState(n[0]),s=ya();b.useEffect(()=>{Z.isObjectEmpty(e)&&s(Bc())},[]);const o=p=>{i(p)},[a,l]=b.useState(!1),[u,c]=b.useState({title:"",message:"",type:void 0,id:""}),d=async p=>{var g,m;const S=(m=(g=p.currentTarget)==null?void 0:g.previousElementSibling)==null?void 0:m.textContent;S&&typeof S=="string"&&((await _z(S)).status==="success"?c(_=>({title:"Скопійовано в буфер:",message:`${S}`,id:(+_.id+1).toString()})):c(_=>({title:"",message:"Сталася невідома помилка! Напишіть, будь ласка, мені в телеграм=)",type:"error",id:(+_.id+1).toString()})),l(!0))},f=()=>{l(!1)};return v.jsx(qt,{component:"main",className:Rr.SongsListPage,children:v.jsxs(qi,{component:"section",container:!0,className:Rr.container,children:[a&&v.jsx(wH,{onClearList:f,title:u.title,message:u.message,type:u.type,id:u.id,size:"flex",autoDeleteTime:3e3,maxCount:3,position:"top-right"}),t&&v.jsx(Az,{}),n&&v.jsx(J2,{selected:n[0],onDropdownChange:o,options:n}),e[r]&&v.jsx(qt,{component:"nav",className:Rr.listNavigation,children:(h=e[r])==null?void 0:h.map(p=>v.jsx(D2,{href:`${Ct.songslist}#${p[0]}`,className:"link",children:p[0]},p[0]))}),e[r]&&v.jsx(qt,{className:Rr.songsList,children:(y=e[r])==null?void 0:y.map(p=>v.jsxs(qt,{className:Rr.songsGroup,children:[v.jsx(we,{component:"h3",className:Z.join(Rr.songsGroupSymbol),id:p[0],children:p[0]}),v.jsx(Z2,{className:Rr.songs,children:p[1].map(S=>v.jsxs(ex,{className:Rr.songItem,children:[v.jsx(we,{component:"p1",id:`song_${S.position}`,children:S.value}),v.jsx(gn,{size:"custom",type:"text",className:Rr.copyIcon,onClick:d,children:v.jsx(Pz,{size:"small"})})]},S.position))})]},p[0]))}),v.jsx(kH,{})]})})}const jH=gL([{path:"/",element:v.jsx(z7,{}),errorElement:v.jsx(Y7,{}),children:[{element:v.jsx(Z7,{}),index:!0},{element:v.jsx(fz,{}),path:Ct.login},{element:v.jsx(vz,{}),path:Ct.signup},{element:v.jsx($H,{}),path:Ct.songslist},{element:v.jsx(H7,{}),path:Ct.about},{element:v.jsx(B7,{}),path:Ct.chordslist}]}]);function UH(){return v.jsx(oL,{router:jH})}var M1="persist:",$1="persist/FLUSH",xh="persist/REHYDRATE",j1="persist/PAUSE",U1="persist/PERSIST",F1="persist/PURGE",V1="persist/REGISTER",FH=-1;function qc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qc=function(n){return typeof n}:qc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},qc(t)}function NS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NS(n,!0).forEach(function(r){zH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zH(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HH(t,e,n,r){r.debug;var i=VH({},n);return t&&qc(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function BH(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:M1).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(C){return C}:typeof t.serialize=="function"?a=t.serialize:a=qH;var l=t.writeFailHandler||null,u={},c={},d=[],f=null,h=null,y=function(C){Object.keys(C).forEach(function(T){g(T)&&u[T]!==C[T]&&d.indexOf(T)===-1&&d.push(T)}),Object.keys(u).forEach(function(T){C[T]===void 0&&g(T)&&d.indexOf(T)===-1&&u[T]!==void 0&&d.push(T)}),f===null&&(f=setInterval(p,i)),u=C};function p(){if(d.length===0){f&&clearInterval(f),f=null;return}var _=d.shift(),C=r.reduce(function(T,I){return I.in(T,_,u)},u[_]);if(C!==void 0)try{c[_]=a(C)}catch(T){console.error("redux-persist/createPersistoid: error serializing state",T)}else delete c[_];d.length===0&&S()}function S(){Object.keys(c).forEach(function(_){u[_]===void 0&&delete c[_]}),h=o.setItem(s,a(c)).catch(m)}function g(_){return!(n&&n.indexOf(_)===-1&&_!=="_persist"||e&&e.indexOf(_)!==-1)}function m(_){l&&l(_)}var w=function(){for(;d.length!==0;)p();return h||Promise.resolve()};return{update:y,flush:w}}function qH(t){return JSON.stringify(t)}function WH(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:M1).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=KH,r.getItem(n).then(function(s){if(s)try{var o={},a=i(s);return Object.keys(a).forEach(function(l){o[l]=e.reduceRight(function(u,c){return c.out(u,l,a)},i(a[l]))}),o}catch(l){throw l}else return})}function KH(t){return JSON.parse(t)}function GH(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:M1).concat(t.key);return e.removeItem(n,QH)}function QH(t){}function DS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DS(n,!0).forEach(function(r){YH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YH(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XH(t,e){if(t==null)return{};var n=JH(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ZH=5e3;function eB(t,e){var n=t.version!==void 0?t.version:FH;t.debug;var r=t.stateReconciler===void 0?HH:t.stateReconciler,i=t.getStoredState||WH,s=t.timeout!==void 0?t.timeout:ZH,o=null,a=!1,l=!0,u=function(d){return d._persist.rehydrated&&o&&!l&&o.update(d),d};return function(c,d){var f=c||{},h=f._persist,y=XH(f,["_persist"]),p=y;if(d.type===U1){var S=!1,g=function(N,A){S||(d.rehydrate(t.key,N,A),S=!0)};if(s&&setTimeout(function(){!S&&g(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),l=!1,o||(o=BH(t)),h)return Ar({},e(p,d),{_persist:h});if(typeof d.rehydrate!="function"||typeof d.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(t.key),i(t).then(function(I){var N=t.migrate||function(A,D){return Promise.resolve(A)};N(I,n).then(function(A){g(A)},function(A){g(void 0,A)})},function(I){g(void 0,I)}),Ar({},e(p,d),{_persist:{version:n,rehydrated:!1}})}else{if(d.type===F1)return a=!0,d.result(GH(t)),Ar({},e(p,d),{_persist:h});if(d.type===$1)return d.result(o&&o.flush()),Ar({},e(p,d),{_persist:h});if(d.type===j1)l=!0;else if(d.type===xh){if(a)return Ar({},p,{_persist:Ar({},h,{rehydrated:!0})});if(d.key===t.key){var m=e(p,d),w=d.payload,_=r!==!1&&w!==void 0?r(w,c,m,t):m,C=Ar({},_,{_persist:Ar({},h,{rehydrated:!0})});return u(C)}}}if(!h)return e(c,d);var T=e(p,d);return T===p?c:u(Ar({},T,{_persist:h}))}}function MS(t){return rB(t)||nB(t)||tB()}function tB(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function nB(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function rB(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function $S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$S(n,!0).forEach(function(r){iB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$S(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rx={registry:[],bootstrapped:!1},sB=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:rx,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case V1:return zg({},e,{registry:[].concat(MS(e.registry),[n.key])});case xh:var r=e.registry.indexOf(n.key),i=MS(e.registry);return i.splice(r,1),zg({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function oB(t,e,n){var r=n||!1,i=S1(sB,rx,e&&e.enhancer?e.enhancer:void 0),s=function(u){i.dispatch({type:V1,key:u})},o=function(u,c,d){var f={type:xh,payload:c,err:d,key:u};t.dispatch(f),i.dispatch(f),r&&a.getState().bootstrapped&&(r(),r=!1)},a=zg({},i,{purge:function(){var u=[];return t.dispatch({type:F1,result:function(d){u.push(d)}}),Promise.all(u)},flush:function(){var u=[];return t.dispatch({type:$1,result:function(d){u.push(d)}}),Promise.all(u)},pause:function(){t.dispatch({type:j1})},persist:function(){t.dispatch({type:U1,register:s,rehydrate:o})}});return e&&e.manualPersist||a.persist(),a}var z1={},H1={};H1.__esModule=!0;H1.default=uB;function Wc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wc=function(n){return typeof n}:Wc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Wc(t)}function Zp(){}var aB={getItem:Zp,setItem:Zp,removeItem:Zp};function lB(t){if((typeof self>"u"?"undefined":Wc(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function uB(t){var e="".concat(t,"Storage");return lB(e)?self[e]:aB}z1.__esModule=!0;z1.default=fB;var cB=dB(H1);function dB(t){return t&&t.__esModule?t:{default:t}}function fB(t){var e=(0,cB.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var ix=void 0,hB=pB(z1);function pB(t){return t&&t.__esModule?t:{default:t}}var mB=(0,hB.default)("local");ix=mB;const gB={isLoading:!1,error:"",songsList:{},songsTableNames:[hr.general,hr.study,hr.christmas,hr.easter,hr.defer]},yB=E1({name:"songsList",initialState:gB,reducers:{},extraReducers:t=>{t.addCase(Bc.pending,e=>{e.isLoading=!0,e.error="",e.songsList={}}).addCase(Bc.fulfilled,(e,n)=>{"error"in n.payload?e.error=n.payload.error:e.songsList=n.payload,e.isLoading=!1}).addCase(Bc.rejected,(e,n)=>{e.error=n.payload.error,e.isLoading=!1})}}),vB=A2({appReducer:$2.reducer,songsListReducer:yB.reducer,userReducer:ju.reducer}),wB={key:Qy.name,storage:ix},_B=eB(wB,vB),sx=AF({reducer:_B,middleware:t=>t({serializableCheck:{ignoredActions:[$1,xh,j1,U1,F1,V1]}})}),SB=oB(sx);function EB(){return v.jsx(FP,{store:sx,children:v.jsx(sT,{loading:null,persistor:SB,children:v.jsx(UH,{})})})}const CB=document.getElementById("root"),TB=GC(CB);TB.render(v.jsx(b.StrictMode,{children:v.jsx(EB,{})}));
