function v2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const w2="AKfycbxGD1Lys79Ixt4BQ5mfH3ylX4_ZvtSGUFHltMILILPBWtcdPoSlI3FD5Ir8OcwtBA",_2=`https://script.google.com/macros/s/${w2}/exec`;function S2(t,e){console.error("analyticsAPI",`${t}:`,e)}function Df(...t){console.log("analyticsAPI",...t)}async function E2({spreadsheetId:t,sheetName:e,sheetIndex:n,titlesParams:r,indexesParams:i,type:s,col:o,row:a,value:l}){const u=new URLSearchParams;return t&&u.append("spreadsheetId",t),e&&u.append("sheetName",e),n&&u.append("sheetIndex",n.toString()),r&&u.append("titlesParams",JSON.stringify(r)),i&&u.append("indexesParams",JSON.stringify(i)),s&&u.append("type",s),o&&u.append("col",o.toString()),a&&u.append("row",a.toString()),l&&u.append("value",l.toString()),fetch(`${_2}?${u}`,{method:"POST"}).then(c=>c.text()).then(c=>JSON.parse(c)).then(c=>(c.status!=="success"&&(Df("doPost",c.status),Df("doPost",c.info),Df("doPost",c.error)),c)).catch(c=>S2("doPost",c))}async function C2({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){return E2({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED"}).then(i=>i)}const T2={postTitledColumnsDataByTitles:C2};async function k2(){try{return{ip:(await(await fetch("https://api.ipify.org?format=json")).json()).ip,status:"success"}}catch(t){return{error:t,status:"error"}}}const I2={fetchIP:k2},qS={appsscript:T2,ipify:I2};function x2(){const t=navigator.userAgent;let e,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE",version:e[1]||""}):n[1]==="Chrome"&&(e=t.match(/\bOPR|Edge\/(\d+)/),e!=null)?{name:"Opera",version:e[1]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],(e=t.match(/version\/(\d+)/i))!=null&&n.splice(1,1,e[1]),{name:n[0],version:n[1]})}function b2(){return/Android/i.test(navigator.userAgent)?"Android":/webOS/i.test(navigator.userAgent)?"webOS":/iPhone/i.test(navigator.userAgent)?"iPhone":/iPad/i.test(navigator.userAgent)?"iPad":/iPod/i.test(navigator.userAgent)?"iPod":/BlackBerry/i.test(navigator.userAgent)?"BlackBerry":/IEMobile/i.test(navigator.userAgent)?"IEMobile":/Opera Mini/i.test(navigator.userAgent)?"Opera Mini":null}async function R2(){const t=await qS.ipify.fetchIP();return{ip:t.status==="success"?t.ip:"",time:new Date().toString(),timezone:new Date().getTimezoneOffset()/60,language:window.navigator.language,languages:[...window.navigator.languages],mobile:b2()||"",page:window.location.pathname,referrer:document.referrer,browser:x2(),screenWidth:window.screen.width,screenHeight:window.screen.height,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight}}const A2="156bmyJELUA_4HS995nK2KNl4NAgBkxh-OQrQT2jEjO4";async function P2(){const t=await R2(),{ip:e,page:n,time:r,language:i,languages:s,browser:o,mobile:a,screenHeight:l,screenWidth:u,viewportHeight:c,viewportWidth:d}=t;await qS.appsscript.postTitledColumnsDataByTitles({spreadsheetId:A2,titlesParams:{ip:e,page:n,time:r,language:i,languages:s.join(" | "),browser:o.name,version:o.version,mobile:a,screenHeight:l,screenWidth:u,viewportHeight:c,viewportWidth:d}})}P2();var L2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function WS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f={},N2={get exports(){return f},set exports(t){f=t}},eh={},T={},O2={get exports(){return T},set exports(t){T=t}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var su=Symbol.for("react.element"),D2=Symbol.for("react.portal"),j2=Symbol.for("react.fragment"),M2=Symbol.for("react.strict_mode"),$2=Symbol.for("react.profiler"),U2=Symbol.for("react.provider"),F2=Symbol.for("react.context"),V2=Symbol.for("react.forward_ref"),z2=Symbol.for("react.suspense"),B2=Symbol.for("react.memo"),H2=Symbol.for("react.lazy"),Z1=Symbol.iterator;function q2(t){return t===null||typeof t!="object"?null:(t=Z1&&t[Z1]||t["@@iterator"],typeof t=="function"?t:null)}var KS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GS=Object.assign,QS={};function ra(t,e,n){this.props=t,this.context=e,this.refs=QS,this.updater=n||KS}ra.prototype.isReactComponent={};ra.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ra.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function YS(){}YS.prototype=ra.prototype;function Qg(t,e,n){this.props=t,this.context=e,this.refs=QS,this.updater=n||KS}var Yg=Qg.prototype=new YS;Yg.constructor=Qg;GS(Yg,ra.prototype);Yg.isPureReactComponent=!0;var e0=Array.isArray,XS=Object.prototype.hasOwnProperty,Xg={current:null},JS={key:!0,ref:!0,__self:!0,__source:!0};function ZS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)XS.call(e,r)&&!JS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:su,type:t,key:s,ref:o,props:i,_owner:Xg.current}}function W2(t,e){return{$$typeof:su,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Jg(t){return typeof t=="object"&&t!==null&&t.$$typeof===su}function K2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var t0=/\/+/g;function jf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?K2(""+t.key):e.toString(36)}function _c(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case su:case D2:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+jf(o,0):r,e0(i)?(n="",t!=null&&(n=t.replace(t0,"$&/")+"/"),_c(i,e,n,"",function(u){return u})):i!=null&&(Jg(i)&&(i=W2(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(t0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",e0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+jf(s,a);o+=_c(s,e,n,l,i)}else if(l=q2(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+jf(s,a++),o+=_c(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Hu(t,e,n){if(t==null)return t;var r=[],i=0;return _c(t,r,"","",function(s){return e.call(n,s,i++)}),r}function G2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var on={current:null},Sc={transition:null},Q2={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:Sc,ReactCurrentOwner:Xg};Te.Children={map:Hu,forEach:function(t,e,n){Hu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hu(t,function(){e++}),e},toArray:function(t){return Hu(t,function(e){return e})||[]},only:function(t){if(!Jg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=ra;Te.Fragment=j2;Te.Profiler=$2;Te.PureComponent=Qg;Te.StrictMode=M2;Te.Suspense=z2;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q2;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=GS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Xg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)XS.call(e,l)&&!JS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:su,type:t.type,key:i,ref:s,props:r,_owner:o}};Te.createContext=function(t){return t={$$typeof:F2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:U2,_context:t},t.Consumer=t};Te.createElement=ZS;Te.createFactory=function(t){var e=ZS.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:V2,render:t}};Te.isValidElement=Jg;Te.lazy=function(t){return{$$typeof:H2,_payload:{_status:-1,_result:t},_init:G2}};Te.memo=function(t,e){return{$$typeof:B2,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=Sc.transition;Sc.transition={};try{t()}finally{Sc.transition=e}};Te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Te.useCallback=function(t,e){return on.current.useCallback(t,e)};Te.useContext=function(t){return on.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return on.current.useDeferredValue(t)};Te.useEffect=function(t,e){return on.current.useEffect(t,e)};Te.useId=function(){return on.current.useId()};Te.useImperativeHandle=function(t,e,n){return on.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return on.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return on.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return on.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return on.current.useReducer(t,e,n)};Te.useRef=function(t){return on.current.useRef(t)};Te.useState=function(t){return on.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return on.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return on.current.useTransition()};Te.version="18.2.0";(function(t){t.exports=Te})(O2);const Jn=WS(T),sm=v2({__proto__:null,default:Jn},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y2=T,X2=Symbol.for("react.element"),J2=Symbol.for("react.fragment"),Z2=Object.prototype.hasOwnProperty,eR=Y2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tR={key:!0,ref:!0,__self:!0,__source:!0};function eE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Z2.call(e,r)&&!tR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:X2,type:t,key:s,ref:o,props:i,_owner:eR.current}}eh.Fragment=J2;eh.jsx=eE;eh.jsxs=eE;(function(t){t.exports=eh})(N2);var vl={},nR={get exports(){return vl},set exports(t){vl=t}},kn={},om={},rR={get exports(){return om},set exports(t){om=t}},tE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,G){var re=q.length;q.push(G);e:for(;0<re;){var Re=re-1>>>1,Ue=q[Re];if(0<i(Ue,G))q[Re]=G,q[re]=Ue,re=Re;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var G=q[0],re=q.pop();if(re!==G){q[0]=re;e:for(var Re=0,Ue=q.length,pt=Ue>>>1;Re<pt;){var Ct=2*(Re+1)-1,qn=q[Ct],Be=Ct+1,mt=q[Be];if(0>i(qn,re))Be<Ue&&0>i(mt,qn)?(q[Re]=mt,q[Be]=re,Re=Be):(q[Re]=qn,q[Ct]=re,Re=Ct);else if(Be<Ue&&0>i(mt,re))q[Re]=mt,q[Be]=re,Re=Be;else break e}}return G}function i(q,G){var re=q.sortIndex-G.sortIndex;return re!==0?re:q.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,v=!1,m=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(q){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=q)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function _(q){if(m=!1,w(q),!v)if(n(l)!==null)v=!0,$e(E);else{var G=n(u);G!==null&&lt(_,G.startTime-q)}}function E(q,G){v=!1,m&&(m=!1,y(N),N=-1),p=!0;var re=h;try{for(w(G),d=n(l);d!==null&&(!(d.expirationTime>G)||q&&!K());){var Re=d.callback;if(typeof Re=="function"){d.callback=null,h=d.priorityLevel;var Ue=Re(d.expirationTime<=G);G=t.unstable_now(),typeof Ue=="function"?d.callback=Ue:d===n(l)&&r(l),w(G)}else r(l);d=n(l)}if(d!==null)var pt=!0;else{var Ct=n(u);Ct!==null&&lt(_,Ct.startTime-G),pt=!1}return pt}finally{d=null,h=re,p=!1}}var k=!1,I=null,N=-1,R=5,D=-1;function K(){return!(t.unstable_now()-D<R)}function $(){if(I!==null){var q=t.unstable_now();D=q;var G=!0;try{G=I(!0,q)}finally{G?U():(k=!1,I=null)}}else k=!1}var U;if(typeof g=="function")U=function(){g($)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Ie=le.port2;le.port1.onmessage=$,U=function(){Ie.postMessage(null)}}else U=function(){S($,0)};function $e(q){I=q,k||(k=!0,U())}function lt(q,G){N=S(function(){q(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,$e(E))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var re=h;h=G;try{return q()}finally{h=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,G){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var re=h;h=q;try{return G()}finally{h=re}},t.unstable_scheduleCallback=function(q,G,re){var Re=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Re+re:Re):re=Re,q){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=re+Ue,q={id:c++,callback:G,priorityLevel:q,startTime:re,expirationTime:Ue,sortIndex:-1},re>Re?(q.sortIndex=re,e(u,q),n(l)===null&&q===n(u)&&(m?(y(N),N=-1):m=!0,lt(_,re-Re))):(q.sortIndex=Ue,e(l,q),v||p||(v=!0,$e(E))),q},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(q){var G=h;return function(){var re=h;h=G;try{return q.apply(this,arguments)}finally{h=re}}}})(tE);(function(t){t.exports=tE})(rR);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE=T,En=om;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rE=new Set,wl={};function $s(t,e){Uo(t,e),Uo(t+"Capture",e)}function Uo(t,e){for(wl[t]=e,t=0;t<e.length;t++)rE.add(e[t])}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),am=Object.prototype.hasOwnProperty,iR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n0={},r0={};function sR(t){return am.call(r0,t)?!0:am.call(n0,t)?!1:iR.test(t)?r0[t]=!0:(n0[t]=!0,!1)}function oR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function aR(t,e,n,r){if(e===null||typeof e>"u"||oR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function an(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ot[t]=new an(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ot[e]=new an(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ot[t]=new an(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ot[t]=new an(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ot[t]=new an(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ot[t]=new an(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ot[t]=new an(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ot[t]=new an(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ot[t]=new an(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zg=/[\-:]([a-z])/g;function ey(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zg,ey);Ot[e]=new an(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zg,ey);Ot[e]=new an(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zg,ey);Ot[e]=new an(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ot[t]=new an(t,1,!1,t.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new an("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ot[t]=new an(t,1,!1,t.toLowerCase(),null,!0,!0)});function ty(t,e,n,r){var i=Ot.hasOwnProperty(e)?Ot[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(aR(e,n,i,r)&&(n=null),r||i===null?sR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ii=nE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qu=Symbol.for("react.element"),so=Symbol.for("react.portal"),oo=Symbol.for("react.fragment"),ny=Symbol.for("react.strict_mode"),lm=Symbol.for("react.profiler"),iE=Symbol.for("react.provider"),sE=Symbol.for("react.context"),ry=Symbol.for("react.forward_ref"),um=Symbol.for("react.suspense"),cm=Symbol.for("react.suspense_list"),iy=Symbol.for("react.memo"),di=Symbol.for("react.lazy"),oE=Symbol.for("react.offscreen"),i0=Symbol.iterator;function Ca(t){return t===null||typeof t!="object"?null:(t=i0&&t[i0]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,Mf;function Va(t){if(Mf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mf=e&&e[1]||""}return`
`+Mf+t}var $f=!1;function Uf(t,e){if(!t||$f)return"";$f=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$f=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Va(t):""}function lR(t){switch(t.tag){case 5:return Va(t.type);case 16:return Va("Lazy");case 13:return Va("Suspense");case 19:return Va("SuspenseList");case 0:case 2:case 15:return t=Uf(t.type,!1),t;case 11:return t=Uf(t.type.render,!1),t;case 1:return t=Uf(t.type,!0),t;default:return""}}function dm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oo:return"Fragment";case so:return"Portal";case lm:return"Profiler";case ny:return"StrictMode";case um:return"Suspense";case cm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sE:return(t.displayName||"Context")+".Consumer";case iE:return(t._context.displayName||"Context")+".Provider";case ry:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case iy:return e=t.displayName||null,e!==null?e:dm(t.type)||"Memo";case di:e=t._payload,t=t._init;try{return dm(t(e))}catch{}}return null}function uR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dm(e);case 8:return e===ny?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ji(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function aE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cR(t){var e=aE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wu(t){t._valueTracker||(t._valueTracker=cR(t))}function lE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=aE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hm(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function s0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ji(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uE(t,e){e=e.checked,e!=null&&ty(t,"checked",e,!1)}function fm(t,e){uE(t,e);var n=ji(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pm(t,e.type,n):e.hasOwnProperty("defaultValue")&&pm(t,e.type,ji(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function o0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pm(t,e,n){(e!=="number"||Gc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var za=Array.isArray;function Co(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ji(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function mm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function a0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(za(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ji(n)}}function cE(t,e){var n=ji(e.value),r=ji(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function l0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ku,hE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ku=Ku||document.createElement("div"),Ku.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ku.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _l(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ja={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dR=["Webkit","ms","Moz","O"];Object.keys(Ja).forEach(function(t){dR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ja[e]=Ja[t]})});function fE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ja.hasOwnProperty(t)&&Ja[t]?(""+e).trim():e+"px"}function pE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var hR=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ym(t,e){if(e){if(hR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function vm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wm=null;function sy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _m=null,To=null,ko=null;function u0(t){if(t=lu(t)){if(typeof _m!="function")throw Error(z(280));var e=t.stateNode;e&&(e=sh(e),_m(t.stateNode,t.type,e))}}function mE(t){To?ko?ko.push(t):ko=[t]:To=t}function gE(){if(To){var t=To,e=ko;if(ko=To=null,u0(t),e)for(t=0;t<e.length;t++)u0(e[t])}}function yE(t,e){return t(e)}function vE(){}var Ff=!1;function wE(t,e,n){if(Ff)return t(e,n);Ff=!0;try{return yE(t,e,n)}finally{Ff=!1,(To!==null||ko!==null)&&(vE(),gE())}}function Sl(t,e){var n=t.stateNode;if(n===null)return null;var r=sh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Sm=!1;if(Kr)try{var Ta={};Object.defineProperty(Ta,"passive",{get:function(){Sm=!0}}),window.addEventListener("test",Ta,Ta),window.removeEventListener("test",Ta,Ta)}catch{Sm=!1}function fR(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Za=!1,Qc=null,Yc=!1,Em=null,pR={onError:function(t){Za=!0,Qc=t}};function mR(t,e,n,r,i,s,o,a,l){Za=!1,Qc=null,fR.apply(pR,arguments)}function gR(t,e,n,r,i,s,o,a,l){if(mR.apply(this,arguments),Za){if(Za){var u=Qc;Za=!1,Qc=null}else throw Error(z(198));Yc||(Yc=!0,Em=u)}}function Us(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _E(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function c0(t){if(Us(t)!==t)throw Error(z(188))}function yR(t){var e=t.alternate;if(!e){if(e=Us(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return c0(i),t;if(s===r)return c0(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function SE(t){return t=yR(t),t!==null?EE(t):null}function EE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=EE(t);if(e!==null)return e;t=t.sibling}return null}var CE=En.unstable_scheduleCallback,d0=En.unstable_cancelCallback,vR=En.unstable_shouldYield,wR=En.unstable_requestPaint,at=En.unstable_now,_R=En.unstable_getCurrentPriorityLevel,oy=En.unstable_ImmediatePriority,TE=En.unstable_UserBlockingPriority,Xc=En.unstable_NormalPriority,SR=En.unstable_LowPriority,kE=En.unstable_IdlePriority,th=null,vr=null;function ER(t){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(th,t,void 0,(t.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:kR,CR=Math.log,TR=Math.LN2;function kR(t){return t>>>=0,t===0?32:31-(CR(t)/TR|0)|0}var Gu=64,Qu=4194304;function Ba(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ba(a):(s&=o,s!==0&&(r=Ba(s)))}else o=n&~i,o!==0?r=Ba(o):s!==0&&(r=Ba(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tr(e),i=1<<n,r|=t[n],e&=~i;return r}function IR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-tr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=IR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Cm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function IE(){var t=Gu;return Gu<<=1,!(Gu&4194240)&&(Gu=64),t}function Vf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ou(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tr(e),t[e]=n}function bR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-tr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ay(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var De=0;function xE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bE,ly,RE,AE,PE,Tm=!1,Yu=[],Ei=null,Ci=null,Ti=null,El=new Map,Cl=new Map,fi=[],RR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h0(t,e){switch(t){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":El.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(e.pointerId)}}function ka(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=lu(e),e!==null&&ly(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function AR(t,e,n,r,i){switch(e){case"focusin":return Ei=ka(Ei,t,e,n,r,i),!0;case"dragenter":return Ci=ka(Ci,t,e,n,r,i),!0;case"mouseover":return Ti=ka(Ti,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return El.set(s,ka(El.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Cl.set(s,ka(Cl.get(s)||null,t,e,n,r,i)),!0}return!1}function LE(t){var e=ss(t.target);if(e!==null){var n=Us(e);if(n!==null){if(e=n.tag,e===13){if(e=_E(n),e!==null){t.blockedOn=e,PE(t.priority,function(){RE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ec(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=km(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wm=r,n.target.dispatchEvent(r),wm=null}else return e=lu(n),e!==null&&ly(e),t.blockedOn=n,!1;e.shift()}return!0}function f0(t,e,n){Ec(t)&&n.delete(e)}function PR(){Tm=!1,Ei!==null&&Ec(Ei)&&(Ei=null),Ci!==null&&Ec(Ci)&&(Ci=null),Ti!==null&&Ec(Ti)&&(Ti=null),El.forEach(f0),Cl.forEach(f0)}function Ia(t,e){t.blockedOn===e&&(t.blockedOn=null,Tm||(Tm=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,PR)))}function Tl(t){function e(i){return Ia(i,t)}if(0<Yu.length){Ia(Yu[0],t);for(var n=1;n<Yu.length;n++){var r=Yu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ei!==null&&Ia(Ei,t),Ci!==null&&Ia(Ci,t),Ti!==null&&Ia(Ti,t),El.forEach(e),Cl.forEach(e),n=0;n<fi.length;n++)r=fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fi.length&&(n=fi[0],n.blockedOn===null);)LE(n),n.blockedOn===null&&fi.shift()}var Io=ii.ReactCurrentBatchConfig,Zc=!0;function LR(t,e,n,r){var i=De,s=Io.transition;Io.transition=null;try{De=1,uy(t,e,n,r)}finally{De=i,Io.transition=s}}function NR(t,e,n,r){var i=De,s=Io.transition;Io.transition=null;try{De=4,uy(t,e,n,r)}finally{De=i,Io.transition=s}}function uy(t,e,n,r){if(Zc){var i=km(t,e,n,r);if(i===null)Xf(t,e,r,ed,n),h0(t,r);else if(AR(i,t,e,n,r))r.stopPropagation();else if(h0(t,r),e&4&&-1<RR.indexOf(t)){for(;i!==null;){var s=lu(i);if(s!==null&&bE(s),s=km(t,e,n,r),s===null&&Xf(t,e,r,ed,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Xf(t,e,r,null,n)}}var ed=null;function km(t,e,n,r){if(ed=null,t=sy(r),t=ss(t),t!==null)if(e=Us(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_E(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ed=t,null}function NE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_R()){case oy:return 1;case TE:return 4;case Xc:case SR:return 16;case kE:return 536870912;default:return 16}default:return 16}}var _i=null,cy=null,Cc=null;function OE(){if(Cc)return Cc;var t,e=cy,n=e.length,r,i="value"in _i?_i.value:_i.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Cc=i.slice(t,1<r?1-r:void 0)}function Tc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xu(){return!0}function p0(){return!1}function In(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xu:p0,this.isPropagationStopped=p0,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xu)},persist:function(){},isPersistent:Xu}),e}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dy=In(ia),au=tt({},ia,{view:0,detail:0}),OR=In(au),zf,Bf,xa,nh=tt({},au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xa&&(xa&&t.type==="mousemove"?(zf=t.screenX-xa.screenX,Bf=t.screenY-xa.screenY):Bf=zf=0,xa=t),zf)},movementY:function(t){return"movementY"in t?t.movementY:Bf}}),m0=In(nh),DR=tt({},nh,{dataTransfer:0}),jR=In(DR),MR=tt({},au,{relatedTarget:0}),Hf=In(MR),$R=tt({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),UR=In($R),FR=tt({},ia,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VR=In(FR),zR=tt({},ia,{data:0}),g0=In(zR),BR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qR[t])?!!e[t]:!1}function hy(){return WR}var KR=tt({},au,{key:function(t){if(t.key){var e=BR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?HR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hy,charCode:function(t){return t.type==="keypress"?Tc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GR=In(KR),QR=tt({},nh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y0=In(QR),YR=tt({},au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hy}),XR=In(YR),JR=tt({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZR=In(JR),eA=tt({},nh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tA=In(eA),nA=[9,13,27,32],fy=Kr&&"CompositionEvent"in window,el=null;Kr&&"documentMode"in document&&(el=document.documentMode);var rA=Kr&&"TextEvent"in window&&!el,DE=Kr&&(!fy||el&&8<el&&11>=el),v0=String.fromCharCode(32),w0=!1;function jE(t,e){switch(t){case"keyup":return nA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ME(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ao=!1;function iA(t,e){switch(t){case"compositionend":return ME(e);case"keypress":return e.which!==32?null:(w0=!0,v0);case"textInput":return t=e.data,t===v0&&w0?null:t;default:return null}}function sA(t,e){if(ao)return t==="compositionend"||!fy&&jE(t,e)?(t=OE(),Cc=cy=_i=null,ao=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return DE&&e.locale!=="ko"?null:e.data;default:return null}}var oA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!oA[t.type]:e==="textarea"}function $E(t,e,n,r){mE(r),e=td(e,"onChange"),0<e.length&&(n=new dy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var tl=null,kl=null;function aA(t){QE(t,0)}function rh(t){var e=co(t);if(lE(e))return t}function lA(t,e){if(t==="change")return e}var UE=!1;if(Kr){var qf;if(Kr){var Wf="oninput"in document;if(!Wf){var S0=document.createElement("div");S0.setAttribute("oninput","return;"),Wf=typeof S0.oninput=="function"}qf=Wf}else qf=!1;UE=qf&&(!document.documentMode||9<document.documentMode)}function E0(){tl&&(tl.detachEvent("onpropertychange",FE),kl=tl=null)}function FE(t){if(t.propertyName==="value"&&rh(kl)){var e=[];$E(e,kl,t,sy(t)),wE(aA,e)}}function uA(t,e,n){t==="focusin"?(E0(),tl=e,kl=n,tl.attachEvent("onpropertychange",FE)):t==="focusout"&&E0()}function cA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rh(kl)}function dA(t,e){if(t==="click")return rh(e)}function hA(t,e){if(t==="input"||t==="change")return rh(e)}function fA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ir=typeof Object.is=="function"?Object.is:fA;function Il(t,e){if(ir(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!am.call(e,i)||!ir(t[i],e[i]))return!1}return!0}function C0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function T0(t,e){var n=C0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=C0(n)}}function VE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zE(){for(var t=window,e=Gc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gc(t.document)}return e}function py(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function pA(t){var e=zE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VE(n.ownerDocument.documentElement,n)){if(r!==null&&py(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=T0(n,s);var o=T0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mA=Kr&&"documentMode"in document&&11>=document.documentMode,lo=null,Im=null,nl=null,xm=!1;function k0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xm||lo==null||lo!==Gc(r)||(r=lo,"selectionStart"in r&&py(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nl&&Il(nl,r)||(nl=r,r=td(Im,"onSelect"),0<r.length&&(e=new dy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=lo)))}function Ju(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var uo={animationend:Ju("Animation","AnimationEnd"),animationiteration:Ju("Animation","AnimationIteration"),animationstart:Ju("Animation","AnimationStart"),transitionend:Ju("Transition","TransitionEnd")},Kf={},BE={};Kr&&(BE=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function ih(t){if(Kf[t])return Kf[t];if(!uo[t])return t;var e=uo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in BE)return Kf[t]=e[n];return t}var HE=ih("animationend"),qE=ih("animationiteration"),WE=ih("animationstart"),KE=ih("transitionend"),GE=new Map,I0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bi(t,e){GE.set(t,e),$s(e,[t])}for(var Gf=0;Gf<I0.length;Gf++){var Qf=I0[Gf],gA=Qf.toLowerCase(),yA=Qf[0].toUpperCase()+Qf.slice(1);Bi(gA,"on"+yA)}Bi(HE,"onAnimationEnd");Bi(qE,"onAnimationIteration");Bi(WE,"onAnimationStart");Bi("dblclick","onDoubleClick");Bi("focusin","onFocus");Bi("focusout","onBlur");Bi(KE,"onTransitionEnd");Uo("onMouseEnter",["mouseout","mouseover"]);Uo("onMouseLeave",["mouseout","mouseover"]);Uo("onPointerEnter",["pointerout","pointerover"]);Uo("onPointerLeave",["pointerout","pointerover"]);$s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$s("onBeforeInput",["compositionend","keypress","textInput","paste"]);$s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ha));function x0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gR(r,e,void 0,t),t.currentTarget=null}function QE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;x0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;x0(i,a,u),s=l}}}if(Yc)throw t=Em,Yc=!1,Em=null,t}function He(t,e){var n=e[Lm];n===void 0&&(n=e[Lm]=new Set);var r=t+"__bubble";n.has(r)||(YE(e,t,2,!1),n.add(r))}function Yf(t,e,n){var r=0;e&&(r|=4),YE(n,t,r,e)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function xl(t){if(!t[Zu]){t[Zu]=!0,rE.forEach(function(n){n!=="selectionchange"&&(vA.has(n)||Yf(n,!1,t),Yf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zu]||(e[Zu]=!0,Yf("selectionchange",!1,e))}}function YE(t,e,n,r){switch(NE(e)){case 1:var i=LR;break;case 4:i=NR;break;default:i=uy}n=i.bind(null,e,n,t),i=void 0,!Sm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Xf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ss(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}wE(function(){var u=s,c=sy(n),d=[];e:{var h=GE.get(t);if(h!==void 0){var p=dy,v=t;switch(t){case"keypress":if(Tc(n)===0)break e;case"keydown":case"keyup":p=GR;break;case"focusin":v="focus",p=Hf;break;case"focusout":v="blur",p=Hf;break;case"beforeblur":case"afterblur":p=Hf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=m0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=jR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=XR;break;case HE:case qE:case WE:p=UR;break;case KE:p=ZR;break;case"scroll":p=OR;break;case"wheel":p=tA;break;case"copy":case"cut":case"paste":p=VR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=y0}var m=(e&4)!==0,S=!m&&t==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var g=u,w;g!==null;){w=g;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,y!==null&&(_=Sl(g,y),_!=null&&m.push(bl(g,_,w)))),S)break;g=g.return}0<m.length&&(h=new p(h,v,null,n,c),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==wm&&(v=n.relatedTarget||n.fromElement)&&(ss(v)||v[Gr]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?ss(v):null,v!==null&&(S=Us(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(m=m0,_="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(m=y0,_="onPointerLeave",y="onPointerEnter",g="pointer"),S=p==null?h:co(p),w=v==null?h:co(v),h=new m(_,g+"leave",p,n,c),h.target=S,h.relatedTarget=w,_=null,ss(c)===u&&(m=new m(y,g+"enter",v,n,c),m.target=w,m.relatedTarget=S,_=m),S=_,p&&v)t:{for(m=p,y=v,g=0,w=m;w;w=Xs(w))g++;for(w=0,_=y;_;_=Xs(_))w++;for(;0<g-w;)m=Xs(m),g--;for(;0<w-g;)y=Xs(y),w--;for(;g--;){if(m===y||y!==null&&m===y.alternate)break t;m=Xs(m),y=Xs(y)}m=null}else m=null;p!==null&&b0(d,h,p,m,!1),v!==null&&S!==null&&b0(d,S,v,m,!0)}}e:{if(h=u?co(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=lA;else if(_0(h))if(UE)E=hA;else{E=cA;var k=uA}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=dA);if(E&&(E=E(t,u))){$E(d,E,n,c);break e}k&&k(t,h,u),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&pm(h,"number",h.value)}switch(k=u?co(u):window,t){case"focusin":(_0(k)||k.contentEditable==="true")&&(lo=k,Im=u,nl=null);break;case"focusout":nl=Im=lo=null;break;case"mousedown":xm=!0;break;case"contextmenu":case"mouseup":case"dragend":xm=!1,k0(d,n,c);break;case"selectionchange":if(mA)break;case"keydown":case"keyup":k0(d,n,c)}var I;if(fy)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ao?jE(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(DE&&n.locale!=="ko"&&(ao||N!=="onCompositionStart"?N==="onCompositionEnd"&&ao&&(I=OE()):(_i=c,cy="value"in _i?_i.value:_i.textContent,ao=!0)),k=td(u,N),0<k.length&&(N=new g0(N,t,null,n,c),d.push({event:N,listeners:k}),I?N.data=I:(I=ME(n),I!==null&&(N.data=I)))),(I=rA?iA(t,n):sA(t,n))&&(u=td(u,"onBeforeInput"),0<u.length&&(c=new g0("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=I))}QE(d,e)})}function bl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function td(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Sl(t,n),s!=null&&r.unshift(bl(t,s,i)),s=Sl(t,e),s!=null&&r.push(bl(t,s,i))),t=t.return}return r}function Xs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function b0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Sl(n,s),l!=null&&o.unshift(bl(n,l,a))):i||(l=Sl(n,s),l!=null&&o.push(bl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var wA=/\r\n?/g,_A=/\u0000|\uFFFD/g;function R0(t){return(typeof t=="string"?t:""+t).replace(wA,`
`).replace(_A,"")}function ec(t,e,n){if(e=R0(e),R0(t)!==e&&n)throw Error(z(425))}function nd(){}var bm=null,Rm=null;function Am(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pm=typeof setTimeout=="function"?setTimeout:void 0,SA=typeof clearTimeout=="function"?clearTimeout:void 0,A0=typeof Promise=="function"?Promise:void 0,EA=typeof queueMicrotask=="function"?queueMicrotask:typeof A0<"u"?function(t){return A0.resolve(null).then(t).catch(CA)}:Pm;function CA(t){setTimeout(function(){throw t})}function Jf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Tl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Tl(e)}function ki(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function P0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var sa=Math.random().toString(36).slice(2),fr="__reactFiber$"+sa,Rl="__reactProps$"+sa,Gr="__reactContainer$"+sa,Lm="__reactEvents$"+sa,TA="__reactListeners$"+sa,kA="__reactHandles$"+sa;function ss(t){var e=t[fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gr]||n[fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=P0(t);t!==null;){if(n=t[fr])return n;t=P0(t)}return e}t=n,n=t.parentNode}return null}function lu(t){return t=t[fr]||t[Gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function sh(t){return t[Rl]||null}var Nm=[],ho=-1;function Hi(t){return{current:t}}function We(t){0>ho||(t.current=Nm[ho],Nm[ho]=null,ho--)}function Fe(t,e){ho++,Nm[ho]=t.current,t.current=e}var Mi={},Gt=Hi(Mi),hn=Hi(!1),Ts=Mi;function Fo(t,e){var n=t.type.contextTypes;if(!n)return Mi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function fn(t){return t=t.childContextTypes,t!=null}function rd(){We(hn),We(Gt)}function L0(t,e,n){if(Gt.current!==Mi)throw Error(z(168));Fe(Gt,e),Fe(hn,n)}function XE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,uR(t)||"Unknown",i));return tt({},n,r)}function id(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mi,Ts=Gt.current,Fe(Gt,t),Fe(hn,hn.current),!0}function N0(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=XE(t,e,Ts),r.__reactInternalMemoizedMergedChildContext=t,We(hn),We(Gt),Fe(Gt,t)):We(hn),Fe(hn,n)}var jr=null,oh=!1,Zf=!1;function JE(t){jr===null?jr=[t]:jr.push(t)}function IA(t){oh=!0,JE(t)}function qi(){if(!Zf&&jr!==null){Zf=!0;var t=0,e=De;try{var n=jr;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}jr=null,oh=!1}catch(i){throw jr!==null&&(jr=jr.slice(t+1)),CE(oy,qi),i}finally{De=e,Zf=!1}}return null}var fo=[],po=0,sd=null,od=0,Ln=[],Nn=0,ks=null,$r=1,Ur="";function es(t,e){fo[po++]=od,fo[po++]=sd,sd=t,od=e}function ZE(t,e,n){Ln[Nn++]=$r,Ln[Nn++]=Ur,Ln[Nn++]=ks,ks=t;var r=$r;t=Ur;var i=32-tr(r)-1;r&=~(1<<i),n+=1;var s=32-tr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$r=1<<32-tr(e)+i|n<<i|r,Ur=s+t}else $r=1<<s|n<<i|r,Ur=t}function my(t){t.return!==null&&(es(t,1),ZE(t,1,0))}function gy(t){for(;t===sd;)sd=fo[--po],fo[po]=null,od=fo[--po],fo[po]=null;for(;t===ks;)ks=Ln[--Nn],Ln[Nn]=null,Ur=Ln[--Nn],Ln[Nn]=null,$r=Ln[--Nn],Ln[Nn]=null}var _n=null,vn=null,Qe=!1,Xn=null;function eC(t,e){var n=On(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function O0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_n=t,vn=ki(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_n=t,vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ks!==null?{id:$r,overflow:Ur}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=On(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_n=t,vn=null,!0):!1;default:return!1}}function Om(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dm(t){if(Qe){var e=vn;if(e){var n=e;if(!O0(t,e)){if(Om(t))throw Error(z(418));e=ki(n.nextSibling);var r=_n;e&&O0(t,e)?eC(r,n):(t.flags=t.flags&-4097|2,Qe=!1,_n=t)}}else{if(Om(t))throw Error(z(418));t.flags=t.flags&-4097|2,Qe=!1,_n=t}}}function D0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_n=t}function tc(t){if(t!==_n)return!1;if(!Qe)return D0(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Am(t.type,t.memoizedProps)),e&&(e=vn)){if(Om(t))throw tC(),Error(z(418));for(;e;)eC(t,e),e=ki(e.nextSibling)}if(D0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vn=ki(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vn=null}}else vn=_n?ki(t.stateNode.nextSibling):null;return!0}function tC(){for(var t=vn;t;)t=ki(t.nextSibling)}function Vo(){vn=_n=null,Qe=!1}function yy(t){Xn===null?Xn=[t]:Xn.push(t)}var xA=ii.ReactCurrentBatchConfig;function Qn(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ad=Hi(null),ld=null,mo=null,vy=null;function wy(){vy=mo=ld=null}function _y(t){var e=ad.current;We(ad),t._currentValue=e}function jm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xo(t,e){ld=t,vy=mo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dn=!0),t.firstContext=null)}function Un(t){var e=t._currentValue;if(vy!==t)if(t={context:t,memoizedValue:e,next:null},mo===null){if(ld===null)throw Error(z(308));mo=t,ld.dependencies={lanes:0,firstContext:t}}else mo=mo.next=t;return e}var os=null;function Sy(t){os===null?os=[t]:os.push(t)}function nC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Sy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qr(t,r)}function Qr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hi=!1;function Ey(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Br(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ii(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qr(t,n)}return i=r.interleaved,i===null?(e.next=e,Sy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qr(t,n)}function kc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ay(t,n)}}function j0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ud(t,e,n,r){var i=t.updateQueue;hi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,m=a;switch(h=e,p=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){d=v.call(p,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,h=typeof v=="function"?v.call(p,d,h):v,h==null)break e;d=tt({},d,h);break e;case 2:hi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);xs|=o,t.lanes=o,t.memoizedState=d}}function M0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var iC=new nE.Component().refs;function Mm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ah={isMounted:function(t){return(t=t._reactInternals)?Us(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rn(),i=bi(t),s=Br(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ii(t,s,i),e!==null&&(nr(e,t,i,r),kc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rn(),i=bi(t),s=Br(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ii(t,s,i),e!==null&&(nr(e,t,i,r),kc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rn(),r=bi(t),i=Br(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ii(t,i,r),e!==null&&(nr(e,t,r,n),kc(e,t,r))}};function $0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Il(n,r)||!Il(i,s):!0}function sC(t,e,n){var r=!1,i=Mi,s=e.contextType;return typeof s=="object"&&s!==null?s=Un(s):(i=fn(e)?Ts:Gt.current,r=e.contextTypes,s=(r=r!=null)?Fo(t,i):Mi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ah,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function U0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ah.enqueueReplaceState(e,e.state,null)}function $m(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=iC,Ey(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Un(s):(s=fn(e)?Ts:Gt.current,i.context=Fo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Mm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ah.enqueueReplaceState(i,i.state,null),ud(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ba(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===iC&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function nc(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function F0(t){var e=t._init;return e(t._payload)}function oC(t){function e(y,g){if(t){var w=y.deletions;w===null?(y.deletions=[g],y.flags|=16):w.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=Ri(y,g),y.index=0,y.sibling=null,y}function s(y,g,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<g?(y.flags|=2,g):w):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,g,w,_){return g===null||g.tag!==6?(g=op(w,y.mode,_),g.return=y,g):(g=i(g,w),g.return=y,g)}function l(y,g,w,_){var E=w.type;return E===oo?c(y,g,w.props.children,_,w.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===di&&F0(E)===g.type)?(_=i(g,w.props),_.ref=ba(y,g,w),_.return=y,_):(_=Pc(w.type,w.key,w.props,null,y.mode,_),_.ref=ba(y,g,w),_.return=y,_)}function u(y,g,w,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=ap(w,y.mode,_),g.return=y,g):(g=i(g,w.children||[]),g.return=y,g)}function c(y,g,w,_,E){return g===null||g.tag!==7?(g=ys(w,y.mode,_,E),g.return=y,g):(g=i(g,w),g.return=y,g)}function d(y,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=op(""+g,y.mode,w),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case qu:return w=Pc(g.type,g.key,g.props,null,y.mode,w),w.ref=ba(y,null,g),w.return=y,w;case so:return g=ap(g,y.mode,w),g.return=y,g;case di:var _=g._init;return d(y,_(g._payload),w)}if(za(g)||Ca(g))return g=ys(g,y.mode,w,null),g.return=y,g;nc(y,g)}return null}function h(y,g,w,_){var E=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:a(y,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qu:return w.key===E?l(y,g,w,_):null;case so:return w.key===E?u(y,g,w,_):null;case di:return E=w._init,h(y,g,E(w._payload),_)}if(za(w)||Ca(w))return E!==null?null:c(y,g,w,_,null);nc(y,w)}return null}function p(y,g,w,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(w)||null,a(g,y,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case qu:return y=y.get(_.key===null?w:_.key)||null,l(g,y,_,E);case so:return y=y.get(_.key===null?w:_.key)||null,u(g,y,_,E);case di:var k=_._init;return p(y,g,w,k(_._payload),E)}if(za(_)||Ca(_))return y=y.get(w)||null,c(g,y,_,E,null);nc(g,_)}return null}function v(y,g,w,_){for(var E=null,k=null,I=g,N=g=0,R=null;I!==null&&N<w.length;N++){I.index>N?(R=I,I=null):R=I.sibling;var D=h(y,I,w[N],_);if(D===null){I===null&&(I=R);break}t&&I&&D.alternate===null&&e(y,I),g=s(D,g,N),k===null?E=D:k.sibling=D,k=D,I=R}if(N===w.length)return n(y,I),Qe&&es(y,N),E;if(I===null){for(;N<w.length;N++)I=d(y,w[N],_),I!==null&&(g=s(I,g,N),k===null?E=I:k.sibling=I,k=I);return Qe&&es(y,N),E}for(I=r(y,I);N<w.length;N++)R=p(I,y,N,w[N],_),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?N:R.key),g=s(R,g,N),k===null?E=R:k.sibling=R,k=R);return t&&I.forEach(function(K){return e(y,K)}),Qe&&es(y,N),E}function m(y,g,w,_){var E=Ca(w);if(typeof E!="function")throw Error(z(150));if(w=E.call(w),w==null)throw Error(z(151));for(var k=E=null,I=g,N=g=0,R=null,D=w.next();I!==null&&!D.done;N++,D=w.next()){I.index>N?(R=I,I=null):R=I.sibling;var K=h(y,I,D.value,_);if(K===null){I===null&&(I=R);break}t&&I&&K.alternate===null&&e(y,I),g=s(K,g,N),k===null?E=K:k.sibling=K,k=K,I=R}if(D.done)return n(y,I),Qe&&es(y,N),E;if(I===null){for(;!D.done;N++,D=w.next())D=d(y,D.value,_),D!==null&&(g=s(D,g,N),k===null?E=D:k.sibling=D,k=D);return Qe&&es(y,N),E}for(I=r(y,I);!D.done;N++,D=w.next())D=p(I,y,N,D.value,_),D!==null&&(t&&D.alternate!==null&&I.delete(D.key===null?N:D.key),g=s(D,g,N),k===null?E=D:k.sibling=D,k=D);return t&&I.forEach(function($){return e(y,$)}),Qe&&es(y,N),E}function S(y,g,w,_){if(typeof w=="object"&&w!==null&&w.type===oo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case qu:e:{for(var E=w.key,k=g;k!==null;){if(k.key===E){if(E=w.type,E===oo){if(k.tag===7){n(y,k.sibling),g=i(k,w.props.children),g.return=y,y=g;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===di&&F0(E)===k.type){n(y,k.sibling),g=i(k,w.props),g.ref=ba(y,k,w),g.return=y,y=g;break e}n(y,k);break}else e(y,k);k=k.sibling}w.type===oo?(g=ys(w.props.children,y.mode,_,w.key),g.return=y,y=g):(_=Pc(w.type,w.key,w.props,null,y.mode,_),_.ref=ba(y,g,w),_.return=y,y=_)}return o(y);case so:e:{for(k=w.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(y,g.sibling),g=i(g,w.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=ap(w,y.mode,_),g.return=y,y=g}return o(y);case di:return k=w._init,S(y,g,k(w._payload),_)}if(za(w))return v(y,g,w,_);if(Ca(w))return m(y,g,w,_);nc(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(y,g.sibling),g=i(g,w),g.return=y,y=g):(n(y,g),g=op(w,y.mode,_),g.return=y,y=g),o(y)):n(y,g)}return S}var zo=oC(!0),aC=oC(!1),uu={},wr=Hi(uu),Al=Hi(uu),Pl=Hi(uu);function as(t){if(t===uu)throw Error(z(174));return t}function Cy(t,e){switch(Fe(Pl,e),Fe(Al,t),Fe(wr,uu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gm(e,t)}We(wr),Fe(wr,e)}function Bo(){We(wr),We(Al),We(Pl)}function lC(t){as(Pl.current);var e=as(wr.current),n=gm(e,t.type);e!==n&&(Fe(Al,t),Fe(wr,n))}function Ty(t){Al.current===t&&(We(wr),We(Al))}var Ze=Hi(0);function cd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ep=[];function ky(){for(var t=0;t<ep.length;t++)ep[t]._workInProgressVersionPrimary=null;ep.length=0}var Ic=ii.ReactCurrentDispatcher,tp=ii.ReactCurrentBatchConfig,Is=0,et=null,yt=null,kt=null,dd=!1,rl=!1,Ll=0,bA=0;function $t(){throw Error(z(321))}function Iy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ir(t[n],e[n]))return!1;return!0}function xy(t,e,n,r,i,s){if(Is=s,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ic.current=t===null||t.memoizedState===null?LA:NA,t=n(r,i),rl){s=0;do{if(rl=!1,Ll=0,25<=s)throw Error(z(301));s+=1,kt=yt=null,e.updateQueue=null,Ic.current=OA,t=n(r,i)}while(rl)}if(Ic.current=hd,e=yt!==null&&yt.next!==null,Is=0,kt=yt=et=null,dd=!1,e)throw Error(z(300));return t}function by(){var t=Ll!==0;return Ll=0,t}function dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?et.memoizedState=kt=t:kt=kt.next=t,kt}function Fn(){if(yt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=kt===null?et.memoizedState:kt.next;if(e!==null)kt=e,yt=t;else{if(t===null)throw Error(z(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},kt===null?et.memoizedState=kt=t:kt=kt.next=t}return kt}function Nl(t,e){return typeof e=="function"?e(t):e}function np(t){var e=Fn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=yt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Is&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,et.lanes|=c,xs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ir(r,e.memoizedState)||(dn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,et.lanes|=s,xs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rp(t){var e=Fn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ir(s,e.memoizedState)||(dn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function uC(){}function cC(t,e){var n=et,r=Fn(),i=e(),s=!ir(r.memoizedState,i);if(s&&(r.memoizedState=i,dn=!0),r=r.queue,Ry(fC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,Ol(9,hC.bind(null,n,r,i,e),void 0,null),It===null)throw Error(z(349));Is&30||dC(n,e,i)}return i}function dC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hC(t,e,n,r){e.value=n,e.getSnapshot=r,pC(e)&&mC(t)}function fC(t,e,n){return n(function(){pC(e)&&mC(t)})}function pC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ir(t,n)}catch{return!0}}function mC(t){var e=Qr(t,1);e!==null&&nr(e,t,1,-1)}function V0(t){var e=dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:t},e.queue=t,t=t.dispatch=PA.bind(null,et,t),[e.memoizedState,t]}function Ol(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gC(){return Fn().memoizedState}function xc(t,e,n,r){var i=dr();et.flags|=t,i.memoizedState=Ol(1|e,n,void 0,r===void 0?null:r)}function lh(t,e,n,r){var i=Fn();r=r===void 0?null:r;var s=void 0;if(yt!==null){var o=yt.memoizedState;if(s=o.destroy,r!==null&&Iy(r,o.deps)){i.memoizedState=Ol(e,n,s,r);return}}et.flags|=t,i.memoizedState=Ol(1|e,n,s,r)}function z0(t,e){return xc(8390656,8,t,e)}function Ry(t,e){return lh(2048,8,t,e)}function yC(t,e){return lh(4,2,t,e)}function vC(t,e){return lh(4,4,t,e)}function wC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _C(t,e,n){return n=n!=null?n.concat([t]):null,lh(4,4,wC.bind(null,e,t),n)}function Ay(){}function SC(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function EC(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function CC(t,e,n){return Is&21?(ir(n,e)||(n=IE(),et.lanes|=n,xs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dn=!0),t.memoizedState=n)}function RA(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=tp.transition;tp.transition={};try{t(!1),e()}finally{De=n,tp.transition=r}}function TC(){return Fn().memoizedState}function AA(t,e,n){var r=bi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kC(t))IC(e,n);else if(n=nC(t,e,n,r),n!==null){var i=rn();nr(n,t,r,i),xC(n,e,r)}}function PA(t,e,n){var r=bi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kC(t))IC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ir(a,o)){var l=e.interleaved;l===null?(i.next=i,Sy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=nC(t,e,i,r),n!==null&&(i=rn(),nr(n,t,r,i),xC(n,e,r))}}function kC(t){var e=t.alternate;return t===et||e!==null&&e===et}function IC(t,e){rl=dd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ay(t,n)}}var hd={readContext:Un,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},LA={readContext:Un,useCallback:function(t,e){return dr().memoizedState=[t,e===void 0?null:e],t},useContext:Un,useEffect:z0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xc(4194308,4,wC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xc(4194308,4,t,e)},useInsertionEffect:function(t,e){return xc(4,2,t,e)},useMemo:function(t,e){var n=dr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=AA.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=dr();return t={current:t},e.memoizedState=t},useState:V0,useDebugValue:Ay,useDeferredValue:function(t){return dr().memoizedState=t},useTransition:function(){var t=V0(!1),e=t[0];return t=RA.bind(null,t[1]),dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,i=dr();if(Qe){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),It===null)throw Error(z(349));Is&30||dC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,z0(fC.bind(null,r,s,t),[t]),r.flags|=2048,Ol(9,hC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=dr(),e=It.identifierPrefix;if(Qe){var n=Ur,r=$r;n=(r&~(1<<32-tr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ll++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=bA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},NA={readContext:Un,useCallback:SC,useContext:Un,useEffect:Ry,useImperativeHandle:_C,useInsertionEffect:yC,useLayoutEffect:vC,useMemo:EC,useReducer:np,useRef:gC,useState:function(){return np(Nl)},useDebugValue:Ay,useDeferredValue:function(t){var e=Fn();return CC(e,yt.memoizedState,t)},useTransition:function(){var t=np(Nl)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:uC,useSyncExternalStore:cC,useId:TC,unstable_isNewReconciler:!1},OA={readContext:Un,useCallback:SC,useContext:Un,useEffect:Ry,useImperativeHandle:_C,useInsertionEffect:yC,useLayoutEffect:vC,useMemo:EC,useReducer:rp,useRef:gC,useState:function(){return rp(Nl)},useDebugValue:Ay,useDeferredValue:function(t){var e=Fn();return yt===null?e.memoizedState=t:CC(e,yt.memoizedState,t)},useTransition:function(){var t=rp(Nl)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:uC,useSyncExternalStore:cC,useId:TC,unstable_isNewReconciler:!1};function Ho(t,e){try{var n="",r=e;do n+=lR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ip(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Um(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DA=typeof WeakMap=="function"?WeakMap:Map;function bC(t,e,n){n=Br(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){pd||(pd=!0,Qm=r),Um(t,e)},n}function RC(t,e,n){n=Br(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Um(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Um(t,e),typeof r!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function B0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=QA.bind(null,t,e,n),e.then(t,t))}function H0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function q0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Br(-1,1),e.tag=2,Ii(n,e,1))),n.lanes|=1),t)}var jA=ii.ReactCurrentOwner,dn=!1;function en(t,e,n,r){e.child=t===null?aC(e,null,n,r):zo(e,t.child,n,r)}function W0(t,e,n,r,i){n=n.render;var s=e.ref;return xo(e,i),r=xy(t,e,n,r,s,i),n=by(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yr(t,e,i)):(Qe&&n&&my(e),e.flags|=1,en(t,e,r,i),e.child)}function K0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!$y(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,AC(t,e,s,r,i)):(t=Pc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Il,n(o,r)&&t.ref===e.ref)return Yr(t,e,i)}return e.flags|=1,t=Ri(s,r),t.ref=e.ref,t.return=e,e.child=t}function AC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Il(s,r)&&t.ref===e.ref)if(dn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(dn=!0);else return e.lanes=t.lanes,Yr(t,e,i)}return Fm(t,e,n,r,i)}function PC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(yo,yn),yn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(yo,yn),yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Fe(yo,yn),yn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Fe(yo,yn),yn|=r;return en(t,e,i,n),e.child}function LC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fm(t,e,n,r,i){var s=fn(n)?Ts:Gt.current;return s=Fo(e,s),xo(e,i),n=xy(t,e,n,r,s,i),r=by(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yr(t,e,i)):(Qe&&r&&my(e),e.flags|=1,en(t,e,n,i),e.child)}function G0(t,e,n,r,i){if(fn(n)){var s=!0;id(e)}else s=!1;if(xo(e,i),e.stateNode===null)bc(t,e),sC(e,n,r),$m(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Un(u):(u=fn(n)?Ts:Gt.current,u=Fo(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&U0(e,o,r,u),hi=!1;var h=e.memoizedState;o.state=h,ud(e,r,o,i),l=e.memoizedState,a!==r||h!==l||hn.current||hi?(typeof c=="function"&&(Mm(e,n,c,r),l=e.memoizedState),(a=hi||$0(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,rC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Qn(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Un(l):(l=fn(n)?Ts:Gt.current,l=Fo(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&U0(e,o,r,l),hi=!1,h=e.memoizedState,o.state=h,ud(e,r,o,i);var v=e.memoizedState;a!==d||h!==v||hn.current||hi?(typeof p=="function"&&(Mm(e,n,p,r),v=e.memoizedState),(u=hi||$0(e,n,u,r,h,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Vm(t,e,n,r,s,i)}function Vm(t,e,n,r,i,s){LC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&N0(e,n,!1),Yr(t,e,s);r=e.stateNode,jA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=zo(e,t.child,null,s),e.child=zo(e,null,a,s)):en(t,e,a,s),e.memoizedState=r.state,i&&N0(e,n,!0),e.child}function NC(t){var e=t.stateNode;e.pendingContext?L0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&L0(t,e.context,!1),Cy(t,e.containerInfo)}function Q0(t,e,n,r,i){return Vo(),yy(i),e.flags|=256,en(t,e,n,r),e.child}var zm={dehydrated:null,treeContext:null,retryLane:0};function Bm(t){return{baseLanes:t,cachePool:null,transitions:null}}function OC(t,e,n){var r=e.pendingProps,i=Ze.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Fe(Ze,i&1),t===null)return Dm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=dh(o,r,0,null),t=ys(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Bm(n),e.memoizedState=zm,t):Py(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return MA(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ri(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ri(a,s):(s=ys(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Bm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=zm,r}return s=t.child,t=s.sibling,r=Ri(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Py(t,e){return e=dh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rc(t,e,n,r){return r!==null&&yy(r),zo(e,t.child,null,n),t=Py(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MA(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ip(Error(z(422))),rc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=dh({mode:"visible",children:r.children},i,0,null),s=ys(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&zo(e,t.child,null,o),e.child.memoizedState=Bm(o),e.memoizedState=zm,s);if(!(e.mode&1))return rc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=ip(s,r,void 0),rc(t,e,o,r)}if(a=(o&t.childLanes)!==0,dn||a){if(r=It,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qr(t,i),nr(r,t,i,-1))}return My(),r=ip(Error(z(421))),rc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=YA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,vn=ki(i.nextSibling),_n=e,Qe=!0,Xn=null,t!==null&&(Ln[Nn++]=$r,Ln[Nn++]=Ur,Ln[Nn++]=ks,$r=t.id,Ur=t.overflow,ks=e),e=Py(e,r.children),e.flags|=4096,e)}function Y0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),jm(t.return,e,n)}function sp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function DC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(en(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Y0(t,n,e);else if(t.tag===19)Y0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&cd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),sp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&cd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}sp(e,!0,n,null,s);break;case"together":sp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $A(t,e,n){switch(e.tag){case 3:NC(e),Vo();break;case 5:lC(e);break;case 1:fn(e.type)&&id(e);break;case 4:Cy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Fe(ad,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?OC(t,e,n):(Fe(Ze,Ze.current&1),t=Yr(t,e,n),t!==null?t.sibling:null);Fe(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return DC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,PC(t,e,n)}return Yr(t,e,n)}var jC,Hm,MC,$C;jC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hm=function(){};MC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,as(wr.current);var s=null;switch(n){case"input":i=hm(t,i),r=hm(t,r),s=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),s=[];break;case"textarea":i=mm(t,i),r=mm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=nd)}ym(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&He("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};$C=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ra(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function UA(t,e,n){var r=e.pendingProps;switch(gy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return fn(e.type)&&rd(),Ut(e),null;case 3:return r=e.stateNode,Bo(),We(hn),We(Gt),ky(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xn!==null&&(Jm(Xn),Xn=null))),Hm(t,e),Ut(e),null;case 5:Ty(e);var i=as(Pl.current);if(n=e.type,t!==null&&e.stateNode!=null)MC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Ut(e),null}if(t=as(wr.current),tc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[fr]=e,r[Rl]=s,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<Ha.length;i++)He(Ha[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":s0(r,s),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},He("invalid",r);break;case"textarea":a0(r,s),He("invalid",r)}ym(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ec(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ec(r.textContent,a,t),i=["children",""+a]):wl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":Wu(r),o0(r,s,!0);break;case"textarea":Wu(r),l0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=nd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[fr]=e,t[Rl]=r,jC(t,e,!1,!1),e.stateNode=t;e:{switch(o=vm(n,r),n){case"dialog":He("cancel",t),He("close",t),i=r;break;case"iframe":case"object":case"embed":He("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ha.length;i++)He(Ha[i],t);i=r;break;case"source":He("error",t),i=r;break;case"img":case"image":case"link":He("error",t),He("load",t),i=r;break;case"details":He("toggle",t),i=r;break;case"input":s0(t,r),i=hm(t,r),He("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),He("invalid",t);break;case"textarea":a0(t,r),i=mm(t,r),He("invalid",t);break;default:i=r}ym(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?pE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_l(t,l):typeof l=="number"&&_l(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&He("scroll",t):l!=null&&ty(t,s,l,o))}switch(n){case"input":Wu(t),o0(t,r,!1);break;case"textarea":Wu(t),l0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ji(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Co(t,!!r.multiple,s,!1):r.defaultValue!=null&&Co(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=nd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)$C(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=as(Pl.current),as(wr.current),tc(e)){if(r=e.stateNode,n=e.memoizedProps,r[fr]=e,(s=r.nodeValue!==n)&&(t=_n,t!==null))switch(t.tag){case 3:ec(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ec(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fr]=e,e.stateNode=r}return Ut(e),null;case 13:if(We(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&vn!==null&&e.mode&1&&!(e.flags&128))tC(),Vo(),e.flags|=98560,s=!1;else if(s=tc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[fr]=e}else Vo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),s=!1}else Xn!==null&&(Jm(Xn),Xn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?_t===0&&(_t=3):My())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return Bo(),Hm(t,e),t===null&&xl(e.stateNode.containerInfo),Ut(e),null;case 10:return _y(e.type._context),Ut(e),null;case 17:return fn(e.type)&&rd(),Ut(e),null;case 19:if(We(Ze),s=e.memoizedState,s===null)return Ut(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ra(s,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=cd(t),o!==null){for(e.flags|=128,Ra(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Ze,Ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&at()>qo&&(e.flags|=128,r=!0,Ra(s,!1),e.lanes=4194304)}else{if(!r)if(t=cd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ra(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Qe)return Ut(e),null}else 2*at()-s.renderingStartTime>qo&&n!==1073741824&&(e.flags|=128,r=!0,Ra(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=at(),e.sibling=null,n=Ze.current,Fe(Ze,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return jy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function FA(t,e){switch(gy(e),e.tag){case 1:return fn(e.type)&&rd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bo(),We(hn),We(Gt),ky(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ty(e),null;case 13:if(We(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Vo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Ze),null;case 4:return Bo(),null;case 10:return _y(e.type._context),null;case 22:case 23:return jy(),null;case 24:return null;default:return null}}var ic=!1,Bt=!1,VA=typeof WeakSet=="function"?WeakSet:Set,Y=null;function go(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function qm(t,e,n){try{n()}catch(r){rt(t,e,r)}}var X0=!1;function zA(t,e){if(bm=Zc,t=zE(),py(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rm={focusedElem:t,selectionRange:n},Zc=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,S=v.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:Qn(e.type,m),S);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(_){rt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return v=X0,X0=!1,v}function il(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&qm(e,n,s)}i=i.next}while(i!==r)}}function uh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Wm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function UC(t){var e=t.alternate;e!==null&&(t.alternate=null,UC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fr],delete e[Rl],delete e[Lm],delete e[TA],delete e[kA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function FC(t){return t.tag===5||t.tag===3||t.tag===4}function J0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||FC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Km(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=nd));else if(r!==4&&(t=t.child,t!==null))for(Km(t,e,n),t=t.sibling;t!==null;)Km(t,e,n),t=t.sibling}function Gm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Gm(t,e,n),t=t.sibling;t!==null;)Gm(t,e,n),t=t.sibling}var At=null,Yn=!1;function ui(t,e,n){for(n=n.child;n!==null;)VC(t,e,n),n=n.sibling}function VC(t,e,n){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(th,n)}catch{}switch(n.tag){case 5:Bt||go(n,e);case 6:var r=At,i=Yn;At=null,ui(t,e,n),At=r,Yn=i,At!==null&&(Yn?(t=At,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(Yn?(t=At,n=n.stateNode,t.nodeType===8?Jf(t.parentNode,n):t.nodeType===1&&Jf(t,n),Tl(t)):Jf(At,n.stateNode));break;case 4:r=At,i=Yn,At=n.stateNode.containerInfo,Yn=!0,ui(t,e,n),At=r,Yn=i;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&qm(n,e,o),i=i.next}while(i!==r)}ui(t,e,n);break;case 1:if(!Bt&&(go(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,e,a)}ui(t,e,n);break;case 21:ui(t,e,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,ui(t,e,n),Bt=r):ui(t,e,n);break;default:ui(t,e,n)}}function Z0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new VA),e.forEach(function(r){var i=XA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:At=a.stateNode,Yn=!1;break e;case 3:At=a.stateNode.containerInfo,Yn=!0;break e;case 4:At=a.stateNode.containerInfo,Yn=!0;break e}a=a.return}if(At===null)throw Error(z(160));VC(s,o,i),At=null,Yn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){rt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zC(e,t),e=e.sibling}function zC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kn(e,t),cr(t),r&4){try{il(3,t,t.return),uh(3,t)}catch(m){rt(t,t.return,m)}try{il(5,t,t.return)}catch(m){rt(t,t.return,m)}}break;case 1:Kn(e,t),cr(t),r&512&&n!==null&&go(n,n.return);break;case 5:if(Kn(e,t),cr(t),r&512&&n!==null&&go(n,n.return),t.flags&32){var i=t.stateNode;try{_l(i,"")}catch(m){rt(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&uE(i,s),vm(a,o);var u=vm(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?pE(i,d):c==="dangerouslySetInnerHTML"?hE(i,d):c==="children"?_l(i,d):ty(i,c,d,u)}switch(a){case"input":fm(i,s);break;case"textarea":cE(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Co(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Co(i,!!s.multiple,s.defaultValue,!0):Co(i,!!s.multiple,s.multiple?[]:"",!1))}i[Rl]=s}catch(m){rt(t,t.return,m)}}break;case 6:if(Kn(e,t),cr(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){rt(t,t.return,m)}}break;case 3:if(Kn(e,t),cr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tl(e.containerInfo)}catch(m){rt(t,t.return,m)}break;case 4:Kn(e,t),cr(t);break;case 13:Kn(e,t),cr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Oy=at())),r&4&&Z0(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(u=Bt)||c,Kn(e,t),Bt=u):Kn(e,t),cr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Y=t,c=t.child;c!==null;){for(d=Y=c;Y!==null;){switch(h=Y,p=h.child,h.tag){case 0:case 11:case 14:case 15:il(4,h,h.return);break;case 1:go(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){rt(r,n,m)}}break;case 5:go(h,h.return);break;case 22:if(h.memoizedState!==null){tw(d);continue}}p!==null?(p.return=h,Y=p):tw(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=fE("display",o))}catch(m){rt(t,t.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){rt(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Kn(e,t),cr(t),r&4&&Z0(t);break;case 21:break;default:Kn(e,t),cr(t)}}function cr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(FC(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_l(i,""),r.flags&=-33);var s=J0(t);Gm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=J0(t);Km(t,a,o);break;default:throw Error(z(161))}}catch(l){rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BA(t,e,n){Y=t,BC(t)}function BC(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ic;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Bt;a=ic;var u=Bt;if(ic=o,(Bt=l)&&!u)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?nw(i):l!==null?(l.return=o,Y=l):nw(i);for(;s!==null;)Y=s,BC(s),s=s.sibling;Y=i,ic=a,Bt=u}ew(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):ew(t)}}function ew(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||uh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Qn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&M0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}M0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Tl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Bt||e.flags&512&&Wm(e)}catch(h){rt(e,e.return,h)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function tw(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function nw(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{uh(4,e)}catch(l){rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){rt(e,i,l)}}var s=e.return;try{Wm(e)}catch(l){rt(e,s,l)}break;case 5:var o=e.return;try{Wm(e)}catch(l){rt(e,o,l)}}}catch(l){rt(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var HA=Math.ceil,fd=ii.ReactCurrentDispatcher,Ly=ii.ReactCurrentOwner,Dn=ii.ReactCurrentBatchConfig,be=0,It=null,ht=null,Lt=0,yn=0,yo=Hi(0),_t=0,Dl=null,xs=0,ch=0,Ny=0,sl=null,un=null,Oy=0,qo=1/0,Nr=null,pd=!1,Qm=null,xi=null,sc=!1,Si=null,md=0,ol=0,Ym=null,Rc=-1,Ac=0;function rn(){return be&6?at():Rc!==-1?Rc:Rc=at()}function bi(t){return t.mode&1?be&2&&Lt!==0?Lt&-Lt:xA.transition!==null?(Ac===0&&(Ac=IE()),Ac):(t=De,t!==0||(t=window.event,t=t===void 0?16:NE(t.type)),t):1}function nr(t,e,n,r){if(50<ol)throw ol=0,Ym=null,Error(z(185));ou(t,n,r),(!(be&2)||t!==It)&&(t===It&&(!(be&2)&&(ch|=n),_t===4&&pi(t,Lt)),pn(t,r),n===1&&be===0&&!(e.mode&1)&&(qo=at()+500,oh&&qi()))}function pn(t,e){var n=t.callbackNode;xR(t,e);var r=Jc(t,t===It?Lt:0);if(r===0)n!==null&&d0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&d0(n),e===1)t.tag===0?IA(rw.bind(null,t)):JE(rw.bind(null,t)),EA(function(){!(be&6)&&qi()}),n=null;else{switch(xE(r)){case 1:n=oy;break;case 4:n=TE;break;case 16:n=Xc;break;case 536870912:n=kE;break;default:n=Xc}n=XC(n,HC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function HC(t,e){if(Rc=-1,Ac=0,be&6)throw Error(z(327));var n=t.callbackNode;if(bo()&&t.callbackNode!==n)return null;var r=Jc(t,t===It?Lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gd(t,r);else{e=r;var i=be;be|=2;var s=WC();(It!==t||Lt!==e)&&(Nr=null,qo=at()+500,gs(t,e));do try{KA();break}catch(a){qC(t,a)}while(1);wy(),fd.current=s,be=i,ht!==null?e=0:(It=null,Lt=0,e=_t)}if(e!==0){if(e===2&&(i=Cm(t),i!==0&&(r=i,e=Xm(t,i))),e===1)throw n=Dl,gs(t,0),pi(t,r),pn(t,at()),n;if(e===6)pi(t,r);else{if(i=t.current.alternate,!(r&30)&&!qA(i)&&(e=gd(t,r),e===2&&(s=Cm(t),s!==0&&(r=s,e=Xm(t,s))),e===1))throw n=Dl,gs(t,0),pi(t,r),pn(t,at()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:ts(t,un,Nr);break;case 3:if(pi(t,r),(r&130023424)===r&&(e=Oy+500-at(),10<e)){if(Jc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){rn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Pm(ts.bind(null,t,un,Nr),e);break}ts(t,un,Nr);break;case 4:if(pi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-tr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*HA(r/1960))-r,10<r){t.timeoutHandle=Pm(ts.bind(null,t,un,Nr),r);break}ts(t,un,Nr);break;case 5:ts(t,un,Nr);break;default:throw Error(z(329))}}}return pn(t,at()),t.callbackNode===n?HC.bind(null,t):null}function Xm(t,e){var n=sl;return t.current.memoizedState.isDehydrated&&(gs(t,e).flags|=256),t=gd(t,e),t!==2&&(e=un,un=n,e!==null&&Jm(e)),t}function Jm(t){un===null?un=t:un.push.apply(un,t)}function qA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ir(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pi(t,e){for(e&=~Ny,e&=~ch,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tr(e),r=1<<n;t[n]=-1,e&=~r}}function rw(t){if(be&6)throw Error(z(327));bo();var e=Jc(t,0);if(!(e&1))return pn(t,at()),null;var n=gd(t,e);if(t.tag!==0&&n===2){var r=Cm(t);r!==0&&(e=r,n=Xm(t,r))}if(n===1)throw n=Dl,gs(t,0),pi(t,e),pn(t,at()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ts(t,un,Nr),pn(t,at()),null}function Dy(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(qo=at()+500,oh&&qi())}}function bs(t){Si!==null&&Si.tag===0&&!(be&6)&&bo();var e=be;be|=1;var n=Dn.transition,r=De;try{if(Dn.transition=null,De=1,t)return t()}finally{De=r,Dn.transition=n,be=e,!(be&6)&&qi()}}function jy(){yn=yo.current,We(yo)}function gs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,SA(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(gy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rd();break;case 3:Bo(),We(hn),We(Gt),ky();break;case 5:Ty(r);break;case 4:Bo();break;case 13:We(Ze);break;case 19:We(Ze);break;case 10:_y(r.type._context);break;case 22:case 23:jy()}n=n.return}if(It=t,ht=t=Ri(t.current,null),Lt=yn=e,_t=0,Dl=null,Ny=ch=xs=0,un=sl=null,os!==null){for(e=0;e<os.length;e++)if(n=os[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}os=null}return t}function qC(t,e){do{var n=ht;try{if(wy(),Ic.current=hd,dd){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}dd=!1}if(Is=0,kt=yt=et=null,rl=!1,Ll=0,Ly.current=null,n===null||n.return===null){_t=1,Dl=e,ht=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Lt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=H0(o);if(p!==null){p.flags&=-257,q0(p,o,a,s,e),p.mode&1&&B0(s,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var m=new Set;m.add(l),e.updateQueue=m}else v.add(l);break e}else{if(!(e&1)){B0(s,u,e),My();break e}l=Error(z(426))}}else if(Qe&&a.mode&1){var S=H0(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),q0(S,o,a,s,e),yy(Ho(l,a));break e}}s=l=Ho(l,a),_t!==4&&(_t=2),sl===null?sl=[s]:sl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=bC(s,l,e);j0(s,y);break e;case 1:a=l;var g=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(xi===null||!xi.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=RC(s,a,e);j0(s,_);break e}}s=s.return}while(s!==null)}GC(n)}catch(E){e=E,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(1)}function WC(){var t=fd.current;return fd.current=hd,t===null?hd:t}function My(){(_t===0||_t===3||_t===2)&&(_t=4),It===null||!(xs&268435455)&&!(ch&268435455)||pi(It,Lt)}function gd(t,e){var n=be;be|=2;var r=WC();(It!==t||Lt!==e)&&(Nr=null,gs(t,e));do try{WA();break}catch(i){qC(t,i)}while(1);if(wy(),be=n,fd.current=r,ht!==null)throw Error(z(261));return It=null,Lt=0,_t}function WA(){for(;ht!==null;)KC(ht)}function KA(){for(;ht!==null&&!vR();)KC(ht)}function KC(t){var e=YC(t.alternate,t,yn);t.memoizedProps=t.pendingProps,e===null?GC(t):ht=e,Ly.current=null}function GC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=FA(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,ht=null;return}}else if(n=UA(n,e,yn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);_t===0&&(_t=5)}function ts(t,e,n){var r=De,i=Dn.transition;try{Dn.transition=null,De=1,GA(t,e,n,r)}finally{Dn.transition=i,De=r}return null}function GA(t,e,n,r){do bo();while(Si!==null);if(be&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(bR(t,s),t===It&&(ht=It=null,Lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sc||(sc=!0,XC(Xc,function(){return bo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Dn.transition,Dn.transition=null;var o=De;De=1;var a=be;be|=4,Ly.current=null,zA(t,n),zC(n,t),pA(Rm),Zc=!!bm,Rm=bm=null,t.current=n,BA(n),wR(),be=a,De=o,Dn.transition=s}else t.current=n;if(sc&&(sc=!1,Si=t,md=i),s=t.pendingLanes,s===0&&(xi=null),ER(n.stateNode),pn(t,at()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(pd)throw pd=!1,t=Qm,Qm=null,t;return md&1&&t.tag!==0&&bo(),s=t.pendingLanes,s&1?t===Ym?ol++:(ol=0,Ym=t):ol=0,qi(),null}function bo(){if(Si!==null){var t=xE(md),e=Dn.transition,n=De;try{if(Dn.transition=null,De=16>t?16:t,Si===null)var r=!1;else{if(t=Si,Si=null,md=0,be&6)throw Error(z(331));var i=be;for(be|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:il(8,c,s)}var d=c.child;if(d!==null)d.return=c,Y=d;else for(;Y!==null;){c=Y;var h=c.sibling,p=c.return;if(UC(c),c===u){Y=null;break}if(h!==null){h.return=p,Y=h;break}Y=p}}}var v=s.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var S=m.sibling;m.sibling=null,m=S}while(m!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:il(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Y=y;break e}Y=s.return}}var g=t.current;for(Y=g;Y!==null;){o=Y;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Y=w;else e:for(o=g;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:uh(9,a)}}catch(E){rt(a,a.return,E)}if(a===o){Y=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,Y=_;break e}Y=a.return}}if(be=i,qi(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(th,t)}catch{}r=!0}return r}finally{De=n,Dn.transition=e}}return!1}function iw(t,e,n){e=Ho(n,e),e=bC(t,e,1),t=Ii(t,e,1),e=rn(),t!==null&&(ou(t,1,e),pn(t,e))}function rt(t,e,n){if(t.tag===3)iw(t,t,n);else for(;e!==null;){if(e.tag===3){iw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xi===null||!xi.has(r))){t=Ho(n,t),t=RC(e,t,1),e=Ii(e,t,1),t=rn(),e!==null&&(ou(e,1,t),pn(e,t));break}}e=e.return}}function QA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rn(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(Lt&n)===n&&(_t===4||_t===3&&(Lt&130023424)===Lt&&500>at()-Oy?gs(t,0):Ny|=n),pn(t,e)}function QC(t,e){e===0&&(t.mode&1?(e=Qu,Qu<<=1,!(Qu&130023424)&&(Qu=4194304)):e=1);var n=rn();t=Qr(t,e),t!==null&&(ou(t,e,n),pn(t,n))}function YA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),QC(t,n)}function XA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),QC(t,n)}var YC;YC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||hn.current)dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dn=!1,$A(t,e,n);dn=!!(t.flags&131072)}else dn=!1,Qe&&e.flags&1048576&&ZE(e,od,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bc(t,e),t=e.pendingProps;var i=Fo(e,Gt.current);xo(e,n),i=xy(null,e,r,t,i,n);var s=by();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fn(r)?(s=!0,id(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ey(e),i.updater=ah,e.stateNode=i,i._reactInternals=e,$m(e,r,t,n),e=Vm(null,e,r,!0,s,n)):(e.tag=0,Qe&&s&&my(e),en(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ZA(r),t=Qn(r,t),i){case 0:e=Fm(null,e,r,t,n);break e;case 1:e=G0(null,e,r,t,n);break e;case 11:e=W0(null,e,r,t,n);break e;case 14:e=K0(null,e,r,Qn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),Fm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),G0(t,e,r,i,n);case 3:e:{if(NC(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,rC(t,e),ud(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ho(Error(z(423)),e),e=Q0(t,e,r,n,i);break e}else if(r!==i){i=Ho(Error(z(424)),e),e=Q0(t,e,r,n,i);break e}else for(vn=ki(e.stateNode.containerInfo.firstChild),_n=e,Qe=!0,Xn=null,n=aC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vo(),r===i){e=Yr(t,e,n);break e}en(t,e,r,n)}e=e.child}return e;case 5:return lC(e),t===null&&Dm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Am(r,i)?o=null:s!==null&&Am(r,s)&&(e.flags|=32),LC(t,e),en(t,e,o,n),e.child;case 6:return t===null&&Dm(e),null;case 13:return OC(t,e,n);case 4:return Cy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zo(e,null,r,n):en(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),W0(t,e,r,i,n);case 7:return en(t,e,e.pendingProps,n),e.child;case 8:return en(t,e,e.pendingProps.children,n),e.child;case 12:return en(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Fe(ad,r._currentValue),r._currentValue=o,s!==null)if(ir(s.value,o)){if(s.children===i.children&&!hn.current){e=Yr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Br(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),jm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),jm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}en(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xo(e,n),i=Un(i),r=r(i),e.flags|=1,en(t,e,r,n),e.child;case 14:return r=e.type,i=Qn(r,e.pendingProps),i=Qn(r.type,i),K0(t,e,r,i,n);case 15:return AC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),bc(t,e),e.tag=1,fn(r)?(t=!0,id(e)):t=!1,xo(e,n),sC(e,r,i),$m(e,r,i,n),Vm(null,e,r,!0,t,n);case 19:return DC(t,e,n);case 22:return PC(t,e,n)}throw Error(z(156,e.tag))};function XC(t,e){return CE(t,e)}function JA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,e,n,r){return new JA(t,e,n,r)}function $y(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ZA(t){if(typeof t=="function")return $y(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ry)return 11;if(t===iy)return 14}return 2}function Ri(t,e){var n=t.alternate;return n===null?(n=On(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")$y(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case oo:return ys(n.children,i,s,e);case ny:o=8,i|=8;break;case lm:return t=On(12,n,e,i|2),t.elementType=lm,t.lanes=s,t;case um:return t=On(13,n,e,i),t.elementType=um,t.lanes=s,t;case cm:return t=On(19,n,e,i),t.elementType=cm,t.lanes=s,t;case oE:return dh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case iE:o=10;break e;case sE:o=9;break e;case ry:o=11;break e;case iy:o=14;break e;case di:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=On(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ys(t,e,n,r){return t=On(7,t,r,e),t.lanes=n,t}function dh(t,e,n,r){return t=On(22,t,r,e),t.elementType=oE,t.lanes=n,t.stateNode={isHidden:!1},t}function op(t,e,n){return t=On(6,t,null,e),t.lanes=n,t}function ap(t,e,n){return e=On(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function eP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vf(0),this.expirationTimes=Vf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uy(t,e,n,r,i,s,o,a,l){return t=new eP(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=On(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ey(s),t}function tP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:so,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function JC(t){if(!t)return Mi;t=t._reactInternals;e:{if(Us(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(fn(n))return XE(t,n,e)}return e}function ZC(t,e,n,r,i,s,o,a,l){return t=Uy(n,r,!0,t,i,s,o,a,l),t.context=JC(null),n=t.current,r=rn(),i=bi(n),s=Br(r,i),s.callback=e??null,Ii(n,s,i),t.current.lanes=i,ou(t,i,r),pn(t,r),t}function hh(t,e,n,r){var i=e.current,s=rn(),o=bi(i);return n=JC(n),e.context===null?e.context=n:e.pendingContext=n,e=Br(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ii(i,e,o),t!==null&&(nr(t,i,o,s),kc(t,i,o)),o}function yd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Fy(t,e){sw(t,e),(t=t.alternate)&&sw(t,e)}function nP(){return null}var eT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vy(t){this._internalRoot=t}fh.prototype.render=Vy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));hh(t,e,null,null)};fh.prototype.unmount=Vy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bs(function(){hh(null,t,null,null)}),e[Gr]=null}};function fh(t){this._internalRoot=t}fh.prototype.unstable_scheduleHydration=function(t){if(t){var e=AE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fi.length&&e!==0&&e<fi[n].priority;n++);fi.splice(n,0,t),n===0&&LE(t)}};function zy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ph(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ow(){}function rP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=yd(o);s.call(u)}}var o=ZC(e,r,t,0,null,!1,!1,"",ow);return t._reactRootContainer=o,t[Gr]=o.current,xl(t.nodeType===8?t.parentNode:t),bs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=yd(l);a.call(u)}}var l=Uy(t,0,!1,null,null,!1,!1,"",ow);return t._reactRootContainer=l,t[Gr]=l.current,xl(t.nodeType===8?t.parentNode:t),bs(function(){hh(e,l,n,r)}),l}function mh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=yd(o);a.call(l)}}hh(e,o,t,i)}else o=rP(n,e,t,i,r);return yd(o)}bE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ba(e.pendingLanes);n!==0&&(ay(e,n|1),pn(e,at()),!(be&6)&&(qo=at()+500,qi()))}break;case 13:bs(function(){var r=Qr(t,1);if(r!==null){var i=rn();nr(r,t,1,i)}}),Fy(t,1)}};ly=function(t){if(t.tag===13){var e=Qr(t,134217728);if(e!==null){var n=rn();nr(e,t,134217728,n)}Fy(t,134217728)}};RE=function(t){if(t.tag===13){var e=bi(t),n=Qr(t,e);if(n!==null){var r=rn();nr(n,t,e,r)}Fy(t,e)}};AE=function(){return De};PE=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};_m=function(t,e,n){switch(e){case"input":if(fm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=sh(r);if(!i)throw Error(z(90));lE(r),fm(r,i)}}}break;case"textarea":cE(t,n);break;case"select":e=n.value,e!=null&&Co(t,!!n.multiple,e,!1)}};yE=Dy;vE=bs;var iP={usingClientEntryPoint:!1,Events:[lu,co,sh,mE,gE,Dy]},Aa={findFiberByHostInstance:ss,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},sP={bundleType:Aa.bundleType,version:Aa.version,rendererPackageName:Aa.rendererPackageName,rendererConfig:Aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=SE(t),t===null?null:t.stateNode},findFiberByHostInstance:Aa.findFiberByHostInstance||nP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{th=oc.inject(sP),vr=oc}catch{}}kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iP;kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zy(e))throw Error(z(200));return tP(t,e,null,n)};kn.createRoot=function(t,e){if(!zy(t))throw Error(z(299));var n=!1,r="",i=eT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Uy(t,1,!1,null,null,n,!1,r,i),t[Gr]=e.current,xl(t.nodeType===8?t.parentNode:t),new Vy(e)};kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=SE(e),t=t===null?null:t.stateNode,t};kn.flushSync=function(t){return bs(t)};kn.hydrate=function(t,e,n){if(!ph(e))throw Error(z(200));return mh(null,t,e,!0,n)};kn.hydrateRoot=function(t,e,n){if(!zy(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=eT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ZC(e,null,t,1,n??null,i,!1,s,o),t[Gr]=e.current,xl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new fh(e)};kn.render=function(t,e,n){if(!ph(e))throw Error(z(200));return mh(null,t,e,!1,n)};kn.unmountComponentAtNode=function(t){if(!ph(t))throw Error(z(40));return t._reactRootContainer?(bs(function(){mh(null,null,t,!1,function(){t._reactRootContainer=null,t[Gr]=null})}),!0):!1};kn.unstable_batchedUpdates=Dy;kn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ph(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return mh(t,e,n,!1,r)};kn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=kn})(nR);const oP=WS(vl);var tT,aw=vl;tT=aw.createRoot,aw.hydrateRoot;var Zm={},aP={get exports(){return Zm},set exports(t){Zm=t}},nT={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wo=T;function lP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uP=typeof Object.is=="function"?Object.is:lP,cP=Wo.useState,dP=Wo.useEffect,hP=Wo.useLayoutEffect,fP=Wo.useDebugValue;function pP(t,e){var n=e(),r=cP({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return hP(function(){i.value=n,i.getSnapshot=e,lp(i)&&s({inst:i})},[t,n,e]),dP(function(){return lp(i)&&s({inst:i}),t(function(){lp(i)&&s({inst:i})})},[t]),fP(n),n}function lp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!uP(t,n)}catch{return!0}}function mP(t,e){return e()}var gP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mP:pP;nT.useSyncExternalStore=Wo.useSyncExternalStore!==void 0?Wo.useSyncExternalStore:gP;(function(t){t.exports=nT})(aP);var eg={},yP={get exports(){return eg},set exports(t){eg=t}},rT={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gh=T,vP=Zm;function wP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _P=typeof Object.is=="function"?Object.is:wP,SP=vP.useSyncExternalStore,EP=gh.useRef,CP=gh.useEffect,TP=gh.useMemo,kP=gh.useDebugValue;rT.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=EP(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=TP(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var v=o.value;if(i(v,p))return d=v}return d=p}if(v=d,_P(c,p))return v;var m=r(p);return i!==void 0&&i(v,m)?v:(c=p,d=m)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=SP(t,s[0],s[1]);return CP(function(){o.hasValue=!0,o.value=a},[a]),kP(a),a};(function(t){t.exports=rT})(yP);function IP(t){t()}let iT=IP;const xP=t=>iT=t,bP=()=>iT,$i=T.createContext(null);function sT(){return T.useContext($i)}const RP=()=>{throw new Error("uSES not initialized!")};let oT=RP;const AP=t=>{oT=t},PP=(t,e)=>t===e;function LP(t=$i){const e=t===$i?sT:()=>T.useContext(t);return function(r,i=PP){const{store:s,subscription:o,getServerState:a}=e(),l=oT(o.addNestedSub,s.getState,a||s.getState,r,i);return T.useDebugValue(l),l}}const NP=LP();var tg={},OP={get exports(){return tg},set exports(t){tg=t}},je={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rt=typeof Symbol=="function"&&Symbol.for,By=Rt?Symbol.for("react.element"):60103,Hy=Rt?Symbol.for("react.portal"):60106,yh=Rt?Symbol.for("react.fragment"):60107,vh=Rt?Symbol.for("react.strict_mode"):60108,wh=Rt?Symbol.for("react.profiler"):60114,_h=Rt?Symbol.for("react.provider"):60109,Sh=Rt?Symbol.for("react.context"):60110,qy=Rt?Symbol.for("react.async_mode"):60111,Eh=Rt?Symbol.for("react.concurrent_mode"):60111,Ch=Rt?Symbol.for("react.forward_ref"):60112,Th=Rt?Symbol.for("react.suspense"):60113,DP=Rt?Symbol.for("react.suspense_list"):60120,kh=Rt?Symbol.for("react.memo"):60115,Ih=Rt?Symbol.for("react.lazy"):60116,jP=Rt?Symbol.for("react.block"):60121,MP=Rt?Symbol.for("react.fundamental"):60117,$P=Rt?Symbol.for("react.responder"):60118,UP=Rt?Symbol.for("react.scope"):60119;function xn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case By:switch(t=t.type,t){case qy:case Eh:case yh:case wh:case vh:case Th:return t;default:switch(t=t&&t.$$typeof,t){case Sh:case Ch:case Ih:case kh:case _h:return t;default:return e}}case Hy:return e}}}function aT(t){return xn(t)===Eh}je.AsyncMode=qy;je.ConcurrentMode=Eh;je.ContextConsumer=Sh;je.ContextProvider=_h;je.Element=By;je.ForwardRef=Ch;je.Fragment=yh;je.Lazy=Ih;je.Memo=kh;je.Portal=Hy;je.Profiler=wh;je.StrictMode=vh;je.Suspense=Th;je.isAsyncMode=function(t){return aT(t)||xn(t)===qy};je.isConcurrentMode=aT;je.isContextConsumer=function(t){return xn(t)===Sh};je.isContextProvider=function(t){return xn(t)===_h};je.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===By};je.isForwardRef=function(t){return xn(t)===Ch};je.isFragment=function(t){return xn(t)===yh};je.isLazy=function(t){return xn(t)===Ih};je.isMemo=function(t){return xn(t)===kh};je.isPortal=function(t){return xn(t)===Hy};je.isProfiler=function(t){return xn(t)===wh};je.isStrictMode=function(t){return xn(t)===vh};je.isSuspense=function(t){return xn(t)===Th};je.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===yh||t===Eh||t===wh||t===vh||t===Th||t===DP||typeof t=="object"&&t!==null&&(t.$$typeof===Ih||t.$$typeof===kh||t.$$typeof===_h||t.$$typeof===Sh||t.$$typeof===Ch||t.$$typeof===MP||t.$$typeof===$P||t.$$typeof===UP||t.$$typeof===jP)};je.typeOf=xn;(function(t){t.exports=je})(OP);var lT=tg,FP={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},VP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},uT={};uT[lT.ForwardRef]=FP;uT[lT.Memo]=VP;var lw={},zP={get exports(){return lw},set exports(t){lw=t}},Me={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy=Symbol.for("react.element"),Ky=Symbol.for("react.portal"),xh=Symbol.for("react.fragment"),bh=Symbol.for("react.strict_mode"),Rh=Symbol.for("react.profiler"),Ah=Symbol.for("react.provider"),Ph=Symbol.for("react.context"),BP=Symbol.for("react.server_context"),Lh=Symbol.for("react.forward_ref"),Nh=Symbol.for("react.suspense"),Oh=Symbol.for("react.suspense_list"),Dh=Symbol.for("react.memo"),jh=Symbol.for("react.lazy"),HP=Symbol.for("react.offscreen"),cT;cT=Symbol.for("react.module.reference");function Bn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Wy:switch(t=t.type,t){case xh:case Rh:case bh:case Nh:case Oh:return t;default:switch(t=t&&t.$$typeof,t){case BP:case Ph:case Lh:case jh:case Dh:case Ah:return t;default:return e}}case Ky:return e}}}Me.ContextConsumer=Ph;Me.ContextProvider=Ah;Me.Element=Wy;Me.ForwardRef=Lh;Me.Fragment=xh;Me.Lazy=jh;Me.Memo=Dh;Me.Portal=Ky;Me.Profiler=Rh;Me.StrictMode=bh;Me.Suspense=Nh;Me.SuspenseList=Oh;Me.isAsyncMode=function(){return!1};Me.isConcurrentMode=function(){return!1};Me.isContextConsumer=function(t){return Bn(t)===Ph};Me.isContextProvider=function(t){return Bn(t)===Ah};Me.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wy};Me.isForwardRef=function(t){return Bn(t)===Lh};Me.isFragment=function(t){return Bn(t)===xh};Me.isLazy=function(t){return Bn(t)===jh};Me.isMemo=function(t){return Bn(t)===Dh};Me.isPortal=function(t){return Bn(t)===Ky};Me.isProfiler=function(t){return Bn(t)===Rh};Me.isStrictMode=function(t){return Bn(t)===bh};Me.isSuspense=function(t){return Bn(t)===Nh};Me.isSuspenseList=function(t){return Bn(t)===Oh};Me.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===xh||t===Rh||t===bh||t===Nh||t===Oh||t===HP||typeof t=="object"&&t!==null&&(t.$$typeof===jh||t.$$typeof===Dh||t.$$typeof===Ah||t.$$typeof===Ph||t.$$typeof===Lh||t.$$typeof===cT||t.getModuleId!==void 0)};Me.typeOf=Bn;(function(t){t.exports=Me})(zP);function qP(){const t=bP();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const uw={notify(){},get:()=>[]};function WP(t,e){let n,r=uw;function i(d){return l(),r.subscribe(d)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=qP())}function u(){n&&(n(),n=void 0,r.clear(),r=uw)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const KP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GP=KP?T.useLayoutEffect:T.useEffect;function QP({store:t,context:e,children:n,serverState:r}){const i=T.useMemo(()=>{const a=WP(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),s=T.useMemo(()=>t.getState(),[t]);GP(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=e||$i;return Jn.createElement(o.Provider,{value:i},n)}function dT(t=$i){const e=t===$i?sT:()=>T.useContext(t);return function(){const{store:r}=e();return r}}const YP=dT();function XP(t=$i){const e=t===$i?YP:dT(t);return function(){return e().dispatch}}const JP=XP();AP(eg.useSyncExternalStoreWithSelector);xP(vl.unstable_batchedUpdates);function Lc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lc=function(n){return typeof n}:Lc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Lc(t)}function ZP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eL(t,e,n){return e&&cw(t.prototype,e),n&&cw(t,n),t}function tL(t,e){return e&&(Lc(e)==="object"||typeof e=="function")?e:Nc(t)}function ng(t){return ng=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ng(t)}function Nc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rg(t,e)}function rg(t,e){return rg=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},rg(t,e)}function Oc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hT=function(t){nL(e,t);function e(){var n,r;ZP(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=tL(this,(n=ng(e)).call.apply(n,[this].concat(s))),Oc(Nc(r),"state",{bootstrapped:!1}),Oc(Nc(r),"_unsubscribe",void 0),Oc(Nc(r),"handlePersistorState",function(){var a=r.props.persistor,l=a.getState(),u=l.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return eL(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(T.PureComponent);Oc(hT,"defaultProps",{children:null,loading:null});/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xe(){return xe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xe.apply(this,arguments)}var ot;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ot||(ot={}));const dw="popstate";function rL(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return jl("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xr(i)}return sL(e,n,null,t)}function _e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ko(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iL(){return Math.random().toString(36).substr(2,8)}function hw(t,e){return{usr:t.state,key:t.key,idx:e}}function jl(t,e,n,r){return n===void 0&&(n=null),xe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?si(e):e,{state:n,key:e&&e.key||r||iL()})}function Xr(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function si(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function sL(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ot.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(xe({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=ot.Pop;let S=c(),y=S==null?null:S-u;u=S,l&&l({action:a,location:m.location,delta:y})}function h(S,y){a=ot.Push;let g=jl(m.location,S,y);n&&n(g,S),u=c()+1;let w=hw(g,u),_=m.createHref(g);try{o.pushState(w,"",_)}catch{i.location.assign(_)}s&&l&&l({action:a,location:m.location,delta:1})}function p(S,y){a=ot.Replace;let g=jl(m.location,S,y);n&&n(g,S),u=c();let w=hw(g,u),_=m.createHref(g);o.replaceState(w,"",_),s&&l&&l({action:a,location:m.location,delta:0})}function v(S){let y=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof S=="string"?S:Xr(S);return _e(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let m={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(dw,d),l=S,()=>{i.removeEventListener(dw,d),l=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let y=v(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(S){return o.go(S)}};return m}var gt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(gt||(gt={}));const oL=new Set(["lazy","caseSensitive","path","id","index","children"]);function aL(t){return t.index===!0}function fT(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(_e(i.index!==!0||!i.children,"Cannot specify children on an index route"),_e(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),aL(i)){let l=xe({},i,{hasErrorBoundary:e(i),id:a});return r[a]=l,l}else{let l=xe({},i,{id:a,hasErrorBoundary:e(i),children:void 0});return r[a]=l,i.children&&(l.children=fT(i.children,e,o,r)),l}})}function vo(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?si(e):e,i=cu(r.pathname||"/",n);if(i==null)return null;let s=pT(t);lL(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=yL(s[a],_L(i));return o}function pT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(_e(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Hr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(_e(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),pT(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:mL(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of mT(s.path))i(s,o,l)}),e}function mT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=mT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function lL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uL=/^:\w+$/,cL=3,dL=2,hL=1,fL=10,pL=-2,fw=t=>t==="*";function mL(t,e){let n=t.split("/"),r=n.length;return n.some(fw)&&(r+=pL),e&&(r+=dL),n.filter(i=>!fw(i)).reduce((i,s)=>i+(uL.test(s)?cL:s===""?hL:fL),r)}function gL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function yL(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=vL({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:Hr([i,c.pathname]),pathnameBase:TL(Hr([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Hr([i,c.pathnameBase]))}return s}function vL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let h=a[d]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=SL(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function wL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ko(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function _L(t){try{return decodeURI(t)}catch(e){return Ko(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function SL(t,e){try{return decodeURIComponent(t)}catch(n){return Ko(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function cu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function EL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?si(t):t;return{pathname:n?n.startsWith("/")?n:CL(n,e):e,search:kL(r),hash:IL(i)}}function CL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function up(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mh(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=si(t):(i=xe({},t),_e(!i.pathname||!i.pathname.includes("?"),up("?","pathname","search",i)),_e(!i.pathname||!i.pathname.includes("#"),up("#","pathname","hash",i)),_e(!i.search||!i.search.includes("#"),up("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=EL(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Hr=t=>t.join("/").replace(/\/\/+/g,"/"),TL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class pw extends Error{}class xL{constructor(e,n){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],_e(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((s,o)=>r=o),this.controller=new AbortController;let i=()=>r(new pw("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(e).reduce((s,o)=>{let[a,l]=o;return Object.assign(s,{[a]:this.trackPromise(a,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=n}trackPromise(e,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,e,null,i),i=>this.onSettle(r,e,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,n,r,i){return this.controller.signal.aborted&&r instanceof pw?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r)):(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),r?(Object.defineProperty(e,"_error",{get:()=>r}),this.emit(!1,n),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>i}),this.emit(!1,n),i))}emit(e,n){this.subscribers.forEach(r=>r(e,n))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(e){let n=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(s=>{e.removeEventListener("abort",r),(s||this.done)&&i(s)})})}return n}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return _e(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,n)=>{let[r,i]=n;return Object.assign(e,{[r]:RL(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function bL(t){return t instanceof Promise&&t._tracked===!0}function RL(t){if(!bL(t))return t;if(t._error)throw t._error;return t._data}class Qy{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function wo(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const gT=["post","put","patch","delete"],AL=new Set(gT),PL=["get",...gT],LL=new Set(PL),NL=new Set([301,302,303,307,308]),OL=new Set([307,308]),cp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},DL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},mw={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},yT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jL=!vT,ML=t=>!!t.hasErrorBoundary;function $L(t){_e(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=t.detectErrorBoundary||ML,n={},r=fT(t.routes,e,void 0,n),i,s=null,o=new Set,a=null,l=null,u=null,c=t.hydrationData!=null,d=vo(r,t.history.location,t.basename),h=null;if(d==null){let A=hr(404,{pathname:t.history.location.pathname}),{matches:O,route:M}=Sw(r);d=O,h={[M.id]:A}}let p=!d.some(A=>A.route.lazy)&&(!d.some(A=>A.route.loader)||t.hydrationData!=null),v,m={historyAction:t.history.action,location:t.history.location,matches:d,initialized:p,navigation:cp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||h,fetchers:new Map,blockers:new Map},S=ot.Pop,y=!1,g,w=!1,_=!1,E=[],k=[],I=new Map,N=0,R=-1,D=new Map,K=new Set,$=new Map,U=new Map,le=new Map,Ie=!1;function $e(){if(s=t.history.listen(M=>{let{action:J,location:ee,delta:ue}=M;if(Ie){Ie=!1;return}Ko(le.size===0||ue!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=ve({currentLocation:m.location,nextLocation:ee,historyAction:J});if(ie&&ue!=null){Ie=!0,t.history.go(ue*-1),L(ie,{state:"blocked",location:ee,proceed(){L(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),t.history.go(ue)},reset(){P(ie),G({blockers:new Map(v.state.blockers)})}});return}return pt(J,ee)}),m.initialized)return v;let A=m.matches.filter(M=>M.route.lazy);if(A.length===0)return pt(ot.Pop,m.location),v;let O=A.map(M=>ig(M.route,e,n));return Promise.all(O).then(()=>{!m.matches.some(J=>J.route.loader)||t.hydrationData!=null?G({initialized:!0}):pt(ot.Pop,m.location)}),v}function lt(){s&&s(),o.clear(),g&&g.abort(),m.fetchers.forEach((A,O)=>de(O)),m.blockers.forEach((A,O)=>P(O))}function q(A){return o.add(A),()=>o.delete(A)}function G(A){m=xe({},m,A),o.forEach(O=>O(m))}function re(A,O){var M,J;let ee=m.actionData!=null&&m.navigation.formMethod!=null&&Or(m.navigation.formMethod)&&m.navigation.state==="loading"&&((M=A.state)==null?void 0:M._isRedirect)!==!0,ue;O.actionData?Object.keys(O.actionData).length>0?ue=O.actionData:ue=null:ee?ue=m.actionData:ue=null;let ie=O.loaderData?_w(m.loaderData,O.loaderData,O.matches||[],O.errors):m.loaderData;for(let[te]of le)P(te);let Se=y===!0||m.navigation.formMethod!=null&&Or(m.navigation.formMethod)&&((J=A.state)==null?void 0:J._isRedirect)!==!0;i&&(r=i,i=void 0),G(xe({},O,{actionData:ue,loaderData:ie,historyAction:S,location:A,initialized:!0,navigation:cp,revalidation:"idle",restoreScrollPosition:Qs(A,O.matches||m.matches),preventScrollReset:Se,blockers:new Map(m.blockers)})),w||S===ot.Pop||(S===ot.Push?t.history.push(A,A.state):S===ot.Replace&&t.history.replace(A,A.state)),S=ot.Pop,y=!1,w=!1,_=!1,E=[],k=[]}async function Re(A,O){if(typeof A=="number"){t.history.go(A);return}let{path:M,submission:J,error:ee}=gw(A,O),ue=m.location,ie=jl(m.location,M,O&&O.state);ie=xe({},ie,t.history.encodeLocation(ie));let Se=O&&O.replace!=null?O.replace:void 0,te=ot.Push;Se===!0?te=ot.Replace:Se===!1||J!=null&&Or(J.formMethod)&&J.formAction===m.location.pathname+m.location.search&&(te=ot.Replace);let jt=O&&"preventScrollReset"in O?O.preventScrollReset===!0:void 0,Ae=ve({currentLocation:ue,nextLocation:ie,historyAction:te});if(Ae){L(Ae,{state:"blocked",location:ie,proceed(){L(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:ie}),Re(A,O)},reset(){P(Ae),G({blockers:new Map(m.blockers)})}});return}return await pt(te,ie,{submission:J,pendingError:ee,preventScrollReset:jt,replace:O&&O.replace})}function Ue(){if(ge(),G({revalidation:"loading"}),m.navigation.state!=="submitting"){if(m.navigation.state==="idle"){pt(m.historyAction,m.location,{startUninterruptedRevalidation:!0});return}pt(S||m.historyAction,m.navigation.location,{overrideNavigation:m.navigation})}}async function pt(A,O,M){g&&g.abort(),g=null,S=A,w=(M&&M.startUninterruptedRevalidation)===!0,Sa(m.location,m.matches),y=(M&&M.preventScrollReset)===!0;let J=i||r,ee=M&&M.overrideNavigation,ue=vo(J,O,t.basename);if(!ue){let st=hr(404,{pathname:O.pathname}),{matches:lr,route:Wn}=Sw(J);Ee(),re(O,{matches:lr,loaderData:{},errors:{[Wn.id]:st}});return}if(BL(m.location,O)&&!(M&&M.submission&&Or(M.submission.formMethod))){re(O,{matches:ue});return}g=new AbortController;let ie=La(t.history,O,g.signal,M&&M.submission),Se,te;if(M&&M.pendingError)te={[_o(ue).route.id]:M.pendingError};else if(M&&M.submission&&Or(M.submission.formMethod)){let st=await Ct(ie,O,M.submission,ue,{replace:M.replace});if(st.shortCircuited)return;Se=st.pendingActionData,te=st.pendingActionError,ee=xe({state:"loading",location:O},M.submission),ie=new Request(ie.url,{signal:ie.signal})}let{shortCircuited:jt,loaderData:Ae,errors:Jt}=await qn(ie,O,ue,ee,M&&M.submission,M&&M.replace,Se,te);jt||(g=null,re(O,xe({matches:ue},Se?{actionData:Se}:{},{loaderData:Ae,errors:Jt})))}async function Ct(A,O,M,J,ee){ge();let ue=xe({state:"submitting",location:O},M);G({navigation:ue});let ie,Se=sg(J,O);if(!Se.route.action&&!Se.route.lazy)ie={type:gt.error,error:hr(405,{method:A.method,pathname:O.pathname,routeId:Se.route.id})};else if(ie=await Pa("action",A,Se,J,n,e,v.basename),A.signal.aborted)return{shortCircuited:!0};if(Ro(ie)){let te;return ee&&ee.replace!=null?te=ee.replace:te=ie.location===m.location.pathname+m.location.search,await V(m,ie,{submission:M,replace:te}),{shortCircuited:!0}}if(al(ie)){let te=_o(J,Se.route.id);return(ee&&ee.replace)!==!0&&(S=ot.Push),{pendingActionData:{},pendingActionError:{[te.route.id]:ie.error}}}if(ls(ie))throw hr(400,{type:"defer-action"});return{pendingActionData:{[Se.route.id]:ie.data}}}async function qn(A,O,M,J,ee,ue,ie,Se){let te=J;te||(te=xe({state:"loading",location:O,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ee));let jt=ee||(te.formMethod&&te.formAction&&te.formData&&te.formEncType?{formMethod:te.formMethod,formAction:te.formAction,formData:te.formData,formEncType:te.formEncType}:void 0),Ae=i||r,[Jt,st]=yw(t.history,m,M,jt,O,_,E,k,$,Ae,t.basename,ie,Se);if(Ee(Mt=>!(M&&M.some(ur=>ur.route.id===Mt))||Jt&&Jt.some(ur=>ur.route.id===Mt)),Jt.length===0&&st.length===0)return re(O,xe({matches:M,loaderData:{},errors:Se||null},ie?{actionData:ie}:{})),{shortCircuited:!0};if(!w){st.forEach(ur=>{let Xi=m.fetchers.get(ur.key),Bu={state:"loading",data:Xi&&Xi.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(ur.key,Bu)});let Mt=ie||m.actionData;G(xe({navigation:te},Mt?Object.keys(Mt).length===0?{actionData:null}:{actionData:Mt}:{},st.length>0?{fetchers:new Map(m.fetchers)}:{}))}R=++N,st.forEach(Mt=>I.set(Mt.key,g));let{results:lr,loaderResults:Wn,fetcherResults:Ea}=await Q(m.matches,M,Jt,st,A);if(A.signal.aborted)return{shortCircuited:!0};st.forEach(Mt=>I.delete(Mt.key));let Vu=Ew(lr);if(Vu)return await V(m,Vu,{replace:ue}),{shortCircuited:!0};let{loaderData:zu,errors:Ys}=ww(m,M,Jt,Wn,Se,st,Ea,U);U.forEach((Mt,ur)=>{Mt.subscribe(Xi=>{(Xi||Mt.done)&&U.delete(ur)})}),b();let Lf=j(R);return xe({loaderData:zu,errors:Ys},Lf||st.length>0?{fetchers:new Map(m.fetchers)}:{})}function Be(A){return m.fetchers.get(A)||DL}function mt(A,O,M,J){if(jL)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");I.has(A)&&C(A);let ue=vo(i||r,M,t.basename);if(!ue){ye(A,O,hr(404,{pathname:M}));return}let{path:ie,submission:Se}=gw(M,J,!0),te=sg(ue,ie);if(y=(J&&J.preventScrollReset)===!0,Se&&Or(Se.formMethod)){ai(A,O,ie,te,ue,Se);return}$.set(A,{routeId:O,path:ie}),li(A,O,ie,te,ue,Se)}async function ai(A,O,M,J,ee,ue){if(ge(),$.delete(A),!J.route.action&&!J.route.lazy){let Rr=hr(405,{method:ue.formMethod,pathname:M,routeId:O});ye(A,O,Rr);return}let ie=m.fetchers.get(A),Se=xe({state:"submitting"},ue,{data:ie&&ie.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(A,Se),G({fetchers:new Map(m.fetchers)});let te=new AbortController,jt=La(t.history,M,te.signal,ue);I.set(A,te);let Ae=await Pa("action",jt,J,ee,n,e,v.basename);if(jt.signal.aborted){I.get(A)===te&&I.delete(A);return}if(Ro(Ae)){I.delete(A),K.add(A);let Rr=xe({state:"loading"},ue,{data:void 0," _hasFetcherDoneAnything ":!0});return m.fetchers.set(A,Rr),G({fetchers:new Map(m.fetchers)}),V(m,Ae,{isFetchActionRedirect:!0})}if(al(Ae)){ye(A,O,Ae.error);return}if(ls(Ae))throw hr(400,{type:"defer-action"});let Jt=m.navigation.location||m.location,st=La(t.history,Jt,te.signal),lr=i||r,Wn=m.navigation.state!=="idle"?vo(lr,m.navigation.location,t.basename):m.matches;_e(Wn,"Didn't find any matches after fetcher action");let Ea=++N;D.set(A,Ea);let Vu=xe({state:"loading",data:Ae.data},ue,{" _hasFetcherDoneAnything ":!0});m.fetchers.set(A,Vu);let[zu,Ys]=yw(t.history,m,Wn,ue,Jt,_,E,k,$,lr,t.basename,{[J.route.id]:Ae.data},void 0);Ys.filter(Rr=>Rr.key!==A).forEach(Rr=>{let Of=Rr.key,J1=m.fetchers.get(Of),y2={state:"loading",data:J1&&J1.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Of,y2),I.set(Of,te)}),G({fetchers:new Map(m.fetchers)});let{results:Lf,loaderResults:Mt,fetcherResults:ur}=await Q(m.matches,Wn,zu,Ys,st);if(te.signal.aborted)return;D.delete(A),I.delete(A),Ys.forEach(Rr=>I.delete(Rr.key));let Xi=Ew(Lf);if(Xi)return V(m,Xi);let{loaderData:Bu,errors:Nf}=ww(m,m.matches,zu,Mt,void 0,Ys,ur,U),m2={state:"idle",data:Ae.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(A,m2);let g2=j(Ea);m.navigation.state==="loading"&&Ea>R?(_e(S,"Expected pending action"),g&&g.abort(),re(m.navigation.location,{matches:Wn,loaderData:Bu,errors:Nf,fetchers:new Map(m.fetchers)})):(G(xe({errors:Nf,loaderData:_w(m.loaderData,Bu,Wn,Nf)},g2?{fetchers:new Map(m.fetchers)}:{})),_=!1)}async function li(A,O,M,J,ee,ue){let ie=m.fetchers.get(A),Se=xe({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ue,{data:ie&&ie.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(A,Se),G({fetchers:new Map(m.fetchers)});let te=new AbortController,jt=La(t.history,M,te.signal);I.set(A,te);let Ae=await Pa("loader",jt,J,ee,n,e,v.basename);if(ls(Ae)&&(Ae=await ET(Ae,jt.signal,!0)||Ae),I.get(A)===te&&I.delete(A),jt.signal.aborted)return;if(Ro(Ae)){await V(m,Ae);return}if(al(Ae)){let st=_o(m.matches,O);m.fetchers.delete(A),G({fetchers:new Map(m.fetchers),errors:{[st.route.id]:Ae.error}});return}_e(!ls(Ae),"Unhandled fetcher deferred data");let Jt={state:"idle",data:Ae.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(A,Jt),G({fetchers:new Map(m.fetchers)})}async function V(A,O,M){var J;let{submission:ee,replace:ue,isFetchActionRedirect:ie}=M===void 0?{}:M;O.revalidate&&(_=!0);let Se=jl(A.location,O.location,xe({_isRedirect:!0},ie?{_isFetchActionRedirect:!0}:{}));if(_e(Se,"Expected a location on the redirect navigation"),yT.test(O.location)&&vT&&typeof((J=window)==null?void 0:J.location)<"u"){let lr=t.history.createURL(O.location),Wn=cu(lr.pathname,t.basename||"/")==null;if(window.location.origin!==lr.origin||Wn){ue?window.location.replace(O.location):window.location.assign(O.location);return}}g=null;let te=ue===!0?ot.Replace:ot.Push,{formMethod:jt,formAction:Ae,formEncType:Jt,formData:st}=A.navigation;!ee&&jt&&Ae&&st&&Jt&&(ee={formMethod:jt,formAction:Ae,formEncType:Jt,formData:st}),OL.has(O.status)&&ee&&Or(ee.formMethod)?await pt(te,Se,{submission:xe({},ee,{formAction:O.location}),preventScrollReset:y}):await pt(te,Se,{overrideNavigation:{state:"loading",location:Se,formMethod:ee?ee.formMethod:void 0,formAction:ee?ee.formAction:void 0,formEncType:ee?ee.formEncType:void 0,formData:ee?ee.formData:void 0},preventScrollReset:y})}async function Q(A,O,M,J,ee){let ue=await Promise.all([...M.map(te=>Pa("loader",ee,te,O,n,e,v.basename)),...J.map(te=>te.matches&&te.match?Pa("loader",La(t.history,te.path,ee.signal),te.match,te.matches,n,e,v.basename):{type:gt.error,error:hr(404,{pathname:te.path})})]),ie=ue.slice(0,M.length),Se=ue.slice(M.length);return await Promise.all([Cw(A,M,ie,ee.signal,!1,m.loaderData),Cw(A,J.map(te=>te.match),Se,ee.signal,!0)]),{results:ue,loaderResults:ie,fetcherResults:Se}}function ge(){_=!0,E.push(...Ee()),$.forEach((A,O)=>{I.has(O)&&(k.push(O),C(O))})}function ye(A,O,M){let J=_o(m.matches,O);de(A),G({errors:{[J.route.id]:M},fetchers:new Map(m.fetchers)})}function de(A){I.has(A)&&C(A),$.delete(A),D.delete(A),K.delete(A),m.fetchers.delete(A)}function C(A){let O=I.get(A);_e(O,"Expected fetch controller: "+A),O.abort(),I.delete(A)}function x(A){for(let O of A){let J={state:"idle",data:Be(O).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(O,J)}}function b(){let A=[];for(let O of K){let M=m.fetchers.get(O);_e(M,"Expected fetcher: "+O),M.state==="loading"&&(K.delete(O),A.push(O))}x(A)}function j(A){let O=[];for(let[M,J]of D)if(J<A){let ee=m.fetchers.get(M);_e(ee,"Expected fetcher: "+M),ee.state==="loading"&&(C(M),D.delete(M),O.push(M))}return x(O),O.length>0}function H(A,O){let M=m.blockers.get(A)||mw;return le.get(A)!==O&&le.set(A,O),M}function P(A){m.blockers.delete(A),le.delete(A)}function L(A,O){let M=m.blockers.get(A)||mw;_e(M.state==="unblocked"&&O.state==="blocked"||M.state==="blocked"&&O.state==="blocked"||M.state==="blocked"&&O.state==="proceeding"||M.state==="blocked"&&O.state==="unblocked"||M.state==="proceeding"&&O.state==="unblocked","Invalid blocker state transition: "+M.state+" -> "+O.state),m.blockers.set(A,O),G({blockers:new Map(m.blockers)})}function ve(A){let{currentLocation:O,nextLocation:M,historyAction:J}=A;if(le.size===0)return;le.size>1&&Ko(!1,"A router only supports one blocker at a time");let ee=Array.from(le.entries()),[ue,ie]=ee[ee.length-1],Se=m.blockers.get(ue);if(!(Se&&Se.state==="proceeding")&&ie({currentLocation:O,nextLocation:M,historyAction:J}))return ue}function Ee(A){let O=[];return U.forEach((M,J)=>{(!A||A(J))&&(M.cancel(),O.push(J),U.delete(J))}),O}function Gs(A,O,M){if(a=A,u=O,l=M||(J=>J.key),!c&&m.navigation===cp){c=!0;let J=Qs(m.location,m.matches);J!=null&&G({restoreScrollPosition:J})}return()=>{a=null,u=null,l=null}}function Sa(A,O){if(a&&l&&u){let M=O.map(ee=>Tw(ee,m.loaderData)),J=l(A,M)||A.key;a[J]=u()}}function Qs(A,O){if(a&&l&&u){let M=O.map(ue=>Tw(ue,m.loaderData)),J=l(A,M)||A.key,ee=a[J];if(typeof ee=="number")return ee}return null}function Pf(A){i=A}return v={get basename(){return t.basename},get state(){return m},get routes(){return r},initialize:$e,subscribe:q,enableScrollRestoration:Gs,navigate:Re,fetch:mt,revalidate:Ue,createHref:A=>t.history.createHref(A),encodeLocation:A=>t.history.encodeLocation(A),getFetcher:Be,deleteFetcher:de,dispose:lt,getBlocker:H,deleteBlocker:P,_internalFetchControllers:I,_internalActiveDeferreds:U,_internalSetRoutes:Pf},v}function UL(t){return t!=null&&"formData"in t}function gw(t,e,n){n===void 0&&(n=!1);let r=typeof t=="string"?t:Xr(t);if(!e||!UL(e))return{path:r};if(e.formMethod&&!qL(e.formMethod))return{path:r,error:hr(405,{method:e.formMethod})};let i;if(e.formData&&(i={formMethod:e.formMethod||"get",formAction:ST(r),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},Or(i.formMethod)))return{path:r,submission:i};let s=si(r),o=_T(e.formData);return n&&s.search&&CT(s.search)&&o.append("index",""),s.search="?"+o,{path:Xr(s),submission:i}}function FL(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function yw(t,e,n,r,i,s,o,a,l,u,c,d,h){let p=h?Object.values(h)[0]:d?Object.values(d)[0]:void 0,v=t.createURL(e.location),m=t.createURL(i),S=s||v.toString()===m.toString()||v.search!==m.search,y=h?Object.keys(h)[0]:void 0,w=FL(n,y).filter((E,k)=>{if(E.route.lazy)return!0;if(E.route.loader==null)return!1;if(VL(e.loaderData,e.matches[k],E)||o.some(R=>R===E.route.id))return!0;let I=e.matches[k],N=E;return vw(E,xe({currentUrl:v,currentParams:I.params,nextUrl:m,nextParams:N.params},r,{actionResult:p,defaultShouldRevalidate:S||wT(I,N)}))}),_=[];return l.forEach((E,k)=>{if(!n.some(D=>D.route.id===E.routeId))return;let I=vo(u,E.path,c);if(!I){_.push(xe({key:k},E,{matches:null,match:null}));return}let N=sg(I,E.path);if(a.includes(k)){_.push(xe({key:k,matches:I,match:N},E));return}vw(N,xe({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},r,{actionResult:p,defaultShouldRevalidate:S}))&&_.push(xe({key:k,matches:I,match:N},E))}),[w,_]}function VL(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function wT(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function vw(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function ig(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];_e(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Ko(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!oL.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,{hasErrorBoundary:e(xe({},i)),lazy:void 0})}async function Pa(t,e,n,r,i,s,o,a,l,u){o===void 0&&(o="/"),a===void 0&&(a=!1),l===void 0&&(l=!1);let c,d,h,p=S=>{let y,g=new Promise((w,_)=>y=_);return h=()=>y(),e.signal.addEventListener("abort",h),Promise.race([S({request:e,params:n.params,context:u}),g])};try{let S=n.route[t];if(n.route.lazy)if(S)d=(await Promise.all([p(S),ig(n.route,s,i)]))[0];else if(await ig(n.route,s,i),S=n.route[t],S)d=await p(S);else{if(t==="action")throw hr(405,{method:e.method,pathname:new URL(e.url).pathname,routeId:n.route.id});return{type:gt.data,data:void 0}}else _e(S,"Could not find the "+t+' to run on the "'+n.route.id+'" route'),d=await p(S);_e(d!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(S){c=gt.error,d=S}finally{h&&e.signal.removeEventListener("abort",h)}if(HL(d)){let S=d.status;if(NL.has(S)){let w=d.headers.get("Location");if(_e(w,"Redirects returned/thrown from loaders/actions must have a Location header"),yT.test(w)){if(!a){let _=new URL(e.url),E=w.startsWith("//")?new URL(_.protocol+w):new URL(w),k=cu(E.pathname,o)!=null;E.origin===_.origin&&k&&(w=E.pathname+E.search+E.hash)}}else{let _=r.slice(0,r.indexOf(n)+1),E=Mh(_).map(I=>I.pathnameBase),k=Gy(w,E,new URL(e.url).pathname);if(_e(Xr(k),"Unable to resolve redirect location: "+w),o){let I=k.pathname;k.pathname=I==="/"?o:Hr([o,I])}w=Xr(k)}if(a)throw d.headers.set("Location",w),d;return{type:gt.redirect,status:S,location:w,revalidate:d.headers.get("X-Remix-Revalidate")!==null}}if(l)throw{type:c||gt.data,response:d};let y,g=d.headers.get("Content-Type");return g&&/\bapplication\/json\b/.test(g)?y=await d.json():y=await d.text(),c===gt.error?{type:c,error:new Qy(S,d.statusText,y),headers:d.headers}:{type:gt.data,data:y,statusCode:d.status,headers:d.headers}}if(c===gt.error)return{type:c,error:d};if(d instanceof xL){var v,m;return{type:gt.deferred,deferredData:d,statusCode:(v=d.init)==null?void 0:v.status,headers:((m=d.init)==null?void 0:m.headers)&&new Headers(d.init.headers)}}return{type:gt.data,data:d}}function La(t,e,n,r){let i=t.createURL(ST(e)).toString(),s={signal:n};if(r&&Or(r.formMethod)){let{formMethod:o,formEncType:a,formData:l}=r;s.method=o.toUpperCase(),s.body=a==="application/x-www-form-urlencoded"?_T(l):l}return new Request(i,s)}function _T(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function zL(t,e,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,d)=>{let h=e[d].route.id;if(_e(!Ro(c),"Cannot handle redirect results in processLoaderData"),al(c)){let p=_o(t,h),v=c.error;r&&(v=Object.values(r)[0],r=void 0),o=o||{},o[p.route.id]==null&&(o[p.route.id]=v),s[h]=void 0,l||(l=!0,a=wo(c.error)?c.error.status:500),c.headers&&(u[h]=c.headers)}else ls(c)?(i.set(h,c.deferredData),s[h]=c.deferredData.data):s[h]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[h]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function ww(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=zL(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:d,match:h}=s[c];_e(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let p=o[c];if(al(p)){let v=_o(t.matches,h==null?void 0:h.route.id);u&&u[v.route.id]||(u=xe({},u,{[v.route.id]:p.error})),t.fetchers.delete(d)}else if(Ro(p))_e(!1,"Unhandled fetcher revalidation redirect");else if(ls(p))_e(!1,"Unhandled fetcher deferred data");else{let v={state:"idle",data:p.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(d,v)}}return{loaderData:l,errors:u}}function _w(t,e,n,r){let i=xe({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function _o(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Sw(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function hr(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"&&(a="defer() is not supported in actions")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Qy(t||500,o,new Error(a),!0)}function Ew(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Ro(n))return n}}function ST(t){let e=typeof t=="string"?si(t):t;return Xr(xe({},e,{hash:""}))}function BL(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function ls(t){return t.type===gt.deferred}function al(t){return t.type===gt.error}function Ro(t){return(t&&t.type)===gt.redirect}function HL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function qL(t){return LL.has(t)}function Or(t){return AL.has(t)}async function Cw(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!wT(u,l)&&(s&&s[l.route.id])!==void 0;ls(a)&&(i||c)&&await ET(a,r,i).then(d=>{d&&(n[o]=d||n[o])})}}async function ET(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:gt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:gt.error,error:i}}return{type:gt.data,data:t.deferredData.data}}}function CT(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Tw(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function sg(t,e){let n=typeof e=="string"?si(e).search:e.search;if(t[t.length-1].route.index&&CT(n||""))return t[t.length-1];let r=Mh(t);return r[r.length-1]}/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function WL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const KL=typeof Object.is=="function"?Object.is:WL,{useState:GL,useEffect:QL,useLayoutEffect:YL,useDebugValue:XL}=sm;function JL(t,e,n){const r=e(),[{inst:i},s]=GL({inst:{value:r,getSnapshot:e}});return YL(()=>{i.value=r,i.getSnapshot=e,dp(i)&&s({inst:i})},[t,r,e]),QL(()=>(dp(i)&&s({inst:i}),t(()=>{dp(i)&&s({inst:i})})),[t]),XL(r),r}function dp(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!KL(n,r)}catch{return!0}}function ZL(t,e,n){return e()}const eN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tN=!eN,nN=tN?ZL:JL,rN="useSyncExternalStore"in sm?(t=>t.useSyncExternalStore)(sm):nN,Yy=T.createContext(null),$h=T.createContext(null),oa=T.createContext(null),Uh=T.createContext(null),Fs=T.createContext({outlet:null,matches:[]}),TT=T.createContext(null);function og(){return og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},og.apply(this,arguments)}function iN(t,e){let{relative:n}=e===void 0?{}:e;du()||_e(!1);let{basename:r,navigator:i}=T.useContext(oa),{hash:s,pathname:o,search:a}=Xy(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Hr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function du(){return T.useContext(Uh)!=null}function Wi(){return du()||_e(!1),T.useContext(Uh).location}function Vs(){du()||_e(!1);let{basename:t,navigator:e}=T.useContext(oa),{matches:n}=T.useContext(Fs),{pathname:r}=Wi(),i=JSON.stringify(Mh(n).map(a=>a.pathnameBase)),s=T.useRef(!1);return T.useEffect(()=>{s.current=!0}),T.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=Gy(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:Hr([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}const sN=T.createContext(null);function oN(t){let e=T.useContext(Fs).outlet;return e&&T.createElement(sN.Provider,{value:t},e)}function Xy(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=T.useContext(Fs),{pathname:i}=Wi(),s=JSON.stringify(Mh(r).map(o=>o.pathnameBase));return T.useMemo(()=>Gy(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function aN(t,e){du()||_e(!1);let{navigator:n}=T.useContext(oa),r=T.useContext($h),{matches:i}=T.useContext(Fs),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Wi(),u;if(e){var c;let m=typeof e=="string"?si(e):e;a==="/"||(c=m.pathname)!=null&&c.startsWith(a)||_e(!1),u=m}else u=l;let d=u.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",p=vo(t,{pathname:h}),v=dN(p&&p.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:Hr([a,n.encodeLocation?n.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:Hr([a,n.encodeLocation?n.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,r||void 0);return e&&v?T.createElement(Uh.Provider,{value:{location:og({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ot.Pop}},v):v}function lN(){let t=kT(),e=wo(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,s)}class uN extends T.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?T.createElement(Fs.Provider,{value:this.props.routeContext},T.createElement(TT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cN(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(Yy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Fs.Provider,{value:e},r)}function dN(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||_e(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=T.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=T.createElement(lN,null));let c=e.concat(r.slice(0,a+1)),d=()=>{let h=s;return l?h=u:o.route.Component?h=T.createElement(o.route.Component,null):o.route.element&&(h=o.route.element),T.createElement(cN,{match:o,routeContext:{outlet:s,matches:c},children:h})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?T.createElement(uN,{location:n.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var kw;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(kw||(kw={}));var vd;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(vd||(vd={}));function hN(t){let e=T.useContext($h);return e||_e(!1),e}function fN(t){let e=T.useContext(Fs);return e||_e(!1),e}function pN(t){let e=fN(),n=e.matches[e.matches.length-1];return n.route.id||_e(!1),n.route.id}function kT(){var t;let e=T.useContext(TT),n=hN(vd.UseRouteError),r=pN(vd.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function mN(t){let{fallbackElement:e,router:n}=t,r=T.useCallback(()=>n.state,[n]),i=rN(n.subscribe,r,r),s=T.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:l=>n.navigate(l),push:(l,u,c)=>n.navigate(l,{state:u,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(l,u,c)=>n.navigate(l,{replace:!0,state:u,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[n]),o=n.basename||"/",a=T.useMemo(()=>({router:n,navigator:s,static:!1,basename:o}),[n,s,o]);return T.createElement(T.Fragment,null,T.createElement(Yy.Provider,{value:a},T.createElement($h.Provider,{value:i},T.createElement(vN,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:s},n.state.initialized?T.createElement(wN,null):e))),null)}function gN(t){return oN(t.context)}function yN(t){_e(!1)}function vN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ot.Pop,navigator:s,static:o=!1}=t;du()&&_e(!1);let a=e.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=si(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:p="default"}=r,v=T.useMemo(()=>{let m=cu(u,a);return m==null?null:{location:{pathname:m,search:c,hash:d,state:h,key:p},navigationType:i}},[a,u,c,d,h,p,i]);return v==null?null:T.createElement(oa.Provider,{value:l},T.createElement(Uh.Provider,{children:n,value:v}))}function wN(t){let{children:e,location:n}=t,r=T.useContext(Yy),i=r&&!e?r.router.routes:ag(e);return aN(i,n)}var Iw;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Iw||(Iw={}));new Promise(()=>{});function ag(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;if(r.type===T.Fragment){n.push.apply(n,ag(r.props.children,e));return}r.type!==yN&&_e(!1),!r.props.index||!r.props.children||_e(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ag(r.props.children,s)),n.push(o)}),n}function _N(t){return!!t.ErrorBoundary||!!t.errorElement}/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ml.apply(this,arguments)}function IT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function SN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function EN(t,e){return t.button===0&&(!e||e==="_self")&&!SN(t)}const CN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],TN=["aria-current","caseSensitive","className","end","style","to","children"];function kN(t,e){return $L({basename:e==null?void 0:e.basename,history:rL({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||IN(),routes:t,detectErrorBoundary:_N}).initialize()}function IN(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ml({},e,{errors:xN(e.errors)})),e}function xN(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Qy(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let s=new Error(i.message);s.stack="",n[r]=s}else n[r]=i;return n}const bN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fh=T.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,d=IT(e,CN),{basename:h}=T.useContext(oa),p,v=!1;if(typeof u=="string"&&RN.test(u)&&(p=u,bN)){let g=new URL(window.location.href),w=u.startsWith("//")?new URL(g.protocol+u):new URL(u),_=cu(w.pathname,h);w.origin===g.origin&&_!=null?u=_+w.search+w.hash:v=!0}let m=iN(u,{relative:i}),S=AN(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function y(g){r&&r(g),g.defaultPrevented||S(g)}return T.createElement("a",Ml({},d,{href:p||m,onClick:v||s?r:y,ref:n,target:l}))}),vs=T.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=e,c=IT(e,TN),d=Xy(l,{relative:c.relative}),h=Wi(),p=T.useContext($h),{navigator:v}=T.useContext(oa),m=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,S=h.pathname,y=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(S=S.toLowerCase(),y=y?y.toLowerCase():null,m=m.toLowerCase());let g=S===m||!o&&S.startsWith(m)&&S.charAt(m.length)==="/",w=y!=null&&(y===m||!o&&y.startsWith(m)&&y.charAt(m.length)==="/"),_=g?r:void 0,E;typeof s=="function"?E=s({isActive:g,isPending:w}):E=[s,g?"active":null,w?"pending":null].filter(Boolean).join(" ");let k=typeof a=="function"?a({isActive:g,isPending:w}):a;return T.createElement(Fh,Ml({},c,{"aria-current":_,className:E,ref:n,style:k,to:l}),typeof u=="function"?u({isActive:g,isPending:w}):u)});var xw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(xw||(xw={}));var bw;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bw||(bw={}));function AN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Vs(),l=Wi(),u=Xy(t,{relative:o});return T.useCallback(c=>{if(EN(c,n)){c.preventDefault();let d=r!==void 0?r:Xr(l)===Xr(u);a(t,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}function Oe({size:t="default",strokeWidth:e=2,height:n,width:r,children:i,className:s,...o}){const a={tiny:"12px",small:"16px",default:"24px",medium:"32px",large:"36px",extra:"48px",custom:"24px"};return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:r||a[t],height:n||a[t],className:s,fill:"currentColor",stroke:"currentColor",strokeWidth:e,...o,children:i})}function lg(t){return f.jsxs(Oe,{width:"45px",height:"28px",viewBox:"0 0 45 28",stroke:"none",...t,children:[f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.48798 6L0 22.8H3.98401L5.48108 19.2H13.2687L14.76 22.8H18.84L11.328 6H7.48798ZM12.0459 16.248L9.38251 9.81833L6.70868 16.248H12.0459Z"}),f.jsx("path",{d:"M17.205 6L22.7009 22.8H26.877L30.6852 11.4169L34.3889 22.8H38.5649L44.0609 6H40.3409L36.4266 17.8967L32.5889 6H28.989L25.0272 17.809L21.2369 6H17.205Z"})]})}function PN(t,e){return e&&e.length===t.length?t.map((n,r)=>({...n,id:e[r]})):t.map((n,r)=>({...n,id:r}))}function LN(...t){return{className:t.flat(1/0).filter(e=>e).join(" ").trim()}}function NN(t,e,n,r=""){const i=document.createElement(e);if(n!=null&&n.class){const s=n.class.split(" ");i.classList.add(...s)}return n!=null&&n.id&&i.setAttribute("id",n.id),n!=null&&n.attributes&&n.attributes.forEach(s=>{const o=s.split("=")[0],a=(s.split("=")[1]||"").replaceAll('"',"");i.setAttribute(o,a)}),r&&(i.innerHTML=r),t.append(i),i}function ON(...t){return t.reduce((e,n)=>e.filter(r=>n.includes(r)))}function DN(){return Date.now()}function jN(...t){return t.reduce((e,n)=>e.filter(r=>!n.includes(r)))}function MN(t){return t.map((e,n)=>e!==""?n:"").filter(String)}function Ai(t,e){return Math.trunc(Math.random()*(e-t+1)+t)}function $N(){const t=Ai(0,255).toString(16),e=Ai(0,255).toString(16),n=Ai(0,255).toString(16);return`#${t}${e}${n}`}function UN(){const t=Ai(0,255),e=Ai(0,255),n=Ai(0,255);return[t,e,n]}function FN(){let t;return()=>{const e=t>window.scrollY?"UP":"DOWN";return t=window.scrollY,e}}const VN=FN();function sr(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function zN(t,e){return!e&&typeof t=="string"?t[0]:e&&typeof t!="string"?t[e].toString()[0]:null}function BN(t,e){const n=new Map,r=t[0];if(typeof r!="string"&&!sr(r))throw new Error("Invalid value");if(!e&&sr(r))throw new Error("No key provided");return t.forEach(i=>{const s=zN(i,e);n.has(s)?n.set(s,[...n.get(s),i]):n.set(s,[i])}),Array.from(n.entries())}function HN(t){return Object.keys(t).length===0}function qN(...t){return t.flat(1/0).filter(e=>e).join(" ").trim()}function WN(t){return new Date(+t)}function KN(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!sr(r))throw new Error("Invalid value");if(sr(r)&&!e)throw new Error("No key provided");let i=[];return!e&&typeof r=="string"&&(i=n.filter(s=>s.trim()!=="")),e&&typeof r!="string"&&(i=n.filter(s=>s[e].toString().trim()!=="")),i}function GN({callback:t,delay:e,counts:n}){let r=0;const i=setInterval(()=>{t(),r+=1,r===n&&clearInterval(i)},e);return i}function QN(t){const e=t.slice();for(let n=0;n<t.length;n++){const r=Ai(0,t.length-1);[e[n],e[r]]=[e[r],e[n]]}return e}function YN(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!sr(r))throw new Error("Invalid value");if(sr(r)&&!e)throw new Error("No key provided");let i=[];return!e&&typeof r=="string"&&(i=n.sort((s,o)=>s.localeCompare(o))),e&&typeof r!="string"&&(i=n.sort((s,o)=>s[e].toString().localeCompare(o[e].toString()))),i}function XN(t,e,n="num"){const r=t.slice();return e&&r.sort((i,s)=>{if(n==="num"){if(+i[e]<+s[e])return-1;if(+i[e]>+s[e])return 1}else{if(i[e]<s[e])return-1;if(i[e]>s[e])return 1}return 0}),r}function JN(t,e,n="..."){return t.length>e?`${t.substring(0,e).trim()}${n}`:t}function ZN(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!sr(r))throw new Error("Invalid value");if(sr(r)&&!e)throw new Error("No key provided");let i=0;return!e&&typeof r=="string"?i=t.length-n.reverse().findIndex(s=>s!==""):e&&typeof r!="string"&&(i=t.length-n.reverse().findIndex(s=>s[e]!=="")),n.reverse().splice(0,i)}function eO(t,e){const n=t[0];if(typeof n!="string"&&!sr(n))throw new Error("Invalid value");if(sr(n)&&!e)throw new Error("No key provided");const r=t.slice();let i=0;return!e&&typeof n=="string"?i=r.findIndex(s=>s!==""):e&&typeof n!="string"&&(i=r.findIndex(s=>s[e]!=="")),r.splice(i)}const W={addId:PN,className:LN,createHTMLElem:NN,getCommonValues:ON,getCurrentDateInMs:DN,getDifferentValues:jN,getIndexesOfNonEmptyElements:MN,getRandomHEXColor:$N,getRandomNumber:Ai,getRandomRGBColor:UN,getScrollDirection:VN,groupBy:BN,isObject:sr,isObjectEmpty:HN,join:qN,parseCurrentDateFromMs:WN,removeEmptyValues:KN,setIntervalCounts:GN,shuffleArray:QN,sortArrayLocalCompare:YN,sortArrayOfObj:XN,stringCut:JN,trimEndEmptyValues:ZN,trimStartEmptyValues:eO};function Jy({as:t="div",...e}){return f.jsx(t,{...e})}function Zy(t){const e=(t==null?void 0:t.size)===10?"col10":"col";return W.join([(t==null?void 0:t.xx)&&`${e}-xx-${t.xx}`,(t==null?void 0:t.xl)&&`${e}-xl-${t.xl}`,(t==null?void 0:t.lg)&&`${e}-lg-${t.lg}`,(t==null?void 0:t.md)&&`${e}-md-${t.md}`,(t==null?void 0:t.sm)&&`${e}-sm-${t.sm}`,(t==null?void 0:t.xs)&&`${e}-xs-${t.xs}`,(t==null?void 0:t.ss)&&`${e}-ss-${t.ss}`])}const Le=T.forwardRef(({component:t="div",grid:e,children:n,className:r,...i},s)=>{const o=e&&Zy(e),a={className:W.join(r,o),ref:s,...i};return f.jsx(Jy,{as:t,...a,children:n})});Le.displayName="Block";const tO="_StartScreen_srdz3_1",nO={StartScreen:tO};function rO(){return f.jsx(Le,{className:nO.StartScreen,children:f.jsx(lg,{})})}const $l={version:"2023-03-28_15-54",name:"amelianceworship"},vt={home:"/",about:"/about",songslist:"/songslist",chordslist:"/chordslist",login:"/login",signup:"/signup",other:"/*"},ev={chat:"/chat"};function Ao(t,e){return!t.split("/")[2]&&t.split("/")[1]===e}const Qt=NP;function tv(){const{displayName:t}=Qt(e=>e.userReducer);return{isAuth:!!t}}const br=T.forwardRef(({container:t,row:e,component:n="div",children:r,className:i,...s},o)=>{const a=[t&&"container",e&&"row"],l={className:W.join(i,a),ref:o,...s};return f.jsx(Jy,{as:n,...l,children:r})});br.displayName="Grid";const iO="_h1_bjtyp_34",sO="_inversion_bjtyp_37",oO="_h2_bjtyp_41",aO="_h3_bjtyp_48",lO="_h4_bjtyp_55",uO="_h5_bjtyp_62",cO="_h6_bjtyp_69",dO="_subtitle1_bjtyp_76",hO="_subtitle2_bjtyp_83",fO="_p1_bjtyp_90",pO="_p2_bjtyp_97",mO="_caption_bjtyp_104",gO="_overline_bjtyp_111",yO="_link_bjtyp_118",vO="_input_bjtyp_132",wO="_button_bjtyp_460",sn={h1:iO,inversion:sO,h2:oO,h3:aO,h4:lO,h5:uO,h6:cO,subtitle1:dO,subtitle2:hO,p1:fO,p2:pO,caption:mO,overline:gO,link:yO,"link-sm":"_link-sm_bjtyp_125",input:vO,button:wO,"button-sm":"_button-sm_bjtyp_471","button-icon":"_button-icon_bjtyp_482","button-icon-sm":"_button-icon-sm_bjtyp_493"},_O="_Link_1wghn_57",SO="_noUnderline_1wghn_63",EO="_inverted_1wghn_66",CO="_disabled_1wghn_96",wd={Link:_O,noUnderline:SO,inverted:EO,disabled:CO},_r=T.forwardRef(({display:t,underline:e,children:n,blank:r,className:i,...s},o)=>{const a=[t?sn[t]:sn.link,e===!1&&wd.noUnderline],l=r&&{target:"_blank",rel:"noreferrer noopener"};return f.jsx("span",{className:W.join(wd.Link,i,a),ref:o,...l,...s,children:n})});_r.displayName="LinkLabel";const TO="_Footer_14zpd_1",kO="_container_14zpd_1",Rw={Footer:TO,container:kO};function IO(){const{pathname:t}=Wi(),{isAuth:e}=tv(),n=Ao(t,"login"),r=Ao(t,"signup");return Ao(t,"songslist")?null:f.jsx(Le,{component:"footer",className:Rw.Footer,children:f.jsx(br,{container:!0,className:Rw.container,children:!(n||r)&&e&&t!==ev.chat&&f.jsx(vs,{to:vt.home,children:f.jsx(_r,{display:"caption",children:`${$l.name} ${$l.version}`})})})})}function pe(t){var n;let e="Sorry, something went wrong ¯\\_(ツ)_/¯!";return t&&(typeof t=="string"&&(e=t),t instanceof Error&&(e=t.message)),console.error(`${$l.name} >`,`${e}
`,(n=new Error().stack)==null?void 0:n.split(`
`)[2]),e}const xO="AKfycbxGD1Lys79Ixt4BQ5mfH3ylX4_ZvtSGUFHltMILILPBWtcdPoSlI3FD5Ir8OcwtBA",xT=`https://script.google.com/macros/s/${xO}/exec`;async function zs({spreadsheetId:t,sheetName:e,sheetIndex:n,columnTitles:r,columnIndexes:i,type:s}){const o=new URLSearchParams;t&&o.append("spreadsheetId",t),e&&o.append("sheetName",e),n&&o.append("sheetIndex",n.toString()),r&&o.append("columnTitles",JSON.stringify(r)),i&&o.append("columnIndexes",JSON.stringify(i)),s&&o.append("type",s);try{const l=await(await fetch(`${xT}?${o}`)).text(),u=await JSON.parse(l);if(u.status!=="success")throw new Error(u.error);return u}catch(a){throw new Error(pe(a))}}async function bO({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await zs({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"TITLED"})}catch(r){throw new Error(pe(r))}}async function RO({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await zs({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"TITLED_SINGLE"})}catch(r){throw new Error(pe(r))}}async function AO({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r}){try{return await zs({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r,type:"TITLED"})}catch(i){throw new Error(pe(i))}}async function PO({spreadsheetId:t,sheetIndex:e,sheetName:n,columnTitles:r}){try{return await zs({spreadsheetId:t,sheetIndex:e,sheetName:n,columnTitles:r,type:"TITLED"})}catch(i){throw new Error(pe(i))}}async function LO({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await zs({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"UNTITLED"})}catch(r){throw new Error(pe(r))}}async function NO({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await zs({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"UNTITLED_SINGLE"})}catch(r){throw new Error(pe(r))}}async function OO({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r}){try{return zs({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r,type:"UNTITLED"})}catch(i){throw new Error(pe(i))}}async function oi({spreadsheetId:t,sheetName:e,sheetIndex:n,titlesParams:r,indexesParams:i,type:s,col:o,row:a,value:l}){const u=new URLSearchParams;t&&u.append("spreadsheetId",t),e&&u.append("sheetName",e),n&&u.append("sheetIndex",n.toString()),r&&u.append("titlesParams",JSON.stringify(r)),i&&u.append("indexesParams",JSON.stringify(i)),s&&u.append("type",s),o&&u.append("col",o.toString()),a&&u.append("row",a.toString()),l&&u.append("value",l.toString());try{const d=await(await fetch(`${xT}?${u}`,{method:"POST"})).text(),h=await JSON.parse(d);if(h.status!=="success")throw new Error(h.error);return h}catch(c){throw new Error(pe(c))}}async function DO({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await oi({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"TITLED_SINGLE"})}catch(i){throw new Error(pe(i))}}async function jO({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){try{return await oi({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED_SINGLE"})}catch(i){throw new Error(pe(i))}}async function MO({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await oi({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"TITLED"})}catch(i){throw new Error(pe(i))}}async function $O({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){try{return await oi({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED"})}catch(i){throw new Error(pe(i))}}async function UO({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s}){try{return await oi({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s,type:"TITLED_UPDATE"})}catch(o){throw new Error(pe(o))}}async function FO({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await oi({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED_ONE_ROW"})}catch(i){throw new Error(pe(i))}}async function VO({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await oi({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED_SINGLE"})}catch(i){throw new Error(pe(i))}}async function zO({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await oi({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED"})}catch(i){throw new Error(pe(i))}}async function BO({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s}){try{return await oi({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s,type:"UNTITLED_UPDATE"})}catch(o){throw new Error(pe(o))}}const HO={getAllTitledColumnsData:bO,getTitledColumnsDataByIndexes:AO,getTitledColumnsDataByTitles:PO,getAllUntitledColumnsData:LO,getUntitledColumnsDataByIndexes:OO,postTitledColumnsDataByIndexes:MO,postSingleTitledColumnsDataByIndexes:DO,postSingleTitledColumnsDataByTitles:jO,postTitledColumnsDataByTitles:$O,postAllUntitledParamsAsOneRow:FO,postSingleUntitledColumnsDataByIndexes:VO,postUntitledColumnsDataByIndexes:zO,postTitledUpdate:UO,postUntitledUpdate:BO,getAllTitledColumnsDataSingle:RO,getAllUntitledColumnsDataSingle:NO};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},qO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},RT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw Error();const h=s<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},WO=function(t){const e=bT(t);return RT.encodeByteArray(e,!0)},_d=function(t){return WO(t).replace(/\./g,"")},AT=function(t){try{return RT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function GO(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function QO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YO(){const t=Yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function LT(){try{return typeof indexedDB=="object"}catch{return!1}}function NT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function XO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}function JO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=()=>JO().__FIREBASE_DEFAULTS__,eD=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&AT(t[1]);return e&&JSON.parse(e)},nv=()=>{try{return ZO()||eD()||tD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OT=t=>{var e,n;return(n=(e=nv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DT=t=>{const e=OT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nD=()=>{var t;return(t=nv())===null||t===void 0?void 0:t.config},jT=t=>{var e;return(e=nv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[_d(JSON.stringify(n)),_d(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="FirebaseError";class Hn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iD,Object.setPrototypeOf(this,Hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bs.prototype.create)}}class Bs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?sD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Hn(i,a,r)}}function sD(t,e){return t.replace(oD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const oD=/\{\$([^}]+)}/g;function aD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ul(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Aw(s)&&Aw(o)){if(!Ul(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Aw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Wa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function lD(t,e){const n=new uD(t,e);return n.subscribe.bind(n)}class uD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=hp),i.error===void 0&&(i.error=hp),i.complete===void 0&&(i.complete=hp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=1e3,hD=2,fD=4*60*60*1e3,pD=.5;function Pw(t,e=dD,n=hD){const r=e*Math.pow(n,t),i=Math.round(pD*r*(Math.random()-.5)*2);return Math.min(fD,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t){return t&&t._delegate?t._delegate:t}class Vn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yD(e))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ns){return this.instances.has(e)}getOptions(e=ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ns){return this.component?this.component.multipleInstances?e:ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gD(t){return t===ns?void 0:t}function yD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const wD={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},_D=Pe.INFO,SD={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},ED=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=SD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vh{constructor(e){this.name=e,this._logLevel=_D,this._logHandler=ED,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const CD=(t,e)=>e.some(n=>t instanceof n);let Lw,Nw;function TD(){return Lw||(Lw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kD(){return Nw||(Nw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $T=new WeakMap,ug=new WeakMap,UT=new WeakMap,fp=new WeakMap,rv=new WeakMap;function ID(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Pi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$T.set(n,t)}).catch(()=>{}),rv.set(e,t),e}function xD(t){if(ug.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ug.set(t,e)}let cg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ug.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bD(t){cg=t(cg)}function RD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pp(this),e,...n);return UT.set(r,e.sort?e.sort():[e]),Pi(r)}:kD().includes(t)?function(...e){return t.apply(pp(this),e),Pi($T.get(this))}:function(...e){return Pi(t.apply(pp(this),e))}}function AD(t){return typeof t=="function"?RD(t):(t instanceof IDBTransaction&&xD(t),CD(t,TD())?new Proxy(t,cg):t)}function Pi(t){if(t instanceof IDBRequest)return ID(t);if(fp.has(t))return fp.get(t);const e=AD(t);return e!==t&&(fp.set(t,e),rv.set(e,t)),e}const pp=t=>rv.get(t);function FT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Pi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Pi(o.result),l.oldVersion,l.newVersion,Pi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const PD=["get","getKey","getAll","getAllKeys","count"],LD=["put","add","delete","clear"],mp=new Map;function Ow(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mp.get(e))return mp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=LD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return mp.set(e,s),s}bD(t=>({...t,get:(e,n,r)=>Ow(e,n)||t.get(e,n,r),has:(e,n)=>!!Ow(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dg="@firebase/app",Dw="0.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new Vh("@firebase/app"),DD="@firebase/app-compat",jD="@firebase/analytics-compat",MD="@firebase/analytics",$D="@firebase/app-check-compat",UD="@firebase/app-check",FD="@firebase/auth",VD="@firebase/auth-compat",zD="@firebase/database",BD="@firebase/database-compat",HD="@firebase/functions",qD="@firebase/functions-compat",WD="@firebase/installations",KD="@firebase/installations-compat",GD="@firebase/messaging",QD="@firebase/messaging-compat",YD="@firebase/performance",XD="@firebase/performance-compat",JD="@firebase/remote-config",ZD="@firebase/remote-config-compat",ej="@firebase/storage",tj="@firebase/storage-compat",nj="@firebase/firestore",rj="@firebase/firestore-compat",ij="firebase",sj="9.15.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="[DEFAULT]",oj={[dg]:"fire-core",[DD]:"fire-core-compat",[MD]:"fire-analytics",[jD]:"fire-analytics-compat",[UD]:"fire-app-check",[$D]:"fire-app-check-compat",[FD]:"fire-auth",[VD]:"fire-auth-compat",[zD]:"fire-rtdb",[BD]:"fire-rtdb-compat",[HD]:"fire-fn",[qD]:"fire-fn-compat",[WD]:"fire-iid",[KD]:"fire-iid-compat",[GD]:"fire-fcm",[QD]:"fire-fcm-compat",[YD]:"fire-perf",[XD]:"fire-perf-compat",[JD]:"fire-rc",[ZD]:"fire-rc-compat",[ej]:"fire-gcs",[tj]:"fire-gcs-compat",[nj]:"fire-fst",[rj]:"fire-fst-compat","fire-js":"fire-js",[ij]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=new Map,fg=new Map;function aj(t,e){try{t.container.addComponent(e)}catch(n){Rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function or(t){const e=t.name;if(fg.has(e))return Rs.debug(`There were multiple attempts to register component ${e}.`),!1;fg.set(e,t);for(const n of Sd.values())aj(n,t);return!0}function Ki(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Li=new Bs("app","Firebase",lj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=sj;function VT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:hg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Li.create("bad-app-name",{appName:String(i)});if(n||(n=nD()),!n)throw Li.create("no-options");const s=Sd.get(i);if(s){if(Ul(n,s.options)&&Ul(r,s.config))return s;throw Li.create("duplicate-app",{appName:i})}const o=new vD(i);for(const l of fg.values())o.addComponent(l);const a=new uj(n,r,o);return Sd.set(i,a),a}function zh(t=hg){const e=Sd.get(t);if(!e&&t===hg)return VT();if(!e)throw Li.create("no-app",{appName:t});return e}function mn(t,e,n){var r;let i=(r=oj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rs.warn(a.join(" "));return}or(new Vn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="firebase-heartbeat-database",dj=1,Fl="firebase-heartbeat-store";let gp=null;function zT(){return gp||(gp=FT(cj,dj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Fl)}}}).catch(t=>{throw Li.create("idb-open",{originalErrorMessage:t.message})})),gp}async function hj(t){try{return(await zT()).transaction(Fl).objectStore(Fl).get(BT(t))}catch(e){if(e instanceof Hn)Rs.warn(e.message);else{const n=Li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rs.warn(n.message)}}}async function jw(t,e){try{const r=(await zT()).transaction(Fl,"readwrite");return await r.objectStore(Fl).put(e,BT(t)),r.done}catch(n){if(n instanceof Hn)Rs.warn(n.message);else{const r=Li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Rs.warn(r.message)}}}function BT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj=1024,pj=30*24*60*60*1e3;class mj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Mw();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=pj}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Mw(),{heartbeatsToSend:n,unsentEntries:r}=gj(this._heartbeatsCache.heartbeats),i=_d(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Mw(){return new Date().toISOString().substring(0,10)}function gj(t,e=fj){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),$w(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$w(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LT()?NT().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await hj(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $w(t){return _d(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(t){or(new Vn("platform-logger",e=>new ND(e),"PRIVATE")),or(new Vn("heartbeat",e=>new mj(e),"PRIVATE")),mn(dg,Dw,t),mn(dg,Dw,"esm2017"),mn("fire-js","")}vj("");function iv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function HT(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wj=HT,qT=new Bs("auth","Firebase",HT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=new Vh("@firebase/auth");function Dc(t,...e){Uw.logLevel<=Pe.ERROR&&Uw.error(`Auth (${aa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t,...e){throw sv(t,...e)}function Sr(t,...e){return sv(t,...e)}function WT(t,e,n){const r=Object.assign(Object.assign({},wj()),{[e]:n});return new Bs("auth","Firebase",r).create(e,{appName:t.name})}function _j(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&zn(t,"argument-error"),WT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qT.create(t,...e)}function ce(t,e,...n){if(!t)throw sv(e,...n)}function Fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dc(e),new Error(e)}function Jr(t,e){t||Fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Map;function Vr(t){Jr(t instanceof Function,"Expected a class definition");let e=Fw.get(t);return e?(Jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Fw.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(t,e){const n=Ki(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ul(s,e??{}))return i;zn(i,"already-initialized")}return n.initialize({options:e})}function Ej(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Cj(){return Vw()==="http:"||Vw()==="https:"}function Vw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Cj()||PT()||"connection"in navigator)?navigator.onLine:!0}function kj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jr(n>e,"Short delay should be less than long delay!"),this.isMobile=KO()||QO()}get(){return Tj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t,e){Jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj=new fu(3e4,6e4);function pu(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function la(t,e,n,r,i={}){return GT(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=hu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),KT.fetch()(QT(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function GT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ij),e);try{const i=new bj(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ac(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ac(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ac(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ac(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw WT(t,c,u);zn(t,c)}}catch(i){if(i instanceof Hn)throw i;zn(t,"network-request-failed")}}async function mu(t,e,n,r,i={}){const s=await la(t,e,n,r,i);return"mfaPendingCredential"in s&&zn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function QT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ov(t.config,i):`${t.config.apiScheme}://${i}`}class bj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sr(this.auth,"network-request-failed")),xj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ac(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Sr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(t,e){return la(t,"POST","/v1/accounts:delete",e)}async function Aj(t,e){return la(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Pj(t,e=!1){const n=Je(t),r=await n.getIdToken(e),i=av(r);ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ll(yp(i.auth_time)),issuedAtTime:ll(yp(i.iat)),expirationTime:ll(yp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function yp(t){return Number(t)*1e3}function av(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const i=AT(n);return i?JSON.parse(i):(Dc("Failed to decode base64 JWT payload"),null)}catch(i){return Dc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Lj(t){const e=av(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hn&&Nj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Nj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ll(this.lastLoginAt),this.creationTime=ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ed(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Go(t,Aj(n,{idToken:r}));ce(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Mj(s.providerUserInfo):[],a=jj(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new YT(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function Dj(t){const e=Je(t);await Ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Mj(t){return t.map(e=>{var{providerId:n}=e,r=iv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $j(t,e){const n=await GT(t,{},async()=>{const r=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=QT(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",KT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ce(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await $j(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Vl;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ce(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ws{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=iv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Oj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new YT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Go(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Pj(this,e)}reload(){return Dj(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ws(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ed(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Go(this,Rj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:_,isAnonymous:E,providerData:k,stsTokenManager:I}=n;ce(w&&I,e,"internal-error");const N=Vl.fromJSON(this.name,I);ce(typeof w=="string",e,"internal-error"),ci(d,e.name),ci(h,e.name),ce(typeof _=="boolean",e,"internal-error"),ce(typeof E=="boolean",e,"internal-error"),ci(p,e.name),ci(v,e.name),ci(m,e.name),ci(S,e.name),ci(y,e.name),ci(g,e.name);const R=new ws({uid:w,auth:e,email:h,emailVerified:_,displayName:d,isAnonymous:E,photoURL:v,phoneNumber:p,tenantId:m,stsTokenManager:N,createdAt:y,lastLoginAt:g});return k&&Array.isArray(k)&&(R.providerData=k.map(D=>Object.assign({},D))),S&&(R._redirectEventId=S),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Vl;i.updateFromServerResponse(n);const s=new ws({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ed(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XT.type="NONE";const zw=XT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t,e,n){return`firebase:${t}:${e}:${n}`}class Po{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=jc(this.userKey,i.apiKey,s),this.fullPersistenceKey=jc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ws._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Po(Vr(zw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Vr(zw);const o=jc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=ws._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Po(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Po(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ek(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nk(e))return"Blackberry";if(rk(e))return"Webos";if(lv(e))return"Safari";if((e.includes("chrome/")||ZT(e))&&!e.includes("edge/"))return"Chrome";if(tk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function JT(t=Yt()){return/firefox\//i.test(t)}function lv(t=Yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZT(t=Yt()){return/crios\//i.test(t)}function ek(t=Yt()){return/iemobile/i.test(t)}function tk(t=Yt()){return/android/i.test(t)}function nk(t=Yt()){return/blackberry/i.test(t)}function rk(t=Yt()){return/webos/i.test(t)}function Bh(t=Yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Uj(t=Yt()){var e;return Bh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Fj(){return YO()&&document.documentMode===10}function ik(t=Yt()){return Bh(t)||tk(t)||rk(t)||nk(t)||/windows phone/i.test(t)||ek(t)}function Vj(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t,e=[]){let n;switch(t){case"Browser":n=Bw(Yt());break;case"Worker":n=`${Bw(Yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${aa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hw(this),this.idTokenSubscription=new Hw(this),this.beforeStateQueue=new zj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qT,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Po.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ed(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Je(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vr(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[Vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function ua(t){return Je(t)}class Hw{constructor(e){this.auth=e,this.observer=null,this.addObserver=lD(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Hj(t,e,n){const r=ua(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=ok(e),{host:o,port:a}=qj(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Wj()}function ok(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qj(t){const e=ok(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:qw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:qw(o)}}}function qw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Wj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fr("not implemented")}_getIdTokenResponse(e){return Fr("not implemented")}_linkToIdToken(e,n){return Fr("not implemented")}_getReauthenticationResolver(e){return Fr("not implemented")}}async function Kj(t,e){return la(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(t,e){return mu(t,"POST","/v1/accounts:signInWithPassword",pu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(t,e){return mu(t,"POST","/v1/accounts:signInWithEmailLink",pu(t,e))}async function Yj(t,e){return mu(t,"POST","/v1/accounts:signInWithEmailLink",pu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends uv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new zl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new zl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Gj(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Qj(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Kj(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Yj(e,{idToken:n,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(t,e){return mu(t,"POST","/v1/accounts:signInWithIdp",pu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="http://localhost";class As extends uv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=iv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new As(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Lo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Lo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Lo(e,n)}buildRequest(){const e={requestUri:Xj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Zj(t){const e=qa(Wa(t)).link,n=e?qa(Wa(e)).deep_link_id:null,r=qa(Wa(t)).deep_link_id;return(r?qa(Wa(r)).link:null)||r||n||e||t}class cv{constructor(e){var n,r,i,s,o,a;const l=qa(Wa(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=Jj((i=l.mode)!==null&&i!==void 0?i:null);ce(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Zj(e);try{return new cv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.providerId=ca.PROVIDER_ID}static credential(e,n){return zl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=cv.parseLink(n);return ce(r,"argument-error"),zl._fromEmailAndCode(e,r.code,r.tenantId)}}ca.PROVIDER_ID="password";ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends dv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends gu{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return As._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mr.credential(n,r)}catch{return null}}}Mr.GOOGLE_SIGN_IN_METHOD="google.com";Mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends gu{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.GITHUB_SIGN_IN_METHOD="github.com";gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends gu{constructor(){super("twitter.com")}static credential(e,n){return As._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return yi.credential(n,r)}catch{return null}}}yi.TWITTER_SIGN_IN_METHOD="twitter.com";yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(t,e){return mu(t,"POST","/v1/accounts:signUp",pu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ws._fromIdTokenResponse(e,r,i),o=Ww(r);return new Ps({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Ww(r);return new Ps({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Ww(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends Hn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Cd(e,n,r,i)}}function ak(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Cd._fromErrorAndOperation(t,s,e,r):s})}async function tM(t,e,n=!1){const r=await Go(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ps._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Go(t,ak(r,i,e,t),n);ce(s.idToken,r,"internal-error");const o=av(s.idToken);ce(o,r,"internal-error");const{sub:a}=o;return ce(t.uid===a,r,"user-mismatch"),Ps._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&zn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(t,e,n=!1){const r="signIn",i=await ak(t,r,e),s=await Ps._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function rM(t,e){return lk(ua(t),e)}async function iM(t,e,n){const r=ua(t),i=await eM(r,{returnSecureToken:!0,email:e,password:n}),s=await Ps._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function sM(t,e,n){return rM(Je(t),ca.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(t,e){return la(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Je(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Go(r,oM(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function lM(t,e,n,r){return Je(t).onIdTokenChanged(e,n,r)}function uM(t,e,n){return Je(t).beforeAuthStateChanged(e,n)}function cM(t,e,n,r){return Je(t).onAuthStateChanged(e,n,r)}function dM(t){return Je(t).signOut()}const Td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Td,"1"),this.storage.removeItem(Td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(){const t=Yt();return lv(t)||Bh(t)}const fM=1e3,pM=10;class ck extends uk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=hM()&&Vj(),this.fallbackToPolling=ik(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Fj()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,pM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},fM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ck.type="LOCAL";const mM=ck;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk extends uk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dk.type="SESSION";const hk=dk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Hh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await gM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=hv("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return window}function vM(t){Er().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(){return typeof Er().WorkerGlobalScope<"u"&&typeof Er().importScripts=="function"}async function wM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _M(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function SM(){return fk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="firebaseLocalStorageDb",EM=1,kd="firebaseLocalStorage",mk="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qh(t,e){return t.transaction([kd],e?"readwrite":"readonly").objectStore(kd)}function CM(){const t=indexedDB.deleteDatabase(pk);return new yu(t).toPromise()}function mg(){const t=indexedDB.open(pk,EM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kd,{keyPath:mk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kd)?e(r):(r.close(),await CM(),e(await mg()))})})}async function Kw(t,e,n){const r=qh(t,!0).put({[mk]:e,value:n});return new yu(r).toPromise()}async function TM(t,e){const n=qh(t,!1).get(e),r=await new yu(n).toPromise();return r===void 0?null:r.value}function Gw(t,e){const n=qh(t,!0).delete(e);return new yu(n).toPromise()}const kM=800,IM=3;class gk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>IM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(SM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wM(),!this.activeServiceWorker)return;this.sender=new yM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_M()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mg();return await Kw(e,Td,"1"),await Gw(e,Td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Kw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>TM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=qh(i,!1).getAll();return new yu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gk.type="LOCAL";const xM=gk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function RM(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Sr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",bM().appendChild(r)})}function AM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t,e){return e?Vr(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv extends uv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PM(t){return lk(t.auth,new fv(t),t.bypassAuthState)}function LM(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),nM(n,new fv(t),t.bypassAuthState)}async function NM(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),tM(n,new fv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PM;case"linkViaPopup":case"linkViaRedirect":return NM;case"reauthViaPopup":case"reauthViaRedirect":return LM;default:zn(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=new fu(2e3,1e4);async function DM(t,e,n){const r=ua(t);_j(t,e,dv);const i=yk(r,n);return new us(r,"signInViaPopup",e,i).executeNotNull()}class us extends vk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,us.currentPopupAction&&us.currentPopupAction.cancel(),us.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const e=hv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,us.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,OM.get())};e()}}us.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM="pendingRedirect",Mc=new Map;class MM extends vk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mc.get(this.auth._key());if(!e){try{const r=await $M(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mc.set(this.auth._key(),e)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $M(t,e){const n=VM(e),r=FM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function UM(t,e){Mc.set(t._key(),e)}function FM(t){return Vr(t._redirectPersistence)}function VM(t){return jc(jM,t.config.apiKey,t.name)}async function zM(t,e,n=!1){const r=ua(t),i=yk(r,e),o=await new MM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=10*60*1e3;class HM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qw(e))}saveEventToCache(e){this.cachedEventUids.add(Qw(e)),this.lastProcessedEventTime=Date.now()}}function Qw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(t,e={}){return la(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GM=/^https?/;async function QM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await WM(t);for(const n of e)try{if(YM(n))return}catch{}zn(t,"unauthorized-domain")}function YM(t){const e=pg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!GM.test(n))return!1;if(KM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=new fu(3e4,6e4);function Yw(){const t=Er().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JM(t){return new Promise((e,n)=>{var r,i,s;function o(){Yw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yw(),n(Sr(t,"network-request-failed"))},timeout:XM.get()})}if(!((i=(r=Er().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Er().gapi)===null||s===void 0)&&s.load)o();else{const a=AM("iframefcb");return Er()[a]=()=>{gapi.load?o():n(Sr(t,"network-request-failed"))},RM(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw $c=null,e})}let $c=null;function ZM(t){return $c=$c||JM(t),$c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$=new fu(5e3,15e3),t$="__/auth/iframe",n$="emulator/auth/iframe",r$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s$(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ov(e,n$):`https://${t.config.authDomain}/${t$}`,r={apiKey:e.apiKey,appName:t.name,v:aa},i=i$.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${hu(r).slice(1)}`}async function o$(t){const e=await ZM(t),n=Er().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:s$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Sr(t,"network-request-failed"),a=Er().setTimeout(()=>{s(o)},e$.get());function l(){Er().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l$=500,u$=600,c$="_blank",d$="http://localhost";class Xw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h$(t,e,n,r=l$,i=u$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},a$),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Yt().toLowerCase();n&&(a=ZT(u)?c$:n),JT(u)&&(e=e||d$,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(Uj(u)&&a!=="_self")return f$(e||"",a),new Xw(null);const d=window.open(e||"",a,c);ce(d,t,"popup-blocked");try{d.focus()}catch{}return new Xw(d)}function f$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$="__/auth/handler",m$="emulator/auth/handler";function Jw(t,e,n,r,i,s){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:aa,eventId:i};if(e instanceof dv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",aD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof gu){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${g$(t)}?${hu(a).slice(1)}`}function g$({config:t}){return t.emulator?ov(t,m$):`https://${t.authDomain}/${p$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="webStorageSupport";class y${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hk,this._completeRedirectFn=zM,this._overrideRedirectResult=UM}async _openPopup(e,n,r,i){var s;Jr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=Jw(e,n,r,pg(),i);return h$(e,o,hv())}async _openRedirect(e,n,r,i){return await this._originValidation(e),vM(Jw(e,n,r,pg(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Jr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await o$(e),r=new HM(e);return n.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vp,{type:vp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[vp];o!==void 0&&n(!!o),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ik()||lv()||Bh()}}const v$=y$;var Zw="@firebase/auth",e_="0.21.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function S$(t){or(new Vn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{ce(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),ce(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sk(t)},c=new Bj(a,l,u);return Ej(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),or(new Vn("auth-internal",e=>{const n=ua(e.getProvider("auth").getImmediate());return(r=>new w$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mn(Zw,e_,_$(t)),mn(Zw,e_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$=5*60,C$=jT("authIdTokenMaxAge")||E$;let t_=null;const T$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>C$)return;const i=n==null?void 0:n.token;t_!==i&&(t_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function k$(t=zh()){const e=Ki(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Sj(t,{popupRedirectResolver:v$,persistence:[xM,mM,hk]}),r=jT("authTokenSyncURL");if(r){const s=T$(r);uM(n,s,()=>s(n.currentUser)),lM(n,o=>s(o))}const i=OT("auth");return i&&Hj(n,`http://${i}`),n}S$("Browser");const _k="@firebase/installations",pv="0.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=1e4,Ek=`w:${pv}`,Ck="FIS_v2",I$="https://firebaseinstallations.googleapis.com/v1",x$=60*60*1e3,b$="installations",R$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},Ls=new Bs(b$,R$,A$);function Tk(t){return t instanceof Hn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk({projectId:t}){return`${I$}/projects/${t}/installations`}function Ik(t){return{token:t.token,requestStatus:2,expiresIn:L$(t.expiresIn),creationTime:Date.now()}}async function xk(t,e){const r=(await e.json()).error;return Ls.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function bk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function P$(t,{refreshToken:e}){const n=bk(t);return n.append("Authorization",N$(e)),n}async function Rk(t){const e=await t();return e.status>=500&&e.status<600?t():e}function L$(t){return Number(t.replace("s","000"))}function N$(t){return`${Ck} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O$({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=kk(t),i=bk(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:Ck,appId:t.appId,sdkVersion:Ek},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Rk(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:Ik(u.authToken)}}else throw await xk("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$=/^[cdef][\w-]{21}$/,gg="";function M$(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=$$(t);return j$.test(n)?n:gg}catch{return gg}}function $$(t){return D$(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=new Map;function Lk(t,e){const n=Wh(t);Nk(n,e),U$(n,e)}function Nk(t,e){const n=Pk.get(t);if(n)for(const r of n)r(e)}function U$(t,e){const n=F$();n&&n.postMessage({key:t,fid:e}),V$()}let cs=null;function F$(){return!cs&&"BroadcastChannel"in self&&(cs=new BroadcastChannel("[Firebase] FID Change"),cs.onmessage=t=>{Nk(t.data.key,t.data.fid)}),cs}function V$(){Pk.size===0&&cs&&(cs.close(),cs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$="firebase-installations-database",B$=1,Ns="firebase-installations-store";let wp=null;function mv(){return wp||(wp=FT(z$,B$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ns)}}})),wp}async function Id(t,e){const n=Wh(t),i=(await mv()).transaction(Ns,"readwrite"),s=i.objectStore(Ns),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Lk(t,e.fid),e}async function Ok(t){const e=Wh(t),r=(await mv()).transaction(Ns,"readwrite");await r.objectStore(Ns).delete(e),await r.done}async function Kh(t,e){const n=Wh(t),i=(await mv()).transaction(Ns,"readwrite"),s=i.objectStore(Ns),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Lk(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gv(t){let e;const n=await Kh(t.appConfig,r=>{const i=H$(r),s=q$(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===gg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function H$(t){const e=t||{fid:M$(),registrationStatus:0};return Dk(e)}function q$(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ls.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=W$(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:K$(t)}:{installationEntry:e}}async function W$(t,e){try{const n=await O$(t,e);return Id(t.appConfig,n)}catch(n){throw Tk(n)&&n.customData.serverCode===409?await Ok(t.appConfig):await Id(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function K$(t){let e=await n_(t.appConfig);for(;e.registrationStatus===1;)await Ak(100),e=await n_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await gv(t);return r||n}return e}function n_(t){return Kh(t,e=>{if(!e)throw Ls.create("installation-not-found");return Dk(e)})}function Dk(t){return G$(t)?{fid:t.fid,registrationStatus:0}:t}function G$(t){return t.registrationStatus===1&&t.registrationTime+Sk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q$({appConfig:t,heartbeatServiceProvider:e},n){const r=Y$(t,n),i=P$(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:Ek,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Rk(()=>fetch(r,a));if(l.ok){const u=await l.json();return Ik(u)}else throw await xk("Generate Auth Token",l)}function Y$(t,{fid:e}){return`${kk(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yv(t,e=!1){let n;const r=await Kh(t.appConfig,s=>{if(!jk(s))throw Ls.create("not-registered");const o=s.authToken;if(!e&&Z$(o))return s;if(o.requestStatus===1)return n=X$(t,e),s;{if(!navigator.onLine)throw Ls.create("app-offline");const a=t4(s);return n=J$(t,a),a}});return n?await n:r.authToken}async function X$(t,e){let n=await r_(t.appConfig);for(;n.authToken.requestStatus===1;)await Ak(100),n=await r_(t.appConfig);const r=n.authToken;return r.requestStatus===0?yv(t,e):r}function r_(t){return Kh(t,e=>{if(!jk(e))throw Ls.create("not-registered");const n=e.authToken;return n4(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function J$(t,e){try{const n=await Q$(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Id(t.appConfig,r),n}catch(n){if(Tk(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Ok(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Id(t.appConfig,r)}throw n}}function jk(t){return t!==void 0&&t.registrationStatus===2}function Z$(t){return t.requestStatus===2&&!e4(t)}function e4(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+x$}function t4(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function n4(t){return t.requestStatus===1&&t.requestTime+Sk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r4(t){const e=t,{installationEntry:n,registrationPromise:r}=await gv(e);return r?r.catch(console.error):yv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(t,e=!1){const n=t;return await s4(n),(await yv(n,e)).token}async function s4(t){const{registrationPromise:e}=await gv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(t){if(!t||!t.options)throw _p("App Configuration");if(!t.name)throw _p("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw _p(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function _p(t){return Ls.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="installations",a4="installations-internal",l4=t=>{const e=t.getProvider("app").getImmediate(),n=o4(e),r=Ki(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},u4=t=>{const e=t.getProvider("app").getImmediate(),n=Ki(e,Mk).getImmediate();return{getId:()=>r4(n),getToken:i=>i4(n,i)}};function c4(){or(new Vn(Mk,l4,"PUBLIC")),or(new Vn(a4,u4,"PRIVATE"))}c4();mn(_k,pv);mn(_k,pv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="analytics",d4="firebase_id",h4="origin",f4=60*1e3,p4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$k="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn=new Vh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function m4(t,e){const n=document.createElement("script");n.src=`${$k}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function g4(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function y4(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await Uk(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Sn.error(a)}t("config",i,s)}async function v4(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await Uk(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Sn.error(s)}}function w4(t,e,n,r){async function i(s,o,a){try{s==="event"?await v4(t,e,n,o,a):s==="config"?await y4(t,e,n,r,o,a):s==="consent"?t("consent","update",a):t("set",o)}catch(l){Sn.error(l)}}return i}function _4(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=w4(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function S4(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes($k)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},jn=new Bs("analytics","Analytics",E4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=30,T4=1e3;class k4{constructor(e={},n=T4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Fk=new k4;function I4(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function x4(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:I4(r)},s=p4.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw jn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function b4(t,e=Fk,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw jn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw jn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new P4;return setTimeout(async()=>{a.abort()},n!==void 0?n:f4),Vk({appId:r,apiKey:i,measurementId:s},o,a,e)}async function Vk(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Fk){var s;const{appId:o,measurementId:a}=t;try{await R4(r,e)}catch(l){if(a)return Sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await x4(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!A4(u)){if(i.deleteThrottleMetadata(o),a)return Sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?Pw(n,i.intervalMillis,C4):Pw(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),Sn.debug(`Calling attemptFetch again in ${c} millis`),Vk(t,d,r,i)}}function R4(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function A4(t){if(!(t instanceof Hn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class P4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function L4(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(){if(LT())try{await NT()}catch(t){return Sn.warn(jn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Sn.warn(jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function O4(t,e,n,r,i,s,o){var a;const l=b4(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Sn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Sn.error(p)),e.push(l);const u=N4().then(p=>{if(p)return r.getId()}),[c,d]=await Promise.all([l,u]);S4(s)||m4(s,c.measurementId),i("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[h4]="firebase",h.update=!0,d!=null&&(h[d4]=d),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.app=e}_delete(){return delete ul[this.app.options.appId],Promise.resolve()}}let ul={},i_=[];const s_={};let Sp="dataLayer",j4="gtag",o_,zk,a_=!1;function M4(){const t=[];if(PT()&&t.push("This is a browser extension environment."),XO()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=jn.create("invalid-analytics-context",{errorInfo:e});Sn.warn(n.message)}}function $4(t,e,n){M4();const r=t.options.appId;if(!r)throw jn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw jn.create("no-api-key");if(ul[r]!=null)throw jn.create("already-exists",{id:r});if(!a_){g4(Sp);const{wrappedGtag:s,gtagCore:o}=_4(ul,i_,s_,Sp,j4);zk=s,o_=o,a_=!0}return ul[r]=O4(t,i_,s_,e,o_,Sp,n),new D4(t)}function U4(t=zh()){t=Je(t);const e=Ki(t,xd);return e.isInitialized()?e.getImmediate():F4(t)}function F4(t,e={}){const n=Ki(t,xd);if(n.isInitialized()){const i=n.getImmediate();if(Ul(e,n.getOptions()))return i;throw jn.create("already-initialized")}return n.initialize({options:e})}function V4(t,e,n,r){t=Je(t),L4(zk,ul[t.app.options.appId],e,n,r).catch(i=>Sn.error(i))}const l_="@firebase/analytics",u_="0.9.0";function z4(){or(new Vn(xd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return $4(r,i,n)},"PUBLIC")),or(new Vn("analytics-internal",t,"PRIVATE")),mn(l_,u_),mn(l_,u_,"esm2017");function t(e){try{const n=e.getProvider(xd).getImmediate();return{logEvent:(r,i,s)=>V4(n,r,i,s)}}catch(n){throw jn.create("interop-component-reg-failed",{reason:n})}}}z4();var B4="firebase",H4="9.15.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn(B4,H4,"app");var q4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X,vv=vv||{},fe=q4||self;function bd(){}function Gh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function vu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function W4(t){return Object.prototype.hasOwnProperty.call(t,Ep)&&t[Ep]||(t[Ep]=++K4)}var Ep="closure_uid_"+(1e9*Math.random()>>>0),K4=0;function G4(t,e,n){return t.call.apply(t.bind,arguments)}function Q4(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Wt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Wt=G4:Wt=Q4,Wt.apply(null,arguments)}function lc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Dt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Gi(){this.s=this.s,this.o=this.o}var Y4=0;Gi.prototype.s=!1;Gi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),Y4!=0)&&W4(this)};Gi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Bk=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function wv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function c_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Gh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Kt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Kt.prototype.h=function(){this.defaultPrevented=!0};var X4=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{fe.addEventListener("test",bd,e),fe.removeEventListener("test",bd,e)}catch{}return t}();function Rd(t){return/^[\s\xa0]*$/.test(t)}var d_=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Cp(t,e){return t<e?-1:t>e?1:0}function Qh(){var t=fe.navigator;return t&&(t=t.userAgent)?t:""}function pr(t){return Qh().indexOf(t)!=-1}function _v(t){return _v[" "](t),t}_v[" "]=bd;function J4(t){var e=t3;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var Z4=pr("Opera"),Qo=pr("Trident")||pr("MSIE"),Hk=pr("Edge"),yg=Hk||Qo,qk=pr("Gecko")&&!(Qh().toLowerCase().indexOf("webkit")!=-1&&!pr("Edge"))&&!(pr("Trident")||pr("MSIE"))&&!pr("Edge"),e3=Qh().toLowerCase().indexOf("webkit")!=-1&&!pr("Edge");function Wk(){var t=fe.document;return t?t.documentMode:void 0}var Ad;e:{var Tp="",kp=function(){var t=Qh();if(qk)return/rv:([^\);]+)(\)|;)/.exec(t);if(Hk)return/Edge\/([\d\.]+)/.exec(t);if(Qo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(e3)return/WebKit\/(\S+)/.exec(t);if(Z4)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(kp&&(Tp=kp?kp[1]:""),Qo){var Ip=Wk();if(Ip!=null&&Ip>parseFloat(Tp)){Ad=String(Ip);break e}}Ad=Tp}var t3={};function n3(){return J4(function(){let t=0;const e=d_(String(Ad)).split("."),n=d_("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Cp(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Cp(i[2].length==0,s[2].length==0)||Cp(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var vg;if(fe.document&&Qo){var h_=Wk();vg=h_||parseInt(Ad,10)||void 0}else vg=void 0;var r3=vg;function Bl(t,e){if(Kt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(qk){e:{try{_v(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:i3[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Bl.X.h.call(this)}}Dt(Bl,Kt);var i3={2:"touch",3:"pen",4:"mouse"};Bl.prototype.h=function(){Bl.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var wu="closure_listenable_"+(1e6*Math.random()|0),s3=0;function o3(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++s3,this.ba=this.ea=!1}function Yh(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Sv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Kk(t){const e={};for(const n in t)e[n]=t[n];return e}const f_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gk(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<f_.length;s++)n=f_[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Xh(t){this.src=t,this.g={},this.h=0}Xh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=_g(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new o3(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function wg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Bk(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Yh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function _g(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var Ev="closure_lm_"+(1e6*Math.random()|0),xp={};function Qk(t,e,n,r,i){if(r&&r.once)return Xk(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Qk(t,e[s],n,r,i);return null}return n=kv(n),t&&t[wu]?t.N(e,n,vu(r)?!!r.capture:!!r,i):Yk(t,e,n,!1,r,i)}function Yk(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=vu(i)?!!i.capture:!!i,a=Tv(t);if(a||(t[Ev]=a=new Xh(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=a3(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)X4||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Zk(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function a3(){function t(n){return e.call(t.src,t.listener,n)}const e=l3;return t}function Xk(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Xk(t,e[s],n,r,i);return null}return n=kv(n),t&&t[wu]?t.O(e,n,vu(r)?!!r.capture:!!r,i):Yk(t,e,n,!0,r,i)}function Jk(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Jk(t,e[s],n,r,i);else r=vu(r)?!!r.capture:!!r,n=kv(n),t&&t[wu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=_g(s,n,r,i),-1<n&&(Yh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Tv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=_g(e,n,r,i)),(n=-1<t?e[t]:null)&&Cv(n))}function Cv(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[wu])wg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Zk(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Tv(e))?(wg(n,t),n.h==0&&(n.src=null,e[Ev]=null)):Yh(t)}}}function Zk(t){return t in xp?xp[t]:xp[t]="on"+t}function l3(t,e){if(t.ba)t=!0;else{e=new Bl(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Cv(t),t=n.call(r,e)}return t}function Tv(t){return t=t[Ev],t instanceof Xh?t:null}var bp="__closure_events_fn_"+(1e9*Math.random()>>>0);function kv(t){return typeof t=="function"?t:(t[bp]||(t[bp]=function(e){return t.handleEvent(e)}),t[bp])}function xt(){Gi.call(this),this.i=new Xh(this),this.P=this,this.I=null}Dt(xt,Gi);xt.prototype[wu]=!0;xt.prototype.removeEventListener=function(t,e,n,r){Jk(this,t,e,n,r)};function Nt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Kt(e,t);else if(e instanceof Kt)e.target=e.target||t;else{var i=e;e=new Kt(r,t),Gk(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=uc(o,r,!0,e)&&i}if(o=e.g=t,i=uc(o,r,!0,e)&&i,i=uc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=uc(o,r,!1,e)&&i}xt.prototype.M=function(){if(xt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Yh(n[r]);delete t.g[e],t.h--}}this.I=null};xt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};xt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function uc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&wg(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Iv=fe.JSON.stringify;function u3(){var t=nI;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class c3{constructor(){this.h=this.g=null}add(e,n){const r=eI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var eI=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new d3,t=>t.reset());class d3{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function h3(t){fe.setTimeout(()=>{throw t},0)}function tI(t,e){Sg||f3(),Eg||(Sg(),Eg=!0),nI.add(t,e)}var Sg;function f3(){var t=fe.Promise.resolve(void 0);Sg=function(){t.then(p3)}}var Eg=!1,nI=new c3;function p3(){for(var t;t=u3();){try{t.h.call(t.g)}catch(n){h3(n)}var e=eI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Eg=!1}function Jh(t,e){xt.call(this),this.h=t||1,this.g=e||fe,this.j=Wt(this.lb,this),this.l=Date.now()}Dt(Jh,xt);X=Jh.prototype;X.ca=!1;X.R=null;X.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Nt(this,"tick"),this.ca&&(xv(this),this.start()))}};X.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function xv(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}X.M=function(){Jh.X.M.call(this),xv(this),delete this.g};function bv(t,e,n){if(typeof t=="function")n&&(t=Wt(t,n));else if(t&&typeof t.handleEvent=="function")t=Wt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:fe.setTimeout(t,e||0)}function rI(t){t.g=bv(()=>{t.g=null,t.i&&(t.i=!1,rI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class m3 extends Gi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rI(this)}M(){super.M(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hl(t){Gi.call(this),this.h=t,this.g={}}Dt(Hl,Gi);var p_=[];function iI(t,e,n,r){Array.isArray(n)||(n&&(p_[0]=n.toString()),n=p_);for(var i=0;i<n.length;i++){var s=Qk(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function sI(t){Sv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Cv(e)},t),t.g={}}Hl.prototype.M=function(){Hl.X.M.call(this),sI(this)};Hl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Zh(){this.g=!0}Zh.prototype.Aa=function(){this.g=!1};function g3(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function y3(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function So(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+w3(t,n)+(r?" "+r:"")})}function v3(t,e){t.info(function(){return"TIMEOUT: "+e})}Zh.prototype.info=function(){};function w3(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Iv(n)}catch{return e}}var Hs={},m_=null;function ef(){return m_=m_||new xt}Hs.Pa="serverreachability";function oI(t){Kt.call(this,Hs.Pa,t)}Dt(oI,Kt);function ql(t){const e=ef();Nt(e,new oI(e))}Hs.STAT_EVENT="statevent";function aI(t,e){Kt.call(this,Hs.STAT_EVENT,t),this.stat=e}Dt(aI,Kt);function nn(t){const e=ef();Nt(e,new aI(e,t))}Hs.Qa="timingevent";function lI(t,e){Kt.call(this,Hs.Qa,t),this.size=e}Dt(lI,Kt);function _u(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){t()},e)}var tf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},uI={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Rv(){}Rv.prototype.h=null;function g_(t){return t.h||(t.h=t.i())}function cI(){}var Su={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Av(){Kt.call(this,"d")}Dt(Av,Kt);function Pv(){Kt.call(this,"c")}Dt(Pv,Kt);var Cg;function nf(){}Dt(nf,Rv);nf.prototype.g=function(){return new XMLHttpRequest};nf.prototype.i=function(){return{}};Cg=new nf;function Eu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Hl(this),this.O=_3,t=yg?125:void 0,this.T=new Jh(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new dI}function dI(){this.i=null,this.g="",this.h=!1}var _3=45e3,Tg={},Pd={};X=Eu.prototype;X.setTimeout=function(t){this.O=t};function kg(t,e,n){t.K=1,t.v=sf(Zr(e)),t.s=n,t.P=!0,hI(t,null)}function hI(t,e){t.F=Date.now(),Cu(t),t.A=Zr(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),_I(n.i,"t",r),t.C=0,n=t.l.H,t.h=new dI,t.g=VI(t.l,n?e:null,!t.s),0<t.N&&(t.L=new m3(Wt(t.La,t,t.g),t.N)),iI(t.S,t.g,"readystatechange",t.ib),e=t.H?Kk(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),ql(),g3(t.j,t.u,t.A,t.m,t.U,t.s)}X.ib=function(t){t=t.target;const e=this.L;e&&zr(t)==3?e.l():this.La(t)};X.La=function(t){try{if(t==this.g)e:{const c=zr(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>c)&&(c!=3||yg||this.g&&(this.h.h||this.g.fa()||__(this.g)))){this.I||c!=4||e==7||(e==8||0>=d?ql(3):ql(2)),rf(this);var n=this.g.aa();this.Y=n;t:if(fI(this)){var r=__(this.g);t="";var i=r.length,s=zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ds(this),cl(this);var o="";break t}this.h.i=new fe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,y3(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rd(a)){var u=a;break t}}u=null}if(n=u)So(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ig(this,n);else{this.i=!1,this.o=3,nn(12),ds(this),cl(this);break e}}this.P?(pI(this,c,o),yg&&this.i&&c==3&&(iI(this.S,this.T,"tick",this.hb),this.T.start())):(So(this.j,this.m,o,null),Ig(this,o)),c==4&&ds(this),this.i&&!this.I&&(c==4?MI(this.l,this):(this.i=!1,Cu(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,nn(12)):(this.o=0,nn(13)),ds(this),cl(this)}}}catch{}finally{}};function fI(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function pI(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=S3(t,n),i==Pd){e==4&&(t.o=4,nn(14),r=!1),So(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Tg){t.o=4,nn(15),So(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else So(t.j,t.m,i,null),Ig(t,i);fI(t)&&i!=Pd&&i!=Tg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,nn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$v(e),e.K=!0,nn(11))):(So(t.j,t.m,n,"[Invalid Chunked Response]"),ds(t),cl(t))}X.hb=function(){if(this.g){var t=zr(this.g),e=this.g.fa();this.C<e.length&&(rf(this),pI(this,t,e),this.i&&t!=4&&Cu(this))}};function S3(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Pd:(n=Number(e.substring(n,r)),isNaN(n)?Tg:(r+=1,r+n>e.length?Pd:(e=e.substr(r,n),t.C=r+n,e)))}X.cancel=function(){this.I=!0,ds(this)};function Cu(t){t.V=Date.now()+t.O,mI(t,t.O)}function mI(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=_u(Wt(t.gb,t),e)}function rf(t){t.B&&(fe.clearTimeout(t.B),t.B=null)}X.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(v3(this.j,this.A),this.K!=2&&(ql(),nn(17)),ds(this),this.o=2,cl(this)):mI(this,this.V-t)};function cl(t){t.l.G==0||t.I||MI(t.l,t)}function ds(t){rf(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,xv(t.T),sI(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Ig(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||xg(n.h,t))){if(!t.J&&xg(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Od(n),lf(n);else break e;Mv(n),nn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=_u(Wt(n.cb,n),6e3));if(1>=CI(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else hs(n,11)}else if((t.J||n.g==t)&&Od(n),!Rd(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const d=u[4];d!=null&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const v=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.h;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Lv(s,s.h),s.h=null))}if(r.D){const m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,Ye(r.F,r.D,m))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=FI(r,r.H?r.ka:null,r.V),o.J){TI(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(rf(a),Cu(a)),r.g=o}else DI(r);0<n.i.length&&uf(n)}else u[0]!="stop"&&u[0]!="close"||hs(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?hs(n,7):jv(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}ql(4)}catch{}}function E3(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Gh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function C3(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Gh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function gI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Gh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=C3(t),r=E3(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var yI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function T3(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function _s(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof _s){this.h=e!==void 0?e:t.h,Ld(this,t.j),this.s=t.s,this.g=t.g,Nd(this,t.m),this.l=t.l,e=t.i;var n=new Wl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),y_(this,n),this.o=t.o}else t&&(n=String(t).match(yI))?(this.h=!!e,Ld(this,n[1]||"",!0),this.s=Ka(n[2]||""),this.g=Ka(n[3]||"",!0),Nd(this,n[4]),this.l=Ka(n[5]||"",!0),y_(this,n[6]||"",!0),this.o=Ka(n[7]||"")):(this.h=!!e,this.i=new Wl(null,this.h))}_s.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ga(e,v_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ga(e,v_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ga(n,n.charAt(0)=="/"?x3:I3,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ga(n,R3)),t.join("")};function Zr(t){return new _s(t)}function Ld(t,e,n){t.j=n?Ka(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Nd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function y_(t,e,n){e instanceof Wl?(t.i=e,A3(t.i,t.h)):(n||(e=Ga(e,b3)),t.i=new Wl(e,t.h))}function Ye(t,e,n){t.i.set(e,n)}function sf(t){return Ye(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ka(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ga(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,k3),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function k3(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var v_=/[#\/\?@]/g,I3=/[#\?:]/g,x3=/[#\?]/g,b3=/[#\?@]/g,R3=/#/g;function Wl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Qi(t){t.g||(t.g=new Map,t.h=0,t.i&&T3(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}X=Wl.prototype;X.add=function(t,e){Qi(this),this.i=null,t=da(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function vI(t,e){Qi(t),e=da(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function wI(t,e){return Qi(t),e=da(t,e),t.g.has(e)}X.forEach=function(t,e){Qi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};X.oa=function(){Qi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};X.W=function(t){Qi(this);let e=[];if(typeof t=="string")wI(this,t)&&(e=e.concat(this.g.get(da(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};X.set=function(t,e){return Qi(this),this.i=null,t=da(this,t),wI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};X.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function _I(t,e,n){vI(t,e),0<n.length&&(t.i=null,t.g.set(da(t,e),wv(n)),t.h+=n.length)}X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function da(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function A3(t,e){e&&!t.j&&(Qi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(vI(this,r),_I(this,i,n))},t)),t.j=e}var P3=class{constructor(e,n){this.h=e,this.g=n}};function SI(t){this.l=t||L3,fe.PerformanceNavigationTiming?(t=fe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(fe.g&&fe.g.Ga&&fe.g.Ga()&&fe.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var L3=10;function EI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function CI(t){return t.h?1:t.g?t.g.size:0}function xg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Lv(t,e){t.g?t.g.add(e):t.h=e}function TI(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}SI.prototype.cancel=function(){if(this.i=kI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function kI(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return wv(t.i)}function Nv(){}Nv.prototype.stringify=function(t){return fe.JSON.stringify(t,void 0)};Nv.prototype.parse=function(t){return fe.JSON.parse(t,void 0)};function N3(){this.g=new Nv}function O3(t,e,n){const r=n||"";try{gI(t,function(i,s){let o=i;vu(i)&&(o=Iv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function D3(t,e){const n=new Zh;if(fe.Image){const r=new Image;r.onload=lc(cc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=lc(cc,n,r,"TestLoadImage: error",!1,e),r.onabort=lc(cc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=lc(cc,n,r,"TestLoadImage: timeout",!1,e),fe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function cc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Tu(t){this.l=t.ac||null,this.j=t.jb||!1}Dt(Tu,Rv);Tu.prototype.g=function(){return new of(this.l,this.j)};Tu.prototype.i=function(t){return function(){return t}}({});function of(t,e){xt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Ov,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dt(of,xt);var Ov=0;X=of.prototype;X.open=function(t,e){if(this.readyState!=Ov)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Kl(this)};X.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||fe).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ku(this)),this.readyState=Ov};X.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Kl(this)),this.g&&(this.readyState=3,Kl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;II(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function II(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}X.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ku(this):Kl(this),this.readyState==3&&II(this)}};X.Va=function(t){this.g&&(this.response=this.responseText=t,ku(this))};X.Ua=function(t){this.g&&(this.response=t,ku(this))};X.ga=function(){this.g&&ku(this)};function ku(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Kl(t)}X.setRequestHeader=function(t,e){this.v.append(t,e)};X.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};X.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Kl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(of.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var j3=fe.JSON.parse;function it(t){xt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xI,this.K=this.L=!1}Dt(it,xt);var xI="",M3=/^https?$/i,$3=["POST","PUT"];X=it.prototype;X.Ka=function(t){this.L=t};X.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Cg.g(),this.C=this.u?g_(this.u):g_(Cg),this.g.onreadystatechange=Wt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){w_(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=fe.FormData&&t instanceof fe.FormData,!(0<=Bk($3,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{AI(this),0<this.B&&((this.K=U3(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wt(this.qa,this)):this.A=bv(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){w_(this,s)}};function U3(t){return Qo&&n3()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}X.qa=function(){typeof vv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nt(this,"timeout"),this.abort(8))};function w_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,bI(t),af(t)}function bI(t){t.D||(t.D=!0,Nt(t,"complete"),Nt(t,"error"))}X.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Nt(this,"complete"),Nt(this,"abort"),af(this))};X.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),af(this,!0)),it.X.M.call(this)};X.Ha=function(){this.s||(this.F||this.v||this.l?RI(this):this.fb())};X.fb=function(){RI(this)};function RI(t){if(t.h&&typeof vv<"u"&&(!t.C[1]||zr(t)!=4||t.aa()!=2)){if(t.v&&zr(t)==4)bv(t.Ha,0,t);else if(Nt(t,"readystatechange"),zr(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(yI)[1]||null;if(!i&&fe.self&&fe.self.location){var s=fe.self.location.protocol;i=s.substr(0,s.length-1)}r=!M3.test(i?i.toLowerCase():"")}n=r}if(n)Nt(t,"complete"),Nt(t,"success");else{t.m=6;try{var o=2<zr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",bI(t)}}finally{af(t)}}}}function af(t,e){if(t.g){AI(t);const n=t.g,r=t.C[0]?bd:null;t.g=null,t.C=null,e||Nt(t,"ready");try{n.onreadystatechange=r}catch{}}}function AI(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(fe.clearTimeout(t.A),t.A=null)}function zr(t){return t.g?t.g.readyState:0}X.aa=function(){try{return 2<zr(this)?this.g.status:-1}catch{return-1}};X.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};X.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),j3(e)}};function __(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case xI:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}X.Ea=function(){return this.m};X.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function PI(t){let e="";return Sv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Dv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=PI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ye(t,e,n))}function Na(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function LI(t){this.Ca=0,this.i=[],this.j=new Zh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Na("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Na("baseRetryDelayMs",5e3,t),this.bb=Na("retryDelaySeedMs",1e4,t),this.$a=Na("forwardChannelMaxRetries",2,t),this.ta=Na("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new SI(t&&t.concurrentRequestLimit),this.Fa=new N3,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}X=LI.prototype;X.ma=8;X.G=1;function jv(t){if(NI(t),t.G==3){var e=t.U++,n=Zr(t.F);Ye(n,"SID",t.I),Ye(n,"RID",e),Ye(n,"TYPE","terminate"),Iu(t,n),e=new Eu(t,t.j,e,void 0),e.K=2,e.v=sf(Zr(n)),n=!1,fe.navigator&&fe.navigator.sendBeacon&&(n=fe.navigator.sendBeacon(e.v.toString(),"")),!n&&fe.Image&&(new Image().src=e.v,n=!0),n||(e.g=VI(e.l,null),e.g.da(e.v)),e.F=Date.now(),Cu(e)}UI(t)}function lf(t){t.g&&($v(t),t.g.cancel(),t.g=null)}function NI(t){lf(t),t.u&&(fe.clearTimeout(t.u),t.u=null),Od(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&fe.clearTimeout(t.m),t.m=null)}function uf(t){EI(t.h)||t.m||(t.m=!0,tI(t.Ja,t),t.C=0)}function F3(t,e){return CI(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=_u(Wt(t.Ja,t,e),$I(t,t.C)),t.C++,!0)}X.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Eu(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=Kk(s),Gk(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=OI(this,i,e),n=Zr(this.F),Ye(n,"RID",t),Ye(n,"CVER",22),this.D&&Ye(n,"X-HTTP-Session-Id",this.D),Iu(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(PI(s)))+"&"+e:this.o&&Dv(n,this.o,s)),Lv(this.h,i),this.Ya&&Ye(n,"TYPE","init"),this.O?(Ye(n,"$req",e),Ye(n,"SID","null"),i.Z=!0,kg(i,n,null)):kg(i,n,e),this.G=2}}else this.G==3&&(t?S_(this,t):this.i.length==0||EI(this.h)||S_(this))};function S_(t,e){var n;e?n=e.m:n=t.U++;const r=Zr(t.F);Ye(r,"SID",t.I),Ye(r,"RID",n),Ye(r,"AID",t.T),Iu(t,r),t.o&&t.s&&Dv(r,t.o,t.s),n=new Eu(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=OI(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Lv(t.h,n),kg(n,r,e)}function Iu(t,e){t.ia&&Sv(t.ia,function(n,r){Ye(e,r,n)}),t.l&&gI({},function(n,r){Ye(e,r,n)})}function OI(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Wt(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{O3(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function DI(t){t.g||t.u||(t.Z=1,tI(t.Ia,t),t.A=0)}function Mv(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=_u(Wt(t.Ia,t),$I(t,t.A)),t.A++,!0)}X.Ia=function(){if(this.u=null,jI(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=_u(Wt(this.eb,this),t)}};X.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,nn(10),lf(this),jI(this))};function $v(t){t.B!=null&&(fe.clearTimeout(t.B),t.B=null)}function jI(t){t.g=new Eu(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Zr(t.sa);Ye(e,"RID","rpc"),Ye(e,"SID",t.I),Ye(e,"CI",t.L?"0":"1"),Ye(e,"AID",t.T),Ye(e,"TYPE","xmlhttp"),Iu(t,e),t.o&&t.s&&Dv(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=sf(Zr(e)),n.s=null,n.P=!0,hI(n,t)}X.cb=function(){this.v!=null&&(this.v=null,lf(this),Mv(this),nn(19))};function Od(t){t.v!=null&&(fe.clearTimeout(t.v),t.v=null)}function MI(t,e){var n=null;if(t.g==e){Od(t),$v(t),t.g=null;var r=2}else if(xg(t.h,e))n=e.D,TI(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=ef(),Nt(r,new lI(r,n)),uf(t)}else DI(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&F3(t,e)||r==2&&Mv(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:hs(t,5);break;case 4:hs(t,10);break;case 3:hs(t,6);break;default:hs(t,2)}}}function $I(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function hs(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Wt(t.kb,t);n||(n=new _s("//www.google.com/images/cleardot.gif"),fe.location&&fe.location.protocol=="http"||Ld(n,"https"),sf(n)),D3(n.toString(),r)}else nn(2);t.G=0,t.l&&t.l.va(e),UI(t),NI(t)}X.kb=function(t){t?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function UI(t){if(t.G=0,t.la=[],t.l){const e=kI(t.h);(e.length!=0||t.i.length!=0)&&(c_(t.la,e),c_(t.la,t.i),t.h.i.length=0,wv(t.i),t.i.length=0),t.l.ua()}}function FI(t,e,n){var r=n instanceof _s?Zr(n):new _s(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Nd(r,r.m);else{var i=fe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new _s(null,void 0);r&&Ld(s,r),e&&(s.g=e),i&&Nd(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&Ye(r,n,e),Ye(r,"VER",t.ma),Iu(t,r),r}function VI(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new it(new Tu({jb:!0})):new it(t.ra),e.Ka(t.H),e}function zI(){}X=zI.prototype;X.xa=function(){};X.wa=function(){};X.va=function(){};X.ua=function(){};X.Ra=function(){};function Dd(){if(Qo&&!(10<=Number(r3)))throw Error("Environmental error: no available transport.")}Dd.prototype.g=function(t,e){return new Cn(t,e)};function Cn(t,e){xt.call(this),this.g=new LI(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Rd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Rd(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ha(this)}Dt(Cn,xt);Cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;nn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=FI(t,null,t.V),uf(t)};Cn.prototype.close=function(){jv(this.g)};Cn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Iv(t),t=n);e.i.push(new P3(e.ab++,t)),e.G==3&&uf(e)};Cn.prototype.M=function(){this.g.l=null,delete this.j,jv(this.g),delete this.g,Cn.X.M.call(this)};function BI(t){Av.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Dt(BI,Av);function HI(){Pv.call(this),this.status=1}Dt(HI,Pv);function ha(t){this.g=t}Dt(ha,zI);ha.prototype.xa=function(){Nt(this.g,"a")};ha.prototype.wa=function(t){Nt(this.g,new BI(t))};ha.prototype.va=function(t){Nt(this.g,new HI)};ha.prototype.ua=function(){Nt(this.g,"b")};Dd.prototype.createWebChannel=Dd.prototype.g;Cn.prototype.send=Cn.prototype.u;Cn.prototype.open=Cn.prototype.m;Cn.prototype.close=Cn.prototype.close;tf.NO_ERROR=0;tf.TIMEOUT=8;tf.HTTP_ERROR=6;uI.COMPLETE="complete";cI.EventType=Su;Su.OPEN="a";Su.CLOSE="b";Su.ERROR="c";Su.MESSAGE="d";xt.prototype.listen=xt.prototype.N;it.prototype.listenOnce=it.prototype.O;it.prototype.getLastError=it.prototype.Oa;it.prototype.getLastErrorCode=it.prototype.Ea;it.prototype.getStatus=it.prototype.aa;it.prototype.getResponseJson=it.prototype.Sa;it.prototype.getResponseText=it.prototype.fa;it.prototype.send=it.prototype.da;it.prototype.setWithCredentials=it.prototype.Ka;var V3=function(){return new Dd},z3=function(){return ef()},Rp=tf,B3=uI,H3=Hs,E_={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},q3=Tu,dc=cI,W3=it;const C_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fa="9.15.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new Vh("@firebase/firestore");function T_(){return Os.logLevel}function ne(t,...e){if(Os.logLevel<=Pe.DEBUG){const n=e.map(Uv);Os.debug(`Firestore (${fa}): ${t}`,...n)}}function ei(t,...e){if(Os.logLevel<=Pe.ERROR){const n=e.map(Uv);Os.error(`Firestore (${fa}): ${t}`,...n)}}function bg(t,...e){if(Os.logLevel<=Pe.WARN){const n=e.map(Uv);Os.warn(`Firestore (${fa}): ${t}`,...n)}}function Uv(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${fa}) INTERNAL ASSERTION FAILED: `+t;throw ei(e),new Error(e)}function ze(t,e){t||he()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let se=class extends Hn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qI=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}};class K3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}let G3=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Q3=class{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new qI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new zt(e)}},Y3=class{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ze(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}},X3=class{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new Y3(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},J3=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Z3=class{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.A=n.token,new J3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WI=class{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=e6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Ne(t,e){return t<e?-1:t>e?1:0}function Yo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new ft(0,0))}static max(){return new me(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xe extends Gl{construct(e,n,r){return new Xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const t6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends Gl{construct(e,n,r){return new qt(e,n,r)}static isValidIdentifier(e){return t6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new se(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new se(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new se(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Xe.fromString(e))}static fromName(e){return new oe(Xe.fromString(e).popFirst(5))}static empty(){return new oe(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Xe(e.slice()))}}function n6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new Ui(i,oe.empty(),e)}function r6(t){return new Ui(t.readTime,t.key,-1)}class Ui{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ui(me.min(),oe.empty(),-1)}static max(){return new Ui(me.max(),oe.empty(),-1)}}function i6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==s6)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function bu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}Fv.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Ql{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t){return t==null}function jd(t){return t===0&&1/t==-1/0}function l6(t){return typeof t=="number"&&Number.isInteger(t)&&!jd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Xt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const u6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fi(t){if(ze(!!t),typeof t=="string"){let e=0;const n=u6.exec(t);if(ze(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xo(t){return typeof t=="string"?Xt.fromBase64String(t):Xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function QI(t){const e=t.mapValue.fields.__previous_value__;return GI(e)?QI(e):e}function Yl(t){const e=Fi(t.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ds(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?GI(t)?4:c6(t)?9007199254740991:10:he()}function kr(t,e){if(t===e)return!0;const n=Ds(t);if(n!==Ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yl(t).isEqual(Yl(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Fi(r.timestampValue),o=Fi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Xo(r.bytesValue).isEqual(Xo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ct(r.geoPointValue.latitude)===ct(i.geoPointValue.latitude)&&ct(r.geoPointValue.longitude)===ct(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ct(r.integerValue)===ct(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ct(r.doubleValue),o=ct(i.doubleValue);return s===o?jd(s)===jd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Yo(t.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(k_(s)!==k_(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!kr(s[a],o[a])))return!1;return!0}(t,e);default:return he()}}function Xl(t,e){return(t.values||[]).find(n=>kr(n,e))!==void 0}function Jo(t,e){if(t===e)return 0;const n=Ds(t),r=Ds(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ct(i.integerValue||i.doubleValue),a=ct(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return I_(t.timestampValue,e.timestampValue);case 4:return I_(Yl(t),Yl(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Xo(i),a=Xo(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Ne(o[l],a[l]);if(u!==0)return u}return Ne(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Ne(ct(i.latitude),ct(s.latitude));return o!==0?o:Ne(ct(i.longitude),ct(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Jo(o[l],a[l]);if(u)return u}return Ne(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===hc.mapValue&&s===hc.mapValue)return 0;if(i===hc.mapValue)return 1;if(s===hc.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Ne(a[c],u[c]);if(d!==0)return d;const h=Jo(o[a[c]],l[u[c]]);if(h!==0)return h}return Ne(a.length,u.length)}(t.mapValue,e.mapValue);default:throw he()}}function I_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=Fi(t),r=Fi(e),i=Ne(n.seconds,r.seconds);return i!==0?i:Ne(n.nanos,r.nanos)}function Zo(t){return Rg(t)}function Rg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Fi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Xo(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,oe.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Rg(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Rg(r.fields[a])}`;return s+"}"}(t.mapValue):he();var e,n}function Ag(t){return!!t&&"integerValue"in t}function Vv(t){return!!t&&"arrayValue"in t}function x_(t){return!!t&&"nullValue"in t}function b_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uc(t){return!!t&&"mapValue"in t}function dl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=dl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function c6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.position=e,this.inclusive=n}}function R_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=Jo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function A_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!kr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{}class wt extends YI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new f6(e,n,r):n==="array-contains"?new g6(e,r):n==="in"?new y6(e,r):n==="not-in"?new v6(e,r):n==="array-contains-any"?new w6(e,r):new wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new p6(e,r):new m6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Jo(n,this.value)):n!==null&&Ds(this.value)===Ds(n)&&this.matchesComparison(Jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ir extends YI{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Ir(e,n)}matches(e){return XI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function XI(t){return t.op==="and"}function d6(t){return h6(t)&&XI(t)}function h6(t){for(const e of t.filters)if(e instanceof Ir)return!1;return!0}function JI(t){if(t instanceof wt)return t.field.canonicalString()+t.op.toString()+Zo(t.value);{const e=t.filters.map(n=>JI(n)).join(",");return`${t.op}(${e})`}}function ZI(t,e){return t instanceof wt?function(n,r){return r instanceof wt&&n.op===r.op&&n.field.isEqual(r.field)&&kr(n.value,r.value)}(t,e):t instanceof Ir?function(n,r){return r instanceof Ir&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&ZI(s,r.filters[o]),!0):!1}(t,e):void he()}function ex(t){return t instanceof wt?function(e){return`${e.field.canonicalString()} ${e.op} ${Zo(e.value)}`}(t):t instanceof Ir?function(e){return e.op.toString()+" {"+e.getFilters().map(ex).join(" ,")+"}"}(t):"Filter"}class f6 extends wt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class p6 extends wt{constructor(e,n){super(e,"in",n),this.keys=tx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class m6 extends wt{constructor(e,n){super(e,"not-in",n),this.keys=tx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class g6 extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vv(n)&&Xl(n.arrayValue,this.value)}}class y6 extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class v6 extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xl(this.value.arrayValue,n)}}class w6 extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n="asc"){this.field=e,this.dir=n}}function _6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fc(this.root,e,this.comparator,!0)}}class fc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Pt.RED,this.left=i??Pt.EMPTY,this.right=s??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Pt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Pt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new P_(this.data.getIterator())}getIteratorFrom(e){return new P_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new St(this.comparator);return n.data=e,n}}class P_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new St(qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dl(n)}setAll(e){let n=qt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=dl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Uc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Uc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){qs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new cn(dl(this.value))}}function nx(t){const e=[];return qs(t.fields,(n,r)=>{const i=new qt([n]);if(Uc(r)){const s=nx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ht(e,0,me.min(),me.min(),me.min(),cn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ht(e,1,n,me.min(),r,i,0)}static newNoDocument(e,n){return new Ht(e,2,n,me.min(),me.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,me.min(),me.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S6=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}};function L_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new S6(t,e,n,r,i,s,o)}function zv(t){const e=we(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>JI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),cf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zo(r)).join(",")),e.ft=n}return e.ft}function Bv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!A_(t.startAt,e.startAt)&&A_(t.endAt,e.endAt)}function Pg(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}};function E6(t,e,n,r,i,s,o,a){return new df(t,e,n,r,i,s,o,a)}function Hv(t){return new df(t)}function N_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function C6(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function T6(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function k6(t){return t.collectionGroup!==null}function No(t){const e=we(t);if(e.dt===null){e.dt=[];const n=T6(e),r=C6(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new hl(n)),e.dt.push(new hl(qt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new hl(qt.keyField(),s))}}}return e.dt}function ti(t){const e=we(t);if(!e._t)if(e.limitType==="F")e._t=L_(e.path,e.collectionGroup,No(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of No(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new hl(s.field,o))}const r=e.endAt?new Md(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Md(e.startAt.position,e.startAt.inclusive):null;e._t=L_(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Lg(t,e,n){return new df(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hf(t,e){return Bv(ti(t),ti(e))&&t.limitType===e.limitType}function rx(t){return`${zv(ti(t))}|lt:${t.limitType}`}function Ng(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>ex(r)).join(", ")}]`),cf(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zo(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zo(r)).join(",")),`Target(${n})`}(ti(t))}; limitType=${t.limitType})`}function qv(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):oe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of No(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=R_(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,No(n),r)||n.endAt&&!function(i,s,o){const a=R_(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,No(n),r))}(t,e)}function I6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ix(t){return(e,n)=>{let r=!1;for(const i of No(t)){const s=x6(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function x6(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Jo(a,l):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jd(e)?"-0":e}}function ox(t){return{integerValue:""+t}}function b6(t,e){return l6(e)?ox(e):sx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(){this._=void 0}}function R6(t,e,n){return t instanceof Jl?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Zl?lx(t,e):t instanceof eu?ux(t,e):function(r,i){const s=ax(r,i),o=O_(s)+O_(r.gt);return Ag(s)&&Ag(r.gt)?ox(o):sx(r.yt,o)}(t,e)}function A6(t,e,n){return t instanceof Zl?lx(t,e):t instanceof eu?ux(t,e):n}function ax(t,e){return t instanceof $d?Ag(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Jl extends ff{}class Zl extends ff{constructor(e){super(),this.elements=e}}function lx(t,e){const n=cx(e);for(const r of t.elements)n.some(i=>kr(i,r))||n.push(r);return{arrayValue:{values:n}}}class eu extends ff{constructor(e){super(),this.elements=e}}function ux(t,e){let n=cx(e);for(const r of t.elements)n=n.filter(i=>!kr(i,r));return{arrayValue:{values:n}}}class $d extends ff{constructor(e,n){super(),this.yt=e,this.gt=n}}function O_(t){return ct(t.integerValue||t.doubleValue)}function cx(t){return Vv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,n){this.field=e,this.transform=n}}function L6(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Zl&&r instanceof Zl||n instanceof eu&&r instanceof eu?Yo(n.elements,r.elements,kr):n instanceof $d&&r instanceof $d?kr(n.gt,r.gt):n instanceof Jl&&r instanceof Jl}(t.transform,e.transform)}class N6{constructor(e,n){this.version=e,this.transformResults=n}}class rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pf{}function dx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fx(t.key,rr.none()):new Ru(t.key,t.data,rr.none());{const n=t.data,r=cn.empty();let i=new St(qt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Yi(t.key,r,new Mn(i.toArray()),rr.none())}}function O6(t,e,n){t instanceof Ru?function(r,i,s){const o=r.value.clone(),a=j_(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Yi?function(r,i,s){if(!Fc(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=j_(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(hx(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function fl(t,e,n,r){return t instanceof Ru?function(i,s,o,a){if(!Fc(i.precondition,s))return o;const l=i.value.clone(),u=M_(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yi?function(i,s,o,a){if(!Fc(i.precondition,s))return o;const l=M_(i.fieldTransforms,a,s),u=s.data;return u.setAll(hx(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Fc(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function D6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=ax(r.transform,i||null);s!=null&&(n===null&&(n=cn.empty()),n.set(r.field,s))}return n||null}function D_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Yo(n,r,(i,s)=>L6(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ru extends pf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yi extends pf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function hx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function j_(t,e,n){const r=new Map;ze(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,A6(o,a,n[i]))}return r}function M_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,R6(s,o,e))}return r}class fx extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j6 extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,ke;function $6(t){switch(t){default:return he();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function px(t){if(t===void 0)return ei("GRPC error has no .code"),F.UNKNOWN;switch(t){case ut.OK:return F.OK;case ut.CANCELLED:return F.CANCELLED;case ut.UNKNOWN:return F.UNKNOWN;case ut.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case ut.INTERNAL:return F.INTERNAL;case ut.UNAVAILABLE:return F.UNAVAILABLE;case ut.UNAUTHENTICATED:return F.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case ut.NOT_FOUND:return F.NOT_FOUND;case ut.ALREADY_EXISTS:return F.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return F.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case ut.ABORTED:return F.ABORTED;case ut.OUT_OF_RANGE:return F.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return F.UNIMPLEMENTED;case ut.DATA_LOSS:return F.DATA_LOSS;default:return he()}}(ke=ut||(ut={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){qs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return KI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6=new Et(oe.comparator);function ni(){return U6}const mx=new Et(oe.comparator);function Qa(...t){let e=mx;for(const n of t)e=e.insert(n.key,n);return e}function gx(t){let e=mx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fs(){return pl()}function yx(){return pl()}function pl(){return new pa(t=>t.toString(),(t,e)=>t.isEqual(e))}const F6=new Et(oe.comparator),V6=new St(oe.comparator);function Ce(...t){let e=V6;for(const n of t)e=e.add(n);return e}const z6=new St(Ne);function vx(){return z6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Au.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mf(me.min(),i,vx(),ni(),Ce())}}class Au{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Au(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class wx{constructor(e,n){this.targetId=e,this.Et=n}}class _x{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $_{constructor(){this.At=0,this.Rt=F_(),this.bt=Xt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Ce(),n=Ce(),r=Ce();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new Au(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=F_()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class B6{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=ni(),this.qt=U_(),this.Ut=new St(Ne)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const s=i.target;if(Pg(s))if(r===0){const o=new oe(s.path);this.Qt(n,o,Ht.newNoDocument(o,me.min()))}else ze(r===1);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Pg(a.target)){const l=new oe(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,Ht.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=Ce();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new mf(e,n,this.Ut,this.Lt,r);return this.Lt=ni(),this.qt=U_(),this.Ut=new St(Ne),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new $_,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new St(Ne),this.qt=this.qt.insert(e,n)),n}zt(e){const n=this.Yt(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new $_),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function U_(){return new Et(oe.comparator)}function F_(){return new Et(oe.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),q6=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),W6=(()=>({and:"AND",or:"OR"}))();class K6{constructor(e,n){this.databaseId=e,this.wt=n}}function Ud(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sx(t,e){return t.wt?e.toBase64():e.toUint8Array()}function G6(t,e){return Ud(t,e.toTimestamp())}function Cr(t){return ze(!!t),me.fromTimestamp(function(e){const n=Fi(e);return new ft(n.seconds,n.nanos)}(t))}function Wv(t,e){return function(n){return new Xe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Ex(t){const e=Xe.fromString(t);return ze(Ix(e)),e}function Og(t,e){return Wv(t.databaseId,e.path)}function Ap(t,e){const n=Ex(e);if(n.get(1)!==t.databaseId.projectId)throw new se(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(Cx(n))}function Dg(t,e){return Wv(t.databaseId,e)}function Q6(t){const e=Ex(t);return e.length===4?Xe.emptyPath():Cx(e)}function jg(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Cx(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function V_(t,e,n){return{name:Og(t,e),fields:n.value.mapValue.fields}}function Y6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.wt?(ze(u===void 0||typeof u=="string"),Xt.fromBase64String(u||"")):(ze(u===void 0||u instanceof Uint8Array),Xt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?F.UNKNOWN:px(l.code);return new se(u,l.message||"")}(o);n=new _x(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ap(t,r.document.name),s=Cr(r.document.updateTime),o=r.document.createTime?Cr(r.document.createTime):me.min(),a=new cn({mapValue:{fields:r.document.fields}}),l=Ht.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Vc(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ap(t,r.document),s=r.readTime?Cr(r.readTime):me.min(),o=Ht.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Vc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ap(t,r.document),s=r.removedTargetIds||[];n=new Vc([],s,i,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new M6(i),o=r.targetId;n=new wx(o,s)}}return n}function X6(t,e){let n;if(e instanceof Ru)n={update:V_(t,e.key,e.value)};else if(e instanceof fx)n={delete:Og(t,e.key)};else if(e instanceof Yi)n={update:V_(t,e.key,e.data),updateMask:o9(e.fieldMask)};else{if(!(e instanceof j6))return he();n={verify:Og(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Jl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Zl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof eu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof $d)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:G6(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he()}(t,e.precondition)),n}function J6(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Cr(r.updateTime):Cr(i);return s.isEqual(me.min())&&(s=Cr(i)),new N6(s,r.transformResults||[])}(n,e))):[]}function Z6(t,e){return{documents:[Dg(t,e.path)]}}function e9(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Dg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Dg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return kx(Ir.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:no(c.field),direction:r9(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.wt||cf(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function t9(t){let e=Q6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ze(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=Tx(c);return d instanceof Ir&&d6(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new hl(ro(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,cf(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new Md(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new Md(h,d)}(n.endAt)),E6(e,i,o,s,a,"F",l,u)}function n9(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return he()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function Tx(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ro(e.unaryFilter.field);return wt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ro(e.unaryFilter.field);return wt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ro(e.unaryFilter.field);return wt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ro(e.unaryFilter.field);return wt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(e){return wt.create(ro(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Ir.create(e.compositeFilter.filters.map(n=>Tx(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return he()}}(e.compositeFilter.op))}(t):he()}function r9(t){return H6[t]}function i9(t){return q6[t]}function s9(t){return W6[t]}function no(t){return{fieldPath:t.canonicalString()}}function ro(t){return qt.fromServerFormat(t.fieldPath)}function kx(t){return t instanceof wt?function(e){if(e.op==="=="){if(b_(e.value))return{unaryFilter:{field:no(e.field),op:"IS_NAN"}};if(x_(e.value))return{unaryFilter:{field:no(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(b_(e.value))return{unaryFilter:{field:no(e.field),op:"IS_NOT_NAN"}};if(x_(e.value))return{unaryFilter:{field:no(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(e.field),op:i9(e.op),value:e.value}}}(t):t instanceof Ir?function(e){const n=e.getFilters().map(r=>kx(r));return n.length===1?n[0]:{compositeFilter:{op:s9(e.op),filters:n}}}(t):he()}function o9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ix(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&O6(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yx();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=dx(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,(n,r)=>D_(n,r))&&Yo(this.baseMutations,e.baseMutations,(n,r)=>D_(n,r))}}class Kv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ze(e.mutations.length===r.length);let i=F6;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Kv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,r,i,s=me.min(),o=me.min(),a=Xt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e){this.ie=e}}function c9(t){const e=t9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(){this.Je=new h9}addToCollectionParentIndex(e,n){return this.Je.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Ui.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Ui.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class h9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new St(Xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new St(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ea(0)}static vn(){return new ea(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(){this.changes=new pa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fl(r.mutation,i,Mn.empty(),ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const i=fs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Qa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=fs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ni();const o=pl(),a=pl();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Yi)?s=s.insert(u.key,u):c!==void 0&&(o.set(u.key,c.mutation.getFieldMask()),fl(c.mutation,u,c.mutation.getFieldMask(),ft.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new p9(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=pl();let i=new Et((o,a)=>o-a),s=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Mn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Ce()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=yx();c.forEach(h=>{if(!s.has(h)){const p=dx(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return oe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):k6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(fs());let a=-1,l=s;return o.next(u=>B.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?B.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ce())).next(c=>({batchId:a,changes:gx(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=Qa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Qa();return this.indexManager.getCollectionParents(e,i).next(o=>B.forEach(o,a=>{const l=function(u,c){return new df(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,Ht.newInvalidDocument(u)))});let o=Qa();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&fl(u.mutation,l,Mn.empty(),ft.now()),qv(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return B.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Cr(r.createTime)}),B.resolve()}getNamedQuery(e,n){return B.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:c9(r.bundledQuery),readTime:Cr(r.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(){this.overlays=new Et(oe.comparator),this.es=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fs();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.oe(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=fs(),s=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Et((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=fs(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=fs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return B.resolve(a)}oe(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new l9(n,r));let s=this.es.get(n);s===void 0&&(s=Ce(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(){this.ns=new St(Tt.ss),this.rs=new St(Tt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new Tt(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new oe(new Xe([])),r=new Tt(n,e),i=new Tt(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new oe(new Xe([])),r=new Tt(n,e),i=new Tt(n,e+1);let s=Ce();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Tt(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return oe.comparator(e.key,n.key)||Ne(e._s,n._s)}static os(e,n){return Ne(e._s,n._s)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new St(Tt.ss)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new a9(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),i=new Tt(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new St(Ne);return n.forEach(i=>{const s=new Tt(i,0),o=new Tt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),B.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;oe.isDocumentKey(s)||(s=s.child(""));const o=new Tt(new oe(s),0);let a=new St(Ne);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},o),B.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ze(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return B.forEach(n.mutations,i=>{const s=new Tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new Tt(n,0),i=this.gs.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e){this.Es=e,this.docs=new Et(oe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=ni();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ht.newInvalidDocument(i))}),B.resolve(r)}getAllFromCollection(e,n,r){let i=ni();const s=new oe(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||i6(r6(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,i){he()}As(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _9(this)}getSize(e){return B.resolve(this.size)}}class _9 extends f9{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e){this.persistence=e,this.Rs=new pa(n=>zv(n),Bv),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Gv,this.targetCount=0,this.vs=ea.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),B.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new ea(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Dn(n),B.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Fv(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new S9(this),this.indexManager=new d9,this.remoteDocumentCache=function(r){return new w9(r)}(r=>this.referenceDelegate.xs(r)),this.yt=new u9(n),this.Ns=new g9(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new y9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new v9(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const i=new C9(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return B.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class C9 extends o6{constructor(e){super(),this.currentSequenceNumber=e}}class Qv{constructor(e){this.persistence=e,this.Fs=new Gv,this.$s=null}static Bs(e){return new Qv(e)}get Ls(){if(this.$s)return this.$s;throw he()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),B.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Ls,r=>{const i=oe.fromPath(r);return this.qs(e,i).next(s=>{s||n.removeEntry(i,me.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return B.or([()=>B.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=Ce(),i=Ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Yv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(N_(n))return B.resolve(null);let r=ti(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Lg(n,null,"F"),r=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ce(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(e,Lg(n,null,"F")):this.Bi(e,u,n,l)}))})))}Oi(e,n,r,i){return N_(n)||i.isEqual(me.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(T_()<=Pe.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ng(n)),this.Bi(e,o,n,n6(i,-1)))})}Fi(e,n){let r=new St(ix(e));return n.forEach((i,s)=>{qv(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return T_()<=Pe.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Ng(n)),this.Ni.getDocumentsMatchingQuery(e,n,Ui.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new Et(Ne),this.Ui=new pa(s=>zv(s),Bv),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m9(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function I9(t,e,n,r){return new k9(t,e,n,r)}async function xx(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ce();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function x9(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=B.resolve();return d.forEach(p=>{h=h.next(()=>u.getEntry(a,p)).next(v=>{const m=l.docVersions.get(p);ze(m!==null),v.version.compareTo(m)<0&&(c.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),u.addEntry(v)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Ce();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function bx(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function b9(t,e){const n=we(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(d)?p=p.withResumeToken(Xt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(v,m,S){return v.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(h,p,c)&&a.push(n.Cs.updateTargetData(s,p))});let l=ni(),u=Ce();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(R9(s,o,e.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!r.isEqual(me.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(d=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return B.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.qi=i,s))}function R9(t,e,n){let r=Ce(),i=Ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ni();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function A9(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function P9(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new Ss(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}async function Mg(t,e,n){const r=we(t),i=r.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!bu(o))throw o;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}function z_(t,e,n){const r=we(t);let i=me.min(),s=Ce();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=we(a),d=c.Ui.get(u);return d!==void 0?B.resolve(c.qi.get(d)):c.Cs.getTargetData(l,u)}(r,o,ti(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:me.min(),n?s:Ce())).next(a=>(L9(r,I6(e),a),{documents:a,Hi:s})))}function L9(t,e,n){let r=t.Ki.get(e)||me.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}class B_{constructor(){this.activeTargetIds=vx()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class N9{constructor(){this.Lr=new B_,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new B_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);ne("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(ne("RestConnection","Received: ",l),l),l=>{throw bg("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+fa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){const r=D9[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new W3;a.setWithCredentials(!0),a.listenOnce(B3.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Rp.NO_ERROR:const u=a.getResponseJson();ne("Connection","XHR received:",JSON.stringify(u)),s(u);break;case Rp.TIMEOUT:ne("Connection",'RPC "'+e+'" timed out'),o(new se(F.DEADLINE_EXCEEDED,"Request time out"));break;case Rp.HTTP_ERROR:const c=a.getStatus();if(ne("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(v){const m=v.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(m)>=0?m:F.UNKNOWN}(h.status);o(new se(p,h.message))}else o(new se(F.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new se(F.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{ne("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=V3(),o=z3(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new q3({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=i.join("");ne("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,d=!1;const h=new j9({Hr:v=>{d?ne("Connection","Not sending because WebChannel is closed:",v):(c||(ne("Connection","Opening WebChannel transport."),u.open(),c=!0),ne("Connection","WebChannel sending:",v),u.send(v))},Jr:()=>u.close()}),p=(v,m,S)=>{v.listen(m,y=>{try{S(y)}catch(g){setTimeout(()=>{throw g},0)}})};return p(u,dc.EventType.OPEN,()=>{d||ne("Connection","WebChannel transport opened.")}),p(u,dc.EventType.CLOSE,()=>{d||(d=!0,ne("Connection","WebChannel transport closed"),h.io())}),p(u,dc.EventType.ERROR,v=>{d||(d=!0,bg("Connection","WebChannel transport errored:",v),h.io(new se(F.UNAVAILABLE,"The operation could not be completed")))}),p(u,dc.EventType.MESSAGE,v=>{var m;if(!d){const S=v.data[0];ze(!!S);const y=S,g=y.error||((m=y[0])===null||m===void 0?void 0:m.error);if(g){ne("Connection","WebChannel received error:",g);const w=g.status;let _=function(k){const I=ut[k];if(I!==void 0)return px(I)}(w),E=g.message;_===void 0&&(_=F.INTERNAL,E="Unknown error status: "+w+" with message "+g.message),d=!0,h.io(new se(_,E)),u.close()}else ne("Connection","WebChannel received:",S),h.ro(S)}}),p(o,H3.STAT_EVENT,v=>{v.stat===E_.PROXY?ne("Connection","Detected buffering proxy"):v.stat===E_.NOPROXY&&ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function Pp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){return new K6(t,!0)}class Rx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n,r,i,s,o,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Rx(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(ei(n.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new se(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $9 extends Ax{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=Y6(this.yt,e),r=function(i){if(!("targetChange"in i))return me.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?me.min():s.readTime?Cr(s.readTime):me.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=jg(this.yt),n.addTarget=function(i,s){let o;const a=s.target;return o=Pg(a)?{documents:Z6(i,a)}:{query:e9(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=Sx(i,s.resumeToken):s.snapshotVersion.compareTo(me.min())>0&&(o.readTime=Ud(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=n9(this.yt,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=jg(this.yt),n.removeTarget=e,this.Bo(n)}}class U9 extends Ax{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=J6(e.writeResults,e.commitTime),r=Cr(e.commitTime);return this.listener.Zo(r,n)}return ze(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=jg(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>X6(this.yt,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new se(F.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(F.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(F.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class V9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ei(n),this.ou=!1):ne("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(o=>{r.enqueueAndForget(async()=>{Ws(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=we(a);l._u.add(4),await Pu(l),l.gu.set("Unknown"),l._u.delete(4),await yf(l)}(this))})}),this.gu=new V9(r,i)}}async function yf(t){if(Ws(t))for(const e of t.wu)await e(!0)}async function Pu(t){for(const e of t.wu)await e(!1)}function Px(t,e){const n=we(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),Zv(n)?Jv(n):ma(n).ko()&&Xv(n,e))}function Lx(t,e){const n=we(t),r=ma(n);n.du.delete(e),r.ko()&&Nx(n,e),n.du.size===0&&(r.ko()?r.Fo():Ws(n)&&n.gu.set("Unknown"))}function Xv(t,e){t.yu.Ot(e.targetId),ma(t).zo(e)}function Nx(t,e){t.yu.Ot(e),ma(t).Ho(e)}function Jv(t){t.yu=new B6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),ma(t).start(),t.gu.uu()}function Zv(t){return Ws(t)&&!ma(t).No()&&t.du.size>0}function Ws(t){return we(t)._u.size===0}function Ox(t){t.yu=void 0}async function B9(t){t.du.forEach((e,n)=>{Xv(t,e)})}async function H9(t,e){Ox(t),Zv(t)?(t.gu.hu(e),Jv(t)):t.gu.set("Unknown")}async function q9(t,e,n){if(t.gu.set("Online"),e instanceof _x&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.du.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.du.delete(o),r.yu.removeTarget(o))}(t,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fd(t,r)}else if(e instanceof Vc?t.yu.Kt(e):e instanceof wx?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(me.min()))try{const r=await bx(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.du.get(l);u&&i.du.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(Xt.EMPTY_BYTE_STRING,l.snapshotVersion)),Nx(i,a);const u=new Ss(l.target,a,1,l.sequenceNumber);Xv(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),await Fd(t,r)}}async function Fd(t,e,n){if(!bu(e))throw e;t._u.add(1),await Pu(t),t.gu.set("Offline"),n||(n=()=>bx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await yf(t)})}function Dx(t,e){return e().catch(n=>Fd(t,n,e))}async function vf(t){const e=we(t),n=Vi(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;W9(e);)try{const i=await A9(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,K9(e,i)}catch(i){await Fd(e,i)}jx(e)&&Mx(e)}function W9(t){return Ws(t)&&t.fu.length<10}function K9(t,e){t.fu.push(e);const n=Vi(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function jx(t){return Ws(t)&&!Vi(t).No()&&t.fu.length>0}function Mx(t){Vi(t).start()}async function G9(t){Vi(t).eu()}async function Q9(t){const e=Vi(t);for(const n of t.fu)e.Xo(n.mutations)}async function Y9(t,e,n){const r=t.fu.shift(),i=Kv.from(r,e,n);await Dx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await vf(t)}async function X9(t,e){e&&Vi(t).Yo&&await async function(n,r){if(i=r.code,$6(i)&&i!==F.ABORTED){const s=n.fu.shift();Vi(n).Mo(),await Dx(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await vf(n)}var i}(t,e),jx(t)&&Mx(t)}async function q_(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const r=Ws(n);n._u.add(3),await Pu(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await yf(n)}async function J9(t,e){const n=we(t);e?(n._u.delete(2),await yf(n)):e||(n._u.add(2),await Pu(n),n.gu.set("Unknown"))}function ma(t){return t.pu||(t.pu=function(e,n,r){const i=we(e);return i.su(),new $9(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:B9.bind(null,t),Zr:H9.bind(null,t),Wo:q9.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),Zv(t)?Jv(t):t.gu.set("Unknown")):(await t.pu.stop(),Ox(t))})),t.pu}function Vi(t){return t.Iu||(t.Iu=function(e,n,r){const i=we(e);return i.su(),new U9(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:G9.bind(null,t),Zr:X9.bind(null,t),tu:Q9.bind(null,t),Zo:Y9.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await vf(t)):(await t.Iu.stop(),t.fu.length>0&&(ne("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new e1(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function t1(t,e){if(ei("AsyncQueue",`${e}: ${t}`),bu(t))return new se(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=Qa(),this.sortedSet=new Et(this.comparator)}static emptySet(e){return new Oo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.Tu=new Et(oe.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):he():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ta{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ta(e,n,Oo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(){this.Au=void 0,this.listeners=[]}}class e8{constructor(){this.queries=new pa(e=>rx(e),hf),this.onlineState="Unknown",this.Ru=new Set}}async function $x(t,e){const n=we(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Z9),i)try{s.Au=await n.onListen(r)}catch(o){const a=t1(o,`Initialization of query '${Ng(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&n1(n)}async function Ux(t,e){const n=we(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function t8(t,e){const n=we(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&n1(n)}function n8(t,e,n){const r=we(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function n1(t){t.Ru.forEach(e=>{e.next()})}class Fx{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ta(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=ta.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this.key=e}}class zx{constructor(e){this.key=e}}class r8{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ce(),this.mutatedKeys=Ce(),this.Gu=ix(e),this.Qu=new Oo(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new W_,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=qv(this.query,d)?d:null,v=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let S=!1;h&&p?h.data.isEqual(p.data)?v!==m&&(r.track({type:3,doc:p}),S=!0):this.Hu(h,p)||(r.track({type:2,doc:p}),S=!0,(l&&this.Gu(p,l)>0||u&&this.Gu(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),S=!0):h&&!p&&(r.track({type:1,doc:h}),S=!0,(l||u)&&(a=!0)),S&&(p?(o=o.add(p),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((u,c)=>function(d,h){const p=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return p(d)-p(h)}(u.type,c.type)||this.Gu(u.doc,c.doc)),this.Ju(r);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new ta(this.query,e.Qu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new W_,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Ce(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new zx(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new Vx(r))}),n}tc(e){this.qu=e.Hi,this.Ku=Ce();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return ta.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class i8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class s8{constructor(e){this.key=e,this.nc=!1}}class o8{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new pa(a=>rx(a),hf),this.rc=new Map,this.oc=new Set,this.uc=new Et(oe.comparator),this.cc=new Map,this.ac=new Gv,this.hc={},this.lc=new Map,this.fc=ea.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function a8(t,e){const n=y8(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=await P9(n.localStore,ti(e));n.isPrimaryClient&&Px(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await l8(n,e,r,a==="current",o.resumeToken)}return i}async function l8(t,e,n,r,i){t._c=(d,h,p)=>async function(v,m,S,y){let g=m.view.Wu(S);g.$i&&(g=await z_(v.localStore,m.query,!1).then(({documents:E})=>m.view.Wu(E,g)));const w=y&&y.targetChanges.get(m.targetId),_=m.view.applyChanges(g,v.isPrimaryClient,w);return G_(v,m.targetId,_.Xu),_.snapshot}(t,d,h,p);const s=await z_(t.localStore,e,!0),o=new r8(e,s.Hi),a=o.Wu(s.documents),l=Au.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);G_(t,n,u.Xu);const c=new i8(e,n,o);return t.ic.set(e,c),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),u.snapshot}async function u8(t,e){const n=we(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!hf(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Mg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Lx(n.remoteStore,r.targetId),$g(n,r.targetId)}).catch(xu)):($g(n,r.targetId),await Mg(n.localStore,r.targetId,!0))}async function c8(t,e,n){const r=v8(t);try{const i=await function(s,o){const a=we(s),l=ft.now(),u=o.reduce((h,p)=>h.add(p.key),Ce());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=ni(),v=Ce();return a.Gi.getEntries(h,u).next(m=>{p=m,p.forEach((S,y)=>{y.isValidDocument()||(v=v.add(S))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,p)).next(m=>{c=m;const S=[];for(const y of o){const g=D6(y,c.get(y.key).overlayedDocument);g!=null&&S.push(new Yi(y.key,g,nx(g.value.mapValue),rr.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,S,o)}).next(m=>{d=m;const S=m.applyToLocalDocumentSet(c,v);return a.documentOverlayCache.saveOverlays(h,m.batchId,S)})}).then(()=>({batchId:d.batchId,changes:gx(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new Et(Ne)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Lu(r,i.changes),await vf(r.remoteStore)}catch(i){const s=t1(i,"Failed to persist write");n.reject(s)}}async function Bx(t,e){const n=we(t);try{const r=await b9(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?ze(o.nc):i.removedDocuments.size>0&&(ze(o.nc),o.nc=!1))}),await Lu(n,r,e)}catch(r){await xu(r)}}function K_(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=we(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.bu(o)&&(l=!0)}),l&&n1(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function d8(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new Et(oe.comparator);o=o.insert(s,Ht.newNoDocument(s,me.min()));const a=Ce().add(s),l=new mf(me.min(),new Map,new St(Ne),o,a);await Bx(r,l),r.uc=r.uc.remove(s),r.cc.delete(e),r1(r)}else await Mg(r.localStore,e,!1).then(()=>$g(r,e,n)).catch(xu)}async function h8(t,e){const n=we(t),r=e.batch.batchId;try{const i=await x9(n.localStore,e);qx(n,r,null),Hx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lu(n,i)}catch(i){await xu(i)}}async function f8(t,e,n){const r=we(t);try{const i=await function(s,o){const a=we(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(ze(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);qx(r,e,n),Hx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Lu(r,i)}catch(i){await xu(i)}}function Hx(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function qx(t,e,n){const r=we(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function $g(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||Wx(t,r)})}function Wx(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(Lx(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),r1(t))}function G_(t,e,n){for(const r of n)r instanceof Vx?(t.ac.addReference(r.key,e),p8(t,r)):r instanceof zx?(ne("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||Wx(t,r.key)):he()}function p8(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(ne("SyncEngine","New document in limbo: "+n),t.oc.add(r),r1(t))}function r1(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new oe(Xe.fromString(e)),r=t.fc.next();t.cc.set(r,new s8(n)),t.uc=t.uc.insert(n,r),Px(t.remoteStore,new Ss(ti(Hv(n.path)),r,2,Fv.at))}}async function Lu(t,e,n){const r=we(t),i=[],s=[],o=[];r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Yv.Ci(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.sc.Wo(i),await async function(a,l){const u=we(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>B.forEach(l,d=>B.forEach(d.Si,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>B.forEach(d.Di,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!bu(c))throw c;ne("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.qi.get(d),p=h.snapshotVersion,v=h.withLastLimboFreeSnapshotVersion(p);u.qi=u.qi.insert(d,v)}}}(r.localStore,s))}async function m8(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const r=await xx(n.localStore,e);n.currentUser=e,function(i,s){i.lc.forEach(o=>{o.forEach(a=>{a.reject(new se(F.CANCELLED,s))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lu(n,r.ji)}}function g8(t,e){const n=we(t),r=n.cc.get(e);if(r&&r.nc)return Ce().add(r.key);{let i=Ce();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function y8(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d8.bind(null,e),e.sc.Wo=t8.bind(null,e.eventManager),e.sc.wc=n8.bind(null,e.eventManager),e}function v8(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f8.bind(null,e),e}class w8{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=gf(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return I9(this.persistence,new T9,e.initialUser,this.yt)}yc(e){return new E9(Qv.Bs,this.yt)}gc(e){return new N9}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _8{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>K_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=m8.bind(null,this.syncEngine),await J9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new e8}createDatastore(e){const n=gf(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new M9(i));var i;return function(s,o,a,l){return new F9(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>K_(this.syncEngine,a,0),o=H_.C()?new H_:new O9,new z9(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new o8(r,i,s,o,a,l);return u&&(c.dc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=we(e);ne("RemoteStore","RemoteStore shutting down."),n._u.add(5),await Pu(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t,e,n){if(!n)throw new se(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function S8(t,e,n,r){if(e===!0&&r===!0)throw new se(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Q_(t){if(!oe.isDocumentKey(t))throw new se(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Y_(t){if(oe.isDocumentKey(t))throw new se(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function i1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function xr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=i1(t);throw new se(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=new Map;class J_{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new se(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,S8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new se(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J_(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new K3;switch(n.type){case"gapi":const r=n.client;return new X3(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new se(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=X_.get(e);n&&(ne("ComponentProvider","Removing Datastore"),X_.delete(e),n.terminate())}(this),Promise.resolve()}}function E8(t,e,n,r={}){var i;const s=(t=xr(t,wf))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&bg("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=zt.MOCK_USER;else{o=MT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new se(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new zt(l)}t._authCredentials=new G3(new qI(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class _f{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _f(this.firestore,e,this._query)}}class Ni extends _f{constructor(e,n,r){super(e,n,Hv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new oe(e))}withConverter(e){return new Ni(this.firestore,e,this._path)}}function s1(t,e,...n){if(t=Je(t),Kx("collection","path",e),t instanceof wf){const r=Xe.fromString(e,...n);return Y_(r),new Ni(t,null,r)}{if(!(t instanceof gn||t instanceof Ni))throw new se(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return Y_(r),new Ni(t.firestore,null,r)}}function ar(t,e,...n){if(t=Je(t),arguments.length===1&&(e=WI.R()),Kx("doc","path",e),t instanceof wf){const r=Xe.fromString(e,...n);return Q_(r),new gn(t,null,new oe(r))}{if(!(t instanceof gn||t instanceof Ni))throw new se(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return Q_(r),new gn(t.firestore,t instanceof Ni?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zt.UNAUTHENTICATED,this.clientId=WI.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ne("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=t1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function T8(t,e){t.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await xx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function k8(t,e){t.asyncQueue.verifyOperationInProgress();const n=await I8(t);ne("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>q_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>q_(e.remoteStore,s)),t.onlineComponents=e}async function I8(t){return t.offlineComponents||(ne("FirestoreClient","Using default OfflineComponentProvider"),await T8(t,new w8)),t.offlineComponents}async function Qx(t){return t.onlineComponents||(ne("FirestoreClient","Using default OnlineComponentProvider"),await k8(t,new _8)),t.onlineComponents}function x8(t){return Qx(t).then(e=>e.syncEngine)}async function Yx(t){const e=await Qx(t),n=e.eventManager;return n.onListen=a8.bind(null,e.syncEngine),n.onUnlisten=u8.bind(null,e.syncEngine),n}function b8(t,e,n={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Gx({next:d=>{s.enqueueAndForget(()=>Ux(i,c));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new se(F.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?l.reject(new se(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new Fx(Hv(o.path),u,{includeMetadataChanges:!0,Nu:!0});return $x(i,c)}(await Yx(t),t.asyncQueue,e,n,r)),r.promise}function R8(t,e,n={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Gx({next:d=>{s.enqueueAndForget(()=>Ux(i,c)),d.fromCache&&a.source==="server"?l.reject(new se(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new Fx(o,u,{includeMetadataChanges:!0,Nu:!0});return $x(i,c)}(await Yx(t),t.asyncQueue,e,n,r)),r.promise}class A8{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Rx(this,"async_queue_retry"),this.Wc=()=>{const n=Pp();n&&ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=Pp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=Pp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new qr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!bu(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw ei("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=e1.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&he()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}class ga extends wf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new A8,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Xx(this),this._firestoreClient.terminate()}}function P8(t,e){const n=typeof t=="object"?t:zh(),r=typeof t=="string"?t:e||"(default)",i=Ki(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=DT("firestore");s&&E8(i,...s)}return i}function o1(t){return t._firestoreClient||Xx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Xx(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new a6(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new C8(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new na(Xt.fromBase64String(e))}catch(n){throw new se(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new na(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=/^__.*__$/;class N8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(e,this.data,n,this.fieldTransforms)}}class Jx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Zx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class l1{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new l1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Vd(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(Zx(this.sa)&&L8.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class O8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||gf(e)}da(e,n,r,i=!1){return new l1({sa:e,methodName:n,fa:r,path:qt.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function u1(t){const e=t._freezeSettings(),n=gf(t._databaseId);return new O8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eb(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);d1("Data must be an object, but it was:",o,r);const a=tb(r,o);let l,u;if(s.merge)l=new Mn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=Ug(e,d,n);if(!o.contains(h))throw new se(F.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);rb(c,h)||c.push(h)}l=new Mn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new N8(new cn(a),l,u)}class Cf extends Ef{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cf}}class c1 extends Ef{_toFieldTransform(e){return new P6(e.path,new Jl)}isEqual(e){return e instanceof c1}}function D8(t,e,n,r){const i=t.da(1,e,n);d1("Data must be an object, but it was:",i,r);const s=[],o=cn.empty();qs(r,(l,u)=>{const c=h1(e,l,n);u=Je(u);const d=i.ca(c);if(u instanceof Cf)s.push(c);else{const h=Tf(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new Mn(s);return new Jx(o,a,i.fieldTransforms)}function j8(t,e,n,r,i,s){const o=t.da(1,e,n),a=[Ug(e,r,n)],l=[i];if(s.length%2!=0)throw new se(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Ug(e,s[h])),l.push(s[h+1]);const u=[],c=cn.empty();for(let h=a.length-1;h>=0;--h)if(!rb(u,a[h])){const p=a[h];let v=l[h];v=Je(v);const m=o.ca(p);if(v instanceof Cf)u.push(p);else{const S=Tf(v,m);S!=null&&(u.push(p),c.set(p,S))}}const d=new Mn(u);return new Jx(c,d,o.fieldTransforms)}function Tf(t,e){if(nb(t=Je(t)))return d1("Unsupported field value:",e,t),tb(t,e);if(t instanceof Ef)return function(n,r){if(!Zx(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Tf(o,r.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Je(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return b6(r.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=ft.fromDate(n);return{timestampValue:Ud(r.yt,i)}}if(n instanceof ft){const i=new ft(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ud(r.yt,i)}}if(n instanceof a1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof na)return{bytesValue:Sx(r.yt,n._byteString)};if(n instanceof gn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Wv(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${i1(n)}`)}(t,e)}function tb(t,e){const n={};return KI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qs(t,(r,i)=>{const s=Tf(i,e.ra(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function nb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof a1||t instanceof na||t instanceof gn||t instanceof Ef)}function d1(t,e,n){if(!nb(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=i1(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function Ug(t,e,n){if((e=Je(e))instanceof Sf)return e._internalPath;if(typeof e=="string")return h1(t,e);throw Vd("Field path arguments must be of type string or ",t,!1,void 0,n)}const M8=new RegExp("[~\\*/\\[\\]]");function h1(t,e,n){if(e.search(M8)>=0)throw Vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sf(...e.split("."))._internalPath}catch{throw Vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new se(F.INVALID_ARGUMENT,a+t+l)}function rb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $8 extends ib{data(){return super.data()}}function sb(t,e){return typeof e=="string"?h1(t,e):e instanceof Sf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class F8{convertValue(e,n="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw he()}}convertObject(e,n){const r={};return qs(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new a1(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=QI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const n=Fi(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xe.fromString(e);ze(Ix(r));const i=new Ql(r.get(1),r.get(3)),s=new oe(r.popFirst(5));return i.isEqual(n)||ei(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ab extends ib{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class zc extends ab{data(e={}){return super.data(e)}}class V8{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ya(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zc(this._firestore,this._userDataWriter,r.key,r,new Ya(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new zc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ya(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new zc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ya(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:z8(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function z8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(t){t=xr(t,gn);const e=xr(t.firestore,ga);return b8(o1(e),t._key).then(n=>H8(e,t,n))}class lb extends F8{constructor(e){super(),this.firestore=e}convertBytes(e){return new na(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function ub(t){t=xr(t,_f);const e=xr(t.firestore,ga),n=o1(e),r=new lb(e);return U8(t._query),R8(n,t._query).then(i=>new V8(e,r,t,i))}function f1(t,e,n){t=xr(t,gn);const r=xr(t.firestore,ga),i=ob(t.converter,e,n);return p1(r,[eb(u1(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,rr.none())])}function kf(t,e,n,...r){t=xr(t,gn);const i=xr(t.firestore,ga),s=u1(i);let o;return o=typeof(e=Je(e))=="string"||e instanceof Sf?j8(s,"updateDoc",t._key,e,n,r):D8(s,"updateDoc",t._key,e),p1(i,[o.toMutation(t._key,rr.exists(!0))])}function B8(t,e){const n=xr(t.firestore,ga),r=ar(t),i=ob(t.converter,e);return p1(n,[eb(u1(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,rr.exists(!1))]).then(()=>r)}function p1(t,e){return function(n,r){const i=new qr;return n.asyncQueue.enqueueAndForget(async()=>c8(await x8(n),r,i)),i.promise}(o1(t),e)}function H8(t,e,n){const r=n.docs.get(e._key),i=new lb(t);return new ab(t,i,e._key,r,new Ya(n.hasPendingWrites,n.fromCache),e.converter)}function m1(){return new c1("serverTimestamp")}(function(t,e=!0){(function(n){fa=n})(aa),or(new Vn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new ga(new Q3(n.getProvider("auth-internal")),new Z3(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new se(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),mn(C_,"3.8.0",t),mn(C_,"3.8.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="firebasestorage.googleapis.com",db="storageBucket",q8=2*60*1e3,W8=10*60*1e3,K8=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt extends Hn{constructor(e,n,r=0){super(Lp(e),`Firebase Storage: ${n} (${Lp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function Lp(t){return"storage/"+t}function g1(){const t="An unknown error occurred, please check the error payload for server response.";return new nt("unknown",t)}function G8(t){return new nt("object-not-found","Object '"+t+"' does not exist.")}function Q8(t){return new nt("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Y8(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new nt("unauthenticated",t)}function X8(){return new nt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function J8(t){return new nt("unauthorized","User does not have permission to access '"+t+"'.")}function hb(){return new nt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function fb(){return new nt("canceled","User canceled the upload/download.")}function Z8(t){return new nt("invalid-url","Invalid URL '"+t+"'.")}function eU(t){return new nt("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function tU(){return new nt("no-default-bucket","No default bucket found. Did you set the '"+db+"' property when initializing the app?")}function pb(){return new nt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function nU(){return new nt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function rU(){return new nt("no-download-url","The given file does not have any download URLs.")}function iU(t){return new nt("unsupported-environment",`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Fg(t){return new nt("invalid-argument",t)}function mb(){return new nt("app-deleted","The Firebase app was deleted.")}function sU(t){return new nt("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ml(t,e){return new nt("invalid-format","String does not match format '"+t+"': "+e)}function Oa(t){throw new nt("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=wn.makeFromUrl(e,n)}catch{return new wn(e,"")}if(r.path==="")return r;throw eU(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(_){_.path_=decodeURIComponent(_.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),v={bucket:1,path:3},m=n===cb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",y=new RegExp(`^https?://${m}/${i}/${S}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:p,indices:v,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let _=0;_<w.length;_++){const E=w[_],k=E.regex.exec(e);if(k){const I=k[E.indices.bucket];let N=k[E.indices.path];N||(N=""),r=new wn(I,N),E.postModify(r);break}}if(r==null)throw Z8(e);return r}}class oU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...S){u||(u=!0,e.apply(null,S))}function d(S){i=setTimeout(()=>{i=null,t(p,l())},S)}function h(){s&&clearTimeout(s)}function p(S,...y){if(u){h();return}if(S){h(),c.call(null,S,...y);return}if(l()||o){h(),c.call(null,S,...y);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let v=!1;function m(S){v||(v=!0,h(),!u&&(i!==null?(S||(a=2),clearTimeout(i),d(0)):S||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function lU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(t){return t!==void 0}function cU(t){return typeof t=="function"}function dU(t){return typeof t=="object"&&!Array.isArray(t)}function If(t){return typeof t=="string"||t instanceof String}function Z_(t){return y1()&&t instanceof Blob}function y1(){return typeof Blob<"u"&&!GO()}function eS(t,e,n,r){if(r<e)throw Fg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Fg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function gb(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Es;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Es||(Es={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,v)=>{this.resolve_=p,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new pc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Es.NO_ERROR,l=s.getStatus();if((!a||yb(l,this.additionalRetryCodes_))&&this.retry){const c=s.getErrorCode()===Es.ABORT;r(!1,new pc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new pc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());uU(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=g1();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?mb():fb();o(l)}else{const l=hb();o(l)}};this.canceled_?n(!1,new pc(!1,null,!0)):this.backoffId_=aU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function fU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function pU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function gU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function yU(t,e,n,r,i,s,o=!0){const a=gb(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return mU(u,e),fU(u,n),pU(u,s),gU(u,r),new hU(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wU(...t){const e=vU();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(y1())return new Blob(t);throw new nt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function _U(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(t){if(typeof atob>"u")throw iU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Np{constructor(e,n){this.data=e,this.contentType=n||null}}function EU(t,e){switch(t){case gr.RAW:return new Np(vb(e));case gr.BASE64:case gr.BASE64URL:return new Np(wb(t,e));case gr.DATA_URL:return new Np(TU(e),kU(e))}throw g1()}function vb(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function CU(t){let e;try{e=decodeURIComponent(t)}catch{throw ml(gr.DATA_URL,"Malformed data URL.")}return vb(e)}function wb(t,e){switch(t){case gr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw ml(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case gr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw ml(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=SU(e)}catch(i){throw i.message.includes("polyfill")?i:ml(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class _b{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ml(gr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=IU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function TU(t){const e=new _b(t);return e.base64?wb(gr.BASE64,e.rest):CU(e.rest)}function kU(t){return new _b(t).contentType}function IU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n){let r=0,i="";Z_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Z_(this.data_)){const r=this.data_,i=_U(r,e,n);return i===null?null:new vi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new vi(r,!0)}}static getBlob(...e){if(y1()){const n=e.map(r=>r instanceof vi?r.data_:r);return new vi(wU.apply(null,n))}else{const n=e.map(o=>If(o)?EU(gr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new vi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t){let e;try{e=JSON.parse(t)}catch{return null}return dU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function bU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Eb(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(t,e){return e}class Zt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||RU}}let mc=null;function AU(t){return!If(t)||t.length<2?t:Eb(t)}function Cb(){if(mc)return mc;const t=[];t.push(new Zt("bucket")),t.push(new Zt("generation")),t.push(new Zt("metageneration")),t.push(new Zt("name","fullPath",!0));function e(s,o){return AU(o)}const n=new Zt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Zt("size");return i.xform=r,t.push(i),t.push(new Zt("timeCreated")),t.push(new Zt("updated")),t.push(new Zt("md5Hash",null,!0)),t.push(new Zt("cacheControl",null,!0)),t.push(new Zt("contentDisposition",null,!0)),t.push(new Zt("contentEncoding",null,!0)),t.push(new Zt("contentLanguage",null,!0)),t.push(new Zt("contentType",null,!0)),t.push(new Zt("metadata","customMetadata",!0)),mc=t,mc}function PU(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new wn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function LU(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return PU(r,t),r}function Tb(t,e,n){const r=Sb(e);return r===null?null:LU(t,r,n)}function NU(t,e,n,r){const i=Sb(e);if(i===null||!If(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),p=Nu(h,n,r),v=gb({alt:"media",token:u});return p+v})[0]}function kb(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class ya{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t){if(!t)throw g1()}function v1(t,e){function n(r,i){const s=Tb(t,i,e);return Wr(s!==null),s}return n}function OU(t,e){function n(r,i){const s=Tb(t,i,e);return Wr(s!==null),NU(s,i,t.host,t._protocol)}return n}function Ou(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=X8():i=Y8():n.getStatus()===402?i=Q8(t.bucket):n.getStatus()===403?i=J8(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Ib(t){const e=Ou(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=G8(t.path)),s.serverResponse=i.serverResponse,s}return n}function DU(t,e,n){const r=e.fullServerUrl(),i=Nu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new ya(i,s,v1(t,n),o);return a.errorHandler=Ib(e),a}function jU(t,e,n){const r=e.fullServerUrl(),i=Nu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new ya(i,s,OU(t,n),o);return a.errorHandler=Ib(e),a}function MU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function xb(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=MU(null,e)),r}function $U(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let _=0;_<2;_++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=xb(e,r,i),c=kb(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=vi.getBlob(d,r,h);if(p===null)throw pb();const v={name:u.fullPath},m=Nu(s,t.host,t._protocol),S="POST",y=t.maxUploadRetryTime,g=new ya(m,S,v1(t,n),y);return g.urlParams=v,g.headers=o,g.body=p.uploadData(),g.errorHandler=Ou(e),g}class zd{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function w1(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Wr(!1)}return Wr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function UU(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=xb(e,r,i),a={name:o.fullPath},l=Nu(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=kb(o,n),h=t.maxUploadRetryTime;function p(m){w1(m);let S;try{S=m.getResponseHeader("X-Goog-Upload-URL")}catch{Wr(!1)}return Wr(If(S)),S}const v=new ya(l,u,p,h);return v.urlParams=a,v.headers=c,v.body=d,v.errorHandler=Ou(e),v}function FU(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=w1(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Wr(!1)}d||Wr(!1);const h=Number(d);return Wr(!isNaN(h)),new zd(h,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new ya(n,o,s,a);return l.headers=i,l.errorHandler=Ou(e),l}const tS=256*1024;function VU(t,e,n,r,i,s,o,a){const l=new zd(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw nU();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,h=d+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const v={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},m=r.slice(d,h);if(m===null)throw pb();function S(_,E){const k=w1(_,["active","final"]),I=l.current+c,N=r.size();let R;return k==="final"?R=v1(e,s)(_,E):R=null,new zd(I,N,k==="final",R)}const y="POST",g=e.maxUploadRetryTime,w=new ya(n,y,S,g);return w.headers=v,w.body=m.uploadData(),w.progressCallback=a||null,w.errorHandler=Ou(t),w}const ln={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Op(t){switch(t){case"running":case"pausing":case"canceling":return ln.RUNNING;case"paused":return ln.PAUSED;case"success":return ln.SUCCESS;case"canceled":return ln.CANCELED;case"error":return ln.ERROR;default:return ln.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e,n,r){if(cU(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class BU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Es.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Es.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Es.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Oa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Oa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Oa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Oa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Oa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class HU extends BU{initXhr(){this.xhr_.responseType="text"}}function io(){return new HU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Cb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(yb(i.status,[]))if(s)i=hb();else{this.sleepTime=Math.max(this.sleepTime*2,K8),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=UU(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,io,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=FU(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,io,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=tS*this._chunkMultiplier,n=new zd(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=VU(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,io,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){tS*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=DU(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,io,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=$U(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,io,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=fb(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Op(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new zU(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Op(this._state)){case ln.SUCCESS:Js(this._resolve.bind(null,this.snapshot))();break;case ln.CANCELED:case ln.ERROR:const n=this._reject;Js(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Op(this._state)){case ln.RUNNING:case ln.PAUSED:e.next&&Js(e.next.bind(e,this.snapshot))();break;case ln.SUCCESS:e.complete&&Js(e.complete.bind(e))();break;case ln.CANCELED:case ln.ERROR:e.error&&Js(e.error.bind(e,this._error))();break;default:e.error&&Js(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){this._service=e,n instanceof wn?this._location=n:this._location=wn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new js(e,n)}get root(){const e=new wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Eb(this._location.path)}get storage(){return this._service}get parent(){const e=xU(this._location.path);if(e===null)return null;const n=new wn(this._location.bucket,e);return new js(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw sU(e)}}function WU(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new qU(t,new vi(e),n)}function KU(t){t._throwIfRoot("getDownloadURL");const e=jU(t.storage,t._location,Cb());return t.storage.makeRequestWithTokens(e,io).then(n=>{if(n===null)throw rU();return n})}function GU(t,e){const n=bU(t._location.path,e),r=new wn(t._location.bucket,n);return new js(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(t){return/^[A-Za-z]+:\/\//.test(t)}function YU(t,e){return new js(t,e)}function bb(t,e){if(t instanceof _1){const n=t;if(n._bucket==null)throw tU();const r=new js(n,n._bucket);return e!=null?bb(r,e):r}else return e!==void 0?GU(t,e):t}function XU(t,e){if(e&&QU(e)){if(t instanceof _1)return YU(t,e);throw Fg("To use ref(service, url), the first argument must be a Storage instance.")}else return bb(t,e)}function nS(t,e){const n=e==null?void 0:e[db];return n==null?null:wn.makeFromBucketSpec(n,t)}function JU(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:MT(i,t.app.options.projectId))}class _1{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=cb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=q8,this._maxUploadRetryTime=W8,this._requests=new Set,i!=null?this._bucket=wn.makeFromBucketSpec(i,this._host):this._bucket=nS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wn.makeFromBucketSpec(this._url,e):this._bucket=nS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new js(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new oU(mb());{const o=yU(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const rS="@firebase/storage",iS="0.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="storage";function ZU(t,e,n){return t=Je(t),WU(t,e,n)}function e5(t){return t=Je(t),KU(t)}function t5(t,e){return t=Je(t),XU(t,e)}function n5(t=zh(),e){t=Je(t);const r=Ki(t,Rb).getImmediate({identifier:e}),i=DT("storage");return i&&r5(r,...i),r}function r5(t,e,n,r={}){JU(t,e,n,r)}function i5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new _1(n,r,i,e,aa)}function s5(){or(new Vn(Rb,i5,"PUBLIC").setMultipleInstances(!0)),mn(rS,iS,""),mn(rS,iS,"esm2017")}s5();const o5={apiKey:"AIzaSyCp1genoyHX34BgerJeoNIDKJNp2H3Y2Rc",authDomain:"amelianceworship-d6e23.firebaseapp.com",projectId:"amelianceworship-d6e23",storageBucket:"amelianceworship-d6e23.appspot.com",messagingSenderId:"268005856332",appId:"1:268005856332:web:ba2da910ba7dec2a1350e9",measurementId:"G-28X8EC3EV9"},a5=VT(o5),va=k$(),l5=n5();U4(a5);const u5=new Mr,bn=P8();async function c5({email:t,password:e}){try{return{user:(await iM(va,t,e)).user,status:"success"}}catch(n){throw new Error(pe(n))}}function d5(){const t=va.currentUser;if(t!==null)return{user:t,status:"success"};throw new Error(pe("Can't find user auth!"))}async function h5({email:t,password:e}){try{return{user:(await sM(va,t,e)).user,status:"success"}}catch(n){throw new Error(pe(n))}}async function f5(){try{return{user:(await DM(va,u5)).user,status:"success"}}catch(t){throw new Error(pe(t))}}function Ks(){return{status:"success"}}function p5(){try{return dM(va),Ks()}catch(t){throw new Error(pe(t))}}async function m5({user:t,displayName:e,photoURL:n}){try{return await aM(t,{displayName:e,photoURL:n}),Ks()}catch(r){throw new Error(pe(r))}}const g5={createUser:c5,getCurrentAuthUser:d5,signIn:h5,signInWithGoogle:f5,signOut:p5,updateProfile:m5};async function y5({chatId:t}){const e=ar(bn,"chats",t);try{const n=await tu(e);if(n.exists())return{messages:n.data().message,status:"success"};await f1(e,{messages:[]});const r=await tu(e);if(r.exists())return{messages:r.data().message,status:"success"};throw new Error("Can't find group chat!")}catch(n){throw new Error(pe(n))}}const v5={getChatMessages:y5};async function w5(){const t=s1(bn,"groups");try{return{chatId:(await B8(t,{})).id,status:"success"}}catch(e){throw new Error(pe(e))}}async function Ab({chatId:t}){const e=ar(bn,"groups",t);try{const n=await tu(e);if(n.exists())return{messages:n.data().messages,status:"success"};throw new Error("Can't find group messages!")}catch(n){throw new Error(pe(n))}}async function _5({text:t,chatId:e,user:n}){var r;try{const i=await Ab({chatId:e});if("error"in i)throw new Error((r=i.error)==null?void 0:r.toString());const o={messageId:i.messages&&i.messages.length>0?i.messages[i.messages.length-1].messageId+1:0,text:t,chatId:e,date:ft.now().toMillis().toString(),user:n};let a;"messages"in i&&i.messages&&i.messages.length>0?a=[...i.messages,o]:a=[o];const l=ar(bn,"groups",e);return await kf(l,{messages:a}),Ks()}catch(i){throw new Error(pe(i))}}async function S5(){const t=s1(bn,"groups");try{const e=await ub(t),n={};if(e.forEach(r=>{n[r.id]=r.data()}),!W.isObjectEmpty(n))return{groups:n,status:"success"};throw new Error("Can't find any groups!")}catch(e){throw new Error(pe(e))}}async function E5({chatId:t}){const e=ar(bn,"groups",t);try{const n=await tu(e);if(n.exists())return{info:n.data().info,status:"success"};throw new Error("Can't find group info!")}catch(n){throw new Error(pe(n))}}async function C5({chatId:t,displayName:e,photoURL:n,lastText:r,color:i,ownerId:s,admins:o,type:a}){const l=ar(bn,"groups",t);try{const u={};return t&&(u.chatId=t),e&&(u.displayName=e),n&&(u.photoURL=n),u.date=m1().toString(),r&&(u.lastText=r),i&&(u.color=i),s&&(u.ownerId=s),o&&o.length>0&&(u.admins=o),a&&(u.type=a),await kf(l,{info:u}),Ks()}catch(u){throw new Error(pe(u))}}const T5={addGroup:w5,addMessage:_5,getGroupMessages:Ab,getAllGroups:S5,updateGroupInfo:C5,getGroupInfo:E5};async function k5({uid:t}){const e=ar(bn,"userChats",t);try{return await f1(e,{}),Ks()}catch(n){throw new Error(pe(n))}}function I5({chatId:t,uid:e,targetChatUserId:n,targetChatUserDisplayName:r,targetChatUserPhotoURL:i}){const s=ar(bn,"userChats",e);kf(s,{[`${t}.userInfo`]:{uid:n,displayName:r,photoURL:i},[`${t}.date`]:m1()})}const x5={addUserChatsForUser:k5,updateUserChatInfo:I5};async function b5({uid:t}){const e=ar(bn,"users",t);try{return await f1(e,{uid:t}),Ks()}catch(n){throw new Error(pe(n))}}async function R5(){const t=s1(bn,"users");try{const e=await ub(t),n={};if(e.forEach(r=>{n[r.id]=r.data()}),!W.isObjectEmpty(n))return{users:n,status:"success"};throw new Error(pe("Can't find any chats!"))}catch(e){throw new Error(pe(e))}}async function A5({userId:t}){const e=ar(bn,"users",t);try{const n=await tu(e);if(n.exists()){const{user:r}=n.data();return{user:r,status:"success"}}throw new Error("Can't find user!")}catch(n){throw new Error(pe(n))}}async function P5({uid:t,displayName:e,photoURL:n,email:r,role:i,sex:s,lastActiveChatId:o,isOnline:a}){const l=ar(bn,"users",t);try{const u={};return e&&(u.displayName=e),n&&(u.photoURL=n),r&&(u.email=r),i&&(u.role=i),s&&(u.sex=s),o&&(u.lastActiveChatId=o),u.lastVisitDate=m1().toString(),a&&(u.isOnline=a),await kf(l,{user:u}),Ks()}catch(u){throw new Error(pe(u))}}const L5={addUser:b5,getAllUsers:R5,getUserById:A5,updateUser:P5},N5={chats:v5,groups:T5,userChats:x5,users:L5};function O5(...t){return t.sort().join("-")}const D5={combineIds:O5};async function j5({refName:t,file:e}){const n=t5(l5,t);try{return await ZU(n,e),{downloadURL:await e5(n),status:"success"}}catch(r){throw new Error(pe(r))}}const M5={uploadFile:j5},$5={auth:g5,database:N5,helpers:D5,storage:M5};function U5(t){return t.table.rows.map(e=>{var n;return(n=e.c.at(0))==null?void 0:n.v})}function F5(t){const e={},{table:n}=t,r=n.rows[0].c.length;for(let i=0;i<r;i++){const s=[];for(let o=1;o<n.rows.length;o++)n.rows[o].c[i]?s[o-1]=n.rows[o].c[i].v??"":s[o]="";e[n.rows[0].c[i].v]=s}return e}const V5={convertDataFromSheetWithFirstRowHeading:F5,convertDataFromOneColumnSheet:U5},z5="https://docs.google.com/spreadsheets/d/";async function B5({sheetId:t,tqx:e="out:json",pageTitle:n="sheet",range:r=""}){const i=new URLSearchParams;e&&i.append("tqx",e),n&&i.append("sheet",n),r&&i.append("range",r);try{const o=await(await fetch(`${z5}${t}/gviz/tq?${i}`)).text();return JSON.parse(o.substring(47).slice(0,-2))}catch(s){throw new Error(pe(s))}}const H5={getSheetData:B5,convertors:V5},q5={firebase:$5,sheets:H5,appsscript:HO};async function W5(){try{return{ip:(await(await fetch("https://api.ipify.org?format=json")).json()).ip,status:"success"}}catch(t){throw new Error(pe(t))}}const K5={fetchIP:W5},Pn={google:q5,ipify:K5};function sS(t){return f.jsxs(Oe,{width:"108px",height:"28px",viewBox:"0 0 108 28",stroke:"none",...t,children:[f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.48798 6L0 22.8H3.98401L5.48108 19.2H13.2687L14.76 22.8H18.84L11.328 6H7.48798ZM12.0459 16.248L9.38251 9.81833L6.70868 16.248H12.0459Z"}),f.jsx("path",{d:"M17.205 6L22.7009 22.8H26.877L30.6852 11.4169L34.3889 22.8H38.5649L44.0609 6H40.3409L36.4266 17.8967L32.5889 6H28.989L25.0272 17.809L21.2369 6H17.205Z"}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M49.495 22.944C48.463 22.944 47.545 22.728 46.741 22.296C45.949 21.864 45.319 21.276 44.851 20.532C44.395 19.776 44.167 18.918 44.167 17.958C44.167 16.986 44.395 16.128 44.851 15.384C45.319 14.628 45.949 14.04 46.741 13.62C47.545 13.188 48.463 12.972 49.495 12.972C50.515 12.972 51.427 13.188 52.231 13.62C53.035 14.04 53.665 14.622 54.121 15.366C54.577 16.11 54.805 16.974 54.805 17.958C54.805 18.918 54.577 19.776 54.121 20.532C53.665 21.276 53.035 21.864 52.231 22.296C51.427 22.728 50.515 22.944 49.495 22.944ZM49.495 20.64C49.963 20.64 50.383 20.532 50.755 20.316C51.127 20.1 51.421 19.794 51.637 19.398C51.853 18.99 51.961 18.51 51.961 17.958C51.961 17.394 51.853 16.914 51.637 16.518C51.421 16.122 51.127 15.816 50.755 15.6C50.383 15.384 49.963 15.276 49.495 15.276C49.027 15.276 48.607 15.384 48.235 15.6C47.863 15.816 47.563 16.122 47.335 16.518C47.119 16.914 47.011 17.394 47.011 17.958C47.011 18.51 47.119 18.99 47.335 19.398C47.563 19.794 47.863 20.1 48.235 20.316C48.607 20.532 49.027 20.64 49.495 20.64Z"}),f.jsx("path",{d:"M60.364 13.116H57.6819V22.8H60.4899V18.228C60.4899 17.304 60.7239 16.626 61.1919 16.194C61.6719 15.75 62.2959 15.528 63.0639 15.528C63.1719 15.528 63.2739 15.534 63.3699 15.546C63.3847 15.546 63.3998 15.5461 63.4152 15.5464L63.4372 15.5469L63.4645 15.5478C63.5353 15.5504 63.6118 15.5558 63.6939 15.564V12.972C62.7819 12.972 62.0079 13.152 61.3719 13.512C60.9645 13.7349 60.6285 14.0267 60.364 14.3875V13.116Z"}),f.jsx("path",{d:"M69.6919 22.944C68.8639 22.944 68.0659 22.848 67.2979 22.656C66.5419 22.452 65.9419 22.2 65.4979 21.9L66.4339 19.884C66.8779 20.16 67.3999 20.388 67.9999 20.568C68.6119 20.736 69.2119 20.82 69.7999 20.82C70.4479 20.82 70.9039 20.742 71.1679 20.586C71.4438 20.43 71.5818 20.214 71.5818 19.938C71.5818 19.71 71.4739 19.542 71.2579 19.434C71.0539 19.314 70.7779 19.224 70.4299 19.164C70.2651 19.1356 70.0923 19.1072 69.9115 19.0789C69.7103 19.0472 69.4991 19.0156 69.2779 18.984C68.8699 18.924 68.4559 18.846 68.0359 18.75C67.6158 18.642 67.2319 18.486 66.8839 18.282C66.5359 18.078 66.2538 17.802 66.0379 17.454C65.8339 17.106 65.7319 16.656 65.7319 16.104C65.7319 15.492 65.9059 14.952 66.2538 14.484C66.6139 14.016 67.1299 13.65 67.8019 13.386C68.4739 13.11 69.2779 12.972 70.2139 12.972C70.8739 12.972 71.5459 13.044 72.2299 13.188C72.9139 13.332 73.4839 13.542 73.9399 13.818L73.0038 15.816C72.5359 15.54 72.0619 15.354 71.5818 15.258C71.1139 15.15 70.6579 15.096 70.2139 15.096C69.5899 15.096 69.1339 15.18 68.8459 15.348C68.5579 15.516 68.4139 15.732 68.4139 15.996C68.4139 16.236 68.5159 16.416 68.7198 16.536C68.9359 16.656 69.2179 16.752 69.5659 16.824C69.9139 16.896 70.2919 16.962 70.6999 17.022C71.1199 17.07 71.5399 17.148 71.9599 17.256C72.3799 17.364 72.7579 17.52 73.0939 17.724C73.4419 17.916 73.7239 18.186 73.9399 18.534C74.1559 18.87 74.2639 19.314 74.2639 19.866C74.2639 20.466 74.0839 21 73.7239 21.468C73.3639 21.924 72.8419 22.284 72.1579 22.548C71.4859 22.812 70.6639 22.944 69.6919 22.944Z"}),f.jsx("path",{d:"M84.9344 13.44C84.3344 13.128 83.6504 12.972 82.8824 12.972C82.0544 12.972 81.3163 13.146 80.6684 13.494C80.3424 13.669 80.0544 13.8821 79.8044 14.133V9.444H76.9964V22.8H79.8044V18.012C79.8044 17.412 79.9004 16.92 80.0923 16.536C80.2964 16.152 80.5724 15.87 80.9203 15.69C81.2804 15.498 81.6824 15.402 82.1264 15.402C82.7504 15.402 83.2303 15.588 83.5663 15.96C83.9144 16.332 84.0884 16.908 84.0884 17.688V22.8H86.8964V17.256C86.8964 16.272 86.7224 15.468 86.3744 14.844C86.0264 14.208 85.5464 13.74 84.9344 13.44Z"}),f.jsx("path",{d:"M91.8457 11.766C91.3297 11.766 90.9097 11.616 90.5857 11.316C90.2617 11.016 90.0997 10.644 90.0997 10.2C90.0997 9.75601 90.2617 9.384 90.5857 9.08401C90.9097 8.784 91.3297 8.634 91.8457 8.634C92.3617 8.634 92.7817 8.77802 93.1057 9.06601C93.4297 9.34201 93.5917 9.702 93.5917 10.146C93.5917 10.614 93.4297 11.004 93.1057 11.316C92.7937 11.616 92.3737 11.766 91.8457 11.766Z"}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M100.438 22.404C101.05 22.764 101.764 22.944 102.58 22.944C103.492 22.944 104.308 22.74 105.028 22.332C105.76 21.924 106.336 21.348 106.756 20.604C107.188 19.86 107.404 18.978 107.404 17.958C107.404 16.95 107.188 16.074 106.756 15.33C106.336 14.586 105.76 14.01 105.028 13.602C104.308 13.182 103.492 12.972 102.58 12.972C101.728 12.972 100.996 13.152 100.384 13.512C100.062 13.7013 99.7799 13.942 99.5378 14.2342V13.116H96.8557V26.292H99.6638V21.7747C99.8927 22.0254 100.151 22.2352 100.438 22.404ZM103.336 20.316C102.976 20.532 102.562 20.64 102.094 20.64C101.626 20.64 101.206 20.532 100.834 20.316C100.462 20.1 100.168 19.794 99.9518 19.398C99.7357 18.99 99.6277 18.51 99.6277 17.958C99.6277 17.394 99.7357 16.914 99.9518 16.518C100.168 16.122 100.462 15.816 100.834 15.6C101.206 15.384 101.626 15.276 102.094 15.276C102.562 15.276 102.976 15.384 103.336 15.6C103.708 15.816 104.002 16.122 104.218 16.518C104.446 16.914 104.56 17.394 104.56 17.958C104.56 18.51 104.446 18.99 104.218 19.398C104.002 19.794 103.708 20.1 103.336 20.316Z"}),f.jsx("path",{d:"M90.4417 22.8V13.116H93.2497V22.8H90.4417Z"})]})}function G5({type:t}){const{isAuth:e}=tv();return f.jsxs(Fh,{to:"/",style:{color:"var(--color--f1-0)"},children:[t==="short"&&f.jsx(lg,{}),t==="normal"&&f.jsx(sS,{}),!t&&(e?f.jsx(sS,{}):f.jsx(lg,{}))]})}const Rn=JP;function Zn(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function zi(t){return!!t&&!!t[Ge]}function ri(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===rF}(t)||Array.isArray(t)||!!t[hS]||!!(!((e=t.constructor)===null||e===void 0)&&e[hS])||S1(t)||E1(t))}function Ms(t,e,n){n===void 0&&(n=!1),wa(t)===0?(n?Object.keys:jo)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function wa(t){var e=t[Ge];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:S1(t)?2:E1(t)?3:0}function Do(t,e){return wa(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Q5(t,e){return wa(t)===2?t.get(e):t[e]}function Pb(t,e,n){var r=wa(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Lb(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function S1(t){return tF&&t instanceof Map}function E1(t){return nF&&t instanceof Set}function rs(t){return t.o||t.t}function C1(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=Ob(t);delete e[Ge];for(var n=jo(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function T1(t,e){return e===void 0&&(e=!1),k1(t)||zi(t)||!ri(t)||(wa(t)>1&&(t.set=t.add=t.clear=t.delete=Y5),Object.freeze(t),e&&Ms(t,function(n,r){return T1(r,!0)},!0)),t}function Y5(){Zn(2)}function k1(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Tr(t){var e=Hg[t];return e||Zn(18,t),e}function X5(t,e){Hg[t]||(Hg[t]=e)}function Vg(){return nu}function Dp(t,e){e&&(Tr("Patches"),t.u=[],t.s=[],t.v=e)}function Bd(t){zg(t),t.p.forEach(J5),t.p=null}function zg(t){t===nu&&(nu=t.l)}function oS(t){return nu={p:[],l:nu,h:t,m:!0,_:0}}function J5(t){var e=t[Ge];e.i===0||e.i===1?e.j():e.O=!0}function jp(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.g||Tr("ES5").S(e,t,r),r?(n[Ge].P&&(Bd(e),Zn(4)),ri(t)&&(t=Hd(e,t),e.l||qd(e,t)),e.u&&Tr("Patches").M(n[Ge].t,t,e.u,e.s)):t=Hd(e,n,[]),Bd(e),e.u&&e.v(e.u,e.s),t!==Nb?t:void 0}function Hd(t,e,n){if(k1(e))return e;var r=e[Ge];if(!r)return Ms(e,function(a,l){return aS(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return qd(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=C1(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Ms(s,function(a,l){return aS(t,r,i,a,l,n,o)}),qd(t,i,!1),n&&t.u&&Tr("Patches").N(r,n,t.u,t.s)}return r.o}function aS(t,e,n,r,i,s,o){if(zi(i)){var a=Hd(t,i,s&&e&&e.i!==3&&!Do(e.R,r)?s.concat(r):void 0);if(Pb(n,r,a),!zi(a))return;t.m=!1}else o&&n.add(i);if(ri(i)&&!k1(i)){if(!t.h.D&&t._<1)return;Hd(t,i),e&&e.A.l||qd(t,i)}}function qd(t,e,n){n===void 0&&(n=!1),t.h.D&&t.m&&T1(e,n)}function Mp(t,e){var n=t[Ge];return(n?rs(n):t)[e]}function lS(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function wi(t){t.P||(t.P=!0,t.l&&wi(t.l))}function $p(t){t.o||(t.o=C1(t.t))}function Bg(t,e,n){var r=S1(e)?Tr("MapSet").F(e,n):E1(e)?Tr("MapSet").T(e,n):t.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Vg(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=ru;o&&(l=[a],u=Xa);var c=Proxy.revocable(l,u),d=c.revoke,h=c.proxy;return a.k=h,a.j=d,h}(e,n):Tr("ES5").J(e,n);return(n?n.A:Vg()).p.push(r),r}function Z5(t){return zi(t)||Zn(22,t),function e(n){if(!ri(n))return n;var r,i=n[Ge],s=wa(n);if(i){if(!i.P&&(i.i<4||!Tr("ES5").K(i)))return i.t;i.I=!0,r=uS(n,s),i.I=!1}else r=uS(n,s);return Ms(r,function(o,a){i&&Q5(i.t,o)===a||Pb(r,o,e(a))}),s===3?new Set(r):r}(t)}function uS(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return C1(t)}function eF(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[Ge];return ru.get(l,s)},set:function(l){var u=this[Ge];ru.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Ge];if(!a.P)switch(a.i){case 5:r(a)&&wi(a);break;case 4:n(a)&&wi(a)}}}function n(s){for(var o=s.t,a=s.k,l=jo(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Ge){var d=o[c];if(d===void 0&&!Do(o,c))return!0;var h=a[c],p=h&&h[Ge];if(p?p.t!==d:!Lb(h,d))return!0}}var v=!!o[Ge];return l.length!==jo(o).length+(v?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};X5("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,d){if(c){for(var h=Array(d.length),p=0;p<d.length;p++)Object.defineProperty(h,""+p,t(p,!0));return h}var v=Ob(d);delete v[Ge];for(var m=jo(v),S=0;S<m.length;S++){var y=m[S];v[y]=t(y,c||!!v[y].enumerable)}return Object.create(Object.getPrototypeOf(d),v)}(a,s),u={i:a?5:4,A:o?o.A:Vg(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,Ge,{value:u,writable:!0}),l},S:function(s,o,a){a?zi(o)&&o[Ge].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[Ge];if(c){var d=c.t,h=c.k,p=c.R,v=c.i;if(v===4)Ms(h,function(w){w!==Ge&&(d[w]!==void 0||Do(d,w)?p[w]||l(h[w]):(p[w]=!0,wi(c)))}),Ms(d,function(w){h[w]!==void 0||Do(h,w)||(p[w]=!1,wi(c))});else if(v===5){if(r(c)&&(wi(c),p.length=!0),h.length<d.length)for(var m=h.length;m<d.length;m++)p[m]=!1;else for(var S=d.length;S<h.length;S++)p[S]=!0;for(var y=Math.min(h.length,d.length),g=0;g<y;g++)h.hasOwnProperty(g)||(p[g]=!0),p[g]===void 0&&l(h[g])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var cS,nu,I1=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",tF=typeof Map<"u",nF=typeof Set<"u",dS=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Nb=I1?Symbol.for("immer-nothing"):((cS={})["immer-nothing"]=!0,cS),hS=I1?Symbol.for("immer-draftable"):"__$immer_draftable",Ge=I1?Symbol.for("immer-state"):"__$immer_state",rF=""+Object.prototype.constructor,jo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Ob=Object.getOwnPropertyDescriptors||function(t){var e={};return jo(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},Hg={},ru={get:function(t,e){if(e===Ge)return t;var n=rs(t);if(!Do(n,e))return function(i,s,o){var a,l=lS(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!ri(r)?r:r===Mp(t.t,e)?($p(t),t.o[e]=Bg(t.A.h,r,t)):r},has:function(t,e){return e in rs(t)},ownKeys:function(t){return Reflect.ownKeys(rs(t))},set:function(t,e,n){var r=lS(rs(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Mp(rs(t),e),s=i==null?void 0:i[Ge];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(Lb(n,i)&&(n!==void 0||Do(t.t,e)))return!0;$p(t),wi(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Mp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,$p(t),wi(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=rs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Zn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Zn(12)}},Xa={};Ms(ru,function(t,e){Xa[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Xa.deleteProperty=function(t,e){return Xa.set.call(this,t,e,void 0)},Xa.set=function(t,e,n){return ru.set.call(this,t[0],e,n,t[0])};var iF=function(){function t(n){var r=this;this.g=dS,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(m){var S=this;m===void 0&&(m=a);for(var y=arguments.length,g=Array(y>1?y-1:0),w=1;w<y;w++)g[w-1]=arguments[w];return l.produce(m,function(_){var E;return(E=s).call.apply(E,[S,_].concat(g))})}}var u;if(typeof s!="function"&&Zn(6),o!==void 0&&typeof o!="function"&&Zn(7),ri(i)){var c=oS(r),d=Bg(r,i,void 0),h=!0;try{u=s(d),h=!1}finally{h?Bd(c):zg(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(m){return Dp(c,o),jp(m,c)},function(m){throw Bd(c),m}):(Dp(c,o),jp(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===Nb&&(u=void 0),r.D&&T1(u,!0),o){var p=[],v=[];Tr("Patches").M(i,u,p,v),o(p,v)}return u}Zn(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),h=1;h<c;h++)d[h-1]=arguments[h];return r.produceWithPatches(u,function(p){return i.apply(void 0,[p].concat(d))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){ri(n)||Zn(8),zi(n)&&(n=Z5(n));var r=oS(this),i=Bg(this,n,void 0);return i[Ge].C=!0,zg(r),i},e.finishDraft=function(n,r){var i=n&&n[Ge],s=i.A;return Dp(s,r),jp(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!dS&&Zn(20),this.g=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Tr("Patches").$;return zi(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),Tn=new iF,Db=Tn.produce;Tn.produceWithPatches.bind(Tn);Tn.setAutoFreeze.bind(Tn);Tn.setUseProxies.bind(Tn);Tn.applyPatches.bind(Tn);Tn.createDraft.bind(Tn);Tn.finishDraft.bind(Tn);function iu(t){return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function sF(t,e){if(iu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(iu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oF(t){var e=sF(t,"string");return iu(e)==="symbol"?e:String(e)}function aF(t,e,n){return e=oF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fS(Object(n),!0).forEach(function(r){aF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var mS=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Up=function(){return Math.random().toString(36).substring(7).split("").join(".")},Wd={INIT:"@@redux/INIT"+Up(),REPLACE:"@@redux/REPLACE"+Up(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Up()}};function lF(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function x1(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Vt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Vt(1));return n(x1)(t,e)}if(typeof t!="function")throw new Error(Vt(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(Vt(3));return s}function d(m){if(typeof m!="function")throw new Error(Vt(4));if(l)throw new Error(Vt(5));var S=!0;return u(),a.push(m),function(){if(S){if(l)throw new Error(Vt(6));S=!1,u();var g=a.indexOf(m);a.splice(g,1),o=null}}}function h(m){if(!lF(m))throw new Error(Vt(7));if(typeof m.type>"u")throw new Error(Vt(8));if(l)throw new Error(Vt(9));try{l=!0,s=i(s,m)}finally{l=!1}for(var S=o=a,y=0;y<S.length;y++){var g=S[y];g()}return m}function p(m){if(typeof m!="function")throw new Error(Vt(10));i=m,h({type:Wd.REPLACE})}function v(){var m,S=d;return m={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(Vt(11));function w(){g.next&&g.next(c())}w();var _=S(w);return{unsubscribe:_}}},m[mS]=function(){return this},m}return h({type:Wd.INIT}),r={dispatch:h,subscribe:d,getState:c,replaceReducer:p},r[mS]=v,r}function uF(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Wd.INIT});if(typeof r>"u")throw new Error(Vt(12));if(typeof n(void 0,{type:Wd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Vt(13))})}function jb(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{uF(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,d={},h=0;h<s.length;h++){var p=s[h],v=n[p],m=l[p],S=v(m,u);if(typeof S>"u")throw u&&u.type,new Error(Vt(14));d[p]=S,c=c||S!==m}return c=c||s.length!==Object.keys(l).length,c?d:l}}function Kd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function cF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Vt(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=Kd.apply(void 0,a)(i.dispatch),pS(pS({},i),{},{dispatch:s})}}}function Mb(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var $b=Mb();$b.withExtraArgument=Mb;const gS=$b;var dF=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),hF=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Gd=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},fF=Object.defineProperty,pF=Object.defineProperties,mF=Object.getOwnPropertyDescriptors,yS=Object.getOwnPropertySymbols,gF=Object.prototype.hasOwnProperty,yF=Object.prototype.propertyIsEnumerable,vS=function(t,e,n){return e in t?fF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Oi=function(t,e){for(var n in e||(e={}))gF.call(e,n)&&vS(t,n,e[n]);if(yS)for(var r=0,i=yS(e);r<i.length;r++){var n=i[r];yF.call(e,n)&&vS(t,n,e[n])}return t},Fp=function(t,e){return pF(t,mF(e))},vF=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},wF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Kd:Kd.apply(null,arguments)};function _F(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var SF=function(t){dF(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Gd([void 0],n[0].concat(this)))):new(e.bind.apply(e,Gd([void 0],n.concat(this))))},e}(Array);function qg(t){return ri(t)?Db(t,function(){}):t}function EF(t){return typeof t=="boolean"}function CF(){return function(e){return TF(e)}}function TF(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new SF;return n&&(EF(n)?r.push(gS):r.push(gS.withExtraArgument(n.extraArgument))),r}var kF=!0;function IF(t){var e=CF(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,h=d===void 0?void 0:d,p;if(typeof i=="function")p=i;else if(_F(i))p=jb(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var v=o;typeof v=="function"&&(v=v(e));var m=cF.apply(void 0,v),S=Kd;l&&(S=wF(Oi({trace:!kF},typeof l=="object"&&l)));var y=[m];Array.isArray(h)?y=Gd([m],h):typeof h=="function"&&(y=h(y));var g=S.apply(void 0,y);return x1(p,c,g)}function Di(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Oi(Oi({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function Ub(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function xF(t){return typeof t=="function"}function bF(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?Ub(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(xF(t))l=function(){return qg(t())};else{var u=qg(t);l=function(){return u}}function c(d,h){d===void 0&&(d=l());var p=Gd([s[h.type]],o.filter(function(v){var m=v.matcher;return m(h)}).map(function(v){var m=v.reducer;return m}));return p.filter(function(v){return!!v}).length===0&&(p=[a]),p.reduce(function(v,m){if(m)if(zi(v)){var S=v,y=m(S,h);return y===void 0?v:y}else{if(ri(v))return Db(v,function(g){return m(g,h)});var y=m(v,h);if(y===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return v},d)}return c.getInitialState=l,c}function RF(t,e){return t+"/"+e}function xf(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:qg(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var d=r[c],h=RF(e,c),p,v;"reducer"in d?(p=d.reducer,v=d.prepare):p=d,s[c]=p,o[h]=p,a[c]=v?Di(h,v):Di(h)});function l(){var c=typeof t.extraReducers=="function"?Ub(t.extraReducers):[t.extraReducers],d=c[0],h=d===void 0?{}:d,p=c[1],v=p===void 0?[]:p,m=c[2],S=m===void 0?void 0:m,y=Oi(Oi({},h),o);return bF(n,function(g){for(var w in y)g.addCase(w,y[w]);for(var _=0,E=v;_<E.length;_++){var k=E[_];g.addMatcher(k.matcher,k.reducer)}S&&g.addDefaultCase(S)})}var u;return{name:e,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var AF="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",PF=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=AF[Math.random()*64|0];return e},LF=["name","message","stack","code"],Vp=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),wS=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),NF=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=LF;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}},bf=function(){function t(e,n,r){var i=Di(e+"/fulfilled",function(u,c,d,h){return{payload:u,meta:Fp(Oi({},h||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),s=Di(e+"/pending",function(u,c,d){return{payload:void 0,meta:Fp(Oi({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=Di(e+"/rejected",function(u,c,d,h,p){return{payload:h,error:(r&&r.serializeError||NF)(u||"Rejected"),meta:Fp(Oi({},p||{}),{arg:d,requestId:c,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,h){var p=r!=null&&r.idGenerator?r.idGenerator(u):PF(),v=new a,m;function S(g){m=g,v.abort()}var y=function(){return vF(this,null,function(){var g,w,_,E,k,I,N;return hF(this,function(R){switch(R.label){case 0:return R.trys.push([0,4,,5]),E=(g=r==null?void 0:r.condition)==null?void 0:g.call(r,u,{getState:d,extra:h}),DF(E)?[4,E]:[3,2];case 1:E=R.sent(),R.label=2;case 2:if(E===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return k=new Promise(function(D,K){return v.signal.addEventListener("abort",function(){return K({name:"AbortError",message:m||"Aborted"})})}),c(s(p,u,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:p,arg:u},{getState:d,extra:h}))),[4,Promise.race([k,Promise.resolve(n(u,{dispatch:c,getState:d,extra:h,requestId:p,signal:v.signal,abort:S,rejectWithValue:function(D,K){return new Vp(D,K)},fulfillWithValue:function(D,K){return new wS(D,K)}})).then(function(D){if(D instanceof Vp)throw D;return D instanceof wS?i(D.payload,p,u,D.meta):i(D,p,u)})])];case 3:return _=R.sent(),[3,5];case 4:return I=R.sent(),_=I instanceof Vp?o(null,p,u,I.payload,I.meta):o(I,p,u),[3,5];case 5:return N=r&&!r.dispatchConditionRejection&&o.match(_)&&_.meta.condition,N||c(_),[2,_]}})})}();return Object.assign(y,{abort:S,requestId:p,arg:u,unwrap:function(){return y.then(OF)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t}();function OF(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function DF(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var b1="listenerMiddleware";Di(b1+"/add");Di(b1+"/removeAll");Di(b1+"/remove");var _S;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);eF();const Bc=bf("user/createUser",async({displayName:t,email:e,password:n,photo:r},i)=>{var s,o,a,l,u;try{const c=await Pn.google.firebase.auth.createUser({email:e,password:n});if("error"in c)throw new Error((s=c.error)==null?void 0:s.toString());const d=r?await Pn.google.firebase.storage.uploadFile({refName:`users/${c.user.uid}/profile/profileImage-${c.user.uid}-${W.getCurrentDateInMs()}`,file:r}):null,h=d&&"downloadURL"in d&&d.downloadURL||"";"error"in await Pn.google.firebase.database.users.addUser({uid:c.user.uid})||await Pn.google.firebase.database.users.updateUser({uid:c.user.uid,displayName:c.user.displayName||"User",photoURL:h,email:c.user.email||"",status:"user",sex:"unknown",lastActiveChatId:"0"}),await Pn.google.firebase.auth.updateProfile({user:c.user,displayName:t,photoURL:h}),await Pn.google.firebase.database.userChats.addUserChatsForUser({uid:c.user.uid});const v=Pn.google.firebase.auth.getCurrentAuthUser();return{uid:((o=v.user.uid)==null?void 0:o.toString())||"",displayName:((a=v.user.displayName)==null?void 0:a.toString())||"",photoURL:((l=v.user.photoURL)==null?void 0:l.toString())||"",email:((u=v.user.email)==null?void 0:u.toString())||""}}catch(c){return i.rejectWithValue(pe(c))}}),Hc=bf("user/signIn",async({email:t,password:e},n)=>{try{const r=await Pn.google.firebase.auth.signIn({email:t,password:e});return{uid:r.user.uid||"",displayName:r.user.displayName||"",photoURL:r.user.photoURL||"",email:r.user.email||""}}catch(r){return n.rejectWithValue(pe(r))}}),gl=bf("user/signInWithGoogle",async(t,e)=>{try{await Pn.google.firebase.auth.signInWithGoogle();const n=Pn.google.firebase.auth.getCurrentAuthUser();return{displayName:n.user.displayName||"",email:n.user.email||"",photoURL:n.user.photoURL||"",uid:n.user.uid||""}}catch(n){return e.rejectWithValue(pe(n))}}),jF={isLoading:!1,error:"",uid:"",displayName:"",photoURL:"",email:"",status:"user",sex:"unknown",role:"",lastActiveChatId:"",lastVisitDate:"",isOnline:!1},Du=xf({name:"user",initialState:jF,reducers:{setUser(t,e){t.uid=e.payload.uid,t.displayName=e.payload.displayName,t.photoURL=e.payload.photoURL,t.email=e.payload.email},removeUser(t){t.uid="",t.displayName="",t.photoURL="",t.email="",t.status="user",t.sex="unknown",t.role="",t.lastActiveChatId="",t.lastVisitDate="",t.isOnline=!1},resetError(t){t.error=""}},extraReducers:t=>{t.addCase(Bc.pending,e=>{e.isLoading=!0,e.error="",e.uid="",e.displayName="",e.photoURL="",e.email="",e.status="user",e.sex="unknown",e.role="",e.lastActiveChatId="",e.lastVisitDate="",e.isOnline=!1}).addCase(Bc.fulfilled,(e,n)=>{e.uid=n.payload.uid,e.displayName=n.payload.displayName,e.photoURL=n.payload.photoURL,e.email=n.payload.email,e.error="",e.isLoading=!1}).addCase(Bc.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(Hc.pending,e=>{e.isLoading=!0,e.error="",e.uid="",e.displayName="",e.photoURL="",e.email="",e.status="user",e.sex="unknown",e.role="",e.lastActiveChatId="",e.lastVisitDate="",e.isOnline=!1}).addCase(Hc.fulfilled,(e,n)=>{e.email=n.payload.email,e.displayName=n.payload.displayName,e.photoURL=n.payload.photoURL,e.uid=n.payload.uid,e.error="",e.isLoading=!1}).addCase(Hc.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(gl.pending,e=>{e.isLoading=!0,e.error="",e.uid="",e.displayName="",e.photoURL="",e.email="",e.status="user",e.sex="unknown",e.role="",e.lastActiveChatId="",e.lastVisitDate="",e.isOnline=!1}).addCase(gl.fulfilled,(e,n)=>{e.email=n.payload.email,e.displayName=n.payload.displayName,e.photoURL=n.payload.photoURL,e.uid=n.payload.uid,e.error="",e.isLoading=!1}).addCase(gl.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1})}}),MF="_img_q4y9a_1",$F="_small_q4y9a_7",UF="_charContainer_q4y9a_12",FF="_char_q4y9a_12",Zs={img:MF,small:$F,charContainer:UF,char:FF},Qd=T.forwardRef(({src:t,alt:e,char:n,color:r,size:i="default",onClick:s,children:o,className:a,...l},u)=>{const c=[s&&"clickable"],d=i&&Zs[i];return f.jsxs("div",{onClick:s,className:W.join(Zs.Avatar,a,c),ref:u,...l,children:[!t&&o&&f.jsx("div",{className:W.join(Zs.charContainer,d),style:{backgroundColor:r},children:o}),t&&f.jsx("img",{className:W.join(Zs.img,d),src:t,alt:e}),!t&&!o&&f.jsx("div",{className:W.join(Zs.charContainer,d),style:{backgroundColor:r},children:f.jsx("h5",{className:W.join(Zs.char,"h5"),children:n})})]})});Qd.displayName="Avatar";const VF="_Button_n3hsj_106",zF="_tiny_n3hsj_121",BF="_small_n3hsj_124",HF="_medium_n3hsj_130",qF="_large_n3hsj_133",WF="_extra_n3hsj_136",KF="_disabled_n3hsj_145",GF="_label_n3hsj_160",QF="_icon_n3hsj_187",YF="_secondary_n3hsj_211",XF="_text_n3hsj_228",mr={Button:VF,tiny:zF,small:BF,default:"_default_n3hsj_127",medium:HF,large:qF,extra:WF,disabled:KF,label:GF,icon:QF,secondary:YF,text:XF},qe=T.forwardRef(({size:t="default",type:e="primary",submit:n,children:r,className:i,...s},o)=>{const a=Array.isArray(r)?r==null?void 0:r.some(c=>typeof c=="string"):typeof r=="string",l=t&&mr[t],u=[e&&mr[e],!a&&mr.icon];return f.jsx("button",{type:n?"submit":"button",className:W.join(mr.Button,i,l,u),ref:o,...s,children:f.jsx("span",{className:W.join(mr.label,sn.button,l),children:r})})});qe.displayName="Button";const R1=T.forwardRef(({size:t="default",width:e,height:n,type:r="primary",blank:i,customStyle:s,children:o,className:a,style:l,...u},c)=>{const d=Array.isArray(o)?o==null?void 0:o.some(m=>typeof m=="string"):typeof o=="string",h=[t&&mr[t],r&&mr[r],!d&&mr.icon,mr.Button],p=i&&{target:"_blank",rel:"noreferrer noopener"},v=t==="custom"?{width:e,height:n}:{};return f.jsx("a",{className:W.join(a,!s&&h),ref:c,style:{...l,...v},...p,...u,children:f.jsx("span",{className:W.join(mr.label,sn.button),children:o})})});R1.displayName="ButtonLink";var Dr={},JF={get exports(){return Dr},set exports(t){Dr=t}};(function(t,e){(function(r,i){t.exports=i(T)})(L2,n=>(()=>{var r={"./node_modules/css-mediaquery/index.js":(a,l)=>{l.match=v,l.parse=m;var u=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,c=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,d=/^(?:(min|max)-)?(.+)/,h=/(em|rem|px|cm|mm|in|pt|pc)?$/,p=/(dpi|dpcm|dppx)?$/;function v(w,_){return m(w).some(function(E){var k=E.inverse,I=E.type==="all"||_.type===E.type;if(I&&k||!(I||k))return!1;var N=E.expressions.every(function(R){var D=R.feature,K=R.modifier,$=R.value,U=_[D];if(!U)return!1;switch(D){case"orientation":case"scan":return U.toLowerCase()===$.toLowerCase();case"width":case"height":case"device-width":case"device-height":$=g($),U=g(U);break;case"resolution":$=y($),U=y(U);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":$=S($),U=S(U);break;case"grid":case"color":case"color-index":case"monochrome":$=parseInt($,10)||1,U=parseInt(U,10)||0;break}switch(K){case"min":return U>=$;case"max":return U<=$;default:return U===$}});return N&&!k||!N&&k})}function m(w){return w.split(",").map(function(_){_=_.trim();var E=_.match(u),k=E[1],I=E[2],N=E[3]||"",R={};return R.inverse=!!k&&k.toLowerCase()==="not",R.type=I?I.toLowerCase():"all",N=N.match(/\([^\)]+\)/g)||[],R.expressions=N.map(function(D){var K=D.match(c),$=K[1].toLowerCase().match(d);return{modifier:$[1],feature:$[2],value:K[2]}}),R})}function S(w){var _=Number(w),E;return _||(E=w.match(/^(\d+)\s*\/\s*(\d+)$/),_=E[1]/E[2]),_}function y(w){var _=parseFloat(w),E=String(w).match(p)[1];switch(E){case"dpcm":return _/2.54;case"dppx":return _*96;default:return _}}function g(w){var _=parseFloat(w),E=String(w).match(h)[1];switch(E){case"em":return _*16;case"rem":return _*16;case"cm":return _*96/2.54;case"mm":return _*96/2.54/10;case"in":return _*96;case"pt":return _*72;case"pc":return _*72/12;default:return _}}},"./node_modules/hyphenate-style-name/index.js":(a,l,u)=>{u.r(l),u.d(l,{default:()=>m});var c=/[A-Z]/g,d=/^ms-/,h={};function p(S){return"-"+S.toLowerCase()}function v(S){if(h.hasOwnProperty(S))return h[S];var y=S.replace(c,p);return h[S]=d.test(y)?"-"+y:y}const m=v},"./node_modules/matchmediaquery/index.js":(a,l,u)=>{var c=u("./node_modules/css-mediaquery/index.js").match,d=typeof window<"u"?window.matchMedia:null;function h(v,m,S){var y=this;if(d&&!S){var g=d.call(window,v);this.matches=g.matches,this.media=g.media,g.addListener(E)}else this.matches=c(v,m),this.media=v;this.addListener=w,this.removeListener=_,this.dispose=k;function w(I){g&&g.addListener(I)}function _(I){g&&g.removeListener(I)}function E(I){y.matches=I.matches,y.media=I.media}function k(){g&&g.removeListener(E)}}function p(v,m,S){return new h(v,m,S)}a.exports=p},"./node_modules/object-assign/index.js":a=>{/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function d(p){if(p==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(p)}function h(){try{if(!Object.assign)return!1;var p=new String("abc");if(p[5]="de",Object.getOwnPropertyNames(p)[0]==="5")return!1;for(var v={},m=0;m<10;m++)v["_"+String.fromCharCode(m)]=m;var S=Object.getOwnPropertyNames(v).map(function(g){return v[g]});if(S.join("")!=="0123456789")return!1;var y={};return"abcdefghijklmnopqrst".split("").forEach(function(g){y[g]=g}),Object.keys(Object.assign({},y)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}a.exports=h()?Object.assign:function(p,v){for(var m,S=d(p),y,g=1;g<arguments.length;g++){m=Object(arguments[g]);for(var w in m)u.call(m,w)&&(S[w]=m[w]);if(l){y=l(m);for(var _=0;_<y.length;_++)c.call(m,y[_])&&(S[y[_]]=m[y[_]])}}return S}},"./node_modules/prop-types/checkPropTypes.js":(a,l,u)=>{var c=function(){};{var d=u("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),h={},p=u("./node_modules/prop-types/lib/has.js");c=function(m){var S="Warning: "+m;typeof console<"u"&&console.error(S);try{throw new Error(S)}catch{}}}function v(m,S,y,g,w){for(var _ in m)if(p(m,_)){var E;try{if(typeof m[_]!="function"){var k=Error((g||"React class")+": "+y+" type `"+_+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof m[_]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw k.name="Invariant Violation",k}E=m[_](S,_,g,y,null,d)}catch(N){E=N}if(E&&!(E instanceof Error)&&c((g||"React class")+": type specification of "+y+" `"+_+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof E+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),E instanceof Error&&!(E.message in h)){h[E.message]=!0;var I=w?w():"";c("Failed "+y+" type: "+E.message+(I??""))}}}v.resetWarningCache=function(){h={}},a.exports=v},"./node_modules/prop-types/factoryWithTypeCheckers.js":(a,l,u)=>{var c=u("./node_modules/react-is/index.js"),d=u("./node_modules/object-assign/index.js"),h=u("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),p=u("./node_modules/prop-types/lib/has.js"),v=u("./node_modules/prop-types/checkPropTypes.js"),m=function(){};m=function(y){var g="Warning: "+y;typeof console<"u"&&console.error(g);try{throw new Error(g)}catch{}};function S(){return null}a.exports=function(y,g){var w=typeof Symbol=="function"&&Symbol.iterator,_="@@iterator";function E(V){var Q=V&&(w&&V[w]||V[_]);if(typeof Q=="function")return Q}var k="<<anonymous>>",I={array:K("array"),bigint:K("bigint"),bool:K("boolean"),func:K("function"),number:K("number"),object:K("object"),string:K("string"),symbol:K("symbol"),any:$(),arrayOf:U,element:le(),elementType:Ie(),instanceOf:$e,node:re(),objectOf:q,oneOf:lt,oneOfType:G,shape:Ue,exact:pt};function N(V,Q){return V===Q?V!==0||1/V===1/Q:V!==V&&Q!==Q}function R(V,Q){this.message=V,this.data=Q&&typeof Q=="object"?Q:{},this.stack=""}R.prototype=Error.prototype;function D(V){var Q={},ge=0;function ye(C,x,b,j,H,P,L){if(j=j||k,P=P||b,L!==h){if(g){var ve=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw ve.name="Invariant Violation",ve}else if(typeof console<"u"){var Ee=j+":"+b;!Q[Ee]&&ge<3&&(m("You are manually calling a React.PropTypes validation function for the `"+P+"` prop on `"+j+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),Q[Ee]=!0,ge++)}}return x[b]==null?C?x[b]===null?new R("The "+H+" `"+P+"` is marked as required "+("in `"+j+"`, but its value is `null`.")):new R("The "+H+" `"+P+"` is marked as required in "+("`"+j+"`, but its value is `undefined`.")):null:V(x,b,j,H,P)}var de=ye.bind(null,!1);return de.isRequired=ye.bind(null,!0),de}function K(V){function Q(ge,ye,de,C,x,b){var j=ge[ye],H=Be(j);if(H!==V){var P=mt(j);return new R("Invalid "+C+" `"+x+"` of type "+("`"+P+"` supplied to `"+de+"`, expected ")+("`"+V+"`."),{expectedType:V})}return null}return D(Q)}function $(){return D(S)}function U(V){function Q(ge,ye,de,C,x){if(typeof V!="function")return new R("Property `"+x+"` of component `"+de+"` has invalid PropType notation inside arrayOf.");var b=ge[ye];if(!Array.isArray(b)){var j=Be(b);return new R("Invalid "+C+" `"+x+"` of type "+("`"+j+"` supplied to `"+de+"`, expected an array."))}for(var H=0;H<b.length;H++){var P=V(b,H,de,C,x+"["+H+"]",h);if(P instanceof Error)return P}return null}return D(Q)}function le(){function V(Q,ge,ye,de,C){var x=Q[ge];if(!y(x)){var b=Be(x);return new R("Invalid "+de+" `"+C+"` of type "+("`"+b+"` supplied to `"+ye+"`, expected a single ReactElement."))}return null}return D(V)}function Ie(){function V(Q,ge,ye,de,C){var x=Q[ge];if(!c.isValidElementType(x)){var b=Be(x);return new R("Invalid "+de+" `"+C+"` of type "+("`"+b+"` supplied to `"+ye+"`, expected a single ReactElement type."))}return null}return D(V)}function $e(V){function Q(ge,ye,de,C,x){if(!(ge[ye]instanceof V)){var b=V.name||k,j=li(ge[ye]);return new R("Invalid "+C+" `"+x+"` of type "+("`"+j+"` supplied to `"+de+"`, expected ")+("instance of `"+b+"`."))}return null}return D(Q)}function lt(V){if(!Array.isArray(V))return arguments.length>1?m("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):m("Invalid argument supplied to oneOf, expected an array."),S;function Q(ge,ye,de,C,x){for(var b=ge[ye],j=0;j<V.length;j++)if(N(b,V[j]))return null;var H=JSON.stringify(V,function(L,ve){var Ee=mt(ve);return Ee==="symbol"?String(ve):ve});return new R("Invalid "+C+" `"+x+"` of value `"+String(b)+"` "+("supplied to `"+de+"`, expected one of "+H+"."))}return D(Q)}function q(V){function Q(ge,ye,de,C,x){if(typeof V!="function")return new R("Property `"+x+"` of component `"+de+"` has invalid PropType notation inside objectOf.");var b=ge[ye],j=Be(b);if(j!=="object")return new R("Invalid "+C+" `"+x+"` of type "+("`"+j+"` supplied to `"+de+"`, expected an object."));for(var H in b)if(p(b,H)){var P=V(b,H,de,C,x+"."+H,h);if(P instanceof Error)return P}return null}return D(Q)}function G(V){if(!Array.isArray(V))return m("Invalid argument supplied to oneOfType, expected an instance of array."),S;for(var Q=0;Q<V.length;Q++){var ge=V[Q];if(typeof ge!="function")return m("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+ai(ge)+" at index "+Q+"."),S}function ye(de,C,x,b,j){for(var H=[],P=0;P<V.length;P++){var L=V[P],ve=L(de,C,x,b,j,h);if(ve==null)return null;ve.data&&p(ve.data,"expectedType")&&H.push(ve.data.expectedType)}var Ee=H.length>0?", expected one of type ["+H.join(", ")+"]":"";return new R("Invalid "+b+" `"+j+"` supplied to "+("`"+x+"`"+Ee+"."))}return D(ye)}function re(){function V(Q,ge,ye,de,C){return Ct(Q[ge])?null:new R("Invalid "+de+" `"+C+"` supplied to "+("`"+ye+"`, expected a ReactNode."))}return D(V)}function Re(V,Q,ge,ye,de){return new R((V||"React class")+": "+Q+" type `"+ge+"."+ye+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+de+"`.")}function Ue(V){function Q(ge,ye,de,C,x){var b=ge[ye],j=Be(b);if(j!=="object")return new R("Invalid "+C+" `"+x+"` of type `"+j+"` "+("supplied to `"+de+"`, expected `object`."));for(var H in V){var P=V[H];if(typeof P!="function")return Re(de,C,x,H,mt(P));var L=P(b,H,de,C,x+"."+H,h);if(L)return L}return null}return D(Q)}function pt(V){function Q(ge,ye,de,C,x){var b=ge[ye],j=Be(b);if(j!=="object")return new R("Invalid "+C+" `"+x+"` of type `"+j+"` "+("supplied to `"+de+"`, expected `object`."));var H=d({},ge[ye],V);for(var P in H){var L=V[P];if(p(V,P)&&typeof L!="function")return Re(de,C,x,P,mt(L));if(!L)return new R("Invalid "+C+" `"+x+"` key `"+P+"` supplied to `"+de+"`.\nBad object: "+JSON.stringify(ge[ye],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(V),null,"  "));var ve=L(b,P,de,C,x+"."+P,h);if(ve)return ve}return null}return D(Q)}function Ct(V){switch(typeof V){case"number":case"string":case"undefined":return!0;case"boolean":return!V;case"object":if(Array.isArray(V))return V.every(Ct);if(V===null||y(V))return!0;var Q=E(V);if(Q){var ge=Q.call(V),ye;if(Q!==V.entries){for(;!(ye=ge.next()).done;)if(!Ct(ye.value))return!1}else for(;!(ye=ge.next()).done;){var de=ye.value;if(de&&!Ct(de[1]))return!1}}else return!1;return!0;default:return!1}}function qn(V,Q){return V==="symbol"?!0:Q?Q["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&Q instanceof Symbol:!1}function Be(V){var Q=typeof V;return Array.isArray(V)?"array":V instanceof RegExp?"object":qn(Q,V)?"symbol":Q}function mt(V){if(typeof V>"u"||V===null)return""+V;var Q=Be(V);if(Q==="object"){if(V instanceof Date)return"date";if(V instanceof RegExp)return"regexp"}return Q}function ai(V){var Q=mt(V);switch(Q){case"array":case"object":return"an "+Q;case"boolean":case"date":case"regexp":return"a "+Q;default:return Q}}function li(V){return!V.constructor||!V.constructor.name?k:V.constructor.name}return I.checkPropTypes=v,I.resetWarningCache=v.resetWarningCache,I.PropTypes=I,I}},"./node_modules/prop-types/index.js":(a,l,u)=>{{var c=u("./node_modules/react-is/index.js"),d=!0;a.exports=u("./node_modules/prop-types/factoryWithTypeCheckers.js")(c.isElement,d)}},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":a=>{var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";a.exports=l},"./node_modules/prop-types/lib/has.js":a=>{a.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(a,l)=>{/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var u=typeof Symbol=="function"&&Symbol.for,c=u?Symbol.for("react.element"):60103,d=u?Symbol.for("react.portal"):60106,h=u?Symbol.for("react.fragment"):60107,p=u?Symbol.for("react.strict_mode"):60108,v=u?Symbol.for("react.profiler"):60114,m=u?Symbol.for("react.provider"):60109,S=u?Symbol.for("react.context"):60110,y=u?Symbol.for("react.async_mode"):60111,g=u?Symbol.for("react.concurrent_mode"):60111,w=u?Symbol.for("react.forward_ref"):60112,_=u?Symbol.for("react.suspense"):60113,E=u?Symbol.for("react.suspense_list"):60120,k=u?Symbol.for("react.memo"):60115,I=u?Symbol.for("react.lazy"):60116,N=u?Symbol.for("react.block"):60121,R=u?Symbol.for("react.fundamental"):60117,D=u?Symbol.for("react.responder"):60118,K=u?Symbol.for("react.scope"):60119;function $(L){return typeof L=="string"||typeof L=="function"||L===h||L===g||L===v||L===p||L===_||L===E||typeof L=="object"&&L!==null&&(L.$$typeof===I||L.$$typeof===k||L.$$typeof===m||L.$$typeof===S||L.$$typeof===w||L.$$typeof===R||L.$$typeof===D||L.$$typeof===K||L.$$typeof===N)}function U(L){if(typeof L=="object"&&L!==null){var ve=L.$$typeof;switch(ve){case c:var Ee=L.type;switch(Ee){case y:case g:case h:case v:case p:case _:return Ee;default:var Gs=Ee&&Ee.$$typeof;switch(Gs){case S:case w:case I:case k:case m:return Gs;default:return ve}}case d:return ve}}}var le=y,Ie=g,$e=S,lt=m,q=c,G=w,re=h,Re=I,Ue=k,pt=d,Ct=v,qn=p,Be=_,mt=!1;function ai(L){return mt||(mt=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),li(L)||U(L)===y}function li(L){return U(L)===g}function V(L){return U(L)===S}function Q(L){return U(L)===m}function ge(L){return typeof L=="object"&&L!==null&&L.$$typeof===c}function ye(L){return U(L)===w}function de(L){return U(L)===h}function C(L){return U(L)===I}function x(L){return U(L)===k}function b(L){return U(L)===d}function j(L){return U(L)===v}function H(L){return U(L)===p}function P(L){return U(L)===_}l.AsyncMode=le,l.ConcurrentMode=Ie,l.ContextConsumer=$e,l.ContextProvider=lt,l.Element=q,l.ForwardRef=G,l.Fragment=re,l.Lazy=Re,l.Memo=Ue,l.Portal=pt,l.Profiler=Ct,l.StrictMode=qn,l.Suspense=Be,l.isAsyncMode=ai,l.isConcurrentMode=li,l.isContextConsumer=V,l.isContextProvider=Q,l.isElement=ge,l.isForwardRef=ye,l.isFragment=de,l.isLazy=C,l.isMemo=x,l.isPortal=b,l.isProfiler=j,l.isStrictMode=H,l.isSuspense=P,l.isValidElementType=$,l.typeOf=U})()},"./node_modules/react-is/index.js":(a,l,u)=>{a.exports=u("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(a,l,u)=>{u.r(l),u.d(l,{shallowEqualArrays:()=>d,shallowEqualObjects:()=>c});function c(h,p){if(h===p)return!0;if(!h||!p)return!1;var v=Object.keys(h),m=Object.keys(p),S=v.length;if(m.length!==S)return!1;for(var y=0;y<S;y++){var g=v[y];if(h[g]!==p[g]||!Object.prototype.hasOwnProperty.call(p,g))return!1}return!0}function d(h,p){if(h===p)return!0;if(!h||!p)return!1;var v=h.length;if(p.length!==v)return!1;for(var m=0;m<v;m++)if(h[m]!==p[m])return!1;return!0}},"./src/Component.ts":function(a,l,u){var c=this&&this.__rest||function(v,m){var S={};for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&m.indexOf(y)<0&&(S[y]=v[y]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,y=Object.getOwnPropertySymbols(v);g<y.length;g++)m.indexOf(y[g])<0&&Object.prototype.propertyIsEnumerable.call(v,y[g])&&(S[y[g]]=v[y[g]]);return S},d=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(l,"__esModule",{value:!0});var h=d(u("./src/useMediaQuery.ts")),p=function(v){var m=v.children,S=v.device,y=v.onChange,g=c(v,["children","device","onChange"]),w=(0,h.default)(g,S,y);return typeof m=="function"?m(w):w?m:null};l.default=p},"./src/Context.ts":(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0});var c=u("react"),d=(0,c.createContext)(void 0);l.default=d},"./src/index.ts":function(a,l,u){var c=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(l,"__esModule",{value:!0}),l.Context=l.toQuery=l.useMediaQuery=l.default=void 0;var d=c(u("./src/useMediaQuery.ts"));l.useMediaQuery=d.default;var h=c(u("./src/Component.ts"));l.default=h.default;var p=c(u("./src/toQuery.ts"));l.toQuery=p.default;var v=c(u("./src/Context.ts"));l.Context=v.default},"./src/mediaQuery.ts":function(a,l,u){var c=this&&this.__assign||function(){return c=Object.assign||function(_){for(var E,k=1,I=arguments.length;k<I;k++){E=arguments[k];for(var N in E)Object.prototype.hasOwnProperty.call(E,N)&&(_[N]=E[N])}return _},c.apply(this,arguments)},d=this&&this.__rest||function(_,E){var k={};for(var I in _)Object.prototype.hasOwnProperty.call(_,I)&&E.indexOf(I)<0&&(k[I]=_[I]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var N=0,I=Object.getOwnPropertySymbols(_);N<I.length;N++)E.indexOf(I[N])<0&&Object.prototype.propertyIsEnumerable.call(_,I[N])&&(k[I[N]]=_[I[N]]);return k},h=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(l,"__esModule",{value:!0});var p=h(u("./node_modules/prop-types/index.js")),v=p.default.oneOfType([p.default.string,p.default.number]),m={all:p.default.bool,grid:p.default.bool,aural:p.default.bool,braille:p.default.bool,handheld:p.default.bool,print:p.default.bool,projection:p.default.bool,screen:p.default.bool,tty:p.default.bool,tv:p.default.bool,embossed:p.default.bool},S={orientation:p.default.oneOf(["portrait","landscape"]),scan:p.default.oneOf(["progressive","interlace"]),aspectRatio:p.default.string,deviceAspectRatio:p.default.string,height:v,deviceHeight:v,width:v,deviceWidth:v,color:p.default.bool,colorIndex:p.default.bool,monochrome:p.default.bool,resolution:v,type:Object.keys(m)};S.type;var y=d(S,["type"]),g=c({minAspectRatio:p.default.string,maxAspectRatio:p.default.string,minDeviceAspectRatio:p.default.string,maxDeviceAspectRatio:p.default.string,minHeight:v,maxHeight:v,minDeviceHeight:v,maxDeviceHeight:v,minWidth:v,maxWidth:v,minDeviceWidth:v,maxDeviceWidth:v,minColor:p.default.number,maxColor:p.default.number,minColorIndex:p.default.number,maxColorIndex:p.default.number,minMonochrome:p.default.number,maxMonochrome:p.default.number,minResolution:v,maxResolution:v},y),w=c(c({},m),g);l.default={all:w,types:m,matchers:S,features:g}},"./src/toQuery.ts":function(a,l,u){var c=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(l,"__esModule",{value:!0});var d=c(u("./node_modules/hyphenate-style-name/index.js")),h=c(u("./src/mediaQuery.ts")),p=function(y){return"not ".concat(y)},v=function(y,g){var w=(0,d.default)(y);return typeof g=="number"&&(g="".concat(g,"px")),g===!0?w:g===!1?p(w):"(".concat(w,": ").concat(g,")")},m=function(y){return y.join(" and ")},S=function(y){var g=[];return Object.keys(h.default.all).forEach(function(w){var _=y[w];_!=null&&g.push(v(w,_))}),m(g)};l.default=S},"./src/useMediaQuery.ts":function(a,l,u){var c=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(l,"__esModule",{value:!0});var d=u("react"),h=c(u("./node_modules/matchmediaquery/index.js")),p=c(u("./node_modules/hyphenate-style-name/index.js")),v=u("./node_modules/shallow-equal/dist/index.esm.js"),m=c(u("./src/toQuery.ts")),S=c(u("./src/Context.ts")),y=function(R){return R.query||(0,m.default)(R)},g=function(R){if(R){var D=Object.keys(R);return D.reduce(function(K,$){return K[(0,p.default)($)]=R[$],K},{})}},w=function(){var R=(0,d.useRef)(!1);return(0,d.useEffect)(function(){R.current=!0},[]),R.current},_=function(R){var D=(0,d.useContext)(S.default),K=function(){return g(R)||g(D)},$=(0,d.useState)(K),U=$[0],le=$[1];return(0,d.useEffect)(function(){var Ie=K();(0,v.shallowEqualObjects)(U,Ie)||le(Ie)},[R,D]),U},E=function(R){var D=function(){return y(R)},K=(0,d.useState)(D),$=K[0],U=K[1];return(0,d.useEffect)(function(){var le=D();$!==le&&U(le)},[R]),$},k=function(R,D){var K=function(){return(0,h.default)(R,D||{},!!D)},$=(0,d.useState)(K),U=$[0],le=$[1],Ie=w();return(0,d.useEffect)(function(){if(Ie){var $e=K();return le($e),function(){$e&&$e.dispose()}}},[R,D]),U},I=function(R){var D=(0,d.useState)(R.matches),K=D[0],$=D[1];return(0,d.useEffect)(function(){var U=function(le){$(le.matches)};return R.addListener(U),$(R.matches),function(){R.removeListener(U)}},[R]),K},N=function(R,D,K){var $=_(D),U=E(R);if(!U)throw new Error("Invalid or missing MediaQuery!");var le=k(U,$),Ie=I(le),$e=w();return(0,d.useEffect)(function(){$e&&K&&K(Ie)},[Ie]),(0,d.useEffect)(function(){return function(){le&&le.dispose()}},[]),Ie};l.default=N},react:a=>{a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var u=i[a]={exports:{}};return r[a].call(u.exports,u,u.exports,s),u.exports}s.d=(a,l)=>{for(var u in l)s.o(l,u)&&!s.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o=s("./src/index.ts");return o})())})(JF);const Ji={xx:1/0,xl:1179,lg:1023,md:767,sm:539,xs:479,ss:359};function ZF(){return{isScreenXX:Dr.useMediaQuery({query:`(max-width: ${Ji.xx}px)`}),isScreenXL:Dr.useMediaQuery({query:`(max-width: ${Ji.xl}px)`}),isScreenLG:Dr.useMediaQuery({query:`(max-width: ${Ji.lg}px)`}),isScreenMD:Dr.useMediaQuery({query:`(max-width: ${Ji.md}px)`}),isScreenSM:Dr.useMediaQuery({query:`(max-width: ${Ji.sm}px)`}),isScreenXS:Dr.useMediaQuery({query:`(max-width: ${Ji.xs}px)`}),isScreenSS:Dr.useMediaQuery({query:`(max-width: ${Ji.ss}px)`})}}const A1=T.forwardRef(({gridContainer:t,grid:e,children:n,className:r,...i},s)=>{const o=e&&Zy(e);return f.jsx("nav",{className:W.join(r,t&&"row",o),ref:s,...i,children:n})});A1.displayName="Nav";const Fb=T.forwardRef(({display:t,underline:e,children:n,blank:r,className:i,...s},o)=>{const a=[t?sn[t]:sn.link,e===!1&&wd.noUnderline],l=r&&{target:"_blank",rel:"noreferrer noopener"};return f.jsx("a",{className:W.join(wd.Link,i,a),ref:o,...l,...s,children:n})});Fb.displayName="Link";const e7="_NavigationDesktop_10tfr_1",t7="_active_10tfr_7",n7="_link_10tfr_7",Da={NavigationDesktop:e7,active:t7,link:n7};function r7(){const t=({isActive:e})=>e?Da.active:"";return f.jsxs(A1,{className:Da.NavigationDesktop,children:[f.jsx(vs,{className:t,end:!0,to:vt.home,children:f.jsx(_r,{className:Da.link,underline:!1,children:"Головна"})}),f.jsx(vs,{className:t,to:vt.songslist,children:f.jsx(_r,{className:Da.link,underline:!1,children:"Список пісень"})}),f.jsx(vs,{className:t,end:!0,to:ev.chat,children:f.jsx(_r,{className:Da.link,underline:!1,children:"Чат"})})]})}function i7(t){return f.jsxs(Oe,{fill:"none",...t,children:[f.jsx("path",{d:"M3.55844 12.8077H21.5584",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M3.55844 6.80774H21.5584",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M3.55844 18.8077H21.5584",strokeLinecap:"round",strokeLinejoin:"round"})]})}function s7(){const t=T.useCallback(()=>{const n=window.innerWidth-document.body.offsetWidth;document.body.style.overflow="hidden",document.body.style.width="100%",document.body.style.paddingRight=`${n}px`},[]),e=T.useCallback(()=>{document.body.style.overflow="",document.body.style.width="auto",document.body.style.paddingRight="0px"},[]);return{lockScroll:t,unlockScroll:e}}function ju(t){return f.jsxs(Oe,{fill:"none",...t,children:[f.jsx("path",{d:"M18 6L6 18",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M6 6L18 18",strokeLinecap:"round",strokeLinejoin:"round"})]})}const o7="_Menu_b65v5_18",a7="_backdrop_b65v5_50",l7="_show_b65v5_80",u7="_close_b65v5_86",c7="_menuItems_b65v5_93",ja={Menu:o7,backdrop:a7,"hide-menu":"_hide-menu_b65v5_1",show:l7,"show-menu":"_show-menu_b65v5_1",close:u7,menuItems:c7},P1=T.forwardRef(({children:t,isOpen:e,scrollLock:n,onClick:r,closeButton:i,preventItemClickClose:s,menuOrigin:o,anchorOrigin:a,...l},u)=>{const c=T.useRef(null),[d,h]=T.useState(!0),[p,v]=T.useState({}),{lockScroll:m,unlockScroll:S}=s7();if(T.useEffect(()=>(e&&n&&m(),S),[e]),T.useEffect(()=>{h(!0)},[e]),T.useEffect(()=>{var $,U;const _=(U=($=c.current)==null?void 0:$.parentElement)==null?void 0:U.getBoundingClientRect(),E={width:(_==null?void 0:_.width)||0,height:(_==null?void 0:_.height)||0,horizontalHalf:((_==null?void 0:_.width)||0)/2,verticalHalf:((_==null?void 0:_.height)||0)/2},k={},I=a==null?void 0:a.horizontal,N=a==null?void 0:a.vertical,R=o==null?void 0:o.horizontal,D=o==null?void 0:o.vertical;R==="left"&&(I==="left"&&(k.left=0),I==="center"&&(k.left=E.horizontalHalf),I==="right"&&(k.left=E.width)),R==="right"&&(I==="left"&&(k.right=E.width),I==="center"&&(k.right=E.horizontalHalf),I==="right"&&(k.right=0)),D==="top"&&(N==="top"&&(k.top=0),N==="center"&&(k.top=E.verticalHalf),N==="bottom"&&(k.top=E.height)),D==="bottom"&&(N==="top"&&(k.bottom=E.height),N==="center"&&(k.bottom=E.verticalHalf),N==="bottom"&&(k.bottom=0));const K=o?`${o==null?void 0:o.horizontal} ${o==null?void 0:o.vertical}`:"left top";v({...k,transformOrigin:K})},[e]),!e)return null;const y=()=>{h(!1)},g=()=>{d||(r(),S())},w=_=>{s&&_.stopPropagation()};return f.jsxs(f.Fragment,{children:[f.jsx("div",{role:"navigation",className:ja.backdrop,onClick:y,ref:u,...l}),f.jsxs("nav",{onAnimationEnd:g,ref:c,className:W.join(ja.Menu,d&&ja.show),style:p,children:[f.jsx("ul",{className:ja.menuItems,onClick:w,children:t}),i&&f.jsx(qe,{className:ja.close,onClick:y,type:"secondary",size:"small",children:f.jsx(ju,{size:"small"})})]})]})});P1.displayName="Menu";const d7="_MenuContainer_xz9l3_1",h7={MenuContainer:d7},L1=T.forwardRef(({children:t,className:e,...n},r)=>f.jsx("div",{className:W.join(h7.MenuContainer,e),ref:r,...n,children:t}));L1.displayName="MenuContainer";const f7="_MenuDivider_3of8s_1",p7={MenuDivider:f7},Wg=T.forwardRef(({className:t,...e},n)=>f.jsx("span",{className:W.join(p7.MenuDivider,t),ref:n,...e}));Wg.displayName="MenuDivider";const m7="_MenuItem_frda9_46",g7="_disabled_frda9_70",SS={MenuItem:m7,disabled:g7},Cs=T.forwardRef(({disabled:t,children:e,className:n,...r},i)=>{const s=[t&&SS.disabled];return f.jsx("li",{className:W.join(SS.MenuItem,n,s),ref:i,...r,children:e})});Cs.displayName="MenuItem";const y7="_NavigationMobile_1g68x_1",v7="_active_1g68x_7",w7="_link_1g68x_7",Ma={NavigationMobile:y7,active:v7,link:w7};function _7(){const[t,e]=T.useState(!1),n=()=>{e(!0)},r=()=>{e(!1)},i=({isActive:s})=>s?Ma.active:"";return f.jsx(A1,{className:Ma.NavigationMobile,children:f.jsxs(L1,{children:[f.jsxs(P1,{isOpen:t,onClick:r,anchorOrigin:{horizontal:"right",vertical:"top"},menuOrigin:{horizontal:"right",vertical:"top"},preventItemClickClose:!0,children:[f.jsx(Cs,{children:f.jsx(vs,{className:i,end:!0,to:vt.home,children:f.jsx(_r,{className:Ma.link,underline:!1,children:"Головна"})})}),f.jsx(Cs,{children:f.jsx(vs,{className:i,to:vt.songslist,children:f.jsx(_r,{className:Ma.link,underline:!1,children:"Список пісень"})})}),f.jsx(Cs,{children:f.jsx(vs,{className:i,end:!0,to:ev.chat,children:f.jsx(_r,{className:Ma.link,underline:!1,children:"Чат"})})})]}),f.jsx(qe,{type:"text",onClick:n,children:f.jsx(i7,{})})]})})}function Vb(){localStorage.clear(),window.location.reload()}const S7={theme:"dark",fullscreen:!0,version:$l.version},zb=xf({name:"app",initialState:S7,reducers:{setTheme(t,e){t.theme=e.payload},toggleTheme(t){t.theme=t.theme==="light"?"dark":"light"},toggleFullscreen(t){t.fullscreen=!t.fullscreen}}});function E7(t,e){return typeof t=="string"?t[0]:W.isObject(t)&&e||Array.isArray(t)&&e&&typeof e=="number"?String(t[e])[0]:""}function C7(t,e){const n=t[0];if(typeof n!="string"&&!W.isObject(n)&&!Array.isArray(n))throw new Error("Invalid value");if((W.isObject(n)||Array.isArray(n))&&!e)throw new Error("No key provided");if(Array.isArray(n)&&typeof e=="string")throw new Error("Key should be array index number");const r=new Map;return t.forEach(i=>{const s=E7(i,e||void 0);r.has(s)?r.set(s,[...r.get(s),i]):r.set(s,[i])}),Array.from(r.entries())}function T7(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!W.isObject(r)&&!Array.isArray(r))throw new Error("Invalid value");if((W.isObject(r)||Array.isArray(r))&&!e)throw new Error("No key provided");if(Array.isArray(r)&&typeof e=="string")throw new Error("Key should be array index number");let i=[];return(typeof r=="string"||typeof r=="number")&&(i=n.filter(s=>String(s).trim()!=="")),W.isObject(r)&&e&&(i=n.filter(s=>String(s[e]).trim()!=="")),Array.isArray(r)&&e&&typeof e=="number"&&(i=n.filter(s=>String(s[e]).trim()!=="")),i}function k7(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!W.isObject(r)&&!Array.isArray(r))throw new Error("Invalid value");if((W.isObject(r)||Array.isArray(r))&&!e)throw new Error("No key provided");if(Array.isArray(r)&&typeof e=="string")throw new Error("Key should be array index number");let i=[];return(typeof r=="string"||typeof r=="string")&&(i=n.sort((s,o)=>{const a=String(s),l=String(o);return a.localeCompare(l)})),W.isObject(r)&&e&&(i=n.sort((s,o)=>{const a=String(s[e]),l=String(o[e]);return a.localeCompare(l.toString())})),Array.isArray(r)&&e&&typeof e=="number"&&(i=n.sort((s,o)=>{const a=String(s[e]),l=String(o[e]);return a.localeCompare(l)})),i}const I7="16wsDcFtQ7J1nYrlSkEB8KgLp_XpyCdwH-SIi0fuqapc";function x7(t){let e;if(t){const n=k7(t,"value"),r=T7(n,"value");e=C7(r,"value")}return e}const yl=bf("songsList/fetchSongsList",async(t,e)=>{try{const n=await Pn.google.appsscript.getAllTitledColumnsDataSingle({spreadsheetId:I7,sheetName:"common"}),r=Object.entries(n.data),i=[];return r.map(o=>{const a=o[0];i.push(a);const l=x7(o[1].values);return[a,l]})}catch(n){return e.rejectWithValue(pe(n))}}),b7="_Icon_1telp_46",R7="_disabled_1telp_53",A7="_clickable_1telp_61",P7="_tiny_1telp_65",L7="_small_1telp_69",N7="_medium_1telp_77",O7="_large_1telp_81",D7="_extra_1telp_85",ES={Icon:b7,disabled:R7,clickable:A7,tiny:P7,small:L7,default:"_default_1telp_73",medium:N7,large:O7,extra:D7},$n=T.forwardRef(({size:t="default",width:e=24,height:n=24,onClick:r,children:i,className:s,style:o,...a},l)=>{const u=[r&&"clickable",t&&ES[t]],c=t==="custom"?{width:e,height:n}:{};return f.jsx("div",{className:W.join(ES.Icon,s,u),onClick:r,ref:l,style:{...o,...c},...a,children:i})});$n.displayName="Icon";function j7(t){return f.jsx(Oe,{fill:"none",...t,children:f.jsx("path",{d:"M21 12.79C20.8427 14.4922 20.2039 16.1144 19.1582 17.4668C18.1126 18.8192 16.7035 19.8458 15.0957 20.4265C13.4879 21.0073 11.748 21.1181 10.0795 20.7461C8.41101 20.3741 6.88299 19.5345 5.67422 18.3258C4.46545 17.117 3.62593 15.589 3.2539 13.9205C2.88187 12.252 2.99271 10.5121 3.57345 8.9043C4.1542 7.29651 5.18082 5.88737 6.53321 4.84175C7.88559 3.79614 9.50779 3.15731 11.21 3C10.2134 4.34827 9.73384 6.00945 9.85852 7.68141C9.98321 9.35338 10.7039 10.9251 11.8894 12.1106C13.0749 13.2961 14.6466 14.0168 16.3186 14.1415C17.9905 14.2662 19.6517 13.7866 21 12.79V12.79Z",strokeLinecap:"round",strokeLinejoin:"round"})})}function M7(t){return f.jsxs(Oe,{fill:"none",...t,children:[f.jsx("circle",{cx:"12",cy:"12",r:"1"}),f.jsx("circle",{cx:"12",cy:"5",r:"1"}),f.jsx("circle",{cx:"12",cy:"19",r:"1"})]})}function $7(t){return f.jsxs(Oe,{fill:"none",...t,children:[f.jsx("polyline",{points:"1 4 1 10 7 10"}),f.jsx("polyline",{points:"23 20 23 14 17 14"}),f.jsx("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})]})}function U7(t){return f.jsxs(Oe,{fill:"none",...t,children:[f.jsx("polyline",{points:"1 4 1 10 7 10"}),f.jsx("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})]})}function F7(t){return f.jsxs(Oe,{fill:"none",...t,children:[f.jsxs("g",{clipPath:"url(#clip0_1475_3120)",children:[f.jsx("path",{d:"M12 17C14.7614 17 17 14.7614 17 12C17 9.23858 14.7614 7 12 7C9.23858 7 7 9.23858 7 12C7 14.7614 9.23858 17 12 17Z",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12 1V3",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12 21V23",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M4.22 4.22L5.64 5.64",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M18.36 18.36L19.78 19.78",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M1 12H3",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M21 12H23",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M4.22 19.78L5.64 18.36",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M18.36 5.64L19.78 4.22",strokeLinecap:"round",strokeLinejoin:"round"})]}),f.jsx("defs",{children:f.jsx("clipPath",{id:"clip0_1475_3120",children:f.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}const V7={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6"},ae=T.forwardRef(({component:t,display:e,children:n,className:r,...i},s)=>{const o=t||"p",a=e?sn[e]:null,l=t?sn[t]:sn.p1,u={className:W.join(r,a||l),ref:s,...i},c=V7[o]||"p";return f.jsx(Jy,{as:c,...u,children:n})});ae.displayName="Typography";function z7(){const e=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";return document.documentElement.setAttribute("data-theme",e),e}function B7(){const[t,e]=T.useState(!1),{theme:n}=Qt(c=>c.appReducer),{actions:r}=zb,i=Rn(),s=()=>{e(!0)},o=()=>{e(!1)},a=()=>{e(!1),Vb()},l=()=>{e(!1),i(yl())},u=()=>{const c=z7();i(r.setTheme(c))};return f.jsxs(L1,{children:[f.jsxs(P1,{isOpen:t,onClick:o,anchorOrigin:{horizontal:"right",vertical:"top"},menuOrigin:{horizontal:"right",vertical:"top"},preventItemClickClose:!0,children:[f.jsxs(Cs,{onClick:a,children:[f.jsx($n,{children:f.jsx(U7,{})}),f.jsx(ae,{component:"p1",children:"Скинути налаштування"})]}),f.jsx(Wg,{}),f.jsxs(Cs,{onClick:l,children:[f.jsx($n,{children:f.jsx($7,{})}),f.jsx(ae,{component:"p1",children:"Оновити список пісень"})]}),f.jsx(Wg,{}),f.jsxs(Cs,{onClick:u,children:[f.jsx($n,{children:n==="dark"?f.jsx(j7,{}):f.jsx(F7,{})}),f.jsxs(ae,{component:"p1",children:["Тема:"," ",n==="dark"?"темна":"світла"]})]})]}),f.jsx(qe,{type:"text",onClick:s,children:f.jsx(M7,{})})]})}const H7="_Header_yqrt5_1",q7="_container_yqrt5_5",W7="_controls_yqrt5_13",zp={Header:H7,container:q7,controls:W7};function K7(){const{isScreenMD:t}=ZF(),e=Rn(),{photoURL:n,displayName:r,email:i}=Qt(v=>v.userReducer),{pathname:s}=Wi(),o=Vs(),{isAuth:a}=tv(),{removeUser:l}=Du.actions,u=()=>{e(l()),Pn.google.firebase.auth.signOut(),o(vt.home)},c=()=>{o(vt.login)},d=Ao(s,"login"),h=Ao(s,"signup"),p=Ao(s,"songslist");return f.jsx(Le,{component:"header",className:zp.Header,children:f.jsxs(br,{container:!0,component:"section",className:zp.container,children:[f.jsx(G5,{}),f.jsxs(Le,{className:zp.controls,children:[!p&&f.jsxs(f.Fragment,{children:[!t&&!(d||h)&&f.jsx(r7,{}),t&&!(d||h)&&f.jsx(_7,{}),a?!(d||h)&&f.jsx(Qd,{src:n,alt:r,char:r[0]||i[0],size:"small",onClick:u}):!(d||h)&&f.jsx(qe,{size:"small",onClick:c,children:"Увійти"})]}),f.jsx(B7,{})]})]})})}function G7(t){t&&document.documentElement.style.setProperty("--vh",`${t}px`)}function Q7(){const t=typeof window<"u";function e(){return t?window.innerHeight:null}const[n,r]=T.useState(e());return T.useEffect(()=>{G7(n)},[n]),T.useEffect(()=>(window.addEventListener("resize",()=>r(e())),()=>window.addEventListener("resize",()=>r(e()))),[t]),T.useEffect(()=>(window.addEventListener("orientationchange",()=>r(e())),()=>window.addEventListener("orientationchange",()=>r(e()))),[t]),{viewportHeight:n}}function Y7(t){const[e,n]=T.useState();return T.useLayoutEffect(()=>{document.body.classList.add("no-transition");const r=t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");n(r),document.documentElement.setAttribute("data-theme",r),setTimeout(()=>document.body.classList.remove("no-transition"),0)},[]),{theme:e}}function X7(){const[t,e]=T.useState(!1);Q7();const{theme:n}=Qt(u=>u.appReducer);Y7(n);const r=Rn(),{actions:i}=Du,s=Vs(),o=Wi(),[a,l]=T.useState("");return T.useLayoutEffect(()=>{document.body.classList.add("scroll")},[]),T.useLayoutEffect(()=>{l(o.pathname)},[o]),T.useEffect(()=>{(async()=>{cM(va,c=>{var d,h,p,v;c&&r(i.setUser({displayName:(d=c.displayName)==null?void 0:d.toString(),email:(h=c.email)==null?void 0:h.toString(),photoURL:(p=c.photoURL)==null?void 0:p.toString(),uid:(v=c.uid)==null?void 0:v.toString()})),t||(a&&s(a),e(!0))})})()},[]),{isInit:t}}function J7(){const{isInit:t}=X7();return t?f.jsxs(f.Fragment,{children:[f.jsx(K7,{}),f.jsx(gN,{}),f.jsx(IO,{})]}):f.jsx(rO,{})}const Mu=T.forwardRef(({children:t,className:e,...n},r)=>f.jsx("main",{className:W.join(e,"main"),ref:r,...n,children:t}));Mu.displayName="Main";function Z7(){return f.jsx(Mu,{children:f.jsx(ae,{component:"h1",children:"About"})})}function eV(){return f.jsx(Mu,{children:f.jsx(ae,{component:"h1",children:"ChordsList"})})}const tV="_container_1l783_1",nV="_title_1l783_9",rV="_title40_1l783_13",iV="_title4_1l783_13",sV="_description_1l783_22",$a={container:tV,title:nV,title40:rV,title4:iV,"char-animation":"_char-animation_1l783_1",description:sV};function oV(){const t=Vs();return f.jsx(Le,{component:"main",children:f.jsxs(br,{container:!0,component:"section",className:$a.container,children:[f.jsx(qe,{size:"small",onClick:()=>t(vt.home),children:"На головну"}),f.jsxs(Le,{className:$a.title,children:[f.jsx(ae,{component:"p1",display:"h1",className:$a.title40,children:"40"}),f.jsx(ae,{component:"p1",display:"h1",className:$a.title4,children:"4"})]}),f.jsx(Le,{className:$a.description,children:f.jsxs(ae,{component:"p2",children:["Вибачте, сторінки не існує",f.jsx("br",{}),"або функціонал ще в процесі розробки",f.jsx("br",{}),"¯\\_(ツ)_/¯"]})})]})})}const aV="_container_6r9gh_1",lV="_buttons_6r9gh_9",uV="_description_6r9gh_16",Bp={container:aV,buttons:lV,description:uV};function cV(){const t=kT(),e=Vs(),n=()=>{Vb()};return wo(t)&&t.status?f.jsx(oV,{}):f.jsx(Le,{component:"main",children:f.jsx(br,{container:!0,component:"section",className:Bp.container,children:f.jsxs(f.Fragment,{children:[f.jsxs(Le,{className:Bp.buttons,children:[f.jsx(qe,{size:"small",onClick:()=>e(vt.home),children:"На головну"}),f.jsx(qe,{type:"secondary",size:"small",onClick:n,children:"Видалити дані та перезавантажити"}),f.jsx(R1,{type:"secondary",size:"small",href:"https://t.me/amelianceskymusic",blank:!0,children:"Написати мені в Телеграм"})]}),f.jsx(ae,{component:"h3",children:"Сорі, виникла помилка =("}),f.jsx(Le,{className:Bp.description,children:f.jsxs(f.Fragment,{children:[f.jsx(ae,{component:"h4",children:wo(t)&&t.status}),f.jsxs(ae,{component:"h5",children:[t instanceof Error&&t.message,wo(t)&&t.statusText,wo(t)&&t.data.message]})]})})]})})})}const dV="_HomePage_1l60f_46",hV="_container_1l60f_46",CS={HomePage:dV,container:hV};function fV(){return f.jsx(Le,{component:"main",className:CS.HomePage,children:f.jsxs(br,{container:!0,component:"section",className:CS.container,children:[f.jsx(ae,{component:"h1",children:"Вітаю на сайті 👋"}),f.jsx(ae,{component:"h6",children:"Сайт знаходиться в розробці"}),f.jsx(ae,{component:"h6",children:"Якщо ви знайшли баг або у вас є якісь пропозиції, побажання, коментарі, пишіть в Телеграм 😊"}),f.jsx(R1,{href:"https://t.me/amelianceskymusic",blank:!0,children:"Написати"})]})})}var $u=t=>t.type==="checkbox",Eo=t=>t instanceof Date,tn=t=>t==null;const Bb=t=>typeof t=="object";var bt=t=>!tn(t)&&!Array.isArray(t)&&Bb(t)&&!Eo(t),pV=t=>bt(t)&&t.target?$u(t.target)?t.target.checked:t.target.value:t,mV=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,gV=(t,e)=>t.has(mV(e)),Uu=t=>Array.isArray(t)?t.filter(Boolean):[],dt=t=>t===void 0,Z=(t,e,n)=>{if(!e||!bt(t))return n;const r=Uu(e.split(/[,[\].]+?/)).reduce((i,s)=>tn(i)?i:i[s],t);return dt(r)||r===t?dt(t[e])?n:t[e]:r};const TS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},er={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ar={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Jn.createContext(null);var yV=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==er.all&&(e._proxyFormState[o]=!r||er.all),n&&(n[o]=!0),t[o]}});return i},An=t=>bt(t)&&!Object.keys(t).length,vV=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return An(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||er.all))},Hp=t=>Array.isArray(t)?t:[t];function wV(t){const e=Jn.useRef(t);e.current=t,Jn.useEffect(()=>{const n=!t.disabled&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var yr=t=>typeof t=="string",_V=(t,e,n,r,i)=>yr(t)?(r&&e.watch.add(t),Z(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Z(n,s))):(r&&(e.watchAll=!0),n),SV=t=>{const e=t.constructor&&t.constructor.prototype;return bt(e)&&e.hasOwnProperty("isPrototypeOf")},N1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function is(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(N1&&(t instanceof Blob||t instanceof FileList))&&(n||bt(t)))if(e=n?[]:{},!Array.isArray(t)&&!SV(t))e=t;else for(const r in t)e[r]=is(t[r]);else return t;return e}var EV=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},O1=t=>/^\w*$/.test(t),Hb=t=>Uu(t.replace(/["|']|\]/g,"").split(/\.|\[/));function Ke(t,e,n){let r=-1;const i=O1(e)?[e]:Hb(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=bt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t}const Kg=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=Z(t,r);if(i){const{_f:s,...o}=i;if(s&&e(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else bt(o)&&Kg(o,e)}}};var kS=t=>({isOnSubmit:!t||t===er.onSubmit,isOnBlur:t===er.onBlur,isOnChange:t===er.onChange,isOnAll:t===er.all,isOnTouch:t===er.onTouched}),IS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),CV=(t,e,n)=>{const r=Uu(Z(t,n));return Ke(r,"root",e[n]),Ke(t,n,r),t},Mo=t=>typeof t=="boolean",D1=t=>t.type==="file",$o=t=>typeof t=="function",Yd=t=>{if(!N1)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},qc=t=>yr(t)||Jn.isValidElement(t),j1=t=>t.type==="radio",Xd=t=>t instanceof RegExp;const xS={value:!1,isValid:!1},bS={value:!0,isValid:!0};var qb=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!dt(t[0].attributes.value)?dt(t[0].value)||t[0].value===""?bS:{value:t[0].value,isValid:!0}:bS:xS}return xS};const RS={isValid:!1,value:null};var Wb=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,RS):RS;function AS(t,e,n="validate"){if(qc(t)||Array.isArray(t)&&t.every(qc)||Mo(t)&&!t)return{type:n,message:qc(t)?t:"",ref:e}}var eo=t=>bt(t)&&!Xd(t)?t:{value:t,message:""},PS=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:d,pattern:h,validate:p,name:v,valueAsNumber:m,mount:S,disabled:y}=t._f,g=Z(e,v);if(!S||y)return{};const w=o?o[0]:s,_=$=>{r&&w.reportValidity&&(w.setCustomValidity(Mo($)?"":$||""),w.reportValidity())},E={},k=j1(s),I=$u(s),N=k||I,R=(m||D1(s))&&dt(s.value)&&dt(g)||Yd(s)&&s.value===""||g===""||Array.isArray(g)&&!g.length,D=EV.bind(null,v,n,E),K=($,U,le,Ie=Ar.maxLength,$e=Ar.minLength)=>{const lt=$?U:le;E[v]={type:$?Ie:$e,message:lt,ref:s,...D($?Ie:$e,lt)}};if(i?!Array.isArray(g)||!g.length:a&&(!N&&(R||tn(g))||Mo(g)&&!g||I&&!qb(o).isValid||k&&!Wb(o).isValid)){const{value:$,message:U}=qc(a)?{value:!!a,message:a}:eo(a);if($&&(E[v]={type:Ar.required,message:U,ref:w,...D(Ar.required,U)},!n))return _(U),E}if(!R&&(!tn(c)||!tn(d))){let $,U;const le=eo(d),Ie=eo(c);if(!tn(g)&&!isNaN(g)){const $e=s.valueAsNumber||g&&+g;tn(le.value)||($=$e>le.value),tn(Ie.value)||(U=$e<Ie.value)}else{const $e=s.valueAsDate||new Date(g),lt=re=>new Date(new Date().toDateString()+" "+re),q=s.type=="time",G=s.type=="week";yr(le.value)&&g&&($=q?lt(g)>lt(le.value):G?g>le.value:$e>new Date(le.value)),yr(Ie.value)&&g&&(U=q?lt(g)<lt(Ie.value):G?g<Ie.value:$e<new Date(Ie.value))}if(($||U)&&(K(!!$,le.message,Ie.message,Ar.max,Ar.min),!n))return _(E[v].message),E}if((l||u)&&!R&&(yr(g)||i&&Array.isArray(g))){const $=eo(l),U=eo(u),le=!tn($.value)&&g.length>$.value,Ie=!tn(U.value)&&g.length<U.value;if((le||Ie)&&(K(le,$.message,U.message),!n))return _(E[v].message),E}if(h&&!R&&yr(g)){const{value:$,message:U}=eo(h);if(Xd($)&&!g.match($)&&(E[v]={type:Ar.pattern,message:U,ref:s,...D(Ar.pattern,U)},!n))return _(U),E}if(p){if($o(p)){const $=await p(g,e),U=AS($,w);if(U&&(E[v]={...U,...D(Ar.validate,U.message)},!n))return _(U.message),E}else if(bt(p)){let $={};for(const U in p){if(!An($)&&!n)break;const le=AS(await p[U](g,e),w,U);le&&($={...le,...D(U,le.message)},_(le.message),n&&(E[v]=$))}if(!An($)&&(E[v]={ref:w,...$},!n))return E}}return _(!0),E};function TV(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=dt(t)?r++:t[e[r++]];return t}function kV(t){for(const e in t)if(!dt(t[e]))return!1;return!0}function Ft(t,e){const n=Array.isArray(e)?e:O1(e)?[e]:Hb(e),r=n.length===1?t:TV(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(bt(r)&&An(r)||Array.isArray(r)&&kV(r))&&Ft(t,n.slice(0,-1)),t}function qp(){let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}}var Jd=t=>tn(t)||!Bb(t);function ps(t,e){if(Jd(t)||Jd(e))return t===e;if(Eo(t)&&Eo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Eo(s)&&Eo(o)||bt(s)&&bt(o)||Array.isArray(s)&&Array.isArray(o)?!ps(s,o):s!==o)return!1}}return!0}var Kb=t=>t.type==="select-multiple",IV=t=>j1(t)||$u(t),Wp=t=>Yd(t)&&t.isConnected,Gb=t=>{for(const e in t)if($o(t[e]))return!0;return!1};function Zd(t,e={}){const n=Array.isArray(t);if(bt(t)||n)for(const r in t)Array.isArray(t[r])||bt(t[r])&&!Gb(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Zd(t[r],e[r])):tn(t[r])||(e[r]=!0);return e}function Qb(t,e,n){const r=Array.isArray(t);if(bt(t)||r)for(const i in t)Array.isArray(t[i])||bt(t[i])&&!Gb(t[i])?dt(e)||Jd(n[i])?n[i]=Array.isArray(t[i])?Zd(t[i],[]):{...Zd(t[i])}:Qb(t[i],tn(e)?{}:e[i],n[i]):ps(t[i],e[i])?delete n[i]:n[i]=!0;return n}var Kp=(t,e)=>Qb(t,e,Zd(e)),Yb=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>dt(t)?t:e?t===""?NaN:t&&+t:n&&yr(t)?new Date(t):r?r(t):t;function Gp(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return D1(e)?e.files:j1(e)?Wb(t.refs).value:Kb(e)?[...e.selectedOptions].map(({value:n})=>n):$u(e)?qb(t.refs).value:Yb(dt(e.value)?t.ref.value:e.value,t)}var xV=(t,e,n,r)=>{const i={};for(const s of t){const o=Z(e,s);o&&Ke(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Ua=t=>dt(t)?t:Xd(t)?t.source:bt(t)?Xd(t.value)?t.value.source:t.value:t,bV=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function LS(t,e,n){const r=Z(t,n);if(r||O1(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Z(e,s),a=Z(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var RV=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,AV=(t,e)=>!Uu(Z(t,e)).length&&Ft(t,e);const PV={mode:er.onSubmit,reValidateMode:er.onChange,shouldFocusError:!0};function LV(t={},e){let n={...PV,...t};const r=t.resetOptions&&t.resetOptions.keepDirtyValues;let i={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},s={},o=bt(n.defaultValues)?is(n.defaultValues)||{}:{},a=n.shouldUnregister?{}:is(o),l={action:!1,mount:!1,watch:!1},u={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={watch:qp(),array:qp(),state:qp()},v=kS(n.mode),m=kS(n.reValidateMode),S=n.criteriaMode===er.all,y=C=>x=>{clearTimeout(d),d=window.setTimeout(C,x)},g=async C=>{if(h.isValid||C){const x=n.resolver?An((await R()).errors):await K(s,!0);x!==i.isValid&&(i.isValid=x,p.state.next({isValid:x}))}},w=C=>h.isValidating&&p.state.next({isValidating:C}),_=(C,x=[],b,j,H=!0,P=!0)=>{if(j&&b){if(l.action=!0,P&&Array.isArray(Z(s,C))){const L=b(Z(s,C),j.argA,j.argB);H&&Ke(s,C,L)}if(P&&Array.isArray(Z(i.errors,C))){const L=b(Z(i.errors,C),j.argA,j.argB);H&&Ke(i.errors,C,L),AV(i.errors,C)}if(h.touchedFields&&P&&Array.isArray(Z(i.touchedFields,C))){const L=b(Z(i.touchedFields,C),j.argA,j.argB);H&&Ke(i.touchedFields,C,L)}h.dirtyFields&&(i.dirtyFields=Kp(o,a)),p.state.next({name:C,isDirty:U(C,x),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else Ke(a,C,x)},E=(C,x)=>{Ke(i.errors,C,x),p.state.next({errors:i.errors})},k=(C,x,b,j)=>{const H=Z(s,C);if(H){const P=Z(a,C,dt(b)?Z(o,C):b);dt(P)||j&&j.defaultChecked||x?Ke(a,C,x?P:Gp(H._f)):$e(C,P),l.mount&&g()}},I=(C,x,b,j,H)=>{let P=!1,L=!1;const ve={name:C};if(!b||j){h.isDirty&&(L=i.isDirty,i.isDirty=ve.isDirty=U(),P=L!==ve.isDirty);const Ee=ps(Z(o,C),x);L=Z(i.dirtyFields,C),Ee?Ft(i.dirtyFields,C):Ke(i.dirtyFields,C,!0),ve.dirtyFields=i.dirtyFields,P=P||h.dirtyFields&&L!==!Ee}if(b){const Ee=Z(i.touchedFields,C);Ee||(Ke(i.touchedFields,C,b),ve.touchedFields=i.touchedFields,P=P||h.touchedFields&&Ee!==b)}return P&&H&&p.state.next(ve),P?ve:{}},N=(C,x,b,j)=>{const H=Z(i.errors,C),P=h.isValid&&Mo(x)&&i.isValid!==x;if(t.delayError&&b?(c=y(()=>E(C,b)),c(t.delayError)):(clearTimeout(d),c=null,b?Ke(i.errors,C,b):Ft(i.errors,C)),(b?!ps(H,b):H)||!An(j)||P){const L={...j,...P&&Mo(x)?{isValid:x}:{},errors:i.errors,name:C};i={...i,...L},p.state.next(L)}w(!1)},R=async C=>await n.resolver(a,n.context,xV(C||u.mount,s,n.criteriaMode,n.shouldUseNativeValidation)),D=async C=>{const{errors:x}=await R();if(C)for(const b of C){const j=Z(x,b);j?Ke(i.errors,b,j):Ft(i.errors,b)}else i.errors=x;return x},K=async(C,x,b={valid:!0})=>{for(const j in C){const H=C[j];if(H){const{_f:P,...L}=H;if(P){const ve=u.array.has(P.name),Ee=await PS(H,a,S,n.shouldUseNativeValidation,ve);if(Ee[P.name]&&(b.valid=!1,x))break;!x&&(Z(Ee,P.name)?ve?CV(i.errors,Ee,P.name):Ke(i.errors,P.name,Ee[P.name]):Ft(i.errors,P.name))}L&&await K(L,x,b)}}return b.valid},$=()=>{for(const C of u.unMount){const x=Z(s,C);x&&(x._f.refs?x._f.refs.every(b=>!Wp(b)):!Wp(x._f.ref))&&Be(C)}u.unMount=new Set},U=(C,x)=>(C&&x&&Ke(a,C,x),!ps(Re(),o)),le=(C,x,b)=>_V(C,u,{...l.mount?a:dt(x)?o:yr(C)?{[C]:x}:x},b,x),Ie=C=>Uu(Z(l.mount?a:o,C,t.shouldUnregister?Z(o,C,[]):[])),$e=(C,x,b={})=>{const j=Z(s,C);let H=x;if(j){const P=j._f;P&&(!P.disabled&&Ke(a,C,Yb(x,P)),H=Yd(P.ref)&&tn(x)?"":x,Kb(P.ref)?[...P.ref.options].forEach(L=>L.selected=H.includes(L.value)):P.refs?$u(P.ref)?P.refs.length>1?P.refs.forEach(L=>(!L.defaultChecked||!L.disabled)&&(L.checked=Array.isArray(H)?!!H.find(ve=>ve===L.value):H===L.value)):P.refs[0]&&(P.refs[0].checked=!!H):P.refs.forEach(L=>L.checked=L.value===H):D1(P.ref)?P.ref.value="":(P.ref.value=H,P.ref.type||p.watch.next({name:C})))}(b.shouldDirty||b.shouldTouch)&&I(C,H,b.shouldTouch,b.shouldDirty,!0),b.shouldValidate&&re(C)},lt=(C,x,b)=>{for(const j in x){const H=x[j],P=`${C}.${j}`,L=Z(s,P);(u.array.has(C)||!Jd(H)||L&&!L._f)&&!Eo(H)?lt(P,H,b):$e(P,H,b)}},q=(C,x,b={})=>{const j=Z(s,C),H=u.array.has(C),P=is(x);Ke(a,C,P),H?(p.array.next({name:C,values:a}),(h.isDirty||h.dirtyFields)&&b.shouldDirty&&(i.dirtyFields=Kp(o,a),p.state.next({name:C,dirtyFields:i.dirtyFields,isDirty:U(C,P)}))):j&&!j._f&&!tn(P)?lt(C,P,b):$e(C,P,b),IS(C,u)&&p.state.next({}),p.watch.next({name:C}),!l.mount&&e()},G=async C=>{const x=C.target;let b=x.name;const j=Z(s,b),H=()=>x.type?Gp(j._f):pV(C);if(j){let P,L;const ve=H(),Ee=C.type===TS.BLUR||C.type===TS.FOCUS_OUT,Gs=!bV(j._f)&&!n.resolver&&!Z(i.errors,b)&&!j._f.deps||RV(Ee,Z(i.touchedFields,b),i.isSubmitted,m,v),Sa=IS(b,u,Ee);Ke(a,b,ve),Ee?(j._f.onBlur&&j._f.onBlur(C),c&&c(0)):j._f.onChange&&j._f.onChange(C);const Qs=I(b,ve,Ee,!1),Pf=!An(Qs)||Sa;if(!Ee&&p.watch.next({name:b,type:C.type}),Gs)return h.isValid&&g(),Pf&&p.state.next({name:b,...Sa?{}:Qs});if(!Ee&&Sa&&p.state.next({}),w(!0),n.resolver){const{errors:A}=await R([b]),O=LS(i.errors,s,b),M=LS(A,s,O.name||b);P=M.error,b=M.name,L=An(A)}else P=(await PS(j,a,S,n.shouldUseNativeValidation))[b],P?L=!1:h.isValid&&(L=await K(s,!0));j._f.deps&&re(j._f.deps),N(b,L,P,Qs)}},re=async(C,x={})=>{let b,j;const H=Hp(C);if(w(!0),n.resolver){const P=await D(dt(C)?C:H);b=An(P),j=C?!H.some(L=>Z(P,L)):b}else C?(j=(await Promise.all(H.map(async P=>{const L=Z(s,P);return await K(L&&L._f?{[P]:L}:L)}))).every(Boolean),!(!j&&!i.isValid)&&g()):j=b=await K(s);return p.state.next({...!yr(C)||h.isValid&&b!==i.isValid?{}:{name:C},...n.resolver||!C?{isValid:b}:{},errors:i.errors,isValidating:!1}),x.shouldFocus&&!j&&Kg(s,P=>P&&Z(i.errors,P),C?H:u.mount),j},Re=C=>{const x={...o,...l.mount?a:{}};return dt(C)?x:yr(C)?Z(x,C):C.map(b=>Z(x,b))},Ue=(C,x)=>({invalid:!!Z((x||i).errors,C),isDirty:!!Z((x||i).dirtyFields,C),isTouched:!!Z((x||i).touchedFields,C),error:Z((x||i).errors,C)}),pt=C=>{C?Hp(C).forEach(x=>Ft(i.errors,x)):i.errors={},p.state.next({errors:i.errors})},Ct=(C,x,b)=>{const j=(Z(s,C,{_f:{}})._f||{}).ref;Ke(i.errors,C,{...x,ref:j}),p.state.next({name:C,errors:i.errors,isValid:!1}),b&&b.shouldFocus&&j&&j.focus&&j.focus()},qn=(C,x)=>$o(C)?p.watch.subscribe({next:b=>C(le(void 0,x),b)}):le(C,x,!0),Be=(C,x={})=>{for(const b of C?Hp(C):u.mount)u.mount.delete(b),u.array.delete(b),Z(s,b)&&(x.keepValue||(Ft(s,b),Ft(a,b)),!x.keepError&&Ft(i.errors,b),!x.keepDirty&&Ft(i.dirtyFields,b),!x.keepTouched&&Ft(i.touchedFields,b),!n.shouldUnregister&&!x.keepDefaultValue&&Ft(o,b));p.watch.next({}),p.state.next({...i,...x.keepDirty?{isDirty:U()}:{}}),!x.keepIsValid&&g()},mt=(C,x={})=>{let b=Z(s,C);const j=Mo(x.disabled);return Ke(s,C,{...b||{},_f:{...b&&b._f?b._f:{ref:{name:C}},name:C,mount:!0,...x}}),u.mount.add(C),b?j&&Ke(a,C,x.disabled?void 0:Z(a,C,Gp(b._f))):k(C,!0,x.value),{...j?{disabled:x.disabled}:{},...n.shouldUseNativeValidation?{required:!!x.required,min:Ua(x.min),max:Ua(x.max),minLength:Ua(x.minLength),maxLength:Ua(x.maxLength),pattern:Ua(x.pattern)}:{},name:C,onChange:G,onBlur:G,ref:H=>{if(H){mt(C,x),b=Z(s,C);const P=dt(H.value)&&H.querySelectorAll&&H.querySelectorAll("input,select,textarea")[0]||H,L=IV(P),ve=b._f.refs||[];if(L?ve.find(Ee=>Ee===P):P===b._f.ref)return;Ke(s,C,{_f:{...b._f,...L?{refs:[...ve.filter(Wp),P,...Array.isArray(Z(o,C))?[{}]:[]],ref:{type:P.type,name:C}}:{ref:P}}}),k(C,!1,void 0,P)}else b=Z(s,C,{}),b._f&&(b._f.mount=!1),(n.shouldUnregister||x.shouldUnregister)&&!(gV(u.array,C)&&l.action)&&u.unMount.add(C)}}},ai=()=>n.shouldFocusError&&Kg(s,C=>C&&Z(i.errors,C),u.mount),li=(C,x)=>async b=>{b&&(b.preventDefault&&b.preventDefault(),b.persist&&b.persist());let j=is(a);if(p.state.next({isSubmitting:!0}),n.resolver){const{errors:H,values:P}=await R();i.errors=H,j=P}else await K(s);An(i.errors)?(p.state.next({errors:{}}),await C(j,b)):(x&&await x({...i.errors},b),ai()),p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:An(i.errors),submitCount:i.submitCount+1,errors:i.errors})},V=(C,x={})=>{Z(s,C)&&(dt(x.defaultValue)?q(C,Z(o,C)):(q(C,x.defaultValue),Ke(o,C,x.defaultValue)),x.keepTouched||Ft(i.touchedFields,C),x.keepDirty||(Ft(i.dirtyFields,C),i.isDirty=x.defaultValue?U(C,Z(o,C)):U()),x.keepError||(Ft(i.errors,C),h.isValid&&g()),p.state.next({...i}))},Q=(C,x={})=>{const b=C||o,j=is(b),H=C&&!An(C)?j:o;if(x.keepDefaultValues||(o=b),!x.keepValues){if(x.keepDirtyValues||r)for(const P of u.mount)Z(i.dirtyFields,P)?Ke(H,P,Z(a,P)):q(P,Z(H,P));else{if(N1&&dt(C))for(const P of u.mount){const L=Z(s,P);if(L&&L._f){const ve=Array.isArray(L._f.refs)?L._f.refs[0]:L._f.ref;if(Yd(ve)){const Ee=ve.closest("form");if(Ee){Ee.reset();break}}}}s={}}a=t.shouldUnregister?x.keepDefaultValues?is(o):{}:j,p.array.next({values:H}),p.watch.next({values:H})}u={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&e(),l.mount=!h.isValid||!!x.keepIsValid,l.watch=!!t.shouldUnregister,p.state.next({submitCount:x.keepSubmitCount?i.submitCount:0,isDirty:x.keepDirty||x.keepDirtyValues?i.isDirty:!!(x.keepDefaultValues&&!ps(C,o)),isSubmitted:x.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:x.keepDirty||x.keepDirtyValues?i.dirtyFields:x.keepDefaultValues&&C?Kp(o,C):{},touchedFields:x.keepTouched?i.touchedFields:{},errors:x.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},ge=(C,x)=>Q($o(C)?C(a):C,x),ye=(C,x={})=>{const b=Z(s,C),j=b&&b._f;if(j){const H=j.refs?j.refs[0]:j.ref;H.focus&&(H.focus(),x.shouldSelect&&H.select())}},de=C=>{i={...i,...C}};return $o(n.defaultValues)&&n.defaultValues().then(C=>{ge(C,n.resetOptions),p.state.next({isLoading:!1})}),{control:{register:mt,unregister:Be,getFieldState:Ue,_executeSchema:R,_focusError:ai,_getWatch:le,_getDirty:U,_updateValid:g,_removeUnmounted:$,_updateFieldArray:_,_getFieldArray:Ie,_reset:Q,_updateFormState:de,_subjects:p,_proxyFormState:h,get _fields(){return s},get _formValues(){return a},get _stateFlags(){return l},set _stateFlags(C){l=C},get _defaultValues(){return o},get _names(){return u},set _names(C){u=C},get _formState(){return i},set _formState(C){i=C},get _options(){return n},set _options(C){n={...n,...C}}},trigger:re,register:mt,handleSubmit:li,watch:qn,setValue:q,getValues:Re,reset:ge,resetField:V,clearErrors:pt,unregister:Be,setError:Ct,setFocus:ye,getFieldState:Ue}}function Xb(t={}){const e=Jn.useRef(),[n,r]=Jn.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:$o(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...LV(t,()=>r(s=>({...s}))),formState:n});const i=e.current.control;return i._options=t,wV({subject:i._subjects.state,next:s=>{vV(s,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),Jn.useEffect(()=>{i._stateFlags.mount||(i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),Jn.useEffect(()=>{t.values&&!ps(t.values,i._defaultValues)&&i._reset(t.values,i._options.resetOptions)},[t.values,i]),Jn.useEffect(()=>{n.submitCount&&i._focusError()},[i,n.submitCount]),e.current.formState=yV(n,i),e.current}function Jb(t){return f.jsxs(Oe,{stroke:"none",...t,children:[f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.64 12.2045C20.64 11.5664 20.5827 10.9527 20.4764 10.3636H12V13.845H16.8436C16.635 14.97 16.0009 15.9232 15.0477 16.5614V18.8195H17.9564C19.6582 17.2527 20.64 14.9454 20.64 12.2045Z",fill:"#4285F4"}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 21C14.43 21 16.4673 20.1941 17.9564 18.8196L15.0477 16.5614C14.2418 17.1014 13.2109 17.4205 12 17.4205C9.65591 17.4205 7.67182 15.8373 6.96409 13.71H3.95728V16.0418C5.43818 18.9832 8.48182 21 12 21Z",fill:"#34A853"}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.96409 13.71C6.78409 13.17 6.68182 12.5932 6.68182 12C6.68182 11.4068 6.78409 10.83 6.96409 10.29V7.95818H3.95727C3.34773 9.17318 3 10.5477 3 12C3 13.4523 3.34773 14.8268 3.95727 16.0418L6.96409 13.71Z",fill:"#FBBC05"}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6.57955C13.3214 6.57955 14.5077 7.03364 15.4405 7.92545L18.0218 5.34409C16.4632 3.89182 14.4259 3 12 3C8.48182 3 5.43818 5.01682 3.95728 7.95818L6.96409 10.29C7.67182 8.16273 9.65591 6.57955 12 6.57955Z",fill:"#EA4335"})]})}const M1=T.forwardRef(({children:t,className:e,...n},r)=>f.jsx("form",{className:e,ref:r,...n,children:t}));M1.displayName="Form";const NV="_inputContainer_5k7mp_1",OV="_input_5k7mp_1",NS={inputContainer:NV,input:OV},DV="_container_bo7dy_1",jV="_inputBlockContainer_bo7dy_8",MV="_input_bo7dy_8",$V="_error_bo7dy_24",Ve={container:DV,inputBlockContainer:jV,input:MV,error:$V},UV=T.forwardRef(({register:t=null,errors:e,onLabelClick:n,label:r,children:i,className:s,...o},a)=>{const l=u=>{n&&n(u)};return f.jsxs("div",{className:Ve.container,children:[i&&f.jsx(ae,{component:"h3",children:i}),f.jsxs("div",{className:Ve.inputBlockContainer,children:[f.jsxs("label",{className:NS.inputContainer,children:[f.jsx("input",{type:"checkbox",className:W.join(NS.input,s),ref:a,...t,...o}),f.jsx(ae,{component:"p1",onClick:l,children:r})]}),t&&f.jsx(ae,{component:"p2",className:W.join(Ve.error),children:e&&e[t.name]&&e[t.name].message||""})]})]})});UV.displayName="Checkbox";function FV(t){return f.jsx(Oe,{fill:"none",...t,children:f.jsx("path",{d:"M6 9L12 15L18 9",strokeLinecap:"round",strokeLinejoin:"round"})})}const VV="_inputContainer_izcmr_1",zV="_icon_izcmr_5",BV="_input_izcmr_1",Qp={inputContainer:VV,icon:zV,input:BV},Zb=T.forwardRef(({options:t,register:e,errors:n,selected:r,blank:i,onDropdownChange:s,children:o,className:a,...l},u)=>{const[c,d]=T.useState(r),h=p=>{d(p.target.value),s&&s(p.target.value)};return f.jsxs("div",{className:Ve.container,children:[f.jsx(ae,{component:"h5",children:o}),f.jsxs("div",{className:Ve.inputBlockContainer,children:[f.jsxs("label",{className:Qp.inputContainer,children:[f.jsxs("select",{className:W.join(Qp.input,Ve.input,sn.input,a),value:c,onChange:h,ref:u,...e,...l,children:[i&&f.jsx("option",{children:" "}),t.map(p=>f.jsx("option",{value:p,children:p},p))]}),f.jsx($n,{size:"custom",style:{width:20,height:20},className:Qp.icon,onClick:()=>null,children:f.jsx(FV,{size:"custom",style:{width:20,height:20}})})]}),e&&f.jsx(ae,{component:"p2",className:W.join(Ve.error),children:n&&n[e==null?void 0:e.name]&&n[e==null?void 0:e.name].message||""})]})]})});Zb.displayName="Dropdown";const $1=T.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>f.jsxs("div",{className:Ve.container,children:[f.jsx(ae,{component:"h5",children:r}),f.jsxs("div",{className:Ve.inputBlockContainer,children:[f.jsx("label",{children:f.jsx("input",{type:"email",className:W.join(Ve.input,sn.input),placeholder:n,ref:s,...t,...i})}),t&&f.jsx(ae,{component:"p2",className:W.join(Ve.error),children:e&&e[t==null?void 0:t.name]&&e[t==null?void 0:t.name].message||""})]})]}));$1.displayName="EmailInput";function HV(t){return f.jsxs(Oe,{fill:"none",...t,children:[f.jsx("path",{d:"M23 19C23 19.5304 22.7893 20.0391 22.4142 20.4142C22.0391 20.7893 21.5304 21 21 21H3C2.46957 21 1.96086 20.7893 1.58579 20.4142C1.21071 20.0391 1 19.5304 1 19V8C1 7.46957 1.21071 6.96086 1.58579 6.58579C1.96086 6.21071 2.46957 6 3 6H7L9 3H15L17 6H21C21.5304 6 22.0391 6.21071 22.4142 6.58579C22.7893 6.96086 23 7.46957 23 8V19Z",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12 17C14.2091 17 16 15.2091 16 13C16 10.7909 14.2091 9 12 9C9.79086 9 8 10.7909 8 13C8 15.2091 9.79086 17 12 17Z",strokeLinecap:"round",strokeLinejoin:"round"})]})}const qV="_FileImgUpload_142ig_1",WV="_container_142ig_7",KV="_input_142ig_14",GV="_imgPreview_142ig_18",Yp={FileImgUpload:qV,container:WV,input:KV,imgPreview:GV},e2=T.forwardRef(({register:t,errors:e,watch:n,accept:r,label:i,children:s,className:o,...a},l)=>{const[u,c]=T.useState(),d=n(t?t.name:null);return T.useEffect(()=>{let h="";d&&d.length>0&&(h=URL.createObjectURL(d[0])),c(h)},[d]),f.jsxs("div",{className:W.join(Yp.FileImgUpload,Ve.container),children:[f.jsx(ae,{component:"h5",children:s}),f.jsxs("div",{className:Ve.inputBlockContainer,children:[f.jsxs("label",{className:W.join(Yp.container,sn.input),children:[f.jsx("input",{type:"file",accept:r||"",className:W.join(Yp.input,o),ref:l,...t,...a}),u?f.jsx(Qd,{src:u,alt:u}):f.jsx(Qd,{children:f.jsx(HV,{})}),i]}),t&&f.jsx(ae,{component:"p2",className:W.join(Ve.error),children:e&&e[t.name]&&e[t.name].message||""})]})]})});e2.displayName="FileImgUpload";const QV="_input_1wgeu_1",YV={input:QV},XV=T.forwardRef(({children:t,className:e,...n},r)=>f.jsx("div",{children:f.jsxs("label",{htmlFor:"file",children:[t,f.jsx("input",{type:"file",className:W.join(YV.input,e),id:"file",ref:r,...n})]})}));XV.displayName="FileUpload";function JV(t){return f.jsxs(Oe,{fill:"none",...t,children:[f.jsx("path",{d:"M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",strokeLinecap:"round",strokeLinejoin:"round"})]})}function ZV(t){return f.jsxs(Oe,{fill:"none",...t,children:[f.jsxs("g",{clipPath:"url(#clip0_2015_815)",children:[f.jsx("path",{d:"M17.94 17.94C16.2306 19.243 14.1491 19.9649 12 20C5 20 1 12 1 12C2.24389 9.68189 3.96914 7.6566 6.06 6.05999M9.9 4.23999C10.5883 4.07887 11.2931 3.99833 12 3.99999C19 3.99999 23 12 23 12C22.393 13.1356 21.6691 14.2047 20.84 15.19M14.12 14.12C13.8454 14.4147 13.5141 14.6511 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1752 15.0074 10.8016 14.8565C10.4281 14.7056 10.0887 14.481 9.80385 14.1961C9.51897 13.9113 9.29439 13.5719 9.14351 13.1984C8.99262 12.8248 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2218 9.18488 10.8538C9.34884 10.4858 9.58525 10.1546 9.88 9.87999",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M1 1L23 23",strokeLinecap:"round",strokeLinejoin:"round"})]}),f.jsx("defs",{children:f.jsx("clipPath",{id:"clip0_2015_815",children:f.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}const ez="_inputContainer_nkmmv_1",tz="_input_nkmmv_1",nz="_icon_nkmmv_9",ms={inputContainer:ez,input:tz,icon:nz},U1=T.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>{const[o,a]=T.useState(!1),l=c=>{c.stopPropagation(),a(d=>!d)},u=o?"text":"password";return f.jsxs("div",{className:Ve.container,children:[f.jsx(ae,{component:"h5",children:r}),f.jsxs("div",{className:Ve.inputBlockContainer,children:[f.jsxs("label",{className:ms.inputContainer,children:[f.jsx("input",{type:u,className:W.join(Ve.input,ms.input,sn.input),placeholder:n,ref:s,...t,...i}),f.jsx($n,{size:"custom",style:{width:20,height:20},className:ms.icon,onClick:l,children:o?f.jsx(JV,{size:"custom",style:{width:20,height:20}}):f.jsx(ZV,{size:"custom",style:{width:20,height:20}})})]}),t&&f.jsx(ae,{component:"p2",className:W.join(Ve.error),children:e&&e[t==null?void 0:t.name]&&e[t==null?void 0:t.name].message||""})]})]})});U1.displayName="PasswordInput";const t2=T.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>f.jsxs("div",{className:Ve.container,children:[f.jsx(ae,{component:"h5",children:r}),f.jsxs("div",{className:Ve.inputBlockContainer,children:[f.jsx("label",{children:f.jsx("input",{type:"text",className:W.join(Ve.input,sn.input),placeholder:n,ref:s,...t,...i})}),t&&f.jsx(ae,{component:"p2",className:W.join(Ve.error),children:e&&e[t==null?void 0:t.name]&&e[t==null?void 0:t.name].message||""})]})]}));t2.displayName="TextInput";function n2(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}const rz="_Backdrop_1yd3e_46",iz="_show_1yd3e_61",sz="_disabled_1yd3e_66",Xp={Backdrop:rz,"hide-blackout":"_hide-blackout_1yd3e_1",show:iz,"show-blackout":"_show-blackout_1yd3e_1",disabled:sz},F1=T.forwardRef(({className:t,disabled:e,show:n,opacity:r,...i},s)=>{const o=T.useRef(null);T.useEffect(()=>{var l;o&&r&&((l=o.current)==null||l.style.setProperty("--backdrop-opacity",`${r}%`))},[o]);const a=[e&&Xp.disabled,n&&Xp.show];return f.jsx("button",{type:"button",className:W.join(Xp.Backdrop,t,a),ref:n2([s,o]),...i})});F1.displayName="Backdrop";function V1({children:t,className:e="root-portal",elementType:n="div"}){const r=T.useRef(document.createElement(n)),{current:i}=r;return T.useEffect(()=>(i.classList.add(e),document.body.appendChild(r.current),()=>{document.body.removeChild(i)}),[]),oP.createPortal(t,i)}const oz="_content_ol8b2_18",az="_titleContainer_ol8b2_22",lz="_success_ol8b2_22",uz="_info_ol8b2_27",cz="_error_ol8b2_32",dz="_warn_ol8b2_37",hz="_Modal_ol8b2_70",fz="_buttons_ol8b2_107",pz="_medium_ol8b2_111",mz="_large_ol8b2_122",gz="_title_ol8b2_22",yz="_body_ol8b2_155",Pr={content:oz,titleContainer:az,success:lz,info:uz,error:cz,warn:dz,Modal:hz,"hide-modal":"_hide-modal_ol8b2_1",buttons:fz,medium:pz,large:mz,"show-modal":"_show-modal_ol8b2_1",title:gz,body:yz},Fu=T.forwardRef(({type:t,title:e,noTitle:n,mainButton:r={text:"Ок"},secondButton:i,backdrop:s,onClose:o,noButtons:a=!1,size:l="flex",children:u,className:c,...d},h)=>{const[p,v]=T.useState("show"),m=i&&!W.isObjectEmpty(i),S=()=>{v("")},y=()=>{p!=="show"&&(S(),document.body.style.overflow="visible",o&&o())},g=()=>{s!=null&&s.onClick&&s.onClick(),S()},w=()=>{r!=null&&r.onClick&&r.onClick(),r!=null&&r.form||S()},_=()=>{i!=null&&i.onClick&&i.onClick(),i!=null&&i.form||S()},E=t?Pr[t]:null,k=e||t==="alert"&&"Повідомлення!"||t==="info"&&"Інформація!"||t==="success"&&"Успіх!"||t==="error"&&"Помилка"||t==="warn"&&"Попередження!";T.useEffect(()=>{document.body.style.overflow="hidden"},[]);const I=l==="medium"&&Pr.medium||l==="large"&&Pr.large;return f.jsx(V1,{children:f.jsxs("div",{className:W.join(Pr.Modal,c,p),onAnimationEnd:y,ref:h,...d,children:[f.jsx(F1,{onClick:g,disabled:s==null?void 0:s.disabled,show:p==="show"}),f.jsxs("div",{className:W.join(I,Pr.content),children:[f.jsx("div",{className:t&&W.join(Pr.titleContainer,E,t),children:f.jsx(ae,{component:"h4",className:Pr.title,children:!n&&k})}),f.jsx("div",{className:Pr.body,children:u}),!a&&f.jsxs("div",{className:Pr.buttons,children:[m&&f.jsxs(qe,{size:i==null?void 0:i.size,type:(i==null?void 0:i.type)||"secondary",onClick:()=>_(),submit:i==null?void 0:i.isSubmit,disabled:i==null?void 0:i.disabled,children:[(i==null?void 0:i.iconPosition)==="left"&&(i==null?void 0:i.icon),!(i!=null&&i.icon)&&(i!=null&&i.icon?"Відміна":i==null?void 0:i.text),!(i!=null&&i.text)&&(i==null?void 0:i.icon)&&(i==null?void 0:i.icon),(i==null?void 0:i.iconPosition)==="left"&&(i==null?void 0:i.icon)]}),f.jsxs(qe,{size:r==null?void 0:r.size,type:(r==null?void 0:r.type)||"primary",onClick:()=>w(),submit:r==null?void 0:r.isSubmit,disabled:r==null?void 0:r.disabled,children:[(r==null?void 0:r.iconPosition)==="left"&&(r==null?void 0:r.icon),!(r!=null&&r.icon)&&(r!=null&&r.icon?"Ок":r==null?void 0:r.text),!(r!=null&&r.text)&&(r==null?void 0:r.icon)&&(r==null?void 0:r.icon),(r==null?void 0:r.iconPosition)==="right"&&(r==null?void 0:r.icon)]})]})]})]})})});Fu.displayName="Modal";function vz({onClose:t}){return f.jsx(Fu,{onClose:t,type:"error",size:"medium",title:"Невірні дані!",children:f.jsxs(f.Fragment,{children:[f.jsx(ae,{component:"p1",className:"center",children:"Невірно вказана електронна адреса чи пароль."}),f.jsx(ae,{component:"p1",className:"center",children:"Перевірте, будь ласка, дані та спробуйте ще раз!"})]})})}function wz({onClose:t}){return f.jsx(Fu,{onClose:t,type:"success",size:"medium",title:"Вітаю!",children:f.jsx(ae,{component:"p1",className:"center",children:"Ви успішно увійшли на сайт та отримали доступ до додаткового функціоналу!"})})}const _z="_container_188oq_1",Sz="_form_188oq_9",Ez="_buttons_188oq_17",Jp={container:_z,form:Sz,buttons:Ez};function Cz(){const t=Vs(),e=Rn(),{error:n,isLoading:r,uid:i}=Qt(v=>v.userReducer),{actions:s}=Du,{register:o,handleSubmit:a,formState:{errors:l}}=Xb({mode:"onSubmit",defaultValues:{email:"",password:""}}),u={email:o("email",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/i,message:"Невірно введена адреса електронної пошти!"}}),password:o("password",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[a-zA-Z0-9]+$/,message:"Використовуйте тільки латинські літери та цифри!"},minLength:{value:8,message:"Мінімальна довжина пароля 8 символів"},maxLength:{value:16,message:"Максимальна довжина пароля 16 символів"}})},c=async({email:v,password:m})=>{e(Hc({email:v,password:m}))},d=()=>{e(gl())},h=()=>{t(vt.home)},p=()=>{e(s.resetError())};return f.jsxs(Mu,{children:[f.jsxs(br,{container:!0,className:Jp.container,children:[f.jsx(ae,{component:"h4",children:"Вхід"}),f.jsxs(M1,{className:Jp.form,onSubmit:a(c),children:[f.jsx($1,{register:u.email,errors:l,children:"Адреса електронної пошти*:"}),f.jsx(U1,{register:u.password,errors:l,children:"Пароль*:"}),f.jsxs(Le,{className:Jp.buttons,children:[f.jsx(qe,{type:"primary",submit:!0,children:"Увійти"}),f.jsxs(qe,{type:"secondary",onClick:d,children:[f.jsx(Jb,{}),"Увійти через Google"]}),f.jsxs(ae,{component:"p1",children:["Немає акаунту?"," ",f.jsx(Fh,{to:vt.signup,children:f.jsx(_r,{children:"Створити"})})]})]})]})]}),i&&!r?f.jsx(wz,{onClose:h}):null,n&&!r?f.jsx(vz,{onClose:p}):null]})}function Tz({onClose:t}){return f.jsx(Fu,{onClose:t,type:"error",size:"medium",title:"Невірні дані!",children:f.jsxs(f.Fragment,{children:[f.jsx(ae,{component:"p1",className:"center",children:"Невірно заповнені поля, або такий користувач вже існує."}),f.jsx(ae,{component:"p1",className:"center",children:"Перевірте, будь ласка, дані та спробуйте ще раз!"})]})})}function kz({onClose:t}){return f.jsx(Fu,{onClose:t,type:"success",size:"medium",title:"Вітаю!",children:f.jsx(ae,{component:"p1",className:"center",children:"Ви успішно зареєструвалися на сайті та отримали доступ до додаткового функціоналу!"})})}const Iz="_container_188oq_1",xz="_form_188oq_9",bz="_buttons_188oq_17",Zp={container:Iz,form:xz,buttons:bz};function Rz(){const t=Vs(),e=Rn(),{error:n,isLoading:r,uid:i}=Qt(g=>g.userReducer),{actions:s}=Du,{register:o,handleSubmit:a,reset:l,watch:u,formState:{errors:c,isDirty:d}}=Xb({mode:"onSubmit",defaultValues:{userName:"",email:"",password:"",profileImage:void 0}}),h=W.isObjectEmpty(c),p={userName:o("userName",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[\sа-яА-ЯёЁъЪїЇіІєЄґҐa-zA-Z_]+$/,message:"Використовуйте тільки літери, пробіл або нижнє підкреслення!"},minLength:{value:2,message:"Мінімальна довжина логіну 2 символів"},maxLength:{value:32,message:"Максимальна довжина логіну 32 символів"}}),email:o("email",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/i,message:"Невірно введена адреса електронної пошти!"}}),password:o("password",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[a-zA-Z0-9]+$/,message:"Використовуйте тільки латинські літери та цифри!"},minLength:{value:8,message:"Мінімальна довжина пароля 8 символів"},maxLength:{value:16,message:"Максимальна довжина пароля 16 символів"}}),profileImage:o("profileImage",{required:"Будь ласка, оберіть зображення!"})},v=async({userName:g,email:w,password:_,profileImage:E})=>{e(Bc({displayName:g,email:w,password:_,photo:E[0]}))},m=()=>{e(gl())},S=()=>{l(),t(vt.home)},y=()=>{e(s.resetError())};return f.jsxs(Mu,{children:[f.jsxs(br,{container:!0,className:Zp.container,children:[f.jsx(ae,{component:"h4",children:"Реєстрація"}),f.jsxs(M1,{className:Zp.form,onSubmit:a(v),children:[f.jsx(e2,{watch:u,register:p.profileImage,errors:c,accept:".jpg, .jpeg, .png",label:"Оберіть зображення",children:"Зображення профілю*:"}),f.jsx(t2,{register:p.userName,errors:c,children:"Логін*:"}),f.jsx($1,{register:p.email,errors:c,children:"Адреса електронної пошти*:"}),f.jsx(U1,{register:p.password,errors:c,children:"Пароль*:"}),f.jsxs(Le,{className:Zp.buttons,children:[f.jsx(qe,{submit:!0,disabled:!d||!h,children:"Створити"}),f.jsxs(qe,{type:"secondary",onClick:m,children:[f.jsx(Jb,{}),"Увійти через Google"]}),f.jsxs(ae,{component:"p1",children:["Вже є акаунт?"," ",f.jsx(Fh,{className:"link",to:vt.login,children:f.jsx(_r,{children:"Увійти"})})]})]})]})]}),i&&!r?f.jsx(kz,{onClose:S}):null,n&&!r?f.jsx(Tz,{onClose:y}):null]})}const Az=`
	Авва Отче Святий — ми в руці Твоїй
	Ангели в небі Господа славлять
	Бог Ти цар мого життя
	Боже Єдиний нашу країну тримай
	Всесильний Нездоланний
	Господи — Ти надія у житті
	Минає час минають дні
	Схилимо коліна
	Я за тебе молюсь Україно
	Як сум і муку мою душу огорне
`,OS=Az.trim().split(`
`).map(t=>t.trim()),Pz={normalOrderAudioFilesList:OS,audioTracksList:OS,isPlaying:!1,isPlayerShow:!1,lastOpenedTrack:null,currentTrack:null,currentTrackIndex:0,currentTrackDuration:0,currentTrackTimeProgress:0},_a=xf({name:"musicPlayer",initialState:Pz,reducers:{setNormalAudioTracksList(t){t.audioTracksList=t.normalOrderAudioFilesList},setShuffleAudioTracksList(t){t.audioTracksList=W.shuffleArray(t.audioTracksList)},setIsPlaying(t,e){t.isPlaying=e.payload,t.isPlaying?t.currentTrack=t.audioTracksList[t.currentTrackIndex]:t.lastOpenedTrack=t.currentTrack},toggleIsPlaying(t){t.isPlaying=!t.isPlaying,t.isPlaying?t.currentTrack=t.audioTracksList[t.currentTrackIndex]:t.lastOpenedTrack=t.currentTrack},showPlayer(t){t.isPlayerShow=!0},hidePlayer(t){t.isPlayerShow=!1},setCurrentTrack(t,e){t.currentTrack=e.payload},setCurrentTrackIndex(t,e){t.currentTrackIndex=e.payload},setCurrentTrackDuration(t,e){t.currentTrackDuration=e.payload},setCurrentTrackTimeProgress(t,e){t.currentTrackTimeProgress=e.payload},prevTrack(t){if(t.currentTrackIndex===0){const e=t.audioTracksList.length-1;t.currentTrackIndex=e,t.currentTrack=t.audioTracksList[e]}else{const e=t.currentTrackIndex-1;t.currentTrackIndex=e,t.currentTrack=t.audioTracksList[e]}},nextTrack(t){if(t.currentTrackIndex>=t.audioTracksList.length-1)t.currentTrackIndex=0,[t.currentTrack]=t.audioTracksList;else{const e=t.currentTrackIndex+1;t.currentTrackIndex=e,t.currentTrack=t.audioTracksList[e]}}}}),Lz=T.forwardRef(({gridContainer:t,children:e,className:n,...r},i)=>f.jsx("div",{className:W.join(n,"container",t&&"row"),ref:i,...r,children:e}));Lz.displayName="Container";const Nz=T.forwardRef(({children:t,className:e,...n},r)=>f.jsx("footer",{className:W.join(e,"footer"),ref:r,...n,children:t}));Nz.displayName="Footer";const Oz=T.forwardRef(({children:t,className:e,...n},r)=>f.jsx("header",{className:W.join(e,"header"),ref:r,...n,children:t}));Oz.displayName="Header";const Dz=T.forwardRef(({gridContainer:t,grid:e,children:n,className:r,...i},s)=>{const o=[e&&Zy(e)];return f.jsx("section",{className:W.join(r,t&&"row",o),ref:s,...i,children:n})});Dz.displayName="Section";function jz(t){return f.jsxs(Oe,{fill:"none",...t,children:[f.jsx("path",{d:"M11 17L6 12L11 7",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M18 17L13 12L18 7",strokeLinecap:"round",strokeLinejoin:"round"})]})}function Mz(t){return f.jsxs(Oe,{fill:"none",...t,children:[f.jsx("path",{d:"M13 17L18 12L13 7",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M6 17L11 12L6 7",strokeLinecap:"round",strokeLinejoin:"round"})]})}function r2(t){return f.jsxs(Oe,{fill:"none",...t,children:[f.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),f.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]})}function i2(t){return f.jsx(Oe,{fill:"none",...t,children:f.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})}function $z(t){return f.jsxs(Oe,{fill:"none",...t,children:[f.jsx("polygon",{points:"19 20 9 12 19 4 19 20"}),f.jsx("line",{x1:"5",y1:"19",x2:"5",y2:"5"})]})}function Uz(t){return f.jsxs(Oe,{fill:"none",...t,children:[f.jsx("polygon",{points:"5 4 15 12 5 20 5 4"}),f.jsx("line",{x1:"19",y1:"5",x2:"19",y2:"19"})]})}const Fz="_Controls_1ma96_1",Vz="_playIcon_1ma96_8",DS={Controls:Fz,playIcon:Vz};function zz({timeProgress:t,setTimeProgress:e,audioRef:n,progressBarRef:r}){const i=T.useRef(),{isPlaying:s,currentTrackDuration:o,currentTrackTimeProgress:a}=Qt(S=>S.musicPlayerReducer),l=Rn(),{actions:u}=_a,c=T.useCallback(()=>{if(n.current&&r.current){const{currentTime:S}=n.current;e(S);const y=r.current;y.value=S.toString(),y.style.setProperty("--progress-bar--range-progress",`${Number(y.value)/o*100}%`),s&&(i.current=requestAnimationFrame(c))}},[n,o,s,r,e]);T.useEffect(()=>{n.current&&(s?n.current.play():n.current.pause()),i.current=requestAnimationFrame(c)},[s,n,c]);const d=()=>{l(u.toggleIsPlaying()),s||e(a)},h=()=>{if(n.current){const S=n.current;S.currentTime+=10}},p=()=>{if(n.current){const S=n.current;S.currentTime-=10}},v=()=>{if(t>=1){if(e(0),n.current){const S=n.current;S.currentTime=0}}else l(u.prevTrack())},m=()=>{l(u.nextTrack())};return f.jsxs(Le,{className:DS.Controls,children:[f.jsx(qe,{type:"text",onClick:v,children:f.jsx($z,{})}),f.jsx(qe,{type:"text",onClick:p,children:f.jsx(jz,{})}),f.jsx(qe,{type:"secondary",onClick:d,children:s?f.jsx(r2,{}):f.jsx(i2,{className:DS.playIcon})}),f.jsx(qe,{type:"text",onClick:h,children:f.jsx(Mz,{})}),f.jsx(qe,{type:"text",onClick:m,children:f.jsx(Uz,{})})]})}const Bz={},s2=T.forwardRef(({className:t,...e},n)=>f.jsx("audio",{className:W.join(Bz.AudioPlayer,t),ref:n,...e,children:f.jsx("track",{kind:"captions"})}));s2.displayName="AudioPlayer";const Hz="_DisplayTrack_1d8z7_1",qz={DisplayTrack:Hz};function Wz({timeProgress:t,audioRef:e,progressBarRef:n}){const{currentTrack:r}=Qt(u=>u.musicPlayerReducer),{actions:i}=_a,s=Rn(),o=()=>{if(e.current&&n.current){const u=e.current,c=Math.trunc(u.duration);s(i.setCurrentTrackDuration(c));const d=n.current;d.max=c.toString()}},a=()=>{s(i.nextTrack())},l=()=>{s(i.hidePlayer()),s(i.setIsPlaying(!1)),s(i.setCurrentTrackTimeProgress(t))};return f.jsxs(Le,{className:qz.DisplayTrack,children:[f.jsx(s2,{src:`./assets/mp3/${r}.mp3`,ref:e,onLoadedMetadata:o,onEnded:a}),f.jsx(ae,{component:"h6",children:r}),f.jsx($n,{onClick:l,children:f.jsx(ju,{size:"small"})})]})}function jS(t){const e=t*1e3,n=new Date(e).toISOString().slice(11,19);return n.match(/^00/)?n.slice(3):n}const Kz="_ProgressBar_8spjb_1",Gz="_timeProgress_8spjb_8",Qz="_duration_8spjb_9",Yz="_range_8spjb_22",gc={ProgressBar:Kz,timeProgress:Gz,duration:Qz,range:Yz};function Xz({timeProgress:t,audioRef:e,progressBarRef:n}){const{currentTrackDuration:r}=Qt(l=>l.musicPlayerReducer),{actions:i}=_a,s=Rn(),o=()=>{if(e.current&&n.current){const l=e.current;l.currentTime=Number(n.current.value)}},a=()=>{e.current&&n.current&&s(i.setCurrentTrackTimeProgress(Number(n.current.value)))};return f.jsxs(Le,{className:gc.ProgressBar,children:[f.jsx(ae,{component:"p2",className:gc.timeProgress,children:jS(t)}),f.jsx("input",{type:"range",className:gc.range,onChange:o,onMouseUp:a,defaultValue:"0",ref:n}),f.jsx(ae,{component:"p2",className:gc.duration,children:jS(r)})]})}const Jz="_MusicPlayer_af7d9_46",Zz={MusicPlayer:Jz};function eB(){const{audioTracksList:t,lastOpenedTrack:e,currentTrack:n,isPlaying:r,currentTrackIndex:i,currentTrackTimeProgress:s}=Qt(h=>h.musicPlayerReducer),o=Rn(),{actions:a}=_a,[l,u]=T.useState(e===n?s:0);T.useEffect(()=>{r||o(a.setCurrentTrackTimeProgress(l))},[r]);const c=T.useRef(null),d=T.useRef(null);return T.useEffect(()=>{if(o(a.setCurrentTrack(t[i])),c.current&&l>0){const h=c.current;h.currentTime=l}},[]),T.useEffect(()=>{if(t.length>0&&n){const h=t.indexOf(n);o(a.setCurrentTrackIndex(h)),o(a.setCurrentTrack(t[h])),o(a.setIsPlaying(!0))}n||o(a.setIsPlaying(!1))},[a,t,n,o]),f.jsxs(Le,{className:Zz.MusicPlayer,children:[f.jsx(Wz,{timeProgress:l,audioRef:c,progressBarRef:d}),f.jsx(Xz,{timeProgress:l,audioRef:c,progressBarRef:d}),f.jsx(zz,{timeProgress:l,setTimeProgress:u,audioRef:c,progressBarRef:d})]})}function tB(){const t=new Date;return`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`}const nB={mode:"list",activeTableNumber:0,namesList:[],selectedSongsId:[],tableGroupLabels:[],nameListLimitCount:10,isLoading:!1,error:"",songsList:[],lastFetchingDate:""},Rf=xf({name:"songsList",initialState:nB,reducers:{setMode(t,e){t.mode=e.payload},setActiveTable(t,e){t.activeTableNumber=e.payload},resetTableGroupLabels(t){t.tableGroupLabels=[]},resetNamesList(t){t.namesList=[]},toggleSetToSelectedSongsId(t,e){let n=[...t.selectedSongsId];const r=t.selectedSongsId.indexOf(e.payload);r>=0?n.splice(r,1):n=[...t.selectedSongsId,e.payload],t.selectedSongsId=n},removeFromSelectedSongsId(t,e){const n=[...t.selectedSongsId],r=t.selectedSongsId.indexOf(e.payload);r>=0&&n.splice(r,1),t.selectedSongsId=n},resetSelectedSongsId(t){t.selectedSongsId=[]},toggleSetToNamesList(t,e){const n=e.payload,{namesList:r}=t;let i=[...r];r.length===0&&(i=[n]),r.length>0&&r.length<t.nameListLimitCount&&(i=[...r,n]);const s=r.indexOf(n);s>=0&&(i=[...r],i.splice(s,1)),t.namesList=i},setLastFetchingDate(t,e){t.lastFetchingDate=e.payload}},extraReducers:t=>{t.addCase(yl.pending,e=>{e.isLoading=!0,e.error=""}).addCase(yl.fulfilled,(e,n)=>{e.songsList=n.payload,e.error="",e.isLoading=!1,e.tableGroupLabels=n.payload.map(r=>r[1].map(i=>i[0]))}).addCase(yl.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1})}}),rB="_LoaderLine_92256_1",iB="_background_92256_10",sB="_normal_92256_13",oB="_animation_92256_13",aB="_loader_92256_1",lB="_inversion_92256_22",Fa={LoaderLine:rB,background:iB,normal:sB,animation:oB,loader:aB,inversion:lB},o2=T.forwardRef(({isInversion:t,className:e,...n},r)=>{const i=[t?Fa.inversion:Fa.normal];return f.jsxs("div",{className:W.join(Fa.LoaderLine,e,i),ref:r,...n,children:[f.jsx("div",{className:Fa.background}),f.jsx("div",{className:Fa.animation})]})});o2.displayName="LoaderLine";const uB="_LoaderOverlay_1d96m_1",cB={LoaderOverlay:uB};function dB(){return f.jsx(V1,{children:f.jsxs(Le,{className:W.join(cB.LoaderOverlay),children:[f.jsx(F1,{show:!0}),f.jsx(o2,{})]})})}function hB(t){return f.jsxs(Oe,{fill:"none",...t,children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}const a2=T.forwardRef(({register:t,errors:e,onApply:n,placeholder:r,onChangeValue:i,autoClear:s=!1,onKeyDown:o,children:a,...l},u)=>{const[c,d]=T.useState(""),h=S=>{i&&i(S.target.value),d(S.target.value)},p=()=>{n&&n(c),s&&d("")},v=()=>{i&&i(""),d("")},m=S=>{o&&o(S),S.key==="Enter"&&(n&&n(c),s&&d(""))};return f.jsxs("div",{className:Ve.container,children:[f.jsx(ae,{component:"h5",children:a}),f.jsxs("div",{className:Ve.inputBlockContainer,children:[f.jsxs("label",{className:ms.inputContainer,children:[f.jsx("input",{type:"text",className:W.join(Ve.input,ms.input,sn.input),placeholder:r,ref:u,onChange:h,onKeyDown:m,value:c,...t,...l}),!n&&c.length>0&&f.jsx($n,{size:"custom",style:{width:20,height:20},className:ms.icon,onClick:v,children:f.jsx(ju,{size:"custom",style:{width:20,height:20}})}),(!n&&c.length<1||n)&&f.jsx($n,{size:"custom",style:{width:20,height:20},className:ms.icon,onClick:p,children:f.jsx(hB,{size:"custom",style:{width:20,height:20}})})]}),t&&f.jsx(ae,{component:"p2",className:W.join(Ve.error),children:e&&e[t==null?void 0:t.name]&&e[t==null?void 0:t.name].message||""})]})]})});a2.displayName="SearchInput";const em=["Загальний Список","Вивчити/Зробити","Різдво","Пасха","Відкласти на час"],fB="_ListNavigation_1wvg1_1",pB={ListNavigation:fB};function mB({charsList:t}){return f.jsx(Le,{component:"nav",className:pB.ListNavigation,children:t.length>0&&t.map(e=>f.jsx(Fb,{href:`${vt.songslist}#${e}`,className:"link",children:e},e))})}const MS={up:"up",down:"down"};function gB(t,e){const n=t??100,[r,i]=T.useState("start"),[s,o]=T.useState(0);return T.useEffect(()=>{let a=window.scrollY;const l=h=>Math.abs(h-a)>n,u=h=>h>a&&!(a>0&&h===0)&&!(h>0&&a===0),c=()=>{const h=window.scrollY;if(o(h),l(h)){e&&e();const p=u(h)?MS.down:MS.up;i(p),a=h>0?h:0}},d=()=>window.requestAnimationFrame(c);return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]),{scrollDirection:r,scrollPosition:s}}function yB(){const[t,e]=T.useState({windowWidth:0,windowHeight:0});return T.useLayoutEffect(()=>{function n(){e({windowWidth:window.innerWidth,windowHeight:window.innerHeight})}return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),t}const vB="_StickyButton_1v8xp_18",wB="_hide_1v8xp_59",_B="_show_1v8xp_65",Zi={StickyButton:vB,hide:wB,"sticky-button-hide":"_sticky-button-hide_1v8xp_1",show:_B,"sticky-button-show":"_sticky-button-show_1v8xp_1"};function SB({children:t,popup:e,inverseDirection:n,offset:r,hideOnScreensCount:i=0}){const[s,o]=T.useState(Zi.hide),a=T.useRef(null);T.useEffect(()=>{var d;a&&r&&((d=a.current)==null||d.style.setProperty("--sticky-button-offset",`${r}px`))},[a,r]);const{windowHeight:l}=yB(),{scrollDirection:u,scrollPosition:c}=gB(200);return T.useEffect(()=>{const d=c>l*i;o(d&&n&&u==="up"?Zi.show:d&&n&&u==="down"||d&&u==="up"?Zi.hide:d&&u==="down"?Zi.show:Zi.hide)},[i,n,u,c,l]),f.jsx("div",{className:W.join(Zi.StickyButton,e&&s),ref:a,children:t})}function EB(t){return f.jsx(Oe,{fill:"none",...t,children:f.jsx("path",{d:"M18 15L12 9L6 15",strokeLinecap:"round",strokeLinejoin:"round"})})}function CB(){const{isPlayerShow:t}=Qt(n=>n.musicPlayerReducer),e=t?164:64;return f.jsx(SB,{popup:!0,offset:e,inverseDirection:!0,hideOnScreensCount:1,children:f.jsx(qe,{onClick:()=>document.body.scrollIntoView(),children:f.jsx(EB,{})})})}function TB({children:t,...e}){return f.jsx(f.Fragment,{children:T.Children.map(t,n=>T.isValidElement(n)?T.cloneElement(n,{...n.props,...e}):null)})}const kB="_List_1bjol_1",IB="_unordered_1bjol_6",xB="_custom_1bjol_12",tm={List:kB,unordered:IB,custom:xB},z1=T.forwardRef(({type:t,margin:e,children:n,className:r,...i},s)=>{const o=[t==="unordered"&&tm[t],t==="custom"&&tm[t]],a={marginLeft:e&&`${e}px`};return f.jsx("ul",{className:W.join(tm.List,r,o),ref:s,style:a,...i,children:f.jsx(TB,{style:a,children:n})})});z1.displayName="List";const B1=T.forwardRef(({children:t,className:e,...n},r)=>f.jsx("li",{className:e,ref:r,...n,children:t}));B1.displayName="ListItem";function bB(t){return f.jsx(Oe,{fill:"none",...t,children:f.jsx("polyline",{points:"20 6 9 17 4 12"})})}const RB="_SongListItem_1m3a7_46",AB="_active_1m3a7_53",PB="_song_1m3a7_57",nm={SongListItem:RB,active:AB,song:PB};function LB({song:t}){const{namesList:e,nameListLimitCount:n,selectedSongsId:r}=Qt(u=>u.songsListReducer),i=Rn(),{actions:s}=Rf,o=r.includes(t.position),a=[o&&nm.active],l=()=>{e.length<n?i(s.toggleSetToSelectedSongsId(t.position)):i(s.removeFromSelectedSongsId(t.position)),i(s.toggleSetToNamesList(t.value))};return f.jsx(Le,{className:W.join(nm.SongListItem,a),onClick:l,children:f.jsxs(B1,{className:nm.song,children:[f.jsx(ae,{component:"p1",id:`song_${t.position}`,children:t.value}),f.jsx($n,{children:o&&f.jsx(bB,{})})]})})}const NB="_SongsCopy_jns23_1",OB="_songsGroup_jns23_7",DB="_songsGroupSymbol_jns23_11",jB="_songsNames_jns23_20",yc={SongsCopy:NB,songsGroup:OB,songsGroupSymbol:DB,songsNames:jB};function MB({songsTable:t}){return f.jsx(Le,{className:yc.SongsCopy,children:t.map(e=>e[1].length>0&&f.jsxs(Le,{className:yc.songsGroup,children:[f.jsx(ae,{component:"h3",className:yc.songsGroupSymbol,id:e[0],children:e[0]}),f.jsx(z1,{className:yc.songsNames,children:e[1].map(n=>f.jsx(LB,{song:n},n.position))})]},e[0]))})}const $B="_SongListItem_z3t2l_1",UB="_playIcon_z3t2l_9",$S={SongListItem:$B,playIcon:UB};function FB({song:t}){const{audioTracksList:e,currentTrack:n,isPlaying:r}=Qt(l=>l.musicPlayerReducer),{actions:i}=_a,s=Rn(),o=()=>{s(i.showPlayer()),s(i.toggleIsPlaying()),n&&n.includes(t.value)||s(i.setCurrentTrack(t.value))},a=r&&n===t.value?"secondary":"text";return f.jsxs(B1,{className:$S.SongListItem,children:[f.jsx(ae,{component:"p1",id:`song_${t.position}`,children:t.value}),e.includes(t.value)&&f.jsx(qe,{type:a,size:"small",onClick:o,children:r&&n===t.value?f.jsx(r2,{size:"small"}):f.jsx(i2,{size:"small",className:$S.playIcon})})]},t.position)}const VB="_SongsList_50aix_46",zB="_songsGroup_50aix_52",BB="_songsGroupSymbol_50aix_56",HB="_songsNames_50aix_65",vc={SongsList:VB,songsGroup:zB,songsGroupSymbol:BB,songsNames:HB};function qB({songsTable:t}){return f.jsx(Le,{className:vc.SongsList,children:t.map(e=>e[1].length>0&&f.jsxs(Le,{className:vc.songsGroup,children:[f.jsx(ae,{component:"h3",className:vc.songsGroupSymbol,id:e[0],children:e[0]}),f.jsx(z1,{className:vc.songsNames,children:e[1].map(n=>f.jsx(FB,{song:n},n.position))})]},e[0]))})}async function WB(t){if(t)try{return await navigator.clipboard.writeText(t),!0}catch(e){throw new Error(pe(e))}return!1}function KB({ref:t,wayDirection:e="horizontal",targetDirection:n=null,swipeOffset:r=10,moveOffset:i=1}){var g;const[s]=T.useState(((g=t.current)==null?void 0:g.style.position)||"static"),[o,a]=T.useState(null),[l,u]=T.useState(null),[c,d]=T.useState(null),[h,p]=T.useState(null),[v,m]=T.useState(null),[S,y]=T.useState(null);return T.useEffect(()=>{const w=t==null?void 0:t.current;let _=null,E=null;const k=R=>{_=R.touches[0].clientX,E=R.touches[0].clientY,a({x:_,y:E})},I=R=>{const D=R.touches[0].clientX,K=R.touches[0].clientY;if(u({x:D,y:K}),_===null||E===null)return;let $=null;e==="horizontal"?($=D-_,$>i&&m("right"),$<i&&m("left")):e==="vertical"&&($=K-E,$>i&&m("down"),$<i&&m("up")),y($)},N=R=>{const D=R.changedTouches[0].clientX,K=R.changedTouches[0].clientY;if(d({x:D,y:K}),!(_===null||E===null)){if(e==="horizontal"){const $=D-_;$>r&&p("right"),$<r&&p("left")}else if(e==="vertical"){const $=K-E;$>r&&p("down"),$<r&&p("up")}a(null)}};return w&&(w.addEventListener("touchstart",k),w.addEventListener("touchmove",I),w.addEventListener("touchend",N)),()=>{w&&(w.removeEventListener("touchstart",k),w.removeEventListener("touchstart",k),w.removeEventListener("touchend",N))}},[]),T.useEffect(()=>{const w=t==null?void 0:t.current;w&&n&&(v===n?(w.style.position="relative",w.style.left=`${S}px`):w.style.position=s)},[S,v]),{startTouchPosition:o,moveTouchPosition:l,endTouchPosition:c,swipeDirection:h,moveDirection:v,difference:S}}function US(t){return f.jsxs(Oe,{fill:"none",...t,children:[f.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12 8V12",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12 16H12.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function GB(t){return f.jsxs(Oe,{fill:"none",...t,children:[f.jsx("path",{d:"M10.29 3.86001L1.81999 18C1.64536 18.3024 1.55296 18.6453 1.55198 18.9945C1.551 19.3437 1.64148 19.6871 1.81442 19.9905C1.98735 20.2939 2.23672 20.5468 2.5377 20.7239C2.83868 20.901 3.18079 20.9962 3.52999 21H20.47C20.8192 20.9962 21.1613 20.901 21.4623 20.7239C21.7633 20.5468 22.0126 20.2939 22.1856 19.9905C22.3585 19.6871 22.449 19.3437 22.448 18.9945C22.447 18.6453 22.3546 18.3024 22.18 18L13.71 3.86001C13.5317 3.56611 13.2807 3.32313 12.9812 3.15449C12.6817 2.98585 12.3437 2.89726 12 2.89726C11.6563 2.89726 11.3183 2.98585 11.0188 3.15449C10.7193 3.32313 10.4683 3.56611 10.29 3.86001Z",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12 9V13",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12 17H12.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function QB(t){return f.jsxs(Oe,{fill:"none",...t,children:[f.jsx("path",{d:"M22 11.08V12C21.9988 14.1564 21.3005 16.2547 20.0093 17.9818C18.7182 19.709 16.9033 20.9725 14.8354 21.5839C12.7674 22.1953 10.5573 22.1219 8.53447 21.3746C6.51168 20.6273 4.78465 19.2461 3.61096 17.4371C2.43727 15.628 1.87979 13.4881 2.02168 11.3363C2.16356 9.18457 2.99721 7.13633 4.39828 5.49707C5.79935 3.85782 7.69279 2.71538 9.79619 2.24015C11.8996 1.76491 14.1003 1.98234 16.07 2.86",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M22 4L12 14.01L9 11.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function YB(t){return f.jsxs(Oe,{fill:"none",...t,children:[f.jsx("path",{d:"M12.7165 22.7087C18.2394 22.7087 22.7165 18.2315 22.7165 12.7087C22.7165 7.18582 18.2394 2.70866 12.7165 2.70866C7.19367 2.70866 2.71652 7.18582 2.71652 12.7087C2.71652 18.2315 7.19367 22.7087 12.7165 22.7087Z",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12.7165 16.7087V12.7087",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12.7165 8.70866H12.7265",strokeLinecap:"round",strokeLinejoin:"round"})]})}function XB(t){return f.jsxs(Oe,{fill:"none",...t,children:[f.jsx("path",{d:"M12.237 22.8758C17.7599 22.8758 22.237 18.3987 22.237 12.8758C22.237 7.35296 17.7599 2.87581 12.237 2.87581C6.71418 2.87581 2.23703 7.35296 2.23703 12.8758C2.23703 18.3987 6.71418 22.8758 12.237 22.8758Z",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M15.237 9.87581L9.23703 15.8758",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M9.23703 9.87581L15.237 15.8758",strokeLinecap:"round",strokeLinejoin:"round"})]})}const JB="_LoaderBars_qlkif_1",ZB="_loader_qlkif_1",eH={LoaderBars:JB,loader:ZB},tH=T.forwardRef(({className:t,...e},n)=>f.jsxs("div",{className:W.join(eH.LoaderBars,t),ref:n,...e,children:[f.jsx("div",{}),f.jsx("div",{}),f.jsx("div",{})]}));tH.displayName="LoaderBars";const nH="_LoaderCounter_1kaup_1",rH="_counter_1kaup_9",iH="_background_1kaup_14",sH="_animation_1kaup_22",to={LoaderCounter:nH,counter:rH,background:iH,animation:sH,"loader-animation":"_loader-animation_1kaup_1"},l2=T.forwardRef(({timer:t,isInversion:e,className:n,...r},i)=>{const[s,o]=T.useState(t/1e3);T.useEffect(()=>{W.setIntervalCounts({callback:()=>o(u=>u-1),delay:1e3,counts:t/1e3})},[]);const a=T.useRef(null);T.useLayoutEffect(()=>{var u;(u=a.current)==null||u.style.setProperty("--loader-counter--animation-duration",`${t}ms`)},[t]);const l=[e?to.inversion:to.normal];return f.jsxs("div",{className:W.join(to.LoaderCounter,n,l),ref:i,...r,children:[f.jsx("div",{className:to.background}),f.jsx("div",{className:to.animation,ref:a}),f.jsx(ae,{component:"p2",className:to.counter,children:s})]})});l2.displayName="LoaderCounter";const oH="_Toast_1acxc_18",aH="_success_1acxc_22",lH="_info_1acxc_27",uH="_error_1acxc_32",cH="_warn_1acxc_37",dH="_oneLine_1acxc_83",hH="_medium_1acxc_86",fH="_large_1acxc_94",pH="_content_1acxc_97",mH="_textContent_1acxc_106",gH="_title_1acxc_116",yH="_message_1acxc_120",vH="_topLeft_1acxc_124",wH="_topCenter_1acxc_128",_H="_topRight_1acxc_132",SH="_bottomLeft_1acxc_146",EH="_bottomCenter_1acxc_150",CH="_bottomRight_1acxc_154",TH="_hideToastAnimation_1acxc_168",Gn={Toast:oH,success:aH,info:lH,error:uH,warn:cH,oneLine:dH,medium:hH,large:fH,content:pH,textContent:mH,title:gH,message:yH,topLeft:vH,"top-animation-show":"_top-animation-show_1acxc_1",topCenter:wH,topRight:_H,bottomLeft:SH,"bottom-animation-show":"_bottom-animation-show_1acxc_1",bottomCenter:EH,bottomRight:CH,hideToastAnimation:TH,"animation-hide":"_animation-hide_1acxc_1"};function kH(t){return t==="alert"?f.jsx(US,{}):t==="info"?f.jsx(YB,{}):t==="success"?f.jsx(QB,{}):t==="error"?f.jsx(XB,{}):t==="warn"?f.jsx(GB,{}):f.jsx(US,{})}const u2=T.forwardRef(({id:t,message:e,title:n="",type:r,size:i="flex",position:s="topRight",oneLine:o,onCloseButtonClick:a,duration:l=3e3,className:u,...c},d)=>{const h=T.useRef(null),{remove:p}=d2(),v=[i&&Gn[i],r&&Gn[r],s&&Gn[s]],m=o&&Gn.oneLine,S=n||r==="alert"&&"Повідомлення!"||r==="info"&&"Інформація!"||r==="success"&&"Успіх!"||r==="error"&&"Помилка!"||r==="warn"&&"Попередження!",y=()=>{var E,k;(E=h.current)==null||E.classList.add(Gn.hideToastAnimation),(k=h.current)==null||k.addEventListener("animationend",I=>{I.target===h.current&&(I.stopPropagation(),p(t))})},g=T.useRef();T.useEffect(()=>(l>0&&(g.current=setTimeout(()=>{y()},l)),()=>{clearTimeout(g.current)}),[]);const{swipeDirection:w}=KB({ref:h,targetDirection:"right"});T.useEffect(()=>{w==="right"&&y()},[w]);const _=E=>{a&&a(E),y()};return f.jsxs("div",{className:W.join(Gn.Toast,u,v),ref:n2([d,h]),...c,children:[f.jsxs("div",{className:Gn.content,children:[f.jsx($n,{children:kH(r)}),f.jsxs("div",{className:W.join(Gn.textContent,m),children:[f.jsx(ae,{component:"h6",className:Gn.title,children:S}),typeof e=="string"?f.jsx(ae,{component:"p1",className:Gn.message,children:e}):e.map(E=>f.jsx(ae,{component:"p1",className:Gn.message,children:E},E))]}),l>0&&f.jsx(l2,{timer:l})]}),f.jsx($n,{size:"small",onClick:_,children:f.jsx(ju,{size:"small"})})]})});u2.displayName="Toast";const IH="_ToastsContainer_1yqsk_46",FS={ToastsContainer:IH,"left-top":"_left-top_1yqsk_61","center-top":"_center-top_1yqsk_64","left-bottom":"_left-bottom_1yqsk_67","center-bottom":"_center-bottom_1yqsk_71","right-bottom":"_right-bottom_1yqsk_75"};function xH({toasts:t,position:e={horizontal:"right",vertical:"top"}}){const n=FS[`${e.horizontal}-${e.vertical}`];return!t||t.length<=0?null:f.jsx(V1,{children:f.jsx(Le,{className:W.join(FS.ToastsContainer,n),children:f.jsx(f.Fragment,{children:t.map(r=>f.jsx(u2,{id:r.id,message:r.message,title:r.title,type:r.type,size:r.size,position:r.position,oneLine:r.oneLine,onCloseButtonClick:r.onCloseButtonClick,duration:r.duration},r.id))})})})}const c2=T.createContext({}),d2=()=>T.useContext(c2);function bH({maxToast:t=1,children:e}){const[n,r]=T.useState([]),[i,s]=T.useState("top-right"),o=u=>{u.position&&u.position!==i&&s(u.position),r(c=>{const d=c.length<t?c:c.slice(1),h={...u,id:W.getRandomNumber(1e8,999999999).toString()};return[...d,h]})},a=u=>{r(c=>c.filter(d=>d.id!==u))},l=T.useMemo(()=>({add:o,remove:a,position:i}),[]);return f.jsxs(c2.Provider,{value:l,children:[e,f.jsx(xH,{toasts:n})]})}function RH(t){return f.jsxs(Oe,{fill:"none",...t,children:[f.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),f.jsx("polyline",{points:"12 19 5 12 12 5"})]})}function AH(t){return f.jsxs(Oe,{fill:"none",...t,children:[f.jsx("polyline",{points:"9 11 12 14 22 4"}),f.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]})}const PH="_Toolbar_k25gw_46",LH="_button_k25gw_59",wc={Toolbar:PH,button:LH};function NH(){const{mode:t,namesList:e,selectedSongsId:n}=Qt(c=>c.songsListReducer),r=Rn(),{actions:i}=Rf,{add:s}=d2(),o=()=>{r(i.setMode("list"))},a=()=>{r(i.resetNamesList()),r(i.resetSelectedSongsId())},l=()=>{r(i.setMode("copy"))},u=async()=>{const c=e.map((h,p)=>`${p+1}. ${h}`),d=c.join(`
`);try{await WB(d)&&s({title:"Скопійовано:",message:c,duration:5e3})}catch{s({type:"error",message:"Не вдалося скопіювати. Напишіть мені в Телеграм!",duration:5e3})}r(i.resetNamesList()),r(i.resetSelectedSongsId())};return f.jsx(br,{className:wc.Toolbar,container:!0,row:!0,children:t==="copy"?f.jsxs(f.Fragment,{children:[f.jsx(Le,{className:wc.button,children:n.length>0?f.jsx(qe,{type:"secondary",onClick:a,children:f.jsx(ju,{})}):f.jsx(qe,{type:"secondary",onClick:o,children:f.jsx(RH,{})})}),f.jsx(Le,{className:wc.button,children:f.jsx(qe,{onClick:u,disabled:e.length<=0,children:`Скопіювати ${e.length} / 10`})})]}):f.jsx(Le,{className:wc.button,children:f.jsx(qe,{type:"secondary",onClick:l,children:f.jsx(AH,{})})})})}const OH="_SongsListPage_1d2lq_46",DH="_container_1d2lq_50",jH="_tools_1d2lq_60",rm={SongsListPage:OH,container:DH,tools:jH};function MH(){const[t,e]=T.useState(0),[n,r]=T.useState(),{error:i,isLoading:s,songsList:o,mode:a,tableGroupLabels:l,lastFetchingDate:u}=Qt(y=>y.songsListReducer),{isPlayerShow:c}=Qt(y=>y.musicPlayerReducer),d=Rn(),{actions:h}=Rf;T.useEffect(()=>{const y=tB();(W.isObjectEmpty(o)||u!==y)&&(d(yl()),d(h.setLastFetchingDate(y)))},[]);const[p,v]=T.useState("");T.useEffect(()=>{if(o.length>0){const y=o[t][1];r(p?y.map(g=>[g[0],g[1].filter(w=>w.value.toLowerCase().includes(p.toLowerCase()))]):y)}},[t,o,p]);const m=y=>{const g=em.indexOf(y);e(g)};if(i)throw Error(i);const S=y=>{v(y)};return f.jsxs(Le,{component:"main",className:rm.SongsListPage,children:[f.jsxs(br,{component:"section",container:!0,className:rm.container,children:[f.jsxs(Le,{className:rm.tools,children:[s&&f.jsx(dB,{}),f.jsx(Zb,{selected:em[t],onDropdownChange:m,options:em}),f.jsx(a2,{placeholder:"Пошук...",onChangeValue:S}),l&&l.length>0&&f.jsx(mB,{charsList:l[t]})]}),n&&a==="list"&&f.jsx(qB,{songsTable:n}),n&&a==="copy"&&f.jsx(MB,{songsTable:n}),f.jsx(CB,{})]}),!s&&n&&!c&&f.jsx(NH,{}),n&&c&&a==="list"&&f.jsx(eB,{})]})}const $H=kN([{path:"/",element:f.jsx(J7,{}),errorElement:f.jsx(cV,{}),children:[{element:f.jsx(fV,{}),index:!0},{element:f.jsx(Cz,{}),path:vt.login},{element:f.jsx(Rz,{}),path:vt.signup},{element:f.jsx(MH,{}),path:vt.songslist},{element:f.jsx(Z7,{}),path:vt.about},{element:f.jsx(eV,{}),path:vt.chordslist}]}]);function UH(){return f.jsx(mN,{router:$H})}var H1="persist:",q1="persist/FLUSH",Af="persist/REHYDRATE",W1="persist/PAUSE",K1="persist/PERSIST",G1="persist/PURGE",Q1="persist/REGISTER",FH=-1;function Wc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wc=function(n){return typeof n}:Wc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Wc(t)}function VS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VS(n,!0).forEach(function(r){zH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zH(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BH(t,e,n,r){r.debug;var i=VH({},n);return t&&Wc(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function HH(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:H1).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(E){return E}:typeof t.serialize=="function"?a=t.serialize:a=qH;var l=t.writeFailHandler||null,u={},c={},d=[],h=null,p=null,v=function(E){Object.keys(E).forEach(function(k){y(k)&&u[k]!==E[k]&&d.indexOf(k)===-1&&d.push(k)}),Object.keys(u).forEach(function(k){E[k]===void 0&&y(k)&&d.indexOf(k)===-1&&u[k]!==void 0&&d.push(k)}),h===null&&(h=setInterval(m,i)),u=E};function m(){if(d.length===0){h&&clearInterval(h),h=null;return}var _=d.shift(),E=r.reduce(function(k,I){return I.in(k,_,u)},u[_]);if(E!==void 0)try{c[_]=a(E)}catch(k){console.error("redux-persist/createPersistoid: error serializing state",k)}else delete c[_];d.length===0&&S()}function S(){Object.keys(c).forEach(function(_){u[_]===void 0&&delete c[_]}),p=o.setItem(s,a(c)).catch(g)}function y(_){return!(n&&n.indexOf(_)===-1&&_!=="_persist"||e&&e.indexOf(_)!==-1)}function g(_){l&&l(_)}var w=function(){for(;d.length!==0;)m();return p||Promise.resolve()};return{update:v,flush:w}}function qH(t){return JSON.stringify(t)}function WH(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:H1).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=KH,r.getItem(n).then(function(s){if(s)try{var o={},a=i(s);return Object.keys(a).forEach(function(l){o[l]=e.reduceRight(function(u,c){return c.out(u,l,a)},i(a[l]))}),o}catch(l){throw l}else return})}function KH(t){return JSON.parse(t)}function GH(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:H1).concat(t.key);return e.removeItem(n,QH)}function QH(t){}function zS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zS(n,!0).forEach(function(r){YH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YH(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XH(t,e){if(t==null)return{};var n=JH(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ZH=5e3;function eq(t,e){var n=t.version!==void 0?t.version:FH;t.debug;var r=t.stateReconciler===void 0?BH:t.stateReconciler,i=t.getStoredState||WH,s=t.timeout!==void 0?t.timeout:ZH,o=null,a=!1,l=!0,u=function(d){return d._persist.rehydrated&&o&&!l&&o.update(d),d};return function(c,d){var h=c||{},p=h._persist,v=XH(h,["_persist"]),m=v;if(d.type===K1){var S=!1,y=function(N,R){S||(d.rehydrate(t.key,N,R),S=!0)};if(s&&setTimeout(function(){!S&&y(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),l=!1,o||(o=HH(t)),p)return Lr({},e(m,d),{_persist:p});if(typeof d.rehydrate!="function"||typeof d.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(t.key),i(t).then(function(I){var N=t.migrate||function(R,D){return Promise.resolve(R)};N(I,n).then(function(R){y(R)},function(R){y(void 0,R)})},function(I){y(void 0,I)}),Lr({},e(m,d),{_persist:{version:n,rehydrated:!1}})}else{if(d.type===G1)return a=!0,d.result(GH(t)),Lr({},e(m,d),{_persist:p});if(d.type===q1)return d.result(o&&o.flush()),Lr({},e(m,d),{_persist:p});if(d.type===W1)l=!0;else if(d.type===Af){if(a)return Lr({},m,{_persist:Lr({},p,{rehydrated:!0})});if(d.key===t.key){var g=e(m,d),w=d.payload,_=r!==!1&&w!==void 0?r(w,c,g,t):g,E=Lr({},_,{_persist:Lr({},p,{rehydrated:!0})});return u(E)}}}if(!p)return e(c,d);var k=e(m,d);return k===m?c:u(Lr({},k,{_persist:p}))}}function BS(t){return rq(t)||nq(t)||tq()}function tq(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function nq(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function rq(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function HS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HS(n,!0).forEach(function(r){iq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iq(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h2={registry:[],bootstrapped:!1},sq=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h2,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Q1:return Gg({},e,{registry:[].concat(BS(e.registry),[n.key])});case Af:var r=e.registry.indexOf(n.key),i=BS(e.registry);return i.splice(r,1),Gg({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function oq(t,e,n){var r=n||!1,i=x1(sq,h2,e&&e.enhancer?e.enhancer:void 0),s=function(u){i.dispatch({type:Q1,key:u})},o=function(u,c,d){var h={type:Af,payload:c,err:d,key:u};t.dispatch(h),i.dispatch(h),r&&a.getState().bootstrapped&&(r(),r=!1)},a=Gg({},i,{purge:function(){var u=[];return t.dispatch({type:G1,result:function(d){u.push(d)}}),Promise.all(u)},flush:function(){var u=[];return t.dispatch({type:q1,result:function(d){u.push(d)}}),Promise.all(u)},pause:function(){t.dispatch({type:W1})},persist:function(){t.dispatch({type:K1,register:s,rehydrate:o})}});return e&&e.manualPersist||a.persist(),a}var Y1={},X1={};X1.__esModule=!0;X1.default=uq;function Kc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kc=function(n){return typeof n}:Kc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Kc(t)}function im(){}var aq={getItem:im,setItem:im,removeItem:im};function lq(t){if((typeof self>"u"?"undefined":Kc(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function uq(t){var e="".concat(t,"Storage");return lq(e)?self[e]:aq}Y1.__esModule=!0;Y1.default=hq;var cq=dq(X1);function dq(t){return t&&t.__esModule?t:{default:t}}function hq(t){var e=(0,cq.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var f2=void 0,fq=pq(Y1);function pq(t){return t&&t.__esModule?t:{default:t}}var mq=(0,fq.default)("local");f2=mq;const gq=jb({appReducer:zb.reducer,songsListReducer:Rf.reducer,userReducer:Du.reducer,musicPlayerReducer:_a.reducer}),yq={key:$l.name,storage:f2},vq=eq(yq,gq),p2=IF({reducer:vq,middleware:t=>t({serializableCheck:{ignoredActions:[q1,Af,W1,K1,G1,Q1]}})}),wq=oq(p2);function _q(){return f.jsx(QP,{store:p2,children:f.jsx(bH,{maxToast:5,children:f.jsx(hT,{loading:null,persistor:wq,children:f.jsx(UH,{})})})})}const Sq=document.getElementById("root"),Eq=tT(Sq);Eq.render(f.jsx(T.StrictMode,{children:f.jsx(_q,{})}));
