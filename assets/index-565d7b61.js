function b2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const R2="AKfycbxGD1Lys79Ixt4BQ5mfH3ylX4_ZvtSGUFHltMILILPBWtcdPoSlI3FD5Ir8OcwtBA",A2=`https://script.google.com/macros/s/${R2}/exec`;function P2(t,e){console.error("analyticsAPI",`${t}:`,e)}function $f(...t){console.log("analyticsAPI",...t)}async function L2({spreadsheetId:t,sheetName:e,sheetIndex:n,titlesParams:r,indexesParams:i,type:s,col:o,row:a,value:l}){const u=new URLSearchParams;return t&&u.append("spreadsheetId",t),e&&u.append("sheetName",e),n&&u.append("sheetIndex",n.toString()),r&&u.append("titlesParams",JSON.stringify(r)),i&&u.append("indexesParams",JSON.stringify(i)),s&&u.append("type",s),o&&u.append("col",o.toString()),a&&u.append("row",a.toString()),l&&u.append("value",l.toString()),fetch(`${A2}?${u}`,{method:"POST"}).then(c=>c.text()).then(c=>JSON.parse(c)).then(c=>(c.status!=="success"&&($f("doPost",c.status),$f("doPost",c.info),$f("doPost",c.error)),c)).catch(c=>P2("doPost",c))}async function N2({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){return L2({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED"}).then(i=>i)}const O2={postTitledColumnsDataByTitles:N2};async function D2(){try{return{ip:(await(await fetch("https://api.ipify.org?format=json")).json()).ip,status:"success"}}catch(t){return{error:t,status:"error"}}}const j2={fetchIP:D2},YS={appsscript:O2,ipify:j2};function M2(){const t=navigator.userAgent;let e,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE",version:e[1]||""}):n[1]==="Chrome"&&(e=t.match(/\bOPR|Edge\/(\d+)/),e!=null)?{name:"Opera",version:e[1]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],(e=t.match(/version\/(\d+)/i))!=null&&n.splice(1,1,e[1]),{name:n[0],version:n[1]})}function $2(){return/Android/i.test(navigator.userAgent)?"Android":/webOS/i.test(navigator.userAgent)?"webOS":/iPhone/i.test(navigator.userAgent)?"iPhone":/iPad/i.test(navigator.userAgent)?"iPad":/iPod/i.test(navigator.userAgent)?"iPod":/BlackBerry/i.test(navigator.userAgent)?"BlackBerry":/IEMobile/i.test(navigator.userAgent)?"IEMobile":/Opera Mini/i.test(navigator.userAgent)?"Opera Mini":null}async function U2(){const t=await YS.ipify.fetchIP();return{ip:t.status==="success"?t.ip:"",time:new Date().toString(),timezone:new Date().getTimezoneOffset()/60,language:window.navigator.language,languages:[...window.navigator.languages],mobile:$2()||"",page:window.location.pathname,referrer:document.referrer,browser:M2(),screenWidth:window.screen.width,screenHeight:window.screen.height,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight}}const F2="156bmyJELUA_4HS995nK2KNl4NAgBkxh-OQrQT2jEjO4";async function V2(){const t=await U2(),{ip:e,page:n,time:r,language:i,languages:s,browser:o,mobile:a,screenHeight:l,screenWidth:u,viewportHeight:c,viewportWidth:d}=t;await YS.appsscript.postTitledColumnsDataByTitles({spreadsheetId:F2,titlesParams:{ip:e,page:n,time:r,language:i,languages:s.join(" | "),browser:o.name,version:o.version,mobile:a,screenHeight:l,screenWidth:u,viewportHeight:c,viewportWidth:d}})}V2();var z2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function XS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var h={},B2={get exports(){return h},set exports(t){h=t}},eh={},T={},H2={get exports(){return T},set exports(t){T=t}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var au=Symbol.for("react.element"),q2=Symbol.for("react.portal"),W2=Symbol.for("react.fragment"),K2=Symbol.for("react.strict_mode"),G2=Symbol.for("react.profiler"),Q2=Symbol.for("react.provider"),Y2=Symbol.for("react.context"),X2=Symbol.for("react.forward_ref"),J2=Symbol.for("react.suspense"),Z2=Symbol.for("react.memo"),eR=Symbol.for("react.lazy"),r0=Symbol.iterator;function tR(t){return t===null||typeof t!="object"?null:(t=r0&&t[r0]||t["@@iterator"],typeof t=="function"?t:null)}var JS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZS=Object.assign,eE={};function ia(t,e,n){this.props=t,this.context=e,this.refs=eE,this.updater=n||JS}ia.prototype.isReactComponent={};ia.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ia.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tE(){}tE.prototype=ia.prototype;function ty(t,e,n){this.props=t,this.context=e,this.refs=eE,this.updater=n||JS}var ny=ty.prototype=new tE;ny.constructor=ty;ZS(ny,ia.prototype);ny.isPureReactComponent=!0;var i0=Array.isArray,nE=Object.prototype.hasOwnProperty,ry={current:null},rE={key:!0,ref:!0,__self:!0,__source:!0};function iE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)nE.call(e,r)&&!rE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:au,type:t,key:s,ref:o,props:i,_owner:ry.current}}function nR(t,e){return{$$typeof:au,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function iy(t){return typeof t=="object"&&t!==null&&t.$$typeof===au}function rR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var s0=/\/+/g;function Uf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rR(""+t.key):e.toString(36)}function Sc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case au:case q2:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Uf(o,0):r,i0(i)?(n="",t!=null&&(n=t.replace(s0,"$&/")+"/"),Sc(i,e,n,"",function(u){return u})):i!=null&&(iy(i)&&(i=nR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(s0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",i0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Uf(s,a);o+=Sc(s,e,n,l,i)}else if(l=tR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Uf(s,a++),o+=Sc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qu(t,e,n){if(t==null)return t;var r=[],i=0;return Sc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function iR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var an={current:null},Ec={transition:null},sR={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:Ec,ReactCurrentOwner:ry};Te.Children={map:qu,forEach:function(t,e,n){qu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qu(t,function(){e++}),e},toArray:function(t){return qu(t,function(e){return e})||[]},only:function(t){if(!iy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=ia;Te.Fragment=W2;Te.Profiler=G2;Te.PureComponent=ty;Te.StrictMode=K2;Te.Suspense=J2;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sR;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ZS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ry.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)nE.call(e,l)&&!rE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:au,type:t.type,key:i,ref:s,props:r,_owner:o}};Te.createContext=function(t){return t={$$typeof:Y2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Q2,_context:t},t.Consumer=t};Te.createElement=iE;Te.createFactory=function(t){var e=iE.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:X2,render:t}};Te.isValidElement=iy;Te.lazy=function(t){return{$$typeof:eR,_payload:{_status:-1,_result:t},_init:iR}};Te.memo=function(t,e){return{$$typeof:Z2,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=Ec.transition;Ec.transition={};try{t()}finally{Ec.transition=e}};Te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Te.useCallback=function(t,e){return an.current.useCallback(t,e)};Te.useContext=function(t){return an.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return an.current.useDeferredValue(t)};Te.useEffect=function(t,e){return an.current.useEffect(t,e)};Te.useId=function(){return an.current.useId()};Te.useImperativeHandle=function(t,e,n){return an.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return an.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return an.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return an.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return an.current.useReducer(t,e,n)};Te.useRef=function(t){return an.current.useRef(t)};Te.useState=function(t){return an.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return an.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return an.current.useTransition()};Te.version="18.2.0";(function(t){t.exports=Te})(H2);const Zn=XS(T),hm=b2({__proto__:null,default:Zn},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oR=T,aR=Symbol.for("react.element"),lR=Symbol.for("react.fragment"),uR=Object.prototype.hasOwnProperty,cR=oR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dR={key:!0,ref:!0,__self:!0,__source:!0};function sE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)uR.call(e,r)&&!dR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:aR,type:t,key:s,ref:o,props:i,_owner:cR.current}}eh.Fragment=lR;eh.jsx=sE;eh.jsxs=sE;(function(t){t.exports=eh})(B2);var _l={},hR={get exports(){return _l},set exports(t){_l=t}},In={},fm={},fR={get exports(){return fm},set exports(t){fm=t}},oE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,K){var re=q.length;q.push(K);e:for(;0<re;){var Ae=re-1>>>1,Ue=q[Ae];if(0<i(Ue,K))q[Ae]=K,q[re]=Ue,re=Ae;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var K=q[0],re=q.pop();if(re!==K){q[0]=re;e:for(var Ae=0,Ue=q.length,pt=Ue>>>1;Ae<pt;){var Ct=2*(Ae+1)-1,Wn=q[Ct],Be=Ct+1,mt=q[Be];if(0>i(Wn,re))Be<Ue&&0>i(mt,Wn)?(q[Ae]=mt,q[Be]=re,Ae=Be):(q[Ae]=Wn,q[Ct]=re,Ae=Ct);else if(Be<Ue&&0>i(mt,re))q[Ae]=mt,q[Be]=re,Ae=Be;else break e}}return K}function i(q,K){var re=q.sortIndex-K.sortIndex;return re!==0?re:q.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,v=!1,m=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(q){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=q)r(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(u)}}function _(q){if(m=!1,w(q),!v)if(n(l)!==null)v=!0,$e(E);else{var K=n(u);K!==null&&lt(_,K.startTime-q)}}function E(q,K){v=!1,m&&(m=!1,y(N),N=-1),p=!0;var re=f;try{for(w(K),d=n(l);d!==null&&(!(d.expirationTime>K)||q&&!W());){var Ae=d.callback;if(typeof Ae=="function"){d.callback=null,f=d.priorityLevel;var Ue=Ae(d.expirationTime<=K);K=t.unstable_now(),typeof Ue=="function"?d.callback=Ue:d===n(l)&&r(l),w(K)}else r(l);d=n(l)}if(d!==null)var pt=!0;else{var Ct=n(u);Ct!==null&&lt(_,Ct.startTime-K),pt=!1}return pt}finally{d=null,f=re,p=!1}}var k=!1,I=null,N=-1,R=5,D=-1;function W(){return!(t.unstable_now()-D<R)}function $(){if(I!==null){var q=t.unstable_now();D=q;var K=!0;try{K=I(!0,q)}finally{K?U():(k=!1,I=null)}}else k=!1}var U;if(typeof g=="function")U=function(){g($)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Ie=le.port2;le.port1.onmessage=$,U=function(){Ie.postMessage(null)}}else U=function(){S($,0)};function $e(q){I=q,k||(k=!0,U())}function lt(q,K){N=S(function(){q(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,$e(E))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var re=f;f=K;try{return q()}finally{f=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,K){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var re=f;f=q;try{return K()}finally{f=re}},t.unstable_scheduleCallback=function(q,K,re){var Ae=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ae+re:Ae):re=Ae,q){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=re+Ue,q={id:c++,callback:K,priorityLevel:q,startTime:re,expirationTime:Ue,sortIndex:-1},re>Ae?(q.sortIndex=re,e(u,q),n(l)===null&&q===n(u)&&(m?(y(N),N=-1):m=!0,lt(_,re-Ae))):(q.sortIndex=Ue,e(l,q),v||p||(v=!0,$e(E))),q},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(q){var K=f;return function(){var re=f;f=K;try{return q.apply(this,arguments)}finally{f=re}}}})(oE);(function(t){t.exports=oE})(fR);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE=T,Cn=fm;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lE=new Set,Sl={};function Fs(t,e){Uo(t,e),Uo(t+"Capture",e)}function Uo(t,e){for(Sl[t]=e,t=0;t<e.length;t++)lE.add(e[t])}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pm=Object.prototype.hasOwnProperty,pR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,o0={},a0={};function mR(t){return pm.call(a0,t)?!0:pm.call(o0,t)?!1:pR.test(t)?a0[t]=!0:(o0[t]=!0,!1)}function gR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yR(t,e,n,r){if(e===null||typeof e>"u"||gR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ln(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var sy=/[\-:]([a-z])/g;function oy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sy,oy);Dt[e]=new ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sy,oy);Dt[e]=new ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sy,oy);Dt[e]=new ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new ln(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function ay(t,e,n,r){var i=Dt.hasOwnProperty(e)?Dt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yR(e,n,i,r)&&(n=null),r||i===null?mR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var oi=aE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wu=Symbol.for("react.element"),oo=Symbol.for("react.portal"),ao=Symbol.for("react.fragment"),ly=Symbol.for("react.strict_mode"),mm=Symbol.for("react.profiler"),uE=Symbol.for("react.provider"),cE=Symbol.for("react.context"),uy=Symbol.for("react.forward_ref"),gm=Symbol.for("react.suspense"),ym=Symbol.for("react.suspense_list"),cy=Symbol.for("react.memo"),fi=Symbol.for("react.lazy"),dE=Symbol.for("react.offscreen"),l0=Symbol.iterator;function ka(t){return t===null||typeof t!="object"?null:(t=l0&&t[l0]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,Ff;function za(t){if(Ff===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ff=e&&e[1]||""}return`
`+Ff+t}var Vf=!1;function zf(t,e){if(!t||Vf)return"";Vf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Vf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?za(t):""}function vR(t){switch(t.tag){case 5:return za(t.type);case 16:return za("Lazy");case 13:return za("Suspense");case 19:return za("SuspenseList");case 0:case 2:case 15:return t=zf(t.type,!1),t;case 11:return t=zf(t.type.render,!1),t;case 1:return t=zf(t.type,!0),t;default:return""}}function vm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ao:return"Fragment";case oo:return"Portal";case mm:return"Profiler";case ly:return"StrictMode";case gm:return"Suspense";case ym:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cE:return(t.displayName||"Context")+".Consumer";case uE:return(t._context.displayName||"Context")+".Provider";case uy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cy:return e=t.displayName||null,e!==null?e:vm(t.type)||"Memo";case fi:e=t._payload,t=t._init;try{return vm(t(e))}catch{}}return null}function wR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vm(e);case 8:return e===ly?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _R(t){var e=hE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ku(t){t._valueTracker||(t._valueTracker=_R(t))}function fE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=hE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Qc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wm(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function u0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$i(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pE(t,e){e=e.checked,e!=null&&ay(t,"checked",e,!1)}function _m(t,e){pE(t,e);var n=$i(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sm(t,e.type,$i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function c0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sm(t,e,n){(e!=="number"||Qc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ba=Array.isArray;function To(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$i(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Em(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function d0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Ba(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$i(n)}}function mE(t,e){var n=$i(e.value),r=$i(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function h0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gu,yE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gu=Gu||document.createElement("div"),Gu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function El(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Za={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SR=["Webkit","ms","Moz","O"];Object.keys(Za).forEach(function(t){SR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Za[e]=Za[t]})});function vE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Za.hasOwnProperty(t)&&Za[t]?(""+e).trim():e+"px"}function wE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ER=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tm(t,e){if(e){if(ER[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function km(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Im=null;function dy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xm=null,ko=null,Io=null;function f0(t){if(t=cu(t)){if(typeof xm!="function")throw Error(z(280));var e=t.stateNode;e&&(e=sh(e),xm(t.stateNode,t.type,e))}}function _E(t){ko?Io?Io.push(t):Io=[t]:ko=t}function SE(){if(ko){var t=ko,e=Io;if(Io=ko=null,f0(t),e)for(t=0;t<e.length;t++)f0(e[t])}}function EE(t,e){return t(e)}function CE(){}var Bf=!1;function TE(t,e,n){if(Bf)return t(e,n);Bf=!0;try{return EE(t,e,n)}finally{Bf=!1,(ko!==null||Io!==null)&&(CE(),SE())}}function Cl(t,e){var n=t.stateNode;if(n===null)return null;var r=sh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var bm=!1;if(Qr)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){bm=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{bm=!1}function CR(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var el=!1,Yc=null,Xc=!1,Rm=null,TR={onError:function(t){el=!0,Yc=t}};function kR(t,e,n,r,i,s,o,a,l){el=!1,Yc=null,CR.apply(TR,arguments)}function IR(t,e,n,r,i,s,o,a,l){if(kR.apply(this,arguments),el){if(el){var u=Yc;el=!1,Yc=null}else throw Error(z(198));Xc||(Xc=!0,Rm=u)}}function Vs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function kE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function p0(t){if(Vs(t)!==t)throw Error(z(188))}function xR(t){var e=t.alternate;if(!e){if(e=Vs(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return p0(i),t;if(s===r)return p0(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function IE(t){return t=xR(t),t!==null?xE(t):null}function xE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xE(t);if(e!==null)return e;t=t.sibling}return null}var bE=Cn.unstable_scheduleCallback,m0=Cn.unstable_cancelCallback,bR=Cn.unstable_shouldYield,RR=Cn.unstable_requestPaint,at=Cn.unstable_now,AR=Cn.unstable_getCurrentPriorityLevel,hy=Cn.unstable_ImmediatePriority,RE=Cn.unstable_UserBlockingPriority,Jc=Cn.unstable_NormalPriority,PR=Cn.unstable_LowPriority,AE=Cn.unstable_IdlePriority,th=null,wr=null;function LR(t){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(th,t,void 0,(t.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:DR,NR=Math.log,OR=Math.LN2;function DR(t){return t>>>=0,t===0?32:31-(NR(t)/OR|0)|0}var Qu=64,Yu=4194304;function Ha(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ha(a):(s&=o,s!==0&&(r=Ha(s)))}else o=n&~i,o!==0?r=Ha(o):s!==0&&(r=Ha(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-nr(e),i=1<<n,r|=t[n],e&=~i;return r}function jR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-nr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=jR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Am(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function PE(){var t=Qu;return Qu<<=1,!(Qu&4194240)&&(Qu=64),t}function Hf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function lu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nr(e),t[e]=n}function $R(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-nr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function fy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-nr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var De=0;function LE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var NE,py,OE,DE,jE,Pm=!1,Xu=[],Ti=null,ki=null,Ii=null,Tl=new Map,kl=new Map,mi=[],UR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function g0(t,e){switch(t){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Ii=null;break;case"pointerover":case"pointerout":Tl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(e.pointerId)}}function xa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=cu(e),e!==null&&py(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function FR(t,e,n,r,i){switch(e){case"focusin":return Ti=xa(Ti,t,e,n,r,i),!0;case"dragenter":return ki=xa(ki,t,e,n,r,i),!0;case"mouseover":return Ii=xa(Ii,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Tl.set(s,xa(Tl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,kl.set(s,xa(kl.get(s)||null,t,e,n,r,i)),!0}return!1}function ME(t){var e=ls(t.target);if(e!==null){var n=Vs(e);if(n!==null){if(e=n.tag,e===13){if(e=kE(n),e!==null){t.blockedOn=e,jE(t.priority,function(){OE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Lm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Im=r,n.target.dispatchEvent(r),Im=null}else return e=cu(n),e!==null&&py(e),t.blockedOn=n,!1;e.shift()}return!0}function y0(t,e,n){Cc(t)&&n.delete(e)}function VR(){Pm=!1,Ti!==null&&Cc(Ti)&&(Ti=null),ki!==null&&Cc(ki)&&(ki=null),Ii!==null&&Cc(Ii)&&(Ii=null),Tl.forEach(y0),kl.forEach(y0)}function ba(t,e){t.blockedOn===e&&(t.blockedOn=null,Pm||(Pm=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,VR)))}function Il(t){function e(i){return ba(i,t)}if(0<Xu.length){ba(Xu[0],t);for(var n=1;n<Xu.length;n++){var r=Xu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ti!==null&&ba(Ti,t),ki!==null&&ba(ki,t),Ii!==null&&ba(Ii,t),Tl.forEach(e),kl.forEach(e),n=0;n<mi.length;n++)r=mi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<mi.length&&(n=mi[0],n.blockedOn===null);)ME(n),n.blockedOn===null&&mi.shift()}var xo=oi.ReactCurrentBatchConfig,ed=!0;function zR(t,e,n,r){var i=De,s=xo.transition;xo.transition=null;try{De=1,my(t,e,n,r)}finally{De=i,xo.transition=s}}function BR(t,e,n,r){var i=De,s=xo.transition;xo.transition=null;try{De=4,my(t,e,n,r)}finally{De=i,xo.transition=s}}function my(t,e,n,r){if(ed){var i=Lm(t,e,n,r);if(i===null)ep(t,e,r,td,n),g0(t,r);else if(FR(i,t,e,n,r))r.stopPropagation();else if(g0(t,r),e&4&&-1<UR.indexOf(t)){for(;i!==null;){var s=cu(i);if(s!==null&&NE(s),s=Lm(t,e,n,r),s===null&&ep(t,e,r,td,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ep(t,e,r,null,n)}}var td=null;function Lm(t,e,n,r){if(td=null,t=dy(r),t=ls(t),t!==null)if(e=Vs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=kE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return td=t,null}function $E(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AR()){case hy:return 1;case RE:return 4;case Jc:case PR:return 16;case AE:return 536870912;default:return 16}default:return 16}}var Ei=null,gy=null,Tc=null;function UE(){if(Tc)return Tc;var t,e=gy,n=e.length,r,i="value"in Ei?Ei.value:Ei.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Tc=i.slice(t,1<r?1-r:void 0)}function kc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ju(){return!0}function v0(){return!1}function xn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ju:v0,this.isPropagationStopped=v0,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ju)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ju)},persist:function(){},isPersistent:Ju}),e}var sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yy=xn(sa),uu=tt({},sa,{view:0,detail:0}),HR=xn(uu),qf,Wf,Ra,nh=tt({},uu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ra&&(Ra&&t.type==="mousemove"?(qf=t.screenX-Ra.screenX,Wf=t.screenY-Ra.screenY):Wf=qf=0,Ra=t),qf)},movementY:function(t){return"movementY"in t?t.movementY:Wf}}),w0=xn(nh),qR=tt({},nh,{dataTransfer:0}),WR=xn(qR),KR=tt({},uu,{relatedTarget:0}),Kf=xn(KR),GR=tt({},sa,{animationName:0,elapsedTime:0,pseudoElement:0}),QR=xn(GR),YR=tt({},sa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XR=xn(YR),JR=tt({},sa,{data:0}),_0=xn(JR),ZR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tA[t])?!!e[t]:!1}function vy(){return nA}var rA=tt({},uu,{key:function(t){if(t.key){var e=ZR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=kc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vy,charCode:function(t){return t.type==="keypress"?kc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iA=xn(rA),sA=tt({},nh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S0=xn(sA),oA=tt({},uu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vy}),aA=xn(oA),lA=tt({},sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),uA=xn(lA),cA=tt({},nh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dA=xn(cA),hA=[9,13,27,32],wy=Qr&&"CompositionEvent"in window,tl=null;Qr&&"documentMode"in document&&(tl=document.documentMode);var fA=Qr&&"TextEvent"in window&&!tl,FE=Qr&&(!wy||tl&&8<tl&&11>=tl),E0=String.fromCharCode(32),C0=!1;function VE(t,e){switch(t){case"keyup":return hA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lo=!1;function pA(t,e){switch(t){case"compositionend":return zE(e);case"keypress":return e.which!==32?null:(C0=!0,E0);case"textInput":return t=e.data,t===E0&&C0?null:t;default:return null}}function mA(t,e){if(lo)return t==="compositionend"||!wy&&VE(t,e)?(t=UE(),Tc=gy=Ei=null,lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FE&&e.locale!=="ko"?null:e.data;default:return null}}var gA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gA[t.type]:e==="textarea"}function BE(t,e,n,r){_E(r),e=nd(e,"onChange"),0<e.length&&(n=new yy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var nl=null,xl=null;function yA(t){eC(t,0)}function rh(t){var e=ho(t);if(fE(e))return t}function vA(t,e){if(t==="change")return e}var HE=!1;if(Qr){var Gf;if(Qr){var Qf="oninput"in document;if(!Qf){var k0=document.createElement("div");k0.setAttribute("oninput","return;"),Qf=typeof k0.oninput=="function"}Gf=Qf}else Gf=!1;HE=Gf&&(!document.documentMode||9<document.documentMode)}function I0(){nl&&(nl.detachEvent("onpropertychange",qE),xl=nl=null)}function qE(t){if(t.propertyName==="value"&&rh(xl)){var e=[];BE(e,xl,t,dy(t)),TE(yA,e)}}function wA(t,e,n){t==="focusin"?(I0(),nl=e,xl=n,nl.attachEvent("onpropertychange",qE)):t==="focusout"&&I0()}function _A(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rh(xl)}function SA(t,e){if(t==="click")return rh(e)}function EA(t,e){if(t==="input"||t==="change")return rh(e)}function CA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sr=typeof Object.is=="function"?Object.is:CA;function bl(t,e){if(sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pm.call(e,i)||!sr(t[i],e[i]))return!1}return!0}function x0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function b0(t,e){var n=x0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=x0(n)}}function WE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?WE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function KE(){for(var t=window,e=Qc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Qc(t.document)}return e}function _y(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TA(t){var e=KE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&WE(n.ownerDocument.documentElement,n)){if(r!==null&&_y(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=b0(n,s);var o=b0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kA=Qr&&"documentMode"in document&&11>=document.documentMode,uo=null,Nm=null,rl=null,Om=!1;function R0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Om||uo==null||uo!==Qc(r)||(r=uo,"selectionStart"in r&&_y(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rl&&bl(rl,r)||(rl=r,r=nd(Nm,"onSelect"),0<r.length&&(e=new yy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=uo)))}function Zu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var co={animationend:Zu("Animation","AnimationEnd"),animationiteration:Zu("Animation","AnimationIteration"),animationstart:Zu("Animation","AnimationStart"),transitionend:Zu("Transition","TransitionEnd")},Yf={},GE={};Qr&&(GE=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function ih(t){if(Yf[t])return Yf[t];if(!co[t])return t;var e=co[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in GE)return Yf[t]=e[n];return t}var QE=ih("animationend"),YE=ih("animationiteration"),XE=ih("animationstart"),JE=ih("transitionend"),ZE=new Map,A0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(t,e){ZE.set(t,e),Fs(e,[t])}for(var Xf=0;Xf<A0.length;Xf++){var Jf=A0[Xf],IA=Jf.toLowerCase(),xA=Jf[0].toUpperCase()+Jf.slice(1);qi(IA,"on"+xA)}qi(QE,"onAnimationEnd");qi(YE,"onAnimationIteration");qi(XE,"onAnimationStart");qi("dblclick","onDoubleClick");qi("focusin","onFocus");qi("focusout","onBlur");qi(JE,"onTransitionEnd");Uo("onMouseEnter",["mouseout","mouseover"]);Uo("onMouseLeave",["mouseout","mouseover"]);Uo("onPointerEnter",["pointerout","pointerover"]);Uo("onPointerLeave",["pointerout","pointerover"]);Fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bA=new Set("cancel close invalid load scroll toggle".split(" ").concat(qa));function P0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,IR(r,e,void 0,t),t.currentTarget=null}function eC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;P0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;P0(i,a,u),s=l}}}if(Xc)throw t=Rm,Xc=!1,Rm=null,t}function He(t,e){var n=e[Um];n===void 0&&(n=e[Um]=new Set);var r=t+"__bubble";n.has(r)||(tC(e,t,2,!1),n.add(r))}function Zf(t,e,n){var r=0;e&&(r|=4),tC(n,t,r,e)}var ec="_reactListening"+Math.random().toString(36).slice(2);function Rl(t){if(!t[ec]){t[ec]=!0,lE.forEach(function(n){n!=="selectionchange"&&(bA.has(n)||Zf(n,!1,t),Zf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ec]||(e[ec]=!0,Zf("selectionchange",!1,e))}}function tC(t,e,n,r){switch($E(e)){case 1:var i=zR;break;case 4:i=BR;break;default:i=my}n=i.bind(null,e,n,t),i=void 0,!bm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ep(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ls(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}TE(function(){var u=s,c=dy(n),d=[];e:{var f=ZE.get(t);if(f!==void 0){var p=yy,v=t;switch(t){case"keypress":if(kc(n)===0)break e;case"keydown":case"keyup":p=iA;break;case"focusin":v="focus",p=Kf;break;case"focusout":v="blur",p=Kf;break;case"beforeblur":case"afterblur":p=Kf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=w0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=WR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=aA;break;case QE:case YE:case XE:p=QR;break;case JE:p=uA;break;case"scroll":p=HR;break;case"wheel":p=dA;break;case"copy":case"cut":case"paste":p=XR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=S0}var m=(e&4)!==0,S=!m&&t==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var g=u,w;g!==null;){w=g;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,y!==null&&(_=Cl(g,y),_!=null&&m.push(Al(g,_,w)))),S)break;g=g.return}0<m.length&&(f=new p(f,v,null,n,c),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Im&&(v=n.relatedTarget||n.fromElement)&&(ls(v)||v[Yr]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?ls(v):null,v!==null&&(S=Vs(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(m=w0,_="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(m=S0,_="onPointerLeave",y="onPointerEnter",g="pointer"),S=p==null?f:ho(p),w=v==null?f:ho(v),f=new m(_,g+"leave",p,n,c),f.target=S,f.relatedTarget=w,_=null,ls(c)===u&&(m=new m(y,g+"enter",v,n,c),m.target=w,m.relatedTarget=S,_=m),S=_,p&&v)t:{for(m=p,y=v,g=0,w=m;w;w=Js(w))g++;for(w=0,_=y;_;_=Js(_))w++;for(;0<g-w;)m=Js(m),g--;for(;0<w-g;)y=Js(y),w--;for(;g--;){if(m===y||y!==null&&m===y.alternate)break t;m=Js(m),y=Js(y)}m=null}else m=null;p!==null&&L0(d,f,p,m,!1),v!==null&&S!==null&&L0(d,S,v,m,!0)}}e:{if(f=u?ho(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=vA;else if(T0(f))if(HE)E=EA;else{E=_A;var k=wA}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=SA);if(E&&(E=E(t,u))){BE(d,E,n,c);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Sm(f,"number",f.value)}switch(k=u?ho(u):window,t){case"focusin":(T0(k)||k.contentEditable==="true")&&(uo=k,Nm=u,rl=null);break;case"focusout":rl=Nm=uo=null;break;case"mousedown":Om=!0;break;case"contextmenu":case"mouseup":case"dragend":Om=!1,R0(d,n,c);break;case"selectionchange":if(kA)break;case"keydown":case"keyup":R0(d,n,c)}var I;if(wy)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else lo?VE(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(FE&&n.locale!=="ko"&&(lo||N!=="onCompositionStart"?N==="onCompositionEnd"&&lo&&(I=UE()):(Ei=c,gy="value"in Ei?Ei.value:Ei.textContent,lo=!0)),k=nd(u,N),0<k.length&&(N=new _0(N,t,null,n,c),d.push({event:N,listeners:k}),I?N.data=I:(I=zE(n),I!==null&&(N.data=I)))),(I=fA?pA(t,n):mA(t,n))&&(u=nd(u,"onBeforeInput"),0<u.length&&(c=new _0("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=I))}eC(d,e)})}function Al(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Cl(t,n),s!=null&&r.unshift(Al(t,s,i)),s=Cl(t,e),s!=null&&r.push(Al(t,s,i))),t=t.return}return r}function Js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function L0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Cl(n,s),l!=null&&o.unshift(Al(n,l,a))):i||(l=Cl(n,s),l!=null&&o.push(Al(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var RA=/\r\n?/g,AA=/\u0000|\uFFFD/g;function N0(t){return(typeof t=="string"?t:""+t).replace(RA,`
`).replace(AA,"")}function tc(t,e,n){if(e=N0(e),N0(t)!==e&&n)throw Error(z(425))}function rd(){}var Dm=null,jm=null;function Mm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $m=typeof setTimeout=="function"?setTimeout:void 0,PA=typeof clearTimeout=="function"?clearTimeout:void 0,O0=typeof Promise=="function"?Promise:void 0,LA=typeof queueMicrotask=="function"?queueMicrotask:typeof O0<"u"?function(t){return O0.resolve(null).then(t).catch(NA)}:$m;function NA(t){setTimeout(function(){throw t})}function tp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Il(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Il(e)}function xi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function D0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var oa=Math.random().toString(36).slice(2),pr="__reactFiber$"+oa,Pl="__reactProps$"+oa,Yr="__reactContainer$"+oa,Um="__reactEvents$"+oa,OA="__reactListeners$"+oa,DA="__reactHandles$"+oa;function ls(t){var e=t[pr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yr]||n[pr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=D0(t);t!==null;){if(n=t[pr])return n;t=D0(t)}return e}t=n,n=t.parentNode}return null}function cu(t){return t=t[pr]||t[Yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ho(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function sh(t){return t[Pl]||null}var Fm=[],fo=-1;function Wi(t){return{current:t}}function qe(t){0>fo||(t.current=Fm[fo],Fm[fo]=null,fo--)}function Fe(t,e){fo++,Fm[fo]=t.current,t.current=e}var Ui={},Yt=Wi(Ui),fn=Wi(!1),Is=Ui;function Fo(t,e){var n=t.type.contextTypes;if(!n)return Ui;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pn(t){return t=t.childContextTypes,t!=null}function id(){qe(fn),qe(Yt)}function j0(t,e,n){if(Yt.current!==Ui)throw Error(z(168));Fe(Yt,e),Fe(fn,n)}function nC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,wR(t)||"Unknown",i));return tt({},n,r)}function sd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ui,Is=Yt.current,Fe(Yt,t),Fe(fn,fn.current),!0}function M0(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=nC(t,e,Is),r.__reactInternalMemoizedMergedChildContext=t,qe(fn),qe(Yt),Fe(Yt,t)):qe(fn),Fe(fn,n)}var jr=null,oh=!1,np=!1;function rC(t){jr===null?jr=[t]:jr.push(t)}function jA(t){oh=!0,rC(t)}function Ki(){if(!np&&jr!==null){np=!0;var t=0,e=De;try{var n=jr;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}jr=null,oh=!1}catch(i){throw jr!==null&&(jr=jr.slice(t+1)),bE(hy,Ki),i}finally{De=e,np=!1}}return null}var po=[],mo=0,od=null,ad=0,Nn=[],On=0,xs=null,$r=1,Ur="";function rs(t,e){po[mo++]=ad,po[mo++]=od,od=t,ad=e}function iC(t,e,n){Nn[On++]=$r,Nn[On++]=Ur,Nn[On++]=xs,xs=t;var r=$r;t=Ur;var i=32-nr(r)-1;r&=~(1<<i),n+=1;var s=32-nr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$r=1<<32-nr(e)+i|n<<i|r,Ur=s+t}else $r=1<<s|n<<i|r,Ur=t}function Sy(t){t.return!==null&&(rs(t,1),iC(t,1,0))}function Ey(t){for(;t===od;)od=po[--mo],po[mo]=null,ad=po[--mo],po[mo]=null;for(;t===xs;)xs=Nn[--On],Nn[On]=null,Ur=Nn[--On],Nn[On]=null,$r=Nn[--On],Nn[On]=null}var Sn=null,wn=null,Ge=!1,Jn=null;function sC(t,e){var n=Dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Sn=t,wn=xi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Sn=t,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xs!==null?{id:$r,overflow:Ur}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Sn=t,wn=null,!0):!1;default:return!1}}function Vm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zm(t){if(Ge){var e=wn;if(e){var n=e;if(!$0(t,e)){if(Vm(t))throw Error(z(418));e=xi(n.nextSibling);var r=Sn;e&&$0(t,e)?sC(r,n):(t.flags=t.flags&-4097|2,Ge=!1,Sn=t)}}else{if(Vm(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ge=!1,Sn=t}}}function U0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Sn=t}function nc(t){if(t!==Sn)return!1;if(!Ge)return U0(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mm(t.type,t.memoizedProps)),e&&(e=wn)){if(Vm(t))throw oC(),Error(z(418));for(;e;)sC(t,e),e=xi(e.nextSibling)}if(U0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wn=xi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wn=null}}else wn=Sn?xi(t.stateNode.nextSibling):null;return!0}function oC(){for(var t=wn;t;)t=xi(t.nextSibling)}function Vo(){wn=Sn=null,Ge=!1}function Cy(t){Jn===null?Jn=[t]:Jn.push(t)}var MA=oi.ReactCurrentBatchConfig;function Yn(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ld=Wi(null),ud=null,go=null,Ty=null;function ky(){Ty=go=ud=null}function Iy(t){var e=ld.current;qe(ld),t._currentValue=e}function Bm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bo(t,e){ud=t,Ty=go=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hn=!0),t.firstContext=null)}function Un(t){var e=t._currentValue;if(Ty!==t)if(t={context:t,memoizedValue:e,next:null},go===null){if(ud===null)throw Error(z(308));go=t,ud.dependencies={lanes:0,firstContext:t}}else go=go.next=t;return e}var us=null;function xy(t){us===null?us=[t]:us.push(t)}function aC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,xy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xr(t,r)}function Xr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pi=!1;function by(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xr(t,n)}return i=r.interleaved,i===null?(e.next=e,xy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xr(t,n)}function Ic(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fy(t,n)}}function F0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cd(t,e,n,r){var i=t.updateQueue;pi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,m=a;switch(f=e,p=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){d=v.call(p,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,f=typeof v=="function"?v.call(p,d,f):v,f==null)break e;d=tt({},d,f);break e;case 2:pi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Rs|=o,t.lanes=o,t.memoizedState=d}}function V0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var uC=new aE.Component().refs;function Hm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ah={isMounted:function(t){return(t=t._reactInternals)?Vs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=sn(),i=Ai(t),s=Hr(r,i);s.payload=e,n!=null&&(s.callback=n),e=bi(t,s,i),e!==null&&(rr(e,t,i,r),Ic(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=sn(),i=Ai(t),s=Hr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=bi(t,s,i),e!==null&&(rr(e,t,i,r),Ic(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sn(),r=Ai(t),i=Hr(n,r);i.tag=2,e!=null&&(i.callback=e),e=bi(t,i,r),e!==null&&(rr(e,t,r,n),Ic(e,t,r))}};function z0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!bl(n,r)||!bl(i,s):!0}function cC(t,e,n){var r=!1,i=Ui,s=e.contextType;return typeof s=="object"&&s!==null?s=Un(s):(i=pn(e)?Is:Yt.current,r=e.contextTypes,s=(r=r!=null)?Fo(t,i):Ui),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ah,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function B0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ah.enqueueReplaceState(e,e.state,null)}function qm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=uC,by(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Un(s):(s=pn(e)?Is:Yt.current,i.context=Fo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Hm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ah.enqueueReplaceState(i,i.state,null),cd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Aa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===uC&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function rc(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function H0(t){var e=t._init;return e(t._payload)}function dC(t){function e(y,g){if(t){var w=y.deletions;w===null?(y.deletions=[g],y.flags|=16):w.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=Pi(y,g),y.index=0,y.sibling=null,y}function s(y,g,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<g?(y.flags|=2,g):w):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,g,w,_){return g===null||g.tag!==6?(g=up(w,y.mode,_),g.return=y,g):(g=i(g,w),g.return=y,g)}function l(y,g,w,_){var E=w.type;return E===ao?c(y,g,w.props.children,_,w.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===fi&&H0(E)===g.type)?(_=i(g,w.props),_.ref=Aa(y,g,w),_.return=y,_):(_=Lc(w.type,w.key,w.props,null,y.mode,_),_.ref=Aa(y,g,w),_.return=y,_)}function u(y,g,w,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=cp(w,y.mode,_),g.return=y,g):(g=i(g,w.children||[]),g.return=y,g)}function c(y,g,w,_,E){return g===null||g.tag!==7?(g=_s(w,y.mode,_,E),g.return=y,g):(g=i(g,w),g.return=y,g)}function d(y,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=up(""+g,y.mode,w),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Wu:return w=Lc(g.type,g.key,g.props,null,y.mode,w),w.ref=Aa(y,null,g),w.return=y,w;case oo:return g=cp(g,y.mode,w),g.return=y,g;case fi:var _=g._init;return d(y,_(g._payload),w)}if(Ba(g)||ka(g))return g=_s(g,y.mode,w,null),g.return=y,g;rc(y,g)}return null}function f(y,g,w,_){var E=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:a(y,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wu:return w.key===E?l(y,g,w,_):null;case oo:return w.key===E?u(y,g,w,_):null;case fi:return E=w._init,f(y,g,E(w._payload),_)}if(Ba(w)||ka(w))return E!==null?null:c(y,g,w,_,null);rc(y,w)}return null}function p(y,g,w,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(w)||null,a(g,y,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Wu:return y=y.get(_.key===null?w:_.key)||null,l(g,y,_,E);case oo:return y=y.get(_.key===null?w:_.key)||null,u(g,y,_,E);case fi:var k=_._init;return p(y,g,w,k(_._payload),E)}if(Ba(_)||ka(_))return y=y.get(w)||null,c(g,y,_,E,null);rc(g,_)}return null}function v(y,g,w,_){for(var E=null,k=null,I=g,N=g=0,R=null;I!==null&&N<w.length;N++){I.index>N?(R=I,I=null):R=I.sibling;var D=f(y,I,w[N],_);if(D===null){I===null&&(I=R);break}t&&I&&D.alternate===null&&e(y,I),g=s(D,g,N),k===null?E=D:k.sibling=D,k=D,I=R}if(N===w.length)return n(y,I),Ge&&rs(y,N),E;if(I===null){for(;N<w.length;N++)I=d(y,w[N],_),I!==null&&(g=s(I,g,N),k===null?E=I:k.sibling=I,k=I);return Ge&&rs(y,N),E}for(I=r(y,I);N<w.length;N++)R=p(I,y,N,w[N],_),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?N:R.key),g=s(R,g,N),k===null?E=R:k.sibling=R,k=R);return t&&I.forEach(function(W){return e(y,W)}),Ge&&rs(y,N),E}function m(y,g,w,_){var E=ka(w);if(typeof E!="function")throw Error(z(150));if(w=E.call(w),w==null)throw Error(z(151));for(var k=E=null,I=g,N=g=0,R=null,D=w.next();I!==null&&!D.done;N++,D=w.next()){I.index>N?(R=I,I=null):R=I.sibling;var W=f(y,I,D.value,_);if(W===null){I===null&&(I=R);break}t&&I&&W.alternate===null&&e(y,I),g=s(W,g,N),k===null?E=W:k.sibling=W,k=W,I=R}if(D.done)return n(y,I),Ge&&rs(y,N),E;if(I===null){for(;!D.done;N++,D=w.next())D=d(y,D.value,_),D!==null&&(g=s(D,g,N),k===null?E=D:k.sibling=D,k=D);return Ge&&rs(y,N),E}for(I=r(y,I);!D.done;N++,D=w.next())D=p(I,y,N,D.value,_),D!==null&&(t&&D.alternate!==null&&I.delete(D.key===null?N:D.key),g=s(D,g,N),k===null?E=D:k.sibling=D,k=D);return t&&I.forEach(function($){return e(y,$)}),Ge&&rs(y,N),E}function S(y,g,w,_){if(typeof w=="object"&&w!==null&&w.type===ao&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Wu:e:{for(var E=w.key,k=g;k!==null;){if(k.key===E){if(E=w.type,E===ao){if(k.tag===7){n(y,k.sibling),g=i(k,w.props.children),g.return=y,y=g;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===fi&&H0(E)===k.type){n(y,k.sibling),g=i(k,w.props),g.ref=Aa(y,k,w),g.return=y,y=g;break e}n(y,k);break}else e(y,k);k=k.sibling}w.type===ao?(g=_s(w.props.children,y.mode,_,w.key),g.return=y,y=g):(_=Lc(w.type,w.key,w.props,null,y.mode,_),_.ref=Aa(y,g,w),_.return=y,y=_)}return o(y);case oo:e:{for(k=w.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(y,g.sibling),g=i(g,w.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=cp(w,y.mode,_),g.return=y,y=g}return o(y);case fi:return k=w._init,S(y,g,k(w._payload),_)}if(Ba(w))return v(y,g,w,_);if(ka(w))return m(y,g,w,_);rc(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(y,g.sibling),g=i(g,w),g.return=y,y=g):(n(y,g),g=up(w,y.mode,_),g.return=y,y=g),o(y)):n(y,g)}return S}var zo=dC(!0),hC=dC(!1),du={},_r=Wi(du),Ll=Wi(du),Nl=Wi(du);function cs(t){if(t===du)throw Error(z(174));return t}function Ry(t,e){switch(Fe(Nl,e),Fe(Ll,t),Fe(_r,du),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Cm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Cm(e,t)}qe(_r),Fe(_r,e)}function Bo(){qe(_r),qe(Ll),qe(Nl)}function fC(t){cs(Nl.current);var e=cs(_r.current),n=Cm(e,t.type);e!==n&&(Fe(Ll,t),Fe(_r,n))}function Ay(t){Ll.current===t&&(qe(_r),qe(Ll))}var Je=Wi(0);function dd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rp=[];function Py(){for(var t=0;t<rp.length;t++)rp[t]._workInProgressVersionPrimary=null;rp.length=0}var xc=oi.ReactCurrentDispatcher,ip=oi.ReactCurrentBatchConfig,bs=0,et=null,yt=null,kt=null,hd=!1,il=!1,Ol=0,$A=0;function Ut(){throw Error(z(321))}function Ly(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function Ny(t,e,n,r,i,s){if(bs=s,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xc.current=t===null||t.memoizedState===null?zA:BA,t=n(r,i),il){s=0;do{if(il=!1,Ol=0,25<=s)throw Error(z(301));s+=1,kt=yt=null,e.updateQueue=null,xc.current=HA,t=n(r,i)}while(il)}if(xc.current=fd,e=yt!==null&&yt.next!==null,bs=0,kt=yt=et=null,hd=!1,e)throw Error(z(300));return t}function Oy(){var t=Ol!==0;return Ol=0,t}function hr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?et.memoizedState=kt=t:kt=kt.next=t,kt}function Fn(){if(yt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=kt===null?et.memoizedState:kt.next;if(e!==null)kt=e,yt=t;else{if(t===null)throw Error(z(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},kt===null?et.memoizedState=kt=t:kt=kt.next=t}return kt}function Dl(t,e){return typeof e=="function"?e(t):e}function sp(t){var e=Fn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=yt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((bs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,et.lanes|=c,Rs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,sr(r,e.memoizedState)||(hn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,et.lanes|=s,Rs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function op(t){var e=Fn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);sr(s,e.memoizedState)||(hn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function pC(){}function mC(t,e){var n=et,r=Fn(),i=e(),s=!sr(r.memoizedState,i);if(s&&(r.memoizedState=i,hn=!0),r=r.queue,Dy(vC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,jl(9,yC.bind(null,n,r,i,e),void 0,null),It===null)throw Error(z(349));bs&30||gC(n,e,i)}return i}function gC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yC(t,e,n,r){e.value=n,e.getSnapshot=r,wC(e)&&_C(t)}function vC(t,e,n){return n(function(){wC(e)&&_C(t)})}function wC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch{return!0}}function _C(t){var e=Xr(t,1);e!==null&&rr(e,t,1,-1)}function q0(t){var e=hr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:t},e.queue=t,t=t.dispatch=VA.bind(null,et,t),[e.memoizedState,t]}function jl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function SC(){return Fn().memoizedState}function bc(t,e,n,r){var i=hr();et.flags|=t,i.memoizedState=jl(1|e,n,void 0,r===void 0?null:r)}function lh(t,e,n,r){var i=Fn();r=r===void 0?null:r;var s=void 0;if(yt!==null){var o=yt.memoizedState;if(s=o.destroy,r!==null&&Ly(r,o.deps)){i.memoizedState=jl(e,n,s,r);return}}et.flags|=t,i.memoizedState=jl(1|e,n,s,r)}function W0(t,e){return bc(8390656,8,t,e)}function Dy(t,e){return lh(2048,8,t,e)}function EC(t,e){return lh(4,2,t,e)}function CC(t,e){return lh(4,4,t,e)}function TC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kC(t,e,n){return n=n!=null?n.concat([t]):null,lh(4,4,TC.bind(null,e,t),n)}function jy(){}function IC(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ly(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xC(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ly(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bC(t,e,n){return bs&21?(sr(n,e)||(n=PE(),et.lanes|=n,Rs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=n)}function UA(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=ip.transition;ip.transition={};try{t(!1),e()}finally{De=n,ip.transition=r}}function RC(){return Fn().memoizedState}function FA(t,e,n){var r=Ai(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},AC(t))PC(e,n);else if(n=aC(t,e,n,r),n!==null){var i=sn();rr(n,t,r,i),LC(n,e,r)}}function VA(t,e,n){var r=Ai(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(AC(t))PC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,sr(a,o)){var l=e.interleaved;l===null?(i.next=i,xy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=aC(t,e,i,r),n!==null&&(i=sn(),rr(n,t,r,i),LC(n,e,r))}}function AC(t){var e=t.alternate;return t===et||e!==null&&e===et}function PC(t,e){il=hd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function LC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fy(t,n)}}var fd={readContext:Un,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},zA={readContext:Un,useCallback:function(t,e){return hr().memoizedState=[t,e===void 0?null:e],t},useContext:Un,useEffect:W0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bc(4194308,4,TC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bc(4194308,4,t,e)},useInsertionEffect:function(t,e){return bc(4,2,t,e)},useMemo:function(t,e){var n=hr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=hr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=FA.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=hr();return t={current:t},e.memoizedState=t},useState:q0,useDebugValue:jy,useDeferredValue:function(t){return hr().memoizedState=t},useTransition:function(){var t=q0(!1),e=t[0];return t=UA.bind(null,t[1]),hr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,i=hr();if(Ge){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),It===null)throw Error(z(349));bs&30||gC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,W0(vC.bind(null,r,s,t),[t]),r.flags|=2048,jl(9,yC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=hr(),e=It.identifierPrefix;if(Ge){var n=Ur,r=$r;n=(r&~(1<<32-nr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ol++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$A++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BA={readContext:Un,useCallback:IC,useContext:Un,useEffect:Dy,useImperativeHandle:kC,useInsertionEffect:EC,useLayoutEffect:CC,useMemo:xC,useReducer:sp,useRef:SC,useState:function(){return sp(Dl)},useDebugValue:jy,useDeferredValue:function(t){var e=Fn();return bC(e,yt.memoizedState,t)},useTransition:function(){var t=sp(Dl)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:pC,useSyncExternalStore:mC,useId:RC,unstable_isNewReconciler:!1},HA={readContext:Un,useCallback:IC,useContext:Un,useEffect:Dy,useImperativeHandle:kC,useInsertionEffect:EC,useLayoutEffect:CC,useMemo:xC,useReducer:op,useRef:SC,useState:function(){return op(Dl)},useDebugValue:jy,useDeferredValue:function(t){var e=Fn();return yt===null?e.memoizedState=t:bC(e,yt.memoizedState,t)},useTransition:function(){var t=op(Dl)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:pC,useSyncExternalStore:mC,useId:RC,unstable_isNewReconciler:!1};function Ho(t,e){try{var n="",r=e;do n+=vR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ap(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qA=typeof WeakMap=="function"?WeakMap:Map;function NC(t,e,n){n=Hr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){md||(md=!0,ng=r),Wm(t,e)},n}function OC(t,e,n){n=Hr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Wm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Wm(t,e),typeof r!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function K0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=sP.bind(null,t,e,n),e.then(t,t))}function G0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Q0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hr(-1,1),e.tag=2,bi(n,e,1))),n.lanes|=1),t)}var WA=oi.ReactCurrentOwner,hn=!1;function tn(t,e,n,r){e.child=t===null?hC(e,null,n,r):zo(e,t.child,n,r)}function Y0(t,e,n,r,i){n=n.render;var s=e.ref;return bo(e,i),r=Ny(t,e,n,r,s,i),n=Oy(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jr(t,e,i)):(Ge&&n&&Sy(e),e.flags|=1,tn(t,e,r,i),e.child)}function X0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Hy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,DC(t,e,s,r,i)):(t=Lc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:bl,n(o,r)&&t.ref===e.ref)return Jr(t,e,i)}return e.flags|=1,t=Pi(s,r),t.ref=e.ref,t.return=e,e.child=t}function DC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(bl(s,r)&&t.ref===e.ref)if(hn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,Jr(t,e,i)}return Km(t,e,n,r,i)}function jC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(vo,vn),vn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(vo,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Fe(vo,vn),vn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Fe(vo,vn),vn|=r;return tn(t,e,i,n),e.child}function MC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Km(t,e,n,r,i){var s=pn(n)?Is:Yt.current;return s=Fo(e,s),bo(e,i),n=Ny(t,e,n,r,s,i),r=Oy(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jr(t,e,i)):(Ge&&r&&Sy(e),e.flags|=1,tn(t,e,n,i),e.child)}function J0(t,e,n,r,i){if(pn(n)){var s=!0;sd(e)}else s=!1;if(bo(e,i),e.stateNode===null)Rc(t,e),cC(e,n,r),qm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Un(u):(u=pn(n)?Is:Yt.current,u=Fo(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&B0(e,o,r,u),pi=!1;var f=e.memoizedState;o.state=f,cd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||fn.current||pi?(typeof c=="function"&&(Hm(e,n,c,r),l=e.memoizedState),(a=pi||z0(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,lC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Yn(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Un(l):(l=pn(n)?Is:Yt.current,l=Fo(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&B0(e,o,r,l),pi=!1,f=e.memoizedState,o.state=f,cd(e,r,o,i);var v=e.memoizedState;a!==d||f!==v||fn.current||pi?(typeof p=="function"&&(Hm(e,n,p,r),v=e.memoizedState),(u=pi||z0(e,n,u,r,f,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Gm(t,e,n,r,s,i)}function Gm(t,e,n,r,i,s){MC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&M0(e,n,!1),Jr(t,e,s);r=e.stateNode,WA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=zo(e,t.child,null,s),e.child=zo(e,null,a,s)):tn(t,e,a,s),e.memoizedState=r.state,i&&M0(e,n,!0),e.child}function $C(t){var e=t.stateNode;e.pendingContext?j0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&j0(t,e.context,!1),Ry(t,e.containerInfo)}function Z0(t,e,n,r,i){return Vo(),Cy(i),e.flags|=256,tn(t,e,n,r),e.child}var Qm={dehydrated:null,treeContext:null,retryLane:0};function Ym(t){return{baseLanes:t,cachePool:null,transitions:null}}function UC(t,e,n){var r=e.pendingProps,i=Je.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Fe(Je,i&1),t===null)return zm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=dh(o,r,0,null),t=_s(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ym(n),e.memoizedState=Qm,t):My(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return KA(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Pi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Pi(a,s):(s=_s(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ym(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Qm,r}return s=t.child,t=s.sibling,r=Pi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function My(t,e){return e=dh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ic(t,e,n,r){return r!==null&&Cy(r),zo(e,t.child,null,n),t=My(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function KA(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ap(Error(z(422))),ic(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=dh({mode:"visible",children:r.children},i,0,null),s=_s(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&zo(e,t.child,null,o),e.child.memoizedState=Ym(o),e.memoizedState=Qm,s);if(!(e.mode&1))return ic(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=ap(s,r,void 0),ic(t,e,o,r)}if(a=(o&t.childLanes)!==0,hn||a){if(r=It,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Xr(t,i),rr(r,t,i,-1))}return By(),r=ap(Error(z(421))),ic(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=oP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,wn=xi(i.nextSibling),Sn=e,Ge=!0,Jn=null,t!==null&&(Nn[On++]=$r,Nn[On++]=Ur,Nn[On++]=xs,$r=t.id,Ur=t.overflow,xs=e),e=My(e,r.children),e.flags|=4096,e)}function ew(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bm(t.return,e,n)}function lp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function FC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(tn(t,e,r.children,n),r=Je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ew(t,n,e);else if(t.tag===19)ew(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(Je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&dd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),lp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&dd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}lp(e,!0,n,null,s);break;case"together":lp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Rs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Pi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Pi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function GA(t,e,n){switch(e.tag){case 3:$C(e),Vo();break;case 5:fC(e);break;case 1:pn(e.type)&&sd(e);break;case 4:Ry(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Fe(ld,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Je,Je.current&1),e.flags|=128,null):n&e.child.childLanes?UC(t,e,n):(Fe(Je,Je.current&1),t=Jr(t,e,n),t!==null?t.sibling:null);Fe(Je,Je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return FC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(Je,Je.current),r)break;return null;case 22:case 23:return e.lanes=0,jC(t,e,n)}return Jr(t,e,n)}var VC,Xm,zC,BC;VC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xm=function(){};zC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,cs(_r.current);var s=null;switch(n){case"input":i=wm(t,i),r=wm(t,r),s=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),s=[];break;case"textarea":i=Em(t,i),r=Em(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=rd)}Tm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Sl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&He("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};BC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Pa(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function QA(t,e,n){var r=e.pendingProps;switch(Ey(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return pn(e.type)&&id(),Ft(e),null;case 3:return r=e.stateNode,Bo(),qe(fn),qe(Yt),Py(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(nc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jn!==null&&(sg(Jn),Jn=null))),Xm(t,e),Ft(e),null;case 5:Ay(e);var i=cs(Nl.current);if(n=e.type,t!==null&&e.stateNode!=null)zC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Ft(e),null}if(t=cs(_r.current),nc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[pr]=e,r[Pl]=s,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<qa.length;i++)He(qa[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":u0(r,s),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},He("invalid",r);break;case"textarea":d0(r,s),He("invalid",r)}Tm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&tc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&tc(r.textContent,a,t),i=["children",""+a]):Sl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":Ku(r),c0(r,s,!0);break;case"textarea":Ku(r),h0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=rd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[pr]=e,t[Pl]=r,VC(t,e,!1,!1),e.stateNode=t;e:{switch(o=km(n,r),n){case"dialog":He("cancel",t),He("close",t),i=r;break;case"iframe":case"object":case"embed":He("load",t),i=r;break;case"video":case"audio":for(i=0;i<qa.length;i++)He(qa[i],t);i=r;break;case"source":He("error",t),i=r;break;case"img":case"image":case"link":He("error",t),He("load",t),i=r;break;case"details":He("toggle",t),i=r;break;case"input":u0(t,r),i=wm(t,r),He("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),He("invalid",t);break;case"textarea":d0(t,r),i=Em(t,r),He("invalid",t);break;default:i=r}Tm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?wE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&yE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&El(t,l):typeof l=="number"&&El(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Sl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&He("scroll",t):l!=null&&ay(t,s,l,o))}switch(n){case"input":Ku(t),c0(t,r,!1);break;case"textarea":Ku(t),h0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$i(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?To(t,!!r.multiple,s,!1):r.defaultValue!=null&&To(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=rd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)BC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=cs(Nl.current),cs(_r.current),nc(e)){if(r=e.stateNode,n=e.memoizedProps,r[pr]=e,(s=r.nodeValue!==n)&&(t=Sn,t!==null))switch(t.tag){case 3:tc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&tc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pr]=e,e.stateNode=r}return Ft(e),null;case 13:if(qe(Je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&wn!==null&&e.mode&1&&!(e.flags&128))oC(),Vo(),e.flags|=98560,s=!1;else if(s=nc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[pr]=e}else Vo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),s=!1}else Jn!==null&&(sg(Jn),Jn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?wt===0&&(wt=3):By())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return Bo(),Xm(t,e),t===null&&Rl(e.stateNode.containerInfo),Ft(e),null;case 10:return Iy(e.type._context),Ft(e),null;case 17:return pn(e.type)&&id(),Ft(e),null;case 19:if(qe(Je),s=e.memoizedState,s===null)return Ft(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Pa(s,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=dd(t),o!==null){for(e.flags|=128,Pa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Je,Je.current&1|2),e.child}t=t.sibling}s.tail!==null&&at()>qo&&(e.flags|=128,r=!0,Pa(s,!1),e.lanes=4194304)}else{if(!r)if(t=dd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Pa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ge)return Ft(e),null}else 2*at()-s.renderingStartTime>qo&&n!==1073741824&&(e.flags|=128,r=!0,Pa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=at(),e.sibling=null,n=Je.current,Fe(Je,r?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return zy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vn&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function YA(t,e){switch(Ey(e),e.tag){case 1:return pn(e.type)&&id(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bo(),qe(fn),qe(Yt),Py(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ay(e),null;case 13:if(qe(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Vo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(Je),null;case 4:return Bo(),null;case 10:return Iy(e.type._context),null;case 22:case 23:return zy(),null;case 24:return null;default:return null}}var sc=!1,Ht=!1,XA=typeof WeakSet=="function"?WeakSet:Set,Q=null;function yo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function Jm(t,e,n){try{n()}catch(r){rt(t,e,r)}}var tw=!1;function JA(t,e){if(Dm=ed,t=KE(),_y(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jm={focusedElem:t,selectionRange:n},ed=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,S=v.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:Yn(e.type,m),S);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(_){rt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return v=tw,tw=!1,v}function sl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Jm(e,n,s)}i=i.next}while(i!==r)}}function uh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function HC(t){var e=t.alternate;e!==null&&(t.alternate=null,HC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pr],delete e[Pl],delete e[Um],delete e[OA],delete e[DA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qC(t){return t.tag===5||t.tag===3||t.tag===4}function nw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=rd));else if(r!==4&&(t=t.child,t!==null))for(eg(t,e,n),t=t.sibling;t!==null;)eg(t,e,n),t=t.sibling}function tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tg(t,e,n),t=t.sibling;t!==null;)tg(t,e,n),t=t.sibling}var Pt=null,Xn=!1;function di(t,e,n){for(n=n.child;n!==null;)WC(t,e,n),n=n.sibling}function WC(t,e,n){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(th,n)}catch{}switch(n.tag){case 5:Ht||yo(n,e);case 6:var r=Pt,i=Xn;Pt=null,di(t,e,n),Pt=r,Xn=i,Pt!==null&&(Xn?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(Xn?(t=Pt,n=n.stateNode,t.nodeType===8?tp(t.parentNode,n):t.nodeType===1&&tp(t,n),Il(t)):tp(Pt,n.stateNode));break;case 4:r=Pt,i=Xn,Pt=n.stateNode.containerInfo,Xn=!0,di(t,e,n),Pt=r,Xn=i;break;case 0:case 11:case 14:case 15:if(!Ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Jm(n,e,o),i=i.next}while(i!==r)}di(t,e,n);break;case 1:if(!Ht&&(yo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,e,a)}di(t,e,n);break;case 21:di(t,e,n);break;case 22:n.mode&1?(Ht=(r=Ht)||n.memoizedState!==null,di(t,e,n),Ht=r):di(t,e,n);break;default:di(t,e,n)}}function rw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new XA),e.forEach(function(r){var i=aP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Gn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pt=a.stateNode,Xn=!1;break e;case 3:Pt=a.stateNode.containerInfo,Xn=!0;break e;case 4:Pt=a.stateNode.containerInfo,Xn=!0;break e}a=a.return}if(Pt===null)throw Error(z(160));WC(s,o,i),Pt=null,Xn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){rt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)KC(e,t),e=e.sibling}function KC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gn(e,t),dr(t),r&4){try{sl(3,t,t.return),uh(3,t)}catch(m){rt(t,t.return,m)}try{sl(5,t,t.return)}catch(m){rt(t,t.return,m)}}break;case 1:Gn(e,t),dr(t),r&512&&n!==null&&yo(n,n.return);break;case 5:if(Gn(e,t),dr(t),r&512&&n!==null&&yo(n,n.return),t.flags&32){var i=t.stateNode;try{El(i,"")}catch(m){rt(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&pE(i,s),km(a,o);var u=km(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?wE(i,d):c==="dangerouslySetInnerHTML"?yE(i,d):c==="children"?El(i,d):ay(i,c,d,u)}switch(a){case"input":_m(i,s);break;case"textarea":mE(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?To(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?To(i,!!s.multiple,s.defaultValue,!0):To(i,!!s.multiple,s.multiple?[]:"",!1))}i[Pl]=s}catch(m){rt(t,t.return,m)}}break;case 6:if(Gn(e,t),dr(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){rt(t,t.return,m)}}break;case 3:if(Gn(e,t),dr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Il(e.containerInfo)}catch(m){rt(t,t.return,m)}break;case 4:Gn(e,t),dr(t);break;case 13:Gn(e,t),dr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fy=at())),r&4&&rw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ht=(u=Ht)||c,Gn(e,t),Ht=u):Gn(e,t),dr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Q=t,c=t.child;c!==null;){for(d=Q=c;Q!==null;){switch(f=Q,p=f.child,f.tag){case 0:case 11:case 14:case 15:sl(4,f,f.return);break;case 1:yo(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){rt(r,n,m)}}break;case 5:yo(f,f.return);break;case 22:if(f.memoizedState!==null){sw(d);continue}}p!==null?(p.return=f,Q=p):sw(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=vE("display",o))}catch(m){rt(t,t.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){rt(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Gn(e,t),dr(t),r&4&&rw(t);break;case 21:break;default:Gn(e,t),dr(t)}}function dr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qC(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(El(i,""),r.flags&=-33);var s=nw(t);tg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=nw(t);eg(t,a,o);break;default:throw Error(z(161))}}catch(l){rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ZA(t,e,n){Q=t,GC(t)}function GC(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||sc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ht;a=sc;var u=Ht;if(sc=o,(Ht=l)&&!u)for(Q=i;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?ow(i):l!==null?(l.return=o,Q=l):ow(i);for(;s!==null;)Q=s,GC(s),s=s.sibling;Q=i,sc=a,Ht=u}iw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):iw(t)}}function iw(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ht||uh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ht)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Yn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&V0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}V0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Il(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Ht||e.flags&512&&Zm(e)}catch(f){rt(e,e.return,f)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function sw(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function ow(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{uh(4,e)}catch(l){rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){rt(e,i,l)}}var s=e.return;try{Zm(e)}catch(l){rt(e,s,l)}break;case 5:var o=e.return;try{Zm(e)}catch(l){rt(e,o,l)}}}catch(l){rt(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var eP=Math.ceil,pd=oi.ReactCurrentDispatcher,$y=oi.ReactCurrentOwner,jn=oi.ReactCurrentBatchConfig,be=0,It=null,ht=null,Nt=0,vn=0,vo=Wi(0),wt=0,Ml=null,Rs=0,ch=0,Uy=0,ol=null,cn=null,Fy=0,qo=1/0,Nr=null,md=!1,ng=null,Ri=null,oc=!1,Ci=null,gd=0,al=0,rg=null,Ac=-1,Pc=0;function sn(){return be&6?at():Ac!==-1?Ac:Ac=at()}function Ai(t){return t.mode&1?be&2&&Nt!==0?Nt&-Nt:MA.transition!==null?(Pc===0&&(Pc=PE()),Pc):(t=De,t!==0||(t=window.event,t=t===void 0?16:$E(t.type)),t):1}function rr(t,e,n,r){if(50<al)throw al=0,rg=null,Error(z(185));lu(t,n,r),(!(be&2)||t!==It)&&(t===It&&(!(be&2)&&(ch|=n),wt===4&&gi(t,Nt)),mn(t,r),n===1&&be===0&&!(e.mode&1)&&(qo=at()+500,oh&&Ki()))}function mn(t,e){var n=t.callbackNode;MR(t,e);var r=Zc(t,t===It?Nt:0);if(r===0)n!==null&&m0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&m0(n),e===1)t.tag===0?jA(aw.bind(null,t)):rC(aw.bind(null,t)),LA(function(){!(be&6)&&Ki()}),n=null;else{switch(LE(r)){case 1:n=hy;break;case 4:n=RE;break;case 16:n=Jc;break;case 536870912:n=AE;break;default:n=Jc}n=nT(n,QC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function QC(t,e){if(Ac=-1,Pc=0,be&6)throw Error(z(327));var n=t.callbackNode;if(Ro()&&t.callbackNode!==n)return null;var r=Zc(t,t===It?Nt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=yd(t,r);else{e=r;var i=be;be|=2;var s=XC();(It!==t||Nt!==e)&&(Nr=null,qo=at()+500,ws(t,e));do try{rP();break}catch(a){YC(t,a)}while(1);ky(),pd.current=s,be=i,ht!==null?e=0:(It=null,Nt=0,e=wt)}if(e!==0){if(e===2&&(i=Am(t),i!==0&&(r=i,e=ig(t,i))),e===1)throw n=Ml,ws(t,0),gi(t,r),mn(t,at()),n;if(e===6)gi(t,r);else{if(i=t.current.alternate,!(r&30)&&!tP(i)&&(e=yd(t,r),e===2&&(s=Am(t),s!==0&&(r=s,e=ig(t,s))),e===1))throw n=Ml,ws(t,0),gi(t,r),mn(t,at()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:is(t,cn,Nr);break;case 3:if(gi(t,r),(r&130023424)===r&&(e=Fy+500-at(),10<e)){if(Zc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){sn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$m(is.bind(null,t,cn,Nr),e);break}is(t,cn,Nr);break;case 4:if(gi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-nr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eP(r/1960))-r,10<r){t.timeoutHandle=$m(is.bind(null,t,cn,Nr),r);break}is(t,cn,Nr);break;case 5:is(t,cn,Nr);break;default:throw Error(z(329))}}}return mn(t,at()),t.callbackNode===n?QC.bind(null,t):null}function ig(t,e){var n=ol;return t.current.memoizedState.isDehydrated&&(ws(t,e).flags|=256),t=yd(t,e),t!==2&&(e=cn,cn=n,e!==null&&sg(e)),t}function sg(t){cn===null?cn=t:cn.push.apply(cn,t)}function tP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!sr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gi(t,e){for(e&=~Uy,e&=~ch,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-nr(e),r=1<<n;t[n]=-1,e&=~r}}function aw(t){if(be&6)throw Error(z(327));Ro();var e=Zc(t,0);if(!(e&1))return mn(t,at()),null;var n=yd(t,e);if(t.tag!==0&&n===2){var r=Am(t);r!==0&&(e=r,n=ig(t,r))}if(n===1)throw n=Ml,ws(t,0),gi(t,e),mn(t,at()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,is(t,cn,Nr),mn(t,at()),null}function Vy(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(qo=at()+500,oh&&Ki())}}function As(t){Ci!==null&&Ci.tag===0&&!(be&6)&&Ro();var e=be;be|=1;var n=jn.transition,r=De;try{if(jn.transition=null,De=1,t)return t()}finally{De=r,jn.transition=n,be=e,!(be&6)&&Ki()}}function zy(){vn=vo.current,qe(vo)}function ws(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,PA(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(Ey(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&id();break;case 3:Bo(),qe(fn),qe(Yt),Py();break;case 5:Ay(r);break;case 4:Bo();break;case 13:qe(Je);break;case 19:qe(Je);break;case 10:Iy(r.type._context);break;case 22:case 23:zy()}n=n.return}if(It=t,ht=t=Pi(t.current,null),Nt=vn=e,wt=0,Ml=null,Uy=ch=Rs=0,cn=ol=null,us!==null){for(e=0;e<us.length;e++)if(n=us[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}us=null}return t}function YC(t,e){do{var n=ht;try{if(ky(),xc.current=fd,hd){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}hd=!1}if(bs=0,kt=yt=et=null,il=!1,Ol=0,$y.current=null,n===null||n.return===null){wt=1,Ml=e,ht=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Nt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=G0(o);if(p!==null){p.flags&=-257,Q0(p,o,a,s,e),p.mode&1&&K0(s,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var m=new Set;m.add(l),e.updateQueue=m}else v.add(l);break e}else{if(!(e&1)){K0(s,u,e),By();break e}l=Error(z(426))}}else if(Ge&&a.mode&1){var S=G0(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Q0(S,o,a,s,e),Cy(Ho(l,a));break e}}s=l=Ho(l,a),wt!==4&&(wt=2),ol===null?ol=[s]:ol.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=NC(s,l,e);F0(s,y);break e;case 1:a=l;var g=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ri===null||!Ri.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=OC(s,a,e);F0(s,_);break e}}s=s.return}while(s!==null)}ZC(n)}catch(E){e=E,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(1)}function XC(){var t=pd.current;return pd.current=fd,t===null?fd:t}function By(){(wt===0||wt===3||wt===2)&&(wt=4),It===null||!(Rs&268435455)&&!(ch&268435455)||gi(It,Nt)}function yd(t,e){var n=be;be|=2;var r=XC();(It!==t||Nt!==e)&&(Nr=null,ws(t,e));do try{nP();break}catch(i){YC(t,i)}while(1);if(ky(),be=n,pd.current=r,ht!==null)throw Error(z(261));return It=null,Nt=0,wt}function nP(){for(;ht!==null;)JC(ht)}function rP(){for(;ht!==null&&!bR();)JC(ht)}function JC(t){var e=tT(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?ZC(t):ht=e,$y.current=null}function ZC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=YA(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,ht=null;return}}else if(n=QA(n,e,vn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);wt===0&&(wt=5)}function is(t,e,n){var r=De,i=jn.transition;try{jn.transition=null,De=1,iP(t,e,n,r)}finally{jn.transition=i,De=r}return null}function iP(t,e,n,r){do Ro();while(Ci!==null);if(be&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if($R(t,s),t===It&&(ht=It=null,Nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oc||(oc=!0,nT(Jc,function(){return Ro(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=jn.transition,jn.transition=null;var o=De;De=1;var a=be;be|=4,$y.current=null,JA(t,n),KC(n,t),TA(jm),ed=!!Dm,jm=Dm=null,t.current=n,ZA(n),RR(),be=a,De=o,jn.transition=s}else t.current=n;if(oc&&(oc=!1,Ci=t,gd=i),s=t.pendingLanes,s===0&&(Ri=null),LR(n.stateNode),mn(t,at()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(md)throw md=!1,t=ng,ng=null,t;return gd&1&&t.tag!==0&&Ro(),s=t.pendingLanes,s&1?t===rg?al++:(al=0,rg=t):al=0,Ki(),null}function Ro(){if(Ci!==null){var t=LE(gd),e=jn.transition,n=De;try{if(jn.transition=null,De=16>t?16:t,Ci===null)var r=!1;else{if(t=Ci,Ci=null,gd=0,be&6)throw Error(z(331));var i=be;for(be|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var c=Q;switch(c.tag){case 0:case 11:case 15:sl(8,c,s)}var d=c.child;if(d!==null)d.return=c,Q=d;else for(;Q!==null;){c=Q;var f=c.sibling,p=c.return;if(HC(c),c===u){Q=null;break}if(f!==null){f.return=p,Q=f;break}Q=p}}}var v=s.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var S=m.sibling;m.sibling=null,m=S}while(m!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:sl(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Q=y;break e}Q=s.return}}var g=t.current;for(Q=g;Q!==null;){o=Q;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Q=w;else e:for(o=g;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:uh(9,a)}}catch(E){rt(a,a.return,E)}if(a===o){Q=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,Q=_;break e}Q=a.return}}if(be=i,Ki(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(th,t)}catch{}r=!0}return r}finally{De=n,jn.transition=e}}return!1}function lw(t,e,n){e=Ho(n,e),e=NC(t,e,1),t=bi(t,e,1),e=sn(),t!==null&&(lu(t,1,e),mn(t,e))}function rt(t,e,n){if(t.tag===3)lw(t,t,n);else for(;e!==null;){if(e.tag===3){lw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ri===null||!Ri.has(r))){t=Ho(n,t),t=OC(e,t,1),e=bi(e,t,1),t=sn(),e!==null&&(lu(e,1,t),mn(e,t));break}}e=e.return}}function sP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=sn(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(Nt&n)===n&&(wt===4||wt===3&&(Nt&130023424)===Nt&&500>at()-Fy?ws(t,0):Uy|=n),mn(t,e)}function eT(t,e){e===0&&(t.mode&1?(e=Yu,Yu<<=1,!(Yu&130023424)&&(Yu=4194304)):e=1);var n=sn();t=Xr(t,e),t!==null&&(lu(t,e,n),mn(t,n))}function oP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),eT(t,n)}function aP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),eT(t,n)}var tT;tT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fn.current)hn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hn=!1,GA(t,e,n);hn=!!(t.flags&131072)}else hn=!1,Ge&&e.flags&1048576&&iC(e,ad,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Rc(t,e),t=e.pendingProps;var i=Fo(e,Yt.current);bo(e,n),i=Ny(null,e,r,t,i,n);var s=Oy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pn(r)?(s=!0,sd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,by(e),i.updater=ah,e.stateNode=i,i._reactInternals=e,qm(e,r,t,n),e=Gm(null,e,r,!0,s,n)):(e.tag=0,Ge&&s&&Sy(e),tn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Rc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=uP(r),t=Yn(r,t),i){case 0:e=Km(null,e,r,t,n);break e;case 1:e=J0(null,e,r,t,n);break e;case 11:e=Y0(null,e,r,t,n);break e;case 14:e=X0(null,e,r,Yn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),Km(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),J0(t,e,r,i,n);case 3:e:{if($C(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,lC(t,e),cd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ho(Error(z(423)),e),e=Z0(t,e,r,n,i);break e}else if(r!==i){i=Ho(Error(z(424)),e),e=Z0(t,e,r,n,i);break e}else for(wn=xi(e.stateNode.containerInfo.firstChild),Sn=e,Ge=!0,Jn=null,n=hC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vo(),r===i){e=Jr(t,e,n);break e}tn(t,e,r,n)}e=e.child}return e;case 5:return fC(e),t===null&&zm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Mm(r,i)?o=null:s!==null&&Mm(r,s)&&(e.flags|=32),MC(t,e),tn(t,e,o,n),e.child;case 6:return t===null&&zm(e),null;case 13:return UC(t,e,n);case 4:return Ry(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zo(e,null,r,n):tn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),Y0(t,e,r,i,n);case 7:return tn(t,e,e.pendingProps,n),e.child;case 8:return tn(t,e,e.pendingProps.children,n),e.child;case 12:return tn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Fe(ld,r._currentValue),r._currentValue=o,s!==null)if(sr(s.value,o)){if(s.children===i.children&&!fn.current){e=Jr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Hr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Bm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Bm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}tn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,bo(e,n),i=Un(i),r=r(i),e.flags|=1,tn(t,e,r,n),e.child;case 14:return r=e.type,i=Yn(r,e.pendingProps),i=Yn(r.type,i),X0(t,e,r,i,n);case 15:return DC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),Rc(t,e),e.tag=1,pn(r)?(t=!0,sd(e)):t=!1,bo(e,n),cC(e,r,i),qm(e,r,i,n),Gm(null,e,r,!0,t,n);case 19:return FC(t,e,n);case 22:return jC(t,e,n)}throw Error(z(156,e.tag))};function nT(t,e){return bE(t,e)}function lP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,e,n,r){return new lP(t,e,n,r)}function Hy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uP(t){if(typeof t=="function")return Hy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uy)return 11;if(t===cy)return 14}return 2}function Pi(t,e){var n=t.alternate;return n===null?(n=Dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Lc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Hy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ao:return _s(n.children,i,s,e);case ly:o=8,i|=8;break;case mm:return t=Dn(12,n,e,i|2),t.elementType=mm,t.lanes=s,t;case gm:return t=Dn(13,n,e,i),t.elementType=gm,t.lanes=s,t;case ym:return t=Dn(19,n,e,i),t.elementType=ym,t.lanes=s,t;case dE:return dh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uE:o=10;break e;case cE:o=9;break e;case uy:o=11;break e;case cy:o=14;break e;case fi:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Dn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function _s(t,e,n,r){return t=Dn(7,t,r,e),t.lanes=n,t}function dh(t,e,n,r){return t=Dn(22,t,r,e),t.elementType=dE,t.lanes=n,t.stateNode={isHidden:!1},t}function up(t,e,n){return t=Dn(6,t,null,e),t.lanes=n,t}function cp(t,e,n){return e=Dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hf(0),this.expirationTimes=Hf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qy(t,e,n,r,i,s,o,a,l){return t=new cP(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Dn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},by(s),t}function dP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function rT(t){if(!t)return Ui;t=t._reactInternals;e:{if(Vs(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(pn(n))return nC(t,n,e)}return e}function iT(t,e,n,r,i,s,o,a,l){return t=qy(n,r,!0,t,i,s,o,a,l),t.context=rT(null),n=t.current,r=sn(),i=Ai(n),s=Hr(r,i),s.callback=e??null,bi(n,s,i),t.current.lanes=i,lu(t,i,r),mn(t,r),t}function hh(t,e,n,r){var i=e.current,s=sn(),o=Ai(i);return n=rT(n),e.context===null?e.context=n:e.pendingContext=n,e=Hr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bi(i,e,o),t!==null&&(rr(t,i,o,s),Ic(t,i,o)),o}function vd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function uw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wy(t,e){uw(t,e),(t=t.alternate)&&uw(t,e)}function hP(){return null}var sT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ky(t){this._internalRoot=t}fh.prototype.render=Ky.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));hh(t,e,null,null)};fh.prototype.unmount=Ky.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;As(function(){hh(null,t,null,null)}),e[Yr]=null}};function fh(t){this._internalRoot=t}fh.prototype.unstable_scheduleHydration=function(t){if(t){var e=DE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mi.length&&e!==0&&e<mi[n].priority;n++);mi.splice(n,0,t),n===0&&ME(t)}};function Gy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ph(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cw(){}function fP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=vd(o);s.call(u)}}var o=iT(e,r,t,0,null,!1,!1,"",cw);return t._reactRootContainer=o,t[Yr]=o.current,Rl(t.nodeType===8?t.parentNode:t),As(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=vd(l);a.call(u)}}var l=qy(t,0,!1,null,null,!1,!1,"",cw);return t._reactRootContainer=l,t[Yr]=l.current,Rl(t.nodeType===8?t.parentNode:t),As(function(){hh(e,l,n,r)}),l}function mh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=vd(o);a.call(l)}}hh(e,o,t,i)}else o=fP(n,e,t,i,r);return vd(o)}NE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ha(e.pendingLanes);n!==0&&(fy(e,n|1),mn(e,at()),!(be&6)&&(qo=at()+500,Ki()))}break;case 13:As(function(){var r=Xr(t,1);if(r!==null){var i=sn();rr(r,t,1,i)}}),Wy(t,1)}};py=function(t){if(t.tag===13){var e=Xr(t,134217728);if(e!==null){var n=sn();rr(e,t,134217728,n)}Wy(t,134217728)}};OE=function(t){if(t.tag===13){var e=Ai(t),n=Xr(t,e);if(n!==null){var r=sn();rr(n,t,e,r)}Wy(t,e)}};DE=function(){return De};jE=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};xm=function(t,e,n){switch(e){case"input":if(_m(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=sh(r);if(!i)throw Error(z(90));fE(r),_m(r,i)}}}break;case"textarea":mE(t,n);break;case"select":e=n.value,e!=null&&To(t,!!n.multiple,e,!1)}};EE=Vy;CE=As;var pP={usingClientEntryPoint:!1,Events:[cu,ho,sh,_E,SE,Vy]},La={findFiberByHostInstance:ls,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},mP={bundleType:La.bundleType,version:La.version,rendererPackageName:La.rendererPackageName,rendererConfig:La.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=IE(t),t===null?null:t.stateNode},findFiberByHostInstance:La.findFiberByHostInstance||hP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{th=ac.inject(mP),wr=ac}catch{}}In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pP;In.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gy(e))throw Error(z(200));return dP(t,e,null,n)};In.createRoot=function(t,e){if(!Gy(t))throw Error(z(299));var n=!1,r="",i=sT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qy(t,1,!1,null,null,n,!1,r,i),t[Yr]=e.current,Rl(t.nodeType===8?t.parentNode:t),new Ky(e)};In.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=IE(e),t=t===null?null:t.stateNode,t};In.flushSync=function(t){return As(t)};In.hydrate=function(t,e,n){if(!ph(e))throw Error(z(200));return mh(null,t,e,!0,n)};In.hydrateRoot=function(t,e,n){if(!Gy(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=sT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=iT(e,null,t,1,n??null,i,!1,s,o),t[Yr]=e.current,Rl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new fh(e)};In.render=function(t,e,n){if(!ph(e))throw Error(z(200));return mh(null,t,e,!1,n)};In.unmountComponentAtNode=function(t){if(!ph(t))throw Error(z(40));return t._reactRootContainer?(As(function(){mh(null,null,t,!1,function(){t._reactRootContainer=null,t[Yr]=null})}),!0):!1};In.unstable_batchedUpdates=Vy;In.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ph(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return mh(t,e,n,!1,r)};In.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=In})(hR);const gP=XS(_l);var oT,dw=_l;oT=dw.createRoot,dw.hydrateRoot;var og={},yP={get exports(){return og},set exports(t){og=t}},aT={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wo=T;function vP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wP=typeof Object.is=="function"?Object.is:vP,_P=Wo.useState,SP=Wo.useEffect,EP=Wo.useLayoutEffect,CP=Wo.useDebugValue;function TP(t,e){var n=e(),r=_P({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return EP(function(){i.value=n,i.getSnapshot=e,dp(i)&&s({inst:i})},[t,n,e]),SP(function(){return dp(i)&&s({inst:i}),t(function(){dp(i)&&s({inst:i})})},[t]),CP(n),n}function dp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wP(t,n)}catch{return!0}}function kP(t,e){return e()}var IP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kP:TP;aT.useSyncExternalStore=Wo.useSyncExternalStore!==void 0?Wo.useSyncExternalStore:IP;(function(t){t.exports=aT})(yP);var ag={},xP={get exports(){return ag},set exports(t){ag=t}},lT={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gh=T,bP=og;function RP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var AP=typeof Object.is=="function"?Object.is:RP,PP=bP.useSyncExternalStore,LP=gh.useRef,NP=gh.useEffect,OP=gh.useMemo,DP=gh.useDebugValue;lT.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=LP(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=OP(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var v=o.value;if(i(v,p))return d=v}return d=p}if(v=d,AP(c,p))return v;var m=r(p);return i!==void 0&&i(v,m)?v:(c=p,d=m)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=PP(t,s[0],s[1]);return NP(function(){o.hasValue=!0,o.value=a},[a]),DP(a),a};(function(t){t.exports=lT})(xP);function jP(t){t()}let uT=jP;const MP=t=>uT=t,$P=()=>uT,Fi=T.createContext(null);function cT(){return T.useContext(Fi)}const UP=()=>{throw new Error("uSES not initialized!")};let dT=UP;const FP=t=>{dT=t},VP=(t,e)=>t===e;function zP(t=Fi){const e=t===Fi?cT:()=>T.useContext(t);return function(r,i=VP){const{store:s,subscription:o,getServerState:a}=e(),l=dT(o.addNestedSub,s.getState,a||s.getState,r,i);return T.useDebugValue(l),l}}const BP=zP();var lg={},HP={get exports(){return lg},set exports(t){lg=t}},je={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var At=typeof Symbol=="function"&&Symbol.for,Qy=At?Symbol.for("react.element"):60103,Yy=At?Symbol.for("react.portal"):60106,yh=At?Symbol.for("react.fragment"):60107,vh=At?Symbol.for("react.strict_mode"):60108,wh=At?Symbol.for("react.profiler"):60114,_h=At?Symbol.for("react.provider"):60109,Sh=At?Symbol.for("react.context"):60110,Xy=At?Symbol.for("react.async_mode"):60111,Eh=At?Symbol.for("react.concurrent_mode"):60111,Ch=At?Symbol.for("react.forward_ref"):60112,Th=At?Symbol.for("react.suspense"):60113,qP=At?Symbol.for("react.suspense_list"):60120,kh=At?Symbol.for("react.memo"):60115,Ih=At?Symbol.for("react.lazy"):60116,WP=At?Symbol.for("react.block"):60121,KP=At?Symbol.for("react.fundamental"):60117,GP=At?Symbol.for("react.responder"):60118,QP=At?Symbol.for("react.scope"):60119;function bn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Qy:switch(t=t.type,t){case Xy:case Eh:case yh:case wh:case vh:case Th:return t;default:switch(t=t&&t.$$typeof,t){case Sh:case Ch:case Ih:case kh:case _h:return t;default:return e}}case Yy:return e}}}function hT(t){return bn(t)===Eh}je.AsyncMode=Xy;je.ConcurrentMode=Eh;je.ContextConsumer=Sh;je.ContextProvider=_h;je.Element=Qy;je.ForwardRef=Ch;je.Fragment=yh;je.Lazy=Ih;je.Memo=kh;je.Portal=Yy;je.Profiler=wh;je.StrictMode=vh;je.Suspense=Th;je.isAsyncMode=function(t){return hT(t)||bn(t)===Xy};je.isConcurrentMode=hT;je.isContextConsumer=function(t){return bn(t)===Sh};je.isContextProvider=function(t){return bn(t)===_h};je.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qy};je.isForwardRef=function(t){return bn(t)===Ch};je.isFragment=function(t){return bn(t)===yh};je.isLazy=function(t){return bn(t)===Ih};je.isMemo=function(t){return bn(t)===kh};je.isPortal=function(t){return bn(t)===Yy};je.isProfiler=function(t){return bn(t)===wh};je.isStrictMode=function(t){return bn(t)===vh};je.isSuspense=function(t){return bn(t)===Th};je.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===yh||t===Eh||t===wh||t===vh||t===Th||t===qP||typeof t=="object"&&t!==null&&(t.$$typeof===Ih||t.$$typeof===kh||t.$$typeof===_h||t.$$typeof===Sh||t.$$typeof===Ch||t.$$typeof===KP||t.$$typeof===GP||t.$$typeof===QP||t.$$typeof===WP)};je.typeOf=bn;(function(t){t.exports=je})(HP);var fT=lg,YP={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},XP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},pT={};pT[fT.ForwardRef]=YP;pT[fT.Memo]=XP;var hw={},JP={get exports(){return hw},set exports(t){hw=t}},Me={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy=Symbol.for("react.element"),Zy=Symbol.for("react.portal"),xh=Symbol.for("react.fragment"),bh=Symbol.for("react.strict_mode"),Rh=Symbol.for("react.profiler"),Ah=Symbol.for("react.provider"),Ph=Symbol.for("react.context"),ZP=Symbol.for("react.server_context"),Lh=Symbol.for("react.forward_ref"),Nh=Symbol.for("react.suspense"),Oh=Symbol.for("react.suspense_list"),Dh=Symbol.for("react.memo"),jh=Symbol.for("react.lazy"),eL=Symbol.for("react.offscreen"),mT;mT=Symbol.for("react.module.reference");function Bn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Jy:switch(t=t.type,t){case xh:case Rh:case bh:case Nh:case Oh:return t;default:switch(t=t&&t.$$typeof,t){case ZP:case Ph:case Lh:case jh:case Dh:case Ah:return t;default:return e}}case Zy:return e}}}Me.ContextConsumer=Ph;Me.ContextProvider=Ah;Me.Element=Jy;Me.ForwardRef=Lh;Me.Fragment=xh;Me.Lazy=jh;Me.Memo=Dh;Me.Portal=Zy;Me.Profiler=Rh;Me.StrictMode=bh;Me.Suspense=Nh;Me.SuspenseList=Oh;Me.isAsyncMode=function(){return!1};Me.isConcurrentMode=function(){return!1};Me.isContextConsumer=function(t){return Bn(t)===Ph};Me.isContextProvider=function(t){return Bn(t)===Ah};Me.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jy};Me.isForwardRef=function(t){return Bn(t)===Lh};Me.isFragment=function(t){return Bn(t)===xh};Me.isLazy=function(t){return Bn(t)===jh};Me.isMemo=function(t){return Bn(t)===Dh};Me.isPortal=function(t){return Bn(t)===Zy};Me.isProfiler=function(t){return Bn(t)===Rh};Me.isStrictMode=function(t){return Bn(t)===bh};Me.isSuspense=function(t){return Bn(t)===Nh};Me.isSuspenseList=function(t){return Bn(t)===Oh};Me.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===xh||t===Rh||t===bh||t===Nh||t===Oh||t===eL||typeof t=="object"&&t!==null&&(t.$$typeof===jh||t.$$typeof===Dh||t.$$typeof===Ah||t.$$typeof===Ph||t.$$typeof===Lh||t.$$typeof===mT||t.getModuleId!==void 0)};Me.typeOf=Bn;(function(t){t.exports=Me})(JP);function tL(){const t=$P();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const fw={notify(){},get:()=>[]};function nL(t,e){let n,r=fw;function i(d){return l(),r.subscribe(d)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=tL())}function u(){n&&(n(),n=void 0,r.clear(),r=fw)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const rL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iL=rL?T.useLayoutEffect:T.useEffect;function sL({store:t,context:e,children:n,serverState:r}){const i=T.useMemo(()=>{const a=nL(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),s=T.useMemo(()=>t.getState(),[t]);iL(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=e||Fi;return Zn.createElement(o.Provider,{value:i},n)}function gT(t=Fi){const e=t===Fi?cT:()=>T.useContext(t);return function(){const{store:r}=e();return r}}const oL=gT();function aL(t=Fi){const e=t===Fi?oL:gT(t);return function(){return e().dispatch}}const lL=aL();FP(ag.useSyncExternalStoreWithSelector);MP(_l.unstable_batchedUpdates);function Nc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nc=function(n){return typeof n}:Nc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Nc(t)}function uL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cL(t,e,n){return e&&pw(t.prototype,e),n&&pw(t,n),t}function dL(t,e){return e&&(Nc(e)==="object"||typeof e=="function")?e:Oc(t)}function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ug(t)}function Oc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cg(t,e)}function cg(t,e){return cg=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},cg(t,e)}function Dc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yT=function(t){hL(e,t);function e(){var n,r;uL(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=dL(this,(n=ug(e)).call.apply(n,[this].concat(s))),Dc(Oc(r),"state",{bootstrapped:!1}),Dc(Oc(r),"_unsubscribe",void 0),Dc(Oc(r),"handlePersistorState",function(){var a=r.props.persistor,l=a.getState(),u=l.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return cL(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(T.PureComponent);Dc(yT,"defaultProps",{children:null,loading:null});/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xe(){return xe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xe.apply(this,arguments)}var ot;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ot||(ot={}));const mw="popstate";function fL(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return $l("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Zr(i)}return mL(e,n,null,t)}function we(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ko(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pL(){return Math.random().toString(36).substr(2,8)}function gw(t,e){return{usr:t.state,key:t.key,idx:e}}function $l(t,e,n,r){return n===void 0&&(n=null),xe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ai(e):e,{state:n,key:e&&e.key||r||pL()})}function Zr(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ai(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function mL(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ot.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(xe({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=ot.Pop;let S=c(),y=S==null?null:S-u;u=S,l&&l({action:a,location:m.location,delta:y})}function f(S,y){a=ot.Push;let g=$l(m.location,S,y);n&&n(g,S),u=c()+1;let w=gw(g,u),_=m.createHref(g);try{o.pushState(w,"",_)}catch{i.location.assign(_)}s&&l&&l({action:a,location:m.location,delta:1})}function p(S,y){a=ot.Replace;let g=$l(m.location,S,y);n&&n(g,S),u=c();let w=gw(g,u),_=m.createHref(g);o.replaceState(w,"",_),s&&l&&l({action:a,location:m.location,delta:0})}function v(S){let y=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof S=="string"?S:Zr(S);return we(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let m={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(mw,d),l=S,()=>{i.removeEventListener(mw,d),l=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let y=v(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(S){return o.go(S)}};return m}var gt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(gt||(gt={}));const gL=new Set(["lazy","caseSensitive","path","id","index","children"]);function yL(t){return t.index===!0}function vT(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(we(i.index!==!0||!i.children,"Cannot specify children on an index route"),we(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),yL(i)){let l=xe({},i,{hasErrorBoundary:e(i),id:a});return r[a]=l,l}else{let l=xe({},i,{id:a,hasErrorBoundary:e(i),children:void 0});return r[a]=l,i.children&&(l.children=vT(i.children,e,o,r)),l}})}function wo(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ai(e):e,i=hu(r.pathname||"/",n);if(i==null)return null;let s=wT(t);vL(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=xL(s[a],RL(i));return o}function wT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(we(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=qr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(we(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wT(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:kL(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of _T(s.path))i(s,o,l)}),e}function _T(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=_T(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function vL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:IL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wL=/^:\w+$/,_L=3,SL=2,EL=1,CL=10,TL=-2,yw=t=>t==="*";function kL(t,e){let n=t.split("/"),r=n.length;return n.some(yw)&&(r+=TL),e&&(r+=SL),n.filter(i=>!yw(i)).reduce((i,s)=>i+(wL.test(s)?_L:s===""?EL:CL),r)}function IL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function xL(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=Fr({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:qr([i,c.pathname]),pathnameBase:NL(qr([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=qr([i,c.pathnameBase]))}return s}function Fr(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=a[d]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=AL(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function bL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ko(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function RL(t){try{return decodeURI(t)}catch(e){return Ko(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function AL(t,e){try{return decodeURIComponent(t)}catch(n){return Ko(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function hu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function PL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ai(t):t;return{pathname:n?n.startsWith("/")?n:LL(n,e):e,search:OL(r),hash:DL(i)}}function LL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mh(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ev(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ai(t):(i=xe({},t),we(!i.pathname||!i.pathname.includes("?"),hp("?","pathname","search",i)),we(!i.pathname||!i.pathname.includes("#"),hp("#","pathname","hash",i)),we(!i.search||!i.search.includes("#"),hp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=PL(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const qr=t=>t.join("/").replace(/\/\/+/g,"/"),NL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class vw extends Error{}class jL{constructor(e,n){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],we(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((s,o)=>r=o),this.controller=new AbortController;let i=()=>r(new vw("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(e).reduce((s,o)=>{let[a,l]=o;return Object.assign(s,{[a]:this.trackPromise(a,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=n}trackPromise(e,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,e,null,i),i=>this.onSettle(r,e,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,n,r,i){return this.controller.signal.aborted&&r instanceof vw?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r)):(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),r?(Object.defineProperty(e,"_error",{get:()=>r}),this.emit(!1,n),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>i}),this.emit(!1,n),i))}emit(e,n){this.subscribers.forEach(r=>r(e,n))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(e){let n=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(s=>{e.removeEventListener("abort",r),(s||this.done)&&i(s)})})}return n}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return we(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,n)=>{let[r,i]=n;return Object.assign(e,{[r]:$L(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function ML(t){return t instanceof Promise&&t._tracked===!0}function $L(t){if(!ML(t))return t;if(t._error)throw t._error;return t._data}class tv{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function _o(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ST=["post","put","patch","delete"],UL=new Set(ST),FL=["get",...ST],VL=new Set(FL),zL=new Set([301,302,303,307,308]),BL=new Set([307,308]),fp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},HL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ww={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ET=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qL=!CT,WL=t=>!!t.hasErrorBoundary;function KL(t){we(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=t.detectErrorBoundary||WL,n={},r=vT(t.routes,e,void 0,n),i,s=null,o=new Set,a=null,l=null,u=null,c=t.hydrationData!=null,d=wo(r,t.history.location,t.basename),f=null;if(d==null){let A=fr(404,{pathname:t.history.location.pathname}),{matches:O,route:M}=kw(r);d=O,f={[M.id]:A}}let p=!d.some(A=>A.route.lazy)&&(!d.some(A=>A.route.loader)||t.hydrationData!=null),v,m={historyAction:t.history.action,location:t.history.location,matches:d,initialized:p,navigation:fp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||f,fetchers:new Map,blockers:new Map},S=ot.Pop,y=!1,g,w=!1,_=!1,E=[],k=[],I=new Map,N=0,R=-1,D=new Map,W=new Set,$=new Map,U=new Map,le=new Map,Ie=!1;function $e(){if(s=t.history.listen(M=>{let{action:J,location:ee,delta:ue}=M;if(Ie){Ie=!1;return}Ko(le.size===0||ue!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=ve({currentLocation:m.location,nextLocation:ee,historyAction:J});if(ie&&ue!=null){Ie=!0,t.history.go(ue*-1),L(ie,{state:"blocked",location:ee,proceed(){L(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),t.history.go(ue)},reset(){P(ie),K({blockers:new Map(v.state.blockers)})}});return}return pt(J,ee)}),m.initialized)return v;let A=m.matches.filter(M=>M.route.lazy);if(A.length===0)return pt(ot.Pop,m.location),v;let O=A.map(M=>dg(M.route,e,n));return Promise.all(O).then(()=>{!m.matches.some(J=>J.route.loader)||t.hydrationData!=null?K({initialized:!0}):pt(ot.Pop,m.location)}),v}function lt(){s&&s(),o.clear(),g&&g.abort(),m.fetchers.forEach((A,O)=>de(O)),m.blockers.forEach((A,O)=>P(O))}function q(A){return o.add(A),()=>o.delete(A)}function K(A){m=xe({},m,A),o.forEach(O=>O(m))}function re(A,O){var M,J;let ee=m.actionData!=null&&m.navigation.formMethod!=null&&Or(m.navigation.formMethod)&&m.navigation.state==="loading"&&((M=A.state)==null?void 0:M._isRedirect)!==!0,ue;O.actionData?Object.keys(O.actionData).length>0?ue=O.actionData:ue=null:ee?ue=m.actionData:ue=null;let ie=O.loaderData?Tw(m.loaderData,O.loaderData,O.matches||[],O.errors):m.loaderData;for(let[te]of le)P(te);let Se=y===!0||m.navigation.formMethod!=null&&Or(m.navigation.formMethod)&&((J=A.state)==null?void 0:J._isRedirect)!==!0;i&&(r=i,i=void 0),K(xe({},O,{actionData:ue,loaderData:ie,historyAction:S,location:A,initialized:!0,navigation:fp,revalidation:"idle",restoreScrollPosition:Ys(A,O.matches||m.matches),preventScrollReset:Se,blockers:new Map(m.blockers)})),w||S===ot.Pop||(S===ot.Push?t.history.push(A,A.state):S===ot.Replace&&t.history.replace(A,A.state)),S=ot.Pop,y=!1,w=!1,_=!1,E=[],k=[]}async function Ae(A,O){if(typeof A=="number"){t.history.go(A);return}let{path:M,submission:J,error:ee}=_w(A,O),ue=m.location,ie=$l(m.location,M,O&&O.state);ie=xe({},ie,t.history.encodeLocation(ie));let Se=O&&O.replace!=null?O.replace:void 0,te=ot.Push;Se===!0?te=ot.Replace:Se===!1||J!=null&&Or(J.formMethod)&&J.formAction===m.location.pathname+m.location.search&&(te=ot.Replace);let Mt=O&&"preventScrollReset"in O?O.preventScrollReset===!0:void 0,Le=ve({currentLocation:ue,nextLocation:ie,historyAction:te});if(Le){L(Le,{state:"blocked",location:ie,proceed(){L(Le,{state:"proceeding",proceed:void 0,reset:void 0,location:ie}),Ae(A,O)},reset(){P(Le),K({blockers:new Map(m.blockers)})}});return}return await pt(te,ie,{submission:J,pendingError:ee,preventScrollReset:Mt,replace:O&&O.replace})}function Ue(){if(ge(),K({revalidation:"loading"}),m.navigation.state!=="submitting"){if(m.navigation.state==="idle"){pt(m.historyAction,m.location,{startUninterruptedRevalidation:!0});return}pt(S||m.historyAction,m.navigation.location,{overrideNavigation:m.navigation})}}async function pt(A,O,M){g&&g.abort(),g=null,S=A,w=(M&&M.startUninterruptedRevalidation)===!0,Ca(m.location,m.matches),y=(M&&M.preventScrollReset)===!0;let J=i||r,ee=M&&M.overrideNavigation,ue=wo(J,O,t.basename);if(!ue){let st=fr(404,{pathname:O.pathname}),{matches:ur,route:Kn}=kw(J);Ee(),re(O,{matches:ur,loaderData:{},errors:{[Kn.id]:st}});return}if(JL(m.location,O)&&!(M&&M.submission&&Or(M.submission.formMethod))){re(O,{matches:ue});return}g=new AbortController;let ie=Oa(t.history,O,g.signal,M&&M.submission),Se,te;if(M&&M.pendingError)te={[So(ue).route.id]:M.pendingError};else if(M&&M.submission&&Or(M.submission.formMethod)){let st=await Ct(ie,O,M.submission,ue,{replace:M.replace});if(st.shortCircuited)return;Se=st.pendingActionData,te=st.pendingActionError,ee=xe({state:"loading",location:O},M.submission),ie=new Request(ie.url,{signal:ie.signal})}let{shortCircuited:Mt,loaderData:Le,errors:Zt}=await Wn(ie,O,ue,ee,M&&M.submission,M&&M.replace,Se,te);Mt||(g=null,re(O,xe({matches:ue},Se?{actionData:Se}:{},{loaderData:Le,errors:Zt})))}async function Ct(A,O,M,J,ee){ge();let ue=xe({state:"submitting",location:O},M);K({navigation:ue});let ie,Se=hg(J,O);if(!Se.route.action&&!Se.route.lazy)ie={type:gt.error,error:fr(405,{method:A.method,pathname:O.pathname,routeId:Se.route.id})};else if(ie=await Na("action",A,Se,J,n,e,v.basename),A.signal.aborted)return{shortCircuited:!0};if(Ao(ie)){let te;return ee&&ee.replace!=null?te=ee.replace:te=ie.location===m.location.pathname+m.location.search,await V(m,ie,{submission:M,replace:te}),{shortCircuited:!0}}if(ll(ie)){let te=So(J,Se.route.id);return(ee&&ee.replace)!==!0&&(S=ot.Push),{pendingActionData:{},pendingActionError:{[te.route.id]:ie.error}}}if(ds(ie))throw fr(400,{type:"defer-action"});return{pendingActionData:{[Se.route.id]:ie.data}}}async function Wn(A,O,M,J,ee,ue,ie,Se){let te=J;te||(te=xe({state:"loading",location:O,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ee));let Mt=ee||(te.formMethod&&te.formAction&&te.formData&&te.formEncType?{formMethod:te.formMethod,formAction:te.formAction,formData:te.formData,formEncType:te.formEncType}:void 0),Le=i||r,[Zt,st]=Sw(t.history,m,M,Mt,O,_,E,k,$,Le,t.basename,ie,Se);if(Ee($t=>!(M&&M.some(cr=>cr.route.id===$t))||Zt&&Zt.some(cr=>cr.route.id===$t)),Zt.length===0&&st.length===0)return re(O,xe({matches:M,loaderData:{},errors:Se||null},ie?{actionData:ie}:{})),{shortCircuited:!0};if(!w){st.forEach(cr=>{let es=m.fetchers.get(cr.key),Hu={state:"loading",data:es&&es.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(cr.key,Hu)});let $t=ie||m.actionData;K(xe({navigation:te},$t?Object.keys($t).length===0?{actionData:null}:{actionData:$t}:{},st.length>0?{fetchers:new Map(m.fetchers)}:{}))}R=++N,st.forEach($t=>I.set($t.key,g));let{results:ur,loaderResults:Kn,fetcherResults:Ta}=await G(m.matches,M,Zt,st,A);if(A.signal.aborted)return{shortCircuited:!0};st.forEach($t=>I.delete($t.key));let zu=Iw(ur);if(zu)return await V(m,zu,{replace:ue}),{shortCircuited:!0};let{loaderData:Bu,errors:Xs}=Cw(m,M,Zt,Kn,Se,st,Ta,U);U.forEach(($t,cr)=>{$t.subscribe(es=>{(es||$t.done)&&U.delete(cr)})}),b();let Df=j(R);return xe({loaderData:Bu,errors:Xs},Df||st.length>0?{fetchers:new Map(m.fetchers)}:{})}function Be(A){return m.fetchers.get(A)||HL}function mt(A,O,M,J){if(qL)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");I.has(A)&&C(A);let ue=wo(i||r,M,t.basename);if(!ue){ye(A,O,fr(404,{pathname:M}));return}let{path:ie,submission:Se}=_w(M,J,!0),te=hg(ue,ie);if(y=(J&&J.preventScrollReset)===!0,Se&&Or(Se.formMethod)){ui(A,O,ie,te,ue,Se);return}$.set(A,{routeId:O,path:ie}),ci(A,O,ie,te,ue,Se)}async function ui(A,O,M,J,ee,ue){if(ge(),$.delete(A),!J.route.action&&!J.route.lazy){let Rr=fr(405,{method:ue.formMethod,pathname:M,routeId:O});ye(A,O,Rr);return}let ie=m.fetchers.get(A),Se=xe({state:"submitting"},ue,{data:ie&&ie.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(A,Se),K({fetchers:new Map(m.fetchers)});let te=new AbortController,Mt=Oa(t.history,M,te.signal,ue);I.set(A,te);let Le=await Na("action",Mt,J,ee,n,e,v.basename);if(Mt.signal.aborted){I.get(A)===te&&I.delete(A);return}if(Ao(Le)){I.delete(A),W.add(A);let Rr=xe({state:"loading"},ue,{data:void 0," _hasFetcherDoneAnything ":!0});return m.fetchers.set(A,Rr),K({fetchers:new Map(m.fetchers)}),V(m,Le,{isFetchActionRedirect:!0})}if(ll(Le)){ye(A,O,Le.error);return}if(ds(Le))throw fr(400,{type:"defer-action"});let Zt=m.navigation.location||m.location,st=Oa(t.history,Zt,te.signal),ur=i||r,Kn=m.navigation.state!=="idle"?wo(ur,m.navigation.location,t.basename):m.matches;we(Kn,"Didn't find any matches after fetcher action");let Ta=++N;D.set(A,Ta);let zu=xe({state:"loading",data:Le.data},ue,{" _hasFetcherDoneAnything ":!0});m.fetchers.set(A,zu);let[Bu,Xs]=Sw(t.history,m,Kn,ue,Zt,_,E,k,$,ur,t.basename,{[J.route.id]:Le.data},void 0);Xs.filter(Rr=>Rr.key!==A).forEach(Rr=>{let Mf=Rr.key,n0=m.fetchers.get(Mf),x2={state:"loading",data:n0&&n0.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Mf,x2),I.set(Mf,te)}),K({fetchers:new Map(m.fetchers)});let{results:Df,loaderResults:$t,fetcherResults:cr}=await G(m.matches,Kn,Bu,Xs,st);if(te.signal.aborted)return;D.delete(A),I.delete(A),Xs.forEach(Rr=>I.delete(Rr.key));let es=Iw(Df);if(es)return V(m,es);let{loaderData:Hu,errors:jf}=Cw(m,m.matches,Bu,$t,void 0,Xs,cr,U),k2={state:"idle",data:Le.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(A,k2);let I2=j(Ta);m.navigation.state==="loading"&&Ta>R?(we(S,"Expected pending action"),g&&g.abort(),re(m.navigation.location,{matches:Kn,loaderData:Hu,errors:jf,fetchers:new Map(m.fetchers)})):(K(xe({errors:jf,loaderData:Tw(m.loaderData,Hu,Kn,jf)},I2?{fetchers:new Map(m.fetchers)}:{})),_=!1)}async function ci(A,O,M,J,ee,ue){let ie=m.fetchers.get(A),Se=xe({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ue,{data:ie&&ie.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(A,Se),K({fetchers:new Map(m.fetchers)});let te=new AbortController,Mt=Oa(t.history,M,te.signal);I.set(A,te);let Le=await Na("loader",Mt,J,ee,n,e,v.basename);if(ds(Le)&&(Le=await xT(Le,Mt.signal,!0)||Le),I.get(A)===te&&I.delete(A),Mt.signal.aborted)return;if(Ao(Le)){await V(m,Le);return}if(ll(Le)){let st=So(m.matches,O);m.fetchers.delete(A),K({fetchers:new Map(m.fetchers),errors:{[st.route.id]:Le.error}});return}we(!ds(Le),"Unhandled fetcher deferred data");let Zt={state:"idle",data:Le.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(A,Zt),K({fetchers:new Map(m.fetchers)})}async function V(A,O,M){var J;let{submission:ee,replace:ue,isFetchActionRedirect:ie}=M===void 0?{}:M;O.revalidate&&(_=!0);let Se=$l(A.location,O.location,xe({_isRedirect:!0},ie?{_isFetchActionRedirect:!0}:{}));if(we(Se,"Expected a location on the redirect navigation"),ET.test(O.location)&&CT&&typeof((J=window)==null?void 0:J.location)<"u"){let ur=t.history.createURL(O.location),Kn=hu(ur.pathname,t.basename||"/")==null;if(window.location.origin!==ur.origin||Kn){ue?window.location.replace(O.location):window.location.assign(O.location);return}}g=null;let te=ue===!0?ot.Replace:ot.Push,{formMethod:Mt,formAction:Le,formEncType:Zt,formData:st}=A.navigation;!ee&&Mt&&Le&&st&&Zt&&(ee={formMethod:Mt,formAction:Le,formEncType:Zt,formData:st}),BL.has(O.status)&&ee&&Or(ee.formMethod)?await pt(te,Se,{submission:xe({},ee,{formAction:O.location}),preventScrollReset:y}):await pt(te,Se,{overrideNavigation:{state:"loading",location:Se,formMethod:ee?ee.formMethod:void 0,formAction:ee?ee.formAction:void 0,formEncType:ee?ee.formEncType:void 0,formData:ee?ee.formData:void 0},preventScrollReset:y})}async function G(A,O,M,J,ee){let ue=await Promise.all([...M.map(te=>Na("loader",ee,te,O,n,e,v.basename)),...J.map(te=>te.matches&&te.match?Na("loader",Oa(t.history,te.path,ee.signal),te.match,te.matches,n,e,v.basename):{type:gt.error,error:fr(404,{pathname:te.path})})]),ie=ue.slice(0,M.length),Se=ue.slice(M.length);return await Promise.all([xw(A,M,ie,ee.signal,!1,m.loaderData),xw(A,J.map(te=>te.match),Se,ee.signal,!0)]),{results:ue,loaderResults:ie,fetcherResults:Se}}function ge(){_=!0,E.push(...Ee()),$.forEach((A,O)=>{I.has(O)&&(k.push(O),C(O))})}function ye(A,O,M){let J=So(m.matches,O);de(A),K({errors:{[J.route.id]:M},fetchers:new Map(m.fetchers)})}function de(A){I.has(A)&&C(A),$.delete(A),D.delete(A),W.delete(A),m.fetchers.delete(A)}function C(A){let O=I.get(A);we(O,"Expected fetch controller: "+A),O.abort(),I.delete(A)}function x(A){for(let O of A){let J={state:"idle",data:Be(O).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(O,J)}}function b(){let A=[];for(let O of W){let M=m.fetchers.get(O);we(M,"Expected fetcher: "+O),M.state==="loading"&&(W.delete(O),A.push(O))}x(A)}function j(A){let O=[];for(let[M,J]of D)if(J<A){let ee=m.fetchers.get(M);we(ee,"Expected fetcher: "+M),ee.state==="loading"&&(C(M),D.delete(M),O.push(M))}return x(O),O.length>0}function H(A,O){let M=m.blockers.get(A)||ww;return le.get(A)!==O&&le.set(A,O),M}function P(A){m.blockers.delete(A),le.delete(A)}function L(A,O){let M=m.blockers.get(A)||ww;we(M.state==="unblocked"&&O.state==="blocked"||M.state==="blocked"&&O.state==="blocked"||M.state==="blocked"&&O.state==="proceeding"||M.state==="blocked"&&O.state==="unblocked"||M.state==="proceeding"&&O.state==="unblocked","Invalid blocker state transition: "+M.state+" -> "+O.state),m.blockers.set(A,O),K({blockers:new Map(m.blockers)})}function ve(A){let{currentLocation:O,nextLocation:M,historyAction:J}=A;if(le.size===0)return;le.size>1&&Ko(!1,"A router only supports one blocker at a time");let ee=Array.from(le.entries()),[ue,ie]=ee[ee.length-1],Se=m.blockers.get(ue);if(!(Se&&Se.state==="proceeding")&&ie({currentLocation:O,nextLocation:M,historyAction:J}))return ue}function Ee(A){let O=[];return U.forEach((M,J)=>{(!A||A(J))&&(M.cancel(),O.push(J),U.delete(J))}),O}function Qs(A,O,M){if(a=A,u=O,l=M||(J=>J.key),!c&&m.navigation===fp){c=!0;let J=Ys(m.location,m.matches);J!=null&&K({restoreScrollPosition:J})}return()=>{a=null,u=null,l=null}}function Ca(A,O){if(a&&l&&u){let M=O.map(ee=>bw(ee,m.loaderData)),J=l(A,M)||A.key;a[J]=u()}}function Ys(A,O){if(a&&l&&u){let M=O.map(ue=>bw(ue,m.loaderData)),J=l(A,M)||A.key,ee=a[J];if(typeof ee=="number")return ee}return null}function Of(A){i=A}return v={get basename(){return t.basename},get state(){return m},get routes(){return r},initialize:$e,subscribe:q,enableScrollRestoration:Qs,navigate:Ae,fetch:mt,revalidate:Ue,createHref:A=>t.history.createHref(A),encodeLocation:A=>t.history.encodeLocation(A),getFetcher:Be,deleteFetcher:de,dispose:lt,getBlocker:H,deleteBlocker:P,_internalFetchControllers:I,_internalActiveDeferreds:U,_internalSetRoutes:Of},v}function GL(t){return t!=null&&"formData"in t}function _w(t,e,n){n===void 0&&(n=!1);let r=typeof t=="string"?t:Zr(t);if(!e||!GL(e))return{path:r};if(e.formMethod&&!eN(e.formMethod))return{path:r,error:fr(405,{method:e.formMethod})};let i;if(e.formData&&(i={formMethod:e.formMethod||"get",formAction:IT(r),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},Or(i.formMethod)))return{path:r,submission:i};let s=ai(r),o=kT(e.formData);return n&&s.search&&bT(s.search)&&o.append("index",""),s.search="?"+o,{path:Zr(s),submission:i}}function QL(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Sw(t,e,n,r,i,s,o,a,l,u,c,d,f){let p=f?Object.values(f)[0]:d?Object.values(d)[0]:void 0,v=t.createURL(e.location),m=t.createURL(i),S=s||v.toString()===m.toString()||v.search!==m.search,y=f?Object.keys(f)[0]:void 0,w=QL(n,y).filter((E,k)=>{if(E.route.lazy)return!0;if(E.route.loader==null)return!1;if(YL(e.loaderData,e.matches[k],E)||o.some(R=>R===E.route.id))return!0;let I=e.matches[k],N=E;return Ew(E,xe({currentUrl:v,currentParams:I.params,nextUrl:m,nextParams:N.params},r,{actionResult:p,defaultShouldRevalidate:S||TT(I,N)}))}),_=[];return l.forEach((E,k)=>{if(!n.some(D=>D.route.id===E.routeId))return;let I=wo(u,E.path,c);if(!I){_.push(xe({key:k},E,{matches:null,match:null}));return}let N=hg(I,E.path);if(a.includes(k)){_.push(xe({key:k,matches:I,match:N},E));return}Ew(N,xe({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},r,{actionResult:p,defaultShouldRevalidate:S}))&&_.push(xe({key:k,matches:I,match:N},E))}),[w,_]}function YL(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function TT(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Ew(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function dg(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];we(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Ko(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!gL.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,{hasErrorBoundary:e(xe({},i)),lazy:void 0})}async function Na(t,e,n,r,i,s,o,a,l,u){o===void 0&&(o="/"),a===void 0&&(a=!1),l===void 0&&(l=!1);let c,d,f,p=S=>{let y,g=new Promise((w,_)=>y=_);return f=()=>y(),e.signal.addEventListener("abort",f),Promise.race([S({request:e,params:n.params,context:u}),g])};try{let S=n.route[t];if(n.route.lazy)if(S)d=(await Promise.all([p(S),dg(n.route,s,i)]))[0];else if(await dg(n.route,s,i),S=n.route[t],S)d=await p(S);else{if(t==="action")throw fr(405,{method:e.method,pathname:new URL(e.url).pathname,routeId:n.route.id});return{type:gt.data,data:void 0}}else we(S,"Could not find the "+t+' to run on the "'+n.route.id+'" route'),d=await p(S);we(d!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(S){c=gt.error,d=S}finally{f&&e.signal.removeEventListener("abort",f)}if(ZL(d)){let S=d.status;if(zL.has(S)){let w=d.headers.get("Location");if(we(w,"Redirects returned/thrown from loaders/actions must have a Location header"),ET.test(w)){if(!a){let _=new URL(e.url),E=w.startsWith("//")?new URL(_.protocol+w):new URL(w),k=hu(E.pathname,o)!=null;E.origin===_.origin&&k&&(w=E.pathname+E.search+E.hash)}}else{let _=r.slice(0,r.indexOf(n)+1),E=Mh(_).map(I=>I.pathnameBase),k=ev(w,E,new URL(e.url).pathname);if(we(Zr(k),"Unable to resolve redirect location: "+w),o){let I=k.pathname;k.pathname=I==="/"?o:qr([o,I])}w=Zr(k)}if(a)throw d.headers.set("Location",w),d;return{type:gt.redirect,status:S,location:w,revalidate:d.headers.get("X-Remix-Revalidate")!==null}}if(l)throw{type:c||gt.data,response:d};let y,g=d.headers.get("Content-Type");return g&&/\bapplication\/json\b/.test(g)?y=await d.json():y=await d.text(),c===gt.error?{type:c,error:new tv(S,d.statusText,y),headers:d.headers}:{type:gt.data,data:y,statusCode:d.status,headers:d.headers}}if(c===gt.error)return{type:c,error:d};if(d instanceof jL){var v,m;return{type:gt.deferred,deferredData:d,statusCode:(v=d.init)==null?void 0:v.status,headers:((m=d.init)==null?void 0:m.headers)&&new Headers(d.init.headers)}}return{type:gt.data,data:d}}function Oa(t,e,n,r){let i=t.createURL(IT(e)).toString(),s={signal:n};if(r&&Or(r.formMethod)){let{formMethod:o,formEncType:a,formData:l}=r;s.method=o.toUpperCase(),s.body=a==="application/x-www-form-urlencoded"?kT(l):l}return new Request(i,s)}function kT(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function XL(t,e,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,d)=>{let f=e[d].route.id;if(we(!Ao(c),"Cannot handle redirect results in processLoaderData"),ll(c)){let p=So(t,f),v=c.error;r&&(v=Object.values(r)[0],r=void 0),o=o||{},o[p.route.id]==null&&(o[p.route.id]=v),s[f]=void 0,l||(l=!0,a=_o(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else ds(c)?(i.set(f,c.deferredData),s[f]=c.deferredData.data):s[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[f]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function Cw(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=XL(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:d,match:f}=s[c];we(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let p=o[c];if(ll(p)){let v=So(t.matches,f==null?void 0:f.route.id);u&&u[v.route.id]||(u=xe({},u,{[v.route.id]:p.error})),t.fetchers.delete(d)}else if(Ao(p))we(!1,"Unhandled fetcher revalidation redirect");else if(ds(p))we(!1,"Unhandled fetcher deferred data");else{let v={state:"idle",data:p.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(d,v)}}return{loaderData:l,errors:u}}function Tw(t,e,n,r){let i=xe({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function So(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function kw(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function fr(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"&&(a="defer() is not supported in actions")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new tv(t||500,o,new Error(a),!0)}function Iw(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Ao(n))return n}}function IT(t){let e=typeof t=="string"?ai(t):t;return Zr(xe({},e,{hash:""}))}function JL(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function ds(t){return t.type===gt.deferred}function ll(t){return t.type===gt.error}function Ao(t){return(t&&t.type)===gt.redirect}function ZL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function eN(t){return VL.has(t)}function Or(t){return UL.has(t)}async function xw(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!TT(u,l)&&(s&&s[l.route.id])!==void 0;ds(a)&&(i||c)&&await xT(a,r,i).then(d=>{d&&(n[o]=d||n[o])})}}async function xT(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:gt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:gt.error,error:i}}return{type:gt.data,data:t.deferredData.data}}}function bT(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function bw(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function hg(t,e){let n=typeof e=="string"?ai(e).search:e.search;if(t[t.length-1].route.index&&bT(n||""))return t[t.length-1];let r=Mh(t);return r[r.length-1]}/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const nN=typeof Object.is=="function"?Object.is:tN,{useState:rN,useEffect:iN,useLayoutEffect:sN,useDebugValue:oN}=hm;function aN(t,e,n){const r=e(),[{inst:i},s]=rN({inst:{value:r,getSnapshot:e}});return sN(()=>{i.value=r,i.getSnapshot=e,pp(i)&&s({inst:i})},[t,r,e]),iN(()=>(pp(i)&&s({inst:i}),t(()=>{pp(i)&&s({inst:i})})),[t]),oN(r),r}function pp(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!nN(n,r)}catch{return!0}}function lN(t,e,n){return e()}const uN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cN=!uN,dN=cN?lN:aN,hN="useSyncExternalStore"in hm?(t=>t.useSyncExternalStore)(hm):dN,nv=T.createContext(null),fu=T.createContext(null),aa=T.createContext(null),$h=T.createContext(null),Gi=T.createContext({outlet:null,matches:[]}),RT=T.createContext(null);function fg(){return fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fg.apply(this,arguments)}function fN(t,e){let{relative:n}=e===void 0?{}:e;la()||we(!1);let{basename:r,navigator:i}=T.useContext(aa),{hash:s,pathname:o,search:a}=rv(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:qr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function la(){return T.useContext($h)!=null}function Qi(){return la()||we(!1),T.useContext($h).location}function br(){la()||we(!1);let{basename:t,navigator:e}=T.useContext(aa),{matches:n}=T.useContext(Gi),{pathname:r}=Qi(),i=JSON.stringify(Mh(n).map(a=>a.pathnameBase)),s=T.useRef(!1);return T.useEffect(()=>{s.current=!0}),T.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=ev(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:qr([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}const pN=T.createContext(null);function mN(t){let e=T.useContext(Gi).outlet;return e&&T.createElement(pN.Provider,{value:t},e)}function AT(){let{matches:t}=T.useContext(Gi),e=t[t.length-1];return e?e.params:{}}function rv(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=T.useContext(Gi),{pathname:i}=Qi(),s=JSON.stringify(Mh(r).map(o=>o.pathnameBase));return T.useMemo(()=>ev(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function gN(t,e){la()||we(!1);let{navigator:n}=T.useContext(aa),r=T.useContext(fu),{matches:i}=T.useContext(Gi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Qi(),u;if(e){var c;let m=typeof e=="string"?ai(e):e;a==="/"||(c=m.pathname)!=null&&c.startsWith(a)||we(!1),u=m}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",p=wo(t,{pathname:f}),v=_N(p&&p.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:qr([a,n.encodeLocation?n.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:qr([a,n.encodeLocation?n.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,r||void 0);return e&&v?T.createElement($h.Provider,{value:{location:fg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ot.Pop}},v):v}function yN(){let t=PT(),e=_o(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,s)}class vN extends T.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?T.createElement(Gi.Provider,{value:this.props.routeContext},T.createElement(RT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wN(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(nv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Gi.Provider,{value:e},r)}function _N(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||we(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=T.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=T.createElement(yN,null));let c=e.concat(r.slice(0,a+1)),d=()=>{let f=s;return l?f=u:o.route.Component?f=T.createElement(o.route.Component,null):o.route.element&&(f=o.route.element),T.createElement(wN,{match:o,routeContext:{outlet:s,matches:c},children:f})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?T.createElement(vN,{location:n.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var Rw;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(Rw||(Rw={}));var wd;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(wd||(wd={}));function SN(t){let e=T.useContext(fu);return e||we(!1),e}function EN(t){let e=T.useContext(Gi);return e||we(!1),e}function CN(t){let e=EN(),n=e.matches[e.matches.length-1];return n.route.id||we(!1),n.route.id}function PT(){var t;let e=T.useContext(RT),n=SN(wd.UseRouteError),r=CN(wd.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function TN(t){let{fallbackElement:e,router:n}=t,r=T.useCallback(()=>n.state,[n]),i=hN(n.subscribe,r,r),s=T.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:l=>n.navigate(l),push:(l,u,c)=>n.navigate(l,{state:u,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(l,u,c)=>n.navigate(l,{replace:!0,state:u,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[n]),o=n.basename||"/",a=T.useMemo(()=>({router:n,navigator:s,static:!1,basename:o}),[n,s,o]);return T.createElement(T.Fragment,null,T.createElement(nv.Provider,{value:a},T.createElement(fu.Provider,{value:i},T.createElement(bN,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:s},n.state.initialized?T.createElement(RN,null):e))),null)}function kN(t){let{to:e,replace:n,state:r,relative:i}=t;la()||we(!1);let s=T.useContext(fu),o=br();return T.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function IN(t){return mN(t.context)}function xN(t){we(!1)}function bN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ot.Pop,navigator:s,static:o=!1}=t;la()&&we(!1);let a=e.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=ai(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:p="default"}=r,v=T.useMemo(()=>{let m=hu(u,a);return m==null?null:{location:{pathname:m,search:c,hash:d,state:f,key:p},navigationType:i}},[a,u,c,d,f,p,i]);return v==null?null:T.createElement(aa.Provider,{value:l},T.createElement($h.Provider,{children:n,value:v}))}function RN(t){let{children:e,location:n}=t,r=T.useContext(nv),i=r&&!e?r.router.routes:pg(e);return gN(i,n)}var Aw;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Aw||(Aw={}));new Promise(()=>{});function pg(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;if(r.type===T.Fragment){n.push.apply(n,pg(r.props.children,e));return}r.type!==xN&&we(!1),!r.props.index||!r.props.children||we(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=pg(r.props.children,s)),n.push(o)}),n}function AN(t){return!!t.ErrorBoundary||!!t.errorElement}/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ul(){return Ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ul.apply(this,arguments)}function LT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function PN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LN(t,e){return t.button===0&&(!e||e==="_self")&&!PN(t)}const NN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],ON=["aria-current","caseSensitive","className","end","style","to","children"];function DN(t,e){return KL({basename:e==null?void 0:e.basename,history:fL({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||jN(),routes:t,detectErrorBoundary:AN}).initialize()}function jN(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ul({},e,{errors:MN(e.errors)})),e}function MN(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new tv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let s=new Error(i.message);s.stack="",n[r]=s}else n[r]=i;return n}const $N=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Uh=T.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,d=LT(e,NN),{basename:f}=T.useContext(aa),p,v=!1;if(typeof u=="string"&&UN.test(u)&&(p=u,$N)){let g=new URL(window.location.href),w=u.startsWith("//")?new URL(g.protocol+u):new URL(u),_=hu(w.pathname,f);w.origin===g.origin&&_!=null?u=_+w.search+w.hash:v=!0}let m=fN(u,{relative:i}),S=FN(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function y(g){r&&r(g),g.defaultPrevented||S(g)}return T.createElement("a",Ul({},d,{href:p||m,onClick:v||s?r:y,ref:n,target:l}))}),Fh=T.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=e,c=LT(e,ON),d=rv(l,{relative:c.relative}),f=Qi(),p=T.useContext(fu),{navigator:v}=T.useContext(aa),m=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,S=f.pathname,y=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(S=S.toLowerCase(),y=y?y.toLowerCase():null,m=m.toLowerCase());let g=S===m||!o&&S.startsWith(m)&&S.charAt(m.length)==="/",w=y!=null&&(y===m||!o&&y.startsWith(m)&&y.charAt(m.length)==="/"),_=g?r:void 0,E;typeof s=="function"?E=s({isActive:g,isPending:w}):E=[s,g?"active":null,w?"pending":null].filter(Boolean).join(" ");let k=typeof a=="function"?a({isActive:g,isPending:w}):a;return T.createElement(Uh,Ul({},c,{"aria-current":_,className:E,ref:n,style:k,to:l}),typeof u=="function"?u({isActive:g,isPending:w}):u)});var Pw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Pw||(Pw={}));var Lw;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Lw||(Lw={}));function FN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=br(),l=Qi(),u=rv(t,{relative:o});return T.useCallback(c=>{if(LN(c,n)){c.preventDefault();let d=r!==void 0?r:Zr(l)===Zr(u);a(t,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}function Pe({size:t="default",strokeWidth:e=2,height:n,width:r,children:i,className:s,...o}){const a={tiny:"12px",small:"16px",default:"24px",medium:"32px",large:"36px",extra:"48px",custom:"24px"};return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:r||a[t],height:n||a[t],className:s,fill:"currentColor",stroke:"currentColor",strokeWidth:e,...o,children:i})}function mg(t){return h.jsxs(Pe,{width:"45px",height:"28px",viewBox:"0 0 45 28",stroke:"none",...t,children:[h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.48798 6L0 22.8H3.98401L5.48108 19.2H13.2687L14.76 22.8H18.84L11.328 6H7.48798ZM12.0459 16.248L9.38251 9.81833L6.70868 16.248H12.0459Z"}),h.jsx("path",{d:"M17.205 6L22.7009 22.8H26.877L30.6852 11.4169L34.3889 22.8H38.5649L44.0609 6H40.3409L36.4266 17.8967L32.5889 6H28.989L25.0272 17.809L21.2369 6H17.205Z"})]})}function VN(t,e){return e&&e.length===t.length?t.map((n,r)=>({...n,id:e[r]})):t.map((n,r)=>({...n,id:r}))}function zN(...t){return{className:t.flat(1/0).filter(e=>e).join(" ").trim()}}function BN(t,e,n,r=""){const i=document.createElement(e);if(n!=null&&n.class){const s=n.class.split(" ");i.classList.add(...s)}return n!=null&&n.id&&i.setAttribute("id",n.id),n!=null&&n.attributes&&n.attributes.forEach(s=>{const o=s.split("=")[0],a=(s.split("=")[1]||"").replaceAll('"',"");i.setAttribute(o,a)}),r&&(i.innerHTML=r),t.append(i),i}function HN(...t){return t.reduce((e,n)=>e.filter(r=>n.includes(r)))}function qN(){return Date.now()}function WN(...t){return t.reduce((e,n)=>e.filter(r=>!n.includes(r)))}function KN(t){return t.map((e,n)=>e!==""?n:"").filter(String)}function Li(t,e){return Math.trunc(Math.random()*(e-t+1)+t)}function GN(){const t=Li(0,255).toString(16),e=Li(0,255).toString(16),n=Li(0,255).toString(16);return`#${t}${e}${n}`}function QN(){const t=Li(0,255),e=Li(0,255),n=Li(0,255);return[t,e,n]}function YN(){let t;return()=>{const e=t>window.scrollY?"UP":"DOWN";return t=window.scrollY,e}}const XN=YN();function or(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function JN(t,e){return!e&&typeof t=="string"?t[0]:e&&typeof t!="string"?t[e].toString()[0]:null}function ZN(t,e){const n=new Map,r=t[0];if(typeof r!="string"&&!or(r))throw new Error("Invalid value");if(!e&&or(r))throw new Error("No key provided");return t.forEach(i=>{const s=JN(i,e);n.has(s)?n.set(s,[...n.get(s),i]):n.set(s,[i])}),Array.from(n.entries())}function eO(t){return Object.keys(t).length===0}function tO(...t){return t.flat(1/0).filter(e=>e).join(" ").trim()}function nO(t){return new Date(+t)}function rO(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!or(r))throw new Error("Invalid value");if(or(r)&&!e)throw new Error("No key provided");let i=[];return!e&&typeof r=="string"&&(i=n.filter(s=>s.trim()!=="")),e&&typeof r!="string"&&(i=n.filter(s=>s[e].toString().trim()!=="")),i}function iO({callback:t,delay:e,counts:n}){let r=0;const i=setInterval(()=>{t(),r+=1,r===n&&clearInterval(i)},e);return i}function sO(t){const e=t.slice();for(let n=0;n<t.length;n++){const r=Li(0,t.length-1);[e[n],e[r]]=[e[r],e[n]]}return e}function oO(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!or(r))throw new Error("Invalid value");if(or(r)&&!e)throw new Error("No key provided");let i=[];return!e&&typeof r=="string"&&(i=n.sort((s,o)=>s.localeCompare(o))),e&&typeof r!="string"&&(i=n.sort((s,o)=>s[e].toString().localeCompare(o[e].toString()))),i}function aO(t,e,n="num"){const r=t.slice();return e&&r.sort((i,s)=>{if(n==="num"){if(+i[e]<+s[e])return-1;if(+i[e]>+s[e])return 1}else{if(i[e]<s[e])return-1;if(i[e]>s[e])return 1}return 0}),r}function lO(t,e,n="..."){return t.length>e?`${t.substring(0,e).trim()}${n}`:t}function uO(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!or(r))throw new Error("Invalid value");if(or(r)&&!e)throw new Error("No key provided");let i=0;return!e&&typeof r=="string"?i=t.length-n.reverse().findIndex(s=>s!==""):e&&typeof r!="string"&&(i=t.length-n.reverse().findIndex(s=>s[e]!=="")),n.reverse().splice(0,i)}function cO(t,e){const n=t[0];if(typeof n!="string"&&!or(n))throw new Error("Invalid value");if(or(n)&&!e)throw new Error("No key provided");const r=t.slice();let i=0;return!e&&typeof n=="string"?i=r.findIndex(s=>s!==""):e&&typeof n!="string"&&(i=r.findIndex(s=>s[e]!=="")),r.splice(i)}const Y={addId:VN,className:zN,createHTMLElem:BN,getCommonValues:HN,getCurrentDateInMs:qN,getDifferentValues:WN,getIndexesOfNonEmptyElements:KN,getRandomHEXColor:GN,getRandomNumber:Li,getRandomRGBColor:QN,getScrollDirection:XN,groupBy:ZN,isObject:or,isObjectEmpty:eO,join:tO,parseCurrentDateFromMs:nO,removeEmptyValues:rO,setIntervalCounts:iO,shuffleArray:sO,sortArrayLocalCompare:oO,sortArrayOfObj:aO,stringCut:lO,trimEndEmptyValues:uO,trimStartEmptyValues:cO};function iv({as:t="div",...e}){return h.jsx(t,{...e})}function sv(t){const e=(t==null?void 0:t.size)===10?"col10":"col";return Y.join([(t==null?void 0:t.xx)&&`${e}-xx-${t.xx}`,(t==null?void 0:t.xl)&&`${e}-xl-${t.xl}`,(t==null?void 0:t.lg)&&`${e}-lg-${t.lg}`,(t==null?void 0:t.md)&&`${e}-md-${t.md}`,(t==null?void 0:t.sm)&&`${e}-sm-${t.sm}`,(t==null?void 0:t.xs)&&`${e}-xs-${t.xs}`,(t==null?void 0:t.ss)&&`${e}-ss-${t.ss}`])}const Re=T.forwardRef(({component:t="div",grid:e,children:n,className:r,...i},s)=>{const o=e&&sv(e),a={className:Y.join(r,o),ref:s,...i};return h.jsx(iv,{as:t,...a,children:n})});Re.displayName="Block";const dO="_StartScreen_srdz3_1",hO={StartScreen:dO};function fO(){return h.jsx(Re,{className:hO.StartScreen,children:h.jsx(mg,{})})}const Fl={version:"2023-03-28_15-54",name:"amelianceworship"},_t={about:"/about",chordslist:"/chordslist",home:"/",login:"/login",other:"/*",signup:"/signup",songslist:"/songslist",songslistSelection:"/songslist/selection"},ov={admin:"/admin",chat:"/chat"},xt=BP;function Vh(){const{displayName:t}=xt(e=>e.userReducer);return{isAuth:!!t}}const Hn=T.forwardRef(({container:t,row:e,component:n="div",children:r,className:i,...s},o)=>{const a=[t&&"container",e&&"row"],l={className:Y.join(i,a),ref:o,...s};return h.jsx(iv,{as:n,...l,children:r})});Hn.displayName="Grid";const pO="_h1_bjtyp_34",mO="_inversion_bjtyp_37",gO="_h2_bjtyp_41",yO="_h3_bjtyp_48",vO="_h4_bjtyp_55",wO="_h5_bjtyp_62",_O="_h6_bjtyp_69",SO="_subtitle1_bjtyp_76",EO="_subtitle2_bjtyp_83",CO="_p1_bjtyp_90",TO="_p2_bjtyp_97",kO="_caption_bjtyp_104",IO="_overline_bjtyp_111",xO="_link_bjtyp_118",bO="_input_bjtyp_132",RO="_button_bjtyp_460",on={h1:pO,inversion:mO,h2:gO,h3:yO,h4:vO,h5:wO,h6:_O,subtitle1:SO,subtitle2:EO,p1:CO,p2:TO,caption:kO,overline:IO,link:xO,"link-sm":"_link-sm_bjtyp_125",input:bO,button:RO,"button-sm":"_button-sm_bjtyp_471","button-icon":"_button-icon_bjtyp_482","button-icon-sm":"_button-icon-sm_bjtyp_493"},AO="_Link_14qzb_57",PO="_noUnderline_14qzb_63",LO="_inverted_14qzb_66",NO="_hover_14qzb_76",OO="_disabled_14qzb_96",ul={Link:AO,noUnderline:PO,inverted:LO,hover:NO,disabled:OO},zs=T.forwardRef(({display:t,underline:e,children:n,blank:r,className:i,...s},o)=>{const a=[t?on[t]:on.link,e===!1&&ul.noUnderline],l=r&&{target:"_blank",rel:"noreferrer noopener"};return h.jsx("span",{className:Y.join(ul.Link,i,a),ref:o,...l,...s,children:n})});zs.displayName="LinkLabel";const DO="_Footer_14zpd_1",jO="_container_14zpd_1",Nw={Footer:DO,container:jO};function MO(){const{pathname:t}=Qi(),{isAuth:e}=Vh(),n=Fr("/login",t),r=Fr("/signup",t);return Fr("/songslist",t)||Fr("/songslist/:page",t)?null:h.jsx(Re,{component:"footer",className:Nw.Footer,children:h.jsx(Hn,{container:!0,className:Nw.container,children:!(n||r)&&e&&t!==ov.chat&&h.jsx(Fh,{to:_t.home,children:h.jsx(zs,{display:"caption",children:`${Fl.name} ${Fl.version}`})})})})}function Ow(t){return h.jsxs(Pe,{width:"108px",height:"28px",viewBox:"0 0 108 28",stroke:"none",...t,children:[h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.48798 6L0 22.8H3.98401L5.48108 19.2H13.2687L14.76 22.8H18.84L11.328 6H7.48798ZM12.0459 16.248L9.38251 9.81833L6.70868 16.248H12.0459Z"}),h.jsx("path",{d:"M17.205 6L22.7009 22.8H26.877L30.6852 11.4169L34.3889 22.8H38.5649L44.0609 6H40.3409L36.4266 17.8967L32.5889 6H28.989L25.0272 17.809L21.2369 6H17.205Z"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M49.495 22.944C48.463 22.944 47.545 22.728 46.741 22.296C45.949 21.864 45.319 21.276 44.851 20.532C44.395 19.776 44.167 18.918 44.167 17.958C44.167 16.986 44.395 16.128 44.851 15.384C45.319 14.628 45.949 14.04 46.741 13.62C47.545 13.188 48.463 12.972 49.495 12.972C50.515 12.972 51.427 13.188 52.231 13.62C53.035 14.04 53.665 14.622 54.121 15.366C54.577 16.11 54.805 16.974 54.805 17.958C54.805 18.918 54.577 19.776 54.121 20.532C53.665 21.276 53.035 21.864 52.231 22.296C51.427 22.728 50.515 22.944 49.495 22.944ZM49.495 20.64C49.963 20.64 50.383 20.532 50.755 20.316C51.127 20.1 51.421 19.794 51.637 19.398C51.853 18.99 51.961 18.51 51.961 17.958C51.961 17.394 51.853 16.914 51.637 16.518C51.421 16.122 51.127 15.816 50.755 15.6C50.383 15.384 49.963 15.276 49.495 15.276C49.027 15.276 48.607 15.384 48.235 15.6C47.863 15.816 47.563 16.122 47.335 16.518C47.119 16.914 47.011 17.394 47.011 17.958C47.011 18.51 47.119 18.99 47.335 19.398C47.563 19.794 47.863 20.1 48.235 20.316C48.607 20.532 49.027 20.64 49.495 20.64Z"}),h.jsx("path",{d:"M60.364 13.116H57.6819V22.8H60.4899V18.228C60.4899 17.304 60.7239 16.626 61.1919 16.194C61.6719 15.75 62.2959 15.528 63.0639 15.528C63.1719 15.528 63.2739 15.534 63.3699 15.546C63.3847 15.546 63.3998 15.5461 63.4152 15.5464L63.4372 15.5469L63.4645 15.5478C63.5353 15.5504 63.6118 15.5558 63.6939 15.564V12.972C62.7819 12.972 62.0079 13.152 61.3719 13.512C60.9645 13.7349 60.6285 14.0267 60.364 14.3875V13.116Z"}),h.jsx("path",{d:"M69.6919 22.944C68.8639 22.944 68.0659 22.848 67.2979 22.656C66.5419 22.452 65.9419 22.2 65.4979 21.9L66.4339 19.884C66.8779 20.16 67.3999 20.388 67.9999 20.568C68.6119 20.736 69.2119 20.82 69.7999 20.82C70.4479 20.82 70.9039 20.742 71.1679 20.586C71.4438 20.43 71.5818 20.214 71.5818 19.938C71.5818 19.71 71.4739 19.542 71.2579 19.434C71.0539 19.314 70.7779 19.224 70.4299 19.164C70.2651 19.1356 70.0923 19.1072 69.9115 19.0789C69.7103 19.0472 69.4991 19.0156 69.2779 18.984C68.8699 18.924 68.4559 18.846 68.0359 18.75C67.6158 18.642 67.2319 18.486 66.8839 18.282C66.5359 18.078 66.2538 17.802 66.0379 17.454C65.8339 17.106 65.7319 16.656 65.7319 16.104C65.7319 15.492 65.9059 14.952 66.2538 14.484C66.6139 14.016 67.1299 13.65 67.8019 13.386C68.4739 13.11 69.2779 12.972 70.2139 12.972C70.8739 12.972 71.5459 13.044 72.2299 13.188C72.9139 13.332 73.4839 13.542 73.9399 13.818L73.0038 15.816C72.5359 15.54 72.0619 15.354 71.5818 15.258C71.1139 15.15 70.6579 15.096 70.2139 15.096C69.5899 15.096 69.1339 15.18 68.8459 15.348C68.5579 15.516 68.4139 15.732 68.4139 15.996C68.4139 16.236 68.5159 16.416 68.7198 16.536C68.9359 16.656 69.2179 16.752 69.5659 16.824C69.9139 16.896 70.2919 16.962 70.6999 17.022C71.1199 17.07 71.5399 17.148 71.9599 17.256C72.3799 17.364 72.7579 17.52 73.0939 17.724C73.4419 17.916 73.7239 18.186 73.9399 18.534C74.1559 18.87 74.2639 19.314 74.2639 19.866C74.2639 20.466 74.0839 21 73.7239 21.468C73.3639 21.924 72.8419 22.284 72.1579 22.548C71.4859 22.812 70.6639 22.944 69.6919 22.944Z"}),h.jsx("path",{d:"M84.9344 13.44C84.3344 13.128 83.6504 12.972 82.8824 12.972C82.0544 12.972 81.3163 13.146 80.6684 13.494C80.3424 13.669 80.0544 13.8821 79.8044 14.133V9.444H76.9964V22.8H79.8044V18.012C79.8044 17.412 79.9004 16.92 80.0923 16.536C80.2964 16.152 80.5724 15.87 80.9203 15.69C81.2804 15.498 81.6824 15.402 82.1264 15.402C82.7504 15.402 83.2303 15.588 83.5663 15.96C83.9144 16.332 84.0884 16.908 84.0884 17.688V22.8H86.8964V17.256C86.8964 16.272 86.7224 15.468 86.3744 14.844C86.0264 14.208 85.5464 13.74 84.9344 13.44Z"}),h.jsx("path",{d:"M91.8457 11.766C91.3297 11.766 90.9097 11.616 90.5857 11.316C90.2617 11.016 90.0997 10.644 90.0997 10.2C90.0997 9.75601 90.2617 9.384 90.5857 9.08401C90.9097 8.784 91.3297 8.634 91.8457 8.634C92.3617 8.634 92.7817 8.77802 93.1057 9.06601C93.4297 9.34201 93.5917 9.702 93.5917 10.146C93.5917 10.614 93.4297 11.004 93.1057 11.316C92.7937 11.616 92.3737 11.766 91.8457 11.766Z"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M100.438 22.404C101.05 22.764 101.764 22.944 102.58 22.944C103.492 22.944 104.308 22.74 105.028 22.332C105.76 21.924 106.336 21.348 106.756 20.604C107.188 19.86 107.404 18.978 107.404 17.958C107.404 16.95 107.188 16.074 106.756 15.33C106.336 14.586 105.76 14.01 105.028 13.602C104.308 13.182 103.492 12.972 102.58 12.972C101.728 12.972 100.996 13.152 100.384 13.512C100.062 13.7013 99.7799 13.942 99.5378 14.2342V13.116H96.8557V26.292H99.6638V21.7747C99.8927 22.0254 100.151 22.2352 100.438 22.404ZM103.336 20.316C102.976 20.532 102.562 20.64 102.094 20.64C101.626 20.64 101.206 20.532 100.834 20.316C100.462 20.1 100.168 19.794 99.9518 19.398C99.7357 18.99 99.6277 18.51 99.6277 17.958C99.6277 17.394 99.7357 16.914 99.9518 16.518C100.168 16.122 100.462 15.816 100.834 15.6C101.206 15.384 101.626 15.276 102.094 15.276C102.562 15.276 102.976 15.384 103.336 15.6C103.708 15.816 104.002 16.122 104.218 16.518C104.446 16.914 104.56 17.394 104.56 17.958C104.56 18.51 104.446 18.99 104.218 19.398C104.002 19.794 103.708 20.1 103.336 20.316Z"}),h.jsx("path",{d:"M90.4417 22.8V13.116H93.2497V22.8H90.4417Z"})]})}function $O({type:t}){const{isAuth:e}=Vh();return h.jsxs(Uh,{to:"/",style:{color:"var(--color--f1-0)"},children:[t==="short"&&h.jsx(mg,{}),t==="normal"&&h.jsx(Ow,{}),!t&&(e?h.jsx(Ow,{}):h.jsx(mg,{}))]})}const UO="_Button_n3hsj_106",FO="_tiny_n3hsj_121",VO="_small_n3hsj_124",zO="_medium_n3hsj_130",BO="_large_n3hsj_133",HO="_extra_n3hsj_136",qO="_disabled_n3hsj_145",WO="_label_n3hsj_160",KO="_icon_n3hsj_187",GO="_secondary_n3hsj_211",QO="_text_n3hsj_228",mr={Button:UO,tiny:FO,small:VO,default:"_default_n3hsj_127",medium:zO,large:BO,extra:HO,disabled:qO,label:WO,icon:KO,secondary:GO,text:QO},Ze=T.forwardRef(({size:t="default",type:e="primary",submit:n,children:r,className:i,...s},o)=>{const a=Array.isArray(r)?r==null?void 0:r.some(c=>typeof c=="string"):typeof r=="string",l=t&&mr[t],u=[e&&mr[e],!a&&mr.icon];return h.jsx("button",{type:n?"submit":"button",className:Y.join(mr.Button,i,l,u),ref:o,...s,children:h.jsx("span",{className:Y.join(mr.label,on.button,l),children:r})})});Ze.displayName="Button";const av=T.forwardRef(({size:t="default",width:e,height:n,type:r="primary",blank:i,customStyle:s,children:o,className:a,style:l,...u},c)=>{const d=Array.isArray(o)?o==null?void 0:o.some(m=>typeof m=="string"):typeof o=="string",f=[t&&mr[t],r&&mr[r],!d&&mr.icon,mr.Button],p=i&&{target:"_blank",rel:"noreferrer noopener"},v=t==="custom"?{width:e,height:n}:{};return h.jsx("a",{className:Y.join(a,!s&&f),ref:c,style:{...l,...v},...p,...u,children:h.jsx("span",{className:Y.join(mr.label,on.button),children:o})})});av.displayName="ButtonLink";function NT(){localStorage.clear(),window.location.reload()}function YO(){const t=new Date;return`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`}function Wr(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function XO(t,e){return typeof t=="string"?t[0]:Wr(t)&&e||Array.isArray(t)&&e&&typeof e=="number"?String(t[e])[0]:""}function JO(t,e){const n=t[0];if(typeof n!="string"&&!Wr(n)&&!Array.isArray(n))throw new Error("Invalid value");if((Wr(n)||Array.isArray(n))&&!e)throw new Error("No key provided");if(Array.isArray(n)&&typeof e=="string")throw new Error("Key should be array index number");const r=new Map;return t.forEach(i=>{const s=XO(i,e||void 0);r.has(s)?r.set(s,[...r.get(s),i]):r.set(s,[i])}),Array.from(r.entries())}function OT(t){return Object.keys(t).length===0}function Go(...t){return t.flat(1/0).filter(e=>e).join(" ").trim()}function ZO(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!Wr(r)&&!Array.isArray(r))throw new Error("Invalid value");if((Wr(r)||Array.isArray(r))&&!e)throw new Error("No key provided");if(Array.isArray(r)&&typeof e=="string")throw new Error("Key should be array index number");let i=[];return(typeof r=="string"||typeof r=="number")&&(i=n.filter(s=>String(s).trim()!=="")),Wr(r)&&e&&(i=n.filter(s=>String(s[e]).trim()!=="")),Array.isArray(r)&&e&&typeof e=="number"&&(i=n.filter(s=>String(s[e]).trim()!=="")),i}function DT(t,e){var r,i;let n="Sorry, something went wrong \\_()_/!";return t&&(typeof t=="string"&&(n=t),t instanceof Error&&(n=t.message)),e?console.error(`${e} >`,`${n}
`,(r=new Error().stack)==null?void 0:r.split(`
`)[2]):console.error(`${n}
`,(i=new Error().stack)==null?void 0:i.split(`
`)[2]),n}function eD(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!Wr(r)&&!Array.isArray(r))throw new Error("Invalid value");if((Wr(r)||Array.isArray(r))&&!e)throw new Error("No key provided");if(Array.isArray(r)&&typeof e=="string")throw new Error("Key should be array index number");let i=[];return(typeof r=="string"||typeof r=="string")&&(i=n.sort((s,o)=>{const a=String(s),l=String(o);return a.localeCompare(l)})),Wr(r)&&e&&(i=n.sort((s,o)=>{const a=String(s[e]),l=String(o[e]);return a.localeCompare(l.toString())})),Array.isArray(r)&&e&&typeof e=="number"&&(i=n.sort((s,o)=>{const a=String(s[e]),l=String(o[e]);return a.localeCompare(l)})),i}function Dw(t){const e=t*1e3,n=new Date(e).toISOString().slice(11,19);return n.match(/^00/)?n.slice(3):n}const tD="ameliance-scripts";async function nD(t){if(t)try{return await navigator.clipboard.writeText(t),!0}catch(e){throw new Error(DT(e,tD))}return!1}function er(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Vi(t){return!!t&&!!t[Ke]}function ei(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===dD}(t)||Array.isArray(t)||!!t[zw]||!!(!((e=t.constructor)===null||e===void 0)&&e[zw])||lv(t)||uv(t))}function Ps(t,e,n){n===void 0&&(n=!1),ua(t)===0?(n?Object.keys:Lo)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function ua(t){var e=t[Ke];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:lv(t)?2:uv(t)?3:0}function Po(t,e){return ua(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function rD(t,e){return ua(t)===2?t.get(e):t[e]}function jT(t,e,n){var r=ua(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function MT(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function lv(t){return uD&&t instanceof Map}function uv(t){return cD&&t instanceof Set}function ss(t){return t.o||t.t}function cv(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=UT(t);delete e[Ke];for(var n=Lo(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function dv(t,e){return e===void 0&&(e=!1),hv(t)||Vi(t)||!ei(t)||(ua(t)>1&&(t.set=t.add=t.clear=t.delete=iD),Object.freeze(t),e&&Ps(t,function(n,r){return dv(r,!0)},!0)),t}function iD(){er(2)}function hv(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Sr(t){var e=wg[t];return e||er(18,t),e}function sD(t,e){wg[t]||(wg[t]=e)}function gg(){return Vl}function mp(t,e){e&&(Sr("Patches"),t.u=[],t.s=[],t.v=e)}function _d(t){yg(t),t.p.forEach(oD),t.p=null}function yg(t){t===Vl&&(Vl=t.l)}function jw(t){return Vl={p:[],l:Vl,h:t,m:!0,_:0}}function oD(t){var e=t[Ke];e.i===0||e.i===1?e.j():e.O=!0}function gp(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.g||Sr("ES5").S(e,t,r),r?(n[Ke].P&&(_d(e),er(4)),ei(t)&&(t=Sd(e,t),e.l||Ed(e,t)),e.u&&Sr("Patches").M(n[Ke].t,t,e.u,e.s)):t=Sd(e,n,[]),_d(e),e.u&&e.v(e.u,e.s),t!==$T?t:void 0}function Sd(t,e,n){if(hv(e))return e;var r=e[Ke];if(!r)return Ps(e,function(a,l){return Mw(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Ed(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=cv(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Ps(s,function(a,l){return Mw(t,r,i,a,l,n,o)}),Ed(t,i,!1),n&&t.u&&Sr("Patches").N(r,n,t.u,t.s)}return r.o}function Mw(t,e,n,r,i,s,o){if(Vi(i)){var a=Sd(t,i,s&&e&&e.i!==3&&!Po(e.R,r)?s.concat(r):void 0);if(jT(n,r,a),!Vi(a))return;t.m=!1}else o&&n.add(i);if(ei(i)&&!hv(i)){if(!t.h.D&&t._<1)return;Sd(t,i),e&&e.A.l||Ed(t,i)}}function Ed(t,e,n){n===void 0&&(n=!1),t.h.D&&t.m&&dv(e,n)}function yp(t,e){var n=t[Ke];return(n?ss(n):t)[e]}function $w(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function yi(t){t.P||(t.P=!0,t.l&&yi(t.l))}function vp(t){t.o||(t.o=cv(t.t))}function vg(t,e,n){var r=lv(e)?Sr("MapSet").F(e,n):uv(e)?Sr("MapSet").T(e,n):t.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:gg(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=zl;o&&(l=[a],u=Wa);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f}(e,n):Sr("ES5").J(e,n);return(n?n.A:gg()).p.push(r),r}function aD(t){return Vi(t)||er(22,t),function e(n){if(!ei(n))return n;var r,i=n[Ke],s=ua(n);if(i){if(!i.P&&(i.i<4||!Sr("ES5").K(i)))return i.t;i.I=!0,r=Uw(n,s),i.I=!1}else r=Uw(n,s);return Ps(r,function(o,a){i&&rD(i.t,o)===a||jT(r,o,e(a))}),s===3?new Set(r):r}(t)}function Uw(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return cv(t)}function lD(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[Ke];return zl.get(l,s)},set:function(l){var u=this[Ke];zl.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Ke];if(!a.P)switch(a.i){case 5:r(a)&&yi(a);break;case 4:n(a)&&yi(a)}}}function n(s){for(var o=s.t,a=s.k,l=Lo(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Ke){var d=o[c];if(d===void 0&&!Po(o,c))return!0;var f=a[c],p=f&&f[Ke];if(p?p.t!==d:!MT(f,d))return!0}}var v=!!o[Ke];return l.length!==Lo(o).length+(v?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};sD("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,d){if(c){for(var f=Array(d.length),p=0;p<d.length;p++)Object.defineProperty(f,""+p,t(p,!0));return f}var v=UT(d);delete v[Ke];for(var m=Lo(v),S=0;S<m.length;S++){var y=m[S];v[y]=t(y,c||!!v[y].enumerable)}return Object.create(Object.getPrototypeOf(d),v)}(a,s),u={i:a?5:4,A:o?o.A:gg(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,Ke,{value:u,writable:!0}),l},S:function(s,o,a){a?Vi(o)&&o[Ke].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[Ke];if(c){var d=c.t,f=c.k,p=c.R,v=c.i;if(v===4)Ps(f,function(w){w!==Ke&&(d[w]!==void 0||Po(d,w)?p[w]||l(f[w]):(p[w]=!0,yi(c)))}),Ps(d,function(w){f[w]!==void 0||Po(f,w)||(p[w]=!1,yi(c))});else if(v===5){if(r(c)&&(yi(c),p.length=!0),f.length<d.length)for(var m=f.length;m<d.length;m++)p[m]=!1;else for(var S=d.length;S<f.length;S++)p[S]=!0;for(var y=Math.min(f.length,d.length),g=0;g<y;g++)f.hasOwnProperty(g)||(p[g]=!0),p[g]===void 0&&l(f[g])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var Fw,Vl,fv=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",uD=typeof Map<"u",cD=typeof Set<"u",Vw=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",$T=fv?Symbol.for("immer-nothing"):((Fw={})["immer-nothing"]=!0,Fw),zw=fv?Symbol.for("immer-draftable"):"__$immer_draftable",Ke=fv?Symbol.for("immer-state"):"__$immer_state",dD=""+Object.prototype.constructor,Lo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,UT=Object.getOwnPropertyDescriptors||function(t){var e={};return Lo(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},wg={},zl={get:function(t,e){if(e===Ke)return t;var n=ss(t);if(!Po(n,e))return function(i,s,o){var a,l=$w(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!ei(r)?r:r===yp(t.t,e)?(vp(t),t.o[e]=vg(t.A.h,r,t)):r},has:function(t,e){return e in ss(t)},ownKeys:function(t){return Reflect.ownKeys(ss(t))},set:function(t,e,n){var r=$w(ss(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=yp(ss(t),e),s=i==null?void 0:i[Ke];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(MT(n,i)&&(n!==void 0||Po(t.t,e)))return!0;vp(t),yi(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return yp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,vp(t),yi(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=ss(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){er(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){er(12)}},Wa={};Ps(zl,function(t,e){Wa[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Wa.deleteProperty=function(t,e){return Wa.set.call(this,t,e,void 0)},Wa.set=function(t,e,n){return zl.set.call(this,t[0],e,n,t[0])};var hD=function(){function t(n){var r=this;this.g=Vw,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(m){var S=this;m===void 0&&(m=a);for(var y=arguments.length,g=Array(y>1?y-1:0),w=1;w<y;w++)g[w-1]=arguments[w];return l.produce(m,function(_){var E;return(E=s).call.apply(E,[S,_].concat(g))})}}var u;if(typeof s!="function"&&er(6),o!==void 0&&typeof o!="function"&&er(7),ei(i)){var c=jw(r),d=vg(r,i,void 0),f=!0;try{u=s(d),f=!1}finally{f?_d(c):yg(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(m){return mp(c,o),gp(m,c)},function(m){throw _d(c),m}):(mp(c,o),gp(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===$T&&(u=void 0),r.D&&dv(u,!0),o){var p=[],v=[];Sr("Patches").M(i,u,p,v),o(p,v)}return u}er(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(p){return i.apply(void 0,[p].concat(d))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){ei(n)||er(8),Vi(n)&&(n=aD(n));var r=jw(this),i=vg(this,n,void 0);return i[Ke].C=!0,yg(r),i},e.finishDraft=function(n,r){var i=n&&n[Ke],s=i.A;return mp(s,r),gp(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!Vw&&er(20),this.g=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Sr("Patches").$;return Vi(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),Tn=new hD,FT=Tn.produce;Tn.produceWithPatches.bind(Tn);Tn.setAutoFreeze.bind(Tn);Tn.setUseProxies.bind(Tn);Tn.applyPatches.bind(Tn);Tn.createDraft.bind(Tn);Tn.finishDraft.bind(Tn);function Bl(t){return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function fD(t,e){if(Bl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pD(t){var e=fD(t,"string");return Bl(e)==="symbol"?e:String(e)}function mD(t,e,n){return e=pD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bw(Object(n),!0).forEach(function(r){mD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var qw=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),wp=function(){return Math.random().toString(36).substring(7).split("").join(".")},Cd={INIT:"@@redux/INIT"+wp(),REPLACE:"@@redux/REPLACE"+wp(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+wp()}};function gD(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function pv(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(zt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(zt(1));return n(pv)(t,e)}if(typeof t!="function")throw new Error(zt(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(zt(3));return s}function d(m){if(typeof m!="function")throw new Error(zt(4));if(l)throw new Error(zt(5));var S=!0;return u(),a.push(m),function(){if(S){if(l)throw new Error(zt(6));S=!1,u();var g=a.indexOf(m);a.splice(g,1),o=null}}}function f(m){if(!gD(m))throw new Error(zt(7));if(typeof m.type>"u")throw new Error(zt(8));if(l)throw new Error(zt(9));try{l=!0,s=i(s,m)}finally{l=!1}for(var S=o=a,y=0;y<S.length;y++){var g=S[y];g()}return m}function p(m){if(typeof m!="function")throw new Error(zt(10));i=m,f({type:Cd.REPLACE})}function v(){var m,S=d;return m={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(zt(11));function w(){g.next&&g.next(c())}w();var _=S(w);return{unsubscribe:_}}},m[qw]=function(){return this},m}return f({type:Cd.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:p},r[qw]=v,r}function yD(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Cd.INIT});if(typeof r>"u")throw new Error(zt(12));if(typeof n(void 0,{type:Cd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zt(13))})}function VT(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{yD(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,d={},f=0;f<s.length;f++){var p=s[f],v=n[p],m=l[p],S=v(m,u);if(typeof S>"u")throw u&&u.type,new Error(zt(14));d[p]=S,c=c||S!==m}return c=c||s.length!==Object.keys(l).length,c?d:l}}function Td(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function vD(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(zt(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=Td.apply(void 0,a)(i.dispatch),Hw(Hw({},i),{},{dispatch:s})}}}function zT(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var BT=zT();BT.withExtraArgument=zT;const Ww=BT;var wD=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_D=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},kd=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},SD=Object.defineProperty,ED=Object.defineProperties,CD=Object.getOwnPropertyDescriptors,Kw=Object.getOwnPropertySymbols,TD=Object.prototype.hasOwnProperty,kD=Object.prototype.propertyIsEnumerable,Gw=function(t,e,n){return e in t?SD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Ni=function(t,e){for(var n in e||(e={}))TD.call(e,n)&&Gw(t,n,e[n]);if(Kw)for(var r=0,i=Kw(e);r<i.length;r++){var n=i[r];kD.call(e,n)&&Gw(t,n,e[n])}return t},_p=function(t,e){return ED(t,CD(e))},ID=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},xD=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Td:Td.apply(null,arguments)};function bD(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var RD=function(t){wD(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,kd([void 0],n[0].concat(this)))):new(e.bind.apply(e,kd([void 0],n.concat(this))))},e}(Array);function _g(t){return ei(t)?FT(t,function(){}):t}function AD(t){return typeof t=="boolean"}function PD(){return function(e){return LD(e)}}function LD(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new RD;return n&&(AD(n)?r.push(Ww):r.push(Ww.withExtraArgument(n.extraArgument))),r}var ND=!0;function OD(t){var e=PD(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,f=d===void 0?void 0:d,p;if(typeof i=="function")p=i;else if(bD(i))p=VT(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var v=o;typeof v=="function"&&(v=v(e));var m=vD.apply(void 0,v),S=Td;l&&(S=xD(Ni({trace:!ND},typeof l=="object"&&l)));var y=[m];Array.isArray(f)?y=kd([m],f):typeof f=="function"&&(y=f(y));var g=S.apply(void 0,y);return pv(p,c,g)}function Oi(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Ni(Ni({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function HT(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function DD(t){return typeof t=="function"}function jD(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?HT(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(DD(t))l=function(){return _g(t())};else{var u=_g(t);l=function(){return u}}function c(d,f){d===void 0&&(d=l());var p=kd([s[f.type]],o.filter(function(v){var m=v.matcher;return m(f)}).map(function(v){var m=v.reducer;return m}));return p.filter(function(v){return!!v}).length===0&&(p=[a]),p.reduce(function(v,m){if(m)if(Vi(v)){var S=v,y=m(S,f);return y===void 0?v:y}else{if(ei(v))return FT(v,function(g){return m(g,f)});var y=m(v,f);if(y===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return v},d)}return c.getInitialState=l,c}function MD(t,e){return t+"/"+e}function zh(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:_g(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var d=r[c],f=MD(e,c),p,v;"reducer"in d?(p=d.reducer,v=d.prepare):p=d,s[c]=p,o[f]=p,a[c]=v?Oi(f,v):Oi(f)});function l(){var c=typeof t.extraReducers=="function"?HT(t.extraReducers):[t.extraReducers],d=c[0],f=d===void 0?{}:d,p=c[1],v=p===void 0?[]:p,m=c[2],S=m===void 0?void 0:m,y=Ni(Ni({},f),o);return jD(n,function(g){for(var w in y)g.addCase(w,y[w]);for(var _=0,E=v;_<E.length;_++){var k=E[_];g.addMatcher(k.matcher,k.reducer)}S&&g.addDefaultCase(S)})}var u;return{name:e,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var $D="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",UD=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=$D[Math.random()*64|0];return e},FD=["name","message","stack","code"],Sp=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),Qw=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),VD=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=FD;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}},Bh=function(){function t(e,n,r){var i=Oi(e+"/fulfilled",function(u,c,d,f){return{payload:u,meta:_p(Ni({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),s=Oi(e+"/pending",function(u,c,d){return{payload:void 0,meta:_p(Ni({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=Oi(e+"/rejected",function(u,c,d,f,p){return{payload:f,error:(r&&r.serializeError||VD)(u||"Rejected"),meta:_p(Ni({},p||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,f){var p=r!=null&&r.idGenerator?r.idGenerator(u):UD(),v=new a,m;function S(g){m=g,v.abort()}var y=function(){return ID(this,null,function(){var g,w,_,E,k,I,N;return _D(this,function(R){switch(R.label){case 0:return R.trys.push([0,4,,5]),E=(g=r==null?void 0:r.condition)==null?void 0:g.call(r,u,{getState:d,extra:f}),BD(E)?[4,E]:[3,2];case 1:E=R.sent(),R.label=2;case 2:if(E===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return k=new Promise(function(D,W){return v.signal.addEventListener("abort",function(){return W({name:"AbortError",message:m||"Aborted"})})}),c(s(p,u,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:p,arg:u},{getState:d,extra:f}))),[4,Promise.race([k,Promise.resolve(n(u,{dispatch:c,getState:d,extra:f,requestId:p,signal:v.signal,abort:S,rejectWithValue:function(D,W){return new Sp(D,W)},fulfillWithValue:function(D,W){return new Qw(D,W)}})).then(function(D){if(D instanceof Sp)throw D;return D instanceof Qw?i(D.payload,p,u,D.meta):i(D,p,u)})])];case 3:return _=R.sent(),[3,5];case 4:return I=R.sent(),_=I instanceof Sp?o(null,p,u,I.payload,I.meta):o(I,p,u),[3,5];case 5:return N=r&&!r.dispatchConditionRejection&&o.match(_)&&_.meta.condition,N||c(_),[2,_]}})})}();return Object.assign(y,{abort:S,requestId:p,arg:u,unwrap:function(){return y.then(zD)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t}();function zD(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function BD(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var mv="listenerMiddleware";Oi(mv+"/add");Oi(mv+"/removeAll");Oi(mv+"/remove");var Yw;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);lD();const HD={theme:"dark",fullscreen:!0,version:Fl.version},qT=zh({name:"app",initialState:HD,reducers:{setTheme(t,e){t.theme=e.payload},toggleTheme(t){t.theme=t.theme==="light"?"dark":"light"},toggleFullscreen(t){t.fullscreen=!t.fullscreen}}}),Rn=lL;function pe(t){return DT(t,Fl.name)}const qD="AKfycbxGD1Lys79Ixt4BQ5mfH3ylX4_ZvtSGUFHltMILILPBWtcdPoSlI3FD5Ir8OcwtBA",WT=`https://script.google.com/macros/s/${qD}/exec`;async function Bs({spreadsheetId:t,sheetName:e,sheetIndex:n,columnTitles:r,columnIndexes:i,type:s}){const o=new URLSearchParams;t&&o.append("spreadsheetId",t),e&&o.append("sheetName",e),n&&o.append("sheetIndex",n.toString()),r&&o.append("columnTitles",JSON.stringify(r)),i&&o.append("columnIndexes",JSON.stringify(i)),s&&o.append("type",s);try{const l=await(await fetch(`${WT}?${o}`)).text(),u=await JSON.parse(l);if(u.status!=="success")throw new Error(u.error);return u}catch(a){throw new Error(pe(a))}}async function WD({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await Bs({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"TITLED"})}catch(r){throw new Error(pe(r))}}async function KD({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await Bs({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"TITLED_SINGLE"})}catch(r){throw new Error(pe(r))}}async function GD({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r}){try{return await Bs({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r,type:"TITLED"})}catch(i){throw new Error(pe(i))}}async function QD({spreadsheetId:t,sheetIndex:e,sheetName:n,columnTitles:r}){try{return await Bs({spreadsheetId:t,sheetIndex:e,sheetName:n,columnTitles:r,type:"TITLED"})}catch(i){throw new Error(pe(i))}}async function YD({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await Bs({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"UNTITLED"})}catch(r){throw new Error(pe(r))}}async function XD({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await Bs({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"UNTITLED_SINGLE"})}catch(r){throw new Error(pe(r))}}async function JD({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r}){try{return Bs({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r,type:"UNTITLED"})}catch(i){throw new Error(pe(i))}}async function li({spreadsheetId:t,sheetName:e,sheetIndex:n,titlesParams:r,indexesParams:i,type:s,col:o,row:a,value:l}){const u=new URLSearchParams;t&&u.append("spreadsheetId",t),e&&u.append("sheetName",e),n&&u.append("sheetIndex",n.toString()),r&&u.append("titlesParams",JSON.stringify(r)),i&&u.append("indexesParams",JSON.stringify(i)),s&&u.append("type",s),o&&u.append("col",o.toString()),a&&u.append("row",a.toString()),l&&u.append("value",l.toString());try{const d=await(await fetch(`${WT}?${u}`,{method:"POST"})).text(),f=await JSON.parse(d);if(f.status!=="success")throw new Error(f.error);return f}catch(c){throw new Error(pe(c))}}async function ZD({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await li({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"TITLED_SINGLE"})}catch(i){throw new Error(pe(i))}}async function ej({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){try{return await li({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED_SINGLE"})}catch(i){throw new Error(pe(i))}}async function tj({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await li({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"TITLED"})}catch(i){throw new Error(pe(i))}}async function nj({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){try{return await li({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED"})}catch(i){throw new Error(pe(i))}}async function rj({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s}){try{return await li({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s,type:"TITLED_UPDATE"})}catch(o){throw new Error(pe(o))}}async function ij({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await li({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED_ONE_ROW"})}catch(i){throw new Error(pe(i))}}async function sj({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await li({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED_SINGLE"})}catch(i){throw new Error(pe(i))}}async function oj({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await li({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED"})}catch(i){throw new Error(pe(i))}}async function aj({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s}){try{return await li({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s,type:"UNTITLED_UPDATE"})}catch(o){throw new Error(pe(o))}}const lj={getAllTitledColumnsData:WD,getTitledColumnsDataByIndexes:GD,getTitledColumnsDataByTitles:QD,getAllUntitledColumnsData:YD,getUntitledColumnsDataByIndexes:JD,postTitledColumnsDataByIndexes:tj,postSingleTitledColumnsDataByIndexes:ZD,postSingleTitledColumnsDataByTitles:ej,postTitledColumnsDataByTitles:nj,postAllUntitledParamsAsOneRow:ij,postSingleUntitledColumnsDataByIndexes:sj,postUntitledColumnsDataByIndexes:oj,postTitledUpdate:rj,postUntitledUpdate:aj,getAllTitledColumnsDataSingle:KD,getAllUntitledColumnsDataSingle:XD};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},uj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},GT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw Error();const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},cj=function(t){const e=KT(t);return GT.encodeByteArray(e,!0)},Id=function(t){return cj(t).replace(/\./g,"")},QT=function(t){try{return GT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function hj(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pj(){const t=Xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function XT(){try{return typeof indexedDB=="object"}catch{return!1}}function JT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function mj(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}function gj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=()=>gj().__FIREBASE_DEFAULTS__,vj=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&QT(t[1]);return e&&JSON.parse(e)},gv=()=>{try{return yj()||vj()||wj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZT=t=>{var e,n;return(n=(e=gv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ek=t=>{const e=ZT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_j=()=>{var t;return(t=gv())===null||t===void 0?void 0:t.config},tk=t=>{var e;return(e=gv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Id(JSON.stringify(n)),Id(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej="FirebaseError";class qn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ej,Object.setPrototypeOf(this,qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hs.prototype.create)}}class Hs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Cj(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new qn(i,a,r)}}function Cj(t,e){return t.replace(Tj,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Tj=/\{\$([^}]+)}/g;function kj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Xw(s)&&Xw(o)){if(!Hl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Xw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ka(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ga(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Ij(t,e){const n=new xj(t,e);return n.subscribe.bind(n)}class xj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ep),i.error===void 0&&(i.error=Ep),i.complete===void 0&&(i.complete=Ep);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ep(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=1e3,Aj=2,Pj=4*60*60*1e3,Lj=.5;function Jw(t,e=Rj,n=Aj){const r=e*Math.pow(n,t),i=Math.round(Lj*r*(Math.random()-.5)*2);return Math.min(Pj,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t){return t&&t._delegate?t._delegate:t}class Vn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Sj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Dj(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Oj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Oj(t){return t===os?void 0:t}function Dj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Nj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const Mj={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},$j=Ne.INFO,Uj={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},Fj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Uj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hh{constructor(e){this.name=e,this._logLevel=$j,this._logHandler=Fj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Mj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const Vj=(t,e)=>e.some(n=>t instanceof n);let Zw,e_;function zj(){return Zw||(Zw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bj(){return e_||(e_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rk=new WeakMap,Sg=new WeakMap,ik=new WeakMap,Cp=new WeakMap,yv=new WeakMap;function Hj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Di(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&rk.set(n,t)}).catch(()=>{}),yv.set(e,t),e}function qj(t){if(Sg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Sg.set(t,e)}let Eg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ik.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Di(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Wj(t){Eg=t(Eg)}function Kj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Tp(this),e,...n);return ik.set(r,e.sort?e.sort():[e]),Di(r)}:Bj().includes(t)?function(...e){return t.apply(Tp(this),e),Di(rk.get(this))}:function(...e){return Di(t.apply(Tp(this),e))}}function Gj(t){return typeof t=="function"?Kj(t):(t instanceof IDBTransaction&&qj(t),Vj(t,zj())?new Proxy(t,Eg):t)}function Di(t){if(t instanceof IDBRequest)return Hj(t);if(Cp.has(t))return Cp.get(t);const e=Gj(t);return e!==t&&(Cp.set(t,e),yv.set(e,t)),e}const Tp=t=>yv.get(t);function sk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Di(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Di(o.result),l.oldVersion,l.newVersion,Di(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const Qj=["get","getKey","getAll","getAllKeys","count"],Yj=["put","add","delete","clear"],kp=new Map;function t_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kp.get(e))return kp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Yj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Qj.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return kp.set(e,s),s}Wj(t=>({...t,get:(e,n,r)=>t_(e,n)||t.get(e,n,r),has:(e,n)=>!!t_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Jj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Jj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cg="@firebase/app",n_="0.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new Hh("@firebase/app"),Zj="@firebase/app-compat",eM="@firebase/analytics-compat",tM="@firebase/analytics",nM="@firebase/app-check-compat",rM="@firebase/app-check",iM="@firebase/auth",sM="@firebase/auth-compat",oM="@firebase/database",aM="@firebase/database-compat",lM="@firebase/functions",uM="@firebase/functions-compat",cM="@firebase/installations",dM="@firebase/installations-compat",hM="@firebase/messaging",fM="@firebase/messaging-compat",pM="@firebase/performance",mM="@firebase/performance-compat",gM="@firebase/remote-config",yM="@firebase/remote-config-compat",vM="@firebase/storage",wM="@firebase/storage-compat",_M="@firebase/firestore",SM="@firebase/firestore-compat",EM="firebase",CM="9.15.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="[DEFAULT]",TM={[Cg]:"fire-core",[Zj]:"fire-core-compat",[tM]:"fire-analytics",[eM]:"fire-analytics-compat",[rM]:"fire-app-check",[nM]:"fire-app-check-compat",[iM]:"fire-auth",[sM]:"fire-auth-compat",[oM]:"fire-rtdb",[aM]:"fire-rtdb-compat",[lM]:"fire-fn",[uM]:"fire-fn-compat",[cM]:"fire-iid",[dM]:"fire-iid-compat",[hM]:"fire-fcm",[fM]:"fire-fcm-compat",[pM]:"fire-perf",[mM]:"fire-perf-compat",[gM]:"fire-rc",[yM]:"fire-rc-compat",[vM]:"fire-gcs",[wM]:"fire-gcs-compat",[_M]:"fire-fst",[SM]:"fire-fst-compat","fire-js":"fire-js",[EM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=new Map,kg=new Map;function kM(t,e){try{t.container.addComponent(e)}catch(n){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ar(t){const e=t.name;if(kg.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;kg.set(e,t);for(const n of xd.values())kM(n,t);return!0}function Yi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ji=new Hs("app","Firebase",IM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=CM;function ok(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Tg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ji.create("bad-app-name",{appName:String(i)});if(n||(n=_j()),!n)throw ji.create("no-options");const s=xd.get(i);if(s){if(Hl(n,s.options)&&Hl(r,s.config))return s;throw ji.create("duplicate-app",{appName:i})}const o=new jj(i);for(const l of kg.values())o.addComponent(l);const a=new xM(n,r,o);return xd.set(i,a),a}function qh(t=Tg){const e=xd.get(t);if(!e&&t===Tg)return ok();if(!e)throw ji.create("no-app",{appName:t});return e}function gn(t,e,n){var r;let i=(r=TM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(a.join(" "));return}ar(new Vn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM="firebase-heartbeat-database",RM=1,ql="firebase-heartbeat-store";let Ip=null;function ak(){return Ip||(Ip=sk(bM,RM,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ql)}}}).catch(t=>{throw ji.create("idb-open",{originalErrorMessage:t.message})})),Ip}async function AM(t){try{return(await ak()).transaction(ql).objectStore(ql).get(lk(t))}catch(e){if(e instanceof qn)Ls.warn(e.message);else{const n=ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ls.warn(n.message)}}}async function r_(t,e){try{const r=(await ak()).transaction(ql,"readwrite");return await r.objectStore(ql).put(e,lk(t)),r.done}catch(n){if(n instanceof qn)Ls.warn(n.message);else{const r=ji.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ls.warn(r.message)}}}function lk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=1024,LM=30*24*60*60*1e3;class NM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=i_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=LM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=i_(),{heartbeatsToSend:n,unsentEntries:r}=OM(this._heartbeatsCache.heartbeats),i=Id(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function i_(){return new Date().toISOString().substring(0,10)}function OM(t,e=PM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),s_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),s_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XT()?JT().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await AM(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return r_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return r_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function s_(t){return Id(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t){ar(new Vn("platform-logger",e=>new Xj(e),"PRIVATE")),ar(new Vn("heartbeat",e=>new NM(e),"PRIVATE")),gn(Cg,n_,t),gn(Cg,n_,"esm2017"),gn("fire-js","")}jM("");function vv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function uk(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MM=uk,ck=new Hs("auth","Firebase",uk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=new Hh("@firebase/auth");function jc(t,...e){o_.logLevel<=Ne.ERROR&&o_.error(`Auth (${ca}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t,...e){throw wv(t,...e)}function Er(t,...e){return wv(t,...e)}function dk(t,e,n){const r=Object.assign(Object.assign({},MM()),{[e]:n});return new Hs("auth","Firebase",r).create(e,{appName:t.name})}function $M(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&zn(t,"argument-error"),dk(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ck.create(t,...e)}function ce(t,e,...n){if(!t)throw wv(e,...n)}function Vr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jc(e),new Error(e)}function ti(t,e){t||Vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=new Map;function zr(t){ti(t instanceof Function,"Expected a class definition");let e=a_.get(t);return e?(ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,a_.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(t,e){const n=Yi(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Hl(s,e??{}))return i;zn(i,"already-initialized")}return n.initialize({options:e})}function FM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function VM(){return l_()==="http:"||l_()==="https:"}function l_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VM()||YT()||"connection"in navigator)?navigator.onLine:!0}function BM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ti(n>e,"Short delay should be less than long delay!"),this.isMobile=dj()||fj()}get(){return zM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t,e){ti(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=new mu(3e4,6e4);function gu(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function da(t,e,n,r,i={}){return fk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=pu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),hk.fetch()(pk(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function fk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},HM),e);try{const i=new WM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw lc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw lc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw lc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw lc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw dk(t,c,u);zn(t,c)}}catch(i){if(i instanceof qn)throw i;zn(t,"network-request-failed")}}async function yu(t,e,n,r,i={}){const s=await da(t,e,n,r,i);return"mfaPendingCredential"in s&&zn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function pk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?_v(t.config,i):`${t.config.apiScheme}://${i}`}class WM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Er(this.auth,"network-request-failed")),qM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Er(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM(t,e){return da(t,"POST","/v1/accounts:delete",e)}async function GM(t,e){return da(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QM(t,e=!1){const n=Xe(t),r=await n.getIdToken(e),i=Sv(r);ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:cl(xp(i.auth_time)),issuedAtTime:cl(xp(i.iat)),expirationTime:cl(xp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function xp(t){return Number(t)*1e3}function Sv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const i=QT(n);return i?JSON.parse(i):(jc("Failed to decode base64 JWT payload"),null)}catch(i){return jc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function YM(t){const e=Sv(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qn&&XM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function XM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cl(this.lastLoginAt),this.creationTime=cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Qo(t,GM(n,{idToken:r}));ce(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?t$(s.providerUserInfo):[],a=e$(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new mk(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function ZM(t){const e=Xe(t);await bd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function e$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function t$(t){return t.map(e=>{var{providerId:n}=e,r=vv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n$(t,e){const n=await fk(t,{},async()=>{const r=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=pk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",hk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ce(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await n$(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Wl;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ce(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wl,this.toJSON())}_performRefresh(){return Vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ss{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=vv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new mk(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Qo(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QM(this,e)}reload(){return ZM(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ss(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Qo(this,KM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:_,isAnonymous:E,providerData:k,stsTokenManager:I}=n;ce(w&&I,e,"internal-error");const N=Wl.fromJSON(this.name,I);ce(typeof w=="string",e,"internal-error"),hi(d,e.name),hi(f,e.name),ce(typeof _=="boolean",e,"internal-error"),ce(typeof E=="boolean",e,"internal-error"),hi(p,e.name),hi(v,e.name),hi(m,e.name),hi(S,e.name),hi(y,e.name),hi(g,e.name);const R=new Ss({uid:w,auth:e,email:f,emailVerified:_,displayName:d,isAnonymous:E,photoURL:v,phoneNumber:p,tenantId:m,stsTokenManager:N,createdAt:y,lastLoginAt:g});return k&&Array.isArray(k)&&(R.providerData=k.map(D=>Object.assign({},D))),S&&(R._redirectEventId=S),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Wl;i.updateFromServerResponse(n);const s=new Ss({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await bd(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gk.type="NONE";const u_=gk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t,e,n){return`firebase:${t}:${e}:${n}`}class No{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Mc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Mc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ss._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new No(zr(u_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||zr(u_);const o=Mc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Ss._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new No(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new No(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Sk(e))return"Blackberry";if(Ek(e))return"Webos";if(Ev(e))return"Safari";if((e.includes("chrome/")||vk(e))&&!e.includes("edge/"))return"Chrome";if(_k(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yk(t=Xt()){return/firefox\//i.test(t)}function Ev(t=Xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vk(t=Xt()){return/crios\//i.test(t)}function wk(t=Xt()){return/iemobile/i.test(t)}function _k(t=Xt()){return/android/i.test(t)}function Sk(t=Xt()){return/blackberry/i.test(t)}function Ek(t=Xt()){return/webos/i.test(t)}function Wh(t=Xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function r$(t=Xt()){var e;return Wh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function i$(){return pj()&&document.documentMode===10}function Ck(t=Xt()){return Wh(t)||_k(t)||Ek(t)||Sk(t)||/windows phone/i.test(t)||wk(t)}function s$(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(t,e=[]){let n;switch(t){case"Browser":n=c_(Xt());break;case"Worker":n=`${c_(Xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ca}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d_(this),this.idTokenSubscription=new d_(this),this.beforeStateQueue=new o$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ck,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await No.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Xe(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zr(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function ha(t){return Xe(t)}class d_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ij(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function l$(t,e,n){const r=ha(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=kk(e),{host:o,port:a}=u$(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||c$()}function kk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function u$(t){const e=kk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:h_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:h_(o)}}}function h_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function c$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vr("not implemented")}_getIdTokenResponse(e){return Vr("not implemented")}_linkToIdToken(e,n){return Vr("not implemented")}_getReauthenticationResolver(e){return Vr("not implemented")}}async function d$(t,e){return da(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h$(t,e){return yu(t,"POST","/v1/accounts:signInWithPassword",gu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f$(t,e){return yu(t,"POST","/v1/accounts:signInWithEmailLink",gu(t,e))}async function p$(t,e){return yu(t,"POST","/v1/accounts:signInWithEmailLink",gu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends Cv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Kl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Kl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return h$(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return f$(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return d$(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return p$(e,{idToken:n,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(t,e){return yu(t,"POST","/v1/accounts:signInWithIdp",gu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$="http://localhost";class Ns extends Cv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=vv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ns(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Oo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Oo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oo(e,n)}buildRequest(){const e={requestUri:m$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function y$(t){const e=Ka(Ga(t)).link,n=e?Ka(Ga(e)).deep_link_id:null,r=Ka(Ga(t)).deep_link_id;return(r?Ka(Ga(r)).link:null)||r||n||e||t}class Tv{constructor(e){var n,r,i,s,o,a;const l=Ka(Ga(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=g$((i=l.mode)!==null&&i!==void 0?i:null);ce(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=y$(e);try{return new Tv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.providerId=fa.PROVIDER_ID}static credential(e,n){return Kl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Tv.parseLink(n);return ce(r,"argument-error"),Kl._fromEmailAndCode(e,r.code,r.tenantId)}}fa.PROVIDER_ID="password";fa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends kv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends vu{constructor(){super("facebook.com")}static credential(e){return Ns._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vi.credential(e.oauthAccessToken)}catch{return null}}}vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ns._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mr.credential(n,r)}catch{return null}}}Mr.GOOGLE_SIGN_IN_METHOD="google.com";Mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends vu{constructor(){super("github.com")}static credential(e){return Ns._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.GITHUB_SIGN_IN_METHOD="github.com";wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends vu{constructor(){super("twitter.com")}static credential(e,n){return Ns._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _i.credential(n,r)}catch{return null}}}_i.TWITTER_SIGN_IN_METHOD="twitter.com";_i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v$(t,e){return yu(t,"POST","/v1/accounts:signUp",gu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ss._fromIdTokenResponse(e,r,i),o=f_(r);return new Os({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=f_(r);return new Os({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function f_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends qn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Rd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Rd(e,n,r,i)}}function Ik(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Rd._fromErrorAndOperation(t,s,e,r):s})}async function w$(t,e,n=!1){const r=await Qo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Os._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _$(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Qo(t,Ik(r,i,e,t),n);ce(s.idToken,r,"internal-error");const o=Sv(s.idToken);ce(o,r,"internal-error");const{sub:a}=o;return ce(t.uid===a,r,"user-mismatch"),Os._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&zn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xk(t,e,n=!1){const r="signIn",i=await Ik(t,r,e),s=await Os._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function S$(t,e){return xk(ha(t),e)}async function E$(t,e,n){const r=ha(t),i=await v$(r,{returnSecureToken:!0,email:e,password:n}),s=await Os._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function C$(t,e,n){return S$(Xe(t),fa.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T$(t,e){return da(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k$(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Xe(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Qo(r,T$(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function I$(t,e,n,r){return Xe(t).onIdTokenChanged(e,n,r)}function x$(t,e,n){return Xe(t).beforeAuthStateChanged(e,n)}function b$(t,e,n,r){return Xe(t).onAuthStateChanged(e,n,r)}function R$(t){return Xe(t).signOut()}const Ad="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ad,"1"),this.storage.removeItem(Ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$(){const t=Xt();return Ev(t)||Wh(t)}const P$=1e3,L$=10;class Rk extends bk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=A$()&&s$(),this.fallbackToPolling=Ck(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);i$()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,L$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},P$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Rk.type="LOCAL";const N$=Rk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak extends bk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ak.type="SESSION";const Pk=Ak;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Kh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await O$(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Iv("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function j$(t){Cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function M$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function U$(){return Lk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk="firebaseLocalStorageDb",F$=1,Pd="firebaseLocalStorage",Ok="fbase_key";class wu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gh(t,e){return t.transaction([Pd],e?"readwrite":"readonly").objectStore(Pd)}function V$(){const t=indexedDB.deleteDatabase(Nk);return new wu(t).toPromise()}function xg(){const t=indexedDB.open(Nk,F$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pd,{keyPath:Ok})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pd)?e(r):(r.close(),await V$(),e(await xg()))})})}async function p_(t,e,n){const r=Gh(t,!0).put({[Ok]:e,value:n});return new wu(r).toPromise()}async function z$(t,e){const n=Gh(t,!1).get(e),r=await new wu(n).toPromise();return r===void 0?null:r.value}function m_(t,e){const n=Gh(t,!0).delete(e);return new wu(n).toPromise()}const B$=800,H$=3;class Dk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>H$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Lk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(U$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await M$(),!this.activeServiceWorker)return;this.sender=new D$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xg();return await p_(e,Ad,"1"),await m_(e,Ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>p_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>z$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>m_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Gh(i,!1).getAll();return new wu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),B$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Dk.type="LOCAL";const q$=Dk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function K$(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Er("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",W$().appendChild(r)})}function G$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t,e){return e?zr(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv extends Cv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Q$(t){return xk(t.auth,new xv(t),t.bypassAuthState)}function Y$(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),_$(n,new xv(t),t.bypassAuthState)}async function X$(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),w$(n,new xv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q$;case"linkViaPopup":case"linkViaRedirect":return X$;case"reauthViaPopup":case"reauthViaRedirect":return Y$;default:zn(this.auth,"internal-error")}}resolve(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$=new mu(2e3,1e4);async function Z$(t,e,n){const r=ha(t);$M(t,e,kv);const i=jk(r,n);return new hs(r,"signInViaPopup",e,i).executeNotNull()}class hs extends Mk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,hs.currentPopupAction&&hs.currentPopupAction.cancel(),hs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){ti(this.filter.length===1,"Popup operations only handle one event");const e=Iv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Er(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,J$.get())};e()}}hs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="pendingRedirect",$c=new Map;class t4 extends Mk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const r=await n4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n4(t,e){const n=s4(e),r=i4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function r4(t,e){$c.set(t._key(),e)}function i4(t){return zr(t._redirectPersistence)}function s4(t){return Mc(e4,t.config.apiKey,t.name)}async function o4(t,e,n=!1){const r=ha(t),i=jk(r,e),o=await new t4(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=10*60*1e3;class l4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!u4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$k(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Er(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a4&&this.cachedEventUids.clear(),this.cachedEventUids.has(g_(e))}saveEventToCache(e){this.cachedEventUids.add(g_(e)),this.lastProcessedEventTime=Date.now()}}function g_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $k({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function u4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $k(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(t,e={}){return da(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h4=/^https?/;async function f4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await c4(t);for(const n of e)try{if(p4(n))return}catch{}zn(t,"unauthorized-domain")}function p4(t){const e=Ig(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!h4.test(n))return!1;if(d4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=new mu(3e4,6e4);function y_(){const t=Cr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function g4(t){return new Promise((e,n)=>{var r,i,s;function o(){y_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{y_(),n(Er(t,"network-request-failed"))},timeout:m4.get()})}if(!((i=(r=Cr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Cr().gapi)===null||s===void 0)&&s.load)o();else{const a=G$("iframefcb");return Cr()[a]=()=>{gapi.load?o():n(Er(t,"network-request-failed"))},K$(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Uc=null,e})}let Uc=null;function y4(t){return Uc=Uc||g4(t),Uc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=new mu(5e3,15e3),w4="__/auth/iframe",_4="emulator/auth/iframe",S4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C4(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_v(e,_4):`https://${t.config.authDomain}/${w4}`,r={apiKey:e.apiKey,appName:t.name,v:ca},i=E4.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${pu(r).slice(1)}`}async function T4(t){const e=await y4(t),n=Cr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:C4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:S4,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Er(t,"network-request-failed"),a=Cr().setTimeout(()=>{s(o)},v4.get());function l(){Cr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I4=500,x4=600,b4="_blank",R4="http://localhost";class v_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A4(t,e,n,r=I4,i=x4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},k4),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Xt().toLowerCase();n&&(a=vk(u)?b4:n),yk(u)&&(e=e||R4,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,v])=>`${f}${p}=${v},`,"");if(r$(u)&&a!=="_self")return P4(e||"",a),new v_(null);const d=window.open(e||"",a,c);ce(d,t,"popup-blocked");try{d.focus()}catch{}return new v_(d)}function P4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="__/auth/handler",N4="emulator/auth/handler";function w_(t,e,n,r,i,s){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ca,eventId:i};if(e instanceof kv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",kj(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof vu){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${O4(t)}?${pu(a).slice(1)}`}function O4({config:t}){return t.emulator?_v(t,N4):`https://${t.authDomain}/${L4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="webStorageSupport";class D4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pk,this._completeRedirectFn=o4,this._overrideRedirectResult=r4}async _openPopup(e,n,r,i){var s;ti((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=w_(e,n,r,Ig(),i);return A4(e,o,Iv())}async _openRedirect(e,n,r,i){return await this._originValidation(e),j$(w_(e,n,r,Ig(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ti(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await T4(e),r=new l4(e);return n.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bp,{type:bp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[bp];o!==void 0&&n(!!o),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=f4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ck()||Ev()||Wh()}}const j4=D4;var __="@firebase/auth",S_="0.21.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function U4(t){ar(new Vn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{ce(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),ce(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tk(t)},c=new a$(a,l,u);return FM(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ar(new Vn("auth-internal",e=>{const n=ha(e.getProvider("auth").getImmediate());return(r=>new M4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gn(__,S_,$4(t)),gn(__,S_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=5*60,V4=tk("authIdTokenMaxAge")||F4;let E_=null;const z4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>V4)return;const i=n==null?void 0:n.token;E_!==i&&(E_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function B4(t=qh()){const e=Yi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=UM(t,{popupRedirectResolver:j4,persistence:[q$,N$,Pk]}),r=tk("authTokenSyncURL");if(r){const s=z4(r);x$(n,s,()=>s(n.currentUser)),I$(n,o=>s(o))}const i=ZT("auth");return i&&l$(n,`http://${i}`),n}U4("Browser");const Uk="@firebase/installations",bv="0.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=1e4,Vk=`w:${bv}`,zk="FIS_v2",H4="https://firebaseinstallations.googleapis.com/v1",q4=60*60*1e3,W4="installations",K4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},Ds=new Hs(W4,K4,G4);function Bk(t){return t instanceof qn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk({projectId:t}){return`${H4}/projects/${t}/installations`}function qk(t){return{token:t.token,requestStatus:2,expiresIn:Y4(t.expiresIn),creationTime:Date.now()}}async function Wk(t,e){const r=(await e.json()).error;return Ds.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Kk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Q4(t,{refreshToken:e}){const n=Kk(t);return n.append("Authorization",X4(e)),n}async function Gk(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Y4(t){return Number(t.replace("s","000"))}function X4(t){return`${zk} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J4({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Hk(t),i=Kk(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:zk,appId:t.appId,sdkVersion:Vk},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Gk(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:qk(u.authToken)}}else throw await Wk("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=/^[cdef][\w-]{21}$/,bg="";function t3(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=n3(t);return e3.test(n)?n:bg}catch{return bg}}function n3(t){return Z4(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=new Map;function Xk(t,e){const n=Qh(t);Jk(n,e),r3(n,e)}function Jk(t,e){const n=Yk.get(t);if(n)for(const r of n)r(e)}function r3(t,e){const n=i3();n&&n.postMessage({key:t,fid:e}),s3()}let fs=null;function i3(){return!fs&&"BroadcastChannel"in self&&(fs=new BroadcastChannel("[Firebase] FID Change"),fs.onmessage=t=>{Jk(t.data.key,t.data.fid)}),fs}function s3(){Yk.size===0&&fs&&(fs.close(),fs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="firebase-installations-database",a3=1,js="firebase-installations-store";let Rp=null;function Rv(){return Rp||(Rp=sk(o3,a3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(js)}}})),Rp}async function Ld(t,e){const n=Qh(t),i=(await Rv()).transaction(js,"readwrite"),s=i.objectStore(js),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Xk(t,e.fid),e}async function Zk(t){const e=Qh(t),r=(await Rv()).transaction(js,"readwrite");await r.objectStore(js).delete(e),await r.done}async function Yh(t,e){const n=Qh(t),i=(await Rv()).transaction(js,"readwrite"),s=i.objectStore(js),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Xk(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Av(t){let e;const n=await Yh(t.appConfig,r=>{const i=l3(r),s=u3(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===bg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function l3(t){const e=t||{fid:t3(),registrationStatus:0};return eI(e)}function u3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ds.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=c3(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:d3(t)}:{installationEntry:e}}async function c3(t,e){try{const n=await J4(t,e);return Ld(t.appConfig,n)}catch(n){throw Bk(n)&&n.customData.serverCode===409?await Zk(t.appConfig):await Ld(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function d3(t){let e=await C_(t.appConfig);for(;e.registrationStatus===1;)await Qk(100),e=await C_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Av(t);return r||n}return e}function C_(t){return Yh(t,e=>{if(!e)throw Ds.create("installation-not-found");return eI(e)})}function eI(t){return h3(t)?{fid:t.fid,registrationStatus:0}:t}function h3(t){return t.registrationStatus===1&&t.registrationTime+Fk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3({appConfig:t,heartbeatServiceProvider:e},n){const r=p3(t,n),i=Q4(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:Vk,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Gk(()=>fetch(r,a));if(l.ok){const u=await l.json();return qk(u)}else throw await Wk("Generate Auth Token",l)}function p3(t,{fid:e}){return`${Hk(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pv(t,e=!1){let n;const r=await Yh(t.appConfig,s=>{if(!tI(s))throw Ds.create("not-registered");const o=s.authToken;if(!e&&y3(o))return s;if(o.requestStatus===1)return n=m3(t,e),s;{if(!navigator.onLine)throw Ds.create("app-offline");const a=w3(s);return n=g3(t,a),a}});return n?await n:r.authToken}async function m3(t,e){let n=await T_(t.appConfig);for(;n.authToken.requestStatus===1;)await Qk(100),n=await T_(t.appConfig);const r=n.authToken;return r.requestStatus===0?Pv(t,e):r}function T_(t){return Yh(t,e=>{if(!tI(e))throw Ds.create("not-registered");const n=e.authToken;return _3(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function g3(t,e){try{const n=await f3(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Ld(t.appConfig,r),n}catch(n){if(Bk(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Zk(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ld(t.appConfig,r)}throw n}}function tI(t){return t!==void 0&&t.registrationStatus===2}function y3(t){return t.requestStatus===2&&!v3(t)}function v3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+q4}function w3(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function _3(t){return t.requestStatus===1&&t.requestTime+Fk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S3(t){const e=t,{installationEntry:n,registrationPromise:r}=await Av(e);return r?r.catch(console.error):Pv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E3(t,e=!1){const n=t;return await C3(n),(await Pv(n,e)).token}async function C3(t){const{registrationPromise:e}=await Av(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(t){if(!t||!t.options)throw Ap("App Configuration");if(!t.name)throw Ap("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ap(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ap(t){return Ds.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="installations",k3="installations-internal",I3=t=>{const e=t.getProvider("app").getImmediate(),n=T3(e),r=Yi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},x3=t=>{const e=t.getProvider("app").getImmediate(),n=Yi(e,nI).getImmediate();return{getId:()=>S3(n),getToken:i=>E3(n,i)}};function b3(){ar(new Vn(nI,I3,"PUBLIC")),ar(new Vn(k3,x3,"PRIVATE"))}b3();gn(Uk,bv);gn(Uk,bv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="analytics",R3="firebase_id",A3="origin",P3=60*1e3,L3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rI="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En=new Hh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function N3(t,e){const n=document.createElement("script");n.src=`${rI}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function O3(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function D3(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await iI(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){En.error(a)}t("config",i,s)}async function j3(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await iI(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){En.error(s)}}function M3(t,e,n,r){async function i(s,o,a){try{s==="event"?await j3(t,e,n,o,a):s==="config"?await D3(t,e,n,r,o,a):s==="consent"?t("consent","update",a):t("set",o)}catch(l){En.error(l)}}return i}function $3(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=M3(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function U3(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(rI)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},Mn=new Hs("analytics","Analytics",F3);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3=30,z3=1e3;class B3{constructor(e={},n=z3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const sI=new B3;function H3(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function q3(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:H3(r)},s=L3.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Mn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function W3(t,e=sI,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Mn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Mn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Q3;return setTimeout(async()=>{a.abort()},n!==void 0?n:P3),oI({appId:r,apiKey:i,measurementId:s},o,a,e)}async function oI(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=sI){var s;const{appId:o,measurementId:a}=t;try{await K3(r,e)}catch(l){if(a)return En.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await q3(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!G3(u)){if(i.deleteThrottleMetadata(o),a)return En.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?Jw(n,i.intervalMillis,V3):Jw(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),En.debug(`Calling attemptFetch again in ${c} millis`),oI(t,d,r,i)}}function K3(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function G3(t){if(!(t instanceof qn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Q3{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Y3(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X3(){if(XT())try{await JT()}catch(t){return En.warn(Mn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return En.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function J3(t,e,n,r,i,s,o){var a;const l=W3(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&En.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>En.error(p)),e.push(l);const u=X3().then(p=>{if(p)return r.getId()}),[c,d]=await Promise.all([l,u]);U3(s)||N3(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[A3]="firebase",f.update=!0,d!=null&&(f[R3]=d),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.app=e}_delete(){return delete dl[this.app.options.appId],Promise.resolve()}}let dl={},k_=[];const I_={};let Pp="dataLayer",e6="gtag",x_,aI,b_=!1;function t6(){const t=[];if(YT()&&t.push("This is a browser extension environment."),mj()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Mn.create("invalid-analytics-context",{errorInfo:e});En.warn(n.message)}}function n6(t,e,n){t6();const r=t.options.appId;if(!r)throw Mn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)En.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Mn.create("no-api-key");if(dl[r]!=null)throw Mn.create("already-exists",{id:r});if(!b_){O3(Pp);const{wrappedGtag:s,gtagCore:o}=$3(dl,k_,I_,Pp,e6);aI=s,x_=o,b_=!0}return dl[r]=J3(t,k_,I_,e,x_,Pp,n),new Z3(t)}function r6(t=qh()){t=Xe(t);const e=Yi(t,Nd);return e.isInitialized()?e.getImmediate():i6(t)}function i6(t,e={}){const n=Yi(t,Nd);if(n.isInitialized()){const i=n.getImmediate();if(Hl(e,n.getOptions()))return i;throw Mn.create("already-initialized")}return n.initialize({options:e})}function s6(t,e,n,r){t=Xe(t),Y3(aI,dl[t.app.options.appId],e,n,r).catch(i=>En.error(i))}const R_="@firebase/analytics",A_="0.9.0";function o6(){ar(new Vn(Nd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return n6(r,i,n)},"PUBLIC")),ar(new Vn("analytics-internal",t,"PRIVATE")),gn(R_,A_),gn(R_,A_,"esm2017");function t(e){try{const n=e.getProvider(Nd).getImmediate();return{logEvent:(r,i,s)=>s6(n,r,i,s)}}catch(n){throw Mn.create("interop-component-reg-failed",{reason:n})}}}o6();var a6="firebase",l6="9.15.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn(a6,l6,"app");var u6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X,Lv=Lv||{},fe=u6||self;function Od(){}function Xh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function _u(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function c6(t){return Object.prototype.hasOwnProperty.call(t,Lp)&&t[Lp]||(t[Lp]=++d6)}var Lp="closure_uid_"+(1e9*Math.random()>>>0),d6=0;function h6(t,e,n){return t.call.apply(t.bind,arguments)}function f6(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Kt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Kt=h6:Kt=f6,Kt.apply(null,arguments)}function uc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function jt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Xi(){this.s=this.s,this.o=this.o}var p6=0;Xi.prototype.s=!1;Xi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),p6!=0)&&c6(this)};Xi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Nv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function P_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Xh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Gt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Gt.prototype.h=function(){this.defaultPrevented=!0};var m6=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{fe.addEventListener("test",Od,e),fe.removeEventListener("test",Od,e)}catch{}return t}();function Dd(t){return/^[\s\xa0]*$/.test(t)}var L_=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Np(t,e){return t<e?-1:t>e?1:0}function Jh(){var t=fe.navigator;return t&&(t=t.userAgent)?t:""}function gr(t){return Jh().indexOf(t)!=-1}function Ov(t){return Ov[" "](t),t}Ov[" "]=Od;function g6(t){var e=w6;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var y6=gr("Opera"),Yo=gr("Trident")||gr("MSIE"),uI=gr("Edge"),Rg=uI||Yo,cI=gr("Gecko")&&!(Jh().toLowerCase().indexOf("webkit")!=-1&&!gr("Edge"))&&!(gr("Trident")||gr("MSIE"))&&!gr("Edge"),v6=Jh().toLowerCase().indexOf("webkit")!=-1&&!gr("Edge");function dI(){var t=fe.document;return t?t.documentMode:void 0}var jd;e:{var Op="",Dp=function(){var t=Jh();if(cI)return/rv:([^\);]+)(\)|;)/.exec(t);if(uI)return/Edge\/([\d\.]+)/.exec(t);if(Yo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(v6)return/WebKit\/(\S+)/.exec(t);if(y6)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Dp&&(Op=Dp?Dp[1]:""),Yo){var jp=dI();if(jp!=null&&jp>parseFloat(Op)){jd=String(jp);break e}}jd=Op}var w6={};function _6(){return g6(function(){let t=0;const e=L_(String(jd)).split("."),n=L_("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Np(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Np(i[2].length==0,s[2].length==0)||Np(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Ag;if(fe.document&&Yo){var N_=dI();Ag=N_||parseInt(jd,10)||void 0}else Ag=void 0;var S6=Ag;function Gl(t,e){if(Gt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(cI){e:{try{Ov(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:E6[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Gl.X.h.call(this)}}jt(Gl,Gt);var E6={2:"touch",3:"pen",4:"mouse"};Gl.prototype.h=function(){Gl.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Su="closure_listenable_"+(1e6*Math.random()|0),C6=0;function T6(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++C6,this.ba=this.ea=!1}function Zh(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Dv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function hI(t){const e={};for(const n in t)e[n]=t[n];return e}const O_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<O_.length;s++)n=O_[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ef(t){this.src=t,this.g={},this.h=0}ef.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Lg(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new T6(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function Pg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=lI(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Zh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Lg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var jv="closure_lm_"+(1e6*Math.random()|0),Mp={};function pI(t,e,n,r,i){if(r&&r.once)return gI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)pI(t,e[s],n,r,i);return null}return n=Uv(n),t&&t[Su]?t.N(e,n,_u(r)?!!r.capture:!!r,i):mI(t,e,n,!1,r,i)}function mI(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=_u(i)?!!i.capture:!!i,a=$v(t);if(a||(t[jv]=a=new ef(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=k6(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)m6||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function k6(){function t(n){return e.call(t.src,t.listener,n)}const e=I6;return t}function gI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)gI(t,e[s],n,r,i);return null}return n=Uv(n),t&&t[Su]?t.O(e,n,_u(r)?!!r.capture:!!r,i):mI(t,e,n,!0,r,i)}function yI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)yI(t,e[s],n,r,i);else r=_u(r)?!!r.capture:!!r,n=Uv(n),t&&t[Su]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Lg(s,n,r,i),-1<n&&(Zh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=$v(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Lg(e,n,r,i)),(n=-1<t?e[t]:null)&&Mv(n))}function Mv(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Su])Pg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=$v(e))?(Pg(n,t),n.h==0&&(n.src=null,e[jv]=null)):Zh(t)}}}function vI(t){return t in Mp?Mp[t]:Mp[t]="on"+t}function I6(t,e){if(t.ba)t=!0;else{e=new Gl(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Mv(t),t=n.call(r,e)}return t}function $v(t){return t=t[jv],t instanceof ef?t:null}var $p="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uv(t){return typeof t=="function"?t:(t[$p]||(t[$p]=function(e){return t.handleEvent(e)}),t[$p])}function bt(){Xi.call(this),this.i=new ef(this),this.P=this,this.I=null}jt(bt,Xi);bt.prototype[Su]=!0;bt.prototype.removeEventListener=function(t,e,n,r){yI(this,t,e,n,r)};function Ot(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Gt(e,t);else if(e instanceof Gt)e.target=e.target||t;else{var i=e;e=new Gt(r,t),fI(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=cc(o,r,!0,e)&&i}if(o=e.g=t,i=cc(o,r,!0,e)&&i,i=cc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=cc(o,r,!1,e)&&i}bt.prototype.M=function(){if(bt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Zh(n[r]);delete t.g[e],t.h--}}this.I=null};bt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};bt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function cc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Pg(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Fv=fe.JSON.stringify;function x6(){var t=SI;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class b6{constructor(){this.h=this.g=null}add(e,n){const r=wI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var wI=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new R6,t=>t.reset());class R6{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function A6(t){fe.setTimeout(()=>{throw t},0)}function _I(t,e){Ng||P6(),Og||(Ng(),Og=!0),SI.add(t,e)}var Ng;function P6(){var t=fe.Promise.resolve(void 0);Ng=function(){t.then(L6)}}var Og=!1,SI=new b6;function L6(){for(var t;t=x6();){try{t.h.call(t.g)}catch(n){A6(n)}var e=wI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Og=!1}function tf(t,e){bt.call(this),this.h=t||1,this.g=e||fe,this.j=Kt(this.lb,this),this.l=Date.now()}jt(tf,bt);X=tf.prototype;X.ca=!1;X.R=null;X.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ot(this,"tick"),this.ca&&(Vv(this),this.start()))}};X.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Vv(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}X.M=function(){tf.X.M.call(this),Vv(this),delete this.g};function zv(t,e,n){if(typeof t=="function")n&&(t=Kt(t,n));else if(t&&typeof t.handleEvent=="function")t=Kt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:fe.setTimeout(t,e||0)}function EI(t){t.g=zv(()=>{t.g=null,t.i&&(t.i=!1,EI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class N6 extends Xi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:EI(this)}M(){super.M(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ql(t){Xi.call(this),this.h=t,this.g={}}jt(Ql,Xi);var D_=[];function CI(t,e,n,r){Array.isArray(n)||(n&&(D_[0]=n.toString()),n=D_);for(var i=0;i<n.length;i++){var s=pI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function TI(t){Dv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Mv(e)},t),t.g={}}Ql.prototype.M=function(){Ql.X.M.call(this),TI(this)};Ql.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function nf(){this.g=!0}nf.prototype.Aa=function(){this.g=!1};function O6(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function D6(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Eo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+M6(t,n)+(r?" "+r:"")})}function j6(t,e){t.info(function(){return"TIMEOUT: "+e})}nf.prototype.info=function(){};function M6(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Fv(n)}catch{return e}}var qs={},j_=null;function rf(){return j_=j_||new bt}qs.Pa="serverreachability";function kI(t){Gt.call(this,qs.Pa,t)}jt(kI,Gt);function Yl(t){const e=rf();Ot(e,new kI(e))}qs.STAT_EVENT="statevent";function II(t,e){Gt.call(this,qs.STAT_EVENT,t),this.stat=e}jt(II,Gt);function rn(t){const e=rf();Ot(e,new II(e,t))}qs.Qa="timingevent";function xI(t,e){Gt.call(this,qs.Qa,t),this.size=e}jt(xI,Gt);function Eu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){t()},e)}var sf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},bI={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Bv(){}Bv.prototype.h=null;function M_(t){return t.h||(t.h=t.i())}function RI(){}var Cu={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Hv(){Gt.call(this,"d")}jt(Hv,Gt);function qv(){Gt.call(this,"c")}jt(qv,Gt);var Dg;function of(){}jt(of,Bv);of.prototype.g=function(){return new XMLHttpRequest};of.prototype.i=function(){return{}};Dg=new of;function Tu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Ql(this),this.O=$6,t=Rg?125:void 0,this.T=new tf(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new AI}function AI(){this.i=null,this.g="",this.h=!1}var $6=45e3,jg={},Md={};X=Tu.prototype;X.setTimeout=function(t){this.O=t};function Mg(t,e,n){t.K=1,t.v=lf(ni(e)),t.s=n,t.P=!0,PI(t,null)}function PI(t,e){t.F=Date.now(),ku(t),t.A=ni(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),UI(n.i,"t",r),t.C=0,n=t.l.H,t.h=new AI,t.g=ox(t.l,n?e:null,!t.s),0<t.N&&(t.L=new N6(Kt(t.La,t,t.g),t.N)),CI(t.S,t.g,"readystatechange",t.ib),e=t.H?hI(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Yl(),O6(t.j,t.u,t.A,t.m,t.U,t.s)}X.ib=function(t){t=t.target;const e=this.L;e&&Br(t)==3?e.l():this.La(t)};X.La=function(t){try{if(t==this.g)e:{const c=Br(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>c)&&(c!=3||Rg||this.g&&(this.h.h||this.g.fa()||V_(this.g)))){this.I||c!=4||e==7||(e==8||0>=d?Yl(3):Yl(2)),af(this);var n=this.g.aa();this.Y=n;t:if(LI(this)){var r=V_(this.g);t="";var i=r.length,s=Br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ps(this),hl(this);var o="";break t}this.h.i=new fe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,D6(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dd(a)){var u=a;break t}}u=null}if(n=u)Eo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,$g(this,n);else{this.i=!1,this.o=3,rn(12),ps(this),hl(this);break e}}this.P?(NI(this,c,o),Rg&&this.i&&c==3&&(CI(this.S,this.T,"tick",this.hb),this.T.start())):(Eo(this.j,this.m,o,null),$g(this,o)),c==4&&ps(this),this.i&&!this.I&&(c==4?nx(this.l,this):(this.i=!1,ku(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,rn(12)):(this.o=0,rn(13)),ps(this),hl(this)}}}catch{}finally{}};function LI(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function NI(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=U6(t,n),i==Md){e==4&&(t.o=4,rn(14),r=!1),Eo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==jg){t.o=4,rn(15),Eo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Eo(t.j,t.m,i,null),$g(t,i);LI(t)&&i!=Md&&i!=jg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,rn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jv(e),e.K=!0,rn(11))):(Eo(t.j,t.m,n,"[Invalid Chunked Response]"),ps(t),hl(t))}X.hb=function(){if(this.g){var t=Br(this.g),e=this.g.fa();this.C<e.length&&(af(this),NI(this,t,e),this.i&&t!=4&&ku(this))}};function U6(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Md:(n=Number(e.substring(n,r)),isNaN(n)?jg:(r+=1,r+n>e.length?Md:(e=e.substr(r,n),t.C=r+n,e)))}X.cancel=function(){this.I=!0,ps(this)};function ku(t){t.V=Date.now()+t.O,OI(t,t.O)}function OI(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Eu(Kt(t.gb,t),e)}function af(t){t.B&&(fe.clearTimeout(t.B),t.B=null)}X.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(j6(this.j,this.A),this.K!=2&&(Yl(),rn(17)),ps(this),this.o=2,hl(this)):OI(this,this.V-t)};function hl(t){t.l.G==0||t.I||nx(t.l,t)}function ps(t){af(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Vv(t.T),TI(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function $g(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Ug(n.h,t))){if(!t.J&&Ug(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Fd(n),df(n);else break e;Xv(n),rn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Eu(Kt(n.cb,n),6e3));if(1>=zI(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else ms(n,11)}else if((t.J||n.g==t)&&Fd(n),!Dd(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const d=u[4];d!=null&&(n.Ca=d,n.j.info("SVER="+n.Ca));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const v=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.h;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Wv(s,s.h),s.h=null))}if(r.D){const m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,Qe(r.F,r.D,m))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=sx(r,r.H?r.ka:null,r.V),o.J){BI(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(af(a),ku(a)),r.g=o}else ex(r);0<n.i.length&&hf(n)}else u[0]!="stop"&&u[0]!="close"||ms(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ms(n,7):Yv(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}Yl(4)}catch{}}function F6(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Xh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function V6(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Xh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function DI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Xh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=V6(t),r=F6(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var jI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function z6(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Es(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Es){this.h=e!==void 0?e:t.h,$d(this,t.j),this.s=t.s,this.g=t.g,Ud(this,t.m),this.l=t.l,e=t.i;var n=new Xl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),$_(this,n),this.o=t.o}else t&&(n=String(t).match(jI))?(this.h=!!e,$d(this,n[1]||"",!0),this.s=Qa(n[2]||""),this.g=Qa(n[3]||"",!0),Ud(this,n[4]),this.l=Qa(n[5]||"",!0),$_(this,n[6]||"",!0),this.o=Qa(n[7]||"")):(this.h=!!e,this.i=new Xl(null,this.h))}Es.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ya(e,U_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ya(e,U_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ya(n,n.charAt(0)=="/"?q6:H6,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ya(n,K6)),t.join("")};function ni(t){return new Es(t)}function $d(t,e,n){t.j=n?Qa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ud(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function $_(t,e,n){e instanceof Xl?(t.i=e,G6(t.i,t.h)):(n||(e=Ya(e,W6)),t.i=new Xl(e,t.h))}function Qe(t,e,n){t.i.set(e,n)}function lf(t){return Qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Qa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ya(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,B6),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function B6(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var U_=/[#\/\?@]/g,H6=/[#\?:]/g,q6=/[#\?]/g,W6=/[#\?@]/g,K6=/#/g;function Xl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ji(t){t.g||(t.g=new Map,t.h=0,t.i&&z6(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}X=Xl.prototype;X.add=function(t,e){Ji(this),this.i=null,t=pa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function MI(t,e){Ji(t),e=pa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function $I(t,e){return Ji(t),e=pa(t,e),t.g.has(e)}X.forEach=function(t,e){Ji(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};X.oa=function(){Ji(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};X.W=function(t){Ji(this);let e=[];if(typeof t=="string")$I(this,t)&&(e=e.concat(this.g.get(pa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};X.set=function(t,e){return Ji(this),this.i=null,t=pa(this,t),$I(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};X.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function UI(t,e,n){MI(t,e),0<n.length&&(t.i=null,t.g.set(pa(t,e),Nv(n)),t.h+=n.length)}X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function pa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function G6(t,e){e&&!t.j&&(Ji(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(MI(this,r),UI(this,i,n))},t)),t.j=e}var Q6=class{constructor(e,n){this.h=e,this.g=n}};function FI(t){this.l=t||Y6,fe.PerformanceNavigationTiming?(t=fe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(fe.g&&fe.g.Ga&&fe.g.Ga()&&fe.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Y6=10;function VI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function zI(t){return t.h?1:t.g?t.g.size:0}function Ug(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Wv(t,e){t.g?t.g.add(e):t.h=e}function BI(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}FI.prototype.cancel=function(){if(this.i=HI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function HI(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Nv(t.i)}function Kv(){}Kv.prototype.stringify=function(t){return fe.JSON.stringify(t,void 0)};Kv.prototype.parse=function(t){return fe.JSON.parse(t,void 0)};function X6(){this.g=new Kv}function J6(t,e,n){const r=n||"";try{DI(t,function(i,s){let o=i;_u(i)&&(o=Fv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Z6(t,e){const n=new nf;if(fe.Image){const r=new Image;r.onload=uc(dc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=uc(dc,n,r,"TestLoadImage: error",!1,e),r.onabort=uc(dc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=uc(dc,n,r,"TestLoadImage: timeout",!1,e),fe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function dc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Iu(t){this.l=t.ac||null,this.j=t.jb||!1}jt(Iu,Bv);Iu.prototype.g=function(){return new uf(this.l,this.j)};Iu.prototype.i=function(t){return function(){return t}}({});function uf(t,e){bt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Gv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}jt(uf,bt);var Gv=0;X=uf.prototype;X.open=function(t,e){if(this.readyState!=Gv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Jl(this)};X.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||fe).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xu(this)),this.readyState=Gv};X.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Jl(this)),this.g&&(this.readyState=3,Jl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qI(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function qI(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}X.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?xu(this):Jl(this),this.readyState==3&&qI(this)}};X.Va=function(t){this.g&&(this.response=this.responseText=t,xu(this))};X.Ua=function(t){this.g&&(this.response=t,xu(this))};X.ga=function(){this.g&&xu(this)};function xu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Jl(t)}X.setRequestHeader=function(t,e){this.v.append(t,e)};X.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};X.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Jl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(uf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var e8=fe.JSON.parse;function it(t){bt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=WI,this.K=this.L=!1}jt(it,bt);var WI="",t8=/^https?$/i,n8=["POST","PUT"];X=it.prototype;X.Ka=function(t){this.L=t};X.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Dg.g(),this.C=this.u?M_(this.u):M_(Dg),this.g.onreadystatechange=Kt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){F_(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=fe.FormData&&t instanceof fe.FormData,!(0<=lI(n8,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{QI(this),0<this.B&&((this.K=r8(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kt(this.qa,this)):this.A=zv(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){F_(this,s)}};function r8(t){return Yo&&_6()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}X.qa=function(){typeof Lv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ot(this,"timeout"),this.abort(8))};function F_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,KI(t),cf(t)}function KI(t){t.D||(t.D=!0,Ot(t,"complete"),Ot(t,"error"))}X.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ot(this,"complete"),Ot(this,"abort"),cf(this))};X.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cf(this,!0)),it.X.M.call(this)};X.Ha=function(){this.s||(this.F||this.v||this.l?GI(this):this.fb())};X.fb=function(){GI(this)};function GI(t){if(t.h&&typeof Lv<"u"&&(!t.C[1]||Br(t)!=4||t.aa()!=2)){if(t.v&&Br(t)==4)zv(t.Ha,0,t);else if(Ot(t,"readystatechange"),Br(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(jI)[1]||null;if(!i&&fe.self&&fe.self.location){var s=fe.self.location.protocol;i=s.substr(0,s.length-1)}r=!t8.test(i?i.toLowerCase():"")}n=r}if(n)Ot(t,"complete"),Ot(t,"success");else{t.m=6;try{var o=2<Br(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",KI(t)}}finally{cf(t)}}}}function cf(t,e){if(t.g){QI(t);const n=t.g,r=t.C[0]?Od:null;t.g=null,t.C=null,e||Ot(t,"ready");try{n.onreadystatechange=r}catch{}}}function QI(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(fe.clearTimeout(t.A),t.A=null)}function Br(t){return t.g?t.g.readyState:0}X.aa=function(){try{return 2<Br(this)?this.g.status:-1}catch{return-1}};X.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};X.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),e8(e)}};function V_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case WI:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}X.Ea=function(){return this.m};X.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function YI(t){let e="";return Dv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Qv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=YI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Qe(t,e,n))}function Da(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function XI(t){this.Ca=0,this.i=[],this.j=new nf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Da("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Da("baseRetryDelayMs",5e3,t),this.bb=Da("retryDelaySeedMs",1e4,t),this.$a=Da("forwardChannelMaxRetries",2,t),this.ta=Da("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new FI(t&&t.concurrentRequestLimit),this.Fa=new X6,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}X=XI.prototype;X.ma=8;X.G=1;function Yv(t){if(JI(t),t.G==3){var e=t.U++,n=ni(t.F);Qe(n,"SID",t.I),Qe(n,"RID",e),Qe(n,"TYPE","terminate"),bu(t,n),e=new Tu(t,t.j,e,void 0),e.K=2,e.v=lf(ni(n)),n=!1,fe.navigator&&fe.navigator.sendBeacon&&(n=fe.navigator.sendBeacon(e.v.toString(),"")),!n&&fe.Image&&(new Image().src=e.v,n=!0),n||(e.g=ox(e.l,null),e.g.da(e.v)),e.F=Date.now(),ku(e)}ix(t)}function df(t){t.g&&(Jv(t),t.g.cancel(),t.g=null)}function JI(t){df(t),t.u&&(fe.clearTimeout(t.u),t.u=null),Fd(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&fe.clearTimeout(t.m),t.m=null)}function hf(t){VI(t.h)||t.m||(t.m=!0,_I(t.Ja,t),t.C=0)}function i8(t,e){return zI(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Eu(Kt(t.Ja,t,e),rx(t,t.C)),t.C++,!0)}X.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Tu(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=hI(s),fI(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ZI(this,i,e),n=ni(this.F),Qe(n,"RID",t),Qe(n,"CVER",22),this.D&&Qe(n,"X-HTTP-Session-Id",this.D),bu(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(YI(s)))+"&"+e:this.o&&Qv(n,this.o,s)),Wv(this.h,i),this.Ya&&Qe(n,"TYPE","init"),this.O?(Qe(n,"$req",e),Qe(n,"SID","null"),i.Z=!0,Mg(i,n,null)):Mg(i,n,e),this.G=2}}else this.G==3&&(t?z_(this,t):this.i.length==0||VI(this.h)||z_(this))};function z_(t,e){var n;e?n=e.m:n=t.U++;const r=ni(t.F);Qe(r,"SID",t.I),Qe(r,"RID",n),Qe(r,"AID",t.T),bu(t,r),t.o&&t.s&&Qv(r,t.o,t.s),n=new Tu(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=ZI(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Wv(t.h,n),Mg(n,r,e)}function bu(t,e){t.ia&&Dv(t.ia,function(n,r){Qe(e,r,n)}),t.l&&DI({},function(n,r){Qe(e,r,n)})}function ZI(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Kt(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{J6(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function ex(t){t.g||t.u||(t.Z=1,_I(t.Ia,t),t.A=0)}function Xv(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Eu(Kt(t.Ia,t),rx(t,t.A)),t.A++,!0)}X.Ia=function(){if(this.u=null,tx(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Eu(Kt(this.eb,this),t)}};X.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,rn(10),df(this),tx(this))};function Jv(t){t.B!=null&&(fe.clearTimeout(t.B),t.B=null)}function tx(t){t.g=new Tu(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=ni(t.sa);Qe(e,"RID","rpc"),Qe(e,"SID",t.I),Qe(e,"CI",t.L?"0":"1"),Qe(e,"AID",t.T),Qe(e,"TYPE","xmlhttp"),bu(t,e),t.o&&t.s&&Qv(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=lf(ni(e)),n.s=null,n.P=!0,PI(n,t)}X.cb=function(){this.v!=null&&(this.v=null,df(this),Xv(this),rn(19))};function Fd(t){t.v!=null&&(fe.clearTimeout(t.v),t.v=null)}function nx(t,e){var n=null;if(t.g==e){Fd(t),Jv(t),t.g=null;var r=2}else if(Ug(t.h,e))n=e.D,BI(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=rf(),Ot(r,new xI(r,n)),hf(t)}else ex(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&i8(t,e)||r==2&&Xv(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:ms(t,5);break;case 4:ms(t,10);break;case 3:ms(t,6);break;default:ms(t,2)}}}function rx(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function ms(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Kt(t.kb,t);n||(n=new Es("//www.google.com/images/cleardot.gif"),fe.location&&fe.location.protocol=="http"||$d(n,"https"),lf(n)),Z6(n.toString(),r)}else rn(2);t.G=0,t.l&&t.l.va(e),ix(t),JI(t)}X.kb=function(t){t?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function ix(t){if(t.G=0,t.la=[],t.l){const e=HI(t.h);(e.length!=0||t.i.length!=0)&&(P_(t.la,e),P_(t.la,t.i),t.h.i.length=0,Nv(t.i),t.i.length=0),t.l.ua()}}function sx(t,e,n){var r=n instanceof Es?ni(n):new Es(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Ud(r,r.m);else{var i=fe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Es(null,void 0);r&&$d(s,r),e&&(s.g=e),i&&Ud(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&Qe(r,n,e),Qe(r,"VER",t.ma),bu(t,r),r}function ox(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new it(new Iu({jb:!0})):new it(t.ra),e.Ka(t.H),e}function ax(){}X=ax.prototype;X.xa=function(){};X.wa=function(){};X.va=function(){};X.ua=function(){};X.Ra=function(){};function Vd(){if(Yo&&!(10<=Number(S6)))throw Error("Environmental error: no available transport.")}Vd.prototype.g=function(t,e){return new kn(t,e)};function kn(t,e){bt.call(this),this.g=new XI(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Dd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Dd(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ma(this)}jt(kn,bt);kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;rn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=sx(t,null,t.V),hf(t)};kn.prototype.close=function(){Yv(this.g)};kn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Fv(t),t=n);e.i.push(new Q6(e.ab++,t)),e.G==3&&hf(e)};kn.prototype.M=function(){this.g.l=null,delete this.j,Yv(this.g),delete this.g,kn.X.M.call(this)};function lx(t){Hv.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}jt(lx,Hv);function ux(){qv.call(this),this.status=1}jt(ux,qv);function ma(t){this.g=t}jt(ma,ax);ma.prototype.xa=function(){Ot(this.g,"a")};ma.prototype.wa=function(t){Ot(this.g,new lx(t))};ma.prototype.va=function(t){Ot(this.g,new ux)};ma.prototype.ua=function(){Ot(this.g,"b")};Vd.prototype.createWebChannel=Vd.prototype.g;kn.prototype.send=kn.prototype.u;kn.prototype.open=kn.prototype.m;kn.prototype.close=kn.prototype.close;sf.NO_ERROR=0;sf.TIMEOUT=8;sf.HTTP_ERROR=6;bI.COMPLETE="complete";RI.EventType=Cu;Cu.OPEN="a";Cu.CLOSE="b";Cu.ERROR="c";Cu.MESSAGE="d";bt.prototype.listen=bt.prototype.N;it.prototype.listenOnce=it.prototype.O;it.prototype.getLastError=it.prototype.Oa;it.prototype.getLastErrorCode=it.prototype.Ea;it.prototype.getStatus=it.prototype.aa;it.prototype.getResponseJson=it.prototype.Sa;it.prototype.getResponseText=it.prototype.fa;it.prototype.send=it.prototype.da;it.prototype.setWithCredentials=it.prototype.Ka;var s8=function(){return new Vd},o8=function(){return rf()},Up=sf,a8=bI,l8=qs,B_={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},u8=Iu,hc=RI,c8=it;const H_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga="9.15.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new Hh("@firebase/firestore");function q_(){return Ms.logLevel}function ne(t,...e){if(Ms.logLevel<=Ne.DEBUG){const n=e.map(Zv);Ms.debug(`Firestore (${ga}): ${t}`,...n)}}function ri(t,...e){if(Ms.logLevel<=Ne.ERROR){const n=e.map(Zv);Ms.error(`Firestore (${ga}): ${t}`,...n)}}function Fg(t,...e){if(Ms.logLevel<=Ne.WARN){const n=e.map(Zv);Ms.warn(`Firestore (${ga}): ${t}`,...n)}}function Zv(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: `+t;throw ri(e),new Error(e)}function ze(t,e){t||he()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends qn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class d8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class h8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class f8{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Kr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Kr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new cx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Bt(e)}}class p8{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ze(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class m8{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new p8(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class g8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y8{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.A=n.token,new g8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=v8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function Xo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new ft(0,0))}static max(){return new me(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ye extends Zl{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const w8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Zl{construct(e,n,r){return new Wt(e,n,r)}static isValidIdentifier(e){return w8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new se(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new se(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new se(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(Ye.fromString(e))}static fromName(e){return new ae(Ye.fromString(e).popFirst(5))}static empty(){return new ae(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new Ye(e.slice()))}}function _8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new zi(i,ae.empty(),e)}function S8(t){return new zi(t.readTime,t.key,-1)}class zi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zi(me.min(),ae.empty(),-1)}static max(){return new zi(me.max(),ae.empty(),-1)}}function E8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ru(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==C8)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Au(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}e1.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class eu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ws(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t){return t==null}function zd(t){return t===0&&1/t==-1/0}function I8(t){return typeof t=="number"&&Number.isInteger(t)&&!zd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Jt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const x8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(t){if(ze(!!t),typeof t=="string"){let e=0;const n=x8.exec(t);if(ze(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jo(t){return typeof t=="string"?Jt.fromBase64String(t):Jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function px(t){const e=t.mapValue.fields.__previous_value__;return fx(e)?px(e):e}function tu(t){const e=Bi(t.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fx(t)?4:b8(t)?9007199254740991:10:he()}function kr(t,e){if(t===e)return!0;const n=$s(t);if(n!==$s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tu(t).isEqual(tu(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Bi(r.timestampValue),o=Bi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Jo(r.bytesValue).isEqual(Jo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ct(r.geoPointValue.latitude)===ct(i.geoPointValue.latitude)&&ct(r.geoPointValue.longitude)===ct(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ct(r.integerValue)===ct(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ct(r.doubleValue),o=ct(i.doubleValue);return s===o?zd(s)===zd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Xo(t.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(W_(s)!==W_(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!kr(s[a],o[a])))return!1;return!0}(t,e);default:return he()}}function nu(t,e){return(t.values||[]).find(n=>kr(n,e))!==void 0}function Zo(t,e){if(t===e)return 0;const n=$s(t),r=$s(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ct(i.integerValue||i.doubleValue),a=ct(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return K_(t.timestampValue,e.timestampValue);case 4:return K_(tu(t),tu(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Jo(i),a=Jo(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Oe(o[l],a[l]);if(u!==0)return u}return Oe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Oe(ct(i.latitude),ct(s.latitude));return o!==0?o:Oe(ct(i.longitude),ct(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Zo(o[l],a[l]);if(u)return u}return Oe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===fc.mapValue&&s===fc.mapValue)return 0;if(i===fc.mapValue)return 1;if(s===fc.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Oe(a[c],u[c]);if(d!==0)return d;const f=Zo(o[a[c]],l[u[c]]);if(f!==0)return f}return Oe(a.length,u.length)}(t.mapValue,e.mapValue);default:throw he()}}function K_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Bi(t),r=Bi(e),i=Oe(n.seconds,r.seconds);return i!==0?i:Oe(n.nanos,r.nanos)}function ea(t){return Vg(t)}function Vg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Bi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Jo(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ae.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Vg(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Vg(r.fields[a])}`;return s+"}"}(t.mapValue):he();var e,n}function zg(t){return!!t&&"integerValue"in t}function t1(t){return!!t&&"arrayValue"in t}function G_(t){return!!t&&"nullValue"in t}function Q_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fc(t){return!!t&&"mapValue"in t}function fl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ws(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function b8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n){this.position=e,this.inclusive=n}}function Y_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=Zo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function X_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!kr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{}class vt extends mx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new P8(e,n,r):n==="array-contains"?new O8(e,r):n==="in"?new D8(e,r):n==="not-in"?new j8(e,r):n==="array-contains-any"?new M8(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new L8(e,r):new N8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zo(n,this.value)):n!==null&&$s(this.value)===$s(n)&&this.matchesComparison(Zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ir extends mx{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Ir(e,n)}matches(e){return gx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function gx(t){return t.op==="and"}function R8(t){return A8(t)&&gx(t)}function A8(t){for(const e of t.filters)if(e instanceof Ir)return!1;return!0}function yx(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+ea(t.value);{const e=t.filters.map(n=>yx(n)).join(",");return`${t.op}(${e})`}}function vx(t,e){return t instanceof vt?function(n,r){return r instanceof vt&&n.op===r.op&&n.field.isEqual(r.field)&&kr(n.value,r.value)}(t,e):t instanceof Ir?function(n,r){return r instanceof Ir&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&vx(s,r.filters[o]),!0):!1}(t,e):void he()}function wx(t){return t instanceof vt?function(e){return`${e.field.canonicalString()} ${e.op} ${ea(e.value)}`}(t):t instanceof Ir?function(e){return e.op.toString()+" {"+e.getFilters().map(wx).join(" ,")+"}"}(t):"Filter"}class P8 extends vt{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class L8 extends vt{constructor(e,n){super(e,"in",n),this.keys=_x("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class N8 extends vt{constructor(e,n){super(e,"not-in",n),this.keys=_x("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _x(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class O8 extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return t1(n)&&nu(n.arrayValue,this.value)}}class D8 extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class j8 extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!nu(this.value.arrayValue,n)}}class M8 extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!t1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n="asc"){this.field=e,this.dir=n}}function $8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pc(this.root,e,this.comparator,!0)}}class pc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Lt.RED,this.left=i??Lt.EMPTY,this.right=s??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Lt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Lt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Lt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new J_(this.data.getIterator())}getIteratorFrom(e){return new J_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new St(this.comparator);return n.data=e,n}}class J_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new $n([])}unionWith(e){let n=new St(Wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fl(n)}setAll(e){let n=Wt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=fl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Fc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ws(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new dn(fl(this.value))}}function Sx(t){const e=[];return Ws(t.fields,(n,r)=>{const i=new Wt([n]);if(Fc(r)){const s=Sx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new qt(e,0,me.min(),me.min(),me.min(),dn.empty(),0)}static newFoundDocument(e,n,r,i){return new qt(e,1,n,me.min(),r,i,0)}static newNoDocument(e,n){return new qt(e,2,n,me.min(),me.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new qt(e,3,n,me.min(),me.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function Z_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new U8(t,e,n,r,i,s,o)}function n1(t){const e=_e(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>yx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ff(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ea(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ea(r)).join(",")),e.ft=n}return e.ft}function r1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!X_(t.startAt,e.startAt)&&X_(t.endAt,e.endAt)}function Bg(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}}function F8(t,e,n,r,i,s,o,a){return new pf(t,e,n,r,i,s,o,a)}function i1(t){return new pf(t)}function eS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function V8(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function z8(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function B8(t){return t.collectionGroup!==null}function Do(t){const e=_e(t);if(e.dt===null){e.dt=[];const n=z8(e),r=V8(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new pl(n)),e.dt.push(new pl(Wt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new pl(Wt.keyField(),s))}}}return e.dt}function ii(t){const e=_e(t);if(!e._t)if(e.limitType==="F")e._t=Z_(e.path,e.collectionGroup,Do(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Do(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new pl(s.field,o))}const r=e.endAt?new Bd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Bd(e.startAt.position,e.startAt.inclusive):null;e._t=Z_(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Hg(t,e,n){return new pf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mf(t,e){return r1(ii(t),ii(e))&&t.limitType===e.limitType}function Ex(t){return`${n1(ii(t))}|lt:${t.limitType}`}function qg(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>wx(r)).join(", ")}]`),ff(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ea(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ea(r)).join(",")),`Target(${n})`}(ii(t))}; limitType=${t.limitType})`}function s1(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ae.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Do(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=Y_(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Do(n),r)||n.endAt&&!function(i,s,o){const a=Y_(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Do(n),r))}(t,e)}function H8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Cx(t){return(e,n)=>{let r=!1;for(const i of Do(t)){const s=q8(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function q8(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Zo(a,l):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zd(e)?"-0":e}}function kx(t){return{integerValue:""+t}}function W8(t,e){return I8(e)?kx(e):Tx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(){this._=void 0}}function K8(t,e,n){return t instanceof ru?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof iu?xx(t,e):t instanceof su?bx(t,e):function(r,i){const s=Ix(r,i),o=tS(s)+tS(r.gt);return zg(s)&&zg(r.gt)?kx(o):Tx(r.yt,o)}(t,e)}function G8(t,e,n){return t instanceof iu?xx(t,e):t instanceof su?bx(t,e):n}function Ix(t,e){return t instanceof Hd?zg(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class ru extends gf{}class iu extends gf{constructor(e){super(),this.elements=e}}function xx(t,e){const n=Rx(e);for(const r of t.elements)n.some(i=>kr(i,r))||n.push(r);return{arrayValue:{values:n}}}class su extends gf{constructor(e){super(),this.elements=e}}function bx(t,e){let n=Rx(e);for(const r of t.elements)n=n.filter(i=>!kr(i,r));return{arrayValue:{values:n}}}class Hd extends gf{constructor(e,n){super(),this.yt=e,this.gt=n}}function tS(t){return ct(t.integerValue||t.doubleValue)}function Rx(t){return t1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,n){this.field=e,this.transform=n}}function Y8(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof iu&&r instanceof iu||n instanceof su&&r instanceof su?Xo(n.elements,r.elements,kr):n instanceof Hd&&r instanceof Hd?kr(n.gt,r.gt):n instanceof ru&&r instanceof ru}(t.transform,e.transform)}class X8{constructor(e,n){this.version=e,this.transformResults=n}}class ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yf{}function Ax(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lx(t.key,ir.none()):new Pu(t.key,t.data,ir.none());{const n=t.data,r=dn.empty();let i=new St(Wt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Zi(t.key,r,new $n(i.toArray()),ir.none())}}function J8(t,e,n){t instanceof Pu?function(r,i,s){const o=r.value.clone(),a=rS(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Zi?function(r,i,s){if(!Vc(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=rS(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Px(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ml(t,e,n,r){return t instanceof Pu?function(i,s,o,a){if(!Vc(i.precondition,s))return o;const l=i.value.clone(),u=iS(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zi?function(i,s,o,a){if(!Vc(i.precondition,s))return o;const l=iS(i.fieldTransforms,a,s),u=s.data;return u.setAll(Px(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Vc(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function Z8(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Ix(r.transform,i||null);s!=null&&(n===null&&(n=dn.empty()),n.set(r.field,s))}return n||null}function nS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Xo(n,r,(i,s)=>Y8(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pu extends yf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zi extends yf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Px(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function rS(t,e,n){const r=new Map;ze(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,G8(o,a,n[i]))}return r}function iS(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,K8(s,o,e))}return r}class Lx extends yf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e9 extends yf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,ke;function n9(t){switch(t){default:return he();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function Nx(t){if(t===void 0)return ri("GRPC error has no .code"),F.UNKNOWN;switch(t){case ut.OK:return F.OK;case ut.CANCELLED:return F.CANCELLED;case ut.UNKNOWN:return F.UNKNOWN;case ut.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case ut.INTERNAL:return F.INTERNAL;case ut.UNAVAILABLE:return F.UNAVAILABLE;case ut.UNAUTHENTICATED:return F.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case ut.NOT_FOUND:return F.NOT_FOUND;case ut.ALREADY_EXISTS:return F.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return F.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case ut.ABORTED:return F.ABORTED;case ut.OUT_OF_RANGE:return F.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return F.UNIMPLEMENTED;case ut.DATA_LOSS:return F.DATA_LOSS;default:return he()}}(ke=ut||(ut={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return hx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=new Et(ae.comparator);function si(){return r9}const Ox=new Et(ae.comparator);function Xa(...t){let e=Ox;for(const n of t)e=e.insert(n.key,n);return e}function Dx(t){let e=Ox;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function gs(){return gl()}function jx(){return gl()}function gl(){return new ya(t=>t.toString(),(t,e)=>t.isEqual(e))}const i9=new Et(ae.comparator),s9=new St(ae.comparator);function Ce(...t){let e=s9;for(const n of t)e=e.add(n);return e}const o9=new St(Oe);function Mx(){return o9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vf(me.min(),i,Mx(),si(),Ce())}}class Lu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lu(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class $x{constructor(e,n){this.targetId=e,this.Et=n}}class Ux{constructor(e,n,r=Jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class sS{constructor(){this.At=0,this.Rt=aS(),this.bt=Jt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Ce(),n=Ce(),r=Ce();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new Lu(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=aS()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class a9{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=si(),this.qt=oS(),this.Ut=new St(Oe)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const s=i.target;if(Bg(s))if(r===0){const o=new ae(s.path);this.Qt(n,o,qt.newNoDocument(o,me.min()))}else ze(r===1);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Bg(a.target)){const l=new ae(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,qt.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=Ce();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new vf(e,n,this.Ut,this.Lt,r);return this.Lt=si(),this.qt=oS(),this.Ut=new St(Oe),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new sS,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new St(Oe),this.qt=this.qt.insert(e,n)),n}zt(e){const n=this.Yt(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new sS),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function oS(){return new Et(ae.comparator)}function aS(){return new Et(ae.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),u9=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),c9=(()=>({and:"AND",or:"OR"}))();class d9{constructor(e,n){this.databaseId=e,this.wt=n}}function qd(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fx(t,e){return t.wt?e.toBase64():e.toUint8Array()}function h9(t,e){return qd(t,e.toTimestamp())}function Tr(t){return ze(!!t),me.fromTimestamp(function(e){const n=Bi(e);return new ft(n.seconds,n.nanos)}(t))}function o1(t,e){return function(n){return new Ye(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Vx(t){const e=Ye.fromString(t);return ze(qx(e)),e}function Wg(t,e){return o1(t.databaseId,e.path)}function Fp(t,e){const n=Vx(e);if(n.get(1)!==t.databaseId.projectId)throw new se(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(zx(n))}function Kg(t,e){return o1(t.databaseId,e)}function f9(t){const e=Vx(t);return e.length===4?Ye.emptyPath():zx(e)}function Gg(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zx(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function lS(t,e,n){return{name:Wg(t,e),fields:n.value.mapValue.fields}}function p9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.wt?(ze(u===void 0||typeof u=="string"),Jt.fromBase64String(u||"")):(ze(u===void 0||u instanceof Uint8Array),Jt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?F.UNKNOWN:Nx(l.code);return new se(u,l.message||"")}(o);n=new Ux(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Fp(t,r.document.name),s=Tr(r.document.updateTime),o=r.document.createTime?Tr(r.document.createTime):me.min(),a=new dn({mapValue:{fields:r.document.fields}}),l=qt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new zc(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Fp(t,r.document),s=r.readTime?Tr(r.readTime):me.min(),o=qt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new zc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Fp(t,r.document),s=r.removedTargetIds||[];n=new zc([],s,i,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new t9(i),o=r.targetId;n=new $x(o,s)}}return n}function m9(t,e){let n;if(e instanceof Pu)n={update:lS(t,e.key,e.value)};else if(e instanceof Lx)n={delete:Wg(t,e.key)};else if(e instanceof Zi)n={update:lS(t,e.key,e.data),updateMask:T9(e.fieldMask)};else{if(!(e instanceof e9))return he();n={verify:Wg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ru)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof iu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof su)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Hd)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:h9(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he()}(t,e.precondition)),n}function g9(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Tr(r.updateTime):Tr(i);return s.isEqual(me.min())&&(s=Tr(i)),new X8(s,r.transformResults||[])}(n,e))):[]}function y9(t,e){return{documents:[Kg(t,e.path)]}}function v9(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Kg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Kg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Hx(Ir.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:ro(c.field),direction:S9(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.wt||ff(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function w9(t){let e=f9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ze(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=Bx(c);return d instanceof Ir&&R8(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new pl(io(d.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,ff(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,f=c.values||[];return new Bd(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,f=c.values||[];return new Bd(f,d)}(n.endAt)),F8(e,i,o,s,a,"F",l,u)}function _9(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return he()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function Bx(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=io(e.unaryFilter.field);return vt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=io(e.unaryFilter.field);return vt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=io(e.unaryFilter.field);return vt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=io(e.unaryFilter.field);return vt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(e){return vt.create(io(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Ir.create(e.compositeFilter.filters.map(n=>Bx(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return he()}}(e.compositeFilter.op))}(t):he()}function S9(t){return l9[t]}function E9(t){return u9[t]}function C9(t){return c9[t]}function ro(t){return{fieldPath:t.canonicalString()}}function io(t){return Wt.fromServerFormat(t.fieldPath)}function Hx(t){return t instanceof vt?function(e){if(e.op==="=="){if(Q_(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NAN"}};if(G_(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Q_(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NOT_NAN"}};if(G_(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(e.field),op:E9(e.op),value:e.value}}}(t):t instanceof Ir?function(e){const n=e.getFilters().map(r=>Hx(r));return n.length===1?n[0]:{compositeFilter:{op:C9(e.op),filters:n}}}(t):he()}function T9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&J8(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ml(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ml(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jx();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Ax(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,(n,r)=>nS(n,r))&&Xo(this.baseMutations,e.baseMutations,(n,r)=>nS(n,r))}}class a1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ze(e.mutations.length===r.length);let i=i9;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new a1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r,i,s=me.min(),o=me.min(),a=Jt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e){this.ie=e}}function b9(t){const e=w9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(){this.Je=new A9}addToCollectionParentIndex(e,n){return this.Je.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(zi.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(zi.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class A9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new St(Ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new St(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ta(0)}static vn(){return new ta(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(){this.changes=new ya(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ml(r.mutation,i,$n.empty(),ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const i=gs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Xa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=gs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=si();const o=gl(),a=gl();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Zi)?s=s.insert(u.key,u):c!==void 0&&(o.set(u.key,c.mutation.getFieldMask()),ml(c.mutation,u,c.mutation.getFieldMask(),ft.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new L9(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=gl();let i=new Et((o,a)=>o-a),s=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||$n.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Ce()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=jx();c.forEach(f=>{if(!s.has(f)){const p=Ax(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ae.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):B8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(gs());let a=-1,l=s;return o.next(u=>B.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?B.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ce())).next(c=>({batchId:a,changes:Dx(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let i=Xa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Xa();return this.indexManager.getCollectionParents(e,i).next(o=>B.forEach(o,a=>{const l=function(u,c){return new pf(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,qt.newInvalidDocument(u)))});let o=Xa();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&ml(u.mutation,l,$n.empty(),ft.now()),s1(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return B.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Tr(r.createTime)}),B.resolve()}getNamedQuery(e,n){return B.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:b9(r.bundledQuery),readTime:Tr(r.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(){this.overlays=new Et(ae.comparator),this.es=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=gs();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.oe(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=gs(),s=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Et((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=gs(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=gs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return B.resolve(a)}oe(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new I9(n,r));let s=this.es.get(n);s===void 0&&(s=Ce(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.ns=new St(Tt.ss),this.rs=new St(Tt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new Tt(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new ae(new Ye([])),r=new Tt(n,e),i=new Tt(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new ae(new Ye([])),r=new Tt(n,e),i=new Tt(n,e+1);let s=Ce();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Tt(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return ae.comparator(e.key,n.key)||Oe(e._s,n._s)}static os(e,n){return Oe(e._s,n._s)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new St(Tt.ss)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new k9(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),i=new Tt(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new St(Oe);return n.forEach(i=>{const s=new Tt(i,0),o=new Tt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),B.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ae.isDocumentKey(s)||(s=s.child(""));const o=new Tt(new ae(s),0);let a=new St(Oe);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},o),B.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ze(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return B.forEach(n.mutations,i=>{const s=new Tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new Tt(n,0),i=this.gs.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e){this.Es=e,this.docs=new Et(ae.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():qt.newInvalidDocument(n))}getEntries(e,n){let r=si();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():qt.newInvalidDocument(i))}),B.resolve(r)}getAllFromCollection(e,n,r){let i=si();const s=new ae(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||E8(S8(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,i){he()}As(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $9(this)}getSize(e){return B.resolve(this.size)}}class $9 extends P9{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e){this.persistence=e,this.Rs=new ya(n=>n1(n),r1),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.bs=0,this.Ps=new l1,this.targetCount=0,this.vs=ta.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),B.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new ta(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Dn(n),B.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new e1(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new U9(this),this.indexManager=new R9,this.remoteDocumentCache=function(r){return new M9(r)}(r=>this.referenceDelegate.xs(r)),this.yt=new x9(n),this.Ns=new O9(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new D9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new j9(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const i=new V9(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return B.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class V9 extends T8{constructor(e){super(),this.currentSequenceNumber=e}}class u1{constructor(e){this.persistence=e,this.Fs=new l1,this.$s=null}static Bs(e){return new u1(e)}get Ls(){if(this.$s)return this.$s;throw he()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),B.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Ls,r=>{const i=ae.fromPath(r);return this.qs(e,i).next(s=>{s||n.removeEntry(i,me.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return B.or([()=>B.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=Ce(),i=Ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new c1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(eS(n))return B.resolve(null);let r=ii(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Hg(n,null,"F"),r=ii(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ce(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(e,Hg(n,null,"F")):this.Bi(e,u,n,l)}))})))}Oi(e,n,r,i){return eS(n)||i.isEqual(me.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(q_()<=Ne.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qg(n)),this.Bi(e,o,n,_8(i,-1)))})}Fi(e,n){let r=new St(Cx(e));return n.forEach((i,s)=>{s1(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return q_()<=Ne.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",qg(n)),this.Ni.getDocumentsMatchingQuery(e,n,zi.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new Et(Oe),this.Ui=new ya(s=>n1(s),r1),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new N9(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function H9(t,e,n,r){return new B9(t,e,n,r)}async function Wx(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ce();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function q9(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let f=B.resolve();return d.forEach(p=>{f=f.next(()=>u.getEntry(a,p)).next(v=>{const m=l.docVersions.get(p);ze(m!==null),v.version.compareTo(m)<0&&(c.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),u.addEntry(v)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Ce();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Kx(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function W9(t,e){const n=_e(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(d)?p=p.withResumeToken(Jt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(v,m,S){return v.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(f,p,c)&&a.push(n.Cs.updateTargetData(s,p))});let l=si(),u=Ce();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(K9(s,o,e.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!r.isEqual(me.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(d=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return B.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.qi=i,s))}function K9(t,e,n){let r=Ce(),i=Ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=si();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function G9(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Q9(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new Cs(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}async function Qg(t,e,n){const r=_e(t),i=r.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Au(o))throw o;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}function uS(t,e,n){const r=_e(t);let i=me.min(),s=Ce();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=_e(a),d=c.Ui.get(u);return d!==void 0?B.resolve(c.qi.get(d)):c.Cs.getTargetData(l,u)}(r,o,ii(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:me.min(),n?s:Ce())).next(a=>(Y9(r,H8(e),a),{documents:a,Hi:s})))}function Y9(t,e,n){let r=t.Ki.get(e)||me.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}class cS{constructor(){this.activeTargetIds=Mx()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class X9{constructor(){this.Lr=new cS,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new cS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);ne("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(ne("RestConnection","Received: ",l),l),l=>{throw Fg("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ga,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){const r=Z9[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new c8;a.setWithCredentials(!0),a.listenOnce(a8.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Up.NO_ERROR:const u=a.getResponseJson();ne("Connection","XHR received:",JSON.stringify(u)),s(u);break;case Up.TIMEOUT:ne("Connection",'RPC "'+e+'" timed out'),o(new se(F.DEADLINE_EXCEEDED,"Request time out"));break;case Up.HTTP_ERROR:const c=a.getStatus();if(ne("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const p=function(v){const m=v.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(m)>=0?m:F.UNKNOWN}(f.status);o(new se(p,f.message))}else o(new se(F.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new se(F.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{ne("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=s8(),o=o8(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new u8({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=i.join("");ne("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,d=!1;const f=new eU({Hr:v=>{d?ne("Connection","Not sending because WebChannel is closed:",v):(c||(ne("Connection","Opening WebChannel transport."),u.open(),c=!0),ne("Connection","WebChannel sending:",v),u.send(v))},Jr:()=>u.close()}),p=(v,m,S)=>{v.listen(m,y=>{try{S(y)}catch(g){setTimeout(()=>{throw g},0)}})};return p(u,hc.EventType.OPEN,()=>{d||ne("Connection","WebChannel transport opened.")}),p(u,hc.EventType.CLOSE,()=>{d||(d=!0,ne("Connection","WebChannel transport closed"),f.io())}),p(u,hc.EventType.ERROR,v=>{d||(d=!0,Fg("Connection","WebChannel transport errored:",v),f.io(new se(F.UNAVAILABLE,"The operation could not be completed")))}),p(u,hc.EventType.MESSAGE,v=>{var m;if(!d){const S=v.data[0];ze(!!S);const y=S,g=y.error||((m=y[0])===null||m===void 0?void 0:m.error);if(g){ne("Connection","WebChannel received error:",g);const w=g.status;let _=function(k){const I=ut[k];if(I!==void 0)return Nx(I)}(w),E=g.message;_===void 0&&(_=F.INTERNAL,E="Unknown error status: "+w+" with message "+g.message),d=!0,f.io(new se(_,E)),u.close()}else ne("Connection","WebChannel received:",S),f.ro(S)}}),p(o,l8.STAT_EVENT,v=>{v.stat===B_.PROXY?ne("Connection","Detected buffering proxy"):v.stat===B_.NOPROXY&&ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.so()},0),f}}function Vp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t){return new d9(t,!0)}class Gx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n,r,i,s,o,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Gx(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new se(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nU extends Qx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=p9(this.yt,e),r=function(i){if(!("targetChange"in i))return me.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?me.min():s.readTime?Tr(s.readTime):me.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=Gg(this.yt),n.addTarget=function(i,s){let o;const a=s.target;return o=Bg(a)?{documents:y9(i,a)}:{query:v9(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=Fx(i,s.resumeToken):s.snapshotVersion.compareTo(me.min())>0&&(o.readTime=qd(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=_9(this.yt,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=Gg(this.yt),n.removeTarget=e,this.Bo(n)}}class rU extends Qx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=g9(e.writeResults,e.commitTime),r=Tr(e.commitTime);return this.listener.Zo(r,n)}return ze(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Gg(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>m9(this.yt,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new se(F.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(F.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(F.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class sU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ri(n),this.ou=!1):ne("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(o=>{r.enqueueAndForget(async()=>{Ks(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=_e(a);l._u.add(4),await Nu(l),l.gu.set("Unknown"),l._u.delete(4),await _f(l)}(this))})}),this.gu=new sU(r,i)}}async function _f(t){if(Ks(t))for(const e of t.wu)await e(!0)}async function Nu(t){for(const e of t.wu)await e(!1)}function Yx(t,e){const n=_e(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),f1(n)?h1(n):va(n).ko()&&d1(n,e))}function Xx(t,e){const n=_e(t),r=va(n);n.du.delete(e),r.ko()&&Jx(n,e),n.du.size===0&&(r.ko()?r.Fo():Ks(n)&&n.gu.set("Unknown"))}function d1(t,e){t.yu.Ot(e.targetId),va(t).zo(e)}function Jx(t,e){t.yu.Ot(e),va(t).Ho(e)}function h1(t){t.yu=new a9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),va(t).start(),t.gu.uu()}function f1(t){return Ks(t)&&!va(t).No()&&t.du.size>0}function Ks(t){return _e(t)._u.size===0}function Zx(t){t.yu=void 0}async function aU(t){t.du.forEach((e,n)=>{d1(t,e)})}async function lU(t,e){Zx(t),f1(t)?(t.gu.hu(e),h1(t)):t.gu.set("Unknown")}async function uU(t,e,n){if(t.gu.set("Online"),e instanceof Ux&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.du.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.du.delete(o),r.yu.removeTarget(o))}(t,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wd(t,r)}else if(e instanceof zc?t.yu.Kt(e):e instanceof $x?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(me.min()))try{const r=await Kx(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.du.get(l);u&&i.du.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(Jt.EMPTY_BYTE_STRING,l.snapshotVersion)),Jx(i,a);const u=new Cs(l.target,a,1,l.sequenceNumber);d1(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),await Wd(t,r)}}async function Wd(t,e,n){if(!Au(e))throw e;t._u.add(1),await Nu(t),t.gu.set("Offline"),n||(n=()=>Kx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await _f(t)})}function eb(t,e){return e().catch(n=>Wd(t,n,e))}async function Sf(t){const e=_e(t),n=Hi(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;cU(e);)try{const i=await G9(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,dU(e,i)}catch(i){await Wd(e,i)}tb(e)&&nb(e)}function cU(t){return Ks(t)&&t.fu.length<10}function dU(t,e){t.fu.push(e);const n=Hi(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function tb(t){return Ks(t)&&!Hi(t).No()&&t.fu.length>0}function nb(t){Hi(t).start()}async function hU(t){Hi(t).eu()}async function fU(t){const e=Hi(t);for(const n of t.fu)e.Xo(n.mutations)}async function pU(t,e,n){const r=t.fu.shift(),i=a1.from(r,e,n);await eb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Sf(t)}async function mU(t,e){e&&Hi(t).Yo&&await async function(n,r){if(i=r.code,n9(i)&&i!==F.ABORTED){const s=n.fu.shift();Hi(n).Mo(),await eb(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Sf(n)}var i}(t,e),tb(t)&&nb(t)}async function hS(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const r=Ks(n);n._u.add(3),await Nu(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await _f(n)}async function gU(t,e){const n=_e(t);e?(n._u.delete(2),await _f(n)):e||(n._u.add(2),await Nu(n),n.gu.set("Unknown"))}function va(t){return t.pu||(t.pu=function(e,n,r){const i=_e(e);return i.su(),new nU(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:aU.bind(null,t),Zr:lU.bind(null,t),Wo:uU.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),f1(t)?h1(t):t.gu.set("Unknown")):(await t.pu.stop(),Zx(t))})),t.pu}function Hi(t){return t.Iu||(t.Iu=function(e,n,r){const i=_e(e);return i.su(),new rU(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:hU.bind(null,t),Zr:mU.bind(null,t),tu:fU.bind(null,t),Zo:pU.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await Sf(t)):(await t.Iu.stop(),t.fu.length>0&&(ne("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new p1(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function m1(t,e){if(ri("AsyncQueue",`${e}: ${t}`),Au(t))return new se(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=Xa(),this.sortedSet=new Et(this.comparator)}static emptySet(e){return new jo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new jo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.Tu=new Et(ae.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):he():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class na{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new na(e,n,jo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(){this.Au=void 0,this.listeners=[]}}class vU{constructor(){this.queries=new ya(e=>Ex(e),mf),this.onlineState="Unknown",this.Ru=new Set}}async function rb(t,e){const n=_e(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new yU),i)try{s.Au=await n.onListen(r)}catch(o){const a=m1(o,`Initialization of query '${qg(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&g1(n)}async function ib(t,e){const n=_e(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function wU(t,e){const n=_e(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&g1(n)}function _U(t,e,n){const r=_e(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function g1(t){t.Ru.forEach(e=>{e.next()})}class sb{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new na(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.key=e}}class ab{constructor(e){this.key=e}}class SU{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ce(),this.mutatedKeys=Ce(),this.Gu=Cx(e),this.Qu=new jo(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new fS,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),p=s1(this.query,d)?d:null,v=!!f&&this.mutatedKeys.has(f.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let S=!1;f&&p?f.data.isEqual(p.data)?v!==m&&(r.track({type:3,doc:p}),S=!0):this.Hu(f,p)||(r.track({type:2,doc:p}),S=!0,(l&&this.Gu(p,l)>0||u&&this.Gu(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),S=!0):f&&!p&&(r.track({type:1,doc:f}),S=!0,(l||u)&&(a=!0)),S&&(p?(o=o.add(p),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((u,c)=>function(d,f){const p=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return p(d)-p(f)}(u.type,c.type)||this.Gu(u.doc,c.doc)),this.Ju(r);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new na(this.query,e.Qu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new fS,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Ce(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new ab(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new ob(r))}),n}tc(e){this.qu=e.Hi,this.Ku=Ce();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return na.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class EU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class CU{constructor(e){this.key=e,this.nc=!1}}class TU{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new ya(a=>Ex(a),mf),this.rc=new Map,this.oc=new Set,this.uc=new Et(ae.comparator),this.cc=new Map,this.ac=new l1,this.hc={},this.lc=new Map,this.fc=ta.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function kU(t,e){const n=DU(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=await Q9(n.localStore,ii(e));n.isPrimaryClient&&Yx(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await IU(n,e,r,a==="current",o.resumeToken)}return i}async function IU(t,e,n,r,i){t._c=(d,f,p)=>async function(v,m,S,y){let g=m.view.Wu(S);g.$i&&(g=await uS(v.localStore,m.query,!1).then(({documents:E})=>m.view.Wu(E,g)));const w=y&&y.targetChanges.get(m.targetId),_=m.view.applyChanges(g,v.isPrimaryClient,w);return mS(v,m.targetId,_.Xu),_.snapshot}(t,d,f,p);const s=await uS(t.localStore,e,!0),o=new SU(e,s.Hi),a=o.Wu(s.documents),l=Lu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);mS(t,n,u.Xu);const c=new EU(e,n,o);return t.ic.set(e,c),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),u.snapshot}async function xU(t,e){const n=_e(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!mf(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Qg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Xx(n.remoteStore,r.targetId),Yg(n,r.targetId)}).catch(Ru)):(Yg(n,r.targetId),await Qg(n.localStore,r.targetId,!0))}async function bU(t,e,n){const r=jU(t);try{const i=await function(s,o){const a=_e(s),l=ft.now(),u=o.reduce((f,p)=>f.add(p.key),Ce());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=si(),v=Ce();return a.Gi.getEntries(f,u).next(m=>{p=m,p.forEach((S,y)=>{y.isValidDocument()||(v=v.add(S))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(m=>{c=m;const S=[];for(const y of o){const g=Z8(y,c.get(y.key).overlayedDocument);g!=null&&S.push(new Zi(y.key,g,Sx(g.value.mapValue),ir.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,S,o)}).next(m=>{d=m;const S=m.applyToLocalDocumentSet(c,v);return a.documentOverlayCache.saveOverlays(f,m.batchId,S)})}).then(()=>({batchId:d.batchId,changes:Dx(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new Et(Oe)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Ou(r,i.changes),await Sf(r.remoteStore)}catch(i){const s=m1(i,"Failed to persist write");n.reject(s)}}async function lb(t,e){const n=_e(t);try{const r=await W9(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?ze(o.nc):i.removedDocuments.size>0&&(ze(o.nc),o.nc=!1))}),await Ou(n,r,e)}catch(r){await Ru(r)}}function pS(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=_e(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.bu(o)&&(l=!0)}),l&&g1(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function RU(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new Et(ae.comparator);o=o.insert(s,qt.newNoDocument(s,me.min()));const a=Ce().add(s),l=new vf(me.min(),new Map,new St(Oe),o,a);await lb(r,l),r.uc=r.uc.remove(s),r.cc.delete(e),y1(r)}else await Qg(r.localStore,e,!1).then(()=>Yg(r,e,n)).catch(Ru)}async function AU(t,e){const n=_e(t),r=e.batch.batchId;try{const i=await q9(n.localStore,e);cb(n,r,null),ub(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ou(n,i)}catch(i){await Ru(i)}}async function PU(t,e,n){const r=_e(t);try{const i=await function(s,o){const a=_e(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(ze(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);cb(r,e,n),ub(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ou(r,i)}catch(i){await Ru(i)}}function ub(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function cb(t,e,n){const r=_e(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Yg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||db(t,r)})}function db(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(Xx(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),y1(t))}function mS(t,e,n){for(const r of n)r instanceof ob?(t.ac.addReference(r.key,e),LU(t,r)):r instanceof ab?(ne("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||db(t,r.key)):he()}function LU(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(ne("SyncEngine","New document in limbo: "+n),t.oc.add(r),y1(t))}function y1(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new ae(Ye.fromString(e)),r=t.fc.next();t.cc.set(r,new CU(n)),t.uc=t.uc.insert(n,r),Yx(t.remoteStore,new Cs(ii(i1(n.path)),r,2,e1.at))}}async function Ou(t,e,n){const r=_e(t),i=[],s=[],o=[];r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=c1.Ci(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.sc.Wo(i),await async function(a,l){const u=_e(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>B.forEach(l,d=>B.forEach(d.Si,f=>u.persistence.referenceDelegate.addReference(c,d.targetId,f)).next(()=>B.forEach(d.Di,f=>u.persistence.referenceDelegate.removeReference(c,d.targetId,f)))))}catch(c){if(!Au(c))throw c;ne("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const f=u.qi.get(d),p=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(p);u.qi=u.qi.insert(d,v)}}}(r.localStore,s))}async function NU(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const r=await Wx(n.localStore,e);n.currentUser=e,function(i,s){i.lc.forEach(o=>{o.forEach(a=>{a.reject(new se(F.CANCELLED,s))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ou(n,r.ji)}}function OU(t,e){const n=_e(t),r=n.cc.get(e);if(r&&r.nc)return Ce().add(r.key);{let i=Ce();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function DU(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RU.bind(null,e),e.sc.Wo=wU.bind(null,e.eventManager),e.sc.wc=_U.bind(null,e.eventManager),e}function jU(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PU.bind(null,e),e}class MU{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=wf(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return H9(this.persistence,new z9,e.initialUser,this.yt)}yc(e){return new F9(u1.Bs,this.yt)}gc(e){return new X9}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class $U{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NU.bind(null,this.syncEngine),await gU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new vU}createDatastore(e){const n=wf(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new tU(i));var i;return function(s,o,a,l){return new iU(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>pS(this.syncEngine,a,0),o=dS.C()?new dS:new J9,new oU(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new TU(r,i,s,o,a,l);return u&&(c.dc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=_e(e);ne("RemoteStore","RemoteStore shutting down."),n._u.add(5),await Nu(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t,e,n){if(!n)throw new se(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UU(t,e,n,r){if(e===!0&&r===!0)throw new se(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gS(t){if(!ae.isDocumentKey(t))throw new se(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yS(t){if(ae.isDocumentKey(t))throw new se(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function v1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function xr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=v1(t);throw new se(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=new Map;class wS{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new se(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,UU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new se(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wS(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new d8;switch(n.type){case"gapi":const r=n.client;return new m8(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new se(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=vS.get(e);n&&(ne("ComponentProvider","Removing Datastore"),vS.delete(e),n.terminate())}(this),Promise.resolve()}}function FU(t,e,n,r={}){var i;const s=(t=xr(t,Ef))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Fg("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Bt.MOCK_USER;else{o=nk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new se(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Bt(l)}t._authCredentials=new h8(new cx(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class Cf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cf(this.firestore,e,this._query)}}class Mi extends Cf{constructor(e,n,r){super(e,n,i1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new ae(e))}withConverter(e){return new Mi(this.firestore,e,this._path)}}function w1(t,e,...n){if(t=Xe(t),hb("collection","path",e),t instanceof Ef){const r=Ye.fromString(e,...n);return yS(r),new Mi(t,null,r)}{if(!(t instanceof yn||t instanceof Mi))throw new se(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return yS(r),new Mi(t.firestore,null,r)}}function lr(t,e,...n){if(t=Xe(t),arguments.length===1&&(e=dx.R()),hb("doc","path",e),t instanceof Ef){const r=Ye.fromString(e,...n);return gS(r),new yn(t,null,new ae(r))}{if(!(t instanceof yn||t instanceof Mi))throw new se(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return gS(r),new yn(t.firestore,t instanceof Mi?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bt.UNAUTHENTICATED,this.clientId=dx.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ne("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=m1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zU(t,e){t.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Wx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function BU(t,e){t.asyncQueue.verifyOperationInProgress();const n=await HU(t);ne("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>hS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>hS(e.remoteStore,s)),t.onlineComponents=e}async function HU(t){return t.offlineComponents||(ne("FirestoreClient","Using default OfflineComponentProvider"),await zU(t,new MU)),t.offlineComponents}async function pb(t){return t.onlineComponents||(ne("FirestoreClient","Using default OnlineComponentProvider"),await BU(t,new $U)),t.onlineComponents}function qU(t){return pb(t).then(e=>e.syncEngine)}async function mb(t){const e=await pb(t),n=e.eventManager;return n.onListen=kU.bind(null,e.syncEngine),n.onUnlisten=xU.bind(null,e.syncEngine),n}function WU(t,e,n={}){const r=new Kr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new fb({next:d=>{s.enqueueAndForget(()=>ib(i,c));const f=d.docs.has(o);!f&&d.fromCache?l.reject(new se(F.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&a&&a.source==="server"?l.reject(new se(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new sb(i1(o.path),u,{includeMetadataChanges:!0,Nu:!0});return rb(i,c)}(await mb(t),t.asyncQueue,e,n,r)),r.promise}function KU(t,e,n={}){const r=new Kr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new fb({next:d=>{s.enqueueAndForget(()=>ib(i,c)),d.fromCache&&a.source==="server"?l.reject(new se(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new sb(o,u,{includeMetadataChanges:!0,Nu:!0});return rb(i,c)}(await mb(t),t.asyncQueue,e,n,r)),r.promise}class GU{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Gx(this,"async_queue_retry"),this.Wc=()=>{const n=Vp();n&&ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=Vp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=Vp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new Kr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!Au(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw ri("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=p1.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&he()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}class wa extends Ef{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new GU,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||gb(this),this._firestoreClient.terminate()}}function QU(t,e){const n=typeof t=="object"?t:qh(),r=typeof t=="string"?t:e||"(default)",i=Yi(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=ek("firestore");s&&FU(i,...s)}return i}function _1(t){return t._firestoreClient||gb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function gb(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new k8(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new VU(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ra(Jt.fromBase64String(e))}catch(n){throw new se(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ra(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=/^__.*__$/;class XU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pu(e,this.data,n,this.fieldTransforms)}}class yb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class E1{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new E1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Kd(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(vb(this.sa)&&YU.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class JU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||wf(e)}da(e,n,r,i=!1){return new E1({sa:e,methodName:n,fa:r,path:Wt.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function C1(t){const e=t._freezeSettings(),n=wf(t._databaseId);return new JU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wb(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);k1("Data must be an object, but it was:",o,r);const a=_b(r,o);let l,u;if(s.merge)l=new $n(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=Xg(e,d,n);if(!o.contains(f))throw new se(F.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Eb(c,f)||c.push(f)}l=new $n(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new XU(new dn(a),l,u)}class If extends kf{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof If}}class T1 extends kf{_toFieldTransform(e){return new Q8(e.path,new ru)}isEqual(e){return e instanceof T1}}function ZU(t,e,n,r){const i=t.da(1,e,n);k1("Data must be an object, but it was:",i,r);const s=[],o=dn.empty();Ws(r,(l,u)=>{const c=I1(e,l,n);u=Xe(u);const d=i.ca(c);if(u instanceof If)s.push(c);else{const f=xf(u,d);f!=null&&(s.push(c),o.set(c,f))}});const a=new $n(s);return new yb(o,a,i.fieldTransforms)}function e5(t,e,n,r,i,s){const o=t.da(1,e,n),a=[Xg(e,r,n)],l=[i];if(s.length%2!=0)throw new se(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Xg(e,s[f])),l.push(s[f+1]);const u=[],c=dn.empty();for(let f=a.length-1;f>=0;--f)if(!Eb(u,a[f])){const p=a[f];let v=l[f];v=Xe(v);const m=o.ca(p);if(v instanceof If)u.push(p);else{const S=xf(v,m);S!=null&&(u.push(p),c.set(p,S))}}const d=new $n(u);return new yb(c,d,o.fieldTransforms)}function xf(t,e){if(Sb(t=Xe(t)))return k1("Unsupported field value:",e,t),_b(t,e);if(t instanceof kf)return function(n,r){if(!vb(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=xf(o,r.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Xe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return W8(r.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=ft.fromDate(n);return{timestampValue:qd(r.yt,i)}}if(n instanceof ft){const i=new ft(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:qd(r.yt,i)}}if(n instanceof S1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ra)return{bytesValue:Fx(r.yt,n._byteString)};if(n instanceof yn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:o1(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${v1(n)}`)}(t,e)}function _b(t,e){const n={};return hx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(t,(r,i)=>{const s=xf(i,e.ra(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Sb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof S1||t instanceof ra||t instanceof yn||t instanceof kf)}function k1(t,e,n){if(!Sb(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=v1(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function Xg(t,e,n){if((e=Xe(e))instanceof Tf)return e._internalPath;if(typeof e=="string")return I1(t,e);throw Kd("Field path arguments must be of type string or ",t,!1,void 0,n)}const t5=new RegExp("[~\\*/\\[\\]]");function I1(t,e,n){if(e.search(t5)>=0)throw Kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tf(...e.split("."))._internalPath}catch{throw Kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new se(F.INVALID_ARGUMENT,a+t+l)}function Eb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new n5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Tb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class n5 extends Cb{data(){return super.data()}}function Tb(t,e){return typeof e=="string"?I1(t,e):e instanceof Tf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i5{convertValue(e,n="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw he()}}convertObject(e,n){const r={};return Ws(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new S1(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=px(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const n=Bi(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);ze(qx(r));const i=new eu(r.get(1),r.get(3)),s=new ae(r.popFirst(5));return i.isEqual(n)||ri(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ib extends Cb{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Tb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Bc extends Ib{data(e={}){return super.data(e)}}class s5{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ja(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bc(this._firestore,this._userDataWriter,r.key,r,new Ja(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Bc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ja(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Bc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ja(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:o5(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function o5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t){t=xr(t,yn);const e=xr(t.firestore,wa);return WU(_1(e),t._key).then(n=>l5(e,t,n))}class xb extends i5{constructor(e){super(),this.firestore=e}convertBytes(e){return new ra(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function bb(t){t=xr(t,Cf);const e=xr(t.firestore,wa),n=_1(e),r=new xb(e);return r5(t._query),KU(n,t._query).then(i=>new s5(e,r,t,i))}function x1(t,e,n){t=xr(t,yn);const r=xr(t.firestore,wa),i=kb(t.converter,e,n);return b1(r,[wb(C1(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ir.none())])}function bf(t,e,n,...r){t=xr(t,yn);const i=xr(t.firestore,wa),s=C1(i);let o;return o=typeof(e=Xe(e))=="string"||e instanceof Tf?e5(s,"updateDoc",t._key,e,n,r):ZU(s,"updateDoc",t._key,e),b1(i,[o.toMutation(t._key,ir.exists(!0))])}function a5(t,e){const n=xr(t.firestore,wa),r=lr(t),i=kb(t.converter,e);return b1(n,[wb(C1(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ir.exists(!1))]).then(()=>r)}function b1(t,e){return function(n,r){const i=new Kr;return n.asyncQueue.enqueueAndForget(async()=>bU(await qU(n),r,i)),i.promise}(_1(t),e)}function l5(t,e,n){const r=n.docs.get(e._key),i=new xb(t);return new Ib(t,i,e._key,r,new Ja(n.hasPendingWrites,n.fromCache),e.converter)}function R1(){return new T1("serverTimestamp")}(function(t,e=!0){(function(n){ga=n})(ca),ar(new Vn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new wa(new f8(n.getProvider("auth-internal")),new y8(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new se(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),gn(H_,"3.8.0",t),gn(H_,"3.8.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="firebasestorage.googleapis.com",Ab="storageBucket",u5=2*60*1e3,c5=10*60*1e3,d5=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt extends qn{constructor(e,n,r=0){super(zp(e),`Firebase Storage: ${n} (${zp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function zp(t){return"storage/"+t}function A1(){const t="An unknown error occurred, please check the error payload for server response.";return new nt("unknown",t)}function h5(t){return new nt("object-not-found","Object '"+t+"' does not exist.")}function f5(t){return new nt("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function p5(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new nt("unauthenticated",t)}function m5(){return new nt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function g5(t){return new nt("unauthorized","User does not have permission to access '"+t+"'.")}function Pb(){return new nt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Lb(){return new nt("canceled","User canceled the upload/download.")}function y5(t){return new nt("invalid-url","Invalid URL '"+t+"'.")}function v5(t){return new nt("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function w5(){return new nt("no-default-bucket","No default bucket found. Did you set the '"+Ab+"' property when initializing the app?")}function Nb(){return new nt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function _5(){return new nt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function S5(){return new nt("no-download-url","The given file does not have any download URLs.")}function E5(t){return new nt("unsupported-environment",`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Jg(t){return new nt("invalid-argument",t)}function Ob(){return new nt("app-deleted","The Firebase app was deleted.")}function C5(t){return new nt("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yl(t,e){return new nt("invalid-format","String does not match format '"+t+"': "+e)}function ja(t){throw new nt("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=_n.makeFromUrl(e,n)}catch{return new _n(e,"")}if(r.path==="")return r;throw v5(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(_){_.path_=decodeURIComponent(_.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},m=n===Rb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",y=new RegExp(`^https?://${m}/${i}/${S}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:p,indices:v,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let _=0;_<w.length;_++){const E=w[_],k=E.regex.exec(e);if(k){const I=k[E.indices.bucket];let N=k[E.indices.path];N||(N=""),r=new _n(I,N),E.postModify(r);break}}if(r==null)throw y5(e);return r}}class T5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...S){u||(u=!0,e.apply(null,S))}function d(S){i=setTimeout(()=>{i=null,t(p,l())},S)}function f(){s&&clearTimeout(s)}function p(S,...y){if(u){f();return}if(S){f(),c.call(null,S,...y);return}if(l()||o){f(),c.call(null,S,...y);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let v=!1;function m(S){v||(v=!0,f(),!u&&(i!==null?(S||(a=2),clearTimeout(i),d(0)):S||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function I5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(t){return t!==void 0}function b5(t){return typeof t=="function"}function R5(t){return typeof t=="object"&&!Array.isArray(t)}function Rf(t){return typeof t=="string"||t instanceof String}function _S(t){return P1()&&t instanceof Blob}function P1(){return typeof Blob<"u"&&!hj()}function SS(t,e,n,r){if(r<e)throw Jg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Jg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Db(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ts;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ts||(Ts={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,n,r,i,s,o,a,l,u,c,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,v)=>{this.resolve_=p,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new mc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ts.NO_ERROR,l=s.getStatus();if((!a||jb(l,this.additionalRetryCodes_))&&this.retry){const c=s.getErrorCode()===Ts.ABORT;r(!1,new mc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new mc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());x5(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=A1();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?Ob():Lb();o(l)}else{const l=Pb();o(l)}};this.canceled_?n(!1,new mc(!1,null,!0)):this.backoffId_=k5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&I5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function P5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function L5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function N5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function O5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function D5(t,e,n,r,i,s,o=!0){const a=Db(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return N5(u,e),P5(u,n),L5(u,s),O5(u,r),new A5(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function M5(...t){const e=j5();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(P1())return new Blob(t);throw new nt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function $5(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(t){if(typeof atob>"u")throw E5("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bp{constructor(e,n){this.data=e,this.contentType=n||null}}function F5(t,e){switch(t){case yr.RAW:return new Bp(Mb(e));case yr.BASE64:case yr.BASE64URL:return new Bp($b(t,e));case yr.DATA_URL:return new Bp(z5(e),B5(e))}throw A1()}function Mb(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function V5(t){let e;try{e=decodeURIComponent(t)}catch{throw yl(yr.DATA_URL,"Malformed data URL.")}return Mb(e)}function $b(t,e){switch(t){case yr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw yl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case yr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw yl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=U5(e)}catch(i){throw i.message.includes("polyfill")?i:yl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Ub{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw yl(yr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=H5(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function z5(t){const e=new Ub(t);return e.base64?$b(yr.BASE64,e.rest):V5(e.rest)}function B5(t){return new Ub(t).contentType}function H5(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n){let r=0,i="";_S(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(_S(this.data_)){const r=this.data_,i=$5(r,e,n);return i===null?null:new Si(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Si(r,!0)}}static getBlob(...e){if(P1()){const n=e.map(r=>r instanceof Si?r.data_:r);return new Si(M5.apply(null,n))}else{const n=e.map(o=>Rf(o)?F5(yr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Si(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t){let e;try{e=JSON.parse(t)}catch{return null}return R5(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function W5(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Vb(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(t,e){return e}class en{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||K5}}let gc=null;function G5(t){return!Rf(t)||t.length<2?t:Vb(t)}function zb(){if(gc)return gc;const t=[];t.push(new en("bucket")),t.push(new en("generation")),t.push(new en("metageneration")),t.push(new en("name","fullPath",!0));function e(s,o){return G5(o)}const n=new en("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new en("size");return i.xform=r,t.push(i),t.push(new en("timeCreated")),t.push(new en("updated")),t.push(new en("md5Hash",null,!0)),t.push(new en("cacheControl",null,!0)),t.push(new en("contentDisposition",null,!0)),t.push(new en("contentEncoding",null,!0)),t.push(new en("contentLanguage",null,!0)),t.push(new en("contentType",null,!0)),t.push(new en("metadata","customMetadata",!0)),gc=t,gc}function Q5(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new _n(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Y5(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Q5(r,t),r}function Bb(t,e,n){const r=Fb(e);return r===null?null:Y5(t,r,n)}function X5(t,e,n,r){const i=Fb(e);if(i===null||!Rf(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,f="/b/"+o(c)+"/o/"+o(d),p=Du(f,n,r),v=Db({alt:"media",token:u});return p+v})[0]}function Hb(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class _a{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t){if(!t)throw A1()}function L1(t,e){function n(r,i){const s=Bb(t,i,e);return Gr(s!==null),s}return n}function J5(t,e){function n(r,i){const s=Bb(t,i,e);return Gr(s!==null),X5(s,i,t.host,t._protocol)}return n}function ju(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=m5():i=p5():n.getStatus()===402?i=f5(t.bucket):n.getStatus()===403?i=g5(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function qb(t){const e=ju(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=h5(t.path)),s.serverResponse=i.serverResponse,s}return n}function Z5(t,e,n){const r=e.fullServerUrl(),i=Du(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new _a(i,s,L1(t,n),o);return a.errorHandler=qb(e),a}function eF(t,e,n){const r=e.fullServerUrl(),i=Du(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new _a(i,s,J5(t,n),o);return a.errorHandler=qb(e),a}function tF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Wb(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=tF(null,e)),r}function nF(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let _=0;_<2;_++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=Wb(e,r,i),c=Hb(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Si.getBlob(d,r,f);if(p===null)throw Nb();const v={name:u.fullPath},m=Du(s,t.host,t._protocol),S="POST",y=t.maxUploadRetryTime,g=new _a(m,S,L1(t,n),y);return g.urlParams=v,g.headers=o,g.body=p.uploadData(),g.errorHandler=ju(e),g}class Gd{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function N1(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Gr(!1)}return Gr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function rF(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=Wb(e,r,i),a={name:o.fullPath},l=Du(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=Hb(o,n),f=t.maxUploadRetryTime;function p(m){N1(m);let S;try{S=m.getResponseHeader("X-Goog-Upload-URL")}catch{Gr(!1)}return Gr(Rf(S)),S}const v=new _a(l,u,p,f);return v.urlParams=a,v.headers=c,v.body=d,v.errorHandler=ju(e),v}function iF(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=N1(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Gr(!1)}d||Gr(!1);const f=Number(d);return Gr(!isNaN(f)),new Gd(f,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new _a(n,o,s,a);return l.headers=i,l.errorHandler=ju(e),l}const ES=256*1024;function sF(t,e,n,r,i,s,o,a){const l=new Gd(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw _5();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,f=d+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const v={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},m=r.slice(d,f);if(m===null)throw Nb();function S(_,E){const k=N1(_,["active","final"]),I=l.current+c,N=r.size();let R;return k==="final"?R=L1(e,s)(_,E):R=null,new Gd(I,N,k==="final",R)}const y="POST",g=e.maxUploadRetryTime,w=new _a(n,y,S,g);return w.headers=v,w.body=m.uploadData(),w.progressCallback=a||null,w.errorHandler=ju(t),w}const un={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Hp(t){switch(t){case"running":case"pausing":case"canceling":return un.RUNNING;case"paused":return un.PAUSED;case"success":return un.SUCCESS;case"canceled":return un.CANCELED;case"error":return un.ERROR;default:return un.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e,n,r){if(b5(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class aF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ts.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ts.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ts.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ja("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ja("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ja("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ja("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ja("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class lF extends aF{initXhr(){this.xhr_.responseType="text"}}function so(){return new lF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=zb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(jb(i.status,[]))if(s)i=Pb();else{this.sleepTime=Math.max(this.sleepTime*2,d5),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=rF(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,so,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=iF(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,so,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=ES*this._chunkMultiplier,n=new Gd(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=sF(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,so,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){ES*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Z5(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,so,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=nF(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,so,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Lb(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Hp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new oF(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Hp(this._state)){case un.SUCCESS:Zs(this._resolve.bind(null,this.snapshot))();break;case un.CANCELED:case un.ERROR:const n=this._reject;Zs(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Hp(this._state)){case un.RUNNING:case un.PAUSED:e.next&&Zs(e.next.bind(e,this.snapshot))();break;case un.SUCCESS:e.complete&&Zs(e.complete.bind(e))();break;case un.CANCELED:case un.ERROR:e.error&&Zs(e.error.bind(e,this._error))();break;default:e.error&&Zs(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n){this._service=e,n instanceof _n?this._location=n:this._location=_n.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Us(e,n)}get root(){const e=new _n(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Vb(this._location.path)}get storage(){return this._service}get parent(){const e=q5(this._location.path);if(e===null)return null;const n=new _n(this._location.bucket,e);return new Us(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw C5(e)}}function cF(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new uF(t,new Si(e),n)}function dF(t){t._throwIfRoot("getDownloadURL");const e=eF(t.storage,t._location,zb());return t.storage.makeRequestWithTokens(e,so).then(n=>{if(n===null)throw S5();return n})}function hF(t,e){const n=W5(t._location.path,e),r=new _n(t._location.bucket,n);return new Us(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t){return/^[A-Za-z]+:\/\//.test(t)}function pF(t,e){return new Us(t,e)}function Kb(t,e){if(t instanceof O1){const n=t;if(n._bucket==null)throw w5();const r=new Us(n,n._bucket);return e!=null?Kb(r,e):r}else return e!==void 0?hF(t,e):t}function mF(t,e){if(e&&fF(e)){if(t instanceof O1)return pF(t,e);throw Jg("To use ref(service, url), the first argument must be a Storage instance.")}else return Kb(t,e)}function CS(t,e){const n=e==null?void 0:e[Ab];return n==null?null:_n.makeFromBucketSpec(n,t)}function gF(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:nk(i,t.app.options.projectId))}class O1{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Rb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=u5,this._maxUploadRetryTime=c5,this._requests=new Set,i!=null?this._bucket=_n.makeFromBucketSpec(i,this._host):this._bucket=CS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_n.makeFromBucketSpec(this._url,e):this._bucket=CS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Us(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new T5(Ob());{const o=D5(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const TS="@firebase/storage",kS="0.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="storage";function yF(t,e,n){return t=Xe(t),cF(t,e,n)}function vF(t){return t=Xe(t),dF(t)}function wF(t,e){return t=Xe(t),mF(t,e)}function _F(t=qh(),e){t=Xe(t);const r=Yi(t,Gb).getImmediate({identifier:e}),i=ek("storage");return i&&SF(r,...i),r}function SF(t,e,n,r={}){gF(t,e,n,r)}function EF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new O1(n,r,i,e,ca)}function CF(){ar(new Vn(Gb,EF,"PUBLIC").setMultipleInstances(!0)),gn(TS,kS,""),gn(TS,kS,"esm2017")}CF();const TF={apiKey:"AIzaSyCp1genoyHX34BgerJeoNIDKJNp2H3Y2Rc",authDomain:"amelianceworship-d6e23.firebaseapp.com",projectId:"amelianceworship-d6e23",storageBucket:"amelianceworship-d6e23.appspot.com",messagingSenderId:"268005856332",appId:"1:268005856332:web:ba2da910ba7dec2a1350e9",measurementId:"G-28X8EC3EV9"},kF=ok(TF),Sa=B4(),IF=_F();r6(kF);const xF=new Mr,An=QU();async function bF({email:t,password:e}){try{return{user:(await E$(Sa,t,e)).user,status:"success"}}catch(n){throw new Error(pe(n))}}function RF(){const t=Sa.currentUser;if(t!==null)return{user:t,status:"success"};throw new Error(pe("Can't find user auth!"))}async function AF({email:t,password:e}){try{return{user:(await C$(Sa,t,e)).user,status:"success"}}catch(n){throw new Error(pe(n))}}async function PF(){try{return{user:(await Z$(Sa,xF)).user,status:"success"}}catch(t){throw new Error(pe(t))}}function Gs(){return{status:"success"}}function LF(){try{return R$(Sa),Gs()}catch(t){throw new Error(pe(t))}}async function NF({user:t,displayName:e,photoURL:n}){try{return await k$(t,{displayName:e,photoURL:n}),Gs()}catch(r){throw new Error(pe(r))}}const OF={createUser:bF,getCurrentAuthUser:RF,signIn:AF,signInWithGoogle:PF,signOut:LF,updateProfile:NF};async function DF({chatId:t}){const e=lr(An,"chats",t);try{const n=await ou(e);if(n.exists())return{messages:n.data().message,status:"success"};await x1(e,{messages:[]});const r=await ou(e);if(r.exists())return{messages:r.data().message,status:"success"};throw new Error("Can't find group chat!")}catch(n){throw new Error(pe(n))}}const jF={getChatMessages:DF};async function MF(){const t=w1(An,"groups");try{return{chatId:(await a5(t,{})).id,status:"success"}}catch(e){throw new Error(pe(e))}}async function Qb({chatId:t}){const e=lr(An,"groups",t);try{const n=await ou(e);if(n.exists())return{messages:n.data().messages,status:"success"};throw new Error("Can't find group messages!")}catch(n){throw new Error(pe(n))}}async function $F({text:t,chatId:e,user:n}){var r;try{const i=await Qb({chatId:e});if("error"in i)throw new Error((r=i.error)==null?void 0:r.toString());const o={messageId:i.messages&&i.messages.length>0?i.messages[i.messages.length-1].messageId+1:0,text:t,chatId:e,date:ft.now().toMillis().toString(),user:n};let a;"messages"in i&&i.messages&&i.messages.length>0?a=[...i.messages,o]:a=[o];const l=lr(An,"groups",e);return await bf(l,{messages:a}),Gs()}catch(i){throw new Error(pe(i))}}async function UF(){const t=w1(An,"groups");try{const e=await bb(t),n={};if(e.forEach(r=>{n[r.id]=r.data()}),!Y.isObjectEmpty(n))return{groups:n,status:"success"};throw new Error("Can't find any groups!")}catch(e){throw new Error(pe(e))}}async function FF({chatId:t}){const e=lr(An,"groups",t);try{const n=await ou(e);if(n.exists())return{info:n.data().info,status:"success"};throw new Error("Can't find group info!")}catch(n){throw new Error(pe(n))}}async function VF({chatId:t,displayName:e,photoURL:n,lastText:r,color:i,ownerId:s,admins:o,type:a}){const l=lr(An,"groups",t);try{const u={};return t&&(u.chatId=t),e&&(u.displayName=e),n&&(u.photoURL=n),u.date=R1().toString(),r&&(u.lastText=r),i&&(u.color=i),s&&(u.ownerId=s),o&&o.length>0&&(u.admins=o),a&&(u.type=a),await bf(l,{info:u}),Gs()}catch(u){throw new Error(pe(u))}}const zF={addGroup:MF,addMessage:$F,getGroupMessages:Qb,getAllGroups:UF,updateGroupInfo:VF,getGroupInfo:FF};async function BF({uid:t}){const e=lr(An,"userChats",t);try{return await x1(e,{}),Gs()}catch(n){throw new Error(pe(n))}}function HF({chatId:t,uid:e,targetChatUserId:n,targetChatUserDisplayName:r,targetChatUserPhotoURL:i}){const s=lr(An,"userChats",e);bf(s,{[`${t}.userInfo`]:{uid:n,displayName:r,photoURL:i},[`${t}.date`]:R1()})}const qF={addUserChatsForUser:BF,updateUserChatInfo:HF};async function WF({uid:t}){const e=lr(An,"users",t);try{return await x1(e,{uid:t}),Gs()}catch(n){throw new Error(pe(n))}}async function KF(){const t=w1(An,"users");try{const e=await bb(t),n={};if(e.forEach(r=>{n[r.id]=r.data()}),!Y.isObjectEmpty(n))return{users:n,status:"success"};throw new Error(pe("Can't find any chats!"))}catch(e){throw new Error(pe(e))}}async function GF({userId:t}){const e=lr(An,"users",t);try{const n=await ou(e);if(n.exists()){const{user:r}=n.data();return{user:r,status:"success"}}throw new Error("Can't find user!")}catch(n){throw new Error(pe(n))}}async function QF({uid:t,displayName:e,photoURL:n,email:r,role:i,sex:s,lastActiveChatId:o,isOnline:a}){const l=lr(An,"users",t);try{const u={};return e&&(u.displayName=e),n&&(u.photoURL=n),r&&(u.email=r),i&&(u.role=i),s&&(u.sex=s),o&&(u.lastActiveChatId=o),u.lastVisitDate=R1().toString(),a&&(u.isOnline=a),await bf(l,{user:u}),Gs()}catch(u){throw new Error(pe(u))}}const YF={addUser:WF,getAllUsers:KF,getUserById:GF,updateUser:QF},XF={chats:jF,groups:zF,userChats:qF,users:YF};function JF(...t){return t.sort().join("-")}const ZF={combineIds:JF};async function e7({refName:t,file:e}){const n=wF(IF,t);try{return await yF(n,e),{downloadURL:await vF(n),status:"success"}}catch(r){throw new Error(pe(r))}}const t7={uploadFile:e7},n7={auth:OF,database:XF,helpers:ZF,storage:t7};function r7(t){return t.table.rows.map(e=>{var n;return(n=e.c.at(0))==null?void 0:n.v})}function i7(t){const e={},{table:n}=t,r=n.rows[0].c.length;for(let i=0;i<r;i++){const s=[];for(let o=1;o<n.rows.length;o++)n.rows[o].c[i]?s[o-1]=n.rows[o].c[i].v??"":s[o]="";e[n.rows[0].c[i].v]=s}return e}const s7={convertDataFromSheetWithFirstRowHeading:i7,convertDataFromOneColumnSheet:r7},o7="https://docs.google.com/spreadsheets/d/";async function a7({sheetId:t,tqx:e="out:json",pageTitle:n="sheet",range:r=""}){const i=new URLSearchParams;e&&i.append("tqx",e),n&&i.append("sheet",n),r&&i.append("range",r);try{const o=await(await fetch(`${o7}${t}/gviz/tq?${i}`)).text();return JSON.parse(o.substring(47).slice(0,-2))}catch(s){throw new Error(pe(s))}}const l7={getSheetData:a7,convertors:s7},u7={firebase:n7,sheets:l7,appsscript:lj};async function c7(){try{return{ip:(await(await fetch("https://api.ipify.org?format=json")).json()).ip,status:"success"}}catch(t){throw new Error(pe(t))}}const d7={fetchIP:c7},Ln={google:u7,ipify:d7},h7="16wsDcFtQ7J1nYrlSkEB8KgLp_XpyCdwH-SIi0fuqapc";function f7(t){let e;if(t){const n=eD(t,"value"),r=ZO(n,"value");e=JO(r,"value")}return e}const vl=Bh("songsList/fetchSongsList",async(t,e)=>{try{const n=await Ln.google.appsscript.getAllTitledColumnsDataSingle({spreadsheetId:h7,sheetName:"common"}),r=Object.entries(n.data),i=[];return r.map(o=>{const a=o[0];i.push(a);const l=f7(o[1].values);return[a,l]})}catch(n){return e.rejectWithValue(pe(n))}}),p7="_Icon_1telp_46",m7="_disabled_1telp_53",g7="_clickable_1telp_61",y7="_tiny_1telp_65",v7="_small_1telp_69",w7="_medium_1telp_77",_7="_large_1telp_81",S7="_extra_1telp_85",IS={Icon:p7,disabled:m7,clickable:g7,tiny:y7,small:v7,default:"_default_1telp_73",medium:w7,large:_7,extra:S7},Qt=T.forwardRef(({size:t="default",width:e=24,height:n=24,onClick:r,children:i,className:s,style:o,...a},l)=>{const u=[r&&"clickable",t&&IS[t]],c=t==="custom"?{width:e,height:n}:{};return h.jsx("div",{className:Y.join(IS.Icon,s,u),onClick:r,ref:l,style:{...o,...c},...a,children:i})});Qt.displayName="Icon";function E7(t){return h.jsxs(Pe,{fill:"none",...t,children:[h.jsx("path",{d:"M7.86 2H16.14L22 7.86V16.14L16.14 22H7.86L2 16.14V7.86L7.86 2Z",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 8V12",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 16H12.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function C7(t){return h.jsx(Pe,{fill:"none",...t,children:h.jsx("path",{d:"M21 12.79C20.8427 14.4922 20.2039 16.1144 19.1582 17.4668C18.1126 18.8192 16.7035 19.8458 15.0957 20.4265C13.4879 21.0073 11.748 21.1181 10.0795 20.7461C8.41101 20.3741 6.88299 19.5345 5.67422 18.3258C4.46545 17.117 3.62593 15.589 3.2539 13.9205C2.88187 12.252 2.99271 10.5121 3.57345 8.9043C4.1542 7.29651 5.18082 5.88737 6.53321 4.84175C7.88559 3.79614 9.50779 3.15731 11.21 3C10.2134 4.34827 9.73384 6.00945 9.85852 7.68141C9.98321 9.35338 10.7039 10.9251 11.8894 12.1106C13.0749 13.2961 14.6466 14.0168 16.3186 14.1415C17.9905 14.2662 19.6517 13.7866 21 12.79V12.79Z",strokeLinecap:"round",strokeLinejoin:"round"})})}function T7(t){return h.jsxs(Pe,{fill:"none",...t,children:[h.jsx("circle",{cx:"12",cy:"12",r:"1"}),h.jsx("circle",{cx:"12",cy:"5",r:"1"}),h.jsx("circle",{cx:"12",cy:"19",r:"1"})]})}function k7(t){return h.jsxs(Pe,{fill:"none",...t,children:[h.jsx("polyline",{points:"1 4 1 10 7 10"}),h.jsx("polyline",{points:"23 20 23 14 17 14"}),h.jsx("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})]})}function I7(t){return h.jsxs(Pe,{fill:"none",...t,children:[h.jsxs("g",{clipPath:"url(#clip0_1475_3120)",children:[h.jsx("path",{d:"M12 17C14.7614 17 17 14.7614 17 12C17 9.23858 14.7614 7 12 7C9.23858 7 7 9.23858 7 12C7 14.7614 9.23858 17 12 17Z",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 1V3",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 21V23",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M4.22 4.22L5.64 5.64",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M18.36 18.36L19.78 19.78",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M1 12H3",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M21 12H23",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M4.22 19.78L5.64 18.36",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M18.36 5.64L19.78 4.22",strokeLinecap:"round",strokeLinejoin:"round"})]}),h.jsx("defs",{children:h.jsx("clipPath",{id:"clip0_1475_3120",children:h.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function x7(){const t=T.useCallback(()=>{const n=window.innerWidth-document.body.offsetWidth;document.body.style.overflow="hidden",document.body.style.width="100%",document.body.style.paddingRight=`${n}px`},[]),e=T.useCallback(()=>{document.body.style.overflow="",document.body.style.width="auto",document.body.style.paddingRight="0px"},[]);return{lockScroll:t,unlockScroll:e}}function Mu(t){return h.jsxs(Pe,{fill:"none",...t,children:[h.jsx("path",{d:"M18 6L6 18",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M6 6L18 18",strokeLinecap:"round",strokeLinejoin:"round"})]})}const b7="_Menu_b65v5_18",R7="_backdrop_b65v5_50",A7="_show_b65v5_80",P7="_close_b65v5_86",L7="_menuItems_b65v5_93",Ma={Menu:b7,backdrop:R7,"hide-menu":"_hide-menu_b65v5_1",show:A7,"show-menu":"_show-menu_b65v5_1",close:P7,menuItems:L7},Af=T.forwardRef(({children:t,isOpen:e,scrollLock:n,onClick:r,closeButton:i,preventItemClickClose:s,menuOrigin:o,anchorOrigin:a,...l},u)=>{const c=T.useRef(null),[d,f]=T.useState(!0),[p,v]=T.useState({}),{lockScroll:m,unlockScroll:S}=x7();if(T.useEffect(()=>(e&&n&&m(),S),[e]),T.useEffect(()=>{f(!0)},[e]),T.useEffect(()=>{var $,U;const _=(U=($=c.current)==null?void 0:$.parentElement)==null?void 0:U.getBoundingClientRect(),E={width:(_==null?void 0:_.width)||0,height:(_==null?void 0:_.height)||0,horizontalHalf:((_==null?void 0:_.width)||0)/2,verticalHalf:((_==null?void 0:_.height)||0)/2},k={},I=a==null?void 0:a.horizontal,N=a==null?void 0:a.vertical,R=o==null?void 0:o.horizontal,D=o==null?void 0:o.vertical;R==="left"&&(I==="left"&&(k.left=0),I==="center"&&(k.left=E.horizontalHalf),I==="right"&&(k.left=E.width)),R==="right"&&(I==="left"&&(k.right=E.width),I==="center"&&(k.right=E.horizontalHalf),I==="right"&&(k.right=0)),D==="top"&&(N==="top"&&(k.top=0),N==="center"&&(k.top=E.verticalHalf),N==="bottom"&&(k.top=E.height)),D==="bottom"&&(N==="top"&&(k.bottom=E.height),N==="center"&&(k.bottom=E.verticalHalf),N==="bottom"&&(k.bottom=0));const W=o?`${o==null?void 0:o.horizontal} ${o==null?void 0:o.vertical}`:"left top";v({...k,transformOrigin:W})},[e]),!e)return null;const y=()=>{f(!1)},g=()=>{d||(r(),S())},w=_=>{s&&_.stopPropagation()};return h.jsxs(h.Fragment,{children:[h.jsx("div",{role:"navigation",className:Ma.backdrop,onClick:y,ref:u,...l}),h.jsxs("nav",{onAnimationEnd:g,ref:c,className:Y.join(Ma.Menu,d&&Ma.show),style:p,children:[h.jsx("ul",{className:Ma.menuItems,onClick:w,children:t}),i&&h.jsx(Ze,{className:Ma.close,onClick:y,type:"secondary",size:"small",children:h.jsx(Mu,{size:"small"})})]})]})});Af.displayName="Menu";const N7="_MenuContainer_xz9l3_1",O7={MenuContainer:N7},Pf=T.forwardRef(({children:t,className:e,...n},r)=>h.jsx("div",{className:Y.join(O7.MenuContainer,e),ref:r,...n,children:t}));Pf.displayName="MenuContainer";const D7="_MenuDivider_3of8s_1",j7={MenuDivider:D7},Yb=T.forwardRef(({className:t,...e},n)=>h.jsx("span",{className:Y.join(j7.MenuDivider,t),ref:n,...e}));Yb.displayName="MenuDivider";const M7="_MenuItem_2d0qh_46",$7="_disabled_2d0qh_71",xS={MenuItem:M7,disabled:$7},ks=T.forwardRef(({disabled:t,children:e,className:n,...r},i)=>{const s=[t&&xS.disabled];return h.jsx("li",{className:Y.join(xS.MenuItem,n,s),ref:i,...r,children:e})});ks.displayName="MenuItem";const U7={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6"},oe=T.forwardRef(({component:t,display:e,children:n,className:r,...i},s)=>{const o=t||"p",a=e?on[e]:null,l=t?on[t]:on.p1,u={className:Y.join(r,a||l),ref:s,...i},c=U7[o]||"p";return h.jsx(iv,{as:c,...u,children:n})});oe.displayName="Typography";function F7(){const e=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";return document.documentElement.setAttribute("data-theme",e),e}function V7(){const[t,e]=T.useState(!1),{theme:n}=xt(c=>c.appReducer),{actions:r}=qT,i=Rn(),s=()=>{e(!0)},o=()=>{e(!1)},a=()=>{e(!1),NT()},l=()=>{e(!1),i(vl())},u=()=>{const c=F7();i(r.setTheme(c))};return h.jsxs(Pf,{children:[h.jsxs(Af,{isOpen:t,onClick:o,anchorOrigin:{horizontal:"right",vertical:"top"},menuOrigin:{horizontal:"right",vertical:"top"},preventItemClickClose:!0,children:[h.jsxs(ks,{onClick:a,children:[h.jsx(Qt,{children:h.jsx(E7,{})}),h.jsx(oe,{component:"p1",children:" "})]}),h.jsxs(ks,{onClick:l,children:[h.jsx(Qt,{children:h.jsx(k7,{})}),h.jsx(oe,{component:"p1",children:"  "})]}),h.jsx(Yb,{}),h.jsxs(ks,{onClick:u,children:[h.jsx(Qt,{children:n==="dark"?h.jsx(C7,{}):h.jsx(I7,{})}),h.jsxs(oe,{component:"p1",children:[":"," ",n==="dark"?"":""]})]})]}),h.jsx(Ze,{type:"text",onClick:s,children:h.jsx(T7,{})})]})}var Dr={},z7={get exports(){return Dr},set exports(t){Dr=t}};(function(t,e){(function(r,i){t.exports=i(T)})(z2,n=>(()=>{var r={"./node_modules/css-mediaquery/index.js":(a,l)=>{l.match=v,l.parse=m;var u=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,c=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,d=/^(?:(min|max)-)?(.+)/,f=/(em|rem|px|cm|mm|in|pt|pc)?$/,p=/(dpi|dpcm|dppx)?$/;function v(w,_){return m(w).some(function(E){var k=E.inverse,I=E.type==="all"||_.type===E.type;if(I&&k||!(I||k))return!1;var N=E.expressions.every(function(R){var D=R.feature,W=R.modifier,$=R.value,U=_[D];if(!U)return!1;switch(D){case"orientation":case"scan":return U.toLowerCase()===$.toLowerCase();case"width":case"height":case"device-width":case"device-height":$=g($),U=g(U);break;case"resolution":$=y($),U=y(U);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":$=S($),U=S(U);break;case"grid":case"color":case"color-index":case"monochrome":$=parseInt($,10)||1,U=parseInt(U,10)||0;break}switch(W){case"min":return U>=$;case"max":return U<=$;default:return U===$}});return N&&!k||!N&&k})}function m(w){return w.split(",").map(function(_){_=_.trim();var E=_.match(u),k=E[1],I=E[2],N=E[3]||"",R={};return R.inverse=!!k&&k.toLowerCase()==="not",R.type=I?I.toLowerCase():"all",N=N.match(/\([^\)]+\)/g)||[],R.expressions=N.map(function(D){var W=D.match(c),$=W[1].toLowerCase().match(d);return{modifier:$[1],feature:$[2],value:W[2]}}),R})}function S(w){var _=Number(w),E;return _||(E=w.match(/^(\d+)\s*\/\s*(\d+)$/),_=E[1]/E[2]),_}function y(w){var _=parseFloat(w),E=String(w).match(p)[1];switch(E){case"dpcm":return _/2.54;case"dppx":return _*96;default:return _}}function g(w){var _=parseFloat(w),E=String(w).match(f)[1];switch(E){case"em":return _*16;case"rem":return _*16;case"cm":return _*96/2.54;case"mm":return _*96/2.54/10;case"in":return _*96;case"pt":return _*72;case"pc":return _*72/12;default:return _}}},"./node_modules/hyphenate-style-name/index.js":(a,l,u)=>{u.r(l),u.d(l,{default:()=>m});var c=/[A-Z]/g,d=/^ms-/,f={};function p(S){return"-"+S.toLowerCase()}function v(S){if(f.hasOwnProperty(S))return f[S];var y=S.replace(c,p);return f[S]=d.test(y)?"-"+y:y}const m=v},"./node_modules/matchmediaquery/index.js":(a,l,u)=>{var c=u("./node_modules/css-mediaquery/index.js").match,d=typeof window<"u"?window.matchMedia:null;function f(v,m,S){var y=this;if(d&&!S){var g=d.call(window,v);this.matches=g.matches,this.media=g.media,g.addListener(E)}else this.matches=c(v,m),this.media=v;this.addListener=w,this.removeListener=_,this.dispose=k;function w(I){g&&g.addListener(I)}function _(I){g&&g.removeListener(I)}function E(I){y.matches=I.matches,y.media=I.media}function k(){g&&g.removeListener(E)}}function p(v,m,S){return new f(v,m,S)}a.exports=p},"./node_modules/object-assign/index.js":a=>{/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function d(p){if(p==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(p)}function f(){try{if(!Object.assign)return!1;var p=new String("abc");if(p[5]="de",Object.getOwnPropertyNames(p)[0]==="5")return!1;for(var v={},m=0;m<10;m++)v["_"+String.fromCharCode(m)]=m;var S=Object.getOwnPropertyNames(v).map(function(g){return v[g]});if(S.join("")!=="0123456789")return!1;var y={};return"abcdefghijklmnopqrst".split("").forEach(function(g){y[g]=g}),Object.keys(Object.assign({},y)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}a.exports=f()?Object.assign:function(p,v){for(var m,S=d(p),y,g=1;g<arguments.length;g++){m=Object(arguments[g]);for(var w in m)u.call(m,w)&&(S[w]=m[w]);if(l){y=l(m);for(var _=0;_<y.length;_++)c.call(m,y[_])&&(S[y[_]]=m[y[_]])}}return S}},"./node_modules/prop-types/checkPropTypes.js":(a,l,u)=>{var c=function(){};{var d=u("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),f={},p=u("./node_modules/prop-types/lib/has.js");c=function(m){var S="Warning: "+m;typeof console<"u"&&console.error(S);try{throw new Error(S)}catch{}}}function v(m,S,y,g,w){for(var _ in m)if(p(m,_)){var E;try{if(typeof m[_]!="function"){var k=Error((g||"React class")+": "+y+" type `"+_+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof m[_]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw k.name="Invariant Violation",k}E=m[_](S,_,g,y,null,d)}catch(N){E=N}if(E&&!(E instanceof Error)&&c((g||"React class")+": type specification of "+y+" `"+_+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof E+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),E instanceof Error&&!(E.message in f)){f[E.message]=!0;var I=w?w():"";c("Failed "+y+" type: "+E.message+(I??""))}}}v.resetWarningCache=function(){f={}},a.exports=v},"./node_modules/prop-types/factoryWithTypeCheckers.js":(a,l,u)=>{var c=u("./node_modules/react-is/index.js"),d=u("./node_modules/object-assign/index.js"),f=u("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),p=u("./node_modules/prop-types/lib/has.js"),v=u("./node_modules/prop-types/checkPropTypes.js"),m=function(){};m=function(y){var g="Warning: "+y;typeof console<"u"&&console.error(g);try{throw new Error(g)}catch{}};function S(){return null}a.exports=function(y,g){var w=typeof Symbol=="function"&&Symbol.iterator,_="@@iterator";function E(V){var G=V&&(w&&V[w]||V[_]);if(typeof G=="function")return G}var k="<<anonymous>>",I={array:W("array"),bigint:W("bigint"),bool:W("boolean"),func:W("function"),number:W("number"),object:W("object"),string:W("string"),symbol:W("symbol"),any:$(),arrayOf:U,element:le(),elementType:Ie(),instanceOf:$e,node:re(),objectOf:q,oneOf:lt,oneOfType:K,shape:Ue,exact:pt};function N(V,G){return V===G?V!==0||1/V===1/G:V!==V&&G!==G}function R(V,G){this.message=V,this.data=G&&typeof G=="object"?G:{},this.stack=""}R.prototype=Error.prototype;function D(V){var G={},ge=0;function ye(C,x,b,j,H,P,L){if(j=j||k,P=P||b,L!==f){if(g){var ve=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw ve.name="Invariant Violation",ve}else if(typeof console<"u"){var Ee=j+":"+b;!G[Ee]&&ge<3&&(m("You are manually calling a React.PropTypes validation function for the `"+P+"` prop on `"+j+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),G[Ee]=!0,ge++)}}return x[b]==null?C?x[b]===null?new R("The "+H+" `"+P+"` is marked as required "+("in `"+j+"`, but its value is `null`.")):new R("The "+H+" `"+P+"` is marked as required in "+("`"+j+"`, but its value is `undefined`.")):null:V(x,b,j,H,P)}var de=ye.bind(null,!1);return de.isRequired=ye.bind(null,!0),de}function W(V){function G(ge,ye,de,C,x,b){var j=ge[ye],H=Be(j);if(H!==V){var P=mt(j);return new R("Invalid "+C+" `"+x+"` of type "+("`"+P+"` supplied to `"+de+"`, expected ")+("`"+V+"`."),{expectedType:V})}return null}return D(G)}function $(){return D(S)}function U(V){function G(ge,ye,de,C,x){if(typeof V!="function")return new R("Property `"+x+"` of component `"+de+"` has invalid PropType notation inside arrayOf.");var b=ge[ye];if(!Array.isArray(b)){var j=Be(b);return new R("Invalid "+C+" `"+x+"` of type "+("`"+j+"` supplied to `"+de+"`, expected an array."))}for(var H=0;H<b.length;H++){var P=V(b,H,de,C,x+"["+H+"]",f);if(P instanceof Error)return P}return null}return D(G)}function le(){function V(G,ge,ye,de,C){var x=G[ge];if(!y(x)){var b=Be(x);return new R("Invalid "+de+" `"+C+"` of type "+("`"+b+"` supplied to `"+ye+"`, expected a single ReactElement."))}return null}return D(V)}function Ie(){function V(G,ge,ye,de,C){var x=G[ge];if(!c.isValidElementType(x)){var b=Be(x);return new R("Invalid "+de+" `"+C+"` of type "+("`"+b+"` supplied to `"+ye+"`, expected a single ReactElement type."))}return null}return D(V)}function $e(V){function G(ge,ye,de,C,x){if(!(ge[ye]instanceof V)){var b=V.name||k,j=ci(ge[ye]);return new R("Invalid "+C+" `"+x+"` of type "+("`"+j+"` supplied to `"+de+"`, expected ")+("instance of `"+b+"`."))}return null}return D(G)}function lt(V){if(!Array.isArray(V))return arguments.length>1?m("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):m("Invalid argument supplied to oneOf, expected an array."),S;function G(ge,ye,de,C,x){for(var b=ge[ye],j=0;j<V.length;j++)if(N(b,V[j]))return null;var H=JSON.stringify(V,function(L,ve){var Ee=mt(ve);return Ee==="symbol"?String(ve):ve});return new R("Invalid "+C+" `"+x+"` of value `"+String(b)+"` "+("supplied to `"+de+"`, expected one of "+H+"."))}return D(G)}function q(V){function G(ge,ye,de,C,x){if(typeof V!="function")return new R("Property `"+x+"` of component `"+de+"` has invalid PropType notation inside objectOf.");var b=ge[ye],j=Be(b);if(j!=="object")return new R("Invalid "+C+" `"+x+"` of type "+("`"+j+"` supplied to `"+de+"`, expected an object."));for(var H in b)if(p(b,H)){var P=V(b,H,de,C,x+"."+H,f);if(P instanceof Error)return P}return null}return D(G)}function K(V){if(!Array.isArray(V))return m("Invalid argument supplied to oneOfType, expected an instance of array."),S;for(var G=0;G<V.length;G++){var ge=V[G];if(typeof ge!="function")return m("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+ui(ge)+" at index "+G+"."),S}function ye(de,C,x,b,j){for(var H=[],P=0;P<V.length;P++){var L=V[P],ve=L(de,C,x,b,j,f);if(ve==null)return null;ve.data&&p(ve.data,"expectedType")&&H.push(ve.data.expectedType)}var Ee=H.length>0?", expected one of type ["+H.join(", ")+"]":"";return new R("Invalid "+b+" `"+j+"` supplied to "+("`"+x+"`"+Ee+"."))}return D(ye)}function re(){function V(G,ge,ye,de,C){return Ct(G[ge])?null:new R("Invalid "+de+" `"+C+"` supplied to "+("`"+ye+"`, expected a ReactNode."))}return D(V)}function Ae(V,G,ge,ye,de){return new R((V||"React class")+": "+G+" type `"+ge+"."+ye+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+de+"`.")}function Ue(V){function G(ge,ye,de,C,x){var b=ge[ye],j=Be(b);if(j!=="object")return new R("Invalid "+C+" `"+x+"` of type `"+j+"` "+("supplied to `"+de+"`, expected `object`."));for(var H in V){var P=V[H];if(typeof P!="function")return Ae(de,C,x,H,mt(P));var L=P(b,H,de,C,x+"."+H,f);if(L)return L}return null}return D(G)}function pt(V){function G(ge,ye,de,C,x){var b=ge[ye],j=Be(b);if(j!=="object")return new R("Invalid "+C+" `"+x+"` of type `"+j+"` "+("supplied to `"+de+"`, expected `object`."));var H=d({},ge[ye],V);for(var P in H){var L=V[P];if(p(V,P)&&typeof L!="function")return Ae(de,C,x,P,mt(L));if(!L)return new R("Invalid "+C+" `"+x+"` key `"+P+"` supplied to `"+de+"`.\nBad object: "+JSON.stringify(ge[ye],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(V),null,"  "));var ve=L(b,P,de,C,x+"."+P,f);if(ve)return ve}return null}return D(G)}function Ct(V){switch(typeof V){case"number":case"string":case"undefined":return!0;case"boolean":return!V;case"object":if(Array.isArray(V))return V.every(Ct);if(V===null||y(V))return!0;var G=E(V);if(G){var ge=G.call(V),ye;if(G!==V.entries){for(;!(ye=ge.next()).done;)if(!Ct(ye.value))return!1}else for(;!(ye=ge.next()).done;){var de=ye.value;if(de&&!Ct(de[1]))return!1}}else return!1;return!0;default:return!1}}function Wn(V,G){return V==="symbol"?!0:G?G["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&G instanceof Symbol:!1}function Be(V){var G=typeof V;return Array.isArray(V)?"array":V instanceof RegExp?"object":Wn(G,V)?"symbol":G}function mt(V){if(typeof V>"u"||V===null)return""+V;var G=Be(V);if(G==="object"){if(V instanceof Date)return"date";if(V instanceof RegExp)return"regexp"}return G}function ui(V){var G=mt(V);switch(G){case"array":case"object":return"an "+G;case"boolean":case"date":case"regexp":return"a "+G;default:return G}}function ci(V){return!V.constructor||!V.constructor.name?k:V.constructor.name}return I.checkPropTypes=v,I.resetWarningCache=v.resetWarningCache,I.PropTypes=I,I}},"./node_modules/prop-types/index.js":(a,l,u)=>{{var c=u("./node_modules/react-is/index.js"),d=!0;a.exports=u("./node_modules/prop-types/factoryWithTypeCheckers.js")(c.isElement,d)}},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":a=>{var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";a.exports=l},"./node_modules/prop-types/lib/has.js":a=>{a.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(a,l)=>{/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var u=typeof Symbol=="function"&&Symbol.for,c=u?Symbol.for("react.element"):60103,d=u?Symbol.for("react.portal"):60106,f=u?Symbol.for("react.fragment"):60107,p=u?Symbol.for("react.strict_mode"):60108,v=u?Symbol.for("react.profiler"):60114,m=u?Symbol.for("react.provider"):60109,S=u?Symbol.for("react.context"):60110,y=u?Symbol.for("react.async_mode"):60111,g=u?Symbol.for("react.concurrent_mode"):60111,w=u?Symbol.for("react.forward_ref"):60112,_=u?Symbol.for("react.suspense"):60113,E=u?Symbol.for("react.suspense_list"):60120,k=u?Symbol.for("react.memo"):60115,I=u?Symbol.for("react.lazy"):60116,N=u?Symbol.for("react.block"):60121,R=u?Symbol.for("react.fundamental"):60117,D=u?Symbol.for("react.responder"):60118,W=u?Symbol.for("react.scope"):60119;function $(L){return typeof L=="string"||typeof L=="function"||L===f||L===g||L===v||L===p||L===_||L===E||typeof L=="object"&&L!==null&&(L.$$typeof===I||L.$$typeof===k||L.$$typeof===m||L.$$typeof===S||L.$$typeof===w||L.$$typeof===R||L.$$typeof===D||L.$$typeof===W||L.$$typeof===N)}function U(L){if(typeof L=="object"&&L!==null){var ve=L.$$typeof;switch(ve){case c:var Ee=L.type;switch(Ee){case y:case g:case f:case v:case p:case _:return Ee;default:var Qs=Ee&&Ee.$$typeof;switch(Qs){case S:case w:case I:case k:case m:return Qs;default:return ve}}case d:return ve}}}var le=y,Ie=g,$e=S,lt=m,q=c,K=w,re=f,Ae=I,Ue=k,pt=d,Ct=v,Wn=p,Be=_,mt=!1;function ui(L){return mt||(mt=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),ci(L)||U(L)===y}function ci(L){return U(L)===g}function V(L){return U(L)===S}function G(L){return U(L)===m}function ge(L){return typeof L=="object"&&L!==null&&L.$$typeof===c}function ye(L){return U(L)===w}function de(L){return U(L)===f}function C(L){return U(L)===I}function x(L){return U(L)===k}function b(L){return U(L)===d}function j(L){return U(L)===v}function H(L){return U(L)===p}function P(L){return U(L)===_}l.AsyncMode=le,l.ConcurrentMode=Ie,l.ContextConsumer=$e,l.ContextProvider=lt,l.Element=q,l.ForwardRef=K,l.Fragment=re,l.Lazy=Ae,l.Memo=Ue,l.Portal=pt,l.Profiler=Ct,l.StrictMode=Wn,l.Suspense=Be,l.isAsyncMode=ui,l.isConcurrentMode=ci,l.isContextConsumer=V,l.isContextProvider=G,l.isElement=ge,l.isForwardRef=ye,l.isFragment=de,l.isLazy=C,l.isMemo=x,l.isPortal=b,l.isProfiler=j,l.isStrictMode=H,l.isSuspense=P,l.isValidElementType=$,l.typeOf=U})()},"./node_modules/react-is/index.js":(a,l,u)=>{a.exports=u("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(a,l,u)=>{u.r(l),u.d(l,{shallowEqualArrays:()=>d,shallowEqualObjects:()=>c});function c(f,p){if(f===p)return!0;if(!f||!p)return!1;var v=Object.keys(f),m=Object.keys(p),S=v.length;if(m.length!==S)return!1;for(var y=0;y<S;y++){var g=v[y];if(f[g]!==p[g]||!Object.prototype.hasOwnProperty.call(p,g))return!1}return!0}function d(f,p){if(f===p)return!0;if(!f||!p)return!1;var v=f.length;if(p.length!==v)return!1;for(var m=0;m<v;m++)if(f[m]!==p[m])return!1;return!0}},"./src/Component.ts":function(a,l,u){var c=this&&this.__rest||function(v,m){var S={};for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&m.indexOf(y)<0&&(S[y]=v[y]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,y=Object.getOwnPropertySymbols(v);g<y.length;g++)m.indexOf(y[g])<0&&Object.prototype.propertyIsEnumerable.call(v,y[g])&&(S[y[g]]=v[y[g]]);return S},d=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(l,"__esModule",{value:!0});var f=d(u("./src/useMediaQuery.ts")),p=function(v){var m=v.children,S=v.device,y=v.onChange,g=c(v,["children","device","onChange"]),w=(0,f.default)(g,S,y);return typeof m=="function"?m(w):w?m:null};l.default=p},"./src/Context.ts":(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0});var c=u("react"),d=(0,c.createContext)(void 0);l.default=d},"./src/index.ts":function(a,l,u){var c=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(l,"__esModule",{value:!0}),l.Context=l.toQuery=l.useMediaQuery=l.default=void 0;var d=c(u("./src/useMediaQuery.ts"));l.useMediaQuery=d.default;var f=c(u("./src/Component.ts"));l.default=f.default;var p=c(u("./src/toQuery.ts"));l.toQuery=p.default;var v=c(u("./src/Context.ts"));l.Context=v.default},"./src/mediaQuery.ts":function(a,l,u){var c=this&&this.__assign||function(){return c=Object.assign||function(_){for(var E,k=1,I=arguments.length;k<I;k++){E=arguments[k];for(var N in E)Object.prototype.hasOwnProperty.call(E,N)&&(_[N]=E[N])}return _},c.apply(this,arguments)},d=this&&this.__rest||function(_,E){var k={};for(var I in _)Object.prototype.hasOwnProperty.call(_,I)&&E.indexOf(I)<0&&(k[I]=_[I]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var N=0,I=Object.getOwnPropertySymbols(_);N<I.length;N++)E.indexOf(I[N])<0&&Object.prototype.propertyIsEnumerable.call(_,I[N])&&(k[I[N]]=_[I[N]]);return k},f=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(l,"__esModule",{value:!0});var p=f(u("./node_modules/prop-types/index.js")),v=p.default.oneOfType([p.default.string,p.default.number]),m={all:p.default.bool,grid:p.default.bool,aural:p.default.bool,braille:p.default.bool,handheld:p.default.bool,print:p.default.bool,projection:p.default.bool,screen:p.default.bool,tty:p.default.bool,tv:p.default.bool,embossed:p.default.bool},S={orientation:p.default.oneOf(["portrait","landscape"]),scan:p.default.oneOf(["progressive","interlace"]),aspectRatio:p.default.string,deviceAspectRatio:p.default.string,height:v,deviceHeight:v,width:v,deviceWidth:v,color:p.default.bool,colorIndex:p.default.bool,monochrome:p.default.bool,resolution:v,type:Object.keys(m)};S.type;var y=d(S,["type"]),g=c({minAspectRatio:p.default.string,maxAspectRatio:p.default.string,minDeviceAspectRatio:p.default.string,maxDeviceAspectRatio:p.default.string,minHeight:v,maxHeight:v,minDeviceHeight:v,maxDeviceHeight:v,minWidth:v,maxWidth:v,minDeviceWidth:v,maxDeviceWidth:v,minColor:p.default.number,maxColor:p.default.number,minColorIndex:p.default.number,maxColorIndex:p.default.number,minMonochrome:p.default.number,maxMonochrome:p.default.number,minResolution:v,maxResolution:v},y),w=c(c({},m),g);l.default={all:w,types:m,matchers:S,features:g}},"./src/toQuery.ts":function(a,l,u){var c=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(l,"__esModule",{value:!0});var d=c(u("./node_modules/hyphenate-style-name/index.js")),f=c(u("./src/mediaQuery.ts")),p=function(y){return"not ".concat(y)},v=function(y,g){var w=(0,d.default)(y);return typeof g=="number"&&(g="".concat(g,"px")),g===!0?w:g===!1?p(w):"(".concat(w,": ").concat(g,")")},m=function(y){return y.join(" and ")},S=function(y){var g=[];return Object.keys(f.default.all).forEach(function(w){var _=y[w];_!=null&&g.push(v(w,_))}),m(g)};l.default=S},"./src/useMediaQuery.ts":function(a,l,u){var c=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(l,"__esModule",{value:!0});var d=u("react"),f=c(u("./node_modules/matchmediaquery/index.js")),p=c(u("./node_modules/hyphenate-style-name/index.js")),v=u("./node_modules/shallow-equal/dist/index.esm.js"),m=c(u("./src/toQuery.ts")),S=c(u("./src/Context.ts")),y=function(R){return R.query||(0,m.default)(R)},g=function(R){if(R){var D=Object.keys(R);return D.reduce(function(W,$){return W[(0,p.default)($)]=R[$],W},{})}},w=function(){var R=(0,d.useRef)(!1);return(0,d.useEffect)(function(){R.current=!0},[]),R.current},_=function(R){var D=(0,d.useContext)(S.default),W=function(){return g(R)||g(D)},$=(0,d.useState)(W),U=$[0],le=$[1];return(0,d.useEffect)(function(){var Ie=W();(0,v.shallowEqualObjects)(U,Ie)||le(Ie)},[R,D]),U},E=function(R){var D=function(){return y(R)},W=(0,d.useState)(D),$=W[0],U=W[1];return(0,d.useEffect)(function(){var le=D();$!==le&&U(le)},[R]),$},k=function(R,D){var W=function(){return(0,f.default)(R,D||{},!!D)},$=(0,d.useState)(W),U=$[0],le=$[1],Ie=w();return(0,d.useEffect)(function(){if(Ie){var $e=W();return le($e),function(){$e&&$e.dispose()}}},[R,D]),U},I=function(R){var D=(0,d.useState)(R.matches),W=D[0],$=D[1];return(0,d.useEffect)(function(){var U=function(le){$(le.matches)};return R.addListener(U),$(R.matches),function(){R.removeListener(U)}},[R]),W},N=function(R,D,W){var $=_(D),U=E(R);if(!U)throw new Error("Invalid or missing MediaQuery!");var le=k(U,$),Ie=I(le),$e=w();return(0,d.useEffect)(function(){$e&&W&&W(Ie)},[Ie]),(0,d.useEffect)(function(){return function(){le&&le.dispose()}},[]),Ie};l.default=N},react:a=>{a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var u=i[a]={exports:{}};return r[a].call(u.exports,u,u.exports,s),u.exports}s.d=(a,l)=>{for(var u in l)s.o(l,u)&&!s.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o=s("./src/index.ts");return o})())})(z7);const ts={xx:1/0,xl:1179,lg:1023,md:767,sm:539,xs:479,ss:359};function B7(){return{isScreenXX:Dr.useMediaQuery({query:`(max-width: ${ts.xx}px)`}),isScreenXL:Dr.useMediaQuery({query:`(max-width: ${ts.xl}px)`}),isScreenLG:Dr.useMediaQuery({query:`(max-width: ${ts.lg}px)`}),isScreenMD:Dr.useMediaQuery({query:`(max-width: ${ts.md}px)`}),isScreenSM:Dr.useMediaQuery({query:`(max-width: ${ts.sm}px)`}),isScreenXS:Dr.useMediaQuery({query:`(max-width: ${ts.xs}px)`}),isScreenSS:Dr.useMediaQuery({query:`(max-width: ${ts.ss}px)`})}}const D1=T.forwardRef(({gridContainer:t,grid:e,children:n,className:r,...i},s)=>{const o=e&&sv(e);return h.jsx("nav",{className:Y.join(r,t&&"row",o),ref:s,...i,children:n})});D1.displayName="Nav";const Xb=T.forwardRef(({display:t,underline:e,hover:n=!0,children:r,blank:i,className:s,...o},a)=>{const l=[t?on[t]:on.link,!e&&ul.noUnderline,n&&ul.hover],u=i&&{target:"_blank",rel:"noreferrer noopener"};return h.jsx("a",{className:Y.join(ul.Link,s,l),ref:a,...u,...o,children:r})});Xb.displayName="Link";const Jb=[{label:"",path:_t.home,end:!1},{label:" ",path:_t.songslist,end:!1}],H7="_NavigationDesktop_10tfr_1",q7="_active_10tfr_7",W7="_link_10tfr_7",qp={NavigationDesktop:H7,active:q7,link:W7};function K7(){const t=({isActive:e})=>e?qp.active:"";return h.jsx(D1,{className:qp.NavigationDesktop,children:Jb.map(e=>h.jsx(Fh,{className:t,end:e.end,to:e.path,children:h.jsx(zs,{className:qp.link,underline:!1,children:e.label})},e.label))})}function G7(t){return h.jsxs(Pe,{fill:"none",...t,children:[h.jsx("path",{d:"M3.55844 12.8077H21.5584",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M3.55844 6.80774H21.5584",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M3.55844 18.8077H21.5584",strokeLinecap:"round",strokeLinejoin:"round"})]})}const Q7="_NavigationMobile_1g68x_1",Y7="_active_1g68x_7",X7="_link_1g68x_7",Wp={NavigationMobile:Q7,active:Y7,link:X7};function J7(){const[t,e]=T.useState(!1),n=()=>{e(!0)},r=()=>{e(!1)},i=({isActive:s})=>s?Wp.active:"";return h.jsx(D1,{className:Wp.NavigationMobile,children:h.jsxs(Pf,{children:[h.jsx(Af,{isOpen:t,onClick:r,anchorOrigin:{horizontal:"right",vertical:"top"},menuOrigin:{horizontal:"right",vertical:"top"},preventItemClickClose:!0,children:Jb.map(s=>h.jsx(ks,{children:h.jsx(Fh,{className:i,end:s.end,to:s.path,children:h.jsx(zs,{className:Wp.link,underline:!1,children:s.label})})},s.label))}),h.jsx(Ze,{type:"text",onClick:n,children:h.jsx(G7,{})})]})})}function Z7(){const{isScreenMD:t}=B7();return h.jsxs(h.Fragment,{children:[!t&&h.jsx(K7,{}),t&&h.jsx(J7,{})]})}const Hc=Bh("user/createUser",async({displayName:t,email:e,password:n,photo:r},i)=>{var s,o,a,l,u;try{const c=await Ln.google.firebase.auth.createUser({email:e,password:n});if("error"in c)throw new Error((s=c.error)==null?void 0:s.toString());const d=r?await Ln.google.firebase.storage.uploadFile({refName:`users/${c.user.uid}/profile/profileImage-${c.user.uid}-${Y.getCurrentDateInMs()}`,file:r}):null,f=d&&"downloadURL"in d&&d.downloadURL||"";"error"in await Ln.google.firebase.database.users.addUser({uid:c.user.uid})||await Ln.google.firebase.database.users.updateUser({uid:c.user.uid,displayName:c.user.displayName||"User",photoURL:f,email:c.user.email||"",status:"user",sex:"unknown",lastActiveChatId:"0"}),await Ln.google.firebase.auth.updateProfile({user:c.user,displayName:t,photoURL:f}),await Ln.google.firebase.database.userChats.addUserChatsForUser({uid:c.user.uid});const v=Ln.google.firebase.auth.getCurrentAuthUser();return{uid:((o=v.user.uid)==null?void 0:o.toString())||"",displayName:((a=v.user.displayName)==null?void 0:a.toString())||"",photoURL:((l=v.user.photoURL)==null?void 0:l.toString())||"",email:((u=v.user.email)==null?void 0:u.toString())||""}}catch(c){return i.rejectWithValue(pe(c))}}),qc=Bh("user/signIn",async({email:t,password:e},n)=>{try{const r=await Ln.google.firebase.auth.signIn({email:t,password:e});return{uid:r.user.uid||"",displayName:r.user.displayName||"",photoURL:r.user.photoURL||"",email:r.user.email||""}}catch(r){return n.rejectWithValue(pe(r))}}),wl=Bh("user/signInWithGoogle",async(t,e)=>{try{await Ln.google.firebase.auth.signInWithGoogle();const n=Ln.google.firebase.auth.getCurrentAuthUser();return{displayName:n.user.displayName||"",email:n.user.email||"",photoURL:n.user.photoURL||"",uid:n.user.uid||""}}catch(n){return e.rejectWithValue(pe(n))}}),eV={isLoading:!1,error:"",uid:"",displayName:"",photoURL:"",email:"",status:"user",sex:"unknown",role:"",lastActiveChatId:"",lastVisitDate:"",isOnline:!1},$u=zh({name:"user",initialState:eV,reducers:{setUser(t,e){t.uid=e.payload.uid,t.displayName=e.payload.displayName,t.photoURL=e.payload.photoURL,t.email=e.payload.email},removeUser(t){t.uid="",t.displayName="",t.photoURL="",t.email="",t.status="user",t.sex="unknown",t.role="",t.lastActiveChatId="",t.lastVisitDate="",t.isOnline=!1},resetError(t){t.error=""}},extraReducers:t=>{t.addCase(Hc.pending,e=>{e.isLoading=!0,e.error="",e.uid="",e.displayName="",e.photoURL="",e.email="",e.status="user",e.sex="unknown",e.role="",e.lastActiveChatId="",e.lastVisitDate="",e.isOnline=!1}).addCase(Hc.fulfilled,(e,n)=>{e.uid=n.payload.uid,e.displayName=n.payload.displayName,e.photoURL=n.payload.photoURL,e.email=n.payload.email,e.error="",e.isLoading=!1}).addCase(Hc.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(qc.pending,e=>{e.isLoading=!0,e.error="",e.uid="",e.displayName="",e.photoURL="",e.email="",e.status="user",e.sex="unknown",e.role="",e.lastActiveChatId="",e.lastVisitDate="",e.isOnline=!1}).addCase(qc.fulfilled,(e,n)=>{e.email=n.payload.email,e.displayName=n.payload.displayName,e.photoURL=n.payload.photoURL,e.uid=n.payload.uid,e.error="",e.isLoading=!1}).addCase(qc.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(wl.pending,e=>{e.isLoading=!0,e.error="",e.uid="",e.displayName="",e.photoURL="",e.email="",e.status="user",e.sex="unknown",e.role="",e.lastActiveChatId="",e.lastVisitDate="",e.isOnline=!1}).addCase(wl.fulfilled,(e,n)=>{e.email=n.payload.email,e.displayName=n.payload.displayName,e.photoURL=n.payload.photoURL,e.uid=n.payload.uid,e.error="",e.isLoading=!1}).addCase(wl.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1})}}),tV="_img_q4y9a_1",nV="_small_q4y9a_7",rV="_charContainer_q4y9a_12",iV="_char_q4y9a_12",eo={img:tV,small:nV,charContainer:rV,char:iV},Qd=T.forwardRef(({src:t,alt:e,char:n,color:r,size:i="default",onClick:s,children:o,className:a,...l},u)=>{const c=[s&&"clickable"],d=i&&eo[i];return h.jsxs("div",{onClick:s,className:Y.join(eo.Avatar,a,c),ref:u,...l,children:[!t&&o&&h.jsx("div",{className:Y.join(eo.charContainer,d),style:{backgroundColor:r},children:o}),t&&h.jsx("img",{className:Y.join(eo.img,d),src:t,alt:e}),!t&&!o&&h.jsx("div",{className:Y.join(eo.charContainer,d),style:{backgroundColor:r},children:h.jsx("h5",{className:Y.join(eo.char,"h5"),children:n})})]})});Qd.displayName="Avatar";function sV(t){return h.jsxs(Pe,{fill:"none",...t,children:[h.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),h.jsx("polyline",{points:"16 17 21 12 16 7"}),h.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})}function oV(t){return h.jsx(Pe,{fill:"none",...t,children:h.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})})}function aV(){const[t,e]=T.useState(!1),n=br(),{photoURL:r,displayName:i,email:s}=xt(d=>d.userReducer),o=Rn(),{removeUser:a}=$u.actions,l=()=>{e(!0)},u=()=>{e(!1)},c=()=>{o(a()),Ln.google.firebase.auth.signOut(),n(_t.home),u()};return h.jsxs(Pf,{children:[h.jsxs(Af,{isOpen:t,onClick:u,anchorOrigin:{horizontal:"right",vertical:"top"},menuOrigin:{horizontal:"right",vertical:"top"},preventItemClickClose:!0,children:[h.jsx(Fh,{to:ov.admin,children:h.jsxs(ks,{onClick:u,children:[h.jsx(Qt,{children:h.jsx(oV,{})}),h.jsx(zs,{underline:!1,children:" "})]})}),h.jsxs(ks,{onClick:c,children:[h.jsx(Qt,{children:h.jsx(sV,{})}),h.jsx(oe,{component:"p1",children:""})]})]}),h.jsx(Qd,{src:r,alt:i,char:i[0]||s[0],size:"small",onClick:l})]})}const lV="_Header_yqrt5_1",uV="_container_yqrt5_5",cV="_controls_yqrt5_13",Kp={Header:lV,container:uV,controls:cV};function dV(){const{pathname:t}=Qi(),e=br(),{isAuth:n}=Vh(),r=()=>{e(_t.login)},i=Fr("/login",t),s=Fr("/signup",t),o=Fr("/songslist",t)||Fr("/songslist/:page",t);return h.jsx(Re,{component:"header",className:Kp.Header,children:h.jsxs(Hn,{container:!0,component:"section",className:Kp.container,children:[h.jsx($O,{}),h.jsxs(Re,{className:Kp.controls,children:[!o&&h.jsxs(h.Fragment,{children:[!(i||s)&&h.jsx(Z7,{}),n?!(i||s)&&h.jsx(aV,{}):!(i||s)&&h.jsx(Ze,{size:"small",onClick:r,children:""})]}),h.jsx(V7,{})]})]})})}function hV(t){t&&document.documentElement.style.setProperty("--vh",`${t}px`)}function fV(){const t=typeof window<"u";function e(){return t?window.innerHeight:null}const[n,r]=T.useState(e());return T.useEffect(()=>{hV(n)},[n]),T.useEffect(()=>(window.addEventListener("resize",()=>r(e())),()=>window.addEventListener("resize",()=>r(e()))),[t]),T.useEffect(()=>(window.addEventListener("orientationchange",()=>r(e())),()=>window.addEventListener("orientationchange",()=>r(e()))),[t]),{viewportHeight:n}}function pV(t){const[e,n]=T.useState();return T.useLayoutEffect(()=>{document.body.classList.add("no-transition");const r=t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");n(r),document.documentElement.setAttribute("data-theme",r),setTimeout(()=>document.body.classList.remove("no-transition"),0)},[]),{theme:e}}function mV(){const[t,e]=T.useState(!1);fV();const{theme:n}=xt(u=>u.appReducer);pV(n);const r=Rn(),{actions:i}=$u,s=br(),o=Qi(),[a,l]=T.useState("");return T.useLayoutEffect(()=>{document.body.classList.add("scroll")},[]),T.useLayoutEffect(()=>{l(o.pathname)},[o]),T.useEffect(()=>{(async()=>{b$(Sa,c=>{var d,f,p,v;c&&r(i.setUser({displayName:(d=c.displayName)==null?void 0:d.toString(),email:(f=c.email)==null?void 0:f.toString(),photoURL:(p=c.photoURL)==null?void 0:p.toString(),uid:(v=c.uid)==null?void 0:v.toString()})),t||(a&&s(a),e(!0))})})()},[]),{isInit:t}}function gV(){const{isInit:t}=mV();return t?h.jsxs(h.Fragment,{children:[h.jsx(dV,{}),h.jsx(IN,{}),h.jsx(MO,{})]}):h.jsx(fO,{})}const yV=T.forwardRef(({gridContainer:t,children:e,className:n,...r},i)=>h.jsx("div",{className:Y.join(n,"container",t&&"row"),ref:i,...r,children:e}));yV.displayName="Container";const vV=T.forwardRef(({children:t,className:e,...n},r)=>h.jsx("footer",{className:Y.join(e,"footer"),ref:r,...n,children:t}));vV.displayName="Footer";const wV=T.forwardRef(({children:t,className:e,...n},r)=>h.jsx("header",{className:Y.join(e,"header"),ref:r,...n,children:t}));wV.displayName="Header";const j1=T.forwardRef(({children:t,className:e,...n},r)=>h.jsx("main",{className:Y.join(e,"main"),ref:r,...n,children:t}));j1.displayName="Main";const _V=T.forwardRef(({gridContainer:t,grid:e,children:n,className:r,...i},s)=>{const o=[e&&sv(e)];return h.jsx("section",{className:Y.join(r,t&&"row",o),ref:s,...i,children:n})});_V.displayName="Section";const Gp={};function SV(){return h.jsx(Re,{component:"main",className:Gp.HomePage,children:h.jsx(Hn,{container:!0,component:"section",className:Gp.container,children:h.jsx("div",{className:Gp.AdminPage,children:"AdminPage"})})})}const EV="_container_1l783_1",CV="_title_1l783_9",TV="_title40_1l783_13",kV="_title4_1l783_13",IV="_description_1l783_22",$a={container:EV,title:CV,title40:TV,title4:kV,"char-animation":"_char-animation_1l783_1",description:IV};function xV(){const t=br();return h.jsx(Re,{component:"main",children:h.jsxs(Hn,{container:!0,component:"section",className:$a.container,children:[h.jsx(Ze,{size:"small",onClick:()=>t(_t.home),children:" "}),h.jsxs(Re,{className:$a.title,children:[h.jsx(oe,{component:"p1",display:"h1",className:$a.title40,children:"40"}),h.jsx(oe,{component:"p1",display:"h1",className:$a.title4,children:"4"})]}),h.jsx(Re,{className:$a.description,children:h.jsxs(oe,{component:"p2",children:[",   ",h.jsx("br",{}),"     ",h.jsx("br",{}),"\\_()_/"]})})]})})}const bV="_container_6r9gh_1",RV="_buttons_6r9gh_9",AV="_description_6r9gh_16",Qp={container:bV,buttons:RV,description:AV};function PV(){const t=PT(),e=br(),n=()=>{NT()};return _o(t)&&t.status?h.jsx(xV,{}):h.jsx(Re,{component:"main",children:h.jsx(Hn,{container:!0,component:"section",className:Qp.container,children:h.jsxs(h.Fragment,{children:[h.jsxs(Re,{className:Qp.buttons,children:[h.jsx(Ze,{size:"small",onClick:()=>e(_t.home),children:" "}),h.jsx(Ze,{type:"secondary",size:"small",onClick:n,children:"   "}),h.jsx(av,{type:"secondary",size:"small",href:"https://t.me/amelianceskymusic",blank:!0,children:"   "})]}),h.jsx(oe,{component:"h3",children:",   =("}),h.jsx(Re,{className:Qp.description,children:h.jsxs(h.Fragment,{children:[h.jsx(oe,{component:"h4",children:_o(t)&&t.status}),h.jsxs(oe,{component:"h5",children:[t instanceof Error&&t.message,_o(t)&&t.statusText,_o(t)&&t.data.message]})]})})]})})})}const LV="_HomePage_1l60f_46",NV="_container_1l60f_46",bS={HomePage:LV,container:NV};function OV(){return h.jsx(Re,{component:"main",className:bS.HomePage,children:h.jsxs(Hn,{container:!0,component:"section",className:bS.container,children:[h.jsx(oe,{component:"h1",children:"   "}),h.jsx(oe,{component:"h6",children:"   "}),h.jsx(oe,{component:"h6",children:"         , , ,    "}),h.jsx(av,{href:"https://t.me/amelianceskymusic",blank:!0,children:""})]})})}var Uu=t=>t.type==="checkbox",Co=t=>t instanceof Date,nn=t=>t==null;const Zb=t=>typeof t=="object";var Rt=t=>!nn(t)&&!Array.isArray(t)&&Zb(t)&&!Co(t),DV=t=>Rt(t)&&t.target?Uu(t.target)?t.target.checked:t.target.value:t,jV=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,MV=(t,e)=>t.has(jV(e)),Fu=t=>Array.isArray(t)?t.filter(Boolean):[],dt=t=>t===void 0,Z=(t,e,n)=>{if(!e||!Rt(t))return n;const r=Fu(e.split(/[,[\].]+?/)).reduce((i,s)=>nn(i)?i:i[s],t);return dt(r)||r===t?dt(t[e])?n:t[e]:r};const RS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},tr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ar={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Zn.createContext(null);var $V=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==tr.all&&(e._proxyFormState[o]=!r||tr.all),n&&(n[o]=!0),t[o]}});return i},Pn=t=>Rt(t)&&!Object.keys(t).length,UV=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Pn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||tr.all))},Yp=t=>Array.isArray(t)?t:[t];function FV(t){const e=Zn.useRef(t);e.current=t,Zn.useEffect(()=>{const n=!t.disabled&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var vr=t=>typeof t=="string",VV=(t,e,n,r,i)=>vr(t)?(r&&e.watch.add(t),Z(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Z(n,s))):(r&&(e.watchAll=!0),n),zV=t=>{const e=t.constructor&&t.constructor.prototype;return Rt(e)&&e.hasOwnProperty("isPrototypeOf")},M1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function as(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(M1&&(t instanceof Blob||t instanceof FileList))&&(n||Rt(t)))if(e=n?[]:{},!Array.isArray(t)&&!zV(t))e=t;else for(const r in t)e[r]=as(t[r]);else return t;return e}var BV=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},$1=t=>/^\w*$/.test(t),e2=t=>Fu(t.replace(/["|']|\]/g,"").split(/\.|\[/));function We(t,e,n){let r=-1;const i=$1(e)?[e]:e2(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=Rt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t}const Zg=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=Z(t,r);if(i){const{_f:s,...o}=i;if(s&&e(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else Rt(o)&&Zg(o,e)}}};var AS=t=>({isOnSubmit:!t||t===tr.onSubmit,isOnBlur:t===tr.onBlur,isOnChange:t===tr.onChange,isOnAll:t===tr.all,isOnTouch:t===tr.onTouched}),PS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),HV=(t,e,n)=>{const r=Fu(Z(t,n));return We(r,"root",e[n]),We(t,n,r),t},Mo=t=>typeof t=="boolean",U1=t=>t.type==="file",$o=t=>typeof t=="function",Yd=t=>{if(!M1)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Wc=t=>vr(t)||Zn.isValidElement(t),F1=t=>t.type==="radio",Xd=t=>t instanceof RegExp;const LS={value:!1,isValid:!1},NS={value:!0,isValid:!0};var t2=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!dt(t[0].attributes.value)?dt(t[0].value)||t[0].value===""?NS:{value:t[0].value,isValid:!0}:NS:LS}return LS};const OS={isValid:!1,value:null};var n2=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,OS):OS;function DS(t,e,n="validate"){if(Wc(t)||Array.isArray(t)&&t.every(Wc)||Mo(t)&&!t)return{type:n,message:Wc(t)?t:"",ref:e}}var to=t=>Rt(t)&&!Xd(t)?t:{value:t,message:""},jS=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:d,pattern:f,validate:p,name:v,valueAsNumber:m,mount:S,disabled:y}=t._f,g=Z(e,v);if(!S||y)return{};const w=o?o[0]:s,_=$=>{r&&w.reportValidity&&(w.setCustomValidity(Mo($)?"":$||""),w.reportValidity())},E={},k=F1(s),I=Uu(s),N=k||I,R=(m||U1(s))&&dt(s.value)&&dt(g)||Yd(s)&&s.value===""||g===""||Array.isArray(g)&&!g.length,D=BV.bind(null,v,n,E),W=($,U,le,Ie=Ar.maxLength,$e=Ar.minLength)=>{const lt=$?U:le;E[v]={type:$?Ie:$e,message:lt,ref:s,...D($?Ie:$e,lt)}};if(i?!Array.isArray(g)||!g.length:a&&(!N&&(R||nn(g))||Mo(g)&&!g||I&&!t2(o).isValid||k&&!n2(o).isValid)){const{value:$,message:U}=Wc(a)?{value:!!a,message:a}:to(a);if($&&(E[v]={type:Ar.required,message:U,ref:w,...D(Ar.required,U)},!n))return _(U),E}if(!R&&(!nn(c)||!nn(d))){let $,U;const le=to(d),Ie=to(c);if(!nn(g)&&!isNaN(g)){const $e=s.valueAsNumber||g&&+g;nn(le.value)||($=$e>le.value),nn(Ie.value)||(U=$e<Ie.value)}else{const $e=s.valueAsDate||new Date(g),lt=re=>new Date(new Date().toDateString()+" "+re),q=s.type=="time",K=s.type=="week";vr(le.value)&&g&&($=q?lt(g)>lt(le.value):K?g>le.value:$e>new Date(le.value)),vr(Ie.value)&&g&&(U=q?lt(g)<lt(Ie.value):K?g<Ie.value:$e<new Date(Ie.value))}if(($||U)&&(W(!!$,le.message,Ie.message,Ar.max,Ar.min),!n))return _(E[v].message),E}if((l||u)&&!R&&(vr(g)||i&&Array.isArray(g))){const $=to(l),U=to(u),le=!nn($.value)&&g.length>$.value,Ie=!nn(U.value)&&g.length<U.value;if((le||Ie)&&(W(le,$.message,U.message),!n))return _(E[v].message),E}if(f&&!R&&vr(g)){const{value:$,message:U}=to(f);if(Xd($)&&!g.match($)&&(E[v]={type:Ar.pattern,message:U,ref:s,...D(Ar.pattern,U)},!n))return _(U),E}if(p){if($o(p)){const $=await p(g,e),U=DS($,w);if(U&&(E[v]={...U,...D(Ar.validate,U.message)},!n))return _(U.message),E}else if(Rt(p)){let $={};for(const U in p){if(!Pn($)&&!n)break;const le=DS(await p[U](g,e),w,U);le&&($={...le,...D(U,le.message)},_(le.message),n&&(E[v]=$))}if(!Pn($)&&(E[v]={ref:w,...$},!n))return E}}return _(!0),E};function qV(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=dt(t)?r++:t[e[r++]];return t}function WV(t){for(const e in t)if(!dt(t[e]))return!1;return!0}function Vt(t,e){const n=Array.isArray(e)?e:$1(e)?[e]:e2(e),r=n.length===1?t:qV(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Rt(r)&&Pn(r)||Array.isArray(r)&&WV(r))&&Vt(t,n.slice(0,-1)),t}function Xp(){let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}}var Jd=t=>nn(t)||!Zb(t);function ys(t,e){if(Jd(t)||Jd(e))return t===e;if(Co(t)&&Co(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Co(s)&&Co(o)||Rt(s)&&Rt(o)||Array.isArray(s)&&Array.isArray(o)?!ys(s,o):s!==o)return!1}}return!0}var r2=t=>t.type==="select-multiple",KV=t=>F1(t)||Uu(t),Jp=t=>Yd(t)&&t.isConnected,i2=t=>{for(const e in t)if($o(t[e]))return!0;return!1};function Zd(t,e={}){const n=Array.isArray(t);if(Rt(t)||n)for(const r in t)Array.isArray(t[r])||Rt(t[r])&&!i2(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Zd(t[r],e[r])):nn(t[r])||(e[r]=!0);return e}function s2(t,e,n){const r=Array.isArray(t);if(Rt(t)||r)for(const i in t)Array.isArray(t[i])||Rt(t[i])&&!i2(t[i])?dt(e)||Jd(n[i])?n[i]=Array.isArray(t[i])?Zd(t[i],[]):{...Zd(t[i])}:s2(t[i],nn(e)?{}:e[i],n[i]):ys(t[i],e[i])?delete n[i]:n[i]=!0;return n}var Zp=(t,e)=>s2(t,e,Zd(e)),o2=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>dt(t)?t:e?t===""?NaN:t&&+t:n&&vr(t)?new Date(t):r?r(t):t;function em(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return U1(e)?e.files:F1(e)?n2(t.refs).value:r2(e)?[...e.selectedOptions].map(({value:n})=>n):Uu(e)?t2(t.refs).value:o2(dt(e.value)?t.ref.value:e.value,t)}var GV=(t,e,n,r)=>{const i={};for(const s of t){const o=Z(e,s);o&&We(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Ua=t=>dt(t)?t:Xd(t)?t.source:Rt(t)?Xd(t.value)?t.value.source:t.value:t,QV=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function MS(t,e,n){const r=Z(t,n);if(r||$1(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Z(e,s),a=Z(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var YV=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,XV=(t,e)=>!Fu(Z(t,e)).length&&Vt(t,e);const JV={mode:tr.onSubmit,reValidateMode:tr.onChange,shouldFocusError:!0};function ZV(t={},e){let n={...JV,...t};const r=t.resetOptions&&t.resetOptions.keepDirtyValues;let i={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},s={},o=Rt(n.defaultValues)?as(n.defaultValues)||{}:{},a=n.shouldUnregister?{}:as(o),l={action:!1,mount:!1,watch:!1},u={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={watch:Xp(),array:Xp(),state:Xp()},v=AS(n.mode),m=AS(n.reValidateMode),S=n.criteriaMode===tr.all,y=C=>x=>{clearTimeout(d),d=window.setTimeout(C,x)},g=async C=>{if(f.isValid||C){const x=n.resolver?Pn((await R()).errors):await W(s,!0);x!==i.isValid&&(i.isValid=x,p.state.next({isValid:x}))}},w=C=>f.isValidating&&p.state.next({isValidating:C}),_=(C,x=[],b,j,H=!0,P=!0)=>{if(j&&b){if(l.action=!0,P&&Array.isArray(Z(s,C))){const L=b(Z(s,C),j.argA,j.argB);H&&We(s,C,L)}if(P&&Array.isArray(Z(i.errors,C))){const L=b(Z(i.errors,C),j.argA,j.argB);H&&We(i.errors,C,L),XV(i.errors,C)}if(f.touchedFields&&P&&Array.isArray(Z(i.touchedFields,C))){const L=b(Z(i.touchedFields,C),j.argA,j.argB);H&&We(i.touchedFields,C,L)}f.dirtyFields&&(i.dirtyFields=Zp(o,a)),p.state.next({name:C,isDirty:U(C,x),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else We(a,C,x)},E=(C,x)=>{We(i.errors,C,x),p.state.next({errors:i.errors})},k=(C,x,b,j)=>{const H=Z(s,C);if(H){const P=Z(a,C,dt(b)?Z(o,C):b);dt(P)||j&&j.defaultChecked||x?We(a,C,x?P:em(H._f)):$e(C,P),l.mount&&g()}},I=(C,x,b,j,H)=>{let P=!1,L=!1;const ve={name:C};if(!b||j){f.isDirty&&(L=i.isDirty,i.isDirty=ve.isDirty=U(),P=L!==ve.isDirty);const Ee=ys(Z(o,C),x);L=Z(i.dirtyFields,C),Ee?Vt(i.dirtyFields,C):We(i.dirtyFields,C,!0),ve.dirtyFields=i.dirtyFields,P=P||f.dirtyFields&&L!==!Ee}if(b){const Ee=Z(i.touchedFields,C);Ee||(We(i.touchedFields,C,b),ve.touchedFields=i.touchedFields,P=P||f.touchedFields&&Ee!==b)}return P&&H&&p.state.next(ve),P?ve:{}},N=(C,x,b,j)=>{const H=Z(i.errors,C),P=f.isValid&&Mo(x)&&i.isValid!==x;if(t.delayError&&b?(c=y(()=>E(C,b)),c(t.delayError)):(clearTimeout(d),c=null,b?We(i.errors,C,b):Vt(i.errors,C)),(b?!ys(H,b):H)||!Pn(j)||P){const L={...j,...P&&Mo(x)?{isValid:x}:{},errors:i.errors,name:C};i={...i,...L},p.state.next(L)}w(!1)},R=async C=>await n.resolver(a,n.context,GV(C||u.mount,s,n.criteriaMode,n.shouldUseNativeValidation)),D=async C=>{const{errors:x}=await R();if(C)for(const b of C){const j=Z(x,b);j?We(i.errors,b,j):Vt(i.errors,b)}else i.errors=x;return x},W=async(C,x,b={valid:!0})=>{for(const j in C){const H=C[j];if(H){const{_f:P,...L}=H;if(P){const ve=u.array.has(P.name),Ee=await jS(H,a,S,n.shouldUseNativeValidation,ve);if(Ee[P.name]&&(b.valid=!1,x))break;!x&&(Z(Ee,P.name)?ve?HV(i.errors,Ee,P.name):We(i.errors,P.name,Ee[P.name]):Vt(i.errors,P.name))}L&&await W(L,x,b)}}return b.valid},$=()=>{for(const C of u.unMount){const x=Z(s,C);x&&(x._f.refs?x._f.refs.every(b=>!Jp(b)):!Jp(x._f.ref))&&Be(C)}u.unMount=new Set},U=(C,x)=>(C&&x&&We(a,C,x),!ys(Ae(),o)),le=(C,x,b)=>VV(C,u,{...l.mount?a:dt(x)?o:vr(C)?{[C]:x}:x},b,x),Ie=C=>Fu(Z(l.mount?a:o,C,t.shouldUnregister?Z(o,C,[]):[])),$e=(C,x,b={})=>{const j=Z(s,C);let H=x;if(j){const P=j._f;P&&(!P.disabled&&We(a,C,o2(x,P)),H=Yd(P.ref)&&nn(x)?"":x,r2(P.ref)?[...P.ref.options].forEach(L=>L.selected=H.includes(L.value)):P.refs?Uu(P.ref)?P.refs.length>1?P.refs.forEach(L=>(!L.defaultChecked||!L.disabled)&&(L.checked=Array.isArray(H)?!!H.find(ve=>ve===L.value):H===L.value)):P.refs[0]&&(P.refs[0].checked=!!H):P.refs.forEach(L=>L.checked=L.value===H):U1(P.ref)?P.ref.value="":(P.ref.value=H,P.ref.type||p.watch.next({name:C})))}(b.shouldDirty||b.shouldTouch)&&I(C,H,b.shouldTouch,b.shouldDirty,!0),b.shouldValidate&&re(C)},lt=(C,x,b)=>{for(const j in x){const H=x[j],P=`${C}.${j}`,L=Z(s,P);(u.array.has(C)||!Jd(H)||L&&!L._f)&&!Co(H)?lt(P,H,b):$e(P,H,b)}},q=(C,x,b={})=>{const j=Z(s,C),H=u.array.has(C),P=as(x);We(a,C,P),H?(p.array.next({name:C,values:a}),(f.isDirty||f.dirtyFields)&&b.shouldDirty&&(i.dirtyFields=Zp(o,a),p.state.next({name:C,dirtyFields:i.dirtyFields,isDirty:U(C,P)}))):j&&!j._f&&!nn(P)?lt(C,P,b):$e(C,P,b),PS(C,u)&&p.state.next({}),p.watch.next({name:C}),!l.mount&&e()},K=async C=>{const x=C.target;let b=x.name;const j=Z(s,b),H=()=>x.type?em(j._f):DV(C);if(j){let P,L;const ve=H(),Ee=C.type===RS.BLUR||C.type===RS.FOCUS_OUT,Qs=!QV(j._f)&&!n.resolver&&!Z(i.errors,b)&&!j._f.deps||YV(Ee,Z(i.touchedFields,b),i.isSubmitted,m,v),Ca=PS(b,u,Ee);We(a,b,ve),Ee?(j._f.onBlur&&j._f.onBlur(C),c&&c(0)):j._f.onChange&&j._f.onChange(C);const Ys=I(b,ve,Ee,!1),Of=!Pn(Ys)||Ca;if(!Ee&&p.watch.next({name:b,type:C.type}),Qs)return f.isValid&&g(),Of&&p.state.next({name:b,...Ca?{}:Ys});if(!Ee&&Ca&&p.state.next({}),w(!0),n.resolver){const{errors:A}=await R([b]),O=MS(i.errors,s,b),M=MS(A,s,O.name||b);P=M.error,b=M.name,L=Pn(A)}else P=(await jS(j,a,S,n.shouldUseNativeValidation))[b],P?L=!1:f.isValid&&(L=await W(s,!0));j._f.deps&&re(j._f.deps),N(b,L,P,Ys)}},re=async(C,x={})=>{let b,j;const H=Yp(C);if(w(!0),n.resolver){const P=await D(dt(C)?C:H);b=Pn(P),j=C?!H.some(L=>Z(P,L)):b}else C?(j=(await Promise.all(H.map(async P=>{const L=Z(s,P);return await W(L&&L._f?{[P]:L}:L)}))).every(Boolean),!(!j&&!i.isValid)&&g()):j=b=await W(s);return p.state.next({...!vr(C)||f.isValid&&b!==i.isValid?{}:{name:C},...n.resolver||!C?{isValid:b}:{},errors:i.errors,isValidating:!1}),x.shouldFocus&&!j&&Zg(s,P=>P&&Z(i.errors,P),C?H:u.mount),j},Ae=C=>{const x={...o,...l.mount?a:{}};return dt(C)?x:vr(C)?Z(x,C):C.map(b=>Z(x,b))},Ue=(C,x)=>({invalid:!!Z((x||i).errors,C),isDirty:!!Z((x||i).dirtyFields,C),isTouched:!!Z((x||i).touchedFields,C),error:Z((x||i).errors,C)}),pt=C=>{C?Yp(C).forEach(x=>Vt(i.errors,x)):i.errors={},p.state.next({errors:i.errors})},Ct=(C,x,b)=>{const j=(Z(s,C,{_f:{}})._f||{}).ref;We(i.errors,C,{...x,ref:j}),p.state.next({name:C,errors:i.errors,isValid:!1}),b&&b.shouldFocus&&j&&j.focus&&j.focus()},Wn=(C,x)=>$o(C)?p.watch.subscribe({next:b=>C(le(void 0,x),b)}):le(C,x,!0),Be=(C,x={})=>{for(const b of C?Yp(C):u.mount)u.mount.delete(b),u.array.delete(b),Z(s,b)&&(x.keepValue||(Vt(s,b),Vt(a,b)),!x.keepError&&Vt(i.errors,b),!x.keepDirty&&Vt(i.dirtyFields,b),!x.keepTouched&&Vt(i.touchedFields,b),!n.shouldUnregister&&!x.keepDefaultValue&&Vt(o,b));p.watch.next({}),p.state.next({...i,...x.keepDirty?{isDirty:U()}:{}}),!x.keepIsValid&&g()},mt=(C,x={})=>{let b=Z(s,C);const j=Mo(x.disabled);return We(s,C,{...b||{},_f:{...b&&b._f?b._f:{ref:{name:C}},name:C,mount:!0,...x}}),u.mount.add(C),b?j&&We(a,C,x.disabled?void 0:Z(a,C,em(b._f))):k(C,!0,x.value),{...j?{disabled:x.disabled}:{},...n.shouldUseNativeValidation?{required:!!x.required,min:Ua(x.min),max:Ua(x.max),minLength:Ua(x.minLength),maxLength:Ua(x.maxLength),pattern:Ua(x.pattern)}:{},name:C,onChange:K,onBlur:K,ref:H=>{if(H){mt(C,x),b=Z(s,C);const P=dt(H.value)&&H.querySelectorAll&&H.querySelectorAll("input,select,textarea")[0]||H,L=KV(P),ve=b._f.refs||[];if(L?ve.find(Ee=>Ee===P):P===b._f.ref)return;We(s,C,{_f:{...b._f,...L?{refs:[...ve.filter(Jp),P,...Array.isArray(Z(o,C))?[{}]:[]],ref:{type:P.type,name:C}}:{ref:P}}}),k(C,!1,void 0,P)}else b=Z(s,C,{}),b._f&&(b._f.mount=!1),(n.shouldUnregister||x.shouldUnregister)&&!(MV(u.array,C)&&l.action)&&u.unMount.add(C)}}},ui=()=>n.shouldFocusError&&Zg(s,C=>C&&Z(i.errors,C),u.mount),ci=(C,x)=>async b=>{b&&(b.preventDefault&&b.preventDefault(),b.persist&&b.persist());let j=as(a);if(p.state.next({isSubmitting:!0}),n.resolver){const{errors:H,values:P}=await R();i.errors=H,j=P}else await W(s);Pn(i.errors)?(p.state.next({errors:{}}),await C(j,b)):(x&&await x({...i.errors},b),ui()),p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pn(i.errors),submitCount:i.submitCount+1,errors:i.errors})},V=(C,x={})=>{Z(s,C)&&(dt(x.defaultValue)?q(C,Z(o,C)):(q(C,x.defaultValue),We(o,C,x.defaultValue)),x.keepTouched||Vt(i.touchedFields,C),x.keepDirty||(Vt(i.dirtyFields,C),i.isDirty=x.defaultValue?U(C,Z(o,C)):U()),x.keepError||(Vt(i.errors,C),f.isValid&&g()),p.state.next({...i}))},G=(C,x={})=>{const b=C||o,j=as(b),H=C&&!Pn(C)?j:o;if(x.keepDefaultValues||(o=b),!x.keepValues){if(x.keepDirtyValues||r)for(const P of u.mount)Z(i.dirtyFields,P)?We(H,P,Z(a,P)):q(P,Z(H,P));else{if(M1&&dt(C))for(const P of u.mount){const L=Z(s,P);if(L&&L._f){const ve=Array.isArray(L._f.refs)?L._f.refs[0]:L._f.ref;if(Yd(ve)){const Ee=ve.closest("form");if(Ee){Ee.reset();break}}}}s={}}a=t.shouldUnregister?x.keepDefaultValues?as(o):{}:j,p.array.next({values:H}),p.watch.next({values:H})}u={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&e(),l.mount=!f.isValid||!!x.keepIsValid,l.watch=!!t.shouldUnregister,p.state.next({submitCount:x.keepSubmitCount?i.submitCount:0,isDirty:x.keepDirty||x.keepDirtyValues?i.isDirty:!!(x.keepDefaultValues&&!ys(C,o)),isSubmitted:x.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:x.keepDirty||x.keepDirtyValues?i.dirtyFields:x.keepDefaultValues&&C?Zp(o,C):{},touchedFields:x.keepTouched?i.touchedFields:{},errors:x.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},ge=(C,x)=>G($o(C)?C(a):C,x),ye=(C,x={})=>{const b=Z(s,C),j=b&&b._f;if(j){const H=j.refs?j.refs[0]:j.ref;H.focus&&(H.focus(),x.shouldSelect&&H.select())}},de=C=>{i={...i,...C}};return $o(n.defaultValues)&&n.defaultValues().then(C=>{ge(C,n.resetOptions),p.state.next({isLoading:!1})}),{control:{register:mt,unregister:Be,getFieldState:Ue,_executeSchema:R,_focusError:ui,_getWatch:le,_getDirty:U,_updateValid:g,_removeUnmounted:$,_updateFieldArray:_,_getFieldArray:Ie,_reset:G,_updateFormState:de,_subjects:p,_proxyFormState:f,get _fields(){return s},get _formValues(){return a},get _stateFlags(){return l},set _stateFlags(C){l=C},get _defaultValues(){return o},get _names(){return u},set _names(C){u=C},get _formState(){return i},set _formState(C){i=C},get _options(){return n},set _options(C){n={...n,...C}}},trigger:re,register:mt,handleSubmit:ci,watch:Wn,setValue:q,getValues:Ae,reset:ge,resetField:V,clearErrors:pt,unregister:Be,setError:Ct,setFocus:ye,getFieldState:Ue}}function a2(t={}){const e=Zn.useRef(),[n,r]=Zn.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:$o(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...ZV(t,()=>r(s=>({...s}))),formState:n});const i=e.current.control;return i._options=t,FV({subject:i._subjects.state,next:s=>{UV(s,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),Zn.useEffect(()=>{i._stateFlags.mount||(i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),Zn.useEffect(()=>{t.values&&!ys(t.values,i._defaultValues)&&i._reset(t.values,i._options.resetOptions)},[t.values,i]),Zn.useEffect(()=>{n.submitCount&&i._focusError()},[i,n.submitCount]),e.current.formState=$V(n,i),e.current}function l2(t){return h.jsxs(Pe,{stroke:"none",...t,children:[h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.64 12.2045C20.64 11.5664 20.5827 10.9527 20.4764 10.3636H12V13.845H16.8436C16.635 14.97 16.0009 15.9232 15.0477 16.5614V18.8195H17.9564C19.6582 17.2527 20.64 14.9454 20.64 12.2045Z",fill:"#4285F4"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 21C14.43 21 16.4673 20.1941 17.9564 18.8196L15.0477 16.5614C14.2418 17.1014 13.2109 17.4205 12 17.4205C9.65591 17.4205 7.67182 15.8373 6.96409 13.71H3.95728V16.0418C5.43818 18.9832 8.48182 21 12 21Z",fill:"#34A853"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.96409 13.71C6.78409 13.17 6.68182 12.5932 6.68182 12C6.68182 11.4068 6.78409 10.83 6.96409 10.29V7.95818H3.95727C3.34773 9.17318 3 10.5477 3 12C3 13.4523 3.34773 14.8268 3.95727 16.0418L6.96409 13.71Z",fill:"#FBBC05"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6.57955C13.3214 6.57955 14.5077 7.03364 15.4405 7.92545L18.0218 5.34409C16.4632 3.89182 14.4259 3 12 3C8.48182 3 5.43818 5.01682 3.95728 7.95818L6.96409 10.29C7.67182 8.16273 9.65591 6.57955 12 6.57955Z",fill:"#EA4335"})]})}const V1=T.forwardRef(({children:t,className:e,...n},r)=>h.jsx("form",{className:e,ref:r,...n,children:t}));V1.displayName="Form";const ez="_inputContainer_5k7mp_1",tz="_input_5k7mp_1",$S={inputContainer:ez,input:tz},nz="_container_bo7dy_1",rz="_inputBlockContainer_bo7dy_8",iz="_input_bo7dy_8",sz="_error_bo7dy_24",Ve={container:nz,inputBlockContainer:rz,input:iz,error:sz},oz=T.forwardRef(({register:t=null,errors:e,onLabelClick:n,label:r,children:i,className:s,...o},a)=>{const l=u=>{n&&n(u)};return h.jsxs("div",{className:Ve.container,children:[i&&h.jsx(oe,{component:"h3",children:i}),h.jsxs("div",{className:Ve.inputBlockContainer,children:[h.jsxs("label",{className:$S.inputContainer,children:[h.jsx("input",{type:"checkbox",className:Y.join($S.input,s),ref:a,...t,...o}),h.jsx(oe,{component:"p1",onClick:l,children:r})]}),t&&h.jsx(oe,{component:"p2",className:Y.join(Ve.error),children:e&&e[t.name]&&e[t.name].message||""})]})]})});oz.displayName="Checkbox";function az(t){return h.jsx(Pe,{fill:"none",...t,children:h.jsx("path",{d:"M6 9L12 15L18 9",strokeLinecap:"round",strokeLinejoin:"round"})})}const lz="_inputContainer_izcmr_1",uz="_icon_izcmr_5",cz="_input_izcmr_1",tm={inputContainer:lz,icon:uz,input:cz},u2=T.forwardRef(({options:t,register:e,errors:n,selected:r,blank:i,onDropdownChange:s,children:o,className:a,...l},u)=>{const[c,d]=T.useState(r),f=p=>{d(p.target.value),s&&s(p.target.value)};return h.jsxs("div",{className:Ve.container,children:[h.jsx(oe,{component:"h5",children:o}),h.jsxs("div",{className:Ve.inputBlockContainer,children:[h.jsxs("label",{className:tm.inputContainer,children:[h.jsxs("select",{className:Y.join(tm.input,Ve.input,on.input,a),value:c,onChange:f,ref:u,...e,...l,children:[i&&h.jsx("option",{children:" "}),t.map(p=>h.jsx("option",{value:p,children:p},p))]}),h.jsx(Qt,{size:"custom",style:{width:20,height:20},className:tm.icon,onClick:()=>null,children:h.jsx(az,{size:"custom",style:{width:20,height:20}})})]}),e&&h.jsx(oe,{component:"p2",className:Y.join(Ve.error),children:n&&n[e==null?void 0:e.name]&&n[e==null?void 0:e.name].message||""})]})]})});u2.displayName="Dropdown";const z1=T.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>h.jsxs("div",{className:Ve.container,children:[h.jsx(oe,{component:"h5",children:r}),h.jsxs("div",{className:Ve.inputBlockContainer,children:[h.jsx("label",{children:h.jsx("input",{type:"email",className:Y.join(Ve.input,on.input),placeholder:n,ref:s,...t,...i})}),t&&h.jsx(oe,{component:"p2",className:Y.join(Ve.error),children:e&&e[t==null?void 0:t.name]&&e[t==null?void 0:t.name].message||""})]})]}));z1.displayName="EmailInput";function dz(t){return h.jsxs(Pe,{fill:"none",...t,children:[h.jsx("path",{d:"M23 19C23 19.5304 22.7893 20.0391 22.4142 20.4142C22.0391 20.7893 21.5304 21 21 21H3C2.46957 21 1.96086 20.7893 1.58579 20.4142C1.21071 20.0391 1 19.5304 1 19V8C1 7.46957 1.21071 6.96086 1.58579 6.58579C1.96086 6.21071 2.46957 6 3 6H7L9 3H15L17 6H21C21.5304 6 22.0391 6.21071 22.4142 6.58579C22.7893 6.96086 23 7.46957 23 8V19Z",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 17C14.2091 17 16 15.2091 16 13C16 10.7909 14.2091 9 12 9C9.79086 9 8 10.7909 8 13C8 15.2091 9.79086 17 12 17Z",strokeLinecap:"round",strokeLinejoin:"round"})]})}const hz="_FileImgUpload_142ig_1",fz="_container_142ig_7",pz="_input_142ig_14",mz="_imgPreview_142ig_18",nm={FileImgUpload:hz,container:fz,input:pz,imgPreview:mz},c2=T.forwardRef(({register:t,errors:e,watch:n,accept:r,label:i,children:s,className:o,...a},l)=>{const[u,c]=T.useState(),d=n(t?t.name:null);return T.useEffect(()=>{let f="";d&&d.length>0&&(f=URL.createObjectURL(d[0])),c(f)},[d]),h.jsxs("div",{className:Y.join(nm.FileImgUpload,Ve.container),children:[h.jsx(oe,{component:"h5",children:s}),h.jsxs("div",{className:Ve.inputBlockContainer,children:[h.jsxs("label",{className:Y.join(nm.container,on.input),children:[h.jsx("input",{type:"file",accept:r||"",className:Y.join(nm.input,o),ref:l,...t,...a}),u?h.jsx(Qd,{src:u,alt:u}):h.jsx(Qd,{children:h.jsx(dz,{})}),i]}),t&&h.jsx(oe,{component:"p2",className:Y.join(Ve.error),children:e&&e[t.name]&&e[t.name].message||""})]})]})});c2.displayName="FileImgUpload";const gz="_input_1wgeu_1",yz={input:gz},vz=T.forwardRef(({children:t,className:e,...n},r)=>h.jsx("div",{children:h.jsxs("label",{htmlFor:"file",children:[t,h.jsx("input",{type:"file",className:Y.join(yz.input,e),id:"file",ref:r,...n})]})}));vz.displayName="FileUpload";function wz(t){return h.jsxs(Pe,{fill:"none",...t,children:[h.jsx("path",{d:"M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",strokeLinecap:"round",strokeLinejoin:"round"})]})}function _z(t){return h.jsxs(Pe,{fill:"none",...t,children:[h.jsxs("g",{clipPath:"url(#clip0_2015_815)",children:[h.jsx("path",{d:"M17.94 17.94C16.2306 19.243 14.1491 19.9649 12 20C5 20 1 12 1 12C2.24389 9.68189 3.96914 7.6566 6.06 6.05999M9.9 4.23999C10.5883 4.07887 11.2931 3.99833 12 3.99999C19 3.99999 23 12 23 12C22.393 13.1356 21.6691 14.2047 20.84 15.19M14.12 14.12C13.8454 14.4147 13.5141 14.6511 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1752 15.0074 10.8016 14.8565C10.4281 14.7056 10.0887 14.481 9.80385 14.1961C9.51897 13.9113 9.29439 13.5719 9.14351 13.1984C8.99262 12.8248 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2218 9.18488 10.8538C9.34884 10.4858 9.58525 10.1546 9.88 9.87999",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M1 1L23 23",strokeLinecap:"round",strokeLinejoin:"round"})]}),h.jsx("defs",{children:h.jsx("clipPath",{id:"clip0_2015_815",children:h.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}const Sz="_inputContainer_nkmmv_1",Ez="_input_nkmmv_1",Cz="_icon_nkmmv_9",vs={inputContainer:Sz,input:Ez,icon:Cz},B1=T.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>{const[o,a]=T.useState(!1),l=c=>{c.stopPropagation(),a(d=>!d)},u=o?"text":"password";return h.jsxs("div",{className:Ve.container,children:[h.jsx(oe,{component:"h5",children:r}),h.jsxs("div",{className:Ve.inputBlockContainer,children:[h.jsxs("label",{className:vs.inputContainer,children:[h.jsx("input",{type:u,className:Y.join(Ve.input,vs.input,on.input),placeholder:n,ref:s,...t,...i}),h.jsx(Qt,{size:"custom",style:{width:20,height:20},className:vs.icon,onClick:l,children:o?h.jsx(wz,{size:"custom",style:{width:20,height:20}}):h.jsx(_z,{size:"custom",style:{width:20,height:20}})})]}),t&&h.jsx(oe,{component:"p2",className:Y.join(Ve.error),children:e&&e[t==null?void 0:t.name]&&e[t==null?void 0:t.name].message||""})]})]})});B1.displayName="PasswordInput";const d2=T.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>h.jsxs("div",{className:Ve.container,children:[h.jsx(oe,{component:"h5",children:r}),h.jsxs("div",{className:Ve.inputBlockContainer,children:[h.jsx("label",{children:h.jsx("input",{type:"text",className:Y.join(Ve.input,on.input),placeholder:n,ref:s,...t,...i})}),t&&h.jsx(oe,{component:"p2",className:Y.join(Ve.error),children:e&&e[t==null?void 0:t.name]&&e[t==null?void 0:t.name].message||""})]})]}));d2.displayName="TextInput";function h2(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}const Tz="_Backdrop_1yd3e_46",kz="_show_1yd3e_61",Iz="_disabled_1yd3e_66",rm={Backdrop:Tz,"hide-blackout":"_hide-blackout_1yd3e_1",show:kz,"show-blackout":"_show-blackout_1yd3e_1",disabled:Iz},H1=T.forwardRef(({className:t,disabled:e,show:n,opacity:r,...i},s)=>{const o=T.useRef(null);T.useEffect(()=>{var l;o&&r&&((l=o.current)==null||l.style.setProperty("--backdrop-opacity",`${r}%`))},[o]);const a=[e&&rm.disabled,n&&rm.show];return h.jsx("button",{type:"button",className:Y.join(rm.Backdrop,t,a),ref:h2([s,o]),...i})});H1.displayName="Backdrop";function q1({children:t,className:e="root-portal",elementType:n="div"}){const r=T.useRef(document.createElement(n)),{current:i}=r;return T.useEffect(()=>(i.classList.add(e),document.body.appendChild(r.current),()=>{document.body.removeChild(i)}),[]),gP.createPortal(t,i)}const xz="_content_ol8b2_18",bz="_titleContainer_ol8b2_22",Rz="_success_ol8b2_22",Az="_info_ol8b2_27",Pz="_error_ol8b2_32",Lz="_warn_ol8b2_37",Nz="_Modal_ol8b2_70",Oz="_buttons_ol8b2_107",Dz="_medium_ol8b2_111",jz="_large_ol8b2_122",Mz="_title_ol8b2_22",$z="_body_ol8b2_155",Pr={content:xz,titleContainer:bz,success:Rz,info:Az,error:Pz,warn:Lz,Modal:Nz,"hide-modal":"_hide-modal_ol8b2_1",buttons:Oz,medium:Dz,large:jz,"show-modal":"_show-modal_ol8b2_1",title:Mz,body:$z},Vu=T.forwardRef(({type:t,title:e,noTitle:n,mainButton:r={text:""},secondButton:i,backdrop:s,onClose:o,noButtons:a=!1,size:l="flex",children:u,className:c,...d},f)=>{const[p,v]=T.useState("show"),m=i&&!Y.isObjectEmpty(i),S=()=>{v("")},y=()=>{p!=="show"&&(S(),document.body.style.overflow="visible",o&&o())},g=()=>{s!=null&&s.onClick&&s.onClick(),S()},w=()=>{r!=null&&r.onClick&&r.onClick(),r!=null&&r.form||S()},_=()=>{i!=null&&i.onClick&&i.onClick(),i!=null&&i.form||S()},E=t?Pr[t]:null,k=e||t==="alert"&&"!"||t==="info"&&"!"||t==="success"&&"!"||t==="error"&&""||t==="warn"&&"!";T.useEffect(()=>{document.body.style.overflow="hidden"},[]);const I=l==="medium"&&Pr.medium||l==="large"&&Pr.large;return h.jsx(q1,{children:h.jsxs("div",{className:Y.join(Pr.Modal,c,p),onAnimationEnd:y,ref:f,...d,children:[h.jsx(H1,{onClick:g,disabled:s==null?void 0:s.disabled,show:p==="show"}),h.jsxs("div",{className:Y.join(I,Pr.content),children:[h.jsx("div",{className:t&&Y.join(Pr.titleContainer,E,t),children:h.jsx(oe,{component:"h4",className:Pr.title,children:!n&&k})}),h.jsx("div",{className:Pr.body,children:u}),!a&&h.jsxs("div",{className:Pr.buttons,children:[m&&h.jsxs(Ze,{size:i==null?void 0:i.size,type:(i==null?void 0:i.type)||"secondary",onClick:()=>_(),submit:i==null?void 0:i.isSubmit,disabled:i==null?void 0:i.disabled,children:[(i==null?void 0:i.iconPosition)==="left"&&(i==null?void 0:i.icon),!(i!=null&&i.icon)&&(i!=null&&i.icon?"":i==null?void 0:i.text),!(i!=null&&i.text)&&(i==null?void 0:i.icon)&&(i==null?void 0:i.icon),(i==null?void 0:i.iconPosition)==="left"&&(i==null?void 0:i.icon)]}),h.jsxs(Ze,{size:r==null?void 0:r.size,type:(r==null?void 0:r.type)||"primary",onClick:()=>w(),submit:r==null?void 0:r.isSubmit,disabled:r==null?void 0:r.disabled,children:[(r==null?void 0:r.iconPosition)==="left"&&(r==null?void 0:r.icon),!(r!=null&&r.icon)&&(r!=null&&r.icon?"":r==null?void 0:r.text),!(r!=null&&r.text)&&(r==null?void 0:r.icon)&&(r==null?void 0:r.icon),(r==null?void 0:r.iconPosition)==="right"&&(r==null?void 0:r.icon)]})]})]})]})})});Vu.displayName="Modal";function Uz({onClose:t}){return h.jsx(Vu,{onClose:t,type:"error",size:"medium",title:" !",children:h.jsxs(h.Fragment,{children:[h.jsx(oe,{component:"p1",className:"center",children:"     ."}),h.jsx(oe,{component:"p1",className:"center",children:",  ,     !"})]})})}function Fz({onClose:t}){return h.jsx(Vu,{onClose:t,type:"success",size:"medium",title:"!",children:h.jsx(oe,{component:"p1",className:"center",children:"    !"})})}const Vz="_container_188oq_1",zz="_form_188oq_9",Bz="_buttons_188oq_17",im={container:Vz,form:zz,buttons:Bz};function Hz(){const t=br(),e=Rn(),{error:n,isLoading:r,uid:i}=xt(v=>v.userReducer),{actions:s}=$u,{register:o,handleSubmit:a,formState:{errors:l}}=a2({mode:"onSubmit",defaultValues:{email:"",password:""}}),u={email:o("email",{required:"  !   !",pattern:{value:/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/i,message:"    !"}}),password:o("password",{required:"  !   !",pattern:{value:/^[a-zA-Z0-9]+$/,message:"     !"},minLength:{value:8,message:"   8 "},maxLength:{value:16,message:"   16 "}})},c=async({email:v,password:m})=>{e(qc({email:v,password:m}))},d=()=>{e(wl())},f=()=>{t(_t.home)},p=()=>{e(s.resetError())};return h.jsxs(j1,{children:[h.jsxs(Hn,{container:!0,className:im.container,children:[h.jsx(oe,{component:"h4",children:""}),h.jsxs(V1,{className:im.form,onSubmit:a(c),children:[h.jsx(z1,{register:u.email,errors:l,children:"  *:"}),h.jsx(B1,{register:u.password,errors:l,children:"*:"}),h.jsxs(Re,{className:im.buttons,children:[h.jsx(Ze,{type:"primary",submit:!0,children:""}),h.jsxs(Ze,{type:"secondary",onClick:d,children:[h.jsx(l2,{}),"  Google"]}),h.jsxs(oe,{component:"p1",children:[" ?"," ",h.jsx(Uh,{to:_t.signup,children:h.jsx(zs,{children:""})})]})]})]})]}),i&&!r?h.jsx(Fz,{onClose:f}):null,n&&!r?h.jsx(Uz,{onClose:p}):null]})}function qz({onClose:t}){return h.jsx(Vu,{onClose:t,type:"error",size:"medium",title:" !",children:h.jsxs(h.Fragment,{children:[h.jsx(oe,{component:"p1",className:"center",children:"  ,     ."}),h.jsx(oe,{component:"p1",className:"center",children:",  ,     !"})]})})}function Wz({onClose:t}){return h.jsx(Vu,{onClose:t,type:"success",size:"medium",title:"!",children:h.jsx(oe,{component:"p1",className:"center",children:"          !"})})}const Kz="_container_188oq_1",Gz="_form_188oq_9",Qz="_buttons_188oq_17",sm={container:Kz,form:Gz,buttons:Qz};function Yz(){const t=br(),e=Rn(),{error:n,isLoading:r,uid:i}=xt(g=>g.userReducer),{actions:s}=$u,{register:o,handleSubmit:a,reset:l,watch:u,formState:{errors:c,isDirty:d}}=a2({mode:"onSubmit",defaultValues:{userName:"",email:"",password:"",profileImage:void 0}}),f=OT(c),p={userName:o("userName",{required:"  !   !",pattern:{value:/^[\s--a-zA-Z_]+$/,message:"  ,    !"},minLength:{value:2,message:"   2 "},maxLength:{value:32,message:"   32 "}}),email:o("email",{required:"  !   !",pattern:{value:/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/i,message:"    !"}}),password:o("password",{required:"  !   !",pattern:{value:/^[a-zA-Z0-9]+$/,message:"     !"},minLength:{value:8,message:"   8 "},maxLength:{value:16,message:"   16 "}}),profileImage:o("profileImage",{required:" ,  !"})},v=async({userName:g,email:w,password:_,profileImage:E})=>{e(Hc({displayName:g,email:w,password:_,photo:E[0]}))},m=()=>{e(wl())},S=()=>{l(),t(_t.home)},y=()=>{e(s.resetError())};return h.jsxs(j1,{children:[h.jsxs(Hn,{container:!0,className:sm.container,children:[h.jsx(oe,{component:"h4",children:""}),h.jsxs(V1,{className:sm.form,onSubmit:a(v),children:[h.jsx(c2,{watch:u,register:p.profileImage,errors:c,accept:".jpg, .jpeg, .png",label:" ",children:" *:"}),h.jsx(d2,{register:p.userName,errors:c,children:"*:"}),h.jsx(z1,{register:p.email,errors:c,children:"  *:"}),h.jsx(B1,{register:p.password,errors:c,children:"*:"}),h.jsxs(Re,{className:sm.buttons,children:[h.jsx(Ze,{submit:!0,disabled:!d||!f,children:""}),h.jsxs(Ze,{type:"secondary",onClick:m,children:[h.jsx(l2,{}),"  Google"]}),h.jsxs(oe,{component:"p1",children:["  ?"," ",h.jsx(Uh,{className:"link",to:_t.login,children:h.jsx(zs,{children:""})})]})]})]})]}),i&&!r?h.jsx(Wz,{onClose:S}):null,n&&!r?h.jsx(qz,{onClose:y}):null]})}const Xz=`
	       
	    
	    
	    
	 
	     
	   
	 
	    
	      
`,US=Xz.trim().split(`
`).map(t=>t.trim()),Jz={normalOrderAudioFilesList:US,audioTracksList:US,isPlaying:!1,isPlayerShow:!1,lastOpenedTrack:null,currentTrack:null,currentTrackIndex:0,currentTrackDuration:0,currentTrackTimeProgress:0},Ea=zh({name:"musicPlayer",initialState:Jz,reducers:{setNormalAudioTracksList(t){t.audioTracksList=t.normalOrderAudioFilesList},setShuffleAudioTracksList(t){t.audioTracksList=Y.shuffleArray(t.audioTracksList)},setIsPlaying(t,e){t.isPlaying=e.payload,t.isPlaying?t.currentTrack=t.audioTracksList[t.currentTrackIndex]:t.lastOpenedTrack=t.currentTrack},toggleIsPlaying(t){t.isPlaying=!t.isPlaying,t.isPlaying?t.currentTrack=t.audioTracksList[t.currentTrackIndex]:t.lastOpenedTrack=t.currentTrack},showPlayer(t){t.isPlayerShow=!0},hidePlayer(t){t.isPlayerShow=!1},setCurrentTrack(t,e){t.currentTrack=e.payload},setCurrentTrackIndex(t,e){t.currentTrackIndex=e.payload},setCurrentTrackDuration(t,e){t.currentTrackDuration=e.payload},setCurrentTrackTimeProgress(t,e){t.currentTrackTimeProgress=e.payload},prevTrack(t){if(t.currentTrackIndex===0){const e=t.audioTracksList.length-1;t.currentTrackIndex=e,t.currentTrack=t.audioTracksList[e]}else{const e=t.currentTrackIndex-1;t.currentTrackIndex=e,t.currentTrack=t.audioTracksList[e]}},nextTrack(t){if(t.currentTrackIndex>=t.audioTracksList.length-1)t.currentTrackIndex=0,[t.currentTrack]=t.audioTracksList;else{const e=t.currentTrackIndex+1;t.currentTrackIndex=e,t.currentTrack=t.audioTracksList[e]}}}});function Zz(t){return h.jsxs(Pe,{fill:"none",...t,children:[h.jsx("path",{d:"M11 17L6 12L11 7",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M18 17L13 12L18 7",strokeLinecap:"round",strokeLinejoin:"round"})]})}function eB(t){return h.jsxs(Pe,{fill:"none",...t,children:[h.jsx("path",{d:"M13 17L18 12L13 7",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M6 17L11 12L6 7",strokeLinecap:"round",strokeLinejoin:"round"})]})}function f2(t){return h.jsxs(Pe,{fill:"none",...t,children:[h.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),h.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]})}function p2(t){return h.jsx(Pe,{fill:"none",...t,children:h.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})}function tB(t){return h.jsxs(Pe,{fill:"none",...t,children:[h.jsx("polygon",{points:"19 20 9 12 19 4 19 20"}),h.jsx("line",{x1:"5",y1:"19",x2:"5",y2:"5"})]})}function nB(t){return h.jsxs(Pe,{fill:"none",...t,children:[h.jsx("polygon",{points:"5 4 15 12 5 20 5 4"}),h.jsx("line",{x1:"19",y1:"5",x2:"19",y2:"19"})]})}const rB="_Controls_1ma96_1",iB="_playIcon_1ma96_8",FS={Controls:rB,playIcon:iB};function sB({timeProgress:t,setTimeProgress:e,audioRef:n,progressBarRef:r}){const i=T.useRef(),{isPlaying:s,currentTrackDuration:o,currentTrackTimeProgress:a}=xt(S=>S.musicPlayerReducer),l=Rn(),{actions:u}=Ea,c=T.useCallback(()=>{if(n.current&&r.current){const{currentTime:S}=n.current;e(S);const y=r.current;y.value=S.toString(),y.style.setProperty("--progress-bar--range-progress",`${Number(y.value)/o*100}%`),s&&(i.current=requestAnimationFrame(c))}},[n,o,s,r,e]);T.useEffect(()=>{n.current&&(s?n.current.play():n.current.pause()),i.current=requestAnimationFrame(c)},[s,n,c]);const d=()=>{l(u.toggleIsPlaying()),s||e(a)},f=()=>{if(n.current){const S=n.current;S.currentTime+=10}},p=()=>{if(n.current){const S=n.current;S.currentTime-=10}},v=()=>{if(t>=1){if(e(0),n.current){const S=n.current;S.currentTime=0}}else l(u.prevTrack())},m=()=>{l(u.nextTrack())};return h.jsxs(Re,{className:FS.Controls,children:[h.jsx(Ze,{type:"text",onClick:v,children:h.jsx(tB,{})}),h.jsx(Ze,{type:"text",onClick:p,children:h.jsx(Zz,{})}),h.jsx(Ze,{type:"secondary",onClick:d,children:s?h.jsx(f2,{}):h.jsx(p2,{className:FS.playIcon})}),h.jsx(Ze,{type:"text",onClick:f,children:h.jsx(eB,{})}),h.jsx(Ze,{type:"text",onClick:m,children:h.jsx(nB,{})})]})}const oB={},m2=T.forwardRef(({className:t,...e},n)=>h.jsx("audio",{className:Y.join(oB.AudioPlayer,t),ref:n,...e,children:h.jsx("track",{kind:"captions"})}));m2.displayName="AudioPlayer";const aB="_DisplayTrack_1d8z7_1",lB={DisplayTrack:aB};function uB({timeProgress:t,audioRef:e,progressBarRef:n}){const{currentTrack:r}=xt(u=>u.musicPlayerReducer),{actions:i}=Ea,s=Rn(),o=()=>{if(e.current&&n.current){const u=e.current,c=Math.trunc(u.duration);s(i.setCurrentTrackDuration(c));const d=n.current;d.max=c.toString()}},a=()=>{s(i.nextTrack())},l=()=>{s(i.hidePlayer()),s(i.setIsPlaying(!1)),s(i.setCurrentTrackTimeProgress(t))};return h.jsxs(Re,{className:lB.DisplayTrack,children:[h.jsx(m2,{src:`/mp3/${r}.mp3`,ref:e,onLoadedMetadata:o,onEnded:a}),h.jsx(oe,{component:"h6",children:r}),h.jsx(Qt,{onClick:l,children:h.jsx(Mu,{size:"small"})})]})}const cB="_ProgressBar_8spjb_1",dB="_timeProgress_8spjb_8",hB="_duration_8spjb_9",fB="_range_8spjb_22",yc={ProgressBar:cB,timeProgress:dB,duration:hB,range:fB};function pB({timeProgress:t,audioRef:e,progressBarRef:n}){const{currentTrackDuration:r}=xt(l=>l.musicPlayerReducer),{actions:i}=Ea,s=Rn(),o=()=>{if(e.current&&n.current){const l=e.current;l.currentTime=Number(n.current.value)}},a=()=>{e.current&&n.current&&s(i.setCurrentTrackTimeProgress(Number(n.current.value)))};return h.jsxs(Re,{className:yc.ProgressBar,children:[h.jsx(oe,{component:"p2",className:yc.timeProgress,children:Dw(t)}),h.jsx("input",{type:"range",className:yc.range,onChange:o,onMouseUp:a,defaultValue:"0",ref:n}),h.jsx(oe,{component:"p2",className:yc.duration,children:Dw(r)})]})}const mB="_MusicPlayer_183yq_46",VS={MusicPlayer:mB,"show-player":"_show-player_183yq_1"};function gB(){const{audioTracksList:t,lastOpenedTrack:e,currentTrack:n,isPlaying:r,isPlayerShow:i,currentTrackIndex:s,currentTrackTimeProgress:o}=xt(v=>v.musicPlayerReducer),a=Rn(),{actions:l}=Ea,u=i&&VS.show,[c,d]=T.useState(e===n?o:0);T.useEffect(()=>{r||a(l.setCurrentTrackTimeProgress(c))},[r]);const f=T.useRef(null),p=T.useRef(null);return T.useEffect(()=>{if(a(l.setCurrentTrack(t[s])),f.current&&c>0){const v=f.current;v.currentTime=c}},[]),T.useEffect(()=>{if(t.length>0&&n){const v=t.indexOf(n);a(l.setCurrentTrackIndex(v)),a(l.setCurrentTrack(t[v])),a(l.setIsPlaying(!0))}n||a(l.setIsPlaying(!1))},[l,t,n,a]),h.jsxs(Re,{className:Go(VS.MusicPlayer,u),children:[h.jsx(uB,{timeProgress:c,audioRef:f,progressBarRef:p}),h.jsx(pB,{timeProgress:c,audioRef:f,progressBarRef:p}),h.jsx(sB,{timeProgress:c,setTimeProgress:d,audioRef:f,progressBarRef:p})]})}const yB={activeTableNumber:0,namesList:[],selectedSongsId:[],tableGroupLabels:[],nameListLimitCount:10,isLoading:!1,error:"",songsList:[],lastFetchingDate:""},Lf=zh({name:"songsList",initialState:yB,reducers:{setActiveTable(t,e){t.activeTableNumber=e.payload},resetTableGroupLabels(t){t.tableGroupLabels=[]},resetNamesList(t){t.namesList=[]},toggleSetToSelectedSongsId(t,e){let n=[...t.selectedSongsId];const r=t.selectedSongsId.indexOf(e.payload);r>=0?n.splice(r,1):n=[...t.selectedSongsId,e.payload],t.selectedSongsId=n},removeFromSelectedSongsId(t,e){const n=[...t.selectedSongsId],r=t.selectedSongsId.indexOf(e.payload);r>=0&&n.splice(r,1),t.selectedSongsId=n},resetSelectedSongsId(t){t.selectedSongsId=[]},toggleSetToNamesList(t,e){const n=e.payload,{namesList:r}=t;let i=[...r];r.length===0&&(i=[n]),r.length>0&&r.length<t.nameListLimitCount&&(i=[...r,n]);const s=r.indexOf(n);s>=0&&(i=[...r],i.splice(s,1)),t.namesList=i},setLastFetchingDate(t,e){t.lastFetchingDate=e.payload}},extraReducers:t=>{t.addCase(vl.pending,e=>{e.isLoading=!0,e.error=""}).addCase(vl.fulfilled,(e,n)=>{e.songsList=n.payload,e.error="",e.isLoading=!1,e.tableGroupLabels=n.payload.map(r=>r[1].map(i=>i[0]))}).addCase(vl.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1})}}),vB="_LoaderLine_92256_1",wB="_background_92256_10",_B="_normal_92256_13",SB="_animation_92256_13",EB="_loader_92256_1",CB="_inversion_92256_22",Fa={LoaderLine:vB,background:wB,normal:_B,animation:SB,loader:EB,inversion:CB},g2=T.forwardRef(({isInversion:t,className:e,...n},r)=>{const i=[t?Fa.inversion:Fa.normal];return h.jsxs("div",{className:Y.join(Fa.LoaderLine,e,i),ref:r,...n,children:[h.jsx("div",{className:Fa.background}),h.jsx("div",{className:Fa.animation})]})});g2.displayName="LoaderLine";const TB="_LoaderOverlay_1d96m_1",kB={LoaderOverlay:TB};function IB(){return h.jsx(q1,{children:h.jsxs(Re,{className:Y.join(kB.LoaderOverlay),children:[h.jsx(H1,{show:!0}),h.jsx(g2,{})]})})}function xB(t){return h.jsxs(Pe,{fill:"none",...t,children:[h.jsx("circle",{cx:"11",cy:"11",r:"8"}),h.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}const y2=T.forwardRef(({register:t,errors:e,onApply:n,placeholder:r,onChangeValue:i,autoClear:s=!1,onKeyDown:o,children:a,...l},u)=>{const[c,d]=T.useState(""),f=S=>{i&&i(S.target.value),d(S.target.value)},p=()=>{n&&n(c),s&&d("")},v=()=>{i&&i(""),d("")},m=S=>{o&&o(S),S.key==="Enter"&&(n&&n(c),s&&d(""))};return h.jsxs("div",{className:Ve.container,children:[h.jsx(oe,{component:"h5",children:a}),h.jsxs("div",{className:Ve.inputBlockContainer,children:[h.jsxs("label",{className:vs.inputContainer,children:[h.jsx("input",{type:"text",className:Y.join(Ve.input,vs.input,on.input),placeholder:r,ref:u,onChange:f,onKeyDown:m,value:c,...t,...l}),!n&&c.length>0&&h.jsx(Qt,{size:"custom",style:{width:20,height:20},className:vs.icon,onClick:v,children:h.jsx(Mu,{size:"custom",style:{width:20,height:20}})}),(!n&&c.length<1||n)&&h.jsx(Qt,{size:"custom",style:{width:20,height:20},className:vs.icon,onClick:p,children:h.jsx(xB,{size:"custom",style:{width:20,height:20}})})]}),t&&h.jsx(oe,{component:"p2",className:Y.join(Ve.error),children:e&&e[t==null?void 0:t.name]&&e[t==null?void 0:t.name].message||""})]})]})});y2.displayName="SearchInput";const om=[" ","/","","","  "],bB="_ListNavigation_1wvg1_1",RB={ListNavigation:bB};function AB({charsList:t}){return h.jsx(Re,{component:"nav",className:RB.ListNavigation,children:t.length>0&&t.map(e=>h.jsx(Xb,{href:`${_t.songslist}#${e}`,className:"link",children:e},e))})}function PB(t){return h.jsxs(Pe,{fill:"none",...t,children:[h.jsx("polyline",{points:"9 11 12 14 22 4"}),h.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]})}function LB(t){return h.jsxs(Pe,{fill:"none",...t,children:[h.jsx("path",{d:"M8 6H21",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M8 12H21",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M8 18H21",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M3 6H3.01",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M3 12H3.01",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M3 18H3.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}const NB="_Navbar_1f589_46",OB="_button_1f589_61",DB="_active_1f589_71",Va={Navbar:NB,button:OB,active:DB};function jB(){const t=br(),{page:e}=AT(),n=()=>{t(_t.songslist)},r=()=>{t(_t.songslistSelection)},i=!e&&Va.active,s=e==="selection"&&Va.active;return h.jsxs(Hn,{className:Va.Navbar,row:!0,children:[h.jsxs(Re,{className:Go(Va.button,i),onClick:n,grid:{xx:3},children:[h.jsx(Qt,{children:h.jsx(LB,{})}),h.jsx(oe,{component:"caption",children:""})]}),h.jsxs(Re,{className:Go(Va.button,s),onClick:r,grid:{xx:3},children:[h.jsx(Qt,{children:h.jsx(PB,{})}),h.jsx(oe,{component:"caption",children:""})]})]})}const zS={up:"up",down:"down"};function MB(t,e){const n=t??100,[r,i]=T.useState("start"),[s,o]=T.useState(0);return T.useEffect(()=>{let a=window.scrollY;const l=f=>Math.abs(f-a)>n,u=f=>f>a&&!(a>0&&f===0)&&!(f>0&&a===0),c=()=>{const f=window.scrollY;if(o(f),l(f)){e&&e();const p=u(f)?zS.down:zS.up;i(p),a=f>0?f:0}},d=()=>window.requestAnimationFrame(c);return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]),{scrollDirection:r,scrollPosition:s}}function $B(){const[t,e]=T.useState({windowWidth:0,windowHeight:0});return T.useLayoutEffect(()=>{function n(){e({windowWidth:window.innerWidth,windowHeight:window.innerHeight})}return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),t}const UB="_StickyButton_1v8xp_18",FB="_hide_1v8xp_59",VB="_show_1v8xp_65",ns={StickyButton:UB,hide:FB,"sticky-button-hide":"_sticky-button-hide_1v8xp_1",show:VB,"sticky-button-show":"_sticky-button-show_1v8xp_1"};function zB({children:t,popup:e,inverseDirection:n,offset:r,hideOnScreensCount:i=0}){const[s,o]=T.useState(ns.hide),a=T.useRef(null);T.useEffect(()=>{var d;a&&r&&((d=a.current)==null||d.style.setProperty("--sticky-button-offset",`${r}px`))},[a,r]);const{windowHeight:l}=$B(),{scrollDirection:u,scrollPosition:c}=MB(200);return T.useEffect(()=>{const d=c>l*i;o(d&&n&&u==="up"?ns.show:d&&n&&u==="down"||d&&u==="up"?ns.hide:d&&u==="down"?ns.show:ns.hide)},[i,n,u,c,l]),h.jsx("div",{className:Y.join(ns.StickyButton,e&&s),ref:a,children:t})}function BB(t){return h.jsx(Pe,{fill:"none",...t,children:h.jsx("path",{d:"M18 15L12 9L6 15",strokeLinecap:"round",strokeLinejoin:"round"})})}function HB(){const{isPlayerShow:t}=xt(n=>n.musicPlayerReducer),e=t?228:64;return h.jsx(zB,{popup:!0,offset:e,inverseDirection:!0,hideOnScreensCount:1,children:h.jsx(Ze,{onClick:()=>document.body.scrollIntoView(),children:h.jsx(BB,{})})})}function qB({children:t,...e}){return h.jsx(h.Fragment,{children:T.Children.map(t,n=>T.isValidElement(n)?T.cloneElement(n,{...n.props,...e}):null)})}const WB="_List_3gzz3_1",KB="_unordered_3gzz3_6",GB="_custom_3gzz3_12",am={List:WB,unordered:KB,custom:GB},W1=T.forwardRef(({type:t,margin:e,children:n,className:r,...i},s)=>{const o=[t==="unordered"&&am[t],t==="custom"&&am[t]],a={marginLeft:e&&`${e}px`};return h.jsx("ul",{className:Y.join(am.List,r,o),ref:s,style:a,...i,children:h.jsx(qB,{style:a,children:n})})});W1.displayName="List";const K1=T.forwardRef(({children:t,className:e,...n},r)=>h.jsx("li",{className:e,ref:r,...n,children:t}));K1.displayName="ListItem";const QB="_SongListItem_jb1lp_1",YB="_playIcon_jb1lp_9",XB="_playing_jb1lp_14",lm={SongListItem:QB,playIcon:YB,playing:XB,"play-animation":"_play-animation_jb1lp_1"};function JB({song:t}){const{audioTracksList:e,currentTrack:n,isPlaying:r}=xt(u=>u.musicPlayerReducer),{actions:i}=Ea,s=Rn(),o=()=>{s(i.showPlayer()),s(i.toggleIsPlaying()),n&&n.includes(t.value)||s(i.setCurrentTrack(t.value))},a=r&&n===t.value?"secondary":"text",l=r&&n===t.value&&lm.playing;return h.jsxs(K1,{className:lm.SongListItem,children:[h.jsx(oe,{component:"p1",id:`song_${t.position}`,children:t.value}),e.includes(t.value)&&h.jsx(Ze,{type:a,size:"small",onClick:o,className:Go(l),children:r&&n===t.value?h.jsx(f2,{size:"small"}):h.jsx(p2,{size:"small",className:lm.playIcon})})]},t.position)}const ZB="_SongsList_50aix_46",eH="_songsGroup_50aix_52",tH="_songsGroupSymbol_50aix_56",nH="_songsNames_50aix_65",vc={SongsList:ZB,songsGroup:eH,songsGroupSymbol:tH,songsNames:nH};function rH({songsTable:t}){return h.jsx(Re,{className:vc.SongsList,children:t.map(e=>e[1].length>0&&h.jsxs(Re,{className:vc.songsGroup,children:[h.jsx(oe,{component:"h3",className:vc.songsGroupSymbol,id:e[0],children:e[0]}),h.jsx(W1,{className:vc.songsNames,children:e[1].map(n=>h.jsx(JB,{song:n},n.position))})]},e[0]))})}function iH({ref:t,wayDirection:e="horizontal",targetDirection:n=null,swipeOffset:r=10,moveOffset:i=1}){var g;const[s]=T.useState(((g=t.current)==null?void 0:g.style.position)||"static"),[o,a]=T.useState(null),[l,u]=T.useState(null),[c,d]=T.useState(null),[f,p]=T.useState(null),[v,m]=T.useState(null),[S,y]=T.useState(null);return T.useEffect(()=>{const w=t==null?void 0:t.current;let _=null,E=null;const k=R=>{_=R.touches[0].clientX,E=R.touches[0].clientY,a({x:_,y:E})},I=R=>{const D=R.touches[0].clientX,W=R.touches[0].clientY;if(u({x:D,y:W}),_===null||E===null)return;let $=null;e==="horizontal"?($=D-_,$>i&&m("right"),$<i&&m("left")):e==="vertical"&&($=W-E,$>i&&m("down"),$<i&&m("up")),y($)},N=R=>{const D=R.changedTouches[0].clientX,W=R.changedTouches[0].clientY;if(d({x:D,y:W}),!(_===null||E===null)){if(e==="horizontal"){const $=D-_;$>r&&p("right"),$<r&&p("left")}else if(e==="vertical"){const $=W-E;$>r&&p("down"),$<r&&p("up")}a(null)}};return w&&(w.addEventListener("touchstart",k),w.addEventListener("touchmove",I),w.addEventListener("touchend",N)),()=>{w&&(w.removeEventListener("touchstart",k),w.removeEventListener("touchstart",k),w.removeEventListener("touchend",N))}},[]),T.useEffect(()=>{const w=t==null?void 0:t.current;w&&n&&(v===n?(w.style.position="relative",w.style.left=`${S}px`):w.style.position=s)},[S,v]),{startTouchPosition:o,moveTouchPosition:l,endTouchPosition:c,swipeDirection:f,moveDirection:v,difference:S}}function BS(t){return h.jsxs(Pe,{fill:"none",...t,children:[h.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 8V12",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 16H12.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function sH(t){return h.jsxs(Pe,{fill:"none",...t,children:[h.jsx("path",{d:"M10.29 3.86001L1.81999 18C1.64536 18.3024 1.55296 18.6453 1.55198 18.9945C1.551 19.3437 1.64148 19.6871 1.81442 19.9905C1.98735 20.2939 2.23672 20.5468 2.5377 20.7239C2.83868 20.901 3.18079 20.9962 3.52999 21H20.47C20.8192 20.9962 21.1613 20.901 21.4623 20.7239C21.7633 20.5468 22.0126 20.2939 22.1856 19.9905C22.3585 19.6871 22.449 19.3437 22.448 18.9945C22.447 18.6453 22.3546 18.3024 22.18 18L13.71 3.86001C13.5317 3.56611 13.2807 3.32313 12.9812 3.15449C12.6817 2.98585 12.3437 2.89726 12 2.89726C11.6563 2.89726 11.3183 2.98585 11.0188 3.15449C10.7193 3.32313 10.4683 3.56611 10.29 3.86001Z",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 9V13",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 17H12.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function oH(t){return h.jsxs(Pe,{fill:"none",...t,children:[h.jsx("path",{d:"M22 11.08V12C21.9988 14.1564 21.3005 16.2547 20.0093 17.9818C18.7182 19.709 16.9033 20.9725 14.8354 21.5839C12.7674 22.1953 10.5573 22.1219 8.53447 21.3746C6.51168 20.6273 4.78465 19.2461 3.61096 17.4371C2.43727 15.628 1.87979 13.4881 2.02168 11.3363C2.16356 9.18457 2.99721 7.13633 4.39828 5.49707C5.79935 3.85782 7.69279 2.71538 9.79619 2.24015C11.8996 1.76491 14.1003 1.98234 16.07 2.86",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M22 4L12 14.01L9 11.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function aH(t){return h.jsxs(Pe,{fill:"none",...t,children:[h.jsx("path",{d:"M12.7165 22.7087C18.2394 22.7087 22.7165 18.2315 22.7165 12.7087C22.7165 7.18582 18.2394 2.70866 12.7165 2.70866C7.19367 2.70866 2.71652 7.18582 2.71652 12.7087C2.71652 18.2315 7.19367 22.7087 12.7165 22.7087Z",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12.7165 16.7087V12.7087",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12.7165 8.70866H12.7265",strokeLinecap:"round",strokeLinejoin:"round"})]})}function lH(t){return h.jsxs(Pe,{fill:"none",...t,children:[h.jsx("path",{d:"M12.237 22.8758C17.7599 22.8758 22.237 18.3987 22.237 12.8758C22.237 7.35296 17.7599 2.87581 12.237 2.87581C6.71418 2.87581 2.23703 7.35296 2.23703 12.8758C2.23703 18.3987 6.71418 22.8758 12.237 22.8758Z",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M15.237 9.87581L9.23703 15.8758",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M9.23703 9.87581L15.237 15.8758",strokeLinecap:"round",strokeLinejoin:"round"})]})}const uH="_LoaderBars_qlkif_1",cH="_loader_qlkif_1",dH={LoaderBars:uH,loader:cH},hH=T.forwardRef(({className:t,...e},n)=>h.jsxs("div",{className:Y.join(dH.LoaderBars,t),ref:n,...e,children:[h.jsx("div",{}),h.jsx("div",{}),h.jsx("div",{})]}));hH.displayName="LoaderBars";const fH="_LoaderCounter_1kaup_1",pH="_counter_1kaup_9",mH="_background_1kaup_14",gH="_animation_1kaup_22",no={LoaderCounter:fH,counter:pH,background:mH,animation:gH,"loader-animation":"_loader-animation_1kaup_1"},v2=T.forwardRef(({timer:t,isInversion:e,className:n,...r},i)=>{const[s,o]=T.useState(t/1e3);T.useEffect(()=>{Y.setIntervalCounts({callback:()=>o(u=>u-1),delay:1e3,counts:t/1e3})},[]);const a=T.useRef(null);T.useLayoutEffect(()=>{var u;(u=a.current)==null||u.style.setProperty("--loader-counter--animation-duration",`${t}ms`)},[t]);const l=[e?no.inversion:no.normal];return h.jsxs("div",{className:Y.join(no.LoaderCounter,n,l),ref:i,...r,children:[h.jsx("div",{className:no.background}),h.jsx("div",{className:no.animation,ref:a}),h.jsx(oe,{component:"p2",className:no.counter,children:s})]})});v2.displayName="LoaderCounter";const yH="_Toast_1acxc_18",vH="_success_1acxc_22",wH="_info_1acxc_27",_H="_error_1acxc_32",SH="_warn_1acxc_37",EH="_oneLine_1acxc_83",CH="_medium_1acxc_86",TH="_large_1acxc_94",kH="_content_1acxc_97",IH="_textContent_1acxc_106",xH="_title_1acxc_116",bH="_message_1acxc_120",RH="_topLeft_1acxc_124",AH="_topCenter_1acxc_128",PH="_topRight_1acxc_132",LH="_bottomLeft_1acxc_146",NH="_bottomCenter_1acxc_150",OH="_bottomRight_1acxc_154",DH="_hideToastAnimation_1acxc_168",Qn={Toast:yH,success:vH,info:wH,error:_H,warn:SH,oneLine:EH,medium:CH,large:TH,content:kH,textContent:IH,title:xH,message:bH,topLeft:RH,"top-animation-show":"_top-animation-show_1acxc_1",topCenter:AH,topRight:PH,bottomLeft:LH,"bottom-animation-show":"_bottom-animation-show_1acxc_1",bottomCenter:NH,bottomRight:OH,hideToastAnimation:DH,"animation-hide":"_animation-hide_1acxc_1"};function jH(t){return t==="alert"?h.jsx(BS,{}):t==="info"?h.jsx(aH,{}):t==="success"?h.jsx(oH,{}):t==="error"?h.jsx(lH,{}):t==="warn"?h.jsx(sH,{}):h.jsx(BS,{})}const w2=T.forwardRef(({id:t,message:e,title:n="",type:r,size:i="flex",position:s="topRight",oneLine:o,onCloseButtonClick:a,duration:l=3e3,className:u,...c},d)=>{const f=T.useRef(null),{remove:p}=S2(),v=[i&&Qn[i],r&&Qn[r],s&&Qn[s]],m=o&&Qn.oneLine,S=n||r==="alert"&&"!"||r==="info"&&"!"||r==="success"&&"!"||r==="error"&&"!"||r==="warn"&&"!",y=()=>{var E,k;(E=f.current)==null||E.classList.add(Qn.hideToastAnimation),(k=f.current)==null||k.addEventListener("animationend",I=>{I.target===f.current&&(I.stopPropagation(),p(t))})},g=T.useRef();T.useEffect(()=>(l>0&&(g.current=setTimeout(()=>{y()},l)),()=>{clearTimeout(g.current)}),[]);const{swipeDirection:w}=iH({ref:f,targetDirection:"right"});T.useEffect(()=>{w==="right"&&y()},[w]);const _=E=>{a&&a(E),y()};return h.jsxs("div",{className:Y.join(Qn.Toast,u,v),ref:h2([d,f]),...c,children:[h.jsxs("div",{className:Qn.content,children:[h.jsx(Qt,{children:jH(r)}),h.jsxs("div",{className:Y.join(Qn.textContent,m),children:[h.jsx(oe,{component:"h6",className:Qn.title,children:S}),typeof e=="string"?h.jsx(oe,{component:"p1",className:Qn.message,children:e}):e.map(E=>h.jsx(oe,{component:"p1",className:Qn.message,children:E},E))]}),l>0&&h.jsx(v2,{timer:l})]}),h.jsx(Qt,{size:"small",onClick:_,children:h.jsx(Mu,{size:"small"})})]})});w2.displayName="Toast";const MH="_ToastsContainer_1yqsk_46",HS={ToastsContainer:MH,"left-top":"_left-top_1yqsk_61","center-top":"_center-top_1yqsk_64","left-bottom":"_left-bottom_1yqsk_67","center-bottom":"_center-bottom_1yqsk_71","right-bottom":"_right-bottom_1yqsk_75"};function $H({toasts:t,position:e={horizontal:"right",vertical:"top"}}){const n=HS[`${e.horizontal}-${e.vertical}`];return!t||t.length<=0?null:h.jsx(q1,{children:h.jsx(Re,{className:Y.join(HS.ToastsContainer,n),children:h.jsx(h.Fragment,{children:t.map(r=>h.jsx(w2,{id:r.id,message:r.message,title:r.title,type:r.type,size:r.size,position:r.position,oneLine:r.oneLine,onCloseButtonClick:r.onCloseButtonClick,duration:r.duration},r.id))})})})}const _2=T.createContext({}),S2=()=>T.useContext(_2);function UH({maxToast:t=1,children:e}){const[n,r]=T.useState([]),[i,s]=T.useState("top-right"),o=u=>{u.position&&u.position!==i&&s(u.position),r(c=>{const d=c.length<t?c:c.slice(1),f={...u,id:Y.getRandomNumber(1e8,999999999).toString()};return[...d,f]})},a=u=>{r(c=>c.filter(d=>d.id!==u))},l=T.useMemo(()=>({add:o,remove:a,position:i}),[]);return h.jsxs(_2.Provider,{value:l,children:[e,h.jsx($H,{toasts:n})]})}const FH="_SelectionBar_1inem_46",VH="_extended_1inem_59",zH="_button_1inem_63",wc={SelectionBar:FH,extended:VH,button:zH};function BH(){const{namesList:t}=xt(l=>l.songsListReducer),{isPlayerShow:e}=xt(l=>l.musicPlayerReducer),n=e&&wc.extended,r=Rn(),{actions:i}=Lf,{add:s}=S2(),o=()=>{r(i.resetNamesList()),r(i.resetSelectedSongsId())},a=async()=>{const l=t.map((c,d)=>`${d+1}. ${c}`),u=l.join(`
`);try{await nD(u)&&s({title:":",message:l,duration:5e3})}catch{s({type:"error",message:"  .    !",duration:5e3})}r(i.resetNamesList()),r(i.resetSelectedSongsId())};return h.jsxs(Hn,{className:Go(wc.SelectionBar,n),row:!0,children:[h.jsx(Re,{className:wc.button,children:h.jsx(Ze,{size:"small",type:"secondary",onClick:o,children:h.jsx(Mu,{})})}),h.jsx(Re,{className:wc.button,children:h.jsx(Ze,{size:"small",onClick:a,disabled:t.length<=0,children:` ${t.length} / 10`})})]})}function HH(t){return h.jsx(Pe,{fill:"none",...t,children:h.jsx("polyline",{points:"20 6 9 17 4 12"})})}const qH="_SongListItem_1m3a7_46",WH="_active_1m3a7_53",KH="_song_1m3a7_57",um={SongListItem:qH,active:WH,song:KH};function GH({song:t}){const{namesList:e,nameListLimitCount:n,selectedSongsId:r}=xt(u=>u.songsListReducer),i=Rn(),{actions:s}=Lf,o=r.includes(t.position),a=[o&&um.active],l=()=>{e.length<n?i(s.toggleSetToSelectedSongsId(t.position)):i(s.removeFromSelectedSongsId(t.position)),i(s.toggleSetToNamesList(t.value))};return h.jsx(Re,{className:Go(um.SongListItem,a),onClick:l,children:h.jsxs(K1,{className:um.song,children:[h.jsx(oe,{component:"p1",id:`song_${t.position}`,children:t.value}),h.jsx(Qt,{children:o&&h.jsx(HH,{})})]})})}const QH="_SongsSelection_qhojl_1",YH="_songsGroup_qhojl_7",XH="_songsGroupSymbol_qhojl_11",JH="_songsNames_qhojl_20",_c={SongsSelection:QH,songsGroup:YH,songsGroupSymbol:XH,songsNames:JH};function ZH({songsTable:t}){const{selectedSongsId:e}=xt(n=>n.songsListReducer);return h.jsxs(Re,{className:_c.SongsSelection,children:[t.map(n=>n[1].length>0&&h.jsxs(Re,{className:_c.songsGroup,children:[h.jsx(oe,{component:"h3",className:_c.songsGroupSymbol,id:n[0],children:n[0]}),h.jsx(W1,{className:_c.songsNames,children:n[1].map(r=>h.jsx(GH,{song:r},r.position))})]},n[0])),e.length>0&&h.jsx(BH,{})]})}const eq="_SongsListPage_2737s_46",tq="_container_2737s_50",nq="_tools_2737s_60",cm={SongsListPage:eq,container:tq,tools:nq};function qS(){const[t,e]=T.useState(0),[n,r]=T.useState(),{error:i,isLoading:s,songsList:o,tableGroupLabels:a,lastFetchingDate:l}=xt(y=>y.songsListReducer),{isPlayerShow:u}=xt(y=>y.musicPlayerReducer),c=Rn(),{actions:d}=Lf,{page:f}=AT();T.useEffect(()=>{const y=YO();(OT(o)||l!==y)&&(c(vl()),c(d.setLastFetchingDate(y)))},[]);const[p,v]=T.useState("");T.useEffect(()=>{if(o.length>0){const y=o[t][1];r(p?y.map(g=>[g[0],g[1].filter(w=>w.value.toLowerCase().includes(p.toLowerCase()))]):y)}},[t,o,p]);const m=y=>{const g=om.indexOf(y);e(g)};if(i)throw Error(i);const S=y=>{v(y)};return h.jsxs(Re,{component:"main",className:cm.SongsListPage,children:[h.jsxs(Hn,{component:"section",container:!0,className:cm.container,children:[h.jsxs(Re,{className:cm.tools,children:[s&&h.jsx(IB,{}),h.jsx(u2,{selected:om[t],onDropdownChange:m,options:om}),h.jsx(y2,{placeholder:"...",onChangeValue:S}),a&&a.length>0&&h.jsx(AB,{charsList:a[t]})]}),n&&(f==="selection"?h.jsx(ZH,{songsTable:n}):h.jsx(rH,{songsTable:n})),h.jsx(HB,{})]}),!s&&n&&h.jsx(jB,{}),n&&u&&h.jsx(gB,{})]})}function rq({children:t}){const{isAuth:e}=Vh();return e?t:h.jsx(kN,{to:_t.login})}const iq=DN([{path:"/",element:h.jsx(gV,{}),errorElement:h.jsx(PV,{}),children:[{element:h.jsx(OV,{}),index:!0},{element:h.jsx(Hz,{}),path:_t.login},{element:h.jsx(Yz,{}),path:_t.signup},{element:h.jsx(qS,{}),path:`${_t.songslist}`},{element:h.jsx(qS,{}),path:`${_t.songslist}/:page`},{element:h.jsx(rq,{children:h.jsx(SV,{})}),path:ov.admin}]}]);function sq(){return h.jsx(TN,{router:iq})}var G1="persist:",Q1="persist/FLUSH",Nf="persist/REHYDRATE",Y1="persist/PAUSE",X1="persist/PERSIST",J1="persist/PURGE",Z1="persist/REGISTER",oq=-1;function Kc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kc=function(n){return typeof n}:Kc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Kc(t)}function WS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WS(n,!0).forEach(function(r){lq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lq(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uq(t,e,n,r){r.debug;var i=aq({},n);return t&&Kc(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function cq(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:G1).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(E){return E}:typeof t.serialize=="function"?a=t.serialize:a=dq;var l=t.writeFailHandler||null,u={},c={},d=[],f=null,p=null,v=function(E){Object.keys(E).forEach(function(k){y(k)&&u[k]!==E[k]&&d.indexOf(k)===-1&&d.push(k)}),Object.keys(u).forEach(function(k){E[k]===void 0&&y(k)&&d.indexOf(k)===-1&&u[k]!==void 0&&d.push(k)}),f===null&&(f=setInterval(m,i)),u=E};function m(){if(d.length===0){f&&clearInterval(f),f=null;return}var _=d.shift(),E=r.reduce(function(k,I){return I.in(k,_,u)},u[_]);if(E!==void 0)try{c[_]=a(E)}catch(k){console.error("redux-persist/createPersistoid: error serializing state",k)}else delete c[_];d.length===0&&S()}function S(){Object.keys(c).forEach(function(_){u[_]===void 0&&delete c[_]}),p=o.setItem(s,a(c)).catch(g)}function y(_){return!(n&&n.indexOf(_)===-1&&_!=="_persist"||e&&e.indexOf(_)!==-1)}function g(_){l&&l(_)}var w=function(){for(;d.length!==0;)m();return p||Promise.resolve()};return{update:v,flush:w}}function dq(t){return JSON.stringify(t)}function hq(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:G1).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=fq,r.getItem(n).then(function(s){if(s)try{var o={},a=i(s);return Object.keys(a).forEach(function(l){o[l]=e.reduceRight(function(u,c){return c.out(u,l,a)},i(a[l]))}),o}catch(l){throw l}else return})}function fq(t){return JSON.parse(t)}function pq(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:G1).concat(t.key);return e.removeItem(n,mq)}function mq(t){}function KS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KS(n,!0).forEach(function(r){gq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gq(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yq(t,e){if(t==null)return{};var n=vq(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vq(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var wq=5e3;function _q(t,e){var n=t.version!==void 0?t.version:oq;t.debug;var r=t.stateReconciler===void 0?uq:t.stateReconciler,i=t.getStoredState||hq,s=t.timeout!==void 0?t.timeout:wq,o=null,a=!1,l=!0,u=function(d){return d._persist.rehydrated&&o&&!l&&o.update(d),d};return function(c,d){var f=c||{},p=f._persist,v=yq(f,["_persist"]),m=v;if(d.type===X1){var S=!1,y=function(N,R){S||(d.rehydrate(t.key,N,R),S=!0)};if(s&&setTimeout(function(){!S&&y(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),l=!1,o||(o=cq(t)),p)return Lr({},e(m,d),{_persist:p});if(typeof d.rehydrate!="function"||typeof d.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(t.key),i(t).then(function(I){var N=t.migrate||function(R,D){return Promise.resolve(R)};N(I,n).then(function(R){y(R)},function(R){y(void 0,R)})},function(I){y(void 0,I)}),Lr({},e(m,d),{_persist:{version:n,rehydrated:!1}})}else{if(d.type===J1)return a=!0,d.result(pq(t)),Lr({},e(m,d),{_persist:p});if(d.type===Q1)return d.result(o&&o.flush()),Lr({},e(m,d),{_persist:p});if(d.type===Y1)l=!0;else if(d.type===Nf){if(a)return Lr({},m,{_persist:Lr({},p,{rehydrated:!0})});if(d.key===t.key){var g=e(m,d),w=d.payload,_=r!==!1&&w!==void 0?r(w,c,g,t):g,E=Lr({},_,{_persist:Lr({},p,{rehydrated:!0})});return u(E)}}}if(!p)return e(c,d);var k=e(m,d);return k===m?c:u(Lr({},k,{_persist:p}))}}function GS(t){return Cq(t)||Eq(t)||Sq()}function Sq(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Eq(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function Cq(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function QS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ey(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QS(n,!0).forEach(function(r){Tq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tq(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E2={registry:[],bootstrapped:!1},kq=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E2,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Z1:return ey({},e,{registry:[].concat(GS(e.registry),[n.key])});case Nf:var r=e.registry.indexOf(n.key),i=GS(e.registry);return i.splice(r,1),ey({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function Iq(t,e,n){var r=n||!1,i=pv(kq,E2,e&&e.enhancer?e.enhancer:void 0),s=function(u){i.dispatch({type:Z1,key:u})},o=function(u,c,d){var f={type:Nf,payload:c,err:d,key:u};t.dispatch(f),i.dispatch(f),r&&a.getState().bootstrapped&&(r(),r=!1)},a=ey({},i,{purge:function(){var u=[];return t.dispatch({type:J1,result:function(d){u.push(d)}}),Promise.all(u)},flush:function(){var u=[];return t.dispatch({type:Q1,result:function(d){u.push(d)}}),Promise.all(u)},pause:function(){t.dispatch({type:Y1})},persist:function(){t.dispatch({type:X1,register:s,rehydrate:o})}});return e&&e.manualPersist||a.persist(),a}var e0={},t0={};t0.__esModule=!0;t0.default=Rq;function Gc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gc=function(n){return typeof n}:Gc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Gc(t)}function dm(){}var xq={getItem:dm,setItem:dm,removeItem:dm};function bq(t){if((typeof self>"u"?"undefined":Gc(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function Rq(t){var e="".concat(t,"Storage");return bq(e)?self[e]:xq}e0.__esModule=!0;e0.default=Lq;var Aq=Pq(t0);function Pq(t){return t&&t.__esModule?t:{default:t}}function Lq(t){var e=(0,Aq.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var C2=void 0,Nq=Oq(e0);function Oq(t){return t&&t.__esModule?t:{default:t}}var Dq=(0,Nq.default)("local");C2=Dq;const jq=VT({appReducer:qT.reducer,songsListReducer:Lf.reducer,userReducer:$u.reducer,musicPlayerReducer:Ea.reducer}),Mq={key:Fl.name,storage:C2},$q=_q(Mq,jq),T2=OD({reducer:$q,middleware:t=>t({serializableCheck:{ignoredActions:[Q1,Nf,Y1,X1,J1,Z1]}})}),Uq=Iq(T2);function Fq(){return h.jsx(sL,{store:T2,children:h.jsx(UH,{maxToast:5,children:h.jsx(yT,{loading:null,persistor:Uq,children:h.jsx(sq,{})})})})}const Vq=document.getElementById("root"),zq=oT(Vq);zq.render(h.jsx(T.StrictMode,{children:h.jsx(Fq,{})}));
