function PR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const NR="AKfycbxGD1Lys79Ixt4BQ5mfH3ylX4_ZvtSGUFHltMILILPBWtcdPoSlI3FD5Ir8OcwtBA",LR=`https://script.google.com/macros/s/${NR}/exec`;function OR(t,e){console.error("analyticsAPI",`${t}:`,e)}function hp(...t){console.log("analyticsAPI",...t)}async function DR({spreadsheetId:t,sheetName:e,sheetIndex:n,titlesParams:r,indexesParams:i,type:s,col:o,row:a,value:l}){const u=new URLSearchParams;return t&&u.append("spreadsheetId",t),e&&u.append("sheetName",e),n&&u.append("sheetIndex",n.toString()),r&&u.append("titlesParams",JSON.stringify(r)),i&&u.append("indexesParams",JSON.stringify(i)),s&&u.append("type",s),o&&u.append("col",o.toString()),a&&u.append("row",a.toString()),l&&u.append("value",l.toString()),fetch(`${LR}?${u}`,{method:"POST"}).then(c=>c.text()).then(c=>JSON.parse(c)).then(c=>(c.status!=="success"&&(hp("doPost",c.status),hp("doPost",c.info),hp("doPost",c.error)),c)).catch(c=>OR("doPost",c))}async function jR({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){return DR({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED"}).then(i=>i)}const MR={postTitledColumnsDataByTitles:jR};async function $R(){try{return{ip:(await(await fetch("https://api.ipify.org?format=json")).json()).ip,status:"success"}}catch(t){return{error:t,status:"error"}}}const UR={fetchIP:$R},GS={appsscript:MR,ipify:UR};function FR(){const t=navigator.userAgent;let e,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE",version:e[1]||""}):n[1]==="Chrome"&&(e=t.match(/\bOPR|Edge\/(\d+)/),e!=null)?{name:"Opera",version:e[1]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],(e=t.match(/version\/(\d+)/i))!=null&&n.splice(1,1,e[1]),{name:n[0],version:n[1]})}function VR(){return/Android/i.test(navigator.userAgent)?"Android":/webOS/i.test(navigator.userAgent)?"webOS":/iPhone/i.test(navigator.userAgent)?"iPhone":/iPad/i.test(navigator.userAgent)?"iPad":/iPod/i.test(navigator.userAgent)?"iPod":/BlackBerry/i.test(navigator.userAgent)?"BlackBerry":/IEMobile/i.test(navigator.userAgent)?"IEMobile":/Opera Mini/i.test(navigator.userAgent)?"Opera Mini":null}async function zR(){const t=await GS.ipify.fetchIP();return{ip:t.status==="success"?t.ip:"",time:new Date().toString(),timezone:new Date().getTimezoneOffset()/60,language:window.navigator.language,languages:[...window.navigator.languages],mobile:VR()||"",page:window.location.pathname,referrer:document.referrer,browser:FR(),screenWidth:window.screen.width,screenHeight:window.screen.height,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight}}const BR="156bmyJELUA_4HS995nK2KNl4NAgBkxh-OQrQT2jEjO4";async function HR(){const t=await zR(),{ip:e,page:n,time:r,language:i,languages:s,browser:o,mobile:a,screenHeight:l,screenWidth:u,viewportHeight:c,viewportWidth:f}=t;await GS.appsscript.postTitledColumnsDataByTitles({spreadsheetId:BR,titlesParams:{ip:e,page:n,time:r,language:i,languages:s.join(" | "),browser:o.name,version:o.version,mobile:a,screenHeight:l,screenWidth:u,viewportHeight:c,viewportWidth:f}})}HR();var qR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function KS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var d={},WR={get exports(){return d},set exports(t){d=t}},Rf={},T={},GR={get exports(){return T},set exports(t){T=t}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xu=Symbol.for("react.element"),KR=Symbol.for("react.portal"),QR=Symbol.for("react.fragment"),YR=Symbol.for("react.strict_mode"),XR=Symbol.for("react.profiler"),JR=Symbol.for("react.provider"),ZR=Symbol.for("react.context"),eA=Symbol.for("react.forward_ref"),tA=Symbol.for("react.suspense"),nA=Symbol.for("react.memo"),rA=Symbol.for("react.lazy"),q0=Symbol.iterator;function iA(t){return t===null||typeof t!="object"?null:(t=q0&&t[q0]||t["@@iterator"],typeof t=="function"?t:null)}var QS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},YS=Object.assign,XS={};function _a(t,e,n){this.props=t,this.context=e,this.refs=XS,this.updater=n||QS}_a.prototype.isReactComponent={};_a.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_a.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function JS(){}JS.prototype=_a.prototype;function Uy(t,e,n){this.props=t,this.context=e,this.refs=XS,this.updater=n||QS}var Fy=Uy.prototype=new JS;Fy.constructor=Uy;YS(Fy,_a.prototype);Fy.isPureReactComponent=!0;var W0=Array.isArray,ZS=Object.prototype.hasOwnProperty,Vy={current:null},eC={key:!0,ref:!0,__self:!0,__source:!0};function tC(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ZS.call(e,r)&&!eC.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:xu,type:t,key:s,ref:o,props:i,_owner:Vy.current}}function sA(t,e){return{$$typeof:xu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zy(t){return typeof t=="object"&&t!==null&&t.$$typeof===xu}function oA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var G0=/\/+/g;function pp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oA(""+t.key):e.toString(36)}function Uc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xu:case KR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+pp(o,0):r,W0(i)?(n="",t!=null&&(n=t.replace(G0,"$&/")+"/"),Uc(i,e,n,"",function(u){return u})):i!=null&&(zy(i)&&(i=sA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(G0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",W0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+pp(s,a);o+=Uc(s,e,n,l,i)}else if(l=iA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+pp(s,a++),o+=Uc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function oc(t,e,n){if(t==null)return t;var r=[],i=0;return Uc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function aA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mn={current:null},Fc={transition:null},lA={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:Fc,ReactCurrentOwner:Vy};Ie.Children={map:oc,forEach:function(t,e,n){oc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return oc(t,function(){e++}),e},toArray:function(t){return oc(t,function(e){return e})||[]},only:function(t){if(!zy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=_a;Ie.Fragment=QR;Ie.Profiler=XR;Ie.PureComponent=Uy;Ie.StrictMode=YR;Ie.Suspense=tA;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lA;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=YS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Vy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ZS.call(e,l)&&!eC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:xu,type:t.type,key:i,ref:s,props:r,_owner:o}};Ie.createContext=function(t){return t={$$typeof:ZR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JR,_context:t},t.Consumer=t};Ie.createElement=tC;Ie.createFactory=function(t){var e=tC.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:eA,render:t}};Ie.isValidElement=zy;Ie.lazy=function(t){return{$$typeof:rA,_payload:{_status:-1,_result:t},_init:aA}};Ie.memo=function(t,e){return{$$typeof:nA,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=Fc.transition;Fc.transition={};try{t()}finally{Fc.transition=e}};Ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ie.useCallback=function(t,e){return mn.current.useCallback(t,e)};Ie.useContext=function(t){return mn.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return mn.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return mn.current.useEffect(t,e)};Ie.useId=function(){return mn.current.useId()};Ie.useImperativeHandle=function(t,e,n){return mn.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return mn.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return mn.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return mn.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return mn.current.useReducer(t,e,n)};Ie.useRef=function(t){return mn.current.useRef(t)};Ie.useState=function(t){return mn.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return mn.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return mn.current.useTransition()};Ie.version="18.2.0";(function(t){t.exports=Ie})(GR);const Wr=KS(T),Km=PR({__proto__:null,default:Wr},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uA=T,cA=Symbol.for("react.element"),dA=Symbol.for("react.fragment"),fA=Object.prototype.hasOwnProperty,hA=uA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pA={key:!0,ref:!0,__self:!0,__source:!0};function nC(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)fA.call(e,r)&&!pA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:cA,type:t,key:s,ref:o,props:i,_owner:hA.current}}Rf.Fragment=dA;Rf.jsx=nC;Rf.jsxs=nC;(function(t){t.exports=Rf})(WR);var Fl={},mA={get exports(){return Fl},set exports(t){Fl=t}},Un={},Qm={},gA={get exports(){return Qm},set exports(t){Qm=t}},rC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,oe){var Y=q.length;q.push(oe);e:for(;0<Y;){var be=Y-1>>>1,ze=q[be];if(0<i(ze,oe))q[be]=oe,q[Y]=ze,Y=be;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var oe=q[0],Y=q.pop();if(Y!==oe){q[0]=Y;e:for(var be=0,ze=q.length,Bn=ze>>>1;be<Bn;){var Ge=2*(be+1)-1,nr=q[Ge],Ze=Ge+1,mt=q[Ze];if(0>i(nr,Y))Ze<ze&&0>i(mt,nr)?(q[be]=mt,q[Ze]=Y,be=Ze):(q[be]=nr,q[Ge]=Y,be=Ge);else if(Ze<ze&&0>i(mt,Y))q[be]=mt,q[Ze]=Y,be=Ze;else break e}}return oe}function i(q,oe){var Y=q.sortIndex-oe.sortIndex;return Y!==0?Y:q.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,p=!1,v=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(q){for(var oe=n(u);oe!==null;){if(oe.callback===null)r(u);else if(oe.startTime<=q)r(u),oe.sortIndex=oe.expirationTime,e(l,oe);else break;oe=n(u)}}function E(q){if(w=!1,_(q),!v)if(n(l)!==null)v=!0,je(S);else{var oe=n(u);oe!==null&&pt(E,oe.startTime-q)}}function S(q,oe){v=!1,w&&(w=!1,g(P),P=-1),p=!0;var Y=h;try{for(_(oe),f=n(l);f!==null&&(!(f.expirationTime>oe)||q&&!W());){var be=f.callback;if(typeof be=="function"){f.callback=null,h=f.priorityLevel;var ze=be(f.expirationTime<=oe);oe=t.unstable_now(),typeof ze=="function"?f.callback=ze:f===n(l)&&r(l),_(oe)}else r(l);f=n(l)}if(f!==null)var Bn=!0;else{var Ge=n(u);Ge!==null&&pt(E,Ge.startTime-oe),Bn=!1}return Bn}finally{f=null,h=Y,p=!1}}var x=!1,I=null,P=-1,R=5,O=-1;function W(){return!(t.unstable_now()-O<R)}function $(){if(I!==null){var q=t.unstable_now();O=q;var oe=!0;try{oe=I(!0,q)}finally{oe?U():(x=!1,I=null)}}else x=!1}var U;if(typeof m=="function")U=function(){m($)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Se=le.port2;le.port1.onmessage=$,U=function(){Se.postMessage(null)}}else U=function(){y($,0)};function je(q){I=q,x||(x=!0,U())}function pt(q,oe){P=y(function(){q(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,je(S))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(h){case 1:case 2:case 3:var oe=3;break;default:oe=h}var Y=h;h=oe;try{return q()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,oe){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Y=h;h=q;try{return oe()}finally{h=Y}},t.unstable_scheduleCallback=function(q,oe,Y){var be=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?be+Y:be):Y=be,q){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=Y+ze,q={id:c++,callback:oe,priorityLevel:q,startTime:Y,expirationTime:ze,sortIndex:-1},Y>be?(q.sortIndex=Y,e(u,q),n(l)===null&&q===n(u)&&(w?(g(P),P=-1):w=!0,pt(E,Y-be))):(q.sortIndex=ze,e(l,q),v||p||(v=!0,je(S))),q},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(q){var oe=h;return function(){var Y=h;h=oe;try{return q.apply(this,arguments)}finally{h=Y}}}})(rC);(function(t){t.exports=rC})(gA);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iC=T,jn=Qm;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sC=new Set,Vl={};function Zs(t,e){ea(t,e),ea(t+"Capture",e)}function ea(t,e){for(Vl[t]=e,t=0;t<e.length;t++)sC.add(e[t])}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ym=Object.prototype.hasOwnProperty,yA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,K0={},Q0={};function vA(t){return Ym.call(Q0,t)?!0:Ym.call(K0,t)?!1:yA.test(t)?Q0[t]=!0:(K0[t]=!0,!1)}function wA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _A(t,e,n,r){if(e===null||typeof e>"u"||wA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ht[t]=new gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ht[e]=new gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ht[t]=new gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ht[t]=new gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ht[t]=new gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ht[t]=new gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ht[t]=new gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ht[t]=new gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ht[t]=new gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var By=/[\-:]([a-z])/g;function Hy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(By,Hy);Ht[e]=new gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(By,Hy);Ht[e]=new gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(By,Hy);Ht[e]=new gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ht[t]=new gn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ht[t]=new gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function qy(t,e,n,r){var i=Ht.hasOwnProperty(e)?Ht[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_A(e,n,i,r)&&(n=null),r||i===null?vA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var mi=iC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ac=Symbol.for("react.element"),Co=Symbol.for("react.portal"),To=Symbol.for("react.fragment"),Wy=Symbol.for("react.strict_mode"),Xm=Symbol.for("react.profiler"),oC=Symbol.for("react.provider"),aC=Symbol.for("react.context"),Gy=Symbol.for("react.forward_ref"),Jm=Symbol.for("react.suspense"),Zm=Symbol.for("react.suspense_list"),Ky=Symbol.for("react.memo"),Ci=Symbol.for("react.lazy"),lC=Symbol.for("react.offscreen"),Y0=Symbol.iterator;function za(t){return t===null||typeof t!="object"?null:(t=Y0&&t[Y0]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Object.assign,mp;function al(t){if(mp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mp=e&&e[1]||""}return`
`+mp+t}var gp=!1;function yp(t,e){if(!t||gp)return"";gp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{gp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?al(t):""}function EA(t){switch(t.tag){case 5:return al(t.type);case 16:return al("Lazy");case 13:return al("Suspense");case 19:return al("SuspenseList");case 0:case 2:case 15:return t=yp(t.type,!1),t;case 11:return t=yp(t.type.render,!1),t;case 1:return t=yp(t.type,!0),t;default:return""}}function eg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case To:return"Fragment";case Co:return"Portal";case Xm:return"Profiler";case Wy:return"StrictMode";case Jm:return"Suspense";case Zm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case aC:return(t.displayName||"Context")+".Consumer";case oC:return(t._context.displayName||"Context")+".Provider";case Gy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ky:return e=t.displayName||null,e!==null?e:eg(t.type)||"Memo";case Ci:e=t._payload,t=t._init;try{return eg(t(e))}catch{}}return null}function SA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eg(e);case 8:return e===Wy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CA(t){var e=uC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lc(t){t._valueTracker||(t._valueTracker=CA(t))}function cC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=uC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tg(t,e){var n=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function X0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dC(t,e){e=e.checked,e!=null&&qy(t,"checked",e,!1)}function ng(t,e){dC(t,e);var n=Qi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rg(t,e.type,n):e.hasOwnProperty("defaultValue")&&rg(t,e.type,Qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function J0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rg(t,e,n){(e!=="number"||yd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ll=Array.isArray;function Fo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ig(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Z0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(ll(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qi(n)}}function fC(t,e){var n=Qi(e.value),r=Qi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ew(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uc,pC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uc=uc||document.createElement("div"),uc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TA=["Webkit","ms","Moz","O"];Object.keys(wl).forEach(function(t){TA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wl[e]=wl[t]})});function mC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wl.hasOwnProperty(t)&&wl[t]?(""+e).trim():e+"px"}function gC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=mC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var xA=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function og(t,e){if(e){if(xA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function ag(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lg=null;function Qy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ug=null,Vo=null,zo=null;function tw(t){if(t=bu(t)){if(typeof ug!="function")throw Error(F(280));var e=t.stateNode;e&&(e=Of(e),ug(t.stateNode,t.type,e))}}function yC(t){Vo?zo?zo.push(t):zo=[t]:Vo=t}function vC(){if(Vo){var t=Vo,e=zo;if(zo=Vo=null,tw(t),e)for(t=0;t<e.length;t++)tw(e[t])}}function wC(t,e){return t(e)}function _C(){}var vp=!1;function EC(t,e,n){if(vp)return t(e,n);vp=!0;try{return wC(t,e,n)}finally{vp=!1,(Vo!==null||zo!==null)&&(_C(),vC())}}function Bl(t,e){var n=t.stateNode;if(n===null)return null;var r=Of(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var cg=!1;if(ii)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){cg=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{cg=!1}function IA(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var _l=!1,vd=null,wd=!1,dg=null,kA={onError:function(t){_l=!0,vd=t}};function bA(t,e,n,r,i,s,o,a,l){_l=!1,vd=null,IA.apply(kA,arguments)}function RA(t,e,n,r,i,s,o,a,l){if(bA.apply(this,arguments),_l){if(_l){var u=vd;_l=!1,vd=null}else throw Error(F(198));wd||(wd=!0,dg=u)}}function eo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function SC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nw(t){if(eo(t)!==t)throw Error(F(188))}function AA(t){var e=t.alternate;if(!e){if(e=eo(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return nw(i),t;if(s===r)return nw(i),e;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function CC(t){return t=AA(t),t!==null?TC(t):null}function TC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=TC(t);if(e!==null)return e;t=t.sibling}return null}var xC=jn.unstable_scheduleCallback,rw=jn.unstable_cancelCallback,PA=jn.unstable_shouldYield,NA=jn.unstable_requestPaint,ht=jn.unstable_now,LA=jn.unstable_getCurrentPriorityLevel,Yy=jn.unstable_ImmediatePriority,IC=jn.unstable_UserBlockingPriority,_d=jn.unstable_NormalPriority,OA=jn.unstable_LowPriority,kC=jn.unstable_IdlePriority,Af=null,br=null;function DA(t){if(br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(Af,t,void 0,(t.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:$A,jA=Math.log,MA=Math.LN2;function $A(t){return t>>>=0,t===0?32:31-(jA(t)/MA|0)|0}var cc=64,dc=4194304;function ul(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ed(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ul(a):(s&=o,s!==0&&(r=ul(s)))}else o=n&~i,o!==0?r=ul(o):s!==0&&(r=ul(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hr(e),i=1<<n,r|=t[n],e&=~i;return r}function UA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-hr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=UA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function fg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bC(){var t=cc;return cc<<=1,!(cc&4194240)&&(cc=64),t}function wp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Iu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hr(e),t[e]=n}function VA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Xy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ue=0;function RC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var AC,Jy,PC,NC,LC,hg=!1,fc=[],Di=null,ji=null,Mi=null,Hl=new Map,ql=new Map,xi=[],zA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iw(t,e){switch(t){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":Hl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(e.pointerId)}}function Ha(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=bu(e),e!==null&&Jy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function BA(t,e,n,r,i){switch(e){case"focusin":return Di=Ha(Di,t,e,n,r,i),!0;case"dragenter":return ji=Ha(ji,t,e,n,r,i),!0;case"mouseover":return Mi=Ha(Mi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Hl.set(s,Ha(Hl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ql.set(s,Ha(ql.get(s)||null,t,e,n,r,i)),!0}return!1}function OC(t){var e=_s(t.target);if(e!==null){var n=eo(e);if(n!==null){if(e=n.tag,e===13){if(e=SC(n),e!==null){t.blockedOn=e,LC(t.priority,function(){PC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lg=r,n.target.dispatchEvent(r),lg=null}else return e=bu(n),e!==null&&Jy(e),t.blockedOn=n,!1;e.shift()}return!0}function sw(t,e,n){Vc(t)&&n.delete(e)}function HA(){hg=!1,Di!==null&&Vc(Di)&&(Di=null),ji!==null&&Vc(ji)&&(ji=null),Mi!==null&&Vc(Mi)&&(Mi=null),Hl.forEach(sw),ql.forEach(sw)}function qa(t,e){t.blockedOn===e&&(t.blockedOn=null,hg||(hg=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,HA)))}function Wl(t){function e(i){return qa(i,t)}if(0<fc.length){qa(fc[0],t);for(var n=1;n<fc.length;n++){var r=fc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Di!==null&&qa(Di,t),ji!==null&&qa(ji,t),Mi!==null&&qa(Mi,t),Hl.forEach(e),ql.forEach(e),n=0;n<xi.length;n++)r=xi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xi.length&&(n=xi[0],n.blockedOn===null);)OC(n),n.blockedOn===null&&xi.shift()}var Bo=mi.ReactCurrentBatchConfig,Sd=!0;function qA(t,e,n,r){var i=Ue,s=Bo.transition;Bo.transition=null;try{Ue=1,Zy(t,e,n,r)}finally{Ue=i,Bo.transition=s}}function WA(t,e,n,r){var i=Ue,s=Bo.transition;Bo.transition=null;try{Ue=4,Zy(t,e,n,r)}finally{Ue=i,Bo.transition=s}}function Zy(t,e,n,r){if(Sd){var i=pg(t,e,n,r);if(i===null)Rp(t,e,r,Cd,n),iw(t,r);else if(BA(i,t,e,n,r))r.stopPropagation();else if(iw(t,r),e&4&&-1<zA.indexOf(t)){for(;i!==null;){var s=bu(i);if(s!==null&&AC(s),s=pg(t,e,n,r),s===null&&Rp(t,e,r,Cd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Rp(t,e,r,null,n)}}var Cd=null;function pg(t,e,n,r){if(Cd=null,t=Qy(r),t=_s(t),t!==null)if(e=eo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=SC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cd=t,null}function DC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LA()){case Yy:return 1;case IC:return 4;case _d:case OA:return 16;case kC:return 536870912;default:return 16}default:return 16}}var Ni=null,ev=null,zc=null;function jC(){if(zc)return zc;var t,e=ev,n=e.length,r,i="value"in Ni?Ni.value:Ni.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return zc=i.slice(t,1<r?1-r:void 0)}function Bc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hc(){return!0}function ow(){return!1}function Fn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hc:ow,this.isPropagationStopped=ow,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hc)},persist:function(){},isPersistent:hc}),e}var Ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tv=Fn(Ea),ku=lt({},Ea,{view:0,detail:0}),GA=Fn(ku),_p,Ep,Wa,Pf=lt({},ku,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wa&&(Wa&&t.type==="mousemove"?(_p=t.screenX-Wa.screenX,Ep=t.screenY-Wa.screenY):Ep=_p=0,Wa=t),_p)},movementY:function(t){return"movementY"in t?t.movementY:Ep}}),aw=Fn(Pf),KA=lt({},Pf,{dataTransfer:0}),QA=Fn(KA),YA=lt({},ku,{relatedTarget:0}),Sp=Fn(YA),XA=lt({},Ea,{animationName:0,elapsedTime:0,pseudoElement:0}),JA=Fn(XA),ZA=lt({},Ea,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eP=Fn(ZA),tP=lt({},Ea,{data:0}),lw=Fn(tP),nP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iP[t])?!!e[t]:!1}function nv(){return sP}var oP=lt({},ku,{key:function(t){if(t.key){var e=nP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nv,charCode:function(t){return t.type==="keypress"?Bc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aP=Fn(oP),lP=lt({},Pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uw=Fn(lP),uP=lt({},ku,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nv}),cP=Fn(uP),dP=lt({},Ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),fP=Fn(dP),hP=lt({},Pf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pP=Fn(hP),mP=[9,13,27,32],rv=ii&&"CompositionEvent"in window,El=null;ii&&"documentMode"in document&&(El=document.documentMode);var gP=ii&&"TextEvent"in window&&!El,MC=ii&&(!rv||El&&8<El&&11>=El),cw=String.fromCharCode(32),dw=!1;function $C(t,e){switch(t){case"keyup":return mP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xo=!1;function yP(t,e){switch(t){case"compositionend":return UC(e);case"keypress":return e.which!==32?null:(dw=!0,cw);case"textInput":return t=e.data,t===cw&&dw?null:t;default:return null}}function vP(t,e){if(xo)return t==="compositionend"||!rv&&$C(t,e)?(t=jC(),zc=ev=Ni=null,xo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return MC&&e.locale!=="ko"?null:e.data;default:return null}}var wP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wP[t.type]:e==="textarea"}function FC(t,e,n,r){yC(r),e=Td(e,"onChange"),0<e.length&&(n=new tv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Sl=null,Gl=null;function _P(t){XC(t,0)}function Nf(t){var e=bo(t);if(cC(e))return t}function EP(t,e){if(t==="change")return e}var VC=!1;if(ii){var Cp;if(ii){var Tp="oninput"in document;if(!Tp){var hw=document.createElement("div");hw.setAttribute("oninput","return;"),Tp=typeof hw.oninput=="function"}Cp=Tp}else Cp=!1;VC=Cp&&(!document.documentMode||9<document.documentMode)}function pw(){Sl&&(Sl.detachEvent("onpropertychange",zC),Gl=Sl=null)}function zC(t){if(t.propertyName==="value"&&Nf(Gl)){var e=[];FC(e,Gl,t,Qy(t)),EC(_P,e)}}function SP(t,e,n){t==="focusin"?(pw(),Sl=e,Gl=n,Sl.attachEvent("onpropertychange",zC)):t==="focusout"&&pw()}function CP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nf(Gl)}function TP(t,e){if(t==="click")return Nf(e)}function xP(t,e){if(t==="input"||t==="change")return Nf(e)}function IP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gr=typeof Object.is=="function"?Object.is:IP;function Kl(t,e){if(gr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ym.call(e,i)||!gr(t[i],e[i]))return!1}return!0}function mw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gw(t,e){var n=mw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mw(n)}}function BC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?BC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function HC(){for(var t=window,e=yd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yd(t.document)}return e}function iv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kP(t){var e=HC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&BC(n.ownerDocument.documentElement,n)){if(r!==null&&iv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=gw(n,s);var o=gw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bP=ii&&"documentMode"in document&&11>=document.documentMode,Io=null,mg=null,Cl=null,gg=!1;function yw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gg||Io==null||Io!==yd(r)||(r=Io,"selectionStart"in r&&iv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cl&&Kl(Cl,r)||(Cl=r,r=Td(mg,"onSelect"),0<r.length&&(e=new tv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Io)))}function pc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ko={animationend:pc("Animation","AnimationEnd"),animationiteration:pc("Animation","AnimationIteration"),animationstart:pc("Animation","AnimationStart"),transitionend:pc("Transition","TransitionEnd")},xp={},qC={};ii&&(qC=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function Lf(t){if(xp[t])return xp[t];if(!ko[t])return t;var e=ko[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qC)return xp[t]=e[n];return t}var WC=Lf("animationend"),GC=Lf("animationiteration"),KC=Lf("animationstart"),QC=Lf("transitionend"),YC=new Map,vw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rs(t,e){YC.set(t,e),Zs(e,[t])}for(var Ip=0;Ip<vw.length;Ip++){var kp=vw[Ip],RP=kp.toLowerCase(),AP=kp[0].toUpperCase()+kp.slice(1);rs(RP,"on"+AP)}rs(WC,"onAnimationEnd");rs(GC,"onAnimationIteration");rs(KC,"onAnimationStart");rs("dblclick","onDoubleClick");rs("focusin","onFocus");rs("focusout","onBlur");rs(QC,"onTransitionEnd");ea("onMouseEnter",["mouseout","mouseover"]);ea("onMouseLeave",["mouseout","mouseover"]);ea("onPointerEnter",["pointerout","pointerover"]);ea("onPointerLeave",["pointerout","pointerover"]);Zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PP=new Set("cancel close invalid load scroll toggle".split(" ").concat(cl));function ww(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,RA(r,e,void 0,t),t.currentTarget=null}function XC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;ww(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;ww(i,a,u),s=l}}}if(wd)throw t=dg,wd=!1,dg=null,t}function Ke(t,e){var n=e[Eg];n===void 0&&(n=e[Eg]=new Set);var r=t+"__bubble";n.has(r)||(JC(e,t,2,!1),n.add(r))}function bp(t,e,n){var r=0;e&&(r|=4),JC(n,t,r,e)}var mc="_reactListening"+Math.random().toString(36).slice(2);function Ql(t){if(!t[mc]){t[mc]=!0,sC.forEach(function(n){n!=="selectionchange"&&(PP.has(n)||bp(n,!1,t),bp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mc]||(e[mc]=!0,bp("selectionchange",!1,e))}}function JC(t,e,n,r){switch(DC(e)){case 1:var i=qA;break;case 4:i=WA;break;default:i=Zy}n=i.bind(null,e,n,t),i=void 0,!cg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Rp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=_s(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}EC(function(){var u=s,c=Qy(n),f=[];e:{var h=YC.get(t);if(h!==void 0){var p=tv,v=t;switch(t){case"keypress":if(Bc(n)===0)break e;case"keydown":case"keyup":p=aP;break;case"focusin":v="focus",p=Sp;break;case"focusout":v="blur",p=Sp;break;case"beforeblur":case"afterblur":p=Sp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=aw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=QA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=cP;break;case WC:case GC:case KC:p=JA;break;case QC:p=fP;break;case"scroll":p=GA;break;case"wheel":p=pP;break;case"copy":case"cut":case"paste":p=eP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=uw}var w=(e&4)!==0,y=!w&&t==="scroll",g=w?h!==null?h+"Capture":null:h;w=[];for(var m=u,_;m!==null;){_=m;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,g!==null&&(E=Bl(m,g),E!=null&&w.push(Yl(m,E,_)))),y)break;m=m.return}0<w.length&&(h=new p(h,v,null,n,c),f.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==lg&&(v=n.relatedTarget||n.fromElement)&&(_s(v)||v[si]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?_s(v):null,v!==null&&(y=eo(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(w=aw,E="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=uw,E="onPointerLeave",g="onPointerEnter",m="pointer"),y=p==null?h:bo(p),_=v==null?h:bo(v),h=new w(E,m+"leave",p,n,c),h.target=y,h.relatedTarget=_,E=null,_s(c)===u&&(w=new w(g,m+"enter",v,n,c),w.target=_,w.relatedTarget=y,E=w),y=E,p&&v)t:{for(w=p,g=v,m=0,_=w;_;_=go(_))m++;for(_=0,E=g;E;E=go(E))_++;for(;0<m-_;)w=go(w),m--;for(;0<_-m;)g=go(g),_--;for(;m--;){if(w===g||g!==null&&w===g.alternate)break t;w=go(w),g=go(g)}w=null}else w=null;p!==null&&_w(f,h,p,w,!1),v!==null&&y!==null&&_w(f,y,v,w,!0)}}e:{if(h=u?bo(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=EP;else if(fw(h))if(VC)S=xP;else{S=CP;var x=SP}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=TP);if(S&&(S=S(t,u))){FC(f,S,n,c);break e}x&&x(t,h,u),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&rg(h,"number",h.value)}switch(x=u?bo(u):window,t){case"focusin":(fw(x)||x.contentEditable==="true")&&(Io=x,mg=u,Cl=null);break;case"focusout":Cl=mg=Io=null;break;case"mousedown":gg=!0;break;case"contextmenu":case"mouseup":case"dragend":gg=!1,yw(f,n,c);break;case"selectionchange":if(bP)break;case"keydown":case"keyup":yw(f,n,c)}var I;if(rv)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else xo?$C(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(MC&&n.locale!=="ko"&&(xo||P!=="onCompositionStart"?P==="onCompositionEnd"&&xo&&(I=jC()):(Ni=c,ev="value"in Ni?Ni.value:Ni.textContent,xo=!0)),x=Td(u,P),0<x.length&&(P=new lw(P,t,null,n,c),f.push({event:P,listeners:x}),I?P.data=I:(I=UC(n),I!==null&&(P.data=I)))),(I=gP?yP(t,n):vP(t,n))&&(u=Td(u,"onBeforeInput"),0<u.length&&(c=new lw("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=I))}XC(f,e)})}function Yl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Td(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Bl(t,n),s!=null&&r.unshift(Yl(t,s,i)),s=Bl(t,e),s!=null&&r.push(Yl(t,s,i))),t=t.return}return r}function go(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _w(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Bl(n,s),l!=null&&o.unshift(Yl(n,l,a))):i||(l=Bl(n,s),l!=null&&o.push(Yl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var NP=/\r\n?/g,LP=/\u0000|\uFFFD/g;function Ew(t){return(typeof t=="string"?t:""+t).replace(NP,`
`).replace(LP,"")}function gc(t,e,n){if(e=Ew(e),Ew(t)!==e&&n)throw Error(F(425))}function xd(){}var yg=null,vg=null;function wg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _g=typeof setTimeout=="function"?setTimeout:void 0,OP=typeof clearTimeout=="function"?clearTimeout:void 0,Sw=typeof Promise=="function"?Promise:void 0,DP=typeof queueMicrotask=="function"?queueMicrotask:typeof Sw<"u"?function(t){return Sw.resolve(null).then(t).catch(jP)}:_g;function jP(t){setTimeout(function(){throw t})}function Ap(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Wl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wl(e)}function $i(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Sa=Math.random().toString(36).slice(2),Cr="__reactFiber$"+Sa,Xl="__reactProps$"+Sa,si="__reactContainer$"+Sa,Eg="__reactEvents$"+Sa,MP="__reactListeners$"+Sa,$P="__reactHandles$"+Sa;function _s(t){var e=t[Cr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[si]||n[Cr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Cw(t);t!==null;){if(n=t[Cr])return n;t=Cw(t)}return e}t=n,n=t.parentNode}return null}function bu(t){return t=t[Cr]||t[si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function Of(t){return t[Xl]||null}var Sg=[],Ro=-1;function is(t){return{current:t}}function Ye(t){0>Ro||(t.current=Sg[Ro],Sg[Ro]=null,Ro--)}function qe(t,e){Ro++,Sg[Ro]=t.current,t.current=e}var Yi={},on=is(Yi),Sn=is(!1),Ms=Yi;function ta(t,e){var n=t.type.contextTypes;if(!n)return Yi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Cn(t){return t=t.childContextTypes,t!=null}function Id(){Ye(Sn),Ye(on)}function Tw(t,e,n){if(on.current!==Yi)throw Error(F(168));qe(on,e),qe(Sn,n)}function ZC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,SA(t)||"Unknown",i));return lt({},n,r)}function kd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yi,Ms=on.current,qe(on,t),qe(Sn,Sn.current),!0}function xw(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=ZC(t,e,Ms),r.__reactInternalMemoizedMergedChildContext=t,Ye(Sn),Ye(on),qe(on,t)):Ye(Sn),qe(Sn,n)}var Hr=null,Df=!1,Pp=!1;function eT(t){Hr===null?Hr=[t]:Hr.push(t)}function UP(t){Df=!0,eT(t)}function ss(){if(!Pp&&Hr!==null){Pp=!0;var t=0,e=Ue;try{var n=Hr;for(Ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hr=null,Df=!1}catch(i){throw Hr!==null&&(Hr=Hr.slice(t+1)),xC(Yy,ss),i}finally{Ue=e,Pp=!1}}return null}var Ao=[],Po=0,bd=null,Rd=0,qn=[],Wn=0,$s=null,Gr=1,Kr="";function ms(t,e){Ao[Po++]=Rd,Ao[Po++]=bd,bd=t,Rd=e}function tT(t,e,n){qn[Wn++]=Gr,qn[Wn++]=Kr,qn[Wn++]=$s,$s=t;var r=Gr;t=Kr;var i=32-hr(r)-1;r&=~(1<<i),n+=1;var s=32-hr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Gr=1<<32-hr(e)+i|n<<i|r,Kr=s+t}else Gr=1<<s|n<<i|r,Kr=t}function sv(t){t.return!==null&&(ms(t,1),tT(t,1,0))}function ov(t){for(;t===bd;)bd=Ao[--Po],Ao[Po]=null,Rd=Ao[--Po],Ao[Po]=null;for(;t===$s;)$s=qn[--Wn],qn[Wn]=null,Kr=qn[--Wn],qn[Wn]=null,Gr=qn[--Wn],qn[Wn]=null}var Nn=null,Rn=null,rt=!1,cr=null;function nT(t,e){var n=Gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Iw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nn=t,Rn=$i(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nn=t,Rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=$s!==null?{id:Gr,overflow:Kr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nn=t,Rn=null,!0):!1;default:return!1}}function Cg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tg(t){if(rt){var e=Rn;if(e){var n=e;if(!Iw(t,e)){if(Cg(t))throw Error(F(418));e=$i(n.nextSibling);var r=Nn;e&&Iw(t,e)?nT(r,n):(t.flags=t.flags&-4097|2,rt=!1,Nn=t)}}else{if(Cg(t))throw Error(F(418));t.flags=t.flags&-4097|2,rt=!1,Nn=t}}}function kw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nn=t}function yc(t){if(t!==Nn)return!1;if(!rt)return kw(t),rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wg(t.type,t.memoizedProps)),e&&(e=Rn)){if(Cg(t))throw rT(),Error(F(418));for(;e;)nT(t,e),e=$i(e.nextSibling)}if(kw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rn=$i(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rn=null}}else Rn=Nn?$i(t.stateNode.nextSibling):null;return!0}function rT(){for(var t=Rn;t;)t=$i(t.nextSibling)}function na(){Rn=Nn=null,rt=!1}function av(t){cr===null?cr=[t]:cr.push(t)}var FP=mi.ReactCurrentBatchConfig;function lr(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ad=is(null),Pd=null,No=null,lv=null;function uv(){lv=No=Pd=null}function cv(t){var e=Ad.current;Ye(Ad),t._currentValue=e}function xg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ho(t,e){Pd=t,lv=No=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(En=!0),t.firstContext=null)}function Qn(t){var e=t._currentValue;if(lv!==t)if(t={context:t,memoizedValue:e,next:null},No===null){if(Pd===null)throw Error(F(308));No=t,Pd.dependencies={lanes:0,firstContext:t}}else No=No.next=t;return e}var Es=null;function dv(t){Es===null?Es=[t]:Es.push(t)}function iT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,dv(e)):(n.next=i.next,i.next=n),e.interleaved=n,oi(t,r)}function oi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ti=!1;function fv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ui(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,oi(t,n)}return i=r.interleaved,i===null?(e.next=e,dv(r)):(e.next=i.next,i.next=e),r.interleaved=e,oi(t,n)}function Hc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xy(t,n)}}function bw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nd(t,e,n,r){var i=t.updateQueue;Ti=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(h=e,p=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=lt({},f,h);break e;case 2:Ti=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Fs|=o,t.lanes=o,t.memoizedState=f}}function Rw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var oT=new iC.Component().refs;function Ig(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:lt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var jf={isMounted:function(t){return(t=t._reactInternals)?eo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=pn(),i=Vi(t),s=Zr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ui(t,s,i),e!==null&&(pr(e,t,i,r),Hc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=pn(),i=Vi(t),s=Zr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ui(t,s,i),e!==null&&(pr(e,t,i,r),Hc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pn(),r=Vi(t),i=Zr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ui(t,i,r),e!==null&&(pr(e,t,r,n),Hc(e,t,r))}};function Aw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Kl(n,r)||!Kl(i,s):!0}function aT(t,e,n){var r=!1,i=Yi,s=e.contextType;return typeof s=="object"&&s!==null?s=Qn(s):(i=Cn(e)?Ms:on.current,r=e.contextTypes,s=(r=r!=null)?ta(t,i):Yi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Pw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&jf.enqueueReplaceState(e,e.state,null)}function kg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=oT,fv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Qn(s):(s=Cn(e)?Ms:on.current,i.context=ta(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ig(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&jf.enqueueReplaceState(i,i.state,null),Nd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ga(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===oT&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function vc(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Nw(t){var e=t._init;return e(t._payload)}function lT(t){function e(g,m){if(t){var _=g.deletions;_===null?(g.deletions=[m],g.flags|=16):_.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=zi(g,m),g.index=0,g.sibling=null,g}function s(g,m,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<m?(g.flags|=2,m):_):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,_,E){return m===null||m.tag!==6?(m=$p(_,g.mode,E),m.return=g,m):(m=i(m,_),m.return=g,m)}function l(g,m,_,E){var S=_.type;return S===To?c(g,m,_.props.children,E,_.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ci&&Nw(S)===m.type)?(E=i(m,_.props),E.ref=Ga(g,m,_),E.return=g,E):(E=Yc(_.type,_.key,_.props,null,g.mode,E),E.ref=Ga(g,m,_),E.return=g,E)}function u(g,m,_,E){return m===null||m.tag!==4||m.stateNode.containerInfo!==_.containerInfo||m.stateNode.implementation!==_.implementation?(m=Up(_,g.mode,E),m.return=g,m):(m=i(m,_.children||[]),m.return=g,m)}function c(g,m,_,E,S){return m===null||m.tag!==7?(m=Ns(_,g.mode,E,S),m.return=g,m):(m=i(m,_),m.return=g,m)}function f(g,m,_){if(typeof m=="string"&&m!==""||typeof m=="number")return m=$p(""+m,g.mode,_),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ac:return _=Yc(m.type,m.key,m.props,null,g.mode,_),_.ref=Ga(g,null,m),_.return=g,_;case Co:return m=Up(m,g.mode,_),m.return=g,m;case Ci:var E=m._init;return f(g,E(m._payload),_)}if(ll(m)||za(m))return m=Ns(m,g.mode,_,null),m.return=g,m;vc(g,m)}return null}function h(g,m,_,E){var S=m!==null?m.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(g,m,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ac:return _.key===S?l(g,m,_,E):null;case Co:return _.key===S?u(g,m,_,E):null;case Ci:return S=_._init,h(g,m,S(_._payload),E)}if(ll(_)||za(_))return S!==null?null:c(g,m,_,E,null);vc(g,_)}return null}function p(g,m,_,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(_)||null,a(m,g,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ac:return g=g.get(E.key===null?_:E.key)||null,l(m,g,E,S);case Co:return g=g.get(E.key===null?_:E.key)||null,u(m,g,E,S);case Ci:var x=E._init;return p(g,m,_,x(E._payload),S)}if(ll(E)||za(E))return g=g.get(_)||null,c(m,g,E,S,null);vc(m,E)}return null}function v(g,m,_,E){for(var S=null,x=null,I=m,P=m=0,R=null;I!==null&&P<_.length;P++){I.index>P?(R=I,I=null):R=I.sibling;var O=h(g,I,_[P],E);if(O===null){I===null&&(I=R);break}t&&I&&O.alternate===null&&e(g,I),m=s(O,m,P),x===null?S=O:x.sibling=O,x=O,I=R}if(P===_.length)return n(g,I),rt&&ms(g,P),S;if(I===null){for(;P<_.length;P++)I=f(g,_[P],E),I!==null&&(m=s(I,m,P),x===null?S=I:x.sibling=I,x=I);return rt&&ms(g,P),S}for(I=r(g,I);P<_.length;P++)R=p(I,g,P,_[P],E),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?P:R.key),m=s(R,m,P),x===null?S=R:x.sibling=R,x=R);return t&&I.forEach(function(W){return e(g,W)}),rt&&ms(g,P),S}function w(g,m,_,E){var S=za(_);if(typeof S!="function")throw Error(F(150));if(_=S.call(_),_==null)throw Error(F(151));for(var x=S=null,I=m,P=m=0,R=null,O=_.next();I!==null&&!O.done;P++,O=_.next()){I.index>P?(R=I,I=null):R=I.sibling;var W=h(g,I,O.value,E);if(W===null){I===null&&(I=R);break}t&&I&&W.alternate===null&&e(g,I),m=s(W,m,P),x===null?S=W:x.sibling=W,x=W,I=R}if(O.done)return n(g,I),rt&&ms(g,P),S;if(I===null){for(;!O.done;P++,O=_.next())O=f(g,O.value,E),O!==null&&(m=s(O,m,P),x===null?S=O:x.sibling=O,x=O);return rt&&ms(g,P),S}for(I=r(g,I);!O.done;P++,O=_.next())O=p(I,g,P,O.value,E),O!==null&&(t&&O.alternate!==null&&I.delete(O.key===null?P:O.key),m=s(O,m,P),x===null?S=O:x.sibling=O,x=O);return t&&I.forEach(function($){return e(g,$)}),rt&&ms(g,P),S}function y(g,m,_,E){if(typeof _=="object"&&_!==null&&_.type===To&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case ac:e:{for(var S=_.key,x=m;x!==null;){if(x.key===S){if(S=_.type,S===To){if(x.tag===7){n(g,x.sibling),m=i(x,_.props.children),m.return=g,g=m;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ci&&Nw(S)===x.type){n(g,x.sibling),m=i(x,_.props),m.ref=Ga(g,x,_),m.return=g,g=m;break e}n(g,x);break}else e(g,x);x=x.sibling}_.type===To?(m=Ns(_.props.children,g.mode,E,_.key),m.return=g,g=m):(E=Yc(_.type,_.key,_.props,null,g.mode,E),E.ref=Ga(g,m,_),E.return=g,g=E)}return o(g);case Co:e:{for(x=_.key;m!==null;){if(m.key===x)if(m.tag===4&&m.stateNode.containerInfo===_.containerInfo&&m.stateNode.implementation===_.implementation){n(g,m.sibling),m=i(m,_.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=Up(_,g.mode,E),m.return=g,g=m}return o(g);case Ci:return x=_._init,y(g,m,x(_._payload),E)}if(ll(_))return v(g,m,_,E);if(za(_))return w(g,m,_,E);vc(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,_),m.return=g,g=m):(n(g,m),m=$p(_,g.mode,E),m.return=g,g=m),o(g)):n(g,m)}return y}var ra=lT(!0),uT=lT(!1),Ru={},Rr=is(Ru),Jl=is(Ru),Zl=is(Ru);function Ss(t){if(t===Ru)throw Error(F(174));return t}function hv(t,e){switch(qe(Zl,e),qe(Jl,t),qe(Rr,Ru),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sg(e,t)}Ye(Rr),qe(Rr,e)}function ia(){Ye(Rr),Ye(Jl),Ye(Zl)}function cT(t){Ss(Zl.current);var e=Ss(Rr.current),n=sg(e,t.type);e!==n&&(qe(Jl,t),qe(Rr,n))}function pv(t){Jl.current===t&&(Ye(Rr),Ye(Jl))}var ot=is(0);function Ld(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Np=[];function mv(){for(var t=0;t<Np.length;t++)Np[t]._workInProgressVersionPrimary=null;Np.length=0}var qc=mi.ReactCurrentDispatcher,Lp=mi.ReactCurrentBatchConfig,Us=0,at=null,It=null,Ot=null,Od=!1,Tl=!1,eu=0,VP=0;function Gt(){throw Error(F(321))}function gv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gr(t[n],e[n]))return!1;return!0}function yv(t,e,n,r,i,s){if(Us=s,at=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qc.current=t===null||t.memoizedState===null?qP:WP,t=n(r,i),Tl){s=0;do{if(Tl=!1,eu=0,25<=s)throw Error(F(301));s+=1,Ot=It=null,e.updateQueue=null,qc.current=GP,t=n(r,i)}while(Tl)}if(qc.current=Dd,e=It!==null&&It.next!==null,Us=0,Ot=It=at=null,Od=!1,e)throw Error(F(300));return t}function vv(){var t=eu!==0;return eu=0,t}function Er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?at.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Yn(){if(It===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var e=Ot===null?at.memoizedState:Ot.next;if(e!==null)Ot=e,It=t;else{if(t===null)throw Error(F(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Ot===null?at.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function tu(t,e){return typeof e=="function"?e(t):e}function Op(t){var e=Yn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=It,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Us&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,at.lanes|=c,Fs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,gr(r,e.memoizedState)||(En=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,at.lanes|=s,Fs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dp(t){var e=Yn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);gr(s,e.memoizedState)||(En=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function dT(){}function fT(t,e){var n=at,r=Yn(),i=e(),s=!gr(r.memoizedState,i);if(s&&(r.memoizedState=i,En=!0),r=r.queue,wv(mT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ot!==null&&Ot.memoizedState.tag&1){if(n.flags|=2048,nu(9,pT.bind(null,n,r,i,e),void 0,null),Dt===null)throw Error(F(349));Us&30||hT(n,e,i)}return i}function hT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pT(t,e,n,r){e.value=n,e.getSnapshot=r,gT(e)&&yT(t)}function mT(t,e,n){return n(function(){gT(e)&&yT(t)})}function gT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gr(t,n)}catch{return!0}}function yT(t){var e=oi(t,1);e!==null&&pr(e,t,1,-1)}function Lw(t){var e=Er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tu,lastRenderedState:t},e.queue=t,t=t.dispatch=HP.bind(null,at,t),[e.memoizedState,t]}function nu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vT(){return Yn().memoizedState}function Wc(t,e,n,r){var i=Er();at.flags|=t,i.memoizedState=nu(1|e,n,void 0,r===void 0?null:r)}function Mf(t,e,n,r){var i=Yn();r=r===void 0?null:r;var s=void 0;if(It!==null){var o=It.memoizedState;if(s=o.destroy,r!==null&&gv(r,o.deps)){i.memoizedState=nu(e,n,s,r);return}}at.flags|=t,i.memoizedState=nu(1|e,n,s,r)}function Ow(t,e){return Wc(8390656,8,t,e)}function wv(t,e){return Mf(2048,8,t,e)}function wT(t,e){return Mf(4,2,t,e)}function _T(t,e){return Mf(4,4,t,e)}function ET(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ST(t,e,n){return n=n!=null?n.concat([t]):null,Mf(4,4,ET.bind(null,e,t),n)}function _v(){}function CT(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function TT(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function xT(t,e,n){return Us&21?(gr(n,e)||(n=bC(),at.lanes|=n,Fs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,En=!0),t.memoizedState=n)}function zP(t,e){var n=Ue;Ue=n!==0&&4>n?n:4,t(!0);var r=Lp.transition;Lp.transition={};try{t(!1),e()}finally{Ue=n,Lp.transition=r}}function IT(){return Yn().memoizedState}function BP(t,e,n){var r=Vi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kT(t))bT(e,n);else if(n=iT(t,e,n,r),n!==null){var i=pn();pr(n,t,r,i),RT(n,e,r)}}function HP(t,e,n){var r=Vi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kT(t))bT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,gr(a,o)){var l=e.interleaved;l===null?(i.next=i,dv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=iT(t,e,i,r),n!==null&&(i=pn(),pr(n,t,r,i),RT(n,e,r))}}function kT(t){var e=t.alternate;return t===at||e!==null&&e===at}function bT(t,e){Tl=Od=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xy(t,n)}}var Dd={readContext:Qn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},qP={readContext:Qn,useCallback:function(t,e){return Er().memoizedState=[t,e===void 0?null:e],t},useContext:Qn,useEffect:Ow,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wc(4194308,4,ET.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wc(4,2,t,e)},useMemo:function(t,e){var n=Er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=BP.bind(null,at,t),[r.memoizedState,t]},useRef:function(t){var e=Er();return t={current:t},e.memoizedState=t},useState:Lw,useDebugValue:_v,useDeferredValue:function(t){return Er().memoizedState=t},useTransition:function(){var t=Lw(!1),e=t[0];return t=zP.bind(null,t[1]),Er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=at,i=Er();if(rt){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),Dt===null)throw Error(F(349));Us&30||hT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ow(mT.bind(null,r,s,t),[t]),r.flags|=2048,nu(9,pT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Er(),e=Dt.identifierPrefix;if(rt){var n=Kr,r=Gr;n=(r&~(1<<32-hr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=eu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=VP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},WP={readContext:Qn,useCallback:CT,useContext:Qn,useEffect:wv,useImperativeHandle:ST,useInsertionEffect:wT,useLayoutEffect:_T,useMemo:TT,useReducer:Op,useRef:vT,useState:function(){return Op(tu)},useDebugValue:_v,useDeferredValue:function(t){var e=Yn();return xT(e,It.memoizedState,t)},useTransition:function(){var t=Op(tu)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:dT,useSyncExternalStore:fT,useId:IT,unstable_isNewReconciler:!1},GP={readContext:Qn,useCallback:CT,useContext:Qn,useEffect:wv,useImperativeHandle:ST,useInsertionEffect:wT,useLayoutEffect:_T,useMemo:TT,useReducer:Dp,useRef:vT,useState:function(){return Dp(tu)},useDebugValue:_v,useDeferredValue:function(t){var e=Yn();return It===null?e.memoizedState=t:xT(e,It.memoizedState,t)},useTransition:function(){var t=Dp(tu)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:dT,useSyncExternalStore:fT,useId:IT,unstable_isNewReconciler:!1};function sa(t,e){try{var n="",r=e;do n+=EA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function jp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var KP=typeof WeakMap=="function"?WeakMap:Map;function AT(t,e,n){n=Zr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Md||(Md=!0,$g=r),bg(t,e)},n}function PT(t,e,n){n=Zr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){bg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){bg(t,e),typeof r!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Dw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new KP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=lN.bind(null,t,e,n),e.then(t,t))}function jw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Mw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zr(-1,1),e.tag=2,Ui(n,e,1))),n.lanes|=1),t)}var QP=mi.ReactCurrentOwner,En=!1;function dn(t,e,n,r){e.child=t===null?uT(e,null,n,r):ra(e,t.child,n,r)}function $w(t,e,n,r,i){n=n.render;var s=e.ref;return Ho(e,i),r=yv(t,e,n,r,s,i),n=vv(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ai(t,e,i)):(rt&&n&&sv(e),e.flags|=1,dn(t,e,r,i),e.child)}function Uw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!bv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,NT(t,e,s,r,i)):(t=Yc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Kl,n(o,r)&&t.ref===e.ref)return ai(t,e,i)}return e.flags|=1,t=zi(s,r),t.ref=e.ref,t.return=e,e.child=t}function NT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Kl(s,r)&&t.ref===e.ref)if(En=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(En=!0);else return e.lanes=t.lanes,ai(t,e,i)}return Rg(t,e,n,r,i)}function LT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Oo,bn),bn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(Oo,bn),bn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,qe(Oo,bn),bn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,qe(Oo,bn),bn|=r;return dn(t,e,i,n),e.child}function OT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rg(t,e,n,r,i){var s=Cn(n)?Ms:on.current;return s=ta(e,s),Ho(e,i),n=yv(t,e,n,r,s,i),r=vv(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ai(t,e,i)):(rt&&r&&sv(e),e.flags|=1,dn(t,e,n,i),e.child)}function Fw(t,e,n,r,i){if(Cn(n)){var s=!0;kd(e)}else s=!1;if(Ho(e,i),e.stateNode===null)Gc(t,e),aT(e,n,r),kg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Qn(u):(u=Cn(n)?Ms:on.current,u=ta(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Pw(e,o,r,u),Ti=!1;var h=e.memoizedState;o.state=h,Nd(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Sn.current||Ti?(typeof c=="function"&&(Ig(e,n,c,r),l=e.memoizedState),(a=Ti||Aw(e,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,sT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:lr(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qn(l):(l=Cn(n)?Ms:on.current,l=ta(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Pw(e,o,r,l),Ti=!1,h=e.memoizedState,o.state=h,Nd(e,r,o,i);var v=e.memoizedState;a!==f||h!==v||Sn.current||Ti?(typeof p=="function"&&(Ig(e,n,p,r),v=e.memoizedState),(u=Ti||Aw(e,n,u,r,h,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Ag(t,e,n,r,s,i)}function Ag(t,e,n,r,i,s){OT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&xw(e,n,!1),ai(t,e,s);r=e.stateNode,QP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ra(e,t.child,null,s),e.child=ra(e,null,a,s)):dn(t,e,a,s),e.memoizedState=r.state,i&&xw(e,n,!0),e.child}function DT(t){var e=t.stateNode;e.pendingContext?Tw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tw(t,e.context,!1),hv(t,e.containerInfo)}function Vw(t,e,n,r,i){return na(),av(i),e.flags|=256,dn(t,e,n,r),e.child}var Pg={dehydrated:null,treeContext:null,retryLane:0};function Ng(t){return{baseLanes:t,cachePool:null,transitions:null}}function jT(t,e,n){var r=e.pendingProps,i=ot.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qe(ot,i&1),t===null)return Tg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ff(o,r,0,null),t=Ns(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ng(n),e.memoizedState=Pg,t):Ev(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return YP(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=zi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=zi(a,s):(s=Ns(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ng(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Pg,r}return s=t.child,t=s.sibling,r=zi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ev(t,e){return e=Ff({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wc(t,e,n,r){return r!==null&&av(r),ra(e,t.child,null,n),t=Ev(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function YP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=jp(Error(F(422))),wc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ff({mode:"visible",children:r.children},i,0,null),s=Ns(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ra(e,t.child,null,o),e.child.memoizedState=Ng(o),e.memoizedState=Pg,s);if(!(e.mode&1))return wc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(F(419)),r=jp(s,r,void 0),wc(t,e,o,r)}if(a=(o&t.childLanes)!==0,En||a){if(r=Dt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,oi(t,i),pr(r,t,i,-1))}return kv(),r=jp(Error(F(421))),wc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=uN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Rn=$i(i.nextSibling),Nn=e,rt=!0,cr=null,t!==null&&(qn[Wn++]=Gr,qn[Wn++]=Kr,qn[Wn++]=$s,Gr=t.id,Kr=t.overflow,$s=e),e=Ev(e,r.children),e.flags|=4096,e)}function zw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xg(t.return,e,n)}function Mp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function MT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(dn(t,e,r.children,n),r=ot.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zw(t,n,e);else if(t.tag===19)zw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(ot,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ld(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ld(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mp(e,!0,n,null,s);break;case"together":Mp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ai(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=zi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function XP(t,e,n){switch(e.tag){case 3:DT(e),na();break;case 5:cT(e);break;case 1:Cn(e.type)&&kd(e);break;case 4:hv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qe(Ad,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(ot,ot.current&1),e.flags|=128,null):n&e.child.childLanes?jT(t,e,n):(qe(ot,ot.current&1),t=ai(t,e,n),t!==null?t.sibling:null);qe(ot,ot.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return MT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(ot,ot.current),r)break;return null;case 22:case 23:return e.lanes=0,LT(t,e,n)}return ai(t,e,n)}var $T,Lg,UT,FT;$T=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lg=function(){};UT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ss(Rr.current);var s=null;switch(n){case"input":i=tg(t,i),r=tg(t,r),s=[];break;case"select":i=lt({},i,{value:void 0}),r=lt({},r,{value:void 0}),s=[];break;case"textarea":i=ig(t,i),r=ig(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xd)}og(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ke("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};FT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ka(t,e){if(!rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function JP(t,e,n){var r=e.pendingProps;switch(ov(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(e),null;case 1:return Cn(e.type)&&Id(),Kt(e),null;case 3:return r=e.stateNode,ia(),Ye(Sn),Ye(on),mv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(yc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&(Vg(cr),cr=null))),Lg(t,e),Kt(e),null;case 5:pv(e);var i=Ss(Zl.current);if(n=e.type,t!==null&&e.stateNode!=null)UT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return Kt(e),null}if(t=Ss(Rr.current),yc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Cr]=e,r[Xl]=s,t=(e.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(i=0;i<cl.length;i++)Ke(cl[i],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":X0(r,s),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ke("invalid",r);break;case"textarea":Z0(r,s),Ke("invalid",r)}og(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&gc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&gc(r.textContent,a,t),i=["children",""+a]):Vl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ke("scroll",r)}switch(n){case"input":lc(r),J0(r,s,!0);break;case"textarea":lc(r),ew(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Cr]=e,t[Xl]=r,$T(t,e,!1,!1),e.stateNode=t;e:{switch(o=ag(n,r),n){case"dialog":Ke("cancel",t),Ke("close",t),i=r;break;case"iframe":case"object":case"embed":Ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<cl.length;i++)Ke(cl[i],t);i=r;break;case"source":Ke("error",t),i=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),i=r;break;case"details":Ke("toggle",t),i=r;break;case"input":X0(t,r),i=tg(t,r),Ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=lt({},r,{value:void 0}),Ke("invalid",t);break;case"textarea":Z0(t,r),i=ig(t,r),Ke("invalid",t);break;default:i=r}og(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?gC(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pC(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zl(t,l):typeof l=="number"&&zl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ke("scroll",t):l!=null&&qy(t,s,l,o))}switch(n){case"input":lc(t),J0(t,r,!1);break;case"textarea":lc(t),ew(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Fo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Fo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kt(e),null;case 6:if(t&&e.stateNode!=null)FT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=Ss(Zl.current),Ss(Rr.current),yc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Cr]=e,(s=r.nodeValue!==n)&&(t=Nn,t!==null))switch(t.tag){case 3:gc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cr]=e,e.stateNode=r}return Kt(e),null;case 13:if(Ye(ot),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rt&&Rn!==null&&e.mode&1&&!(e.flags&128))rT(),na(),e.flags|=98560,s=!1;else if(s=yc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[Cr]=e}else na(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kt(e),s=!1}else cr!==null&&(Vg(cr),cr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?kt===0&&(kt=3):kv())),e.updateQueue!==null&&(e.flags|=4),Kt(e),null);case 4:return ia(),Lg(t,e),t===null&&Ql(e.stateNode.containerInfo),Kt(e),null;case 10:return cv(e.type._context),Kt(e),null;case 17:return Cn(e.type)&&Id(),Kt(e),null;case 19:if(Ye(ot),s=e.memoizedState,s===null)return Kt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ka(s,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ld(t),o!==null){for(e.flags|=128,Ka(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(ot,ot.current&1|2),e.child}t=t.sibling}s.tail!==null&&ht()>oa&&(e.flags|=128,r=!0,Ka(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ld(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ka(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!rt)return Kt(e),null}else 2*ht()-s.renderingStartTime>oa&&n!==1073741824&&(e.flags|=128,r=!0,Ka(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ht(),e.sibling=null,n=ot.current,qe(ot,r?n&1|2:n&1),e):(Kt(e),null);case 22:case 23:return Iv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?bn&1073741824&&(Kt(e),e.subtreeFlags&6&&(e.flags|=8192)):Kt(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function ZP(t,e){switch(ov(e),e.tag){case 1:return Cn(e.type)&&Id(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ia(),Ye(Sn),Ye(on),mv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return pv(e),null;case 13:if(Ye(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));na()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(ot),null;case 4:return ia(),null;case 10:return cv(e.type._context),null;case 22:case 23:return Iv(),null;case 24:return null;default:return null}}var _c=!1,Jt=!1,eN=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Lo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(t,e,r)}else n.current=null}function Og(t,e,n){try{n()}catch(r){dt(t,e,r)}}var Bw=!1;function tN(t,e){if(yg=Sd,t=HC(),iv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vg={focusedElem:t,selectionRange:n},Sd=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,y=v.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:lr(e.type,w),y);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(E){dt(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return v=Bw,Bw=!1,v}function xl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Og(e,n,s)}i=i.next}while(i!==r)}}function $f(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Dg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function VT(t){var e=t.alternate;e!==null&&(t.alternate=null,VT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cr],delete e[Xl],delete e[Eg],delete e[MP],delete e[$P])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zT(t){return t.tag===5||t.tag===3||t.tag===4}function Hw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xd));else if(r!==4&&(t=t.child,t!==null))for(jg(t,e,n),t=t.sibling;t!==null;)jg(t,e,n),t=t.sibling}function Mg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Mg(t,e,n),t=t.sibling;t!==null;)Mg(t,e,n),t=t.sibling}var Ft=null,ur=!1;function Ei(t,e,n){for(n=n.child;n!==null;)BT(t,e,n),n=n.sibling}function BT(t,e,n){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(Af,n)}catch{}switch(n.tag){case 5:Jt||Lo(n,e);case 6:var r=Ft,i=ur;Ft=null,Ei(t,e,n),Ft=r,ur=i,Ft!==null&&(ur?(t=Ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ft.removeChild(n.stateNode));break;case 18:Ft!==null&&(ur?(t=Ft,n=n.stateNode,t.nodeType===8?Ap(t.parentNode,n):t.nodeType===1&&Ap(t,n),Wl(t)):Ap(Ft,n.stateNode));break;case 4:r=Ft,i=ur,Ft=n.stateNode.containerInfo,ur=!0,Ei(t,e,n),Ft=r,ur=i;break;case 0:case 11:case 14:case 15:if(!Jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Og(n,e,o),i=i.next}while(i!==r)}Ei(t,e,n);break;case 1:if(!Jt&&(Lo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){dt(n,e,a)}Ei(t,e,n);break;case 21:Ei(t,e,n);break;case 22:n.mode&1?(Jt=(r=Jt)||n.memoizedState!==null,Ei(t,e,n),Jt=r):Ei(t,e,n);break;default:Ei(t,e,n)}}function qw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eN),e.forEach(function(r){var i=cN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ft=a.stateNode,ur=!1;break e;case 3:Ft=a.stateNode.containerInfo,ur=!0;break e;case 4:Ft=a.stateNode.containerInfo,ur=!0;break e}a=a.return}if(Ft===null)throw Error(F(160));BT(s,o,i),Ft=null,ur=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){dt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)HT(e,t),e=e.sibling}function HT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(or(e,t),_r(t),r&4){try{xl(3,t,t.return),$f(3,t)}catch(w){dt(t,t.return,w)}try{xl(5,t,t.return)}catch(w){dt(t,t.return,w)}}break;case 1:or(e,t),_r(t),r&512&&n!==null&&Lo(n,n.return);break;case 5:if(or(e,t),_r(t),r&512&&n!==null&&Lo(n,n.return),t.flags&32){var i=t.stateNode;try{zl(i,"")}catch(w){dt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&dC(i,s),ag(a,o);var u=ag(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?gC(i,f):c==="dangerouslySetInnerHTML"?pC(i,f):c==="children"?zl(i,f):qy(i,c,f,u)}switch(a){case"input":ng(i,s);break;case"textarea":fC(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Fo(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Fo(i,!!s.multiple,s.defaultValue,!0):Fo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Xl]=s}catch(w){dt(t,t.return,w)}}break;case 6:if(or(e,t),_r(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){dt(t,t.return,w)}}break;case 3:if(or(e,t),_r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wl(e.containerInfo)}catch(w){dt(t,t.return,w)}break;case 4:or(e,t),_r(t);break;case 13:or(e,t),_r(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Tv=ht())),r&4&&qw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Jt=(u=Jt)||c,or(e,t),Jt=u):or(e,t),_r(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Q=t,c=t.child;c!==null;){for(f=Q=c;Q!==null;){switch(h=Q,p=h.child,h.tag){case 0:case 11:case 14:case 15:xl(4,h,h.return);break;case 1:Lo(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){dt(r,n,w)}}break;case 5:Lo(h,h.return);break;case 22:if(h.memoizedState!==null){Gw(f);continue}}p!==null?(p.return=h,Q=p):Gw(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mC("display",o))}catch(w){dt(t,t.return,w)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){dt(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:or(e,t),_r(t),r&4&&qw(t);break;case 21:break;default:or(e,t),_r(t)}}function _r(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(zT(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zl(i,""),r.flags&=-33);var s=Hw(t);Mg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Hw(t);jg(t,a,o);break;default:throw Error(F(161))}}catch(l){dt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nN(t,e,n){Q=t,qT(t)}function qT(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||_c;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Jt;a=_c;var u=Jt;if(_c=o,(Jt=l)&&!u)for(Q=i;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?Kw(i):l!==null?(l.return=o,Q=l):Kw(i);for(;s!==null;)Q=s,qT(s),s=s.sibling;Q=i,_c=a,Jt=u}Ww(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):Ww(t)}}function Ww(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jt||$f(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:lr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Rw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Rw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Wl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Jt||e.flags&512&&Dg(e)}catch(h){dt(e,e.return,h)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Gw(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Kw(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$f(4,e)}catch(l){dt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){dt(e,i,l)}}var s=e.return;try{Dg(e)}catch(l){dt(e,s,l)}break;case 5:var o=e.return;try{Dg(e)}catch(l){dt(e,o,l)}}}catch(l){dt(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var rN=Math.ceil,jd=mi.ReactCurrentDispatcher,Sv=mi.ReactCurrentOwner,Kn=mi.ReactCurrentBatchConfig,Le=0,Dt=null,_t=null,zt=0,bn=0,Oo=is(0),kt=0,ru=null,Fs=0,Uf=0,Cv=0,Il=null,wn=null,Tv=0,oa=1/0,Vr=null,Md=!1,$g=null,Fi=null,Ec=!1,Li=null,$d=0,kl=0,Ug=null,Kc=-1,Qc=0;function pn(){return Le&6?ht():Kc!==-1?Kc:Kc=ht()}function Vi(t){return t.mode&1?Le&2&&zt!==0?zt&-zt:FP.transition!==null?(Qc===0&&(Qc=bC()),Qc):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:DC(t.type)),t):1}function pr(t,e,n,r){if(50<kl)throw kl=0,Ug=null,Error(F(185));Iu(t,n,r),(!(Le&2)||t!==Dt)&&(t===Dt&&(!(Le&2)&&(Uf|=n),kt===4&&Ii(t,zt)),Tn(t,r),n===1&&Le===0&&!(e.mode&1)&&(oa=ht()+500,Df&&ss()))}function Tn(t,e){var n=t.callbackNode;FA(t,e);var r=Ed(t,t===Dt?zt:0);if(r===0)n!==null&&rw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&rw(n),e===1)t.tag===0?UP(Qw.bind(null,t)):eT(Qw.bind(null,t)),DP(function(){!(Le&6)&&ss()}),n=null;else{switch(RC(r)){case 1:n=Yy;break;case 4:n=IC;break;case 16:n=_d;break;case 536870912:n=kC;break;default:n=_d}n=ZT(n,WT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function WT(t,e){if(Kc=-1,Qc=0,Le&6)throw Error(F(327));var n=t.callbackNode;if(qo()&&t.callbackNode!==n)return null;var r=Ed(t,t===Dt?zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ud(t,r);else{e=r;var i=Le;Le|=2;var s=KT();(Dt!==t||zt!==e)&&(Vr=null,oa=ht()+500,Ps(t,e));do try{oN();break}catch(a){GT(t,a)}while(1);uv(),jd.current=s,Le=i,_t!==null?e=0:(Dt=null,zt=0,e=kt)}if(e!==0){if(e===2&&(i=fg(t),i!==0&&(r=i,e=Fg(t,i))),e===1)throw n=ru,Ps(t,0),Ii(t,r),Tn(t,ht()),n;if(e===6)Ii(t,r);else{if(i=t.current.alternate,!(r&30)&&!iN(i)&&(e=Ud(t,r),e===2&&(s=fg(t),s!==0&&(r=s,e=Fg(t,s))),e===1))throw n=ru,Ps(t,0),Ii(t,r),Tn(t,ht()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:gs(t,wn,Vr);break;case 3:if(Ii(t,r),(r&130023424)===r&&(e=Tv+500-ht(),10<e)){if(Ed(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){pn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_g(gs.bind(null,t,wn,Vr),e);break}gs(t,wn,Vr);break;case 4:if(Ii(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-hr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rN(r/1960))-r,10<r){t.timeoutHandle=_g(gs.bind(null,t,wn,Vr),r);break}gs(t,wn,Vr);break;case 5:gs(t,wn,Vr);break;default:throw Error(F(329))}}}return Tn(t,ht()),t.callbackNode===n?WT.bind(null,t):null}function Fg(t,e){var n=Il;return t.current.memoizedState.isDehydrated&&(Ps(t,e).flags|=256),t=Ud(t,e),t!==2&&(e=wn,wn=n,e!==null&&Vg(e)),t}function Vg(t){wn===null?wn=t:wn.push.apply(wn,t)}function iN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!gr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ii(t,e){for(e&=~Cv,e&=~Uf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hr(e),r=1<<n;t[n]=-1,e&=~r}}function Qw(t){if(Le&6)throw Error(F(327));qo();var e=Ed(t,0);if(!(e&1))return Tn(t,ht()),null;var n=Ud(t,e);if(t.tag!==0&&n===2){var r=fg(t);r!==0&&(e=r,n=Fg(t,r))}if(n===1)throw n=ru,Ps(t,0),Ii(t,e),Tn(t,ht()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gs(t,wn,Vr),Tn(t,ht()),null}function xv(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(oa=ht()+500,Df&&ss())}}function Vs(t){Li!==null&&Li.tag===0&&!(Le&6)&&qo();var e=Le;Le|=1;var n=Kn.transition,r=Ue;try{if(Kn.transition=null,Ue=1,t)return t()}finally{Ue=r,Kn.transition=n,Le=e,!(Le&6)&&ss()}}function Iv(){bn=Oo.current,Ye(Oo)}function Ps(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OP(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(ov(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Id();break;case 3:ia(),Ye(Sn),Ye(on),mv();break;case 5:pv(r);break;case 4:ia();break;case 13:Ye(ot);break;case 19:Ye(ot);break;case 10:cv(r.type._context);break;case 22:case 23:Iv()}n=n.return}if(Dt=t,_t=t=zi(t.current,null),zt=bn=e,kt=0,ru=null,Cv=Uf=Fs=0,wn=Il=null,Es!==null){for(e=0;e<Es.length;e++)if(n=Es[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Es=null}return t}function GT(t,e){do{var n=_t;try{if(uv(),qc.current=Dd,Od){for(var r=at.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Od=!1}if(Us=0,Ot=It=at=null,Tl=!1,eu=0,Sv.current=null,n===null||n.return===null){kt=1,ru=e,_t=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=zt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=jw(o);if(p!==null){p.flags&=-257,Mw(p,o,a,s,e),p.mode&1&&Dw(s,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){Dw(s,u,e),kv();break e}l=Error(F(426))}}else if(rt&&a.mode&1){var y=jw(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Mw(y,o,a,s,e),av(sa(l,a));break e}}s=l=sa(l,a),kt!==4&&(kt=2),Il===null?Il=[s]:Il.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=AT(s,l,e);bw(s,g);break e;case 1:a=l;var m=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Fi===null||!Fi.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=PT(s,a,e);bw(s,E);break e}}s=s.return}while(s!==null)}YT(n)}catch(S){e=S,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(1)}function KT(){var t=jd.current;return jd.current=Dd,t===null?Dd:t}function kv(){(kt===0||kt===3||kt===2)&&(kt=4),Dt===null||!(Fs&268435455)&&!(Uf&268435455)||Ii(Dt,zt)}function Ud(t,e){var n=Le;Le|=2;var r=KT();(Dt!==t||zt!==e)&&(Vr=null,Ps(t,e));do try{sN();break}catch(i){GT(t,i)}while(1);if(uv(),Le=n,jd.current=r,_t!==null)throw Error(F(261));return Dt=null,zt=0,kt}function sN(){for(;_t!==null;)QT(_t)}function oN(){for(;_t!==null&&!PA();)QT(_t)}function QT(t){var e=JT(t.alternate,t,bn);t.memoizedProps=t.pendingProps,e===null?YT(t):_t=e,Sv.current=null}function YT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ZP(n,e),n!==null){n.flags&=32767,_t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,_t=null;return}}else if(n=JP(n,e,bn),n!==null){_t=n;return}if(e=e.sibling,e!==null){_t=e;return}_t=e=t}while(e!==null);kt===0&&(kt=5)}function gs(t,e,n){var r=Ue,i=Kn.transition;try{Kn.transition=null,Ue=1,aN(t,e,n,r)}finally{Kn.transition=i,Ue=r}return null}function aN(t,e,n,r){do qo();while(Li!==null);if(Le&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(VA(t,s),t===Dt&&(_t=Dt=null,zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ec||(Ec=!0,ZT(_d,function(){return qo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Kn.transition,Kn.transition=null;var o=Ue;Ue=1;var a=Le;Le|=4,Sv.current=null,tN(t,n),HT(n,t),kP(vg),Sd=!!yg,vg=yg=null,t.current=n,nN(n),NA(),Le=a,Ue=o,Kn.transition=s}else t.current=n;if(Ec&&(Ec=!1,Li=t,$d=i),s=t.pendingLanes,s===0&&(Fi=null),DA(n.stateNode),Tn(t,ht()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Md)throw Md=!1,t=$g,$g=null,t;return $d&1&&t.tag!==0&&qo(),s=t.pendingLanes,s&1?t===Ug?kl++:(kl=0,Ug=t):kl=0,ss(),null}function qo(){if(Li!==null){var t=RC($d),e=Kn.transition,n=Ue;try{if(Kn.transition=null,Ue=16>t?16:t,Li===null)var r=!1;else{if(t=Li,Li=null,$d=0,Le&6)throw Error(F(331));var i=Le;for(Le|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var c=Q;switch(c.tag){case 0:case 11:case 15:xl(8,c,s)}var f=c.child;if(f!==null)f.return=c,Q=f;else for(;Q!==null;){c=Q;var h=c.sibling,p=c.return;if(VT(c),c===u){Q=null;break}if(h!==null){h.return=p,Q=h;break}Q=p}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var y=w.sibling;w.sibling=null,w=y}while(w!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:xl(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Q=g;break e}Q=s.return}}var m=t.current;for(Q=m;Q!==null;){o=Q;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Q=_;else e:for(o=m;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$f(9,a)}}catch(S){dt(a,a.return,S)}if(a===o){Q=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Q=E;break e}Q=a.return}}if(Le=i,ss(),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(Af,t)}catch{}r=!0}return r}finally{Ue=n,Kn.transition=e}}return!1}function Yw(t,e,n){e=sa(n,e),e=AT(t,e,1),t=Ui(t,e,1),e=pn(),t!==null&&(Iu(t,1,e),Tn(t,e))}function dt(t,e,n){if(t.tag===3)Yw(t,t,n);else for(;e!==null;){if(e.tag===3){Yw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fi===null||!Fi.has(r))){t=sa(n,t),t=PT(e,t,1),e=Ui(e,t,1),t=pn(),e!==null&&(Iu(e,1,t),Tn(e,t));break}}e=e.return}}function lN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=pn(),t.pingedLanes|=t.suspendedLanes&n,Dt===t&&(zt&n)===n&&(kt===4||kt===3&&(zt&130023424)===zt&&500>ht()-Tv?Ps(t,0):Cv|=n),Tn(t,e)}function XT(t,e){e===0&&(t.mode&1?(e=dc,dc<<=1,!(dc&130023424)&&(dc=4194304)):e=1);var n=pn();t=oi(t,e),t!==null&&(Iu(t,e,n),Tn(t,n))}function uN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XT(t,n)}function cN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),XT(t,n)}var JT;JT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Sn.current)En=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return En=!1,XP(t,e,n);En=!!(t.flags&131072)}else En=!1,rt&&e.flags&1048576&&tT(e,Rd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gc(t,e),t=e.pendingProps;var i=ta(e,on.current);Ho(e,n),i=yv(null,e,r,t,i,n);var s=vv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cn(r)?(s=!0,kd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fv(e),i.updater=jf,e.stateNode=i,i._reactInternals=e,kg(e,r,t,n),e=Ag(null,e,r,!0,s,n)):(e.tag=0,rt&&s&&sv(e),dn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=fN(r),t=lr(r,t),i){case 0:e=Rg(null,e,r,t,n);break e;case 1:e=Fw(null,e,r,t,n);break e;case 11:e=$w(null,e,r,t,n);break e;case 14:e=Uw(null,e,r,lr(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),Rg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),Fw(t,e,r,i,n);case 3:e:{if(DT(e),t===null)throw Error(F(387));r=e.pendingProps,s=e.memoizedState,i=s.element,sT(t,e),Nd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=sa(Error(F(423)),e),e=Vw(t,e,r,n,i);break e}else if(r!==i){i=sa(Error(F(424)),e),e=Vw(t,e,r,n,i);break e}else for(Rn=$i(e.stateNode.containerInfo.firstChild),Nn=e,rt=!0,cr=null,n=uT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(na(),r===i){e=ai(t,e,n);break e}dn(t,e,r,n)}e=e.child}return e;case 5:return cT(e),t===null&&Tg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,wg(r,i)?o=null:s!==null&&wg(r,s)&&(e.flags|=32),OT(t,e),dn(t,e,o,n),e.child;case 6:return t===null&&Tg(e),null;case 13:return jT(t,e,n);case 4:return hv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ra(e,null,r,n):dn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),$w(t,e,r,i,n);case 7:return dn(t,e,e.pendingProps,n),e.child;case 8:return dn(t,e,e.pendingProps.children,n),e.child;case 12:return dn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,qe(Ad,r._currentValue),r._currentValue=o,s!==null)if(gr(s.value,o)){if(s.children===i.children&&!Sn.current){e=ai(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Zr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),xg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(F(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}dn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ho(e,n),i=Qn(i),r=r(i),e.flags|=1,dn(t,e,r,n),e.child;case 14:return r=e.type,i=lr(r,e.pendingProps),i=lr(r.type,i),Uw(t,e,r,i,n);case 15:return NT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),Gc(t,e),e.tag=1,Cn(r)?(t=!0,kd(e)):t=!1,Ho(e,n),aT(e,r,i),kg(e,r,i,n),Ag(null,e,r,!0,t,n);case 19:return MT(t,e,n);case 22:return LT(t,e,n)}throw Error(F(156,e.tag))};function ZT(t,e){return xC(t,e)}function dN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,e,n,r){return new dN(t,e,n,r)}function bv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fN(t){if(typeof t=="function")return bv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gy)return 11;if(t===Ky)return 14}return 2}function zi(t,e){var n=t.alternate;return n===null?(n=Gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")bv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case To:return Ns(n.children,i,s,e);case Wy:o=8,i|=8;break;case Xm:return t=Gn(12,n,e,i|2),t.elementType=Xm,t.lanes=s,t;case Jm:return t=Gn(13,n,e,i),t.elementType=Jm,t.lanes=s,t;case Zm:return t=Gn(19,n,e,i),t.elementType=Zm,t.lanes=s,t;case lC:return Ff(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oC:o=10;break e;case aC:o=9;break e;case Gy:o=11;break e;case Ky:o=14;break e;case Ci:o=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=Gn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ns(t,e,n,r){return t=Gn(7,t,r,e),t.lanes=n,t}function Ff(t,e,n,r){return t=Gn(22,t,r,e),t.elementType=lC,t.lanes=n,t.stateNode={isHidden:!1},t}function $p(t,e,n){return t=Gn(6,t,null,e),t.lanes=n,t}function Up(t,e,n){return e=Gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wp(0),this.expirationTimes=wp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Rv(t,e,n,r,i,s,o,a,l){return t=new hN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Gn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fv(s),t}function pN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Co,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ex(t){if(!t)return Yi;t=t._reactInternals;e:{if(eo(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(Cn(n))return ZC(t,n,e)}return e}function tx(t,e,n,r,i,s,o,a,l){return t=Rv(n,r,!0,t,i,s,o,a,l),t.context=ex(null),n=t.current,r=pn(),i=Vi(n),s=Zr(r,i),s.callback=e??null,Ui(n,s,i),t.current.lanes=i,Iu(t,i,r),Tn(t,r),t}function Vf(t,e,n,r){var i=e.current,s=pn(),o=Vi(i);return n=ex(n),e.context===null?e.context=n:e.pendingContext=n,e=Zr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ui(i,e,o),t!==null&&(pr(t,i,o,s),Hc(t,i,o)),o}function Fd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Xw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Av(t,e){Xw(t,e),(t=t.alternate)&&Xw(t,e)}function mN(){return null}var nx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pv(t){this._internalRoot=t}zf.prototype.render=Pv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));Vf(t,e,null,null)};zf.prototype.unmount=Pv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vs(function(){Vf(null,t,null,null)}),e[si]=null}};function zf(t){this._internalRoot=t}zf.prototype.unstable_scheduleHydration=function(t){if(t){var e=NC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xi.length&&e!==0&&e<xi[n].priority;n++);xi.splice(n,0,t),n===0&&OC(t)}};function Nv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jw(){}function gN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Fd(o);s.call(u)}}var o=tx(e,r,t,0,null,!1,!1,"",Jw);return t._reactRootContainer=o,t[si]=o.current,Ql(t.nodeType===8?t.parentNode:t),Vs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Fd(l);a.call(u)}}var l=Rv(t,0,!1,null,null,!1,!1,"",Jw);return t._reactRootContainer=l,t[si]=l.current,Ql(t.nodeType===8?t.parentNode:t),Vs(function(){Vf(e,l,n,r)}),l}function Hf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Fd(o);a.call(l)}}Vf(e,o,t,i)}else o=gN(n,e,t,i,r);return Fd(o)}AC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ul(e.pendingLanes);n!==0&&(Xy(e,n|1),Tn(e,ht()),!(Le&6)&&(oa=ht()+500,ss()))}break;case 13:Vs(function(){var r=oi(t,1);if(r!==null){var i=pn();pr(r,t,1,i)}}),Av(t,1)}};Jy=function(t){if(t.tag===13){var e=oi(t,134217728);if(e!==null){var n=pn();pr(e,t,134217728,n)}Av(t,134217728)}};PC=function(t){if(t.tag===13){var e=Vi(t),n=oi(t,e);if(n!==null){var r=pn();pr(n,t,e,r)}Av(t,e)}};NC=function(){return Ue};LC=function(t,e){var n=Ue;try{return Ue=t,e()}finally{Ue=n}};ug=function(t,e,n){switch(e){case"input":if(ng(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Of(r);if(!i)throw Error(F(90));cC(r),ng(r,i)}}}break;case"textarea":fC(t,n);break;case"select":e=n.value,e!=null&&Fo(t,!!n.multiple,e,!1)}};wC=xv;_C=Vs;var yN={usingClientEntryPoint:!1,Events:[bu,bo,Of,yC,vC,xv]},Qa={findFiberByHostInstance:_s,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vN={bundleType:Qa.bundleType,version:Qa.version,rendererPackageName:Qa.rendererPackageName,rendererConfig:Qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=CC(t),t===null?null:t.stateNode},findFiberByHostInstance:Qa.findFiberByHostInstance||mN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{Af=Sc.inject(vN),br=Sc}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yN;Un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nv(e))throw Error(F(200));return pN(t,e,null,n)};Un.createRoot=function(t,e){if(!Nv(t))throw Error(F(299));var n=!1,r="",i=nx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Rv(t,1,!1,null,null,n,!1,r,i),t[si]=e.current,Ql(t.nodeType===8?t.parentNode:t),new Pv(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=CC(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return Vs(t)};Un.hydrate=function(t,e,n){if(!Bf(e))throw Error(F(200));return Hf(null,t,e,!0,n)};Un.hydrateRoot=function(t,e,n){if(!Nv(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=nx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=tx(e,null,t,1,n??null,i,!1,s,o),t[si]=e.current,Ql(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new zf(e)};Un.render=function(t,e,n){if(!Bf(e))throw Error(F(200));return Hf(null,t,e,!1,n)};Un.unmountComponentAtNode=function(t){if(!Bf(t))throw Error(F(40));return t._reactRootContainer?(Vs(function(){Hf(null,null,t,!1,function(){t._reactRootContainer=null,t[si]=null})}),!0):!1};Un.unstable_batchedUpdates=xv;Un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bf(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return Hf(t,e,n,!1,r)};Un.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Un})(mA);const wN=KS(Fl);var rx,Zw=Fl;rx=Zw.createRoot,Zw.hydrateRoot;var zg={},_N={get exports(){return zg},set exports(t){zg=t}},ix={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=T;function EN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var SN=typeof Object.is=="function"?Object.is:EN,CN=aa.useState,TN=aa.useEffect,xN=aa.useLayoutEffect,IN=aa.useDebugValue;function kN(t,e){var n=e(),r=CN({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return xN(function(){i.value=n,i.getSnapshot=e,Fp(i)&&s({inst:i})},[t,n,e]),TN(function(){return Fp(i)&&s({inst:i}),t(function(){Fp(i)&&s({inst:i})})},[t]),IN(n),n}function Fp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!SN(t,n)}catch{return!0}}function bN(t,e){return e()}var RN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?bN:kN;ix.useSyncExternalStore=aa.useSyncExternalStore!==void 0?aa.useSyncExternalStore:RN;(function(t){t.exports=ix})(_N);var Bg={},AN={get exports(){return Bg},set exports(t){Bg=t}},sx={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf=T,PN=zg;function NN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var LN=typeof Object.is=="function"?Object.is:NN,ON=PN.useSyncExternalStore,DN=qf.useRef,jN=qf.useEffect,MN=qf.useMemo,$N=qf.useDebugValue;sx.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=DN(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=MN(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var v=o.value;if(i(v,p))return f=v}return f=p}if(v=f,LN(c,p))return v;var w=r(p);return i!==void 0&&i(v,w)?v:(c=p,f=w)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=ON(t,s[0],s[1]);return jN(function(){o.hasValue=!0,o.value=a},[a]),$N(a),a};(function(t){t.exports=sx})(AN);function UN(t){t()}let ox=UN;const FN=t=>ox=t,VN=()=>ox,Xi=T.createContext(null);function ax(){return T.useContext(Xi)}const zN=()=>{throw new Error("uSES not initialized!")};let lx=zN;const BN=t=>{lx=t},HN=(t,e)=>t===e;function qN(t=Xi){const e=t===Xi?ax:()=>T.useContext(t);return function(r,i=HN){const{store:s,subscription:o,getServerState:a}=e(),l=lx(o.addNestedSub,s.getState,a||s.getState,r,i);return T.useDebugValue(l),l}}const WN=qN();var Hg={},GN={get exports(){return Hg},set exports(t){Hg=t}},Fe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mt=typeof Symbol=="function"&&Symbol.for,Lv=Mt?Symbol.for("react.element"):60103,Ov=Mt?Symbol.for("react.portal"):60106,Wf=Mt?Symbol.for("react.fragment"):60107,Gf=Mt?Symbol.for("react.strict_mode"):60108,Kf=Mt?Symbol.for("react.profiler"):60114,Qf=Mt?Symbol.for("react.provider"):60109,Yf=Mt?Symbol.for("react.context"):60110,Dv=Mt?Symbol.for("react.async_mode"):60111,Xf=Mt?Symbol.for("react.concurrent_mode"):60111,Jf=Mt?Symbol.for("react.forward_ref"):60112,Zf=Mt?Symbol.for("react.suspense"):60113,KN=Mt?Symbol.for("react.suspense_list"):60120,eh=Mt?Symbol.for("react.memo"):60115,th=Mt?Symbol.for("react.lazy"):60116,QN=Mt?Symbol.for("react.block"):60121,YN=Mt?Symbol.for("react.fundamental"):60117,XN=Mt?Symbol.for("react.responder"):60118,JN=Mt?Symbol.for("react.scope"):60119;function Vn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Lv:switch(t=t.type,t){case Dv:case Xf:case Wf:case Kf:case Gf:case Zf:return t;default:switch(t=t&&t.$$typeof,t){case Yf:case Jf:case th:case eh:case Qf:return t;default:return e}}case Ov:return e}}}function ux(t){return Vn(t)===Xf}Fe.AsyncMode=Dv;Fe.ConcurrentMode=Xf;Fe.ContextConsumer=Yf;Fe.ContextProvider=Qf;Fe.Element=Lv;Fe.ForwardRef=Jf;Fe.Fragment=Wf;Fe.Lazy=th;Fe.Memo=eh;Fe.Portal=Ov;Fe.Profiler=Kf;Fe.StrictMode=Gf;Fe.Suspense=Zf;Fe.isAsyncMode=function(t){return ux(t)||Vn(t)===Dv};Fe.isConcurrentMode=ux;Fe.isContextConsumer=function(t){return Vn(t)===Yf};Fe.isContextProvider=function(t){return Vn(t)===Qf};Fe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lv};Fe.isForwardRef=function(t){return Vn(t)===Jf};Fe.isFragment=function(t){return Vn(t)===Wf};Fe.isLazy=function(t){return Vn(t)===th};Fe.isMemo=function(t){return Vn(t)===eh};Fe.isPortal=function(t){return Vn(t)===Ov};Fe.isProfiler=function(t){return Vn(t)===Kf};Fe.isStrictMode=function(t){return Vn(t)===Gf};Fe.isSuspense=function(t){return Vn(t)===Zf};Fe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Wf||t===Xf||t===Kf||t===Gf||t===Zf||t===KN||typeof t=="object"&&t!==null&&(t.$$typeof===th||t.$$typeof===eh||t.$$typeof===Qf||t.$$typeof===Yf||t.$$typeof===Jf||t.$$typeof===YN||t.$$typeof===XN||t.$$typeof===JN||t.$$typeof===QN)};Fe.typeOf=Vn;(function(t){t.exports=Fe})(GN);var cx=Hg,ZN={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},eL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},dx={};dx[cx.ForwardRef]=ZN;dx[cx.Memo]=eL;var e_={},tL={get exports(){return e_},set exports(t){e_=t}},Ve={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv=Symbol.for("react.element"),Mv=Symbol.for("react.portal"),nh=Symbol.for("react.fragment"),rh=Symbol.for("react.strict_mode"),ih=Symbol.for("react.profiler"),sh=Symbol.for("react.provider"),oh=Symbol.for("react.context"),nL=Symbol.for("react.server_context"),ah=Symbol.for("react.forward_ref"),lh=Symbol.for("react.suspense"),uh=Symbol.for("react.suspense_list"),ch=Symbol.for("react.memo"),dh=Symbol.for("react.lazy"),rL=Symbol.for("react.offscreen"),fx;fx=Symbol.for("react.module.reference");function Zn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case jv:switch(t=t.type,t){case nh:case ih:case rh:case lh:case uh:return t;default:switch(t=t&&t.$$typeof,t){case nL:case oh:case ah:case dh:case ch:case sh:return t;default:return e}}case Mv:return e}}}Ve.ContextConsumer=oh;Ve.ContextProvider=sh;Ve.Element=jv;Ve.ForwardRef=ah;Ve.Fragment=nh;Ve.Lazy=dh;Ve.Memo=ch;Ve.Portal=Mv;Ve.Profiler=ih;Ve.StrictMode=rh;Ve.Suspense=lh;Ve.SuspenseList=uh;Ve.isAsyncMode=function(){return!1};Ve.isConcurrentMode=function(){return!1};Ve.isContextConsumer=function(t){return Zn(t)===oh};Ve.isContextProvider=function(t){return Zn(t)===sh};Ve.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===jv};Ve.isForwardRef=function(t){return Zn(t)===ah};Ve.isFragment=function(t){return Zn(t)===nh};Ve.isLazy=function(t){return Zn(t)===dh};Ve.isMemo=function(t){return Zn(t)===ch};Ve.isPortal=function(t){return Zn(t)===Mv};Ve.isProfiler=function(t){return Zn(t)===ih};Ve.isStrictMode=function(t){return Zn(t)===rh};Ve.isSuspense=function(t){return Zn(t)===lh};Ve.isSuspenseList=function(t){return Zn(t)===uh};Ve.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===nh||t===ih||t===rh||t===lh||t===uh||t===rL||typeof t=="object"&&t!==null&&(t.$$typeof===dh||t.$$typeof===ch||t.$$typeof===sh||t.$$typeof===oh||t.$$typeof===ah||t.$$typeof===fx||t.getModuleId!==void 0)};Ve.typeOf=Zn;(function(t){t.exports=Ve})(tL);function iL(){const t=VN();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const t_={notify(){},get:()=>[]};function sL(t,e){let n,r=t_;function i(f){return l(),r.subscribe(f)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=iL())}function u(){n&&(n(),n=void 0,r.clear(),r=t_)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const oL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aL=oL?T.useLayoutEffect:T.useEffect;function lL({store:t,context:e,children:n,serverState:r}){const i=T.useMemo(()=>{const a=sL(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),s=T.useMemo(()=>t.getState(),[t]);aL(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=e||Xi;return Wr.createElement(o.Provider,{value:i},n)}function hx(t=Xi){const e=t===Xi?ax:()=>T.useContext(t);return function(){const{store:r}=e();return r}}const uL=hx();function cL(t=Xi){const e=t===Xi?uL:hx(t);return function(){return e().dispatch}}const dL=cL();BN(Bg.useSyncExternalStoreWithSelector);FN(Fl.unstable_batchedUpdates);function Xc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xc=function(n){return typeof n}:Xc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Xc(t)}function fL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hL(t,e,n){return e&&n_(t.prototype,e),n&&n_(t,n),t}function pL(t,e){return e&&(Xc(e)==="object"||typeof e=="function")?e:Jc(t)}function qg(t){return qg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},qg(t)}function Jc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wg(t,e)}function Wg(t,e){return Wg=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Wg(t,e)}function Zc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var px=function(t){mL(e,t);function e(){var n,r;fL(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=pL(this,(n=qg(e)).call.apply(n,[this].concat(s))),Zc(Jc(r),"state",{bootstrapped:!1}),Zc(Jc(r),"_unsubscribe",void 0),Zc(Jc(r),"handlePersistorState",function(){var a=r.props.persistor,l=a.getState(),u=l.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return hL(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(T.PureComponent);Zc(px,"defaultProps",{children:null,loading:null});/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ne(){return Ne=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ne.apply(this,arguments)}var yt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(yt||(yt={}));const r_="popstate";function gL(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return iu("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:li(i)}return vL(e,n,null,t)}function Ee(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function la(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yL(){return Math.random().toString(36).substr(2,8)}function i_(t,e){return{usr:t.state,key:t.key,idx:e}}function iu(t,e,n,r){return n===void 0&&(n=null),Ne({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?gi(e):e,{state:n,key:e&&e.key||r||yL()})}function li(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function gi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function vL(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=yt.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Ne({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=yt.Pop;let y=c(),g=y==null?null:y-u;u=y,l&&l({action:a,location:w.location,delta:g})}function h(y,g){a=yt.Push;let m=iu(w.location,y,g);n&&n(m,y),u=c()+1;let _=i_(m,u),E=w.createHref(m);try{o.pushState(_,"",E)}catch{i.location.assign(E)}s&&l&&l({action:a,location:w.location,delta:1})}function p(y,g){a=yt.Replace;let m=iu(w.location,y,g);n&&n(m,y),u=c();let _=i_(m,u),E=w.createHref(m);o.replaceState(_,"",E),s&&l&&l({action:a,location:w.location,delta:0})}function v(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof y=="string"?y:li(y);return Ee(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let w={get action(){return a},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(r_,f),l=y,()=>{i.removeEventListener(r_,f),l=null}},createHref(y){return e(i,y)},createURL:v,encodeLocation(y){let g=v(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(y){return o.go(y)}};return w}var xt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(xt||(xt={}));const wL=new Set(["lazy","caseSensitive","path","id","index","children"]);function _L(t){return t.index===!0}function mx(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(Ee(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ee(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),_L(i)){let l=Ne({},i,{hasErrorBoundary:e(i),id:a});return r[a]=l,l}else{let l=Ne({},i,{id:a,hasErrorBoundary:e(i),children:void 0});return r[a]=l,i.children&&(l.children=mx(i.children,e,o,r)),l}})}function Do(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?gi(e):e,i=Au(r.pathname||"/",n);if(i==null)return null;let s=gx(t);EL(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=AL(s[a],NL(i));return o}function gx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ee(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ei([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Ee(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),gx(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:bL(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of yx(s.path))i(s,o,l)}),e}function yx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=yx(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function EL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:RL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const SL=/^:\w+$/,CL=3,TL=2,xL=1,IL=10,kL=-2,s_=t=>t==="*";function bL(t,e){let n=t.split("/"),r=n.length;return n.some(s_)&&(r+=kL),e&&(r+=TL),n.filter(i=>!s_(i)).reduce((i,s)=>i+(SL.test(s)?CL:s===""?xL:IL),r)}function RL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function AL(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=dl({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:ei([i,c.pathname]),pathnameBase:jL(ei([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=ei([i,c.pathnameBase]))}return s}function dl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=PL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{if(c==="*"){let h=a[f]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=LL(a[f]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function PL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),la(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function NL(t){try{return decodeURI(t)}catch(e){return la(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function LL(t,e){try{return decodeURIComponent(t)}catch(n){return la(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Au(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function OL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?gi(t):t;return{pathname:n?n.startsWith("/")?n:DL(n,e):e,search:ML(r),hash:$L(i)}}function DL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Vp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fh(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $v(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=gi(t):(i=Ne({},t),Ee(!i.pathname||!i.pathname.includes("?"),Vp("?","pathname","search",i)),Ee(!i.pathname||!i.pathname.includes("#"),Vp("#","pathname","hash",i)),Ee(!i.search||!i.search.includes("#"),Vp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let f=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=OL(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ei=t=>t.join("/").replace(/\/\/+/g,"/"),jL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ML=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$L=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Uv{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function jo(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const vx=["post","put","patch","delete"],UL=new Set(vx),FL=["get",...vx],VL=new Set(FL),zL=new Set([301,302,303,307,308]),BL=new Set([307,308]),zp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},HL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},o_={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},wx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_x=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qL=!_x,WL=t=>!!t.hasErrorBoundary;function GL(t){Ee(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=t.detectErrorBoundary||WL,n={},r=mx(t.routes,e,void 0,n),i,s=Ne({v7_normalizeFormMethod:!1},t.future),o=null,a=new Set,l=null,u=null,c=null,f=t.hydrationData!=null,h=Do(r,t.history.location,t.basename),p=null;if(h==null){let N=Sr(404,{pathname:t.history.location.pathname}),{matches:L,route:M}=h_(r);h=L,p={[M.id]:N}}let v=!h.some(N=>N.route.lazy)&&(!h.some(N=>N.route.loader)||t.hydrationData!=null),w,y={historyAction:t.history.action,location:t.history.location,matches:h,initialized:v,navigation:zp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||p,fetchers:new Map,blockers:new Map},g=yt.Pop,m=!1,_,E=!1,S=!1,x=[],I=[],P=new Map,R=0,O=-1,W=new Map,$=new Set,U=new Map,le=new Map,Se=new Map,je=!1;function pt(){return o=t.history.listen(N=>{let{action:L,location:M,delta:Z}=N;if(je){je=!1;return}la(Se.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let re=Te({currentLocation:y.location,nextLocation:M,historyAction:L});if(re&&Z!=null){je=!0,t.history.go(Z*-1),G(re,{state:"blocked",location:M,proceed(){G(re,{state:"proceeding",proceed:void 0,reset:void 0,location:M}),t.history.go(Z)},reset(){b(re),Y({blockers:new Map(w.state.blockers)})}});return}return Ge(L,M)}),y.initialized||Ge(yt.Pop,y.location),w}function q(){o&&o(),a.clear(),_&&_.abort(),y.fetchers.forEach((N,L)=>Ce(L)),y.blockers.forEach((N,L)=>b(L))}function oe(N){return a.add(N),()=>a.delete(N)}function Y(N){y=Ne({},y,N),a.forEach(L=>L(y))}function be(N,L){var M,Z;let re=y.actionData!=null&&y.navigation.formMethod!=null&&zr(y.navigation.formMethod)&&y.navigation.state==="loading"&&((M=N.state)==null?void 0:M._isRedirect)!==!0,de;L.actionData?Object.keys(L.actionData).length>0?de=L.actionData:de=null:re?de=y.actionData:de=null;let fe=L.loaderData?f_(y.loaderData,L.loaderData,L.matches||[],L.errors):y.loaderData;for(let[ue]of Se)b(ue);let ge=m===!0||y.navigation.formMethod!=null&&zr(y.navigation.formMethod)&&((Z=N.state)==null?void 0:Z._isRedirect)!==!0;i&&(r=i,i=void 0),Y(Ne({},L,{actionData:de,loaderData:fe,historyAction:g,location:N,initialized:!0,navigation:zp,revalidation:"idle",restoreScrollPosition:po(N,L.matches||y.matches),preventScrollReset:ge,blockers:new Map(y.blockers)})),E||g===yt.Pop||(g===yt.Push?t.history.push(N,N.state):g===yt.Replace&&t.history.replace(N,N.state)),g=yt.Pop,m=!1,E=!1,S=!1,x=[],I=[]}async function ze(N,L){if(typeof N=="number"){t.history.go(N);return}let{path:M,submission:Z,error:re}=a_(N,s,L),de=y.location,fe=iu(y.location,M,L&&L.state);fe=Ne({},fe,t.history.encodeLocation(fe));let ge=L&&L.replace!=null?L.replace:void 0,ue=yt.Push;ge===!0?ue=yt.Replace:ge===!1||Z!=null&&zr(Z.formMethod)&&Z.formAction===y.location.pathname+y.location.search&&(ue=yt.Replace);let He=L&&"preventScrollReset"in L?L.preventScrollReset===!0:void 0,De=Te({currentLocation:de,nextLocation:fe,historyAction:ue});if(De){G(De,{state:"blocked",location:fe,proceed(){G(De,{state:"proceeding",proceed:void 0,reset:void 0,location:fe}),ze(N,L)},reset(){b(De),Y({blockers:new Map(y.blockers)})}});return}return await Ge(ue,fe,{submission:Z,pendingError:re,preventScrollReset:He,replace:L&&L.replace})}function Bn(){if(_e(),Y({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){Ge(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}Ge(g||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation})}}async function Ge(N,L,M){_&&_.abort(),_=null,g=N,E=(M&&M.startUninterruptedRevalidation)===!0,lp(y.location,y.matches),m=(M&&M.preventScrollReset)===!0;let Z=i||r,re=M&&M.overrideNavigation,de=Do(Z,L,t.basename);if(!de){let Nt=Sr(404,{pathname:L.pathname}),{matches:$t,route:ir}=h_(Z);Be(),be(L,{matches:$t,loaderData:{},errors:{[ir.id]:Nt}});return}if(JL(y.location,L)&&!(M&&M.submission&&zr(M.submission.formMethod))){be(L,{matches:de});return}_=new AbortController;let fe=Xa(t.history,L,_.signal,M&&M.submission),ge,ue;if(M&&M.pendingError)ue={[Mo(de).route.id]:M.pendingError};else if(M&&M.submission&&zr(M.submission.formMethod)){let Nt=await nr(fe,L,M.submission,de,{replace:M.replace});if(Nt.shortCircuited)return;ge=Nt.pendingActionData,ue=Nt.pendingActionError,re=Ne({state:"loading",location:L},M.submission),fe=new Request(fe.url,{signal:fe.signal})}let{shortCircuited:He,loaderData:De,errors:rr}=await Ze(fe,L,de,re,M&&M.submission,M&&M.fetcherSubmission,M&&M.replace,ge,ue);He||(_=null,be(L,Ne({matches:de},ge?{actionData:ge}:{},{loaderData:De,errors:rr})))}async function nr(N,L,M,Z,re){_e();let de=Ne({state:"submitting",location:L},M);Y({navigation:de});let fe,ge=Gg(Z,L);if(!ge.route.action&&!ge.route.lazy)fe={type:xt.error,error:Sr(405,{method:N.method,pathname:L.pathname,routeId:ge.route.id})};else if(fe=await Ya("action",N,ge,Z,n,e,w.basename),N.signal.aborted)return{shortCircuited:!0};if(Wo(fe)){let ue;return re&&re.replace!=null?ue=re.replace:ue=fe.location===y.location.pathname+y.location.search,await K(y,fe,{submission:M,replace:ue}),{shortCircuited:!0}}if(bl(fe)){let ue=Mo(Z,ge.route.id);return(re&&re.replace)!==!0&&(g=yt.Push),{pendingActionData:{},pendingActionError:{[ue.route.id]:fe.error}}}if(Cs(fe))throw Sr(400,{type:"defer-action"});return{pendingActionData:{[ge.route.id]:fe.data}}}async function Ze(N,L,M,Z,re,de,fe,ge,ue){let He=Z;He||(He=Ne({state:"loading",location:L,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},re));let De=re||de?re||de:He.formMethod&&He.formAction&&He.formData&&He.formEncType?{formMethod:He.formMethod,formAction:He.formAction,formData:He.formData,formEncType:He.formEncType}:void 0,rr=i||r,[Nt,$t]=l_(t.history,y,M,De,L,S,x,I,U,rr,t.basename,ge,ue);if(Be(Wt=>!(M&&M.some(sr=>sr.route.id===Wt))||Nt&&Nt.some(sr=>sr.route.id===Wt)),Nt.length===0&&$t.length===0)return be(L,Ne({matches:M,loaderData:{},errors:ue||null},ge?{actionData:ge}:{})),{shortCircuited:!0};if(!E){$t.forEach(sr=>{let ds=y.fetchers.get(sr.key),Va={state:"loading",data:ds&&ds.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};y.fetchers.set(sr.key,Va)});let Wt=ge||y.actionData;Y(Ne({navigation:He},Wt?Object.keys(Wt).length===0?{actionData:null}:{actionData:Wt}:{},$t.length>0?{fetchers:new Map(y.fetchers)}:{}))}O=++R,$t.forEach(Wt=>P.set(Wt.key,_));let{results:ir,loaderResults:Ua,fetcherResults:up}=await we(y.matches,M,Nt,$t,N);if(N.signal.aborted)return{shortCircuited:!0};$t.forEach(Wt=>P.delete(Wt.key));let Fa=p_(ir);if(Fa)return await K(y,Fa,{replace:fe}),{shortCircuited:!0};let{loaderData:mo,errors:cp}=d_(y,M,Nt,Ua,ue,$t,up,le);le.forEach((Wt,sr)=>{Wt.subscribe(ds=>{(ds||Wt.done)&&le.delete(sr)})}),A();let dp=V(O);return Ne({loaderData:mo,errors:cp},dp||$t.length>0?{fetchers:new Map(y.fetchers)}:{})}function mt(N){return y.fetchers.get(N)||HL}function vi(N,L,M,Z){if(qL)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");P.has(N)&&C(N);let de=Do(i||r,M,t.basename);if(!de){pe(N,L,Sr(404,{pathname:M}));return}let{path:fe,submission:ge}=a_(M,s,Z,!0),ue=Gg(de,fe);if(m=(Z&&Z.preventScrollReset)===!0,ge&&zr(ge.formMethod)){wi(N,L,fe,ue,de,ge);return}U.set(N,{routeId:L,path:fe}),B(N,L,fe,ue,de,ge)}async function wi(N,L,M,Z,re,de){if(_e(),U.delete(N),!Z.route.action&&!Z.route.lazy){let Mr=Sr(405,{method:de.formMethod,pathname:M,routeId:L});pe(N,L,Mr);return}let fe=y.fetchers.get(N),ge=Ne({state:"submitting"},de,{data:fe&&fe.data," _hasFetcherDoneAnything ":!0});y.fetchers.set(N,ge),Y({fetchers:new Map(y.fetchers)});let ue=new AbortController,He=Xa(t.history,M,ue.signal,de);P.set(N,ue);let De=await Ya("action",He,Z,re,n,e,w.basename);if(He.signal.aborted){P.get(N)===ue&&P.delete(N);return}if(Wo(De)){P.delete(N),$.add(N);let Mr=Ne({state:"loading"},de,{data:void 0," _hasFetcherDoneAnything ":!0});return y.fetchers.set(N,Mr),Y({fetchers:new Map(y.fetchers)}),K(y,De,{submission:de,isFetchActionRedirect:!0})}if(bl(De)){pe(N,L,De.error);return}if(Cs(De))throw Sr(400,{type:"defer-action"});let rr=y.navigation.location||y.location,Nt=Xa(t.history,rr,ue.signal),$t=i||r,ir=y.navigation.state!=="idle"?Do($t,y.navigation.location,t.basename):y.matches;Ee(ir,"Didn't find any matches after fetcher action");let Ua=++R;W.set(N,Ua);let up=Ne({state:"loading",data:De.data},de,{" _hasFetcherDoneAnything ":!0});y.fetchers.set(N,up);let[Fa,mo]=l_(t.history,y,ir,de,rr,S,x,I,U,$t,t.basename,{[Z.route.id]:De.data},void 0);mo.filter(Mr=>Mr.key!==N).forEach(Mr=>{let fp=Mr.key,H0=y.fetchers.get(fp),AR={state:"loading",data:H0&&H0.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};y.fetchers.set(fp,AR),P.set(fp,ue)}),Y({fetchers:new Map(y.fetchers)});let{results:cp,loaderResults:dp,fetcherResults:Wt}=await we(y.matches,ir,Fa,mo,Nt);if(ue.signal.aborted)return;W.delete(N),P.delete(N),mo.forEach(Mr=>P.delete(Mr.key));let sr=p_(cp);if(sr)return K(y,sr);let{loaderData:ds,errors:Va}=d_(y,y.matches,Fa,dp,void 0,mo,Wt,le),bR={state:"idle",data:De.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};y.fetchers.set(N,bR);let RR=V(Ua);y.navigation.state==="loading"&&Ua>O?(Ee(g,"Expected pending action"),_&&_.abort(),be(y.navigation.location,{matches:ir,loaderData:ds,errors:Va,fetchers:new Map(y.fetchers)})):(Y(Ne({errors:Va,loaderData:f_(y.loaderData,ds,ir,Va)},RR?{fetchers:new Map(y.fetchers)}:{})),S=!1)}async function B(N,L,M,Z,re,de){let fe=y.fetchers.get(N),ge=Ne({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},de,{data:fe&&fe.data," _hasFetcherDoneAnything ":!0});y.fetchers.set(N,ge),Y({fetchers:new Map(y.fetchers)});let ue=new AbortController,He=Xa(t.history,M,ue.signal);P.set(N,ue);let De=await Ya("loader",He,Z,re,n,e,w.basename);if(Cs(De)&&(De=await Tx(De,He.signal,!0)||De),P.get(N)===ue&&P.delete(N),He.signal.aborted)return;if(Wo(De)){await K(y,De);return}if(bl(De)){let Nt=Mo(y.matches,L);y.fetchers.delete(N),Y({fetchers:new Map(y.fetchers),errors:{[Nt.route.id]:De.error}});return}Ee(!Cs(De),"Unhandled fetcher deferred data");let rr={state:"idle",data:De.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};y.fetchers.set(N,rr),Y({fetchers:new Map(y.fetchers)})}async function K(N,L,M){var Z;let{submission:re,replace:de,isFetchActionRedirect:fe}=M===void 0?{}:M;L.revalidate&&(S=!0);let ge=iu(N.location,L.location,Ne({_isRedirect:!0},fe?{_isFetchActionRedirect:!0}:{}));if(Ee(ge,"Expected a location on the redirect navigation"),wx.test(L.location)&&_x&&typeof((Z=window)==null?void 0:Z.location)<"u"){let $t=t.history.createURL(L.location),ir=Au($t.pathname,t.basename||"/")==null;if(window.location.origin!==$t.origin||ir){de?window.location.replace(L.location):window.location.assign(L.location);return}}_=null;let ue=de===!0?yt.Replace:yt.Push,{formMethod:He,formAction:De,formEncType:rr,formData:Nt}=N.navigation;!re&&He&&De&&Nt&&rr&&(re={formMethod:He,formAction:De,formEncType:rr,formData:Nt}),BL.has(L.status)&&re&&zr(re.formMethod)?await Ge(ue,ge,{submission:Ne({},re,{formAction:L.location}),preventScrollReset:m}):fe?await Ge(ue,ge,{overrideNavigation:{state:"loading",location:ge,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:re,preventScrollReset:m}):await Ge(ue,ge,{overrideNavigation:{state:"loading",location:ge,formMethod:re?re.formMethod:void 0,formAction:re?re.formAction:void 0,formEncType:re?re.formEncType:void 0,formData:re?re.formData:void 0},preventScrollReset:m})}async function we(N,L,M,Z,re){let de=await Promise.all([...M.map(ue=>Ya("loader",re,ue,L,n,e,w.basename)),...Z.map(ue=>ue.matches&&ue.match?Ya("loader",Xa(t.history,ue.path,re.signal),ue.match,ue.matches,n,e,w.basename):{type:xt.error,error:Sr(404,{pathname:ue.path})})]),fe=de.slice(0,M.length),ge=de.slice(M.length);return await Promise.all([m_(N,M,fe,re.signal,!1,y.loaderData),m_(N,Z.map(ue=>ue.match),ge,re.signal,!0)]),{results:de,loaderResults:fe,fetcherResults:ge}}function _e(){S=!0,x.push(...Be()),U.forEach((N,L)=>{P.has(L)&&(I.push(L),C(L))})}function pe(N,L,M){let Z=Mo(y.matches,L);Ce(N),Y({errors:{[Z.route.id]:M},fetchers:new Map(y.fetchers)})}function Ce(N){P.has(N)&&C(N),U.delete(N),W.delete(N),$.delete(N),y.fetchers.delete(N)}function C(N){let L=P.get(N);Ee(L,"Expected fetch controller: "+N),L.abort(),P.delete(N)}function k(N){for(let L of N){let Z={state:"idle",data:mt(L).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};y.fetchers.set(L,Z)}}function A(){let N=[];for(let L of $){let M=y.fetchers.get(L);Ee(M,"Expected fetcher: "+L),M.state==="loading"&&($.delete(L),N.push(L))}k(N)}function V(N){let L=[];for(let[M,Z]of W)if(Z<N){let re=y.fetchers.get(M);Ee(re,"Expected fetcher: "+M),re.state==="loading"&&(C(M),W.delete(M),L.push(M))}return k(L),L.length>0}function j(N,L){let M=y.blockers.get(N)||o_;return Se.get(N)!==L&&Se.set(N,L),M}function b(N){y.blockers.delete(N),Se.delete(N)}function G(N,L){let M=y.blockers.get(N)||o_;Ee(M.state==="unblocked"&&L.state==="blocked"||M.state==="blocked"&&L.state==="blocked"||M.state==="blocked"&&L.state==="proceeding"||M.state==="blocked"&&L.state==="unblocked"||M.state==="proceeding"&&L.state==="unblocked","Invalid blocker state transition: "+M.state+" -> "+L.state),y.blockers.set(N,L),Y({blockers:new Map(y.blockers)})}function Te(N){let{currentLocation:L,nextLocation:M,historyAction:Z}=N;if(Se.size===0)return;Se.size>1&&la(!1,"A router only supports one blocker at a time");let re=Array.from(Se.entries()),[de,fe]=re[re.length-1],ge=y.blockers.get(de);if(!(ge&&ge.state==="proceeding")&&fe({currentLocation:L,nextLocation:M,historyAction:Z}))return de}function Be(N){let L=[];return le.forEach((M,Z)=>{(!N||N(Z))&&(M.cancel(),L.push(Z),le.delete(Z))}),L}function _i(N,L,M){if(l=N,c=L,u=M||(Z=>Z.key),!f&&y.navigation===zp){f=!0;let Z=po(y.location,y.matches);Z!=null&&Y({restoreScrollPosition:Z})}return()=>{l=null,c=null,u=null}}function lp(N,L){if(l&&u&&c){let M=L.map(re=>g_(re,y.loaderData)),Z=u(N,M)||N.key;l[Z]=c()}}function po(N,L){if(l&&u&&c){let M=L.map(de=>g_(de,y.loaderData)),Z=u(N,M)||N.key,re=l[Z];if(typeof re=="number")return re}return null}function $a(N){i=N}return w={get basename(){return t.basename},get state(){return y},get routes(){return r},initialize:pt,subscribe:oe,enableScrollRestoration:_i,navigate:ze,fetch:vi,revalidate:Bn,createHref:N=>t.history.createHref(N),encodeLocation:N=>t.history.encodeLocation(N),getFetcher:mt,deleteFetcher:Ce,dispose:q,getBlocker:j,deleteBlocker:b,_internalFetchControllers:P,_internalActiveDeferreds:le,_internalSetRoutes:$a},w}function KL(t){return t!=null&&"formData"in t}function a_(t,e,n,r){r===void 0&&(r=!1);let i=typeof t=="string"?t:li(t);if(!n||!KL(n))return{path:i};if(n.formMethod&&!tO(n.formMethod))return{path:i,error:Sr(405,{method:n.formMethod})};let s;if(n.formData){let l=n.formMethod||"get";if(s={formMethod:e.v7_normalizeFormMethod?l.toUpperCase():l.toLowerCase(),formAction:Cx(i),formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:n.formData},zr(s.formMethod))return{path:i,submission:s}}let o=gi(i),a=Sx(n.formData);return r&&o.search&&xx(o.search)&&a.append("index",""),o.search="?"+a,{path:li(o),submission:s}}function QL(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function l_(t,e,n,r,i,s,o,a,l,u,c,f,h){let p=h?Object.values(h)[0]:f?Object.values(f)[0]:void 0,v=t.createURL(e.location),w=t.createURL(i),y=s||v.toString()===w.toString()||v.search!==w.search,g=h?Object.keys(h)[0]:void 0,_=QL(n,g).filter((S,x)=>{if(S.route.lazy)return!0;if(S.route.loader==null)return!1;if(YL(e.loaderData,e.matches[x],S)||o.some(R=>R===S.route.id))return!0;let I=e.matches[x],P=S;return u_(S,Ne({currentUrl:v,currentParams:I.params,nextUrl:w,nextParams:P.params},r,{actionResult:p,defaultShouldRevalidate:y||Ex(I,P)}))}),E=[];return l.forEach((S,x)=>{if(!n.some(O=>O.route.id===S.routeId))return;let I=Do(u,S.path,c);if(!I){E.push(Ne({key:x},S,{matches:null,match:null}));return}let P=Gg(I,S.path);if(a.includes(x)){E.push(Ne({key:x,matches:I,match:P},S));return}u_(P,Ne({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:p,defaultShouldRevalidate:y}))&&E.push(Ne({key:x,matches:I,match:P},S))}),[_,E]}function YL(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Ex(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function u_(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function c_(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ee(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";la(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!wL.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,{hasErrorBoundary:e(Ne({},i)),lazy:void 0})}async function Ya(t,e,n,r,i,s,o,a,l,u){o===void 0&&(o="/"),a===void 0&&(a=!1),l===void 0&&(l=!1);let c,f,h,p=y=>{let g,m=new Promise((_,E)=>g=E);return h=()=>g(),e.signal.addEventListener("abort",h),Promise.race([y({request:e,params:n.params,context:u}),m])};try{let y=n.route[t];if(n.route.lazy)if(y)f=(await Promise.all([p(y),c_(n.route,s,i)]))[0];else if(await c_(n.route,s,i),y=n.route[t],y)f=await p(y);else{if(t==="action")throw Sr(405,{method:e.method,pathname:new URL(e.url).pathname,routeId:n.route.id});return{type:xt.data,data:void 0}}else Ee(y,"Could not find the "+t+' to run on the "'+n.route.id+'" route'),f=await p(y);Ee(f!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(y){c=xt.error,f=y}finally{h&&e.signal.removeEventListener("abort",h)}if(eO(f)){let y=f.status;if(zL.has(y)){let _=f.headers.get("Location");if(Ee(_,"Redirects returned/thrown from loaders/actions must have a Location header"),wx.test(_)){if(!a){let E=new URL(e.url),S=_.startsWith("//")?new URL(E.protocol+_):new URL(_),x=Au(S.pathname,o)!=null;S.origin===E.origin&&x&&(_=S.pathname+S.search+S.hash)}}else{let E=r.slice(0,r.indexOf(n)+1),S=fh(E).map(I=>I.pathnameBase),x=$v(_,S,new URL(e.url).pathname);if(Ee(li(x),"Unable to resolve redirect location: "+_),o){let I=x.pathname;x.pathname=I==="/"?o:ei([o,I])}_=li(x)}if(a)throw f.headers.set("Location",_),f;return{type:xt.redirect,status:y,location:_,revalidate:f.headers.get("X-Remix-Revalidate")!==null}}if(l)throw{type:c||xt.data,response:f};let g,m=f.headers.get("Content-Type");return m&&/\bapplication\/json\b/.test(m)?g=await f.json():g=await f.text(),c===xt.error?{type:c,error:new Uv(y,f.statusText,g),headers:f.headers}:{type:xt.data,data:g,statusCode:f.status,headers:f.headers}}if(c===xt.error)return{type:c,error:f};if(ZL(f)){var v,w;return{type:xt.deferred,deferredData:f,statusCode:(v=f.init)==null?void 0:v.status,headers:((w=f.init)==null?void 0:w.headers)&&new Headers(f.init.headers)}}return{type:xt.data,data:f}}function Xa(t,e,n,r){let i=t.createURL(Cx(e)).toString(),s={signal:n};if(r&&zr(r.formMethod)){let{formMethod:o,formEncType:a,formData:l}=r;s.method=o.toUpperCase(),s.body=a==="application/x-www-form-urlencoded"?Sx(l):l}return new Request(i,s)}function Sx(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function XL(t,e,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,f)=>{let h=e[f].route.id;if(Ee(!Wo(c),"Cannot handle redirect results in processLoaderData"),bl(c)){let p=Mo(t,h),v=c.error;r&&(v=Object.values(r)[0],r=void 0),o=o||{},o[p.route.id]==null&&(o[p.route.id]=v),s[h]=void 0,l||(l=!0,a=jo(c.error)?c.error.status:500),c.headers&&(u[h]=c.headers)}else Cs(c)?(i.set(h,c.deferredData),s[h]=c.deferredData.data):s[h]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[h]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function d_(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=XL(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:f,match:h}=s[c];Ee(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let p=o[c];if(bl(p)){let v=Mo(t.matches,h==null?void 0:h.route.id);u&&u[v.route.id]||(u=Ne({},u,{[v.route.id]:p.error})),t.fetchers.delete(f)}else if(Wo(p))Ee(!1,"Unhandled fetcher revalidation redirect");else if(Cs(p))Ee(!1,"Unhandled fetcher deferred data");else{let v={state:"idle",data:p.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(f,v)}}return{loaderData:l,errors:u}}function f_(t,e,n,r){let i=Ne({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Mo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function h_(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Sr(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"&&(a="defer() is not supported in actions")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Uv(t||500,o,new Error(a),!0)}function p_(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Wo(n))return n}}function Cx(t){let e=typeof t=="string"?gi(t):t;return li(Ne({},e,{hash:""}))}function JL(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function Cs(t){return t.type===xt.deferred}function bl(t){return t.type===xt.error}function Wo(t){return(t&&t.type)===xt.redirect}function ZL(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function eO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function tO(t){return VL.has(t.toLowerCase())}function zr(t){return UL.has(t.toLowerCase())}async function m_(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(f=>f.route.id===l.route.id),c=u!=null&&!Ex(u,l)&&(s&&s[l.route.id])!==void 0;Cs(a)&&(i||c)&&await Tx(a,r,i).then(f=>{f&&(n[o]=f||n[o])})}}async function Tx(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:xt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:xt.error,error:i}}return{type:xt.data,data:t.deferredData.data}}}function xx(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function g_(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Gg(t,e){let n=typeof e=="string"?gi(e).search:e.search;if(t[t.length-1].route.index&&xx(n||""))return t[t.length-1];let r=fh(t);return r[r.length-1]}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const rO=typeof Object.is=="function"?Object.is:nO,{useState:iO,useEffect:sO,useLayoutEffect:oO,useDebugValue:aO}=Km;function lO(t,e,n){const r=e(),[{inst:i},s]=iO({inst:{value:r,getSnapshot:e}});return oO(()=>{i.value=r,i.getSnapshot=e,Bp(i)&&s({inst:i})},[t,r,e]),sO(()=>(Bp(i)&&s({inst:i}),t(()=>{Bp(i)&&s({inst:i})})),[t]),aO(r),r}function Bp(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!rO(n,r)}catch{return!0}}function uO(t,e,n){return e()}const cO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dO=!cO,fO=dO?uO:lO,hO="useSyncExternalStore"in Km?(t=>t.useSyncExternalStore)(Km):fO,Fv=T.createContext(null),Pu=T.createContext(null),Ca=T.createContext(null),hh=T.createContext(null),os=T.createContext({outlet:null,matches:[]}),Ix=T.createContext(null);function Kg(){return Kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kg.apply(this,arguments)}function pO(t,e){let{relative:n}=e===void 0?{}:e;Ta()||Ee(!1);let{basename:r,navigator:i}=T.useContext(Ca),{hash:s,pathname:o,search:a}=zv(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ei([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ta(){return T.useContext(hh)!=null}function to(){return Ta()||Ee(!1),T.useContext(hh).location}function zn(){Ta()||Ee(!1);let{basename:t,navigator:e}=T.useContext(Ca),{matches:n}=T.useContext(os),{pathname:r}=to(),i=JSON.stringify(fh(n).map(a=>a.pathnameBase)),s=T.useRef(!1);return T.useEffect(()=>{s.current=!0}),T.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=$v(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:ei([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}const mO=T.createContext(null);function gO(t){let e=T.useContext(os).outlet;return e&&T.createElement(mO.Provider,{value:t},e)}function Vv(){let{matches:t}=T.useContext(os),e=t[t.length-1];return e?e.params:{}}function zv(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=T.useContext(os),{pathname:i}=to(),s=JSON.stringify(fh(r).map(o=>o.pathnameBase));return T.useMemo(()=>$v(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function yO(t,e){Ta()||Ee(!1);let{navigator:n}=T.useContext(Ca),r=T.useContext(Pu),{matches:i}=T.useContext(os),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=to(),u;if(e){var c;let w=typeof e=="string"?gi(e):e;a==="/"||(c=w.pathname)!=null&&c.startsWith(a)||Ee(!1),u=w}else u=l;let f=u.pathname||"/",h=a==="/"?f:f.slice(a.length)||"/",p=Do(t,{pathname:h}),v=EO(p&&p.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:ei([a,n.encodeLocation?n.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:ei([a,n.encodeLocation?n.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r||void 0);return e&&v?T.createElement(hh.Provider,{value:{location:Kg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:yt.Pop}},v):v}function vO(){let t=kx(),e=jo(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,s)}class wO extends T.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?T.createElement(os.Provider,{value:this.props.routeContext},T.createElement(Ix.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _O(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(Fv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(os.Provider,{value:e},r)}function EO(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Ee(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=T.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=T.createElement(vO,null));let c=e.concat(r.slice(0,a+1)),f=()=>{let h=s;return l?h=u:o.route.Component?h=T.createElement(o.route.Component,null):o.route.element&&(h=o.route.element),T.createElement(_O,{match:o,routeContext:{outlet:s,matches:c},children:h})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?T.createElement(wO,{location:n.location,component:u,error:l,children:f(),routeContext:{outlet:null,matches:c}}):f()},null)}var y_;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(y_||(y_={}));var Vd;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Vd||(Vd={}));function SO(t){let e=T.useContext(Pu);return e||Ee(!1),e}function CO(t){let e=T.useContext(os);return e||Ee(!1),e}function TO(t){let e=CO(),n=e.matches[e.matches.length-1];return n.route.id||Ee(!1),n.route.id}function kx(){var t;let e=T.useContext(Ix),n=SO(Vd.UseRouteError),r=TO(Vd.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function xO(t){let{fallbackElement:e,router:n}=t,r=T.useCallback(()=>n.state,[n]),i=hO(n.subscribe,r,r),s=T.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:l=>n.navigate(l),push:(l,u,c)=>n.navigate(l,{state:u,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(l,u,c)=>n.navigate(l,{replace:!0,state:u,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[n]),o=n.basename||"/",a=T.useMemo(()=>({router:n,navigator:s,static:!1,basename:o}),[n,s,o]);return T.createElement(T.Fragment,null,T.createElement(Fv.Provider,{value:a},T.createElement(Pu.Provider,{value:i},T.createElement(bO,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:s},n.state.initialized?T.createElement(RO,null):e))),null)}function bx(t){let{to:e,replace:n,state:r,relative:i}=t;Ta()||Ee(!1);let s=T.useContext(Pu),o=zn();return T.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function IO(t){return gO(t.context)}function kO(t){Ee(!1)}function bO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=yt.Pop,navigator:s,static:o=!1}=t;Ta()&&Ee(!1);let a=e.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=gi(r));let{pathname:u="/",search:c="",hash:f="",state:h=null,key:p="default"}=r,v=T.useMemo(()=>{let w=Au(u,a);return w==null?null:{location:{pathname:w,search:c,hash:f,state:h,key:p},navigationType:i}},[a,u,c,f,h,p,i]);return v==null?null:T.createElement(Ca.Provider,{value:l},T.createElement(hh.Provider,{children:n,value:v}))}function RO(t){let{children:e,location:n}=t,r=T.useContext(Fv),i=r&&!e?r.router.routes:Qg(e);return yO(i,n)}var v_;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(v_||(v_={}));new Promise(()=>{});function Qg(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,Qg(r.props.children,s));return}r.type!==kO&&Ee(!1),!r.props.index||!r.props.children||Ee(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Qg(r.props.children,s)),n.push(o)}),n}function AO(t){return!!t.ErrorBoundary||!!t.errorElement}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function su(){return su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},su.apply(this,arguments)}function Rx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function PO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function NO(t,e){return t.button===0&&(!e||e==="_self")&&!PO(t)}const LO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],OO=["aria-current","caseSensitive","className","end","style","to","children"];function DO(t,e){return GL({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:gL({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||jO(),routes:t,detectErrorBoundary:AO}).initialize()}function jO(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=su({},e,{errors:MO(e.errors)})),e}function MO(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Uv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let s=new Error(i.message);s.stack="",n[r]=s}else n[r]=i;return n}const $O=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ph=T.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,f=Rx(e,LO),{basename:h}=T.useContext(Ca),p,v=!1;if(typeof u=="string"&&UO.test(u)&&(p=u,$O)){let m=new URL(window.location.href),_=u.startsWith("//")?new URL(m.protocol+u):new URL(u),E=Au(_.pathname,h);_.origin===m.origin&&E!=null?u=E+_.search+_.hash:v=!0}let w=pO(u,{relative:i}),y=FO(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function g(m){r&&r(m),m.defaultPrevented||y(m)}return T.createElement("a",su({},f,{href:p||w,onClick:v||s?r:g,ref:n,target:l}))}),zd=T.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=e,c=Rx(e,OO),f=zv(l,{relative:c.relative}),h=to(),p=T.useContext(Pu),{navigator:v}=T.useContext(Ca),w=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,y=h.pathname,g=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(y=y.toLowerCase(),g=g?g.toLowerCase():null,w=w.toLowerCase());let m=y===w||!o&&y.startsWith(w)&&y.charAt(w.length)==="/",_=g!=null&&(g===w||!o&&g.startsWith(w)&&g.charAt(w.length)==="/"),E=m?r:void 0,S;typeof s=="function"?S=s({isActive:m,isPending:_}):S=[s,m?"active":null,_?"pending":null].filter(Boolean).join(" ");let x=typeof a=="function"?a({isActive:m,isPending:_}):a;return T.createElement(ph,su({},c,{"aria-current":E,className:S,ref:n,style:x,to:l}),typeof u=="function"?u({isActive:m,isPending:_}):u)});var w_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(w_||(w_={}));var __;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(__||(__={}));function FO(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=zn(),l=to(),u=zv(t,{relative:o});return T.useCallback(c=>{if(NO(c,n)){c.preventDefault();let f=r!==void 0?r:li(l)===li(u);a(t,{replace:f,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}function ke({size:t="default",strokeWidth:e=2,height:n,width:r,children:i,className:s,...o}){const a={tiny:"12px",small:"16px",default:"24px",medium:"32px",large:"36px",extra:"48px",custom:"24px"};return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:r||a[t],height:n||a[t],className:s,fill:"currentColor",stroke:"currentColor",strokeWidth:e,...o,children:i})}function Yg(t){return d.jsxs(ke,{width:"45px",height:"28px",viewBox:"0 0 45 28",stroke:"none",...t,children:[d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.48798 6L0 22.8H3.98401L5.48108 19.2H13.2687L14.76 22.8H18.84L11.328 6H7.48798ZM12.0459 16.248L9.38251 9.81833L6.70868 16.248H12.0459Z"}),d.jsx("path",{d:"M17.205 6L22.7009 22.8H26.877L30.6852 11.4169L34.3889 22.8H38.5649L44.0609 6H40.3409L36.4266 17.8967L32.5889 6H28.989L25.0272 17.809L21.2369 6H17.205Z"})]})}function VO(t,e){return e&&e.length===t.length?t.map((n,r)=>({...n,id:e[r]})):t.map((n,r)=>({...n,id:r}))}function zO(...t){return{className:t.flat(1/0).filter(e=>e).join(" ").trim()}}function BO(t,e,n,r=""){const i=document.createElement(e);if(n!=null&&n.class){const s=n.class.split(" ");i.classList.add(...s)}return n!=null&&n.id&&i.setAttribute("id",n.id),n!=null&&n.attributes&&n.attributes.forEach(s=>{const o=s.split("=")[0],a=(s.split("=")[1]||"").replaceAll('"',"");i.setAttribute(o,a)}),r&&(i.innerHTML=r),t.append(i),i}function HO(...t){return t.reduce((e,n)=>e.filter(r=>n.includes(r)))}function qO(){return Date.now()}function WO(...t){return t.reduce((e,n)=>e.filter(r=>!n.includes(r)))}function GO(t){return t.map((e,n)=>e!==""?n:"").filter(String)}function Bi(t,e){return Math.trunc(Math.random()*(e-t+1)+t)}function KO(){const t=Bi(0,255).toString(16),e=Bi(0,255).toString(16),n=Bi(0,255).toString(16);return`#${t}${e}${n}`}function QO(){const t=Bi(0,255),e=Bi(0,255),n=Bi(0,255);return[t,e,n]}function YO(){let t;return()=>{const e=t>window.scrollY?"UP":"DOWN";return t=window.scrollY,e}}const XO=YO();function yr(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function JO(t,e){return!e&&typeof t=="string"?t[0]:e&&typeof t!="string"?t[e].toString()[0]:null}function ZO(t,e){const n=new Map,r=t[0];if(typeof r!="string"&&!yr(r))throw new Error("Invalid value");if(!e&&yr(r))throw new Error("No key provided");return t.forEach(i=>{const s=JO(i,e);n.has(s)?n.set(s,[...n.get(s),i]):n.set(s,[i])}),Array.from(n.entries())}function eD(t){return Object.keys(t).length===0}function tD(...t){return t.flat(1/0).filter(e=>e).join(" ").trim()}function Xg(t){return new Date(+t)}function nD(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!yr(r))throw new Error("Invalid value");if(yr(r)&&!e)throw new Error("No key provided");let i=[];return!e&&typeof r=="string"&&(i=n.filter(s=>s.trim()!=="")),e&&typeof r!="string"&&(i=n.filter(s=>s[e].toString().trim()!=="")),i}function rD({callback:t,delay:e,counts:n}){let r=0;const i=setInterval(()=>{t(),r+=1,r===n&&clearInterval(i)},e);return i}function iD(t){const e=t.slice();for(let n=0;n<t.length;n++){const r=Bi(0,t.length-1);[e[n],e[r]]=[e[r],e[n]]}return e}function sD(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!yr(r))throw new Error("Invalid value");if(yr(r)&&!e)throw new Error("No key provided");let i=[];return!e&&typeof r=="string"&&(i=n.sort((s,o)=>s.localeCompare(o))),e&&typeof r!="string"&&(i=n.sort((s,o)=>s[e].toString().localeCompare(o[e].toString()))),i}function oD(t,e,n="num"){const r=t.slice();return e&&r.sort((i,s)=>{if(n==="num"){if(+i[e]<+s[e])return-1;if(+i[e]>+s[e])return 1}else{if(i[e]<s[e])return-1;if(i[e]>s[e])return 1}return 0}),r}function aD(t,e,n="..."){return t.length>e?`${t.substring(0,e).trim()}${n}`:t}function lD(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!yr(r))throw new Error("Invalid value");if(yr(r)&&!e)throw new Error("No key provided");let i=0;return!e&&typeof r=="string"?i=t.length-n.reverse().findIndex(s=>s!==""):e&&typeof r!="string"&&(i=t.length-n.reverse().findIndex(s=>s[e]!=="")),n.reverse().splice(0,i)}function uD(t,e){const n=t[0];if(typeof n!="string"&&!yr(n))throw new Error("Invalid value");if(yr(n)&&!e)throw new Error("No key provided");const r=t.slice();let i=0;return!e&&typeof n=="string"?i=r.findIndex(s=>s!==""):e&&typeof n!="string"&&(i=r.findIndex(s=>s[e]!=="")),r.splice(i)}const J={addId:VO,className:zO,createHTMLElem:BO,getCommonValues:HO,getCurrentDateInMs:qO,getDifferentValues:WO,getIndexesOfNonEmptyElements:GO,getRandomHEXColor:KO,getRandomNumber:Bi,getRandomRGBColor:QO,getScrollDirection:XO,groupBy:ZO,isObject:yr,isObjectEmpty:eD,join:tD,parseCurrentDateFromMs:Xg,removeEmptyValues:nD,setIntervalCounts:rD,shuffleArray:iD,sortArrayLocalCompare:sD,sortArrayOfObj:oD,stringCut:aD,trimEndEmptyValues:lD,trimStartEmptyValues:uD};function Bv({as:t="div",...e}){return d.jsx(t,{...e})}function Hv(t){const e=(t==null?void 0:t.size)===10?"col10":"col";return J.join([(t==null?void 0:t.xx)&&`${e}-xx-${t.xx}`,(t==null?void 0:t.xl)&&`${e}-xl-${t.xl}`,(t==null?void 0:t.lg)&&`${e}-lg-${t.lg}`,(t==null?void 0:t.md)&&`${e}-md-${t.md}`,(t==null?void 0:t.sm)&&`${e}-sm-${t.sm}`,(t==null?void 0:t.xs)&&`${e}-xs-${t.xs}`,(t==null?void 0:t.ss)&&`${e}-ss-${t.ss}`])}const ie=T.forwardRef(({component:t="div",grid:e,children:n,className:r,...i},s)=>{const o=e&&Hv(e),a={className:J.join(r,o),ref:s,...i};return d.jsx(Bv,{as:t,...a,children:n})});ie.displayName="Block";const cD="_StartScreen_eg3k4_1",dD="_logo_eg3k4_12",E_={StartScreen:cD,logo:dD,"logo-animation":"_logo-animation_eg3k4_1"};function fD(){return d.jsx(ie,{className:E_.StartScreen,children:d.jsx(Yg,{className:E_.logo})})}const St={about:"/about",chordslist:"/chordslist",home:"/",login:"/login",other:"/*",signup:"/signup",signupContinue:"/signup/continue",songslist:"/songslist",songslistSelection:"/songslist/selection"},Ln={user:"/user",chat:"/chat",users:"/users",userInfo:"/userInfo"},Ax={admin:"/admin"},ut=WN;function Dr(){const{user:t}=ut(i=>i.userReducer),{uid:e,userType:n,sex:r}=t;return{isAuth:!!e,isOwner:n==="owner",isAdmin:n==="admin",isUser:n==="user",isFillProfile:r}}const nt=T.forwardRef(({container:t,row:e,component:n="div",children:r,className:i,...s},o)=>{const a=[t&&"container",e&&"row"],l={className:J.join(i,a),ref:o,...s};return d.jsx(Bv,{as:n,...l,children:r})});nt.displayName="Grid";const hD="_h1_bjtyp_34",pD="_inversion_bjtyp_37",mD="_h2_bjtyp_41",gD="_h3_bjtyp_48",yD="_h4_bjtyp_55",vD="_h5_bjtyp_62",wD="_h6_bjtyp_69",_D="_subtitle1_bjtyp_76",ED="_subtitle2_bjtyp_83",SD="_p1_bjtyp_90",CD="_p2_bjtyp_97",TD="_caption_bjtyp_104",xD="_overline_bjtyp_111",ID="_link_bjtyp_118",kD="_input_bjtyp_132",bD="_button_bjtyp_460",tn={h1:hD,inversion:pD,h2:mD,h3:gD,h4:yD,h5:vD,h6:wD,subtitle1:_D,subtitle2:ED,p1:SD,p2:CD,caption:TD,overline:xD,link:ID,"link-sm":"_link-sm_bjtyp_125",input:kD,button:bD,"button-sm":"_button-sm_bjtyp_471","button-icon":"_button-icon_bjtyp_482","button-icon-sm":"_button-icon-sm_bjtyp_493"},RD="_Link_14qzb_57",AD="_noUnderline_14qzb_63",PD="_inverted_14qzb_66",ND="_hover_14qzb_76",LD="_disabled_14qzb_96",Rl={Link:RD,noUnderline:AD,inverted:PD,hover:ND,disabled:LD},qv=T.forwardRef(({display:t,underline:e,hover:n=!0,children:r,blank:i,className:s,...o},a)=>{const l=[t?tn[t]:tn.link,e===!1&&Rl.noUnderline,n&&Rl.hover],u=i&&{target:"_blank",rel:"noreferrer noopener"};return d.jsx("a",{className:J.join(Rl.Link,s,l),ref:a,...u,...o,children:r})});qv.displayName="Link";const zs=T.forwardRef(({display:t,underline:e,children:n,blank:r,className:i,...s},o)=>{const a=[t?tn[t]:tn.link,e===!1&&Rl.noUnderline],l=r&&{target:"_blank",rel:"noreferrer noopener"};return d.jsx("span",{className:J.join(Rl.Link,i,a),ref:o,...l,...s,children:n})});zs.displayName="LinkLabel";const OD="_Footer_14zpd_1",DD="_container_14zpd_1",S_={Footer:OD,container:DD};function jD(){const{pathname:t}=to(),{isAuth:e}=Dr(),n=dl("/login",t),r=dl("/signup",t);return dl("/songslist",t)||dl("/songslist/:page",t)?null:d.jsx(ie,{component:"footer",className:S_.Footer,children:d.jsx(nt,{container:!0,className:S_.container,children:!(n||r)&&e&&t!==Ln.chat&&d.jsx(qv,{display:"caption",underline:!1,href:"https://github.com/AmelianceSkyMusic",blank:!0,children:"AmelianceSkyMusic"})})})}function C_(t){return d.jsxs(ke,{width:"108px",height:"28px",viewBox:"0 0 108 28",stroke:"none",...t,children:[d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.48798 6L0 22.8H3.98401L5.48108 19.2H13.2687L14.76 22.8H18.84L11.328 6H7.48798ZM12.0459 16.248L9.38251 9.81833L6.70868 16.248H12.0459Z"}),d.jsx("path",{d:"M17.205 6L22.7009 22.8H26.877L30.6852 11.4169L34.3889 22.8H38.5649L44.0609 6H40.3409L36.4266 17.8967L32.5889 6H28.989L25.0272 17.809L21.2369 6H17.205Z"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M49.495 22.944C48.463 22.944 47.545 22.728 46.741 22.296C45.949 21.864 45.319 21.276 44.851 20.532C44.395 19.776 44.167 18.918 44.167 17.958C44.167 16.986 44.395 16.128 44.851 15.384C45.319 14.628 45.949 14.04 46.741 13.62C47.545 13.188 48.463 12.972 49.495 12.972C50.515 12.972 51.427 13.188 52.231 13.62C53.035 14.04 53.665 14.622 54.121 15.366C54.577 16.11 54.805 16.974 54.805 17.958C54.805 18.918 54.577 19.776 54.121 20.532C53.665 21.276 53.035 21.864 52.231 22.296C51.427 22.728 50.515 22.944 49.495 22.944ZM49.495 20.64C49.963 20.64 50.383 20.532 50.755 20.316C51.127 20.1 51.421 19.794 51.637 19.398C51.853 18.99 51.961 18.51 51.961 17.958C51.961 17.394 51.853 16.914 51.637 16.518C51.421 16.122 51.127 15.816 50.755 15.6C50.383 15.384 49.963 15.276 49.495 15.276C49.027 15.276 48.607 15.384 48.235 15.6C47.863 15.816 47.563 16.122 47.335 16.518C47.119 16.914 47.011 17.394 47.011 17.958C47.011 18.51 47.119 18.99 47.335 19.398C47.563 19.794 47.863 20.1 48.235 20.316C48.607 20.532 49.027 20.64 49.495 20.64Z"}),d.jsx("path",{d:"M60.364 13.116H57.6819V22.8H60.4899V18.228C60.4899 17.304 60.7239 16.626 61.1919 16.194C61.6719 15.75 62.2959 15.528 63.0639 15.528C63.1719 15.528 63.2739 15.534 63.3699 15.546C63.3847 15.546 63.3998 15.5461 63.4152 15.5464L63.4372 15.5469L63.4645 15.5478C63.5353 15.5504 63.6118 15.5558 63.6939 15.564V12.972C62.7819 12.972 62.0079 13.152 61.3719 13.512C60.9645 13.7349 60.6285 14.0267 60.364 14.3875V13.116Z"}),d.jsx("path",{d:"M69.6919 22.944C68.8639 22.944 68.0659 22.848 67.2979 22.656C66.5419 22.452 65.9419 22.2 65.4979 21.9L66.4339 19.884C66.8779 20.16 67.3999 20.388 67.9999 20.568C68.6119 20.736 69.2119 20.82 69.7999 20.82C70.4479 20.82 70.9039 20.742 71.1679 20.586C71.4438 20.43 71.5818 20.214 71.5818 19.938C71.5818 19.71 71.4739 19.542 71.2579 19.434C71.0539 19.314 70.7779 19.224 70.4299 19.164C70.2651 19.1356 70.0923 19.1072 69.9115 19.0789C69.7103 19.0472 69.4991 19.0156 69.2779 18.984C68.8699 18.924 68.4559 18.846 68.0359 18.75C67.6158 18.642 67.2319 18.486 66.8839 18.282C66.5359 18.078 66.2538 17.802 66.0379 17.454C65.8339 17.106 65.7319 16.656 65.7319 16.104C65.7319 15.492 65.9059 14.952 66.2538 14.484C66.6139 14.016 67.1299 13.65 67.8019 13.386C68.4739 13.11 69.2779 12.972 70.2139 12.972C70.8739 12.972 71.5459 13.044 72.2299 13.188C72.9139 13.332 73.4839 13.542 73.9399 13.818L73.0038 15.816C72.5359 15.54 72.0619 15.354 71.5818 15.258C71.1139 15.15 70.6579 15.096 70.2139 15.096C69.5899 15.096 69.1339 15.18 68.8459 15.348C68.5579 15.516 68.4139 15.732 68.4139 15.996C68.4139 16.236 68.5159 16.416 68.7198 16.536C68.9359 16.656 69.2179 16.752 69.5659 16.824C69.9139 16.896 70.2919 16.962 70.6999 17.022C71.1199 17.07 71.5399 17.148 71.9599 17.256C72.3799 17.364 72.7579 17.52 73.0939 17.724C73.4419 17.916 73.7239 18.186 73.9399 18.534C74.1559 18.87 74.2639 19.314 74.2639 19.866C74.2639 20.466 74.0839 21 73.7239 21.468C73.3639 21.924 72.8419 22.284 72.1579 22.548C71.4859 22.812 70.6639 22.944 69.6919 22.944Z"}),d.jsx("path",{d:"M84.9344 13.44C84.3344 13.128 83.6504 12.972 82.8824 12.972C82.0544 12.972 81.3163 13.146 80.6684 13.494C80.3424 13.669 80.0544 13.8821 79.8044 14.133V9.444H76.9964V22.8H79.8044V18.012C79.8044 17.412 79.9004 16.92 80.0923 16.536C80.2964 16.152 80.5724 15.87 80.9203 15.69C81.2804 15.498 81.6824 15.402 82.1264 15.402C82.7504 15.402 83.2303 15.588 83.5663 15.96C83.9144 16.332 84.0884 16.908 84.0884 17.688V22.8H86.8964V17.256C86.8964 16.272 86.7224 15.468 86.3744 14.844C86.0264 14.208 85.5464 13.74 84.9344 13.44Z"}),d.jsx("path",{d:"M91.8457 11.766C91.3297 11.766 90.9097 11.616 90.5857 11.316C90.2617 11.016 90.0997 10.644 90.0997 10.2C90.0997 9.75601 90.2617 9.384 90.5857 9.08401C90.9097 8.784 91.3297 8.634 91.8457 8.634C92.3617 8.634 92.7817 8.77802 93.1057 9.06601C93.4297 9.34201 93.5917 9.702 93.5917 10.146C93.5917 10.614 93.4297 11.004 93.1057 11.316C92.7937 11.616 92.3737 11.766 91.8457 11.766Z"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M100.438 22.404C101.05 22.764 101.764 22.944 102.58 22.944C103.492 22.944 104.308 22.74 105.028 22.332C105.76 21.924 106.336 21.348 106.756 20.604C107.188 19.86 107.404 18.978 107.404 17.958C107.404 16.95 107.188 16.074 106.756 15.33C106.336 14.586 105.76 14.01 105.028 13.602C104.308 13.182 103.492 12.972 102.58 12.972C101.728 12.972 100.996 13.152 100.384 13.512C100.062 13.7013 99.7799 13.942 99.5378 14.2342V13.116H96.8557V26.292H99.6638V21.7747C99.8927 22.0254 100.151 22.2352 100.438 22.404ZM103.336 20.316C102.976 20.532 102.562 20.64 102.094 20.64C101.626 20.64 101.206 20.532 100.834 20.316C100.462 20.1 100.168 19.794 99.9518 19.398C99.7357 18.99 99.6277 18.51 99.6277 17.958C99.6277 17.394 99.7357 16.914 99.9518 16.518C100.168 16.122 100.462 15.816 100.834 15.6C101.206 15.384 101.626 15.276 102.094 15.276C102.562 15.276 102.976 15.384 103.336 15.6C103.708 15.816 104.002 16.122 104.218 16.518C104.446 16.914 104.56 17.394 104.56 17.958C104.56 18.51 104.446 18.99 104.218 19.398C104.002 19.794 103.708 20.1 103.336 20.316Z"}),d.jsx("path",{d:"M90.4417 22.8V13.116H93.2497V22.8H90.4417Z"})]})}function MD({type:t}){const{isAuth:e}=Dr();return d.jsxs(ph,{to:"/",style:{color:"var(--color--f1-0)"},children:[t==="short"&&d.jsx(Yg,{}),t==="normal"&&d.jsx(C_,{}),!t&&(e?d.jsx(C_,{}):d.jsx(Yg,{}))]})}const $D="_Button_n3hsj_106",UD="_tiny_n3hsj_121",FD="_small_n3hsj_124",VD="_medium_n3hsj_130",zD="_large_n3hsj_133",BD="_extra_n3hsj_136",HD="_disabled_n3hsj_145",qD="_label_n3hsj_160",WD="_icon_n3hsj_187",GD="_secondary_n3hsj_211",KD="_text_n3hsj_228",Tr={Button:$D,tiny:UD,small:FD,default:"_default_n3hsj_127",medium:VD,large:zD,extra:BD,disabled:HD,label:qD,icon:WD,secondary:GD,text:KD},st=T.forwardRef(({size:t="default",type:e="primary",submit:n,children:r,className:i,...s},o)=>{const a=Array.isArray(r)?r==null?void 0:r.some(c=>typeof c=="string"):typeof r=="string",l=t&&Tr[t],u=[e&&Tr[e],!a&&Tr.icon];return d.jsx("button",{type:n?"submit":"button",className:J.join(Tr.Button,i,l,u),ref:o,...s,children:d.jsx("span",{className:J.join(Tr.label,tn.button,l),children:r})})});st.displayName="Button";const Wv=T.forwardRef(({size:t="default",width:e,height:n,type:r="primary",blank:i,customStyle:s,children:o,className:a,style:l,...u},c)=>{const f=Array.isArray(o)?o==null?void 0:o.some(w=>typeof w=="string"):typeof o=="string",h=[t&&Tr[t],r&&Tr[r],!f&&Tr.icon,Tr.Button],p=i&&{target:"_blank",rel:"noreferrer noopener"},v=t==="custom"?{width:e,height:n}:{};return d.jsx("a",{className:J.join(a,!s&&h),ref:c,style:{...l,...v},...p,...u,children:d.jsx("span",{className:J.join(Tr.label,tn.button),children:o})})});Wv.displayName="ButtonLink";function Px(){localStorage.clear(),window.location.reload()}function Bd(){return Date.now()}function QD(){const t=new Date;return`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`}function ti(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function YD(t,e){return typeof t=="string"?t[0]:ti(t)&&e||Array.isArray(t)&&e&&typeof e=="number"?String(t[e])[0]:""}function XD(t,e){const n=t[0];if(typeof n!="string"&&!ti(n)&&!Array.isArray(n))throw new Error("Invalid value");if((ti(n)||Array.isArray(n))&&!e)throw new Error("No key provided");if(Array.isArray(n)&&typeof e=="string")throw new Error("Key should be array index number");const r=new Map;return t.forEach(i=>{const s=YD(i,e||void 0);r.has(s)?r.set(s,[...r.get(s),i]):r.set(s,[i])}),Array.from(r.entries())}function Bs(t){return Object.keys(t).length===0}function Tt(...t){return t.flat(1/0).filter(e=>e).join(" ").trim()}function Cc(t){return new Date(Number(t))}function JD(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!ti(r)&&!Array.isArray(r))throw new Error("Invalid value");if((ti(r)||Array.isArray(r))&&!e)throw new Error("No key provided");if(Array.isArray(r)&&typeof e=="string")throw new Error("Key should be array index number");let i=[];return(typeof r=="string"||typeof r=="number")&&(i=n.filter(s=>String(s).trim()!=="")),ti(r)&&e&&(i=n.filter(s=>String(s[e]).trim()!=="")),Array.isArray(r)&&e&&typeof e=="number"&&(i=n.filter(s=>String(s[e]).trim()!=="")),i}function Nx(t,e,n){var s,o;const r=n?3:2;let i="Sorry, something went wrong ¯\\_(ツ)_/¯!";return t&&(typeof t=="string"&&(i=t),t instanceof Error&&(i=t.message)),e?console.error(`${e} >`,`${i}
`,(s=new Error().stack)==null?void 0:s.split(`
`)[r]):console.error(`${i}
`,(o=new Error().stack)==null?void 0:o.split(`
`)[r]),i}function ZD(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!ti(r)&&!Array.isArray(r))throw new Error("Invalid value");if((ti(r)||Array.isArray(r))&&!e)throw new Error("No key provided");if(Array.isArray(r)&&typeof e=="string")throw new Error("Key should be array index number");let i=[];return(typeof r=="string"||typeof r=="string")&&(i=n.sort((s,o)=>{const a=String(s),l=String(o);return a.localeCompare(l)})),ti(r)&&e&&(i=n.sort((s,o)=>{const a=String(s[e]),l=String(o[e]);return a.localeCompare(l.toString())})),Array.isArray(r)&&e&&typeof e=="number"&&(i=n.sort((s,o)=>{const a=String(s[e]),l=String(o[e]);return a.localeCompare(l)})),i}function ej(t,e,n="num"){const r=t.slice();return e&&r.sort((i,s)=>{if(n==="num"){if(+i[e]<+s[e])return-1;if(+i[e]>+s[e])return 1}else{if(i[e]<s[e])return-1;if(i[e]>s[e])return 1}return 0}),r}function T_(t){const e=t*1e3,n=new Date(e).toISOString().slice(11,19);return n.match(/^00/)?n.slice(3):n}const tj="ameliance-scripts";async function nj(t){if(t)try{return await navigator.clipboard.writeText(t),!0}catch(e){throw new Error(Nx(e,tj))}return!1}function rj(){const[t,e]=T.useState();return T.useEffect(()=>{typeof t=="boolean"&&(t===!0&&!document.fullscreenElement?document.documentElement.requestFullscreen():document.exitFullscreen&&document.exitFullscreen())},[t]),e}function dr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ji(t){return!!t&&!!t[tt]}function ui(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===fj}(t)||Array.isArray(t)||!!t[P_]||!!(!((e=t.constructor)===null||e===void 0)&&e[P_])||Gv(t)||Kv(t))}function Hs(t,e,n){n===void 0&&(n=!1),xa(t)===0?(n?Object.keys:Ko)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function xa(t){var e=t[tt];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Gv(t)?2:Kv(t)?3:0}function Go(t,e){return xa(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function ij(t,e){return xa(t)===2?t.get(e):t[e]}function Lx(t,e,n){var r=xa(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Ox(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Gv(t){return cj&&t instanceof Map}function Kv(t){return dj&&t instanceof Set}function ys(t){return t.o||t.t}function Qv(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=jx(t);delete e[tt];for(var n=Ko(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function Yv(t,e){return e===void 0&&(e=!1),Xv(t)||Ji(t)||!ui(t)||(xa(t)>1&&(t.set=t.add=t.clear=t.delete=sj),Object.freeze(t),e&&Hs(t,function(n,r){return Yv(r,!0)},!0)),t}function sj(){dr(2)}function Xv(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Ar(t){var e=ty[t];return e||dr(18,t),e}function oj(t,e){ty[t]||(ty[t]=e)}function Jg(){return ou}function Hp(t,e){e&&(Ar("Patches"),t.u=[],t.s=[],t.v=e)}function Hd(t){Zg(t),t.p.forEach(aj),t.p=null}function Zg(t){t===ou&&(ou=t.l)}function x_(t){return ou={p:[],l:ou,h:t,m:!0,_:0}}function aj(t){var e=t[tt];e.i===0||e.i===1?e.j():e.g=!0}function qp(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Ar("ES5").S(e,t,r),r?(n[tt].P&&(Hd(e),dr(4)),ui(t)&&(t=qd(e,t),e.l||Wd(e,t)),e.u&&Ar("Patches").M(n[tt].t,t,e.u,e.s)):t=qd(e,n,[]),Hd(e),e.u&&e.v(e.u,e.s),t!==Dx?t:void 0}function qd(t,e,n){if(Xv(e))return e;var r=e[tt];if(!r)return Hs(e,function(a,l){return I_(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Wd(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Qv(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Hs(s,function(a,l){return I_(t,r,i,a,l,n,o)}),Wd(t,i,!1),n&&t.u&&Ar("Patches").N(r,n,t.u,t.s)}return r.o}function I_(t,e,n,r,i,s,o){if(Ji(i)){var a=qd(t,i,s&&e&&e.i!==3&&!Go(e.R,r)?s.concat(r):void 0);if(Lx(n,r,a),!Ji(a))return;t.m=!1}else o&&n.add(i);if(ui(i)&&!Xv(i)){if(!t.h.D&&t._<1)return;qd(t,i),e&&e.A.l||Wd(t,i)}}function Wd(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&Yv(e,n)}function Wp(t,e){var n=t[tt];return(n?ys(n):t)[e]}function k_(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function ki(t){t.P||(t.P=!0,t.l&&ki(t.l))}function Gp(t){t.o||(t.o=Qv(t.t))}function ey(t,e,n){var r=Gv(e)?Ar("MapSet").F(e,n):Kv(e)?Ar("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Jg(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=au;o&&(l=[a],u=fl);var c=Proxy.revocable(l,u),f=c.revoke,h=c.proxy;return a.k=h,a.j=f,h}(e,n):Ar("ES5").J(e,n);return(n?n.A:Jg()).p.push(r),r}function lj(t){return Ji(t)||dr(22,t),function e(n){if(!ui(n))return n;var r,i=n[tt],s=xa(n);if(i){if(!i.P&&(i.i<4||!Ar("ES5").K(i)))return i.t;i.I=!0,r=b_(n,s),i.I=!1}else r=b_(n,s);return Hs(r,function(o,a){i&&ij(i.t,o)===a||Lx(r,o,e(a))}),s===3?new Set(r):r}(t)}function b_(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Qv(t)}function uj(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[tt];return au.get(l,s)},set:function(l){var u=this[tt];au.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][tt];if(!a.P)switch(a.i){case 5:r(a)&&ki(a);break;case 4:n(a)&&ki(a)}}}function n(s){for(var o=s.t,a=s.k,l=Ko(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==tt){var f=o[c];if(f===void 0&&!Go(o,c))return!0;var h=a[c],p=h&&h[tt];if(p?p.t!==f:!Ox(h,f))return!0}}var v=!!o[tt];return l.length!==Ko(o).length+(v?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};oj("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,f){if(c){for(var h=Array(f.length),p=0;p<f.length;p++)Object.defineProperty(h,""+p,t(p,!0));return h}var v=jx(f);delete v[tt];for(var w=Ko(v),y=0;y<w.length;y++){var g=w[y];v[g]=t(g,c||!!v[g].enumerable)}return Object.create(Object.getPrototypeOf(f),v)}(a,s),u={i:a?5:4,A:o?o.A:Jg(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,tt,{value:u,writable:!0}),l},S:function(s,o,a){a?Ji(o)&&o[tt].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[tt];if(c){var f=c.t,h=c.k,p=c.R,v=c.i;if(v===4)Hs(h,function(_){_!==tt&&(f[_]!==void 0||Go(f,_)?p[_]||l(h[_]):(p[_]=!0,ki(c)))}),Hs(f,function(_){h[_]!==void 0||Go(h,_)||(p[_]=!1,ki(c))});else if(v===5){if(r(c)&&(ki(c),p.length=!0),h.length<f.length)for(var w=h.length;w<f.length;w++)p[w]=!1;else for(var y=f.length;y<h.length;y++)p[y]=!0;for(var g=Math.min(h.length,f.length),m=0;m<g;m++)h.hasOwnProperty(m)||(p[m]=!0),p[m]===void 0&&l(h[m])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var R_,ou,Jv=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",cj=typeof Map<"u",dj=typeof Set<"u",A_=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Dx=Jv?Symbol.for("immer-nothing"):((R_={})["immer-nothing"]=!0,R_),P_=Jv?Symbol.for("immer-draftable"):"__$immer_draftable",tt=Jv?Symbol.for("immer-state"):"__$immer_state",fj=""+Object.prototype.constructor,Ko=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,jx=Object.getOwnPropertyDescriptors||function(t){var e={};return Ko(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},ty={},au={get:function(t,e){if(e===tt)return t;var n=ys(t);if(!Go(n,e))return function(i,s,o){var a,l=k_(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!ui(r)?r:r===Wp(t.t,e)?(Gp(t),t.o[e]=ey(t.A.h,r,t)):r},has:function(t,e){return e in ys(t)},ownKeys:function(t){return Reflect.ownKeys(ys(t))},set:function(t,e,n){var r=k_(ys(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Wp(ys(t),e),s=i==null?void 0:i[tt];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(Ox(n,i)&&(n!==void 0||Go(t.t,e)))return!0;Gp(t),ki(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Wp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Gp(t),ki(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=ys(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){dr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){dr(12)}},fl={};Hs(au,function(t,e){fl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),fl.deleteProperty=function(t,e){return fl.set.call(this,t,e,void 0)},fl.set=function(t,e,n){return au.set.call(this,t[0],e,n,t[0])};var hj=function(){function t(n){var r=this;this.O=A_,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(w){var y=this;w===void 0&&(w=a);for(var g=arguments.length,m=Array(g>1?g-1:0),_=1;_<g;_++)m[_-1]=arguments[_];return l.produce(w,function(E){var S;return(S=s).call.apply(S,[y,E].concat(m))})}}var u;if(typeof s!="function"&&dr(6),o!==void 0&&typeof o!="function"&&dr(7),ui(i)){var c=x_(r),f=ey(r,i,void 0),h=!0;try{u=s(f),h=!1}finally{h?Hd(c):Zg(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(w){return Hp(c,o),qp(w,c)},function(w){throw Hd(c),w}):(Hp(c,o),qp(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===Dx&&(u=void 0),r.D&&Yv(u,!0),o){var p=[],v=[];Ar("Patches").M(i,u,p,v),o(p,v)}return u}dr(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,f=Array(c>1?c-1:0),h=1;h<c;h++)f[h-1]=arguments[h];return r.produceWithPatches(u,function(p){return i.apply(void 0,[p].concat(f))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){ui(n)||dr(8),Ji(n)&&(n=lj(n));var r=x_(this),i=ey(this,n,void 0);return i[tt].C=!0,Zg(r),i},e.finishDraft=function(n,r){var i=n&&n[tt],s=i.A;return Hp(s,r),qp(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!A_&&dr(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Ar("Patches").$;return Ji(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),Mn=new hj,Mx=Mn.produce;Mn.produceWithPatches.bind(Mn);Mn.setAutoFreeze.bind(Mn);Mn.setUseProxies.bind(Mn);Mn.applyPatches.bind(Mn);Mn.createDraft.bind(Mn);Mn.finishDraft.bind(Mn);function lu(t){return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function pj(t,e){if(lu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mj(t){var e=pj(t,"string");return lu(e)==="symbol"?e:String(e)}function gj(t,e,n){return e=mj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N_(Object(n),!0).forEach(function(r){gj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var O_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Kp=function(){return Math.random().toString(36).substring(7).split("").join(".")},Gd={INIT:"@@redux/INIT"+Kp(),REPLACE:"@@redux/REPLACE"+Kp(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Kp()}};function yj(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Zv(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Yt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Yt(1));return n(Zv)(t,e)}if(typeof t!="function")throw new Error(Yt(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(Yt(3));return s}function f(w){if(typeof w!="function")throw new Error(Yt(4));if(l)throw new Error(Yt(5));var y=!0;return u(),a.push(w),function(){if(y){if(l)throw new Error(Yt(6));y=!1,u();var m=a.indexOf(w);a.splice(m,1),o=null}}}function h(w){if(!yj(w))throw new Error(Yt(7));if(typeof w.type>"u")throw new Error(Yt(8));if(l)throw new Error(Yt(9));try{l=!0,s=i(s,w)}finally{l=!1}for(var y=o=a,g=0;g<y.length;g++){var m=y[g];m()}return w}function p(w){if(typeof w!="function")throw new Error(Yt(10));i=w,h({type:Gd.REPLACE})}function v(){var w,y=f;return w={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(Yt(11));function _(){m.next&&m.next(c())}_();var E=y(_);return{unsubscribe:E}}},w[O_]=function(){return this},w}return h({type:Gd.INIT}),r={dispatch:h,subscribe:f,getState:c,replaceReducer:p},r[O_]=v,r}function vj(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Gd.INIT});if(typeof r>"u")throw new Error(Yt(12));if(typeof n(void 0,{type:Gd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Yt(13))})}function $x(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{vj(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,f={},h=0;h<s.length;h++){var p=s[h],v=n[p],w=l[p],y=v(w,u);if(typeof y>"u")throw u&&u.type,new Error(Yt(14));f[p]=y,c=c||y!==w}return c=c||s.length!==Object.keys(l).length,c?f:l}}function Kd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function wj(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Yt(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=Kd.apply(void 0,a)(i.dispatch),L_(L_({},i),{},{dispatch:s})}}}function Ux(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var Fx=Ux();Fx.withExtraArgument=Ux;const D_=Fx;var Vx=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_j=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ua=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Ej=Object.defineProperty,Sj=Object.defineProperties,Cj=Object.getOwnPropertyDescriptors,j_=Object.getOwnPropertySymbols,Tj=Object.prototype.hasOwnProperty,xj=Object.prototype.propertyIsEnumerable,M_=function(t,e,n){return e in t?Ej(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Hi=function(t,e){for(var n in e||(e={}))Tj.call(e,n)&&M_(t,n,e[n]);if(j_)for(var r=0,i=j_(e);r<i.length;r++){var n=i[r];xj.call(e,n)&&M_(t,n,e[n])}return t},Qp=function(t,e){return Sj(t,Cj(e))},Ij=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},kj=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Kd:Kd.apply(null,arguments)};function bj(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var Rj=function(t){Vx(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,ua([void 0],n[0].concat(this)))):new(e.bind.apply(e,ua([void 0],n.concat(this))))},e}(Array),Aj=function(t){Vx(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,ua([void 0],n[0].concat(this)))):new(e.bind.apply(e,ua([void 0],n.concat(this))))},e}(Array);function ny(t){return ui(t)?Mx(t,function(){}):t}function Pj(t){return typeof t=="boolean"}function Nj(){return function(e){return Lj(e)}}function Lj(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new Rj;return n&&(Pj(n)?r.push(D_):r.push(D_.withExtraArgument(n.extraArgument))),r}var Oj=!0;function Dj(t){var e=Nj(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,f=n.enhancers,h=f===void 0?void 0:f,p;if(typeof i=="function")p=i;else if(bj(i))p=$x(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var v=o;typeof v=="function"&&(v=v(e));var w=wj.apply(void 0,v),y=Kd;l&&(y=kj(Hi({trace:!Oj},typeof l=="object"&&l)));var g=new Aj(w),m=g;Array.isArray(h)?m=ua([w],h):typeof h=="function"&&(m=h(g));var _=y.apply(void 0,m);return Zv(p,c,_)}function qi(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Hi(Hi({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function zx(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function jj(t){return typeof t=="function"}function Mj(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?zx(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(jj(t))l=function(){return ny(t())};else{var u=ny(t);l=function(){return u}}function c(f,h){f===void 0&&(f=l());var p=ua([s[h.type]],o.filter(function(v){var w=v.matcher;return w(h)}).map(function(v){var w=v.reducer;return w}));return p.filter(function(v){return!!v}).length===0&&(p=[a]),p.reduce(function(v,w){if(w)if(Ji(v)){var y=v,g=w(y,h);return g===void 0?v:g}else{if(ui(v))return Mx(v,function(m){return w(m,h)});var g=w(v,h);if(g===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return v},f)}return c.getInitialState=l,c}function $j(t,e){return t+"/"+e}function Ia(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:ny(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var f=r[c],h=$j(e,c),p,v;"reducer"in f?(p=f.reducer,v=f.prepare):p=f,s[c]=p,o[h]=p,a[c]=v?qi(h,v):qi(h)});function l(){var c=typeof t.extraReducers=="function"?zx(t.extraReducers):[t.extraReducers],f=c[0],h=f===void 0?{}:f,p=c[1],v=p===void 0?[]:p,w=c[2],y=w===void 0?void 0:w,g=Hi(Hi({},h),o);return Mj(n,function(m){for(var _ in g)m.addCase(_,g[_]);for(var E=0,S=v;E<S.length;E++){var x=S[E];m.addMatcher(x.matcher,x.reducer)}y&&m.addDefaultCase(y)})}var u;return{name:e,reducer:function(c,f){return u||(u=l()),u(c,f)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var Uj="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Fj=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=Uj[Math.random()*64|0];return e},Vj=["name","message","stack","code"],Yp=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),$_=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),zj=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=Vj;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}},jr=function(){function t(e,n,r){var i=qi(e+"/fulfilled",function(u,c,f,h){return{payload:u,meta:Qp(Hi({},h||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),s=qi(e+"/pending",function(u,c,f){return{payload:void 0,meta:Qp(Hi({},f||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=qi(e+"/rejected",function(u,c,f,h,p){return{payload:h,error:(r&&r.serializeError||zj)(u||"Rejected"),meta:Qp(Hi({},p||{}),{arg:f,requestId:c,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,f,h){var p=r!=null&&r.idGenerator?r.idGenerator(u):Fj(),v=new a,w;function y(m){w=m,v.abort()}var g=function(){return Ij(this,null,function(){var m,_,E,S,x,I,P;return _j(this,function(R){switch(R.label){case 0:return R.trys.push([0,4,,5]),S=(m=r==null?void 0:r.condition)==null?void 0:m.call(r,u,{getState:f,extra:h}),Hj(S)?[4,S]:[3,2];case 1:S=R.sent(),R.label=2;case 2:if(S===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return x=new Promise(function(O,W){return v.signal.addEventListener("abort",function(){return W({name:"AbortError",message:w||"Aborted"})})}),c(s(p,u,(_=r==null?void 0:r.getPendingMeta)==null?void 0:_.call(r,{requestId:p,arg:u},{getState:f,extra:h}))),[4,Promise.race([x,Promise.resolve(n(u,{dispatch:c,getState:f,extra:h,requestId:p,signal:v.signal,abort:y,rejectWithValue:function(O,W){return new Yp(O,W)},fulfillWithValue:function(O,W){return new $_(O,W)}})).then(function(O){if(O instanceof Yp)throw O;return O instanceof $_?i(O.payload,p,u,O.meta):i(O,p,u)})])];case 3:return E=R.sent(),[3,5];case 4:return I=R.sent(),E=I instanceof Yp?o(null,p,u,I.payload,I.meta):o(I,p,u),[3,5];case 5:return P=r&&!r.dispatchConditionRejection&&o.match(E)&&E.meta.condition,P||c(E),[2,E]}})})}();return Object.assign(g,{abort:y,requestId:p,arg:u,unwrap:function(){return g.then(Bj)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t}();function Bj(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Hj(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var e1="listenerMiddleware";qi(e1+"/add");qi(e1+"/removeAll");qi(e1+"/remove");var U_;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);uj();const t1={version:"2023-03-28_15-54",name:"amelianceworship"},qj={theme:"dark",version:t1.version},Bx=Ia({name:"app",initialState:qj,reducers:{setTheme(t,e){t.theme=e.payload},toggleTheme(t){t.theme=t.theme==="light"?"dark":"light"}}}),un=dL;function ae(t){return Nx(t,t1.name,!0)}const Wj="AKfycbxGD1Lys79Ixt4BQ5mfH3ylX4_ZvtSGUFHltMILILPBWtcdPoSlI3FD5Ir8OcwtBA",Hx=`https://script.google.com/macros/s/${Wj}/exec`;async function no({spreadsheetId:t,sheetName:e,sheetIndex:n,columnTitles:r,columnIndexes:i,type:s}){const o=new URLSearchParams;t&&o.append("spreadsheetId",t),e&&o.append("sheetName",e),n&&o.append("sheetIndex",n.toString()),r&&o.append("columnTitles",JSON.stringify(r)),i&&o.append("columnIndexes",JSON.stringify(i)),s&&o.append("type",s);try{const l=await(await fetch(`${Hx}?${o}`)).text(),u=await JSON.parse(l);if(u.status!=="success")throw new Error(u.error);return u}catch(a){throw new Error(ae(a))}}async function Gj({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await no({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"TITLED"})}catch(r){throw new Error(ae(r))}}async function Kj({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await no({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"TITLED_SINGLE"})}catch(r){throw new Error(ae(r))}}async function Qj({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r}){try{return await no({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r,type:"TITLED"})}catch(i){throw new Error(ae(i))}}async function Yj({spreadsheetId:t,sheetIndex:e,sheetName:n,columnTitles:r}){try{return await no({spreadsheetId:t,sheetIndex:e,sheetName:n,columnTitles:r,type:"TITLED"})}catch(i){throw new Error(ae(i))}}async function Xj({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await no({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"UNTITLED"})}catch(r){throw new Error(ae(r))}}async function Jj({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await no({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"UNTITLED_SINGLE"})}catch(r){throw new Error(ae(r))}}async function Zj({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r}){try{return no({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r,type:"UNTITLED"})}catch(i){throw new Error(ae(i))}}async function yi({spreadsheetId:t,sheetName:e,sheetIndex:n,titlesParams:r,indexesParams:i,type:s,col:o,row:a,value:l}){const u=new URLSearchParams;t&&u.append("spreadsheetId",t),e&&u.append("sheetName",e),n&&u.append("sheetIndex",n.toString()),r&&u.append("titlesParams",JSON.stringify(r)),i&&u.append("indexesParams",JSON.stringify(i)),s&&u.append("type",s),o&&u.append("col",o.toString()),a&&u.append("row",a.toString()),l&&u.append("value",l.toString());try{const f=await(await fetch(`${Hx}?${u}`,{method:"POST"})).text(),h=await JSON.parse(f);if(h.status!=="success")throw new Error(h.error);return h}catch(c){throw new Error(ae(c))}}async function eM({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await yi({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"TITLED_SINGLE"})}catch(i){throw new Error(ae(i))}}async function tM({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){try{return await yi({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED_SINGLE"})}catch(i){throw new Error(ae(i))}}async function nM({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await yi({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"TITLED"})}catch(i){throw new Error(ae(i))}}async function rM({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){try{return await yi({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED"})}catch(i){throw new Error(ae(i))}}async function iM({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s}){try{return await yi({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s,type:"TITLED_UPDATE"})}catch(o){throw new Error(ae(o))}}async function sM({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await yi({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED_ONE_ROW"})}catch(i){throw new Error(ae(i))}}async function oM({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await yi({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED_SINGLE"})}catch(i){throw new Error(ae(i))}}async function aM({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await yi({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED"})}catch(i){throw new Error(ae(i))}}async function lM({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s}){try{return await yi({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s,type:"UNTITLED_UPDATE"})}catch(o){throw new Error(ae(o))}}const uM={getAllTitledColumnsData:Gj,getTitledColumnsDataByIndexes:Qj,getTitledColumnsDataByTitles:Yj,getAllUntitledColumnsData:Xj,getUntitledColumnsDataByIndexes:Zj,postTitledColumnsDataByIndexes:nM,postSingleTitledColumnsDataByIndexes:eM,postSingleTitledColumnsDataByTitles:tM,postTitledColumnsDataByTitles:rM,postAllUntitledParamsAsOneRow:sM,postSingleUntitledColumnsDataByIndexes:oM,postUntitledColumnsDataByIndexes:aM,postTitledUpdate:iM,postUntitledUpdate:lM,getAllTitledColumnsDataSingle:Kj,getAllUntitledColumnsDataSingle:Jj};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},cM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Wx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),r.push(n[c],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new dM;const h=s<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fM=function(t){const e=qx(t);return Wx.encodeByteArray(e,!0)},Qd=function(t){return fM(t).replace(/\./g,"")},Gx=function(t){try{return Wx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=()=>hM().__FIREBASE_DEFAULTS__,mM=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Gx(t[1]);return e&&JSON.parse(e)},mh=()=>{try{return pM()||mM()||gM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Kx=t=>{var e,n;return(n=(e=mh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Qx=t=>{const e=Kx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yM=()=>{var t;return(t=mh())===null||t===void 0?void 0:t.config},Yx=t=>{var e;return(e=mh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Qd(JSON.stringify(n)),Qd(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function _M(){var t;const e=(t=mh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SM(){const t=an();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Zx(){try{return typeof indexedDB=="object"}catch{return!1}}function eI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function CM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="FirebaseError";class er extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TM,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ro.prototype.create)}}class ro{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?xM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new er(i,a,r)}}function xM(t,e){return t.replace(IM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const IM=/\{\$([^}]+)}/g;function kM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(F_(s)&&F_(o)){if(!uu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function F_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function pl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function bM(t,e){const n=new RM(t,e);return n.subscribe.bind(n)}class RM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Xp),i.error===void 0&&(i.error=Xp),i.complete===void 0&&(i.complete=Xp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=1e3,NM=2,LM=4*60*60*1e3,OM=.5;function V_(t,e=PM,n=NM){const r=e*Math.pow(n,t),i=Math.round(OM*r*(Math.random()-.5)*2);return Math.min(LM,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t){return t&&t._delegate?t._delegate:t}class Xn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MM(e))try{this.getOrInitializeService({instanceIdentifier:vs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vs){return this.instances.has(e)}getOptions(e=vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vs){return this.component?this.component.multipleInstances?e:vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jM(t){return t===vs?void 0:t}function MM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const UM={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},FM=Oe.INFO,VM={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},zM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=VM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gh{constructor(e){this.name=e,this._logLevel=FM,this._logHandler=zM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const BM=(t,e)=>e.some(n=>t instanceof n);let z_,B_;function HM(){return z_||(z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qM(){return B_||(B_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tI=new WeakMap,ry=new WeakMap,nI=new WeakMap,Jp=new WeakMap,n1=new WeakMap;function WM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Wi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tI.set(n,t)}).catch(()=>{}),n1.set(e,t),e}function GM(t){if(ry.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ry.set(t,e)}let iy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ry.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KM(t){iy=t(iy)}function QM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zp(this),e,...n);return nI.set(r,e.sort?e.sort():[e]),Wi(r)}:qM().includes(t)?function(...e){return t.apply(Zp(this),e),Wi(tI.get(this))}:function(...e){return Wi(t.apply(Zp(this),e))}}function YM(t){return typeof t=="function"?QM(t):(t instanceof IDBTransaction&&GM(t),BM(t,HM())?new Proxy(t,iy):t)}function Wi(t){if(t instanceof IDBRequest)return WM(t);if(Jp.has(t))return Jp.get(t);const e=YM(t);return e!==t&&(Jp.set(t,e),n1.set(e,t)),e}const Zp=t=>n1.get(t);function rI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Wi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Wi(o.result),l.oldVersion,l.newVersion,Wi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const XM=["get","getKey","getAll","getAllKeys","count"],JM=["put","add","delete","clear"],em=new Map;function H_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(em.get(e))return em.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XM.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return em.set(e,s),s}KM(t=>({...t,get:(e,n,r)=>H_(e,n)||t.get(e,n,r),has:(e,n)=>!!H_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(e$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function e$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sy="@firebase/app",q_="0.9.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new gh("@firebase/app"),t$="@firebase/app-compat",n$="@firebase/analytics-compat",r$="@firebase/analytics",i$="@firebase/app-check-compat",s$="@firebase/app-check",o$="@firebase/auth",a$="@firebase/auth-compat",l$="@firebase/database",u$="@firebase/database-compat",c$="@firebase/functions",d$="@firebase/functions-compat",f$="@firebase/installations",h$="@firebase/installations-compat",p$="@firebase/messaging",m$="@firebase/messaging-compat",g$="@firebase/performance",y$="@firebase/performance-compat",v$="@firebase/remote-config",w$="@firebase/remote-config-compat",_$="@firebase/storage",E$="@firebase/storage-compat",S$="@firebase/firestore",C$="@firebase/firestore-compat",T$="firebase",x$="9.20.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="[DEFAULT]",I$={[sy]:"fire-core",[t$]:"fire-core-compat",[r$]:"fire-analytics",[n$]:"fire-analytics-compat",[s$]:"fire-app-check",[i$]:"fire-app-check-compat",[o$]:"fire-auth",[a$]:"fire-auth-compat",[l$]:"fire-rtdb",[u$]:"fire-rtdb-compat",[c$]:"fire-fn",[d$]:"fire-fn-compat",[f$]:"fire-iid",[h$]:"fire-iid-compat",[p$]:"fire-fcm",[m$]:"fire-fcm-compat",[g$]:"fire-perf",[y$]:"fire-perf-compat",[v$]:"fire-rc",[w$]:"fire-rc-compat",[_$]:"fire-gcs",[E$]:"fire-gcs-compat",[S$]:"fire-fst",[C$]:"fire-fst-compat","fire-js":"fire-js",[T$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=new Map,ay=new Map;function k$(t,e){try{t.container.addComponent(e)}catch(n){qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vr(t){const e=t.name;if(ay.has(e))return qs.debug(`There were multiple attempts to register component ${e}.`),!1;ay.set(e,t);for(const n of Yd.values())k$(n,t);return!0}function as(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Gi=new ro("app","Firebase",b$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=x$;function iI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:oy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Gi.create("bad-app-name",{appName:String(i)});if(n||(n=yM()),!n)throw Gi.create("no-options");const s=Yd.get(i);if(s){if(uu(n,s.options)&&uu(r,s.config))return s;throw Gi.create("duplicate-app",{appName:i})}const o=new $M(i);for(const l of ay.values())o.addComponent(l);const a=new R$(n,r,o);return Yd.set(i,a),a}function yh(t=oy){const e=Yd.get(t);if(!e&&t===oy)return iI();if(!e)throw Gi.create("no-app",{appName:t});return e}function xn(t,e,n){var r;let i=(r=I$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qs.warn(a.join(" "));return}vr(new Xn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$="firebase-heartbeat-database",P$=1,cu="firebase-heartbeat-store";let tm=null;function sI(){return tm||(tm=rI(A$,P$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(cu)}}}).catch(t=>{throw Gi.create("idb-open",{originalErrorMessage:t.message})})),tm}async function N$(t){try{return(await sI()).transaction(cu).objectStore(cu).get(oI(t))}catch(e){if(e instanceof er)qs.warn(e.message);else{const n=Gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qs.warn(n.message)}}}async function W_(t,e){try{const r=(await sI()).transaction(cu,"readwrite");return await r.objectStore(cu).put(e,oI(t)),r.done}catch(n){if(n instanceof er)qs.warn(n.message);else{const r=Gi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qs.warn(r.message)}}}function oI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$=1024,O$=30*24*60*60*1e3;class D${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new M$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=G_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=O$}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=G_(),{heartbeatsToSend:n,unsentEntries:r}=j$(this._heartbeatsCache.heartbeats),i=Qd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function G_(){return new Date().toISOString().substring(0,10)}function j$(t,e=L$){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),K_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),K_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class M${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zx()?eI().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await N$(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return W_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return W_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function K_(t){return Qd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(t){vr(new Xn("platform-logger",e=>new ZM(e),"PRIVATE")),vr(new Xn("heartbeat",e=>new D$(e),"PRIVATE")),xn(sy,q_,t),xn(sy,q_,"esm2017"),xn("fire-js","")}$$("");function r1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function aI(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U$=aI,lI=new ro("auth","Firebase",aI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=new gh("@firebase/auth");function F$(t,...e){Xd.logLevel<=Oe.WARN&&Xd.warn(`Auth (${io}): ${t}`,...e)}function ed(t,...e){Xd.logLevel<=Oe.ERROR&&Xd.error(`Auth (${io}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t,...e){throw i1(t,...e)}function Pr(t,...e){return i1(t,...e)}function uI(t,e,n){const r=Object.assign(Object.assign({},U$()),{[e]:n});return new ro("auth","Firebase",r).create(e,{appName:t.name})}function V$(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Jn(t,"argument-error"),uI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function i1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lI.create(t,...e)}function ce(t,e,...n){if(!t)throw i1(e,...n)}function Qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ed(e),new Error(e)}function ci(t,e){t||Qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function z$(){return Q_()==="http:"||Q_()==="https:"}function Q_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z$()||Jx()||"connection"in navigator)?navigator.onLine:!0}function H$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ci(n>e,"Short delay should be less than long delay!"),this.isMobile=wM()||EM()}get(){return B$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t,e){ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$=new Lu(3e4,6e4);function ka(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function so(t,e,n,r,i={}){return dI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Nu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),cI.fetch()(fI(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function dI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},q$),e);try{const i=new G$(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Tc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Tc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Tc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw uI(t,c,u);Jn(t,c)}}catch(i){if(i instanceof er)throw i;Jn(t,"network-request-failed",{message:String(i)})}}async function Ou(t,e,n,r,i={}){const s=await so(t,e,n,r,i);return"mfaPendingCredential"in s&&Jn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function fI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?s1(t.config,i):`${t.config.apiScheme}://${i}`}class G${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),W$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K$(t,e){return so(t,"POST","/v1/accounts:delete",e)}async function Q$(t,e){return so(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y$(t,e=!1){const n=We(t),r=await n.getIdToken(e),i=o1(r);ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Al(nm(i.auth_time)),issuedAtTime:Al(nm(i.iat)),expirationTime:Al(nm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function nm(t){return Number(t)*1e3}function o1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ed("JWT malformed, contained fewer than 3 sections"),null;try{const i=Gx(n);return i?JSON.parse(i):(ed("Failed to decode base64 JWT payload"),null)}catch(i){return ed("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function X$(t){const e=o1(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof er&&J$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function J$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ca(t,Q$(n,{idToken:r}));ce(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?n4(s.providerUserInfo):[],a=t4(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new hI(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function e4(t){const e=We(t);await Jd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function t4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function n4(t){return t.map(e=>{var{providerId:n}=e,r=r1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r4(t,e){const n=await dI(t,{},async()=>{const r=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=fI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",cI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ce(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await r4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new du;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ce(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new du,this.toJSON())}_performRefresh(){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ls{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=r1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Z$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new hI(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ca(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Y$(this,e)}reload(){return e4(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ls(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Jd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ca(this,K$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:E,isAnonymous:S,providerData:x,stsTokenManager:I}=n;ce(_&&I,e,"internal-error");const P=du.fromJSON(this.name,I);ce(typeof _=="string",e,"internal-error"),Si(f,e.name),Si(h,e.name),ce(typeof E=="boolean",e,"internal-error"),ce(typeof S=="boolean",e,"internal-error"),Si(p,e.name),Si(v,e.name),Si(w,e.name),Si(y,e.name),Si(g,e.name),Si(m,e.name);const R=new Ls({uid:_,auth:e,email:h,emailVerified:E,displayName:f,isAnonymous:S,photoURL:v,phoneNumber:p,tenantId:w,stsTokenManager:P,createdAt:g,lastLoginAt:m});return x&&Array.isArray(x)&&(R.providerData=x.map(O=>Object.assign({},O))),y&&(R._redirectEventId=y),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new du;i.updateFromServerResponse(n);const s=new Ls({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Jd(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=new Map;function Yr(t){ci(t instanceof Function,"Expected a class definition");let e=Y_.get(t);return e?(ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Y_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pI.type="NONE";const X_=pI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t,e,n){return`firebase:${t}:${e}:${n}`}class Qo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=td(this.userKey,i.apiKey,s),this.fullPersistenceKey=td("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ls._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qo(Yr(X_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Yr(X_);const o=td(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const f=Ls._fromJSON(e,c);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Qo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Qo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wI(e))return"Blackberry";if(_I(e))return"Webos";if(a1(e))return"Safari";if((e.includes("chrome/")||gI(e))&&!e.includes("edge/"))return"Chrome";if(vI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function mI(t=an()){return/firefox\//i.test(t)}function a1(t=an()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gI(t=an()){return/crios\//i.test(t)}function yI(t=an()){return/iemobile/i.test(t)}function vI(t=an()){return/android/i.test(t)}function wI(t=an()){return/blackberry/i.test(t)}function _I(t=an()){return/webos/i.test(t)}function vh(t=an()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function i4(t=an()){var e;return vh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function s4(){return SM()&&document.documentMode===10}function EI(t=an()){return vh(t)||vI(t)||_I(t)||wI(t)||/windows phone/i.test(t)||yI(t)}function o4(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t,e=[]){let n;switch(t){case"Browser":n=J_(an());break;case"Worker":n=`${J_(an())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${io}/${r}`}async function CI(t,e){return so(t,"GET","/v2/recaptchaConfig",ka(t,e))}function Z_(t){return t!==void 0&&t.enterprise!==void 0}class TI{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function xI(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Pr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",a4().appendChild(r)})}function l4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const u4="https://www.google.com/recaptcha/enterprise.js?render=",c4="recaptcha-enterprise";class II{constructor(e){this.type=c4,this.auth=oo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{CI(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new TI(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Z_(l)?l.enterprise.ready(()=>{try{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(u=>{a(u)})}catch(u){a(u)}}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Z_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}xI(u4+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Zd(t,e,n,r=!1){const i=new II(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eE(this),this.idTokenSubscription=new eE(this),this.beforeStateQueue=new d4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=H$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?We(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(e))})}async initializeRecaptchaConfig(){const e=await CI(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new TI(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new II(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ro("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yr(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[Yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&F$(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function oo(t){return We(t)}class eE{constructor(e){this.auth=e,this.observer=null,this.addObserver=bM(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t,e){const n=as(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(uu(s,e??{}))return i;Jn(i,"already-initialized")}return n.initialize({options:e})}function p4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function m4(t,e,n){const r=oo(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=kI(e),{host:o,port:a}=g4(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||y4()}function kI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function g4(t){const e=kI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:tE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:tE(o)}}}function tE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function y4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,n){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}async function v4(t,e){return so(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rm(t,e){return Ou(t,"POST","/v1/accounts:signInWithPassword",ka(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(t,e){return Ou(t,"POST","/v1/accounts:signInWithEmailLink",ka(t,e))}async function _4(t,e){return Ou(t,"POST","/v1/accounts:signInWithEmailLink",ka(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends l1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new fu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Zd(e,r,"signInWithPassword");return rm(e,i)}else return rm(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Zd(e,r,"signInWithPassword");return rm(e,s)}else return Promise.reject(i)});case"emailLink":return w4(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return v4(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return _4(e,{idToken:n,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(t,e){return Ou(t,"POST","/v1/accounts:signInWithIdp",ka(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="http://localhost";class Ws extends l1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=r1(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ws(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Yo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yo(e,n)}buildRequest(){const e={requestUri:E4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function C4(t){const e=hl(pl(t)).link,n=e?hl(pl(e)).deep_link_id:null,r=hl(pl(t)).deep_link_id;return(r?hl(pl(r)).link:null)||r||n||e||t}class u1{constructor(e){var n,r,i,s,o,a;const l=hl(pl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=S4((i=l.mode)!==null&&i!==void 0?i:null);ce(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=C4(e);try{return new u1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.providerId=ba.PROVIDER_ID}static credential(e,n){return fu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=u1.parseLink(n);return ce(r,"argument-error"),fu._fromEmailAndCode(e,r.code,r.tenantId)}}ba.PROVIDER_ID="password";ba.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ba.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends c1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Du{constructor(){super("facebook.com")}static credential(e){return Ws._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ws._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qr.credential(n,r)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Du{constructor(){super("github.com")}static credential(e){return Ws._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ri.credential(e.oauthAccessToken)}catch{return null}}}Ri.GITHUB_SIGN_IN_METHOD="github.com";Ri.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Du{constructor(){super("twitter.com")}static credential(e,n){return Ws._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ai.credential(n,r)}catch{return null}}}Ai.TWITTER_SIGN_IN_METHOD="twitter.com";Ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function im(t,e){return Ou(t,"POST","/v1/accounts:signUp",ka(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ls._fromIdTokenResponse(e,r,i),o=nE(r);return new Gs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=nE(r);return new Gs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function nE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef extends er{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ef.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ef(e,n,r,i)}}function bI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ef._fromErrorAndOperation(t,s,e,r):s})}async function T4(t,e,n=!1){const r=await ca(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await ca(t,bI(r,i,e,t),n);ce(s.idToken,r,"internal-error");const o=o1(s.idToken);ce(o,r,"internal-error");const{sub:a}=o;return ce(t.uid===a,r,"user-mismatch"),Gs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Jn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(t,e,n=!1){const r="signIn",i=await bI(t,r,e),s=await Gs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function I4(t,e){return RI(oo(t),e)}async function k4(t,e,n){var r;const i=oo(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await Zd(i,s,"signUpPassword");o=im(i,u)}else o=im(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await Zd(i,s,"signUpPassword");return im(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await Gs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function b4(t,e,n){return I4(We(t),ba.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(t,e){return so(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=We(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ca(r,R4(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function P4(t,e,n,r){return We(t).onIdTokenChanged(e,n,r)}function N4(t,e,n){return We(t).beforeAuthStateChanged(e,n)}function L4(t,e,n,r){return We(t).onAuthStateChanged(e,n,r)}function O4(t){return We(t).signOut()}const tf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tf,"1"),this.storage.removeItem(tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(){const t=an();return a1(t)||vh(t)}const j4=1e3,M4=10;class PI extends AI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=D4()&&o4(),this.fallbackToPolling=EI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);s4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,M4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},j4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PI.type="LOCAL";const $4=PI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI extends AI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NI.type="SESSION";const LI=NI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new wh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await U4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=d1("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return window}function V4(t){Nr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(){return typeof Nr().WorkerGlobalScope<"u"&&typeof Nr().importScripts=="function"}async function z4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function H4(){return OI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="firebaseLocalStorageDb",q4=1,nf="firebaseLocalStorage",jI="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _h(t,e){return t.transaction([nf],e?"readwrite":"readonly").objectStore(nf)}function W4(){const t=indexedDB.deleteDatabase(DI);return new ju(t).toPromise()}function uy(){const t=indexedDB.open(DI,q4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nf,{keyPath:jI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(nf)?e(r):(r.close(),await W4(),e(await uy()))})})}async function rE(t,e,n){const r=_h(t,!0).put({[jI]:e,value:n});return new ju(r).toPromise()}async function G4(t,e){const n=_h(t,!1).get(e),r=await new ju(n).toPromise();return r===void 0?null:r.value}function iE(t,e){const n=_h(t,!0).delete(e);return new ju(n).toPromise()}const K4=800,Q4=3;class MI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Q4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(H4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await z4(),!this.activeServiceWorker)return;this.sender=new F4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||B4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uy();return await rE(e,tf,"1"),await iE(e,tf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>rE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>G4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=_h(i,!1).getAll();return new ju(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MI.type="LOCAL";const Y4=MI;new Lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(t,e){return e?Yr(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1 extends l1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function X4(t){return RI(t.auth,new f1(t),t.bypassAuthState)}function J4(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),x4(n,new f1(t),t.bypassAuthState)}async function Z4(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),T4(n,new f1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X4;case"linkViaPopup":case"linkViaRedirect":return Z4;case"reauthViaPopup":case"reauthViaRedirect":return J4;default:Jn(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=new Lu(2e3,1e4);async function t3(t,e,n){const r=oo(t);V$(t,e,c1);const i=$I(r,n);return new Ts(r,"signInViaPopup",e,i).executeNotNull()}class Ts extends UI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ts.currentPopupAction&&Ts.currentPopupAction.cancel(),Ts.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=d1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ts.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,e3.get())};e()}}Ts.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="pendingRedirect",nd=new Map;class r3 extends UI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=nd.get(this.auth._key());if(!e){try{const r=await i3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nd.set(this.auth._key(),e)}return this.bypassAuthState||nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function i3(t,e){const n=a3(e),r=o3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function s3(t,e){nd.set(t._key(),e)}function o3(t){return Yr(t._redirectPersistence)}function a3(t){return td(n3,t.config.apiKey,t.name)}async function l3(t,e,n=!1){const r=oo(t),i=$I(r,e),o=await new r3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=10*60*1e3;class c3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!d3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!FI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=u3&&this.cachedEventUids.clear(),this.cachedEventUids.has(sE(e))}saveEventToCache(e){this.cachedEventUids.add(sE(e)),this.lastProcessedEventTime=Date.now()}}function sE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function d3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(t,e={}){return so(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p3=/^https?/;async function m3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await f3(t);for(const n of e)try{if(g3(n))return}catch{}Jn(t,"unauthorized-domain")}function g3(t){const e=ly(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!p3.test(n))return!1;if(h3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=new Lu(3e4,6e4);function oE(){const t=Nr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function v3(t){return new Promise((e,n)=>{var r,i,s;function o(){oE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oE(),n(Pr(t,"network-request-failed"))},timeout:y3.get()})}if(!((i=(r=Nr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Nr().gapi)===null||s===void 0)&&s.load)o();else{const a=l4("iframefcb");return Nr()[a]=()=>{gapi.load?o():n(Pr(t,"network-request-failed"))},xI(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw rd=null,e})}let rd=null;function w3(t){return rd=rd||v3(t),rd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=new Lu(5e3,15e3),E3="__/auth/iframe",S3="emulator/auth/iframe",C3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x3(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?s1(e,S3):`https://${t.config.authDomain}/${E3}`,r={apiKey:e.apiKey,appName:t.name,v:io},i=T3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Nu(r).slice(1)}`}async function I3(t){const e=await w3(t),n=Nr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:x3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Pr(t,"network-request-failed"),a=Nr().setTimeout(()=>{s(o)},_3.get());function l(){Nr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b3=500,R3=600,A3="_blank",P3="http://localhost";class aE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N3(t,e,n,r=b3,i=R3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},k3),{width:r.toString(),height:i.toString(),top:s,left:o}),u=an().toLowerCase();n&&(a=gI(u)?A3:n),mI(u)&&(e=e||P3,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(i4(u)&&a!=="_self")return L3(e||"",a),new aE(null);const f=window.open(e||"",a,c);ce(f,t,"popup-blocked");try{f.focus()}catch{}return new aE(f)}function L3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="__/auth/handler",D3="emulator/auth/handler",j3=encodeURIComponent("fac");async function lE(t,e,n,r,i,s){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:io,eventId:i};if(e instanceof c1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",kM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries(s||{}))o[c]=f}if(e instanceof Du){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${j3}=${encodeURIComponent(l)}`:"";return`${M3(t)}?${Nu(a).slice(1)}${u}`}function M3({config:t}){return t.emulator?s1(t,D3):`https://${t.authDomain}/${O3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="webStorageSupport";class $3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LI,this._completeRedirectFn=l3,this._overrideRedirectResult=s3}async _openPopup(e,n,r,i){var s;ci((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await lE(e,n,r,ly(),i);return N3(e,o,d1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await lE(e,n,r,ly(),i);return V4(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ci(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await I3(e),r=new c3(e);return n.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sm,{type:sm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[sm];o!==void 0&&n(!!o),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=m3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return EI()||a1()||vh()}}const U3=$3;var uE="@firebase/auth",cE="0.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function z3(t){vr(new Xn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name}),ce(!(a!=null&&a.includes(":")),"argument-error",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SI(t)},u=new f4(r,i,s,l);return p4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vr(new Xn("auth-internal",e=>{const n=oo(e.getProvider("auth").getImmediate());return(r=>new F3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xn(uE,cE,V3(t)),xn(uE,cE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=5*60,H3=Yx("authIdTokenMaxAge")||B3;let dE=null;const q3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>H3)return;const i=n==null?void 0:n.token;dE!==i&&(dE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function W3(t=yh()){const e=as(t,"auth");if(e.isInitialized())return e.getImmediate();const n=h4(t,{popupRedirectResolver:U3,persistence:[Y4,$4,LI]}),r=Yx("authTokenSyncURL");if(r){const s=q3(r);N4(n,s,()=>s(n.currentUser)),P4(n,o=>s(o))}const i=Kx("auth");return i&&m4(n,`http://${i}`),n}z3("Browser");const VI="@firebase/installations",h1="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=1e4,BI=`w:${h1}`,HI="FIS_v2",G3="https://firebaseinstallations.googleapis.com/v1",K3=60*60*1e3,Q3="installations",Y3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},Ks=new ro(Q3,Y3,X3);function qI(t){return t instanceof er&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI({projectId:t}){return`${G3}/projects/${t}/installations`}function GI(t){return{token:t.token,requestStatus:2,expiresIn:Z3(t.expiresIn),creationTime:Date.now()}}async function KI(t,e){const r=(await e.json()).error;return Ks.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function QI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function J3(t,{refreshToken:e}){const n=QI(t);return n.append("Authorization",e6(e)),n}async function YI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Z3(t){return Number(t.replace("s","000"))}function e6(t){return`${HI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t6({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=WI(t),i=QI(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:HI,appId:t.appId,sdkVersion:BI},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await YI(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:GI(u.authToken)}}else throw await KI("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=/^[cdef][\w-]{21}$/,cy="";function i6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=s6(t);return r6.test(n)?n:cy}catch{return cy}}function s6(t){return n6(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=new Map;function ZI(t,e){const n=Eh(t);ek(n,e),o6(n,e)}function ek(t,e){const n=JI.get(t);if(n)for(const r of n)r(e)}function o6(t,e){const n=a6();n&&n.postMessage({key:t,fid:e}),l6()}let xs=null;function a6(){return!xs&&"BroadcastChannel"in self&&(xs=new BroadcastChannel("[Firebase] FID Change"),xs.onmessage=t=>{ek(t.data.key,t.data.fid)}),xs}function l6(){JI.size===0&&xs&&(xs.close(),xs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6="firebase-installations-database",c6=1,Qs="firebase-installations-store";let om=null;function p1(){return om||(om=rI(u6,c6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Qs)}}})),om}async function rf(t,e){const n=Eh(t),i=(await p1()).transaction(Qs,"readwrite"),s=i.objectStore(Qs),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&ZI(t,e.fid),e}async function tk(t){const e=Eh(t),r=(await p1()).transaction(Qs,"readwrite");await r.objectStore(Qs).delete(e),await r.done}async function Sh(t,e){const n=Eh(t),i=(await p1()).transaction(Qs,"readwrite"),s=i.objectStore(Qs),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&ZI(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1(t){let e;const n=await Sh(t.appConfig,r=>{const i=d6(r),s=f6(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===cy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function d6(t){const e=t||{fid:i6(),registrationStatus:0};return nk(e)}function f6(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ks.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=h6(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:p6(t)}:{installationEntry:e}}async function h6(t,e){try{const n=await t6(t,e);return rf(t.appConfig,n)}catch(n){throw qI(n)&&n.customData.serverCode===409?await tk(t.appConfig):await rf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function p6(t){let e=await fE(t.appConfig);for(;e.registrationStatus===1;)await XI(100),e=await fE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await m1(t);return r||n}return e}function fE(t){return Sh(t,e=>{if(!e)throw Ks.create("installation-not-found");return nk(e)})}function nk(t){return m6(t)?{fid:t.fid,registrationStatus:0}:t}function m6(t){return t.registrationStatus===1&&t.registrationTime+zI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g6({appConfig:t,heartbeatServiceProvider:e},n){const r=y6(t,n),i=J3(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:BI,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await YI(()=>fetch(r,a));if(l.ok){const u=await l.json();return GI(u)}else throw await KI("Generate Auth Token",l)}function y6(t,{fid:e}){return`${WI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(t,e=!1){let n;const r=await Sh(t.appConfig,s=>{if(!rk(s))throw Ks.create("not-registered");const o=s.authToken;if(!e&&_6(o))return s;if(o.requestStatus===1)return n=v6(t,e),s;{if(!navigator.onLine)throw Ks.create("app-offline");const a=S6(s);return n=w6(t,a),a}});return n?await n:r.authToken}async function v6(t,e){let n=await hE(t.appConfig);for(;n.authToken.requestStatus===1;)await XI(100),n=await hE(t.appConfig);const r=n.authToken;return r.requestStatus===0?g1(t,e):r}function hE(t){return Sh(t,e=>{if(!rk(e))throw Ks.create("not-registered");const n=e.authToken;return C6(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function w6(t,e){try{const n=await g6(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await rf(t.appConfig,r),n}catch(n){if(qI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await tk(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await rf(t.appConfig,r)}throw n}}function rk(t){return t!==void 0&&t.registrationStatus===2}function _6(t){return t.requestStatus===2&&!E6(t)}function E6(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+K3}function S6(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function C6(t){return t.requestStatus===1&&t.requestTime+zI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T6(t){const e=t,{installationEntry:n,registrationPromise:r}=await m1(e);return r?r.catch(console.error):g1(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x6(t,e=!1){const n=t;return await I6(n),(await g1(n,e)).token}async function I6(t){const{registrationPromise:e}=await m1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(t){if(!t||!t.options)throw am("App Configuration");if(!t.name)throw am("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw am(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function am(t){return Ks.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="installations",b6="installations-internal",R6=t=>{const e=t.getProvider("app").getImmediate(),n=k6(e),r=as(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},A6=t=>{const e=t.getProvider("app").getImmediate(),n=as(e,ik).getImmediate();return{getId:()=>T6(n),getToken:i=>x6(n,i)}};function P6(){vr(new Xn(ik,R6,"PUBLIC")),vr(new Xn(b6,A6,"PRIVATE"))}P6();xn(VI,h1);xn(VI,h1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf="analytics",N6="firebase_id",L6="origin",O6=60*1e3,D6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",y1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In=new gh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},On=new ro("analytics","Analytics",j6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(t){if(!t.startsWith(y1)){const e=On.create("invalid-gtag-resource",{gtagURL:t});return In.warn(e.message),""}return t}function sk(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function $6(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function U6(t,e){const n=$6("firebase-js-sdk-policy",{createScriptURL:M6}),r=document.createElement("script"),i=`${y1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function F6(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function V6(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await sk(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){In.error(a)}t("config",i,s)}async function z6(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await sk(n);for(const l of o){const u=a.find(f=>f.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){In.error(s)}}function B6(t,e,n,r){async function i(s,o,a){try{s==="event"?await z6(t,e,n,o,a):s==="config"?await V6(t,e,n,r,o,a):s==="consent"?t("consent","update",a):t("set",o)}catch(l){In.error(l)}}return i}function H6(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=B6(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function q6(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(y1)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6=30,G6=1e3;class K6{constructor(e={},n=G6){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ok=new K6;function Q6(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Y6(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Q6(r)},s=D6.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw On.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function X6(t,e=ok,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw On.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw On.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new eU;return setTimeout(async()=>{a.abort()},n!==void 0?n:O6),ak({appId:r,apiKey:i,measurementId:s},o,a,e)}async function ak(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=ok){var s;const{appId:o,measurementId:a}=t;try{await J6(r,e)}catch(l){if(a)return In.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await Y6(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!Z6(u)){if(i.deleteThrottleMetadata(o),a)return In.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?V_(n,i.intervalMillis,W6):V_(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,f),In.debug(`Calling attemptFetch again in ${c} millis`),ak(t,f,r,i)}}function J6(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(On.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Z6(t){if(!(t instanceof er)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class eU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function tU(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nU(){if(Zx())try{await eI()}catch(t){return In.warn(On.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return In.warn(On.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function rU(t,e,n,r,i,s,o){var a;const l=X6(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&In.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>In.error(p)),e.push(l);const u=nU().then(p=>{if(p)return r.getId()}),[c,f]=await Promise.all([l,u]);q6(s)||U6(s,c.measurementId),i("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[L6]="firebase",h.update=!0,f!=null&&(h[N6]=f),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e){this.app=e}_delete(){return delete Pl[this.app.options.appId],Promise.resolve()}}let Pl={},pE=[];const mE={};let lm="dataLayer",sU="gtag",gE,lk,yE=!1;function oU(){const t=[];if(Jx()&&t.push("This is a browser extension environment."),CM()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=On.create("invalid-analytics-context",{errorInfo:e});In.warn(n.message)}}function aU(t,e,n){oU();const r=t.options.appId;if(!r)throw On.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)In.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw On.create("no-api-key");if(Pl[r]!=null)throw On.create("already-exists",{id:r});if(!yE){F6(lm);const{wrappedGtag:s,gtagCore:o}=H6(Pl,pE,mE,lm,sU);lk=s,gE=o,yE=!0}return Pl[r]=rU(t,pE,mE,e,gE,lm,n),new iU(t)}function lU(t=yh()){t=We(t);const e=as(t,sf);return e.isInitialized()?e.getImmediate():uU(t)}function uU(t,e={}){const n=as(t,sf);if(n.isInitialized()){const i=n.getImmediate();if(uu(e,n.getOptions()))return i;throw On.create("already-initialized")}return n.initialize({options:e})}function cU(t,e,n,r){t=We(t),tU(lk,Pl[t.app.options.appId],e,n,r).catch(i=>In.error(i))}const vE="@firebase/analytics",wE="0.9.5";function dU(){vr(new Xn(sf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return aU(r,i,n)},"PUBLIC")),vr(new Xn("analytics-internal",t,"PRIVATE")),xn(vE,wE),xn(vE,wE,"esm2017");function t(e){try{const n=e.getProvider(sf).getImmediate();return{logEvent:(r,i,s)=>cU(n,r,i,s)}}catch(n){throw On.create("interop-component-reg-failed",{reason:n})}}}dU();var fU="firebase",hU="9.20.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn(fU,hU,"app");var pU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ee,v1=v1||{},me=pU||self;function of(){}function Ch(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Mu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function mU(t){return Object.prototype.hasOwnProperty.call(t,um)&&t[um]||(t[um]=++gU)}var um="closure_uid_"+(1e9*Math.random()>>>0),gU=0;function yU(t,e,n){return t.call.apply(t.bind,arguments)}function vU(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function nn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?nn=yU:nn=vU,nn.apply(null,arguments)}function xc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function qt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ls(){this.s=this.s,this.o=this.o}var wU=0;ls.prototype.s=!1;ls.prototype.na=function(){!this.s&&(this.s=!0,this.M(),wU!=0)&&mU(this)};ls.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uk=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function w1(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function _E(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ch(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function rn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}rn.prototype.h=function(){this.defaultPrevented=!0};var _U=function(){if(!me.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{me.addEventListener("test",of,e),me.removeEventListener("test",of,e)}catch{}return t}();function af(t){return/^[\s\xa0]*$/.test(t)}var EE=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function cm(t,e){return t<e?-1:t>e?1:0}function Th(){var t=me.navigator;return t&&(t=t.userAgent)?t:""}function xr(t){return Th().indexOf(t)!=-1}function _1(t){return _1[" "](t),t}_1[" "]=of;function EU(t){var e=TU;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var SU=xr("Opera"),da=xr("Trident")||xr("MSIE"),ck=xr("Edge"),dy=ck||da,dk=xr("Gecko")&&!(Th().toLowerCase().indexOf("webkit")!=-1&&!xr("Edge"))&&!(xr("Trident")||xr("MSIE"))&&!xr("Edge"),CU=Th().toLowerCase().indexOf("webkit")!=-1&&!xr("Edge");function fk(){var t=me.document;return t?t.documentMode:void 0}var lf;e:{var dm="",fm=function(){var t=Th();if(dk)return/rv:([^\);]+)(\)|;)/.exec(t);if(ck)return/Edge\/([\d\.]+)/.exec(t);if(da)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(CU)return/WebKit\/(\S+)/.exec(t);if(SU)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(fm&&(dm=fm?fm[1]:""),da){var hm=fk();if(hm!=null&&hm>parseFloat(dm)){lf=String(hm);break e}}lf=dm}var TU={};function xU(){return EU(function(){let t=0;const e=EE(String(lf)).split("."),n=EE("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=cm(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||cm(i[2].length==0,s[2].length==0)||cm(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var fy;if(me.document&&da){var SE=fk();fy=SE||parseInt(lf,10)||void 0}else fy=void 0;var IU=fy;function hu(t,e){if(rn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(dk){e:{try{_1(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:kU[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&hu.X.h.call(this)}}qt(hu,rn);var kU={2:"touch",3:"pen",4:"mouse"};hu.prototype.h=function(){hu.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var $u="closure_listenable_"+(1e6*Math.random()|0),bU=0;function RU(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++bU,this.ba=this.ea=!1}function xh(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function E1(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function hk(t){const e={};for(const n in t)e[n]=t[n];return e}const CE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pk(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<CE.length;s++)n=CE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ih(t){this.src=t,this.g={},this.h=0}Ih.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=py(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new RU(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function hy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=uk(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(xh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function py(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var S1="closure_lm_"+(1e6*Math.random()|0),pm={};function mk(t,e,n,r,i){if(r&&r.once)return yk(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)mk(t,e[s],n,r,i);return null}return n=x1(n),t&&t[$u]?t.N(e,n,Mu(r)?!!r.capture:!!r,i):gk(t,e,n,!1,r,i)}function gk(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Mu(i)?!!i.capture:!!i,a=T1(t);if(a||(t[S1]=a=new Ih(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=AU(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)_U||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wk(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function AU(){function t(n){return e.call(t.src,t.listener,n)}const e=PU;return t}function yk(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)yk(t,e[s],n,r,i);return null}return n=x1(n),t&&t[$u]?t.O(e,n,Mu(r)?!!r.capture:!!r,i):gk(t,e,n,!0,r,i)}function vk(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)vk(t,e[s],n,r,i);else r=Mu(r)?!!r.capture:!!r,n=x1(n),t&&t[$u]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=py(s,n,r,i),-1<n&&(xh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=T1(t))&&(e=t.g[e.toString()],t=-1,e&&(t=py(e,n,r,i)),(n=-1<t?e[t]:null)&&C1(n))}function C1(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[$u])hy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wk(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=T1(e))?(hy(n,t),n.h==0&&(n.src=null,e[S1]=null)):xh(t)}}}function wk(t){return t in pm?pm[t]:pm[t]="on"+t}function PU(t,e){if(t.ba)t=!0;else{e=new hu(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&C1(t),t=n.call(r,e)}return t}function T1(t){return t=t[S1],t instanceof Ih?t:null}var mm="__closure_events_fn_"+(1e9*Math.random()>>>0);function x1(t){return typeof t=="function"?t:(t[mm]||(t[mm]=function(e){return t.handleEvent(e)}),t[mm])}function jt(){ls.call(this),this.i=new Ih(this),this.P=this,this.I=null}qt(jt,ls);jt.prototype[$u]=!0;jt.prototype.removeEventListener=function(t,e,n,r){vk(this,t,e,n,r)};function Bt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new rn(e,t);else if(e instanceof rn)e.target=e.target||t;else{var i=e;e=new rn(r,t),pk(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ic(o,r,!0,e)&&i}if(o=e.g=t,i=Ic(o,r,!0,e)&&i,i=Ic(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Ic(o,r,!1,e)&&i}jt.prototype.M=function(){if(jt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xh(n[r]);delete t.g[e],t.h--}}this.I=null};jt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};jt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ic(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&hy(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var I1=me.JSON.stringify;function NU(){var t=Sk;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class LU{constructor(){this.h=this.g=null}add(e,n){const r=_k.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var _k=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new OU,t=>t.reset());class OU{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function DU(t){me.setTimeout(()=>{throw t},0)}function Ek(t,e){my||jU(),gy||(my(),gy=!0),Sk.add(t,e)}var my;function jU(){var t=me.Promise.resolve(void 0);my=function(){t.then(MU)}}var gy=!1,Sk=new LU;function MU(){for(var t;t=NU();){try{t.h.call(t.g)}catch(n){DU(n)}var e=_k;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}gy=!1}function kh(t,e){jt.call(this),this.h=t||1,this.g=e||me,this.j=nn(this.lb,this),this.l=Date.now()}qt(kh,jt);ee=kh.prototype;ee.ca=!1;ee.R=null;ee.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Bt(this,"tick"),this.ca&&(k1(this),this.start()))}};ee.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function k1(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}ee.M=function(){kh.X.M.call(this),k1(this),delete this.g};function b1(t,e,n){if(typeof t=="function")n&&(t=nn(t,n));else if(t&&typeof t.handleEvent=="function")t=nn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:me.setTimeout(t,e||0)}function Ck(t){t.g=b1(()=>{t.g=null,t.i&&(t.i=!1,Ck(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class $U extends ls{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ck(this)}M(){super.M(),this.g&&(me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pu(t){ls.call(this),this.h=t,this.g={}}qt(pu,ls);var TE=[];function Tk(t,e,n,r){Array.isArray(n)||(n&&(TE[0]=n.toString()),n=TE);for(var i=0;i<n.length;i++){var s=mk(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function xk(t){E1(t.g,function(e,n){this.g.hasOwnProperty(n)&&C1(e)},t),t.g={}}pu.prototype.M=function(){pu.X.M.call(this),xk(this)};pu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function bh(){this.g=!0}bh.prototype.Aa=function(){this.g=!1};function UU(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function FU(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function $o(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+zU(t,n)+(r?" "+r:"")})}function VU(t,e){t.info(function(){return"TIMEOUT: "+e})}bh.prototype.info=function(){};function zU(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return I1(n)}catch{return e}}var ao={},xE=null;function Rh(){return xE=xE||new jt}ao.Pa="serverreachability";function Ik(t){rn.call(this,ao.Pa,t)}qt(Ik,rn);function mu(t){const e=Rh();Bt(e,new Ik(e))}ao.STAT_EVENT="statevent";function kk(t,e){rn.call(this,ao.STAT_EVENT,t),this.stat=e}qt(kk,rn);function hn(t){const e=Rh();Bt(e,new kk(e,t))}ao.Qa="timingevent";function bk(t,e){rn.call(this,ao.Qa,t),this.size=e}qt(bk,rn);function Uu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return me.setTimeout(function(){t()},e)}var Ah={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Rk={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function R1(){}R1.prototype.h=null;function IE(t){return t.h||(t.h=t.i())}function Ak(){}var Fu={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function A1(){rn.call(this,"d")}qt(A1,rn);function P1(){rn.call(this,"c")}qt(P1,rn);var yy;function Ph(){}qt(Ph,R1);Ph.prototype.g=function(){return new XMLHttpRequest};Ph.prototype.i=function(){return{}};yy=new Ph;function Vu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new pu(this),this.O=BU,t=dy?125:void 0,this.T=new kh(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Pk}function Pk(){this.i=null,this.g="",this.h=!1}var BU=45e3,vy={},uf={};ee=Vu.prototype;ee.setTimeout=function(t){this.O=t};function wy(t,e,n){t.K=1,t.v=Lh(di(e)),t.s=n,t.P=!0,Nk(t,null)}function Nk(t,e){t.F=Date.now(),zu(t),t.A=di(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),Fk(n.i,"t",r),t.C=0,n=t.l.H,t.h=new Pk,t.g=ab(t.l,n?e:null,!t.s),0<t.N&&(t.L=new $U(nn(t.La,t,t.g),t.N)),Tk(t.S,t.g,"readystatechange",t.ib),e=t.H?hk(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),mu(),UU(t.j,t.u,t.A,t.m,t.U,t.s)}ee.ib=function(t){t=t.target;const e=this.L;e&&Xr(t)==3?e.l():this.La(t)};ee.La=function(t){try{if(t==this.g)e:{const c=Xr(this.g);var e=this.g.Ea();const f=this.g.aa();if(!(3>c)&&(c!=3||dy||this.g&&(this.h.h||this.g.fa()||AE(this.g)))){this.I||c!=4||e==7||(e==8||0>=f?mu(3):mu(2)),Nh(this);var n=this.g.aa();this.Y=n;t:if(Lk(this)){var r=AE(this.g);t="";var i=r.length,s=Xr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Is(this),Nl(this);var o="";break t}this.h.i=new me.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,FU(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!af(a)){var u=a;break t}}u=null}if(n=u)$o(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_y(this,n);else{this.i=!1,this.o=3,hn(12),Is(this),Nl(this);break e}}this.P?(Ok(this,c,o),dy&&this.i&&c==3&&(Tk(this.S,this.T,"tick",this.hb),this.T.start())):($o(this.j,this.m,o,null),_y(this,o)),c==4&&Is(this),this.i&&!this.I&&(c==4?rb(this.l,this):(this.i=!1,zu(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,hn(12)):(this.o=0,hn(13)),Is(this),Nl(this)}}}catch{}finally{}};function Lk(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function Ok(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=HU(t,n),i==uf){e==4&&(t.o=4,hn(14),r=!1),$o(t.j,t.m,null,"[Incomplete Response]");break}else if(i==vy){t.o=4,hn(15),$o(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else $o(t.j,t.m,i,null),_y(t,i);Lk(t)&&i!=uf&&i!=vy&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,hn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$1(e),e.K=!0,hn(11))):($o(t.j,t.m,n,"[Invalid Chunked Response]"),Is(t),Nl(t))}ee.hb=function(){if(this.g){var t=Xr(this.g),e=this.g.fa();this.C<e.length&&(Nh(this),Ok(this,t,e),this.i&&t!=4&&zu(this))}};function HU(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?uf:(n=Number(e.substring(n,r)),isNaN(n)?vy:(r+=1,r+n>e.length?uf:(e=e.substr(r,n),t.C=r+n,e)))}ee.cancel=function(){this.I=!0,Is(this)};function zu(t){t.V=Date.now()+t.O,Dk(t,t.O)}function Dk(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Uu(nn(t.gb,t),e)}function Nh(t){t.B&&(me.clearTimeout(t.B),t.B=null)}ee.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(VU(this.j,this.A),this.K!=2&&(mu(),hn(17)),Is(this),this.o=2,Nl(this)):Dk(this,this.V-t)};function Nl(t){t.l.G==0||t.I||rb(t.l,t)}function Is(t){Nh(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,k1(t.T),xk(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function _y(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Ey(n.h,t))){if(!t.J&&Ey(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)ff(n),jh(n);else break e;M1(n),hn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Uu(nn(n.cb,n),6e3));if(1>=Bk(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else ks(n,11)}else if((t.J||n.g==t)&&ff(n),!af(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const f=u[4];f!=null&&(n.Ca=f,n.j.info("SVER="+n.Ca));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const v=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.h;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(N1(s,s.h),s.h=null))}if(r.D){const w=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.za=w,it(r.F,r.D,w))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=ob(r,r.H?r.ka:null,r.V),o.J){Hk(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Nh(a),zu(a)),r.g=o}else tb(r);0<n.i.length&&Mh(n)}else u[0]!="stop"&&u[0]!="close"||ks(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ks(n,7):j1(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}mu(4)}catch{}}function qU(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ch(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function WU(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ch(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function jk(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ch(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=WU(t),r=qU(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Mk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Os(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Os){this.h=e!==void 0?e:t.h,cf(this,t.j),this.s=t.s,this.g=t.g,df(this,t.m),this.l=t.l,e=t.i;var n=new gu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),kE(this,n),this.o=t.o}else t&&(n=String(t).match(Mk))?(this.h=!!e,cf(this,n[1]||"",!0),this.s=ml(n[2]||""),this.g=ml(n[3]||"",!0),df(this,n[4]),this.l=ml(n[5]||"",!0),kE(this,n[6]||"",!0),this.o=ml(n[7]||"")):(this.h=!!e,this.i=new gu(null,this.h))}Os.prototype.toString=function(){var t=[],e=this.j;e&&t.push(gl(e,bE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(gl(e,bE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(gl(n,n.charAt(0)=="/"?YU:QU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",gl(n,JU)),t.join("")};function di(t){return new Os(t)}function cf(t,e,n){t.j=n?ml(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function df(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function kE(t,e,n){e instanceof gu?(t.i=e,ZU(t.i,t.h)):(n||(e=gl(e,XU)),t.i=new gu(e,t.h))}function it(t,e,n){t.i.set(e,n)}function Lh(t){return it(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ml(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function gl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,KU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function KU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var bE=/[#\/\?@]/g,QU=/[#\?:]/g,YU=/[#\?]/g,XU=/[#\?@]/g,JU=/#/g;function gu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function us(t){t.g||(t.g=new Map,t.h=0,t.i&&GU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ee=gu.prototype;ee.add=function(t,e){us(this),this.i=null,t=Ra(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function $k(t,e){us(t),e=Ra(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Uk(t,e){return us(t),e=Ra(t,e),t.g.has(e)}ee.forEach=function(t,e){us(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ee.oa=function(){us(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ee.W=function(t){us(this);let e=[];if(typeof t=="string")Uk(this,t)&&(e=e.concat(this.g.get(Ra(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ee.set=function(t,e){return us(this),this.i=null,t=Ra(this,t),Uk(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ee.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function Fk(t,e,n){$k(t,e),0<n.length&&(t.i=null,t.g.set(Ra(t,e),w1(n)),t.h+=n.length)}ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ra(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ZU(t,e){e&&!t.j&&(us(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&($k(this,r),Fk(this,i,n))},t)),t.j=e}var e9=class{constructor(e,n){this.h=e,this.g=n}};function Vk(t){this.l=t||t9,me.PerformanceNavigationTiming?(t=me.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(me.g&&me.g.Ga&&me.g.Ga()&&me.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var t9=10;function zk(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Bk(t){return t.h?1:t.g?t.g.size:0}function Ey(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function N1(t,e){t.g?t.g.add(e):t.h=e}function Hk(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Vk.prototype.cancel=function(){if(this.i=qk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function qk(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return w1(t.i)}function L1(){}L1.prototype.stringify=function(t){return me.JSON.stringify(t,void 0)};L1.prototype.parse=function(t){return me.JSON.parse(t,void 0)};function n9(){this.g=new L1}function r9(t,e,n){const r=n||"";try{jk(t,function(i,s){let o=i;Mu(i)&&(o=I1(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function i9(t,e){const n=new bh;if(me.Image){const r=new Image;r.onload=xc(kc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=xc(kc,n,r,"TestLoadImage: error",!1,e),r.onabort=xc(kc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=xc(kc,n,r,"TestLoadImage: timeout",!1,e),me.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function kc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Bu(t){this.l=t.ac||null,this.j=t.jb||!1}qt(Bu,R1);Bu.prototype.g=function(){return new Oh(this.l,this.j)};Bu.prototype.i=function(t){return function(){return t}}({});function Oh(t,e){jt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=O1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qt(Oh,jt);var O1=0;ee=Oh.prototype;ee.open=function(t,e){if(this.readyState!=O1)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,yu(this)};ee.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||me).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hu(this)),this.readyState=O1};ee.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,yu(this)),this.g&&(this.readyState=3,yu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof me.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Wk(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function Wk(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}ee.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Hu(this):yu(this),this.readyState==3&&Wk(this)}};ee.Va=function(t){this.g&&(this.response=this.responseText=t,Hu(this))};ee.Ua=function(t){this.g&&(this.response=t,Hu(this))};ee.ga=function(){this.g&&Hu(this)};function Hu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,yu(t)}ee.setRequestHeader=function(t,e){this.v.append(t,e)};ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function yu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Oh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var s9=me.JSON.parse;function ft(t){jt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Gk,this.K=this.L=!1}qt(ft,jt);var Gk="",o9=/^https?$/i,a9=["POST","PUT"];ee=ft.prototype;ee.Ka=function(t){this.L=t};ee.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yy.g(),this.C=this.u?IE(this.u):IE(yy),this.g.onreadystatechange=nn(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){RE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=me.FormData&&t instanceof me.FormData,!(0<=uk(a9,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Yk(this),0<this.B&&((this.K=l9(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nn(this.qa,this)):this.A=b1(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){RE(this,s)}};function l9(t){return da&&xU()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ee.qa=function(){typeof v1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Bt(this,"timeout"),this.abort(8))};function RE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Kk(t),Dh(t)}function Kk(t){t.D||(t.D=!0,Bt(t,"complete"),Bt(t,"error"))}ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Bt(this,"complete"),Bt(this,"abort"),Dh(this))};ee.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dh(this,!0)),ft.X.M.call(this)};ee.Ha=function(){this.s||(this.F||this.v||this.l?Qk(this):this.fb())};ee.fb=function(){Qk(this)};function Qk(t){if(t.h&&typeof v1<"u"&&(!t.C[1]||Xr(t)!=4||t.aa()!=2)){if(t.v&&Xr(t)==4)b1(t.Ha,0,t);else if(Bt(t,"readystatechange"),Xr(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(Mk)[1]||null;if(!i&&me.self&&me.self.location){var s=me.self.location.protocol;i=s.substr(0,s.length-1)}r=!o9.test(i?i.toLowerCase():"")}n=r}if(n)Bt(t,"complete"),Bt(t,"success");else{t.m=6;try{var o=2<Xr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",Kk(t)}}finally{Dh(t)}}}}function Dh(t,e){if(t.g){Yk(t);const n=t.g,r=t.C[0]?of:null;t.g=null,t.C=null,e||Bt(t,"ready");try{n.onreadystatechange=r}catch{}}}function Yk(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(me.clearTimeout(t.A),t.A=null)}function Xr(t){return t.g?t.g.readyState:0}ee.aa=function(){try{return 2<Xr(this)?this.g.status:-1}catch{return-1}};ee.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};ee.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),s9(e)}};function AE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Gk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ee.Ea=function(){return this.m};ee.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Xk(t){let e="";return E1(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function D1(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Xk(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):it(t,e,n))}function Ja(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Jk(t){this.Ca=0,this.i=[],this.j=new bh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ja("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ja("baseRetryDelayMs",5e3,t),this.bb=Ja("retryDelaySeedMs",1e4,t),this.$a=Ja("forwardChannelMaxRetries",2,t),this.ta=Ja("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new Vk(t&&t.concurrentRequestLimit),this.Fa=new n9,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}ee=Jk.prototype;ee.ma=8;ee.G=1;function j1(t){if(Zk(t),t.G==3){var e=t.U++,n=di(t.F);it(n,"SID",t.I),it(n,"RID",e),it(n,"TYPE","terminate"),qu(t,n),e=new Vu(t,t.j,e,void 0),e.K=2,e.v=Lh(di(n)),n=!1,me.navigator&&me.navigator.sendBeacon&&(n=me.navigator.sendBeacon(e.v.toString(),"")),!n&&me.Image&&(new Image().src=e.v,n=!0),n||(e.g=ab(e.l,null),e.g.da(e.v)),e.F=Date.now(),zu(e)}sb(t)}function jh(t){t.g&&($1(t),t.g.cancel(),t.g=null)}function Zk(t){jh(t),t.u&&(me.clearTimeout(t.u),t.u=null),ff(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&me.clearTimeout(t.m),t.m=null)}function Mh(t){zk(t.h)||t.m||(t.m=!0,Ek(t.Ja,t),t.C=0)}function u9(t,e){return Bk(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Uu(nn(t.Ja,t,e),ib(t,t.C)),t.C++,!0)}ee.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Vu(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=hk(s),pk(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=eb(this,i,e),n=di(this.F),it(n,"RID",t),it(n,"CVER",22),this.D&&it(n,"X-HTTP-Session-Id",this.D),qu(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(Xk(s)))+"&"+e:this.o&&D1(n,this.o,s)),N1(this.h,i),this.Ya&&it(n,"TYPE","init"),this.O?(it(n,"$req",e),it(n,"SID","null"),i.Z=!0,wy(i,n,null)):wy(i,n,e),this.G=2}}else this.G==3&&(t?PE(this,t):this.i.length==0||zk(this.h)||PE(this))};function PE(t,e){var n;e?n=e.m:n=t.U++;const r=di(t.F);it(r,"SID",t.I),it(r,"RID",n),it(r,"AID",t.T),qu(t,r),t.o&&t.s&&D1(r,t.o,t.s),n=new Vu(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=eb(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),N1(t.h,n),wy(n,r,e)}function qu(t,e){t.ia&&E1(t.ia,function(n,r){it(e,r,n)}),t.l&&jk({},function(n,r){it(e,r,n)})}function eb(t,e,n){n=Math.min(t.i.length,n);var r=t.l?nn(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{r9(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function tb(t){t.g||t.u||(t.Z=1,Ek(t.Ia,t),t.A=0)}function M1(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Uu(nn(t.Ia,t),ib(t,t.A)),t.A++,!0)}ee.Ia=function(){if(this.u=null,nb(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Uu(nn(this.eb,this),t)}};ee.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,hn(10),jh(this),nb(this))};function $1(t){t.B!=null&&(me.clearTimeout(t.B),t.B=null)}function nb(t){t.g=new Vu(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=di(t.sa);it(e,"RID","rpc"),it(e,"SID",t.I),it(e,"CI",t.L?"0":"1"),it(e,"AID",t.T),it(e,"TYPE","xmlhttp"),qu(t,e),t.o&&t.s&&D1(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Lh(di(e)),n.s=null,n.P=!0,Nk(n,t)}ee.cb=function(){this.v!=null&&(this.v=null,jh(this),M1(this),hn(19))};function ff(t){t.v!=null&&(me.clearTimeout(t.v),t.v=null)}function rb(t,e){var n=null;if(t.g==e){ff(t),$1(t),t.g=null;var r=2}else if(Ey(t.h,e))n=e.D,Hk(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Rh(),Bt(r,new bk(r,n)),Mh(t)}else tb(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&u9(t,e)||r==2&&M1(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:ks(t,5);break;case 4:ks(t,10);break;case 3:ks(t,6);break;default:ks(t,2)}}}function ib(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function ks(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=nn(t.kb,t);n||(n=new Os("//www.google.com/images/cleardot.gif"),me.location&&me.location.protocol=="http"||cf(n,"https"),Lh(n)),i9(n.toString(),r)}else hn(2);t.G=0,t.l&&t.l.va(e),sb(t),Zk(t)}ee.kb=function(t){t?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function sb(t){if(t.G=0,t.la=[],t.l){const e=qk(t.h);(e.length!=0||t.i.length!=0)&&(_E(t.la,e),_E(t.la,t.i),t.h.i.length=0,w1(t.i),t.i.length=0),t.l.ua()}}function ob(t,e,n){var r=n instanceof Os?di(n):new Os(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),df(r,r.m);else{var i=me.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Os(null,void 0);r&&cf(s,r),e&&(s.g=e),i&&df(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&it(r,n,e),it(r,"VER",t.ma),qu(t,r),r}function ab(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new ft(new Bu({jb:!0})):new ft(t.ra),e.Ka(t.H),e}function lb(){}ee=lb.prototype;ee.xa=function(){};ee.wa=function(){};ee.va=function(){};ee.ua=function(){};ee.Ra=function(){};function hf(){if(da&&!(10<=Number(IU)))throw Error("Environmental error: no available transport.")}hf.prototype.g=function(t,e){return new $n(t,e)};function $n(t,e){jt.call(this),this.g=new Jk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!af(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!af(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Aa(this)}qt($n,jt);$n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;hn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=ob(t,null,t.V),Mh(t)};$n.prototype.close=function(){j1(this.g)};$n.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=I1(t),t=n);e.i.push(new e9(e.ab++,t)),e.G==3&&Mh(e)};$n.prototype.M=function(){this.g.l=null,delete this.j,j1(this.g),delete this.g,$n.X.M.call(this)};function ub(t){A1.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}qt(ub,A1);function cb(){P1.call(this),this.status=1}qt(cb,P1);function Aa(t){this.g=t}qt(Aa,lb);Aa.prototype.xa=function(){Bt(this.g,"a")};Aa.prototype.wa=function(t){Bt(this.g,new ub(t))};Aa.prototype.va=function(t){Bt(this.g,new cb)};Aa.prototype.ua=function(){Bt(this.g,"b")};hf.prototype.createWebChannel=hf.prototype.g;$n.prototype.send=$n.prototype.u;$n.prototype.open=$n.prototype.m;$n.prototype.close=$n.prototype.close;Ah.NO_ERROR=0;Ah.TIMEOUT=8;Ah.HTTP_ERROR=6;Rk.COMPLETE="complete";Ak.EventType=Fu;Fu.OPEN="a";Fu.CLOSE="b";Fu.ERROR="c";Fu.MESSAGE="d";jt.prototype.listen=jt.prototype.N;ft.prototype.listenOnce=ft.prototype.O;ft.prototype.getLastError=ft.prototype.Oa;ft.prototype.getLastErrorCode=ft.prototype.Ea;ft.prototype.getStatus=ft.prototype.aa;ft.prototype.getResponseJson=ft.prototype.Sa;ft.prototype.getResponseText=ft.prototype.fa;ft.prototype.send=ft.prototype.da;ft.prototype.setWithCredentials=ft.prototype.Ka;var c9=function(){return new hf},d9=function(){return Rh()},gm=Ah,f9=Rk,h9=ao,NE={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},p9=Bu,bc=Ak,m9=ft;const LE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pa="9.20.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new gh("@firebase/firestore");function OE(){return Ys.logLevel}function ne(t,...e){if(Ys.logLevel<=Oe.DEBUG){const n=e.map(U1);Ys.debug(`Firestore (${Pa}): ${t}`,...n)}}function fi(t,...e){if(Ys.logLevel<=Oe.ERROR){const n=e.map(U1);Ys.error(`Firestore (${Pa}): ${t}`,...n)}}function pf(t,...e){if(Ys.logLevel<=Oe.WARN){const n=e.map(U1);Ys.warn(`Firestore (${Pa}): ${t}`,...n)}}function U1(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${Pa}) INTERNAL ASSERTION FAILED: `+t;throw fi(e),new Error(e)}function Xe(t,e){t||he()}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class g9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class y9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class v9{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ni,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ni)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string"),new db(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new Xt(e)}}class w9{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class _9{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new w9(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S9{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string"),this.T=n.token,new E9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=C9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Me(t,e){return t<e?-1:t>e?1:0}function fa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ct(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ye(e)}static min(){return new ye(new Ct(0,0))}static max(){return new ye(new Ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Qe extends vu{construct(e,n,r){return new Qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const T9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends vu{construct(e,n,r){return new en(e,n,r)}static isValidIdentifier(e){return T9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new en(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new X(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new X(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Qe.fromString(e))}static fromName(e){return new se(Qe.fromString(e).popFirst(5))}static empty(){return new se(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Qe(e.slice()))}}function x9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new Zi(i,se.empty(),e)}function I9(t){return new Zi(t.readTime,t.key,-1)}class Zi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zi(ye.min(),se.empty(),-1)}static max(){return new Zi(ye.max(),se.empty(),-1)}}function k9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==b9)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Gu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}F1.ct=-1;function $h(t){return t==null}function mf(t){return t===0&&1/t==-1/0}function A9(t){return typeof t=="number"&&Number.isInteger(t)&&!mf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){this.comparator=e,this.root=n||Vt.EMPTY}insert(e,n){return new At(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rc(this.root,e,this.comparator,!0)}}class Rc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Vt.RED,this.left=i??Vt.EMPTY,this.right=s??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Vt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Vt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Vt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jE(this.data.getIterator())}getIteratorFrom(e){return new jE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class jE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new An([])}unionWith(e){let n=new Rt(en.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new P9("Invalid base64 string: "+i):i}}(e);return new ln(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const N9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(t){if(Xe(!!t),typeof t=="string"){let e=0;const n=N9.exec(t);if(Xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ha(t){return typeof t=="string"?ln.fromBase64String(t):ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function mb(t){const e=t.mapValue.fields.__previous_value__;return pb(e)?mb(e):e}function wu(t){const e=es(t.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class _u{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _u("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof _u&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pb(t)?4:O9(t)?9007199254740991:10:he()}function Or(t,e){if(t===e)return!0;const n=Xs(t);if(n!==Xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wu(t).isEqual(wu(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=es(r.timestampValue),o=es(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ha(r.bytesValue).isEqual(ha(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return vt(r.geoPointValue.latitude)===vt(i.geoPointValue.latitude)&&vt(r.geoPointValue.longitude)===vt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return vt(r.integerValue)===vt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=vt(r.doubleValue),o=vt(i.doubleValue);return s===o?mf(s)===mf(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return fa(t.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(DE(s)!==DE(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Or(s[a],o[a])))return!1;return!0}(t,e);default:return he()}}function Eu(t,e){return(t.values||[]).find(n=>Or(n,e))!==void 0}function pa(t,e){if(t===e)return 0;const n=Xs(t),r=Xs(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=vt(i.integerValue||i.doubleValue),a=vt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return ME(t.timestampValue,e.timestampValue);case 4:return ME(wu(t),wu(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ha(i),a=ha(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Me(o[l],a[l]);if(u!==0)return u}return Me(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Me(vt(i.latitude),vt(s.latitude));return o!==0?o:Me(vt(i.longitude),vt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=pa(o[l],a[l]);if(u)return u}return Me(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ac.mapValue&&s===Ac.mapValue)return 0;if(i===Ac.mapValue)return 1;if(s===Ac.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const f=Me(a[c],u[c]);if(f!==0)return f;const h=pa(o[a[c]],l[u[c]]);if(h!==0)return h}return Me(a.length,u.length)}(t.mapValue,e.mapValue);default:throw he()}}function ME(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=es(t),r=es(e),i=Me(n.seconds,r.seconds);return i!==0?i:Me(n.nanos,r.nanos)}function ma(t){return Sy(t)}function Sy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=es(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ha(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,se.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Sy(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Sy(r.fields[a])}`;return s+"}"}(t.mapValue):he();var e,n}function $E(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Cy(t){return!!t&&"integerValue"in t}function V1(t){return!!t&&"arrayValue"in t}function UE(t){return!!t&&"nullValue"in t}function FE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function id(t){return!!t&&"mapValue"in t}function Ll(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return lo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ll(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ll(t.arrayValue.values[n]);return e}return Object.assign({},t)}function O9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!id(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(n)}setAll(e){let n=en.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ll(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());id(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];id(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){lo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new _n(Ll(this.value))}}function gb(t){const e=[];return lo(t.fields,(n,r)=>{const i=new en([n]);if(id(r)){const s=gb(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Zt(e,0,ye.min(),ye.min(),ye.min(),_n.empty(),0)}static newFoundDocument(e,n,r,i){return new Zt(e,1,n,ye.min(),r,i,0)}static newNoDocument(e,n){return new Zt(e,2,n,ye.min(),ye.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,ye.min(),ye.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this.position=e,this.inclusive=n}}function VE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=pa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function zE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Or(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n="asc"){this.field=e,this.dir=n}}function D9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{}class Et extends yb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new M9(e,n,r):n==="array-contains"?new F9(e,r):n==="in"?new V9(e,r):n==="not-in"?new z9(e,r):n==="array-contains-any"?new B9(e,r):new Et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $9(e,r):new U9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(pa(n,this.value)):n!==null&&Xs(this.value)===Xs(n)&&this.matchesComparison(pa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class wr extends yb{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new wr(e,n)}matches(e){return vb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function vb(t){return t.op==="and"}function wb(t){return j9(t)&&vb(t)}function j9(t){for(const e of t.filters)if(e instanceof wr)return!1;return!0}function Ty(t){if(t instanceof Et)return t.field.canonicalString()+t.op.toString()+ma(t.value);if(wb(t))return t.filters.map(e=>Ty(e)).join(",");{const e=t.filters.map(n=>Ty(n)).join(",");return`${t.op}(${e})`}}function _b(t,e){return t instanceof Et?function(n,r){return r instanceof Et&&n.op===r.op&&n.field.isEqual(r.field)&&Or(n.value,r.value)}(t,e):t instanceof wr?function(n,r){return r instanceof wr&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&_b(s,r.filters[o]),!0):!1}(t,e):void he()}function Eb(t){return t instanceof Et?function(e){return`${e.field.canonicalString()} ${e.op} ${ma(e.value)}`}(t):t instanceof wr?function(e){return e.op.toString()+" {"+e.getFilters().map(Eb).join(" ,")+"}"}(t):"Filter"}class M9 extends Et{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class $9 extends Et{constructor(e,n){super(e,"in",n),this.keys=Sb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class U9 extends Et{constructor(e,n){super(e,"not-in",n),this.keys=Sb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Sb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class F9 extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return V1(n)&&Eu(n.arrayValue,this.value)}}class V9 extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Eu(this.value.arrayValue,n)}}class z9 extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Eu(this.value.arrayValue,n)}}class B9 extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!V1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Eu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function BE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new H9(t,e,n,r,i,s,o)}function z1(t){const e=ve(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ty(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),$h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ma(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ma(r)).join(",")),e.ft=n}return e.ft}function B1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!D9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_b(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zE(t.startAt,e.startAt)&&zE(t.endAt,e.endAt)}function xy(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function q9(t,e,n,r,i,s,o,a){return new Ku(t,e,n,r,i,s,o,a)}function Uh(t){return new Ku(t)}function HE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Cb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function H1(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Tb(t){return t.collectionGroup!==null}function Xo(t){const e=ve(t);if(e.dt===null){e.dt=[];const n=H1(e),r=Cb(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new Ol(n)),e.dt.push(new Ol(en.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ol(en.keyField(),s))}}}return e.dt}function hi(t){const e=ve(t);if(!e.wt)if(e.limitType==="F")e.wt=BE(e.path,e.collectionGroup,Xo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Xo(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Ol(s.field,o))}const r=e.endAt?new gf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new gf(e.startAt.position,e.startAt.inclusive):null;e.wt=BE(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function Iy(t,e){e.getFirstInequalityField(),H1(t);const n=t.filters.concat([e]);return new Ku(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ky(t,e,n){return new Ku(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fh(t,e){return B1(hi(t),hi(e))&&t.limitType===e.limitType}function xb(t){return`${z1(hi(t))}|lt:${t.limitType}`}function by(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>Eb(r)).join(", ")}]`),$h(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ma(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ma(r)).join(",")),`Target(${n})`}(hi(t))}; limitType=${t.limitType})`}function Vh(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):se.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Xo(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=VE(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Xo(n),r)||n.endAt&&!function(i,s,o){const a=VE(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Xo(n),r))}(t,e)}function W9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ib(t){return(e,n)=>{let r=!1;for(const i of Xo(t)){const s=G9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function G9(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?pa(a,l):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return hb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=new At(se.comparator);function pi(){return K9}const kb=new At(se.comparator);function yl(...t){let e=kb;for(const n of t)e=e.insert(n.key,n);return e}function bb(t){let e=kb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function bs(){return Dl()}function Rb(){return Dl()}function Dl(){return new Na(t=>t.toString(),(t,e)=>t.isEqual(e))}const Q9=new At(se.comparator),Y9=new Rt(se.comparator);function xe(...t){let e=Y9;for(const n of t)e=e.add(n);return e}const X9=new Rt(Me);function Ab(){return X9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mf(e)?"-0":e}}function Nb(t){return{integerValue:""+t}}function J9(t,e){return A9(e)?Nb(e):Pb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this._=void 0}}function Z9(t,e,n){return t instanceof yf?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Su?Ob(t,e):t instanceof Cu?Db(t,e):function(r,i){const s=Lb(r,i),o=qE(s)+qE(r._t);return Cy(s)&&Cy(r._t)?Nb(o):Pb(r.serializer,o)}(t,e)}function e5(t,e,n){return t instanceof Su?Ob(t,e):t instanceof Cu?Db(t,e):n}function Lb(t,e){return t instanceof vf?Cy(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class yf extends zh{}class Su extends zh{constructor(e){super(),this.elements=e}}function Ob(t,e){const n=jb(e);for(const r of t.elements)n.some(i=>Or(i,r))||n.push(r);return{arrayValue:{values:n}}}class Cu extends zh{constructor(e){super(),this.elements=e}}function Db(t,e){let n=jb(e);for(const r of t.elements)n=n.filter(i=>!Or(i,r));return{arrayValue:{values:n}}}class vf extends zh{constructor(e,n){super(),this.serializer=e,this._t=n}}function qE(t){return vt(t.integerValue||t.doubleValue)}function jb(t){return V1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function t5(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Su&&r instanceof Su||n instanceof Cu&&r instanceof Cu?fa(n.elements,r.elements,Or):n instanceof vf&&r instanceof vf?Or(n._t,r._t):n instanceof yf&&r instanceof yf}(t.transform,e.transform)}class n5{constructor(e,n){this.version=e,this.transformResults=n}}class mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bh{}function Mb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ub(t.key,mr.none()):new Qu(t.key,t.data,mr.none());{const n=t.data,r=_n.empty();let i=new Rt(en.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new cs(t.key,r,new An(i.toArray()),mr.none())}}function r5(t,e,n){t instanceof Qu?function(r,i,s){const o=r.value.clone(),a=GE(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof cs?function(r,i,s){if(!sd(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=GE(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll($b(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function jl(t,e,n,r){return t instanceof Qu?function(i,s,o,a){if(!sd(i.precondition,s))return o;const l=i.value.clone(),u=KE(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof cs?function(i,s,o,a){if(!sd(i.precondition,s))return o;const l=KE(i.fieldTransforms,a,s),u=s.data;return u.setAll($b(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return sd(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function i5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Lb(r.transform,i||null);s!=null&&(n===null&&(n=_n.empty()),n.set(r.field,s))}return n||null}function WE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&fa(n,r,(i,s)=>t5(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qu extends Bh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class cs extends Bh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $b(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function GE(t,e,n){const r=new Map;Xe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,e5(o,a,n[i]))}return r}function KE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Z9(s,o,e))}return r}class Ub extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s5 extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&r5(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=jl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=jl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Rb();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Mb(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&fa(this.mutations,e.mutations,(n,r)=>WE(n,r))&&fa(this.baseMutations,e.baseMutations,(n,r)=>WE(n,r))}}class q1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Xe(e.mutations.length===r.length);let i=Q9;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new q1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Ae;function u5(t){switch(t){default:return he();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function Fb(t){if(t===void 0)return fi("GRPC error has no .code"),D.UNKNOWN;switch(t){case gt.OK:return D.OK;case gt.CANCELLED:return D.CANCELLED;case gt.UNKNOWN:return D.UNKNOWN;case gt.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case gt.INTERNAL:return D.INTERNAL;case gt.UNAVAILABLE:return D.UNAVAILABLE;case gt.UNAUTHENTICATED:return D.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case gt.NOT_FOUND:return D.NOT_FOUND;case gt.ALREADY_EXISTS:return D.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return D.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case gt.ABORTED:return D.ABORTED;case gt.OUT_OF_RANGE:return D.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return D.UNIMPLEMENTED;case gt.DATA_LOSS:return D.DATA_LOSS;default:return he()}}(Ae=gt||(gt={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Pc}static getOrCreateInstance(){return Pc===null&&(Pc=new W1),Pc}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Pc=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Yu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hh(ye.min(),i,Ab(),pi(),xe())}}class Yu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yu(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class Vb{constructor(e,n){this.targetId=e,this.Et=n}}class zb{constructor(e,n,r=ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class QE{constructor(){this.At=0,this.Rt=XE(),this.vt=ln.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=xe(),n=xe(),r=xe();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new Yu(this.vt,this.bt,e,n,r)}xt(){this.Pt=!1,this.Rt=XE()}Nt(e,n){this.Pt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class c5{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=pi(),this.qt=YE(),this.Ut=new Rt(Me)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}zt(e){this.forEachTarget(e,n=>{const r=this.jt(n);switch(e.state){case 0:this.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(e){var n;const r=e.targetId,i=e.Et.count,s=this.Yt(r);if(s){const o=s.target;if(xy(o))if(i===0){const a=new se(o.path);this.Qt(r,a,Zt.newNoDocument(a,ye.min()))}else Xe(i===1);else{const a=this.Zt(r);a!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=W1.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:e.Et.count}))}}}Xt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&xy(a.target)){const l=new se(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,Zt.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=xe();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new Hh(e,n,this.Ut,this.Lt,r);return this.Lt=pi(),this.qt=YE(),this.Ut=new Rt(Me),i}Gt(e,n){if(!this.Wt(e))return;const r=this.te(e,n.key)?2:0;this.jt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.Wt(e))return;const i=this.jt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const n=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let n=this.Bt.get(e);return n||(n=new QE,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Rt(Me),this.qt=this.qt.insert(e,n)),n}Wt(e){const n=this.Yt(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new QE),this.Ft.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.Ft.getRemoteKeysForTarget(e).has(n)}}function YE(){return new At(se.comparator)}function XE(){return new At(se.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),f5=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),h5=(()=>({and:"AND",or:"OR"}))();class p5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function m5(t,e){return wf(t,e.toTimestamp())}function Lr(t){return Xe(!!t),ye.fromTimestamp(function(e){const n=es(e);return new Ct(n.seconds,n.nanos)}(t))}function G1(t,e){return function(n){return new Qe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Hb(t){const e=Qe.fromString(t);return Xe(Kb(e)),e}function Ry(t,e){return G1(t.databaseId,e.path)}function ym(t,e){const n=Hb(e);if(n.get(1)!==t.databaseId.projectId)throw new X(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(qb(n))}function Ay(t,e){return G1(t.databaseId,e)}function g5(t){const e=Hb(t);return e.length===4?Qe.emptyPath():qb(e)}function Py(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qb(t){return Xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function JE(t,e,n){return{name:Ry(t,e),fields:n.value.mapValue.fields}}function y5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Xe(u===void 0||typeof u=="string"),ln.fromBase64String(u||"")):(Xe(u===void 0||u instanceof Uint8Array),ln.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?D.UNKNOWN:Fb(l.code);return new X(u,l.message||"")}(o);n=new zb(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ym(t,r.document.name),s=Lr(r.document.updateTime),o=r.document.createTime?Lr(r.document.createTime):ye.min(),a=new _n({mapValue:{fields:r.document.fields}}),l=Zt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new od(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ym(t,r.document),s=r.readTime?Lr(r.readTime):ye.min(),o=Zt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new od([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ym(t,r.document),s=r.removedTargetIds||[];n=new od([],s,i,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new l5(i),o=r.targetId;n=new Vb(o,s)}}return n}function v5(t,e){let n;if(e instanceof Qu)n={update:JE(t,e.key,e.value)};else if(e instanceof Ub)n={delete:Ry(t,e.key)};else if(e instanceof cs)n={update:JE(t,e.key,e.data),updateMask:k5(e.fieldMask)};else{if(!(e instanceof s5))return he();n={verify:Ry(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof yf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Su)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Cu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof vf)return{fieldPath:s.field.canonicalString(),increment:o._t};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:m5(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he()}(t,e.precondition)),n}function w5(t,e){return t&&t.length>0?(Xe(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Lr(r.updateTime):Lr(i);return s.isEqual(ye.min())&&(s=Lr(i)),new n5(s,r.transformResults||[])}(n,e))):[]}function _5(t,e){return{documents:[Ay(t,e.path)]}}function E5(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Ay(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ay(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Gb(wr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:_o(c.field),direction:T5(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.useProto3Json||$h(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function S5(t){let e=g5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const f=Wb(c);return f instanceof wr&&wb(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(f){return new Ol(Eo(f.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(c)));let a=null;n.limit&&(a=function(c){let f;return f=typeof c=="object"?c.value:c,$h(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(c){const f=!!c.before,h=c.values||[];return new gf(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const f=!c.before,h=c.values||[];return new gf(h,f)}(n.endAt)),q9(e,i,o,s,a,"F",l,u)}function C5(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return he()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function Wb(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Eo(e.unaryFilter.field);return Et.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Eo(e.unaryFilter.field);return Et.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Eo(e.unaryFilter.field);return Et.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Eo(e.unaryFilter.field);return Et.create(s,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(e){return Et.create(Eo(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return wr.create(e.compositeFilter.filters.map(n=>Wb(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return he()}}(e.compositeFilter.op))}(t):he()}function T5(t){return d5[t]}function x5(t){return f5[t]}function I5(t){return h5[t]}function _o(t){return{fieldPath:t.canonicalString()}}function Eo(t){return en.fromServerFormat(t.fieldPath)}function Gb(t){return t instanceof Et?function(e){if(e.op==="=="){if(FE(e.value))return{unaryFilter:{field:_o(e.field),op:"IS_NAN"}};if(UE(e.value))return{unaryFilter:{field:_o(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(FE(e.value))return{unaryFilter:{field:_o(e.field),op:"IS_NOT_NAN"}};if(UE(e.value))return{unaryFilter:{field:_o(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(e.field),op:x5(e.op),value:e.value}}}(t):t instanceof wr?function(e){const n=e.getFilters().map(r=>Gb(r));return n.length===1?n[0]:{compositeFilter:{op:I5(e.op),filters:n}}}(t):he()}function k5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Kb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n,r,i,s=ye.min(),o=ye.min(),a=ln.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e){this.se=e}}function R5(t){const e=S5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ky(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(){this.He=new P5}addToCollectionParentIndex(e,n){return this.He.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.He.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Zi.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class P5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Rt(Qe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new ga(0)}static bn(){return new ga(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(){this.changes=new Na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&jl(r.mutation,i,An.empty(),Ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const i=bs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=yl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=bs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=pi();const o=Dl(),a=Dl();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof cs)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),jl(c.mutation,u,c.mutation.getFieldMask(),Ct.now())):o.set(u.key,An.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new L5(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Dl();let i=new At((o,a)=>o-a),s=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||An.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||xe()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=Rb();c.forEach(h=>{if(!s.has(h)){const p=Mb(n.get(h),r.get(h));p!==null&&f.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return se.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Tb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(bs());let a=-1,l=s;return o.next(u=>z.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?z.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,xe())).next(c=>({batchId:a,changes:bb(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=yl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=yl();return this.indexManager.getCollectionParents(e,i).next(o=>z.forEach(o,a=>{const l=function(u,c){return new Ku(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,f)=>{s=s.insert(c,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,Zt.newInvalidDocument(u)))});let o=yl();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&jl(u.mutation,l,An.empty(),Ct.now()),Vh(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return z.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Lr(r.createTime)}),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:R5(r.bundledQuery),readTime:Lr(r.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(){this.overlays=new At(se.comparator),this.ts=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=bs();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.re(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ts.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=bs(),s=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new At((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=bs(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=bs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return z.resolve(a)}re(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new a5(n,r));let s=this.ts.get(n);s===void 0&&(s=xe(),this.ts.set(n,s)),this.ts.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.es=new Rt(Lt.ns),this.ss=new Rt(Lt.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,n){const r=new Lt(e,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.us(new Lt(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}hs(e){const n=new se(new Qe([])),r=new Lt(n,e),i=new Lt(n,e+1),s=[];return this.ss.forEachInRange([r,i],o=>{this.us(o),s.push(o.key)}),s}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const n=new se(new Qe([])),r=new Lt(n,e),i=new Lt(n,e+1);let s=xe();return this.ss.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Lt(e,0),r=this.es.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,n){this.key=e,this.ds=n}static ns(e,n){return se.comparator(e.key,n.key)||Me(e.ds,n.ds)}static rs(e,n){return Me(e.ds,n.ds)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new Rt(Lt.ns)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new o5(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this._s=this._s.add(new Lt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ys(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Lt(n,0),i=new Lt(n,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([r,i],o=>{const a=this.gs(o.ds);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rt(Me);return n.forEach(i=>{const s=new Lt(i,0),o=new Lt(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,o],a=>{r=r.add(a.ds)})}),z.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;se.isDocumentKey(s)||(s=s.child(""));const o=new Lt(new se(s),0);let a=new Rt(Me);return this._s.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.ds)),!0)},o),z.resolve(this.ps(a))}ps(e){const n=[];return e.forEach(r=>{const i=this.gs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Xe(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return z.forEach(n.mutations,i=>{const s=new Lt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,n){const r=new Lt(n,0),i=this._s.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Is(e,n){return this.ys(e)}ys(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}gs(e){const n=this.ys(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e){this.Ts=e,this.docs=new At(se.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=pi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Zt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=pi();const o=n.path,a=new se(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||k9(I9(c),r)<=0||(i.has(c.key)||Vh(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){he()}Es(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new U5(this)}getSize(e){return z.resolve(this.size)}}class U5 extends N5{constructor(e){super(),this.Jn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(e,i)):this.Jn.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Jn.getEntry(e,n)}getAllFromCache(e,n){return this.Jn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e){this.persistence=e,this.As=new Na(n=>z1(n),B1),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Rs=0,this.vs=new K1,this.targetCount=0,this.bs=ga.vn()}forEachTarget(e,n){return this.As.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),z.resolve()}Sn(e){this.As.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new ga(n),this.highestTargetId=n),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,n){return this.Sn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Sn(n),z.resolve()}removeTargetData(e,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.As.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.As.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.As.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.vs.os(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.vs.hs(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.vs.fs(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,n){this.Ps={},this.overlays={},this.Vs=new F1(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new F5(this),this.indexManager=new A5,this.remoteDocumentCache=function(r){return new $5(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new b5(n),this.xs=new D5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new j5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ps[e.toKey()];return r||(r=new M5(n,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const i=new z5(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(s=>this.referenceDelegate.ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return z.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,n)))}}class z5 extends R9{constructor(e){super(),this.currentSequenceNumber=e}}class Q1{constructor(e){this.persistence=e,this.$s=new K1,this.Ms=null}static Fs(e){return new Q1(e)}get Bs(){if(this.Ms)return this.Ms;throw he()}addReference(e,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Bs.add(n.toString()),z.resolve()}removeTarget(e,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Bs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ns(){this.Ms=new Set}ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Bs,r=>{const i=se.fromPath(r);return this.Ls(e,i).next(s=>{s||n.removeEntry(i,ye.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ls(e,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(e){return 0}Ls(e,n){return z.or([()=>z.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Vi=r,this.Si=i}static Di(e,n){let r=xe(),i=xe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Y1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(){this.Ci=!1}initialize(e,n){this.xi=e,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ni(e,n).next(s=>s||this.ki(e,n,i,r)).next(s=>s||this.Oi(e,n))}Ni(e,n){if(HE(n))return z.resolve(null);let r=hi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ky(n,null,"F"),r=hi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=xe(...s);return this.xi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.$i(n,a);return this.Mi(n,u,o,l.readTime)?this.Ni(e,ky(n,null,"F")):this.Fi(e,u,n,l)}))})))}ki(e,n,r,i){return HE(n)||i.isEqual(ye.min())?this.Oi(e,n):this.xi.getDocuments(e,r).next(s=>{const o=this.$i(n,s);return this.Mi(n,o,r,i)?this.Oi(e,n):(OE()<=Oe.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),by(n)),this.Fi(e,o,n,x9(i,-1)))})}$i(e,n){let r=new Rt(Ib(e));return n.forEach((i,s)=>{Vh(e,s)&&(r=r.add(s))}),r}Mi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return OE()<=Oe.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",by(n)),this.xi.getDocumentsMatchingQuery(e,n,Zi.min())}Fi(e,n,r,i){return this.xi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,n,r,i){this.persistence=e,this.Bi=n,this.serializer=i,this.Li=new At(Me),this.qi=new Na(s=>z1(s),B1),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new O5(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Li))}}function q5(t,e,n,r){return new H5(t,e,n,r)}async function Qb(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Gi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=xe();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Qi:u,removedBatchIds:o,addedBatchIds:a}))})})}function W5(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ki.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,f=c.keys();let h=z.resolve();return f.forEach(p=>{h=h.next(()=>u.getEntry(a,p)).next(v=>{const w=l.docVersions.get(p);Xe(w!==null),v.version.compareTo(w)<0&&(c.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),u.addEntry(v)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=xe();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Yb(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ds.getLastRemoteSnapshotVersion(n))}function G5(t,e){const n=ve(t),r=e.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const a=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;a.push(n.Ds.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Ds.addMatchingKeys(s,c.addedDocuments,f)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(f)?p=p.withResumeToken(ln.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(v,w,y){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,c)&&a.push(n.Ds.updateTargetData(s,p))});let l=pi(),u=xe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(K5(s,o,e.documentUpdates).next(c=>{l=c.zi,u=c.ji})),!r.isEqual(ye.min())){const c=n.Ds.getLastRemoteSnapshotVersion(s).next(f=>n.Ds.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Li=i,s))}function K5(t,e,n){let r=xe(),i=xe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=pi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ye.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{zi:o,ji:i}})}function Q5(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Y5(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Ds.allocateTargetId(r).next(o=>(i=new Ds(e,o,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function Ny(t,e,n){const r=ve(t),i=r.Li.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Gu(o))throw o;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Li=r.Li.remove(e),r.qi.delete(i.target)}function ZE(t,e,n){const r=ve(t);let i=ye.min(),s=xe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=ve(a),f=c.qi.get(u);return f!==void 0?z.resolve(c.Li.get(f)):c.Ds.getTargetData(l,u)}(r,o,hi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Bi.getDocumentsMatchingQuery(o,e,n?i:ye.min(),n?s:xe())).next(a=>(X5(r,W9(e),a),{documents:a,Wi:s})))}function X5(t,e,n){let r=t.Ui.get(e)||ye.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ui.set(e,r)}class eS{constructor(){this.activeTargetIds=Ab()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class J5{constructor(){this.Br=new eS,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,n,r){this.Lr[e]=n}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new eS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc=null;function vm(){return Nc===null?Nc=268435456+Math.round(2147483648*Math.random()):Nc++,"0x"+Nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class n8 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.ro=n+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,n,r,i,s){const o=vm(),a=this.ao(e,n);ne("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.ho(l,i,s),this.lo(e,a,l,r).then(u=>(ne("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw pf("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}fo(e,n,r,i,s,o){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){const r=e8[e];return`${this.ro}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){const s=vm();return new Promise((o,a)=>{const l=new m9;l.setWithCredentials(!0),l.listenOnce(f9.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case gm.NO_ERROR:const c=l.getResponseJson();ne(Qt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case gm.TIMEOUT:ne(Qt,`RPC '${e}' ${s} timed out`),a(new X(D.DEADLINE_EXCEEDED,"Request time out"));break;case gm.HTTP_ERROR:const f=l.getStatus();if(ne(Qt,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const v=function(w){const y=w.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(y)>=0?y:D.UNKNOWN}(p.status);a(new X(v,p.message))}else a(new X(D.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new X(D.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{ne(Qt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ne(Qt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(e,n,r){const i=vm(),s=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=c9(),a=d9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new p9({})),this.ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");ne(Qt,`Creating RPC '${e}' stream ${i}: ${u}`,l);const c=o.createWebChannel(u,l);let f=!1,h=!1;const p=new t8({Wr:w=>{h?ne(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(f||(ne(Qt,`Opening RPC '${e}' stream ${i} transport.`),c.open(),f=!0),ne(Qt,`RPC '${e}' stream ${i} sending:`,w),c.send(w))},Hr:()=>c.close()}),v=(w,y,g)=>{w.listen(y,m=>{try{g(m)}catch(_){setTimeout(()=>{throw _},0)}})};return v(c,bc.EventType.OPEN,()=>{h||ne(Qt,`RPC '${e}' stream ${i} transport opened.`)}),v(c,bc.EventType.CLOSE,()=>{h||(h=!0,ne(Qt,`RPC '${e}' stream ${i} transport closed`),p.so())}),v(c,bc.EventType.ERROR,w=>{h||(h=!0,pf(Qt,`RPC '${e}' stream ${i} transport errored:`,w),p.so(new X(D.UNAVAILABLE,"The operation could not be completed")))}),v(c,bc.EventType.MESSAGE,w=>{var y;if(!h){const g=w.data[0];Xe(!!g);const m=g,_=m.error||((y=m[0])===null||y===void 0?void 0:y.error);if(_){ne(Qt,`RPC '${e}' stream ${i} received error:`,_);const E=_.status;let S=function(I){const P=gt[I];if(P!==void 0)return Fb(P)}(E),x=_.message;S===void 0&&(S=D.INTERNAL,x="Unknown error status: "+E+" with message "+_.message),h=!0,p.so(new X(S,x)),c.close()}else ne(Qt,`RPC '${e}' stream ${i} received:`,g),p.io(g)}}),v(a,h9.STAT_EVENT,w=>{w.stat===NE.PROXY?ne(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===NE.NOPROXY&&ne(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.no()},0),p}}function wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t){return new p5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ws=e,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n,r,i,s,o,a,l){this.Ws=e,this.bo=r,this.Po=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new Xb(e,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(e,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,e!==4?this.Co.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(fi(n.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{e(()=>{const i=new X(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(e,n){const r=this.Uo(this.Vo);this.stream=this.Qo(e,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class r8 extends Jb{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}Qo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Co.reset();const n=y5(this.serializer,e),r=function(i){if(!("targetChange"in i))return ye.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ye.min():s.readTime?Lr(s.readTime):ye.min()}(e);return this.listener.zo(n,r)}jo(e){const n={};n.database=Py(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;return o=xy(a)?{documents:_5(i,a)}:{query:E5(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=Bb(i,s.resumeToken):s.snapshotVersion.compareTo(ye.min())>0&&(o.readTime=wf(i,s.snapshotVersion.toTimestamp())),o}(this.serializer,e);const r=C5(this.serializer,e);r&&(n.labels=r),this.Fo(n)}Wo(e){const n={};n.database=Py(this.serializer),n.removeTarget=e,this.Fo(n)}}class i8 extends Jb{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const n=w5(e.writeResults,e.commitTime),r=Lr(e.commitTime);return this.listener.Zo(r,n)}return Xe(!e.writeResults||e.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=Py(this.serializer),this.Fo(e)}Yo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>v5(this.serializer,r))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new X(D.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.co(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(D.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(D.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class o8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,e==="Online"&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(fi(n),this.ru=!1):ne("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(o=>{r.enqueueAndForget(async()=>{uo(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ve(a);l.du.add(4),await Xu(l),l.mu.set("Unknown"),l.du.delete(4),await Wh(l)}(this))})}),this.mu=new o8(r,i)}}async function Wh(t){if(uo(t))for(const e of t.wu)await e(!0)}async function Xu(t){for(const e of t.wu)await e(!1)}function Zb(t,e){const n=ve(t);n.fu.has(e.targetId)||(n.fu.set(e.targetId,e),Z1(n)?J1(n):La(n).No()&&X1(n,e))}function e2(t,e){const n=ve(t),r=La(n);n.fu.delete(e),r.No()&&t2(n,e),n.fu.size===0&&(r.No()?r.$o():uo(n)&&n.mu.set("Unknown"))}function X1(t,e){t.gu.Ot(e.targetId),La(t).jo(e)}function t2(t,e){t.gu.Ot(e),La(t).Wo(e)}function J1(t){t.gu=new c5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.fu.get(e)||null}),La(t).start(),t.mu.ou()}function Z1(t){return uo(t)&&!La(t).xo()&&t.fu.size>0}function uo(t){return ve(t).du.size===0}function n2(t){t.gu=void 0}async function l8(t){t.fu.forEach((e,n)=>{X1(t,e)})}async function u8(t,e){n2(t),Z1(t)?(t.mu.au(e),J1(t)):t.mu.set("Unknown")}async function c8(t,e,n){if(t.mu.set("Online"),e instanceof zb&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.fu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.fu.delete(o),r.gu.removeTarget(o))}(t,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _f(t,r)}else if(e instanceof od?t.gu.Kt(e):e instanceof Vb?t.gu.Jt(e):t.gu.zt(e),!n.isEqual(ye.min()))try{const r=await Yb(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.gu.Xt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.fu.get(l);u&&i.fu.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.fu.get(a);if(!l)return;i.fu.set(a,l.withResumeToken(ln.EMPTY_BYTE_STRING,l.snapshotVersion)),t2(i,a);const u=new Ds(l.target,a,1,l.sequenceNumber);X1(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),await _f(t,r)}}async function _f(t,e,n){if(!Gu(e))throw e;t.du.add(1),await Xu(t),t.mu.set("Offline"),n||(n=()=>Yb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne("RemoteStore","Retrying IndexedDB access"),await n(),t.du.delete(1),await Wh(t)})}function r2(t,e){return e().catch(n=>_f(t,n,e))}async function Gh(t){const e=ve(t),n=ts(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;d8(e);)try{const i=await Q5(e.localStore,r);if(i===null){e.lu.length===0&&n.$o();break}r=i.batchId,f8(e,i)}catch(i){await _f(e,i)}i2(e)&&s2(e)}function d8(t){return uo(t)&&t.lu.length<10}function f8(t,e){t.lu.push(e);const n=ts(t);n.No()&&n.Jo&&n.Yo(e.mutations)}function i2(t){return uo(t)&&!ts(t).xo()&&t.lu.length>0}function s2(t){ts(t).start()}async function h8(t){ts(t).tu()}async function p8(t){const e=ts(t);for(const n of t.lu)e.Yo(n.mutations)}async function m8(t,e,n){const r=t.lu.shift(),i=q1.from(r,e,n);await r2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Gh(t)}async function g8(t,e){e&&ts(t).Jo&&await async function(n,r){if(i=r.code,u5(i)&&i!==D.ABORTED){const s=n.lu.shift();ts(n).Oo(),await r2(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Gh(n)}var i}(t,e),i2(t)&&s2(t)}async function nS(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const r=uo(n);n.du.add(3),await Xu(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.du.delete(3),await Wh(n)}async function y8(t,e){const n=ve(t);e?(n.du.delete(2),await Wh(n)):e||(n.du.add(2),await Xu(n),n.mu.set("Unknown"))}function La(t){return t.yu||(t.yu=function(e,n,r){const i=ve(e);return i.nu(),new r8(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:l8.bind(null,t),Zr:u8.bind(null,t),zo:c8.bind(null,t)}),t.wu.push(async e=>{e?(t.yu.Oo(),Z1(t)?J1(t):t.mu.set("Unknown")):(await t.yu.stop(),n2(t))})),t.yu}function ts(t){return t.pu||(t.pu=function(e,n,r){const i=ve(e);return i.nu(),new i8(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:h8.bind(null,t),Zr:g8.bind(null,t),Xo:p8.bind(null,t),Zo:m8.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),await Gh(t)):(await t.pu.stop(),t.lu.length>0&&(ne("RemoteStore",`Stopping write stream with ${t.lu.length} pending writes`),t.lu=[]))})),t.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new e0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function t0(t,e){if(fi("AsyncQueue",`${e}: ${t}`),Gu(t))return new X(D.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=yl(),this.sortedSet=new At(this.comparator)}static emptySet(e){return new Jo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Jo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Jo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this.Iu=new At(se.comparator)}track(e){const n=e.doc.key,r=this.Iu.get(n);r?e.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,e):e.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Iu=this.Iu.remove(n):e.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):he():this.Iu=this.Iu.insert(n,e)}Tu(){const e=[];return this.Iu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ya{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ya(e,n,Jo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(){this.Eu=void 0,this.listeners=[]}}class w8{constructor(){this.queries=new Na(e=>xb(e),Fh),this.onlineState="Unknown",this.Au=new Set}}async function n0(t,e){const n=ve(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new v8),i)try{s.Eu=await n.onListen(r)}catch(o){const a=t0(o,`Initialization of query '${by(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Ru(n.onlineState),s.Eu&&e.vu(s.Eu)&&i0(n)}async function r0(t,e){const n=ve(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function _8(t,e){const n=ve(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.vu(i)&&(r=!0);o.Eu=i}}r&&i0(n)}function E8(t,e,n){const r=ve(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function i0(t){t.Au.forEach(e=>{e.next()})}class s0{constructor(e,n,r){this.query=e,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ya(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),n=!0):this.Du(e,this.onlineState)&&(this.Cu(e),n=!0),this.Vu=e,n}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),n=!0),n}Du(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Su(e){if(e.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(e){e=ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.key=e}}class a2{constructor(e){this.key=e}}class S8{constructor(e,n){this.query=e,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=xe(),this.mutatedKeys=xe(),this.Ku=Ib(e),this.Gu=new Jo(this.Ku)}get Qu(){return this.Lu}zu(e,n){const r=n?n.ju:new rS,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),p=Vh(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?v!==w&&(r.track({type:3,doc:p}),y=!0):this.Wu(h,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.Ku(p,l)>0||u&&this.Ku(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),y=!0):h&&!p&&(r.track({type:1,doc:h}),y=!0,(l||u)&&(a=!0)),y&&(p?(o=o.add(p),s=w?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,ju:r,Mi:a,mutatedKeys:s}}Wu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.ju.Tu();s.sort((u,c)=>function(f,h){const p=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return p(f)-p(h)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const o=n?this.Ju():[],a=this.Uu.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,s.length!==0||l?{snapshot:new ya(this.query,e.Gu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new rS,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=xe(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return e.forEach(r=>{this.Uu.has(r)||n.push(new a2(r))}),this.Uu.forEach(r=>{e.has(r)||n.push(new o2(r))}),n}Xu(e){this.Lu=e.Wi,this.Uu=xe();const n=this.zu(e.documents);return this.applyChanges(n,!0)}tc(){return ya.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class C8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class T8{constructor(e){this.key=e,this.ec=!1}}class x8{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Na(a=>xb(a),Fh),this.ic=new Map,this.rc=new Set,this.oc=new At(se.comparator),this.uc=new Map,this.cc=new K1,this.ac={},this.hc=new Map,this.lc=ga.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function I8(t,e){const n=j8(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await Y5(n.localStore,hi(e));n.isPrimaryClient&&Zb(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await k8(n,e,r,a==="current",o.resumeToken)}return i}async function k8(t,e,n,r,i){t.dc=(f,h,p)=>async function(v,w,y,g){let m=w.view.zu(y);m.Mi&&(m=await ZE(v.localStore,w.query,!1).then(({documents:S})=>w.view.zu(S,m)));const _=g&&g.targetChanges.get(w.targetId),E=w.view.applyChanges(m,v.isPrimaryClient,_);return sS(v,w.targetId,E.Yu),E.snapshot}(t,f,h,p);const s=await ZE(t.localStore,e,!0),o=new S8(e,s.Wi),a=o.zu(s.documents),l=Yu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);sS(t,n,u.Yu);const c=new C8(e,n,o);return t.sc.set(e,c),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),u.snapshot}async function b8(t,e){const n=ve(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!Fh(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ny(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),e2(n.remoteStore,r.targetId),Ly(n,r.targetId)}).catch(Wu)):(Ly(n,r.targetId),await Ny(n.localStore,r.targetId,!0))}async function R8(t,e,n){const r=M8(t);try{const i=await function(s,o){const a=ve(s),l=Ct.now(),u=o.reduce((h,p)=>h.add(p.key),xe());let c,f;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=pi(),v=xe();return a.Ki.getEntries(h,u).next(w=>{p=w,p.forEach((y,g)=>{g.isValidDocument()||(v=v.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,p)).next(w=>{c=w;const y=[];for(const g of o){const m=i5(g,c.get(g.key).overlayedDocument);m!=null&&y.push(new cs(g.key,m,gb(m.value.mapValue),mr.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,y,o)}).next(w=>{f=w;const y=w.applyToLocalDocumentSet(c,v);return a.documentOverlayCache.saveOverlays(h,w.batchId,y)})}).then(()=>({batchId:f.batchId,changes:bb(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new At(Me)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),await Ju(r,i.changes),await Gh(r.remoteStore)}catch(i){const s=t0(i,"Failed to persist write");n.reject(s)}}async function l2(t,e){const n=ve(t);try{const r=await G5(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(Xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?Xe(o.ec):i.removedDocuments.size>0&&(Xe(o.ec),o.ec=!1))}),await Ju(n,r,e)}catch(r){await Wu(r)}}function iS(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const a=o.view.Ru(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=ve(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const f of c.listeners)f.Ru(o)&&(l=!0)}),l&&i0(a)}(r.eventManager,e),i.length&&r.nc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function A8(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new At(se.comparator);o=o.insert(s,Zt.newNoDocument(s,ye.min()));const a=xe().add(s),l=new Hh(ye.min(),new Map,new Rt(Me),o,a);await l2(r,l),r.oc=r.oc.remove(s),r.uc.delete(e),o0(r)}else await Ny(r.localStore,e,!1).then(()=>Ly(r,e,n)).catch(Wu)}async function P8(t,e){const n=ve(t),r=e.batch.batchId;try{const i=await W5(n.localStore,e);c2(n,r,null),u2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ju(n,i)}catch(i){await Wu(i)}}async function N8(t,e,n){const r=ve(t);try{const i=await function(s,o){const a=ve(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(Xe(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);c2(r,e,n),u2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ju(r,i)}catch(i){await Wu(i)}}function u2(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function c2(t,e,n){const r=ve(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function Ly(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc.wc(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.hs(e).forEach(r=>{t.cc.containsKey(r)||d2(t,r)})}function d2(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(e2(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),o0(t))}function sS(t,e,n){for(const r of n)r instanceof o2?(t.cc.addReference(r.key,e),L8(t,r)):r instanceof a2?(ne("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||d2(t,r.key)):he()}function L8(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(ne("SyncEngine","New document in limbo: "+n),t.rc.add(r),o0(t))}function o0(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new se(Qe.fromString(e)),r=t.lc.next();t.uc.set(r,new T8(n)),t.oc=t.oc.insert(n,r),Zb(t.remoteStore,new Ds(hi(Uh(n.path)),r,2,F1.ct))}}async function Ju(t,e,n){const r=ve(t),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Y1.Di(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.nc.zo(i),await async function(a,l){const u=ve(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>z.forEach(l,f=>z.forEach(f.Vi,h=>u.persistence.referenceDelegate.addReference(c,f.targetId,h)).next(()=>z.forEach(f.Si,h=>u.persistence.referenceDelegate.removeReference(c,f.targetId,h)))))}catch(c){if(!Gu(c))throw c;ne("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const f=c.targetId;if(!c.fromCache){const h=u.Li.get(f),p=h.snapshotVersion,v=h.withLastLimboFreeSnapshotVersion(p);u.Li=u.Li.insert(f,v)}}}(r.localStore,s))}async function O8(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const r=await Qb(n.localStore,e);n.currentUser=e,function(i,s){i.hc.forEach(o=>{o.forEach(a=>{a.reject(new X(D.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ju(n,r.Qi)}}function D8(t,e){const n=ve(t),r=n.uc.get(e);if(r&&r.ec)return xe().add(r.key);{let i=xe();const s=n.ic.get(e);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}function j8(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=l2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A8.bind(null,e),e.nc.zo=_8.bind(null,e.eventManager),e.nc.wc=E8.bind(null,e.eventManager),e}function M8(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=N8.bind(null,e),e}class oS{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=qh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return q5(this.persistence,new B5,e.initialUser,this.serializer)}createPersistence(e){return new V5(Q1.Fs,this.serializer)}createSharedClientState(e){return new J5}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class $8{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=O8.bind(null,this.syncEngine),await y8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new w8}createDatastore(e){const n=qh(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new n8(i));var i;return function(s,o,a,l){return new s8(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>iS(this.syncEngine,a,0),o=tS.D()?new tS:new Z5,new a8(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new x8(r,i,s,o,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ve(e);ne("RemoteStore","RemoteStore shutting down."),n.du.add(5),await Xu(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):fi("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xt.UNAUTHENTICATED,this.clientId=fb.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ne("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=t0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function _m(t,e){t.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Qb(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function aS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await V8(t);ne("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>nS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>nS(e.remoteStore,s)),t._onlineComponents=e}function F8(t){return t.name==="FirebaseError"?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function V8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await _m(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!F8(n))throw n;pf("Error using user provided cache. Falling back to memory cache: "+n),await _m(t,new oS)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),await _m(t,new oS);return t._offlineComponents}async function f2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),await aS(t,t._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),await aS(t,new $8))),t._onlineComponents}function z8(t){return f2(t).then(e=>e.syncEngine)}async function Ef(t){const e=await f2(t),n=e.eventManager;return n.onListen=I8.bind(null,e.syncEngine),n.onUnlisten=b8.bind(null,e.syncEngine),n}function B8(t,e,n={}){const r=new ni;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new a0({next:f=>{s.enqueueAndForget(()=>r0(i,c));const h=f.docs.has(o);!h&&f.fromCache?l.reject(new X(D.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&f.fromCache&&a&&a.source==="server"?l.reject(new X(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),c=new s0(Uh(o.path),u,{includeMetadataChanges:!0,xu:!0});return n0(i,c)}(await Ef(t),t.asyncQueue,e,n,r)),r.promise}function H8(t,e,n={}){const r=new ni;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new a0({next:f=>{s.enqueueAndForget(()=>r0(i,c)),f.fromCache&&a.source==="server"?l.reject(new X(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),c=new s0(o,u,{includeMetadataChanges:!0,xu:!0});return n0(i,c)}(await Ef(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(t,e,n){if(!n)throw new X(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function q8(t,e,n,r){if(e===!0&&r===!0)throw new X(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uS(t){if(!se.isDocumentKey(t))throw new X(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cS(t){if(se.isDocumentKey(t))throw new X(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Kh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function Dn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kh(t);throw new X(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new X(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,q8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dS(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new g9;switch(n.type){case"firstParty":return new _9(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new X(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=lS.get(e);n&&(ne("ComponentProvider","Removing Datastore"),lS.delete(e),n.terminate())}(this),Promise.resolve()}}function W8(t,e,n,r={}){var i;const s=(t=Dn(t,Qh))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&pf("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Xt.MOCK_USER;else{o=Xx(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new X(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Xt(l)}t._authCredentials=new y9(new db(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class co{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new co(this.firestore,e,this._query)}}class Ki extends co{constructor(e,n,r){super(e,n,Uh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new se(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function Yh(t,e,...n){if(t=We(t),h2("collection","path",e),t instanceof Qh){const r=Qe.fromString(e,...n);return cS(r),new Ki(t,null,r)}{if(!(t instanceof sn||t instanceof Ki))throw new X(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return cS(r),new Ki(t.firestore,null,r)}}function tr(t,e,...n){if(t=We(t),arguments.length===1&&(e=fb.A()),h2("doc","path",e),t instanceof Qh){const r=Qe.fromString(e,...n);return uS(r),new sn(t,null,new se(r))}{if(!(t instanceof sn||t instanceof Ki))throw new X(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return uS(r),new sn(t.firestore,t instanceof Ki?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new Xb(this,"async_queue_retry"),this.qc=()=>{const n=wm();n&&ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const e=wm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const n=wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new ni;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(e){if(!Gu(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(e){const n=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw fi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(e,n,r){this.Uc(),this.Lc.indexOf(e)>-1&&(n=0);const i=e0.createAndSchedule(this,e,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&he()}verifyOperationInProgress(){}async zc(){let e;do e=this.Nc,await e;while(e!==this.Nc)}jc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function fS(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class ns extends Qh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new G8,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||p2(this),this._firestoreClient.terminate()}}function K8(t,e){const n=typeof t=="object"?t:yh(),r=typeof t=="string"?t:e||"(default)",i=as(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Qx("firestore");s&&W8(i,...s)}return i}function Xh(t){return t._firestoreClient||p2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function p2(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new L9(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new U8(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this._byteString=e}static fromBase64String(e){try{return new va(ln.fromBase64String(e))}catch(n){throw new X(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new va(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8=/^__.*__$/;class Y8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qu(e,this.data,n,this.fieldTransforms)}}class m2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new cs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function g2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class c0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new c0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.ea(e),i}na(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return Sf(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(e.length===0)throw this.ia("Document fields must not be empty");if(g2(this.Yc)&&Q8.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class X8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qh(e)}ua(e,n,r,i=!1){return new c0({Yc:e,methodName:n,oa:r,path:en.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zh(t){const e=t._freezeSettings(),n=qh(t._databaseId);return new X8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function y2(t,e,n,r,i,s={}){const o=t.ua(s.merge||s.mergeFields?2:0,e,n,i);d0("Data must be an object, but it was:",o,r);const a=v2(r,o);let l,u;if(s.merge)l=new An(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const h=Oy(e,f,n);if(!o.contains(h))throw new X(D.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);_2(c,h)||c.push(h)}l=new An(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new Y8(new _n(a),l,u)}class ep extends l0{_toFieldTransform(e){if(e.Yc!==2)throw e.Yc===1?e.ia(`${this._methodName}() can only appear at the top level of your update data`):e.ia(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ep}}function J8(t,e,n,r){const i=t.ua(1,e,n);d0("Data must be an object, but it was:",i,r);const s=[],o=_n.empty();lo(r,(l,u)=>{const c=f0(e,l,n);u=We(u);const f=i.na(c);if(u instanceof ep)s.push(c);else{const h=Zu(u,f);h!=null&&(s.push(c),o.set(c,h))}});const a=new An(s);return new m2(o,a,i.fieldTransforms)}function Z8(t,e,n,r,i,s){const o=t.ua(1,e,n),a=[Oy(e,r,n)],l=[i];if(s.length%2!=0)throw new X(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Oy(e,s[h])),l.push(s[h+1]);const u=[],c=_n.empty();for(let h=a.length-1;h>=0;--h)if(!_2(u,a[h])){const p=a[h];let v=l[h];v=We(v);const w=o.na(p);if(v instanceof ep)u.push(p);else{const y=Zu(v,w);y!=null&&(u.push(p),c.set(p,y))}}const f=new An(u);return new m2(c,f,o.fieldTransforms)}function eF(t,e,n,r=!1){return Zu(n,t.ua(r?4:3,e))}function Zu(t,e){if(w2(t=We(t)))return d0("Unsupported field value:",e,t),v2(t,e);if(t instanceof l0)return function(n,r){if(!g2(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ta&&e.Yc!==4)throw e.ia("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Zu(o,r.sa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=We(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return J9(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ct.fromDate(n);return{timestampValue:wf(r.serializer,i)}}if(n instanceof Ct){const i=new Ct(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:wf(r.serializer,i)}}if(n instanceof u0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof va)return{bytesValue:Bb(r.serializer,n._byteString)};if(n instanceof sn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:G1(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${Kh(n)}`)}(t,e)}function v2(t,e){const n={};return hb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(t,(r,i)=>{const s=Zu(i,e.Xc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function w2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof u0||t instanceof va||t instanceof sn||t instanceof l0)}function d0(t,e,n){if(!w2(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Kh(n);throw r==="an object"?e.ia(t+" a custom object"):e.ia(t+" "+r)}}function Oy(t,e,n){if((e=We(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return f0(t,e);throw Sf("Field path arguments must be of type string or ",t,!1,void 0,n)}const tF=new RegExp("[~\\*/\\[\\]]");function f0(t,e,n){if(e.search(tF)>=0)throw Sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jh(...e.split("."))._internalPath}catch{throw Sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new X(D.INVALID_ARGUMENT,a+t+l)}function _2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(S2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nF extends E2{data(){return super.data()}}function S2(t,e){return typeof e=="string"?f0(t,e):e instanceof Jh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class h0{}class rF extends h0{}function iF(t,e,...n){let r=[];e instanceof h0&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof m0).length,o=i.filter(a=>a instanceof p0).length;if(s>1||s>0&&o>0)throw new X(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class p0 extends rF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new p0(e,n,r)}_apply(e){const n=this._parse(e);return T2(e._query,n),new co(e.firestore,e.converter,Iy(e._query,n))}_parse(e){const n=Zh(e.firestore);return function(i,s,o,a,l,u,c){let f;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new X(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){pS(c,u);const h=[];for(const p of c)h.push(hS(a,i,p));f={arrayValue:{values:h}}}else f=hS(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||pS(c,u),f=eF(o,s,c,u==="in"||u==="not-in");return Et.create(l,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class m0 extends h0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new m0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:wr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)T2(s,a),s=Iy(s,a)}(e._query,n),new co(e.firestore,e.converter,Iy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function hS(t,e,n){if(typeof(n=We(n))=="string"){if(n==="")throw new X(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tb(e)&&n.indexOf("/")!==-1)throw new X(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Qe.fromString(n));if(!se.isDocumentKey(r))throw new X(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $E(t,new se(r))}if(n instanceof sn)return $E(t,n._key);throw new X(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(n)}.`)}function pS(t,e){if(!Array.isArray(t)||t.length===0)throw new X(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function T2(t,e){if(e.isInequality()){const r=H1(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new X(D.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=Cb(t);s!==null&&sF(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function sF(t,e,n){if(!n.isEqual(e))throw new X(D.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class oF{convertValue(e,n="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw he()}}convertObject(e,n){const r={};return lo(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new u0(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const n=es(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qe.fromString(e);Xe(Kb(r));const i=new _u(r.get(1),r.get(3)),s=new se(r.popFirst(5));return i.isEqual(n)||fi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class I2 extends E2{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(S2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ad extends I2{data(e={}){return super.data(e)}}class k2{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ad(this._firestore,this._userDataWriter,r.key,r,new vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new ad(r._firestore,r._userDataWriter,o.doc.key,o.doc,new vl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new ad(r._firestore,r._userDataWriter,o.doc.key,o.doc,new vl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:aF(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function aF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){t=Dn(t,sn);const e=Dn(t.firestore,ns);return B8(Xh(e),t._key).then(n=>A2(e,t,n))}class g0 extends oF{constructor(e){super(),this.firestore=e}convertBytes(e){return new va(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function b2(t){t=Dn(t,co);const e=Dn(t.firestore,ns),n=Xh(e),r=new g0(e);return C2(t._query),H8(n,t._query).then(i=>new k2(e,r,t,i))}function y0(t,e,n){t=Dn(t,sn);const r=Dn(t.firestore,ns),i=x2(t.converter,e,n);return v0(r,[y2(Zh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,mr.none())])}function tp(t,e,n,...r){t=Dn(t,sn);const i=Dn(t.firestore,ns),s=Zh(i);let o;return o=typeof(e=We(e))=="string"||e instanceof Jh?Z8(s,"updateDoc",t._key,e,n,r):J8(s,"updateDoc",t._key,e),v0(i,[o.toMutation(t._key,mr.exists(!0))])}function lF(t,e){const n=Dn(t.firestore,ns),r=tr(t),i=x2(t.converter,e);return v0(n,[y2(Zh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,mr.exists(!1))]).then(()=>r)}function R2(t,...e){var n,r,i;t=We(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||fS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(fS(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof sn)u=Dn(t.firestore,ns),c=Uh(t._key.path),l={next:f=>{e[o]&&e[o](A2(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Dn(t,co);u=Dn(f.firestore,ns),c=f._query;const h=new g0(u);l={next:p=>{e[o]&&e[o](new k2(u,h,f,p))},error:e[o+1],complete:e[o+2]},C2(t._query)}return function(f,h,p,v){const w=new a0(v),y=new s0(h,w,p);return f.asyncQueue.enqueueAndForget(async()=>n0(await Ef(f),y)),()=>{w.yc(),f.asyncQueue.enqueueAndForget(async()=>r0(await Ef(f),y))}}(Xh(u),c,a,l)}function v0(t,e){return function(n,r){const i=new ni;return n.asyncQueue.enqueueAndForget(async()=>R8(await z8(n),r,i)),i.promise}(Xh(t),e)}function A2(t,e,n){const r=n.docs.get(e._key),i=new g0(t);return new I2(t,i,e._key,r,new vl(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Pa=n})(io),vr(new Xn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new ns(new v9(n.getProvider("auth-internal")),new S9(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new X(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),xn(LE,"3.10.1",t),xn(LE,"3.10.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="firebasestorage.googleapis.com",N2="storageBucket",uF=2*60*1e3,cF=10*60*1e3,dF=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct extends er{constructor(e,n,r=0){super(Em(e),`Firebase Storage: ${n} (${Em(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Em(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Je;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Je||(Je={}));function Em(t){return"storage/"+t}function w0(){const t="An unknown error occurred, please check the error payload for server response.";return new ct(Je.UNKNOWN,t)}function fF(t){return new ct(Je.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function hF(t){return new ct(Je.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function pF(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ct(Je.UNAUTHENTICATED,t)}function mF(){return new ct(Je.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function gF(t){return new ct(Je.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function L2(){return new ct(Je.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function O2(){return new ct(Je.CANCELED,"User canceled the upload/download.")}function yF(t){return new ct(Je.INVALID_URL,"Invalid URL '"+t+"'.")}function vF(t){return new ct(Je.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function wF(){return new ct(Je.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+N2+"' property when initializing the app?")}function D2(){return new ct(Je.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _F(){return new ct(Je.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function EF(){return new ct(Je.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function SF(t){return new ct(Je.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Dy(t){return new ct(Je.INVALID_ARGUMENT,t)}function j2(){return new ct(Je.APP_DELETED,"The Firebase app was deleted.")}function CF(t){return new ct(Je.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ml(t,e){return new ct(Je.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Za(t){throw new ct(Je.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Pn.makeFromUrl(e,n)}catch{return new Pn(e,"")}if(r.path==="")return r;throw vF(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${c}/b/${i}/o${h}`,"i"),v={bucket:1,path:3},w=n===P2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",g=new RegExp(`^https?://${w}/${i}/${y}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:p,indices:v,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<_.length;E++){const S=_[E],x=S.regex.exec(e);if(x){const I=x[S.indices.bucket];let P=x[S.indices.path];P||(P=""),r=new Pn(I,P),S.postModify(r);break}}if(r==null)throw yF(e);return r}}class TF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...y){u||(u=!0,e.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,t(p,l())},y)}function h(){s&&clearTimeout(s)}function p(y,...g){if(u){h();return}if(y){h(),c.call(null,y,...g);return}if(l()||o){h(),c.call(null,y,...g);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,f(_)}let v=!1;function w(y){v||(v=!0,h(),!u&&(i!==null?(y||(a=2),clearTimeout(i),f(0)):y||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function IF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(t){return t!==void 0}function bF(t){return typeof t=="function"}function RF(t){return typeof t=="object"&&!Array.isArray(t)}function np(t){return typeof t=="string"||t instanceof String}function mS(t){return _0()&&t instanceof Blob}function _0(){return typeof Blob<"u"&&!_M()}function gS(t,e,n,r){if(r<e)throw Dy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Dy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function M2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var js;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(js||(js={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n,r,i,s,o,a,l,u,c,f,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,v)=>{this.resolve_=p,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Lc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===js.NO_ERROR,l=s.getStatus();if(!a||$2(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===js.ABORT;r(!1,new Lc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Lc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());kF(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=w0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?j2():O2();o(l)}else{const l=L2();o(l)}};this.canceled_?n(!1,new Lc(!1,null,!0)):this.backoffId_=xF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&IF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Lc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function PF(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function NF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function LF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function OF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function DF(t,e,n,r,i,s,o=!0){const a=M2(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return LF(u,e),PF(u,n),NF(u,s),OF(u,r),new AF(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function MF(...t){const e=jF();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(_0())return new Blob(t);throw new ct(Je.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $F(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(t){if(typeof atob>"u")throw SF("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Sm{constructor(e,n){this.data=e,this.contentType=n||null}}function FF(t,e){switch(t){case Ir.RAW:return new Sm(U2(e));case Ir.BASE64:case Ir.BASE64URL:return new Sm(F2(t,e));case Ir.DATA_URL:return new Sm(zF(e),BF(e))}throw w0()}function U2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function VF(t){let e;try{e=decodeURIComponent(t)}catch{throw Ml(Ir.DATA_URL,"Malformed data URL.")}return U2(e)}function F2(t,e){switch(t){case Ir.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Ml(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ir.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Ml(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=UF(e)}catch(i){throw i.message.includes("polyfill")?i:Ml(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class V2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ml(Ir.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=HF(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function zF(t){const e=new V2(t);return e.base64?F2(Ir.BASE64,e.rest):VF(e.rest)}function BF(t){return new V2(t).contentType}function HF(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n){let r=0,i="";mS(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(mS(this.data_)){const r=this.data_,i=$F(r,e,n);return i===null?null:new Pi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Pi(r,!0)}}static getBlob(...e){if(_0()){const n=e.map(r=>r instanceof Pi?r.data_:r);return new Pi(MF.apply(null,n))}else{const n=e.map(o=>np(o)?FF(Ir.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Pi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(t){let e;try{e=JSON.parse(t)}catch{return null}return RF(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function WF(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function B2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(t,e){return e}class cn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||GF}}let Oc=null;function KF(t){return!np(t)||t.length<2?t:B2(t)}function H2(){if(Oc)return Oc;const t=[];t.push(new cn("bucket")),t.push(new cn("generation")),t.push(new cn("metageneration")),t.push(new cn("name","fullPath",!0));function e(s,o){return KF(o)}const n=new cn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new cn("size");return i.xform=r,t.push(i),t.push(new cn("timeCreated")),t.push(new cn("updated")),t.push(new cn("md5Hash",null,!0)),t.push(new cn("cacheControl",null,!0)),t.push(new cn("contentDisposition",null,!0)),t.push(new cn("contentEncoding",null,!0)),t.push(new cn("contentLanguage",null,!0)),t.push(new cn("contentType",null,!0)),t.push(new cn("metadata","customMetadata",!0)),Oc=t,Oc}function QF(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Pn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function YF(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return QF(r,t),r}function q2(t,e,n){const r=z2(e);return r===null?null:YF(t,r,n)}function XF(t,e,n,r){const i=z2(e);if(i===null||!np(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,f=t.fullPath,h="/b/"+o(c)+"/o/"+o(f),p=ec(h,n,r),v=M2({alt:"media",token:u});return p+v})[0]}function W2(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Oa{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(t){if(!t)throw w0()}function E0(t,e){function n(r,i){const s=q2(t,i,e);return ri(s!==null),s}return n}function JF(t,e){function n(r,i){const s=q2(t,i,e);return ri(s!==null),XF(s,i,t.host,t._protocol)}return n}function tc(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=mF():i=pF():n.getStatus()===402?i=hF(t.bucket):n.getStatus()===403?i=gF(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function G2(t){const e=tc(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=fF(t.path)),s.serverResponse=i.serverResponse,s}return n}function ZF(t,e,n){const r=e.fullServerUrl(),i=ec(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Oa(i,s,E0(t,n),o);return a.errorHandler=G2(e),a}function e7(t,e,n){const r=e.fullServerUrl(),i=ec(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Oa(i,s,JF(t,n),o);return a.errorHandler=G2(e),a}function t7(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function K2(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=t7(null,e)),r}function n7(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let E=0;E<2;E++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=K2(e,r,i),c=W2(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Pi.getBlob(f,r,h);if(p===null)throw D2();const v={name:u.fullPath},w=ec(s,t.host,t._protocol),y="POST",g=t.maxUploadRetryTime,m=new Oa(w,y,E0(t,n),g);return m.urlParams=v,m.headers=o,m.body=p.uploadData(),m.errorHandler=tc(e),m}class Cf{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function S0(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ri(!1)}return ri(!!n&&(e||["active"]).indexOf(n)!==-1),n}function r7(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=K2(e,r,i),a={name:o.fullPath},l=ec(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},f=W2(o,n),h=t.maxUploadRetryTime;function p(w){S0(w);let y;try{y=w.getResponseHeader("X-Goog-Upload-URL")}catch{ri(!1)}return ri(np(y)),y}const v=new Oa(l,u,p,h);return v.urlParams=a,v.headers=c,v.body=f,v.errorHandler=tc(e),v}function i7(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=S0(u,["active","final"]);let f=null;try{f=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ri(!1)}f||ri(!1);const h=Number(f);return ri(!isNaN(h)),new Cf(h,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Oa(n,o,s,a);return l.headers=i,l.errorHandler=tc(e),l}const yS=256*1024;function s7(t,e,n,r,i,s,o,a){const l=new Cf(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw _F();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const f=l.current,h=f+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const v={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},w=r.slice(f,h);if(w===null)throw D2();function y(E,S){const x=S0(E,["active","final"]),I=l.current+c,P=r.size();let R;return x==="final"?R=E0(e,s)(E,S):R=null,new Cf(I,P,x==="final",R)}const g="POST",m=e.maxUploadRetryTime,_=new Oa(n,g,y,m);return _.headers=v,_.body=w.uploadData(),_.progressCallback=a||null,_.errorHandler=tc(t),_}const vn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Cm(t){switch(t){case"running":case"pausing":case"canceling":return vn.RUNNING;case"paused":return vn.PAUSED;case"success":return vn.SUCCESS;case"canceled":return vn.CANCELED;case"error":return vn.ERROR;default:return vn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e,n,r){if(bF(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class a7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=js.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=js.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=js.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Za("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Za("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Za("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Za("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Za("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class l7 extends a7{initXhr(){this.xhr_.responseType="text"}}function So(){return new l7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=H2(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Je.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if($2(i.status,[]))if(s)i=L2();else{this.sleepTime=Math.max(this.sleepTime*2,dF),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Je.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=r7(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,So,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=i7(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,So,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=yS*this._chunkMultiplier,n=new Cf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=s7(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,So,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){yS*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=ZF(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,So,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=n7(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,So,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=O2(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Cm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new o7(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Cm(this._state)){case vn.SUCCESS:yo(this._resolve.bind(null,this.snapshot))();break;case vn.CANCELED:case vn.ERROR:const n=this._reject;yo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Cm(this._state)){case vn.RUNNING:case vn.PAUSED:e.next&&yo(e.next.bind(e,this.snapshot))();break;case vn.SUCCESS:e.complete&&yo(e.complete.bind(e))();break;case vn.CANCELED:case vn.ERROR:e.error&&yo(e.error.bind(e,this._error))();break;default:e.error&&yo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){this._service=e,n instanceof Pn?this._location=n:this._location=Pn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Js(e,n)}get root(){const e=new Pn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return B2(this._location.path)}get storage(){return this._service}get parent(){const e=qF(this._location.path);if(e===null)return null;const n=new Pn(this._location.bucket,e);return new Js(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw CF(e)}}function c7(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new u7(t,new Pi(e),n)}function d7(t){t._throwIfRoot("getDownloadURL");const e=e7(t.storage,t._location,H2());return t.storage.makeRequestWithTokens(e,So).then(n=>{if(n===null)throw EF();return n})}function f7(t,e){const n=WF(t._location.path,e),r=new Pn(t._location.bucket,n);return new Js(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(t){return/^[A-Za-z]+:\/\//.test(t)}function p7(t,e){return new Js(t,e)}function Q2(t,e){if(t instanceof C0){const n=t;if(n._bucket==null)throw wF();const r=new Js(n,n._bucket);return e!=null?Q2(r,e):r}else return e!==void 0?f7(t,e):t}function m7(t,e){if(e&&h7(e)){if(t instanceof C0)return p7(t,e);throw Dy("To use ref(service, url), the first argument must be a Storage instance.")}else return Q2(t,e)}function vS(t,e){const n=e==null?void 0:e[N2];return n==null?null:Pn.makeFromBucketSpec(n,t)}function g7(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Xx(i,t.app.options.projectId))}class C0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=P2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uF,this._maxUploadRetryTime=cF,this._requests=new Set,i!=null?this._bucket=Pn.makeFromBucketSpec(i,this._host):this._bucket=vS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Pn.makeFromBucketSpec(this._url,e):this._bucket=vS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Js(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new TF(j2());{const o=DF(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const wS="@firebase/storage",_S="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="storage";function y7(t,e,n){return t=We(t),c7(t,e,n)}function v7(t){return t=We(t),d7(t)}function w7(t,e){return t=We(t),m7(t,e)}function _7(t=yh(),e){t=We(t);const r=as(t,Y2).getImmediate({identifier:e}),i=Qx("storage");return i&&E7(r,...i),r}function E7(t,e,n,r={}){g7(t,e,n,r)}function S7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new C0(n,r,i,e,io)}function C7(){vr(new Xn(Y2,S7,"PUBLIC").setMultipleInstances(!0)),xn(wS,_S,""),xn(wS,_S,"esm2017")}C7();const T7={apiKey:"AIzaSyCp1genoyHX34BgerJeoNIDKJNp2H3Y2Rc",authDomain:"amelianceworship-d6e23.firebaseapp.com",projectId:"amelianceworship-d6e23",storageBucket:"amelianceworship-d6e23.appspot.com",messagingSenderId:"268005856332",appId:"1:268005856332:web:ba2da910ba7dec2a1350e9",measurementId:"G-28X8EC3EV9"},x7=iI(T7),Da=W3(),I7=_7();lU(x7);const k7=new qr,yn=K8();async function b7({email:t,password:e}){try{return{user:(await k4(Da,t,e)).user,status:"success"}}catch(n){throw new Error(ae(n))}}function R7(){const t=Da.currentUser;if(t!==null)return{user:t,status:"success"};throw new Error(ae("Can't find user auth!"))}async function A7({email:t,password:e}){try{return{user:(await b4(Da,t,e)).user,status:"success"}}catch(n){throw new Error(ae(n))}}async function P7(){try{return{user:(await t3(Da,k7)).user,status:"success"}}catch(t){throw new Error(ae(t))}}function fo(){return{status:"success"}}function N7(){try{return O4(Da),fo()}catch(t){throw new Error(ae(t))}}async function L7({user:t,displayName:e,photoURL:n}){const r={};if(e&&(r.displayName=e),n&&(r.photoURL=n),Bs(r))throw new Error(ae("Nothing to update"));try{return await A4(t,r),fo()}catch(i){throw new Error(ae(i))}}const O7=Object.freeze(Object.defineProperty({__proto__:null,createUser:b7,getCurrentAuthUser:R7,signInWithEmail:A7,signInWithGoogle:P7,signOut:N7,updateProfile:L7},Symbol.toStringTag,{value:"Module"}));async function D7({chatId:t}){const e=tr(yn,"chats",t);try{const n=await Tu(e);if(n.exists())return{messages:n.data().message,status:"success"};await y0(e,{messages:[]});const r=await Tu(e);if(r.exists())return{messages:r.data().message,status:"success"};throw new Error("Can't find group chat!")}catch(n){throw new Error(ae(n))}}const j7=Object.freeze(Object.defineProperty({__proto__:null,getChatMessages:D7},Symbol.toStringTag,{value:"Module"}));async function M7(){const t=Yh(yn,"groups");try{return{chatId:(await lF(t,{})).id,status:"success"}}catch(e){throw new Error(ae(e))}}async function X2({chatId:t}){const e=tr(yn,"groups",t);try{const n=await Tu(e);if(n.exists())return{messages:n.data().messages,status:"success"};throw new Error("Can't find group messages!")}catch(n){throw new Error(ae(n))}}async function $7({text:t,chatId:e,user:n}){var r;try{const i=await X2({chatId:e});if("error"in i)throw new Error((r=i.error)==null?void 0:r.toString());const o={messageId:i.messages&&i.messages.length>0?i.messages[i.messages.length-1].messageId+1:0,text:t,chatId:e,date:Ct.now().toMillis().toString(),user:n};let a;"messages"in i&&i.messages&&i.messages.length>0?a=[...i.messages,o]:a=[o];const l=tr(yn,"groups",e);return await tp(l,{messages:a}),fo()}catch(i){throw new Error(ae(i))}}async function U7(){const t=Yh(yn,"groups");try{const e=await b2(t),n={};if(e.forEach(r=>{n[r.id]=r.data()}),!J.isObjectEmpty(n))return{groups:n,status:"success"};throw new Error("Can't find any groups!")}catch(e){throw new Error(ae(e))}}async function F7({chatId:t}){const e=tr(yn,"groups",t);try{const n=await Tu(e);if(n.exists())return{info:n.data().info,status:"success"};throw new Error("Can't find group info!")}catch(n){throw new Error(ae(n))}}async function V7({chatId:t,displayName:e,photoURL:n,lastText:r,color:i,ownerId:s,admins:o,type:a}){const l=tr(yn,"groups",t);try{const u={};return t&&(u.chatId=t),e&&(u.displayName=e),n&&(u.photoURL=n),u.date=Bd().toString(),r&&(u.lastText=r),i&&(u.color=i),s&&(u.ownerId=s),o&&o.length>0&&(u.admins=o),a&&(u.type=a),await tp(l,{info:u}),fo()}catch(u){throw new Error(ae(u))}}const z7=Object.freeze(Object.defineProperty({__proto__:null,addGroup:M7,addMessage:$7,getAllGroups:U7,getGroupInfo:F7,getGroupMessages:X2,updateGroupInfo:V7},Symbol.toStringTag,{value:"Module"}));async function B7({uid:t}){const e=tr(yn,"userChats",t);try{return await y0(e,{}),fo()}catch(n){throw new Error(ae(n))}}function H7({chatId:t,uid:e,targetChatUserId:n,targetChatUserDisplayName:r,targetChatUserPhotoURL:i}){const s=tr(yn,"userChats",e);tp(s,{[`${t}.userInfo`]:{uid:n,displayName:r,photoURL:i},[`${t}.date`]:Bd()})}const q7=Object.freeze(Object.defineProperty({__proto__:null,addUserChatsForUser:B7,updateUserChatInfo:H7},Symbol.toStringTag,{value:"Module"}));async function W7({uid:t}){const e=tr(yn,"users",t);try{return await y0(e,{uid:t}),fo()}catch(n){throw new Error(ae(n))}}async function G7(){const t=Yh(yn,"users");try{const e=await b2(t),n={};if(e.forEach(r=>{const i=r.data();n[r.id]={uid:i.uid,...i.user}}),!J.isObjectEmpty(n))return{users:n,status:"success"};throw new Error(ae("Can't find any users!"))}catch(e){throw new Error(ae(e))}}async function K7({userId:t}){const e=tr(yn,"users",t);try{const n=await Tu(e);if(n.exists()){const r=n.data();return{user:{uid:r.uid,...r.user},status:"success"}}throw new Error("Can't find user!")}catch(n){throw new Error(ae(n))}}async function Q7({uid:t,displayName:e,photoURL:n,email:r,userType:i,role:s,sex:o,lastActiveChatId:a,registrationDate:l,isOnline:u,visitsCount:c}){const f=tr(yn,"users",t);try{const h={};return e&&(h.displayName=e.trim()),n&&(h.photoURL=n),r&&(h.email=r),i&&(h.userType=i),s&&(h.role=s.trim()),o&&(h.sex=o),a&&(h.lastActiveChatId=a),h.lastVisitDate=Bd().toString(),h.registrationDate=l||Bd().toString(),u&&(h.isOnline=u),c&&(h.visitsCount=c),await tp(f,{user:h}),fo()}catch(h){throw new Error(ae(h))}}const Y7=Object.freeze(Object.defineProperty({__proto__:null,addUser:W7,getAllUsers:G7,getUserById:K7,updateUser:Q7},Symbol.toStringTag,{value:"Module"})),X7=Object.freeze(Object.defineProperty({__proto__:null,chats:j7,groups:z7,userChats:q7,users:Y7},Symbol.toStringTag,{value:"Module"}));function J7(...t){return t.sort().join("-")}const Z7=Object.freeze(Object.defineProperty({__proto__:null,combineIds:J7},Symbol.toStringTag,{value:"Module"}));async function eV({refName:t,file:e}){const n=w7(I7,t);try{return await y7(n,e),{downloadURL:await v7(n),status:"success"}}catch(r){throw new Error(ae(r))}}const tV=Object.freeze(Object.defineProperty({__proto__:null,uploadFile:eV},Symbol.toStringTag,{value:"Module"})),nV=Object.freeze(Object.defineProperty({__proto__:null,auth:O7,database:X7,helpers:Z7,storage:tV},Symbol.toStringTag,{value:"Module"}));function rV(t){return t.table.rows.map(e=>{var n;return(n=e.c.at(0))==null?void 0:n.v})}function iV(t){const e={},{table:n}=t,r=n.rows[0].c.length;for(let i=0;i<r;i++){const s=[];for(let o=1;o<n.rows.length;o++)n.rows[o].c[i]?s[o-1]=n.rows[o].c[i].v??"":s[o]="";e[n.rows[0].c[i].v]=s}return e}const sV={convertDataFromSheetWithFirstRowHeading:iV,convertDataFromOneColumnSheet:rV},oV="https://docs.google.com/spreadsheets/d/";async function aV({sheetId:t,tqx:e="out:json",pageTitle:n="sheet",range:r=""}){const i=new URLSearchParams;e&&i.append("tqx",e),n&&i.append("sheet",n),r&&i.append("range",r);try{const o=await(await fetch(`${oV}${t}/gviz/tq?${i}`)).text();return JSON.parse(o.substring(47).slice(0,-2))}catch(s){throw new Error(ae(s))}}const lV={getSheetData:aV,convertors:sV},uV={firebase:nV,sheets:lV,appsscript:uM};async function cV(){try{return{ip:(await(await fetch("https://api.ipify.org?format=json")).json()).ip,status:"success"}}catch(t){throw new Error(ae(t))}}const dV={fetchIP:cV},Re={google:uV,ipify:dV},fV="16wsDcFtQ7J1nYrlSkEB8KgLp_XpyCdwH-SIi0fuqapc";function hV(t){let e;if(t){const n=ZD(t,"value"),r=JD(n,"value");e=XD(r,"value")}return e}const $l=jr("songsList/fetchSongsListData",async(t,e)=>{try{const n=await Re.google.appsscript.getAllTitledColumnsDataSingle({spreadsheetId:fV,sheetName:"common"}),r=Object.entries(n.data),i=[];return{songsList:r.map(o=>{const a=o[0];i.push(a);const l=hV(o[1].values);return[a,l]}),listTitles:n.info.titles}}catch(n){return e.rejectWithValue(ae(n))}}),pV="_Icon_1telp_46",mV="_disabled_1telp_53",gV="_clickable_1telp_61",yV="_tiny_1telp_65",vV="_small_1telp_69",wV="_medium_1telp_77",_V="_large_1telp_81",EV="_extra_1telp_85",ES={Icon:pV,disabled:mV,clickable:gV,tiny:yV,small:vV,default:"_default_1telp_73",medium:wV,large:_V,extra:EV},bt=T.forwardRef(({size:t="default",width:e=24,height:n=24,onClick:r,children:i,className:s,style:o,...a},l)=>{const u=[r&&"clickable",t&&ES[t]],c=t==="custom"?{width:e,height:n}:{};return d.jsx("div",{className:J.join(ES.Icon,s,u),onClick:r,ref:l,style:{...o,...c},...a,children:i})});bt.displayName="Icon";function SV(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("path",{d:"M7.86 2H16.14L22 7.86V16.14L16.14 22H7.86L2 16.14V7.86L7.86 2Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 8V12",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 16H12.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function CV(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("polyline",{points:"15 3 21 3 21 9"}),d.jsx("polyline",{points:"9 21 3 21 3 15"}),d.jsx("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),d.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]})}function TV(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("polyline",{points:"4 14 10 14 10 20"}),d.jsx("polyline",{points:"20 10 14 10 14 4"}),d.jsx("line",{x1:"14",y1:"10",x2:"21",y2:"3"}),d.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]})}function xV(t){return d.jsx(ke,{fill:"none",...t,children:d.jsx("path",{d:"M21 12.79C20.8427 14.4922 20.2039 16.1144 19.1582 17.4668C18.1126 18.8192 16.7035 19.8458 15.0957 20.4265C13.4879 21.0073 11.748 21.1181 10.0795 20.7461C8.41101 20.3741 6.88299 19.5345 5.67422 18.3258C4.46545 17.117 3.62593 15.589 3.2539 13.9205C2.88187 12.252 2.99271 10.5121 3.57345 8.9043C4.1542 7.29651 5.18082 5.88737 6.53321 4.84175C7.88559 3.79614 9.50779 3.15731 11.21 3C10.2134 4.34827 9.73384 6.00945 9.85852 7.68141C9.98321 9.35338 10.7039 10.9251 11.8894 12.1106C13.0749 13.2961 14.6466 14.0168 16.3186 14.1415C17.9905 14.2662 19.6517 13.7866 21 12.79V12.79Z",strokeLinecap:"round",strokeLinejoin:"round"})})}function IV(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("circle",{cx:"12",cy:"12",r:"1"}),d.jsx("circle",{cx:"12",cy:"5",r:"1"}),d.jsx("circle",{cx:"12",cy:"19",r:"1"})]})}function kV(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("polyline",{points:"1 4 1 10 7 10"}),d.jsx("polyline",{points:"23 20 23 14 17 14"}),d.jsx("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})]})}function bV(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsxs("g",{clipPath:"url(#clip0_1475_3120)",children:[d.jsx("path",{d:"M12 17C14.7614 17 17 14.7614 17 12C17 9.23858 14.7614 7 12 7C9.23858 7 7 9.23858 7 12C7 14.7614 9.23858 17 12 17Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 1V3",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 21V23",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M4.22 4.22L5.64 5.64",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M18.36 18.36L19.78 19.78",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M1 12H3",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M21 12H23",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M4.22 19.78L5.64 18.36",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M18.36 5.64L19.78 4.22",strokeLinecap:"round",strokeLinejoin:"round"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1475_3120",children:d.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function RV(){const t=T.useCallback(()=>{const n=window.innerWidth-document.body.offsetWidth;document.body.style.overflow="hidden",document.body.style.width="100%",document.body.style.paddingRight=`${n}px`},[]),e=T.useCallback(()=>{document.body.style.overflow="",document.body.style.width="auto",document.body.style.paddingRight="0px"},[]);return{lockScroll:t,unlockScroll:e}}function nc(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("path",{d:"M18 6L6 18",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M6 6L18 18",strokeLinecap:"round",strokeLinejoin:"round"})]})}const AV="_Menu_b65v5_18",PV="_backdrop_b65v5_50",NV="_show_b65v5_80",LV="_close_b65v5_86",OV="_menuItems_b65v5_93",el={Menu:AV,backdrop:PV,"hide-menu":"_hide-menu_b65v5_1",show:NV,"show-menu":"_show-menu_b65v5_1",close:LV,menuItems:OV},rp=T.forwardRef(({children:t,isOpen:e,scrollLock:n,onClick:r,closeButton:i,preventItemClickClose:s,menuOrigin:o,anchorOrigin:a,...l},u)=>{const c=T.useRef(null),[f,h]=T.useState(!0),[p,v]=T.useState({}),{lockScroll:w,unlockScroll:y}=RV();if(T.useEffect(()=>(e&&n&&w(),y),[e]),T.useEffect(()=>{h(!0)},[e]),T.useEffect(()=>{var $,U;const E=(U=($=c.current)==null?void 0:$.parentElement)==null?void 0:U.getBoundingClientRect(),S={width:(E==null?void 0:E.width)||0,height:(E==null?void 0:E.height)||0,horizontalHalf:((E==null?void 0:E.width)||0)/2,verticalHalf:((E==null?void 0:E.height)||0)/2},x={},I=a==null?void 0:a.horizontal,P=a==null?void 0:a.vertical,R=o==null?void 0:o.horizontal,O=o==null?void 0:o.vertical;R==="left"&&(I==="left"&&(x.left=0),I==="center"&&(x.left=S.horizontalHalf),I==="right"&&(x.left=S.width)),R==="right"&&(I==="left"&&(x.right=S.width),I==="center"&&(x.right=S.horizontalHalf),I==="right"&&(x.right=0)),O==="top"&&(P==="top"&&(x.top=0),P==="center"&&(x.top=S.verticalHalf),P==="bottom"&&(x.top=S.height)),O==="bottom"&&(P==="top"&&(x.bottom=S.height),P==="center"&&(x.bottom=S.verticalHalf),P==="bottom"&&(x.bottom=0));const W=o?`${o==null?void 0:o.horizontal} ${o==null?void 0:o.vertical}`:"left top";v({...x,transformOrigin:W})},[e]),!e)return null;const g=()=>{h(!1)},m=()=>{f||(r(),y())},_=E=>{s&&E.stopPropagation()};return d.jsxs(d.Fragment,{children:[d.jsx("div",{role:"navigation",className:el.backdrop,onClick:g,ref:u,...l}),d.jsxs("nav",{onAnimationEnd:m,ref:c,className:J.join(el.Menu,f&&el.show),style:p,children:[d.jsx("ul",{className:el.menuItems,onClick:_,children:t}),i&&d.jsx(st,{className:el.close,onClick:g,type:"secondary",size:"small",children:d.jsx(nc,{size:"small"})})]})]})});rp.displayName="Menu";const DV="_MenuContainer_xz9l3_1",jV={MenuContainer:DV},ip=T.forwardRef(({children:t,className:e,...n},r)=>d.jsx("div",{className:J.join(jV.MenuContainer,e),ref:r,...n,children:t}));ip.displayName="MenuContainer";const MV="_MenuDivider_3of8s_1",$V={MenuDivider:MV},J2=T.forwardRef(({className:t,...e},n)=>d.jsx("span",{className:J.join($V.MenuDivider,t),ref:n,...e}));J2.displayName="MenuDivider";const UV="_MenuItem_2d0qh_46",FV="_disabled_2d0qh_71",SS={MenuItem:UV,disabled:FV},Jr=T.forwardRef(({disabled:t,children:e,className:n,...r},i)=>{const s=[t&&SS.disabled];return d.jsx("li",{className:J.join(SS.MenuItem,n,s),ref:i,...r,children:e})});Jr.displayName="MenuItem";const VV={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6"},H=T.forwardRef(({component:t,display:e,children:n,className:r,...i},s)=>{const o=t||"p",a=e?tn[e]:null,l=t?tn[t]:tn.p1,u={className:J.join(r,a||l),ref:s,...i},c=VV[o]||"p";return d.jsx(Bv,{as:c,...u,children:n})});H.displayName="Typography";function zV(){const e=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";return document.documentElement.setAttribute("data-theme",e),e}function BV(){const[t,e]=T.useState(!1),[n,r]=T.useState(!1),{theme:i}=ut(v=>v.appReducer),{actions:s}=Bx,o=un(),a=rj(),l=()=>{r(!0)},u=()=>{r(!1)},c=()=>{r(!1),Px()},f=()=>{r(!1),o($l())},h=()=>{const v=zV();o(s.setTheme(v))},p=()=>{const v=!t;a(v),e(v)};return d.jsxs(ip,{children:[d.jsxs(rp,{isOpen:n,onClick:u,anchorOrigin:{horizontal:"right",vertical:"top"},menuOrigin:{horizontal:"right",vertical:"top"},preventItemClickClose:!0,children:[d.jsxs(Jr,{onClick:c,children:[d.jsx(bt,{size:"small",children:d.jsx(SV,{})}),d.jsx(H,{component:"p2",children:"Скинути налаштування"})]}),d.jsxs(Jr,{onClick:f,children:[d.jsx(bt,{size:"small",children:d.jsx(kV,{})}),d.jsx(H,{component:"p2",children:"Оновити список пісень"})]}),d.jsx(J2,{}),d.jsxs(Jr,{onClick:h,children:[d.jsx(bt,{size:"small",children:i==="dark"?d.jsx(xV,{}):d.jsx(bV,{})}),d.jsxs(H,{component:"p2",children:["Тема:"," ",i==="dark"?"темна":"світла"]})]}),d.jsxs(Jr,{onClick:p,children:[d.jsx(bt,{size:"small",children:t?d.jsx(TV,{}):d.jsx(CV,{})}),d.jsx(H,{component:"p2",children:"На весь екран"})]})]}),d.jsx(st,{type:"text",onClick:l,children:d.jsx(IV,{})})]})}var Br={},HV={get exports(){return Br},set exports(t){Br=t}};(function(t,e){(function(r,i){t.exports=i(T)})(qR,n=>(()=>{var r={"./node_modules/css-mediaquery/index.js":(a,l)=>{l.match=v,l.parse=w;var u=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,c=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,f=/^(?:(min|max)-)?(.+)/,h=/(em|rem|px|cm|mm|in|pt|pc)?$/,p=/(dpi|dpcm|dppx)?$/;function v(_,E){return w(_).some(function(S){var x=S.inverse,I=S.type==="all"||E.type===S.type;if(I&&x||!(I||x))return!1;var P=S.expressions.every(function(R){var O=R.feature,W=R.modifier,$=R.value,U=E[O];if(!U)return!1;switch(O){case"orientation":case"scan":return U.toLowerCase()===$.toLowerCase();case"width":case"height":case"device-width":case"device-height":$=m($),U=m(U);break;case"resolution":$=g($),U=g(U);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":$=y($),U=y(U);break;case"grid":case"color":case"color-index":case"monochrome":$=parseInt($,10)||1,U=parseInt(U,10)||0;break}switch(W){case"min":return U>=$;case"max":return U<=$;default:return U===$}});return P&&!x||!P&&x})}function w(_){return _.split(",").map(function(E){E=E.trim();var S=E.match(u),x=S[1],I=S[2],P=S[3]||"",R={};return R.inverse=!!x&&x.toLowerCase()==="not",R.type=I?I.toLowerCase():"all",P=P.match(/\([^\)]+\)/g)||[],R.expressions=P.map(function(O){var W=O.match(c),$=W[1].toLowerCase().match(f);return{modifier:$[1],feature:$[2],value:W[2]}}),R})}function y(_){var E=Number(_),S;return E||(S=_.match(/^(\d+)\s*\/\s*(\d+)$/),E=S[1]/S[2]),E}function g(_){var E=parseFloat(_),S=String(_).match(p)[1];switch(S){case"dpcm":return E/2.54;case"dppx":return E*96;default:return E}}function m(_){var E=parseFloat(_),S=String(_).match(h)[1];switch(S){case"em":return E*16;case"rem":return E*16;case"cm":return E*96/2.54;case"mm":return E*96/2.54/10;case"in":return E*96;case"pt":return E*72;case"pc":return E*72/12;default:return E}}},"./node_modules/hyphenate-style-name/index.js":(a,l,u)=>{u.r(l),u.d(l,{default:()=>w});var c=/[A-Z]/g,f=/^ms-/,h={};function p(y){return"-"+y.toLowerCase()}function v(y){if(h.hasOwnProperty(y))return h[y];var g=y.replace(c,p);return h[y]=f.test(g)?"-"+g:g}const w=v},"./node_modules/matchmediaquery/index.js":(a,l,u)=>{var c=u("./node_modules/css-mediaquery/index.js").match,f=typeof window<"u"?window.matchMedia:null;function h(v,w,y){var g=this;if(f&&!y){var m=f.call(window,v);this.matches=m.matches,this.media=m.media,m.addListener(S)}else this.matches=c(v,w),this.media=v;this.addListener=_,this.removeListener=E,this.dispose=x;function _(I){m&&m.addListener(I)}function E(I){m&&m.removeListener(I)}function S(I){g.matches=I.matches,g.media=I.media}function x(){m&&m.removeListener(S)}}function p(v,w,y){return new h(v,w,y)}a.exports=p},"./node_modules/object-assign/index.js":a=>{/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function f(p){if(p==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(p)}function h(){try{if(!Object.assign)return!1;var p=new String("abc");if(p[5]="de",Object.getOwnPropertyNames(p)[0]==="5")return!1;for(var v={},w=0;w<10;w++)v["_"+String.fromCharCode(w)]=w;var y=Object.getOwnPropertyNames(v).map(function(m){return v[m]});if(y.join("")!=="0123456789")return!1;var g={};return"abcdefghijklmnopqrst".split("").forEach(function(m){g[m]=m}),Object.keys(Object.assign({},g)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}a.exports=h()?Object.assign:function(p,v){for(var w,y=f(p),g,m=1;m<arguments.length;m++){w=Object(arguments[m]);for(var _ in w)u.call(w,_)&&(y[_]=w[_]);if(l){g=l(w);for(var E=0;E<g.length;E++)c.call(w,g[E])&&(y[g[E]]=w[g[E]])}}return y}},"./node_modules/prop-types/checkPropTypes.js":(a,l,u)=>{var c=function(){};{var f=u("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),h={},p=u("./node_modules/prop-types/lib/has.js");c=function(w){var y="Warning: "+w;typeof console<"u"&&console.error(y);try{throw new Error(y)}catch{}}}function v(w,y,g,m,_){for(var E in w)if(p(w,E)){var S;try{if(typeof w[E]!="function"){var x=Error((m||"React class")+": "+g+" type `"+E+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof w[E]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw x.name="Invariant Violation",x}S=w[E](y,E,m,g,null,f)}catch(P){S=P}if(S&&!(S instanceof Error)&&c((m||"React class")+": type specification of "+g+" `"+E+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof S+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),S instanceof Error&&!(S.message in h)){h[S.message]=!0;var I=_?_():"";c("Failed "+g+" type: "+S.message+(I??""))}}}v.resetWarningCache=function(){h={}},a.exports=v},"./node_modules/prop-types/factoryWithTypeCheckers.js":(a,l,u)=>{var c=u("./node_modules/react-is/index.js"),f=u("./node_modules/object-assign/index.js"),h=u("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),p=u("./node_modules/prop-types/lib/has.js"),v=u("./node_modules/prop-types/checkPropTypes.js"),w=function(){};w=function(g){var m="Warning: "+g;typeof console<"u"&&console.error(m);try{throw new Error(m)}catch{}};function y(){return null}a.exports=function(g,m){var _=typeof Symbol=="function"&&Symbol.iterator,E="@@iterator";function S(B){var K=B&&(_&&B[_]||B[E]);if(typeof K=="function")return K}var x="<<anonymous>>",I={array:W("array"),bigint:W("bigint"),bool:W("boolean"),func:W("function"),number:W("number"),object:W("object"),string:W("string"),symbol:W("symbol"),any:$(),arrayOf:U,element:le(),elementType:Se(),instanceOf:je,node:Y(),objectOf:q,oneOf:pt,oneOfType:oe,shape:ze,exact:Bn};function P(B,K){return B===K?B!==0||1/B===1/K:B!==B&&K!==K}function R(B,K){this.message=B,this.data=K&&typeof K=="object"?K:{},this.stack=""}R.prototype=Error.prototype;function O(B){var K={},we=0;function _e(Ce,C,k,A,V,j,b){if(A=A||x,j=j||k,b!==h){if(m){var G=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw G.name="Invariant Violation",G}else if(typeof console<"u"){var Te=A+":"+k;!K[Te]&&we<3&&(w("You are manually calling a React.PropTypes validation function for the `"+j+"` prop on `"+A+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),K[Te]=!0,we++)}}return C[k]==null?Ce?C[k]===null?new R("The "+V+" `"+j+"` is marked as required "+("in `"+A+"`, but its value is `null`.")):new R("The "+V+" `"+j+"` is marked as required in "+("`"+A+"`, but its value is `undefined`.")):null:B(C,k,A,V,j)}var pe=_e.bind(null,!1);return pe.isRequired=_e.bind(null,!0),pe}function W(B){function K(we,_e,pe,Ce,C,k){var A=we[_e],V=Ze(A);if(V!==B){var j=mt(A);return new R("Invalid "+Ce+" `"+C+"` of type "+("`"+j+"` supplied to `"+pe+"`, expected ")+("`"+B+"`."),{expectedType:B})}return null}return O(K)}function $(){return O(y)}function U(B){function K(we,_e,pe,Ce,C){if(typeof B!="function")return new R("Property `"+C+"` of component `"+pe+"` has invalid PropType notation inside arrayOf.");var k=we[_e];if(!Array.isArray(k)){var A=Ze(k);return new R("Invalid "+Ce+" `"+C+"` of type "+("`"+A+"` supplied to `"+pe+"`, expected an array."))}for(var V=0;V<k.length;V++){var j=B(k,V,pe,Ce,C+"["+V+"]",h);if(j instanceof Error)return j}return null}return O(K)}function le(){function B(K,we,_e,pe,Ce){var C=K[we];if(!g(C)){var k=Ze(C);return new R("Invalid "+pe+" `"+Ce+"` of type "+("`"+k+"` supplied to `"+_e+"`, expected a single ReactElement."))}return null}return O(B)}function Se(){function B(K,we,_e,pe,Ce){var C=K[we];if(!c.isValidElementType(C)){var k=Ze(C);return new R("Invalid "+pe+" `"+Ce+"` of type "+("`"+k+"` supplied to `"+_e+"`, expected a single ReactElement type."))}return null}return O(B)}function je(B){function K(we,_e,pe,Ce,C){if(!(we[_e]instanceof B)){var k=B.name||x,A=wi(we[_e]);return new R("Invalid "+Ce+" `"+C+"` of type "+("`"+A+"` supplied to `"+pe+"`, expected ")+("instance of `"+k+"`."))}return null}return O(K)}function pt(B){if(!Array.isArray(B))return arguments.length>1?w("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):w("Invalid argument supplied to oneOf, expected an array."),y;function K(we,_e,pe,Ce,C){for(var k=we[_e],A=0;A<B.length;A++)if(P(k,B[A]))return null;var V=JSON.stringify(B,function(b,G){var Te=mt(G);return Te==="symbol"?String(G):G});return new R("Invalid "+Ce+" `"+C+"` of value `"+String(k)+"` "+("supplied to `"+pe+"`, expected one of "+V+"."))}return O(K)}function q(B){function K(we,_e,pe,Ce,C){if(typeof B!="function")return new R("Property `"+C+"` of component `"+pe+"` has invalid PropType notation inside objectOf.");var k=we[_e],A=Ze(k);if(A!=="object")return new R("Invalid "+Ce+" `"+C+"` of type "+("`"+A+"` supplied to `"+pe+"`, expected an object."));for(var V in k)if(p(k,V)){var j=B(k,V,pe,Ce,C+"."+V,h);if(j instanceof Error)return j}return null}return O(K)}function oe(B){if(!Array.isArray(B))return w("Invalid argument supplied to oneOfType, expected an instance of array."),y;for(var K=0;K<B.length;K++){var we=B[K];if(typeof we!="function")return w("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+vi(we)+" at index "+K+"."),y}function _e(pe,Ce,C,k,A){for(var V=[],j=0;j<B.length;j++){var b=B[j],G=b(pe,Ce,C,k,A,h);if(G==null)return null;G.data&&p(G.data,"expectedType")&&V.push(G.data.expectedType)}var Te=V.length>0?", expected one of type ["+V.join(", ")+"]":"";return new R("Invalid "+k+" `"+A+"` supplied to "+("`"+C+"`"+Te+"."))}return O(_e)}function Y(){function B(K,we,_e,pe,Ce){return Ge(K[we])?null:new R("Invalid "+pe+" `"+Ce+"` supplied to "+("`"+_e+"`, expected a ReactNode."))}return O(B)}function be(B,K,we,_e,pe){return new R((B||"React class")+": "+K+" type `"+we+"."+_e+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+pe+"`.")}function ze(B){function K(we,_e,pe,Ce,C){var k=we[_e],A=Ze(k);if(A!=="object")return new R("Invalid "+Ce+" `"+C+"` of type `"+A+"` "+("supplied to `"+pe+"`, expected `object`."));for(var V in B){var j=B[V];if(typeof j!="function")return be(pe,Ce,C,V,mt(j));var b=j(k,V,pe,Ce,C+"."+V,h);if(b)return b}return null}return O(K)}function Bn(B){function K(we,_e,pe,Ce,C){var k=we[_e],A=Ze(k);if(A!=="object")return new R("Invalid "+Ce+" `"+C+"` of type `"+A+"` "+("supplied to `"+pe+"`, expected `object`."));var V=f({},we[_e],B);for(var j in V){var b=B[j];if(p(B,j)&&typeof b!="function")return be(pe,Ce,C,j,mt(b));if(!b)return new R("Invalid "+Ce+" `"+C+"` key `"+j+"` supplied to `"+pe+"`.\nBad object: "+JSON.stringify(we[_e],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(B),null,"  "));var G=b(k,j,pe,Ce,C+"."+j,h);if(G)return G}return null}return O(K)}function Ge(B){switch(typeof B){case"number":case"string":case"undefined":return!0;case"boolean":return!B;case"object":if(Array.isArray(B))return B.every(Ge);if(B===null||g(B))return!0;var K=S(B);if(K){var we=K.call(B),_e;if(K!==B.entries){for(;!(_e=we.next()).done;)if(!Ge(_e.value))return!1}else for(;!(_e=we.next()).done;){var pe=_e.value;if(pe&&!Ge(pe[1]))return!1}}else return!1;return!0;default:return!1}}function nr(B,K){return B==="symbol"?!0:K?K["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&K instanceof Symbol:!1}function Ze(B){var K=typeof B;return Array.isArray(B)?"array":B instanceof RegExp?"object":nr(K,B)?"symbol":K}function mt(B){if(typeof B>"u"||B===null)return""+B;var K=Ze(B);if(K==="object"){if(B instanceof Date)return"date";if(B instanceof RegExp)return"regexp"}return K}function vi(B){var K=mt(B);switch(K){case"array":case"object":return"an "+K;case"boolean":case"date":case"regexp":return"a "+K;default:return K}}function wi(B){return!B.constructor||!B.constructor.name?x:B.constructor.name}return I.checkPropTypes=v,I.resetWarningCache=v.resetWarningCache,I.PropTypes=I,I}},"./node_modules/prop-types/index.js":(a,l,u)=>{{var c=u("./node_modules/react-is/index.js"),f=!0;a.exports=u("./node_modules/prop-types/factoryWithTypeCheckers.js")(c.isElement,f)}},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":a=>{var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";a.exports=l},"./node_modules/prop-types/lib/has.js":a=>{a.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(a,l)=>{/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var u=typeof Symbol=="function"&&Symbol.for,c=u?Symbol.for("react.element"):60103,f=u?Symbol.for("react.portal"):60106,h=u?Symbol.for("react.fragment"):60107,p=u?Symbol.for("react.strict_mode"):60108,v=u?Symbol.for("react.profiler"):60114,w=u?Symbol.for("react.provider"):60109,y=u?Symbol.for("react.context"):60110,g=u?Symbol.for("react.async_mode"):60111,m=u?Symbol.for("react.concurrent_mode"):60111,_=u?Symbol.for("react.forward_ref"):60112,E=u?Symbol.for("react.suspense"):60113,S=u?Symbol.for("react.suspense_list"):60120,x=u?Symbol.for("react.memo"):60115,I=u?Symbol.for("react.lazy"):60116,P=u?Symbol.for("react.block"):60121,R=u?Symbol.for("react.fundamental"):60117,O=u?Symbol.for("react.responder"):60118,W=u?Symbol.for("react.scope"):60119;function $(b){return typeof b=="string"||typeof b=="function"||b===h||b===m||b===v||b===p||b===E||b===S||typeof b=="object"&&b!==null&&(b.$$typeof===I||b.$$typeof===x||b.$$typeof===w||b.$$typeof===y||b.$$typeof===_||b.$$typeof===R||b.$$typeof===O||b.$$typeof===W||b.$$typeof===P)}function U(b){if(typeof b=="object"&&b!==null){var G=b.$$typeof;switch(G){case c:var Te=b.type;switch(Te){case g:case m:case h:case v:case p:case E:return Te;default:var Be=Te&&Te.$$typeof;switch(Be){case y:case _:case I:case x:case w:return Be;default:return G}}case f:return G}}}var le=g,Se=m,je=y,pt=w,q=c,oe=_,Y=h,be=I,ze=x,Bn=f,Ge=v,nr=p,Ze=E,mt=!1;function vi(b){return mt||(mt=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),wi(b)||U(b)===g}function wi(b){return U(b)===m}function B(b){return U(b)===y}function K(b){return U(b)===w}function we(b){return typeof b=="object"&&b!==null&&b.$$typeof===c}function _e(b){return U(b)===_}function pe(b){return U(b)===h}function Ce(b){return U(b)===I}function C(b){return U(b)===x}function k(b){return U(b)===f}function A(b){return U(b)===v}function V(b){return U(b)===p}function j(b){return U(b)===E}l.AsyncMode=le,l.ConcurrentMode=Se,l.ContextConsumer=je,l.ContextProvider=pt,l.Element=q,l.ForwardRef=oe,l.Fragment=Y,l.Lazy=be,l.Memo=ze,l.Portal=Bn,l.Profiler=Ge,l.StrictMode=nr,l.Suspense=Ze,l.isAsyncMode=vi,l.isConcurrentMode=wi,l.isContextConsumer=B,l.isContextProvider=K,l.isElement=we,l.isForwardRef=_e,l.isFragment=pe,l.isLazy=Ce,l.isMemo=C,l.isPortal=k,l.isProfiler=A,l.isStrictMode=V,l.isSuspense=j,l.isValidElementType=$,l.typeOf=U})()},"./node_modules/react-is/index.js":(a,l,u)=>{a.exports=u("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(a,l,u)=>{u.r(l),u.d(l,{shallowEqualArrays:()=>f,shallowEqualObjects:()=>c});function c(h,p){if(h===p)return!0;if(!h||!p)return!1;var v=Object.keys(h),w=Object.keys(p),y=v.length;if(w.length!==y)return!1;for(var g=0;g<y;g++){var m=v[g];if(h[m]!==p[m]||!Object.prototype.hasOwnProperty.call(p,m))return!1}return!0}function f(h,p){if(h===p)return!0;if(!h||!p)return!1;var v=h.length;if(p.length!==v)return!1;for(var w=0;w<v;w++)if(h[w]!==p[w])return!1;return!0}},"./src/Component.ts":function(a,l,u){var c=this&&this.__rest||function(v,w){var y={};for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&w.indexOf(g)<0&&(y[g]=v[g]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,g=Object.getOwnPropertySymbols(v);m<g.length;m++)w.indexOf(g[m])<0&&Object.prototype.propertyIsEnumerable.call(v,g[m])&&(y[g[m]]=v[g[m]]);return y},f=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(l,"__esModule",{value:!0});var h=f(u("./src/useMediaQuery.ts")),p=function(v){var w=v.children,y=v.device,g=v.onChange,m=c(v,["children","device","onChange"]),_=(0,h.default)(m,y,g);return typeof w=="function"?w(_):_?w:null};l.default=p},"./src/Context.ts":(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0});var c=u("react"),f=(0,c.createContext)(void 0);l.default=f},"./src/index.ts":function(a,l,u){var c=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(l,"__esModule",{value:!0}),l.Context=l.toQuery=l.useMediaQuery=l.default=void 0;var f=c(u("./src/useMediaQuery.ts"));l.useMediaQuery=f.default;var h=c(u("./src/Component.ts"));l.default=h.default;var p=c(u("./src/toQuery.ts"));l.toQuery=p.default;var v=c(u("./src/Context.ts"));l.Context=v.default},"./src/mediaQuery.ts":function(a,l,u){var c=this&&this.__assign||function(){return c=Object.assign||function(E){for(var S,x=1,I=arguments.length;x<I;x++){S=arguments[x];for(var P in S)Object.prototype.hasOwnProperty.call(S,P)&&(E[P]=S[P])}return E},c.apply(this,arguments)},f=this&&this.__rest||function(E,S){var x={};for(var I in E)Object.prototype.hasOwnProperty.call(E,I)&&S.indexOf(I)<0&&(x[I]=E[I]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var P=0,I=Object.getOwnPropertySymbols(E);P<I.length;P++)S.indexOf(I[P])<0&&Object.prototype.propertyIsEnumerable.call(E,I[P])&&(x[I[P]]=E[I[P]]);return x},h=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(l,"__esModule",{value:!0});var p=h(u("./node_modules/prop-types/index.js")),v=p.default.oneOfType([p.default.string,p.default.number]),w={all:p.default.bool,grid:p.default.bool,aural:p.default.bool,braille:p.default.bool,handheld:p.default.bool,print:p.default.bool,projection:p.default.bool,screen:p.default.bool,tty:p.default.bool,tv:p.default.bool,embossed:p.default.bool},y={orientation:p.default.oneOf(["portrait","landscape"]),scan:p.default.oneOf(["progressive","interlace"]),aspectRatio:p.default.string,deviceAspectRatio:p.default.string,height:v,deviceHeight:v,width:v,deviceWidth:v,color:p.default.bool,colorIndex:p.default.bool,monochrome:p.default.bool,resolution:v,type:Object.keys(w)};y.type;var g=f(y,["type"]),m=c({minAspectRatio:p.default.string,maxAspectRatio:p.default.string,minDeviceAspectRatio:p.default.string,maxDeviceAspectRatio:p.default.string,minHeight:v,maxHeight:v,minDeviceHeight:v,maxDeviceHeight:v,minWidth:v,maxWidth:v,minDeviceWidth:v,maxDeviceWidth:v,minColor:p.default.number,maxColor:p.default.number,minColorIndex:p.default.number,maxColorIndex:p.default.number,minMonochrome:p.default.number,maxMonochrome:p.default.number,minResolution:v,maxResolution:v},g),_=c(c({},w),m);l.default={all:_,types:w,matchers:y,features:m}},"./src/toQuery.ts":function(a,l,u){var c=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});var f=c(u("./node_modules/hyphenate-style-name/index.js")),h=c(u("./src/mediaQuery.ts")),p=function(g){return"not ".concat(g)},v=function(g,m){var _=(0,f.default)(g);return typeof m=="number"&&(m="".concat(m,"px")),m===!0?_:m===!1?p(_):"(".concat(_,": ").concat(m,")")},w=function(g){return g.join(" and ")},y=function(g){var m=[];return Object.keys(h.default.all).forEach(function(_){var E=g[_];E!=null&&m.push(v(_,E))}),w(m)};l.default=y},"./src/useMediaQuery.ts":function(a,l,u){var c=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(l,"__esModule",{value:!0});var f=u("react"),h=c(u("./node_modules/matchmediaquery/index.js")),p=c(u("./node_modules/hyphenate-style-name/index.js")),v=u("./node_modules/shallow-equal/dist/index.esm.js"),w=c(u("./src/toQuery.ts")),y=c(u("./src/Context.ts")),g=function(R){return R.query||(0,w.default)(R)},m=function(R){if(R){var O=Object.keys(R);return O.reduce(function(W,$){return W[(0,p.default)($)]=R[$],W},{})}},_=function(){var R=(0,f.useRef)(!1);return(0,f.useEffect)(function(){R.current=!0},[]),R.current},E=function(R){var O=(0,f.useContext)(y.default),W=function(){return m(R)||m(O)},$=(0,f.useState)(W),U=$[0],le=$[1];return(0,f.useEffect)(function(){var Se=W();(0,v.shallowEqualObjects)(U,Se)||le(Se)},[R,O]),U},S=function(R){var O=function(){return g(R)},W=(0,f.useState)(O),$=W[0],U=W[1];return(0,f.useEffect)(function(){var le=O();$!==le&&U(le)},[R]),$},x=function(R,O){var W=function(){return(0,h.default)(R,O||{},!!O)},$=(0,f.useState)(W),U=$[0],le=$[1],Se=_();return(0,f.useEffect)(function(){if(Se){var je=W();return le(je),function(){je&&je.dispose()}}},[R,O]),U},I=function(R){var O=(0,f.useState)(R.matches),W=O[0],$=O[1];return(0,f.useEffect)(function(){var U=function(le){$(le.matches)};return R.addListener(U),$(R.matches),function(){R.removeListener(U)}},[R]),W},P=function(R,O,W){var $=E(O),U=S(R);if(!U)throw new Error("Invalid or missing MediaQuery!");var le=x(U,$),Se=I(le),je=_();return(0,f.useEffect)(function(){je&&W&&W(Se)},[Se]),(0,f.useEffect)(function(){return function(){le&&le.dispose()}},[]),Se};l.default=P},react:a=>{a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var u=i[a]={exports:{}};return r[a].call(u.exports,u,u.exports,s),u.exports}s.d=(a,l)=>{for(var u in l)s.o(l,u)&&!s.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o=s("./src/index.ts");return o})())})(HV);const fs={xx:1/0,xl:1179,lg:1023,md:767,sm:539,xs:479,ss:359};function qV(){return{isScreenXX:Br.useMediaQuery({query:`(max-width: ${fs.xx}px)`}),isScreenXL:Br.useMediaQuery({query:`(max-width: ${fs.xl}px)`}),isScreenLG:Br.useMediaQuery({query:`(max-width: ${fs.lg}px)`}),isScreenMD:Br.useMediaQuery({query:`(max-width: ${fs.md}px)`}),isScreenSM:Br.useMediaQuery({query:`(max-width: ${fs.sm}px)`}),isScreenXS:Br.useMediaQuery({query:`(max-width: ${fs.xs}px)`}),isScreenSS:Br.useMediaQuery({query:`(max-width: ${fs.ss}px)`})}}const T0=T.forwardRef(({gridContainer:t,grid:e,children:n,className:r,...i},s)=>{const o=e&&Hv(e);return d.jsx("nav",{className:J.join(r,t&&"row",o),ref:s,...i,children:n})});T0.displayName="Nav";const Z2=[{label:"Головна",path:St.home,end:!1},{label:"Список пісень",path:St.songslist,end:!1},{label:"Користувачі",path:Ln.users,end:!1}],WV="_NavigationDesktop_10tfr_1",GV="_active_10tfr_7",KV="_link_10tfr_7",Tm={NavigationDesktop:WV,active:GV,link:KV};function QV(){const{isAuth:t}=Dr(),e=({isActive:n})=>n?Tm.active:"";return d.jsx(T0,{className:Tm.NavigationDesktop,children:Z2.map(n=>(!n.private||t)&&d.jsx(zd,{className:e,end:n.end,to:n.path,children:d.jsx(zs,{className:Tm.link,underline:!1,children:n.label})},n.label))})}function YV(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("path",{d:"M3.55844 12.8077H21.5584",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M3.55844 6.80774H21.5584",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M3.55844 18.8077H21.5584",strokeLinecap:"round",strokeLinejoin:"round"})]})}const XV="_NavigationMobile_g69i1_46",JV="_active_g69i1_52",ZV="_link_g69i1_52",xm={NavigationMobile:XV,active:JV,link:ZV};function ez(){const{isAuth:t}=Dr(),[e,n]=T.useState(!1),r=()=>{n(!0)},i=()=>{n(!1)},s=({isActive:o})=>o?xm.active:"";return d.jsx(T0,{className:xm.NavigationMobile,children:d.jsxs(ip,{children:[d.jsx(rp,{isOpen:e,onClick:i,anchorOrigin:{horizontal:"right",vertical:"top"},menuOrigin:{horizontal:"right",vertical:"top"},preventItemClickClose:!0,children:Z2.map(o=>(!o.private||t)&&d.jsxs(zd,{className:s,end:o.end,to:o.path,children:[" ",d.jsx(Jr,{onClick:i,children:d.jsx(zs,{className:xm.link,underline:!1,children:o.label})})]},o.label))}),d.jsx(st,{type:"text",onClick:r,children:d.jsx(YV,{})})]})})}function tz(){const{isScreenMD:t}=qV();return d.jsxs(d.Fragment,{children:[!t&&d.jsx(QV,{}),t&&d.jsx(ez,{})]})}const ld=jr("user/createUserWithEmail",async({email:t,password:e},n)=>{var r;try{const i=await Re.google.firebase.auth.createUser({email:t,password:e});if("error"in i)throw new Error((r=i.error)==null?void 0:r.toString());return"error"in await Re.google.firebase.database.users.addUser({uid:i.user.uid})||await Re.google.firebase.database.users.updateUser({uid:i.user.uid,displayName:"",photoURL:"",email:t||"",userType:"user",role:"",sex:"",lastActiveChatId:"0",registrationDate:"",visitsCount:1}),await Re.google.firebase.database.userChats.addUserChatsForUser({uid:i.user.uid}),{uid:Re.google.firebase.auth.getCurrentAuthUser().user.uid,displayName:"",photoURL:"",email:t,userType:"",sex:"",role:"",lastActiveChatId:"",lastVisitDate:"",registrationDate:"",isOnline:!1,visitsCount:1}}catch(i){return n.rejectWithValue(ae(i))}}),Im=jr("user/getAuthUserById",async({uid:t},e)=>{try{const n=await Re.google.firebase.database.users.getUserById({userId:t});return{uid:n.user.uid,displayName:n.user.displayName,photoURL:n.user.photoURL,email:n.user.email,userType:n.user.userType,sex:n.user.sex,role:n.user.role,lastActiveChatId:n.user.lastActiveChatId,lastVisitDate:n.user.lastVisitDate,registrationDate:n.user.registrationDate,isOnline:n.user.isOnline,visitsCount:n.user.visitsCount}}catch(n){return e.rejectWithValue(ae(n))}}),ud=jr("user/getAuthUserId",async(t,e)=>{try{let n=null;return await new Promise(r=>{L4(Da,async i=>{n=i==null?void 0:i.uid,r(null)})}),n}catch(n){return e.rejectWithValue(ae(n))}}),cd=jr("user/initUserOnPageLoad",async({uid:t},e)=>{var n,r,i,s,o,a,l,u,c;try{const f=await Re.google.firebase.database.users.getUserById({userId:t}),h={uid:t,displayName:((n=f.user)==null?void 0:n.displayName)||"",photoURL:((r=f.user)==null?void 0:r.photoURL)||"",email:((i=f.user)==null?void 0:i.email)||"",userType:((s=f.user)==null?void 0:s.userType)||"",sex:((o=f.user)==null?void 0:o.sex)||"",role:((a=f.user)==null?void 0:a.role)||"",lastActiveChatId:((l=f.user)==null?void 0:l.lastActiveChatId)||"",registrationDate:((u=f.user)==null?void 0:u.registrationDate)||"",visitsCount:(((c=f.user)==null?void 0:c.visitsCount)||0)+1};await Re.google.firebase.database.users.updateUser(h);const p=await Re.google.firebase.database.users.getUserById({userId:t});return{uid:p.user.uid,displayName:p.user.displayName,photoURL:p.user.photoURL,email:p.user.email,userType:p.user.userType,sex:p.user.sex,role:p.user.role,lastActiveChatId:p.user.lastActiveChatId,lastVisitDate:p.user.lastVisitDate,registrationDate:p.user.registrationDate,isOnline:p.user.isOnline,visitsCount:p.user.visitsCount}}catch(f){return e.rejectWithValue(ae(f))}}),dd=jr("user/signIn",async({email:t,password:e},n)=>{try{const r=await Re.google.firebase.auth.signInWithEmail({email:t,password:e}),i=await Re.google.firebase.database.users.getUserById({userId:r.user.uid}),s={uid:r.user.uid,displayName:i.user.displayName||"",photoURL:i.user.photoURL||"",email:i.user.email||"",userType:i.user.userType||"",sex:i.user.sex||"",role:i.user.role||"",lastActiveChatId:i.user.lastActiveChatId||"",registrationDate:i.user.registrationDate||"",visitsCount:(i.user.visitsCount||0)+1};await Re.google.firebase.database.users.updateUser(s);const o=await Re.google.firebase.database.users.getUserById({userId:r.user.uid});return{uid:Re.google.firebase.auth.getCurrentAuthUser().user.uid,displayName:o.user.displayName,photoURL:o.user.photoURL,email:o.user.email,userType:o.user.userType,sex:o.user.sex,role:o.user.role,lastActiveChatId:o.user.lastActiveChatId,lastVisitDate:o.user.lastVisitDate,registrationDate:o.user.registrationDate,isOnline:o.user.isOnline,visitsCount:o.user.visitsCount}}catch(r){return n.rejectWithValue(ae(r))}}),Ul=jr("user/signInWithGoogle",async(t,e)=>{try{await Re.google.firebase.auth.signInWithGoogle();const n=Re.google.firebase.auth.getCurrentAuthUser();let r=null;try{r=await Re.google.firebase.database.users.getUserById({userId:n.user.uid})}catch{}if(!r)"error"in await Re.google.firebase.database.users.addUser({uid:n.user.uid})||await Re.google.firebase.database.users.updateUser({uid:n.user.uid,displayName:n.user.displayName||"User",photoURL:n.user.photoURL||"",email:n.user.email||"",userType:"user",role:"",sex:"",lastActiveChatId:"0",registrationDate:"",visitsCount:1}),await Re.google.firebase.database.userChats.addUserChatsForUser({uid:n.user.uid}),r=await Re.google.firebase.database.users.getUserById({userId:n.user.uid});else{const o={uid:r.user.uid,displayName:r.user.displayName||"",photoURL:r.user.photoURL||"",email:r.user.email||"",userType:r.user.userType||"",sex:r.user.sex||"",role:r.user.role||"",lastActiveChatId:r.user.lastActiveChatId||"",registrationDate:r.user.registrationDate||"",visitsCount:(r.user.visitsCount||0)+1};await Re.google.firebase.database.users.updateUser(o)}const i=await Re.google.firebase.database.users.getUserById({userId:n.user.uid});return{uid:Re.google.firebase.auth.getCurrentAuthUser().user.uid,displayName:i.user.displayName,photoURL:i.user.photoURL,email:i.user.email,userType:i.user.userType,sex:i.user.sex,role:i.user.role,lastActiveChatId:i.user.lastActiveChatId,lastVisitDate:i.user.lastVisitDate,registrationDate:i.user.registrationDate,isOnline:i.user.isOnline,visitsCount:i.user.visitsCount}}catch(n){return e.rejectWithValue(ae(n))}}),fd=jr("user/updateUser",async({uid:t,displayName:e,photo:n,email:r,userType:i,sex:s,role:o,lastActiveChatId:a,visitsCount:l},u)=>{var c,f,h,p,v,w,y,g,m;try{const _=n?await Re.google.firebase.storage.uploadFile({refName:`users/${t}/profile/profileImage-${t}`,file:n}):null,E=_&&"downloadURL"in _&&_.downloadURL||"",S=await Re.google.firebase.database.users.getUserById({userId:t}),x={uid:t,displayName:e||((c=S.user)==null?void 0:c.displayName)||"",photoURL:E||((f=S.user)==null?void 0:f.photoURL)||"",email:r||((h=S.user)==null?void 0:h.email)||"",userType:i||((p=S.user)==null?void 0:p.userType)||"",sex:s||((v=S.user)==null?void 0:v.sex)||"",role:o||((w=S.user)==null?void 0:w.role)||"",lastActiveChatId:a||((y=S.user)==null?void 0:y.lastActiveChatId)||"",registrationDate:((g=S.user)==null?void 0:g.registrationDate)||"",visitsCount:l||((m=S.user)==null?void 0:m.visitsCount)||1};await Re.google.firebase.database.users.updateUser(x);const I=Re.google.firebase.auth.getCurrentAuthUser(),P={user:I.user,displayName:e||I.user.displayName||"",photoURL:E||I.user.photoURL||""};await Re.google.firebase.auth.updateProfile(P);const R=await Re.google.firebase.database.users.getUserById({userId:t});return{uid:Re.google.firebase.auth.getCurrentAuthUser().user.uid,displayName:R.user.displayName,photoURL:R.user.photoURL,email:R.user.email,userType:R.user.userType,sex:R.user.sex,role:R.user.role,lastActiveChatId:R.user.lastActiveChatId,lastVisitDate:R.user.lastVisitDate,registrationDate:R.user.registrationDate,isOnline:R.user.isOnline,visitsCount:R.user.visitsCount}}catch(_){return u.rejectWithValue(ae(_))}}),nz={isLoading:!1,error:"",user:{},fetchedUserData:null,authUserId:void 0},rc=Ia({name:"user",initialState:nz,reducers:{setUser(t,e){t.user.uid=e.payload.uid,t.user.displayName=e.payload.displayName,t.user.photoURL=e.payload.photoURL,t.user.email=e.payload.email},setUserDataFromFetched(t){t.user=t.fetchedUserData||{},t.fetchedUserData=null},removeUser(t){t.user={},t.error="",t.isLoading=!1},resetError(t){t.error=""}},extraReducers:t=>{t.addCase(ld.pending,e=>{e.fetchedUserData={},e.error="",e.isLoading=!0}).addCase(ld.fulfilled,(e,n)=>{e.fetchedUserData=n.payload,e.error="",e.isLoading=!1}).addCase(ld.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(dd.pending,e=>{e.fetchedUserData=null,e.error="",e.isLoading=!0}).addCase(dd.fulfilled,(e,n)=>{e.fetchedUserData=n.payload,e.error="",e.isLoading=!1}).addCase(dd.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(Ul.pending,e=>{e.fetchedUserData=null,e.error="",e.isLoading=!0}).addCase(Ul.fulfilled,(e,n)=>{e.fetchedUserData=n.payload,e.error="",e.isLoading=!1}).addCase(Ul.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(fd.pending,e=>{e.error="",e.isLoading=!0}).addCase(fd.fulfilled,(e,n)=>{e.user=n.payload,e.error="",e.isLoading=!1}).addCase(fd.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(cd.pending,e=>{e.user={},e.error="",e.isLoading=!0}).addCase(cd.fulfilled,(e,n)=>{e.user=n.payload,e.error="",e.isLoading=!1}).addCase(cd.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(ud.pending,e=>{e.error="",e.isLoading=!0,e.authUserId=void 0}).addCase(ud.fulfilled,(e,n)=>{e.authUserId=n.payload||null,e.error="",e.isLoading=!1}).addCase(ud.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(Im.pending,e=>{e.error="",e.isLoading=!0}).addCase(Im.fulfilled,(e,n)=>{e.user=n.payload,e.error="",e.isLoading=!1}).addCase(Im.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1})}}),rz="_img_nvjha_46",iz="_small_nvjha_52",sz="_extra_nvjha_56",oz="_charContainer_nvjha_61",az="_char_nvjha_61",lz="_clickable_nvjha_83",hs={img:rz,small:iz,extra:sz,charContainer:oz,char:az,clickable:lz},wa=T.forwardRef(({src:t,alt:e,char:n,color:r,size:i="default",onClick:s,children:o,className:a,...l},u)=>{const[c,f]=T.useState("");T.useEffect(()=>{t&&f(t)},[t]);const h=[s&&hs.clickable],p=i&&hs[i],v=()=>{f("")};return d.jsxs("div",{onClick:s,className:J.join(hs.Avatar,a,h),ref:u,...l,children:[!c&&o&&d.jsx("div",{className:J.join(hs.charContainer,p),style:{backgroundColor:r},children:o}),!!c&&d.jsx("img",{className:J.join(hs.img,p),src:c,alt:e,onError:v}),!c&&!o&&d.jsx("div",{className:J.join(hs.charContainer,p),style:{backgroundColor:r},children:d.jsx(H,{display:"h5",className:hs.char,children:n})})]})});wa.displayName="Avatar";function uz(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),d.jsx("polyline",{points:"16 17 21 12 16 7"}),d.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})}function cz(t){return d.jsx(ke,{fill:"none",...t,children:d.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})})}function dz(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}function fz(){const[t,e]=T.useState(!1),n=zn(),{isAdmin:r,isAuth:i}=Dr(),{user:s}=ut(w=>w.userReducer),{photoURL:o,displayName:a,email:l,role:u}=s,c=un(),{removeUser:f}=rc.actions,h=()=>{e(!0)},p=()=>{e(!1)},v=()=>{c(f()),Re.google.firebase.auth.signOut(),n(St.home),p()};return d.jsxs(ip,{children:[d.jsxs(rp,{isOpen:t,onClick:p,anchorOrigin:{horizontal:"right",vertical:"top"},menuOrigin:{horizontal:"right",vertical:"top"},preventItemClickClose:!0,children:[i&&d.jsx(zd,{to:Ln.user,children:d.jsxs(Jr,{onClick:p,children:[d.jsx(bt,{children:d.jsx(dz,{})}),d.jsx(zs,{underline:!1,children:"Редагування профілю"})]})}),r&&d.jsx(zd,{to:Ax.admin,children:d.jsxs(Jr,{onClick:p,children:[d.jsx(bt,{children:d.jsx(cz,{})}),d.jsx(zs,{underline:!1,children:"Панель адміна"})]})}),d.jsxs(Jr,{onClick:v,children:[d.jsx(bt,{children:d.jsx(uz,{})}),d.jsx(H,{component:"p1",children:"Вихід"})]})]}),d.jsx(wa,{src:o,alt:a,char:(a==null?void 0:a[0])||(l==null?void 0:l[0])||"",size:"small",onClick:h,title:`${a} ${u}`})]})}const hz="_Header_yqrt5_1",pz="_container_yqrt5_5",mz="_controls_yqrt5_13",km={Header:hz,container:pz,controls:mz};function gz({navigation:t=!0,headerMenu:e=!0,userMenu:n=!0}){const r=zn(),{isAuth:i}=Dr(),s=()=>{r(St.login)};return d.jsx(ie,{component:"header",className:km.Header,children:d.jsxs(nt,{container:!0,component:"section",className:km.container,children:[d.jsx(MD,{}),d.jsxs(ie,{className:km.controls,children:[t&&d.jsx(tz,{}),e&&d.jsx(BV,{}),n&&(i?d.jsx(fz,{}):d.jsx(st,{size:"small",onClick:s,children:"Увійти"}))]})]})})}function yz(t){t&&document.documentElement.style.setProperty("--vh",`${t}px`)}function vz(){const t=typeof window<"u";function e(){return t?window.innerHeight:null}const[n,r]=T.useState(e());return T.useEffect(()=>{yz(n)},[n]),T.useEffect(()=>(window.addEventListener("resize",()=>r(e())),()=>window.addEventListener("resize",()=>r(e()))),[t]),T.useEffect(()=>(window.addEventListener("orientationchange",()=>r(e())),()=>window.addEventListener("orientationchange",()=>r(e()))),[t]),{viewportHeight:n}}function wz(t){const[e,n]=T.useState();return T.useLayoutEffect(()=>{document.body.classList.add("no-transition");const r=t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");n(r),document.documentElement.setAttribute("data-theme",r),setTimeout(()=>document.body.classList.remove("no-transition"),0)},[]),{theme:e}}function _z(){const[t,e]=T.useState(!1);vz();const{theme:n}=ut(f=>f.appReducer),{user:r,authUserId:i}=ut(f=>f.userReducer),{uid:s}=r;wz(n);const o=un(),a=zn(),l=to(),[u,c]=T.useState(null);return T.useLayoutEffect(()=>{document.body.classList.add("scroll"),o(ud())},[]),T.useLayoutEffect(()=>{const f=l.pathname===St.login||l.pathname===St.signup?Ln.users:l.pathname;c(f||St.home)},[l]),T.useLayoutEffect(()=>{i&&o(cd({uid:i}))},[i]),T.useEffect(()=>{(s||i===null)&&(u&&a(u),e(!0))},[s,i]),{isInit:t}}function CS({header:t=!0,navigation:e=!0,headerMenu:n=!0,userMenu:r=!0,footer:i=!0}){const{isInit:s}=_z();return s?d.jsxs(d.Fragment,{children:[t&&d.jsx(gz,{navigation:e,headerMenu:n,userMenu:r}),d.jsx(IO,{}),i&&d.jsx(jD,{})]}):d.jsx(fD,{})}const Ez=T.forwardRef(({gridContainer:t,children:e,className:n,...r},i)=>d.jsx("div",{className:J.join(n,"container",t&&"row"),ref:i,...r,children:e}));Ez.displayName="Container";const Sz=T.forwardRef(({children:t,className:e,...n},r)=>d.jsx("footer",{className:J.join(e,"footer"),ref:r,...n,children:t}));Sz.displayName="Footer";const Cz=T.forwardRef(({children:t,className:e,...n},r)=>d.jsx("header",{className:J.join(e,"header"),ref:r,...n,children:t}));Cz.displayName="Header";const x0=T.forwardRef(({children:t,className:e,...n},r)=>d.jsx("main",{className:J.join(e,"main"),ref:r,...n,children:t}));x0.displayName="Main";const Tz=T.forwardRef(({gridContainer:t,grid:e,children:n,className:r,...i},s)=>{const o=[e&&Hv(e)];return d.jsx("section",{className:J.join(r,t&&"row",o),ref:s,...i,children:n})});Tz.displayName="Section";const bm={};function xz(){return d.jsx(ie,{component:"main",className:bm.HomePage,children:d.jsx(nt,{container:!0,component:"section",className:bm.container,children:d.jsx("div",{className:bm.AdminPage,children:"AdminPage"})})})}const Iz="_container_1l783_1",kz="_title_1l783_9",bz="_title40_1l783_13",Rz="_title4_1l783_13",Az="_description_1l783_22",tl={container:Iz,title:kz,title40:bz,title4:Rz,"char-animation":"_char-animation_1l783_1",description:Az};function Pz(){const t=zn();return d.jsx(ie,{component:"main",children:d.jsxs(nt,{container:!0,component:"section",className:tl.container,children:[d.jsx(st,{size:"small",onClick:()=>t(St.home),children:"На головну"}),d.jsxs(ie,{className:tl.title,children:[d.jsx(H,{component:"p1",display:"h1",className:tl.title40,children:"40"}),d.jsx(H,{component:"p1",display:"h1",className:tl.title4,children:"4"})]}),d.jsx(ie,{className:tl.description,children:d.jsxs(H,{component:"p2",children:["Вибачте, сторінки не існує",d.jsx("br",{}),"або функціонал ще в процесі розробки",d.jsx("br",{}),"¯\\_(ツ)_/¯"]})})]})})}const Nz="_container_6r9gh_1",Lz="_buttons_6r9gh_9",Oz="_description_6r9gh_16",Rm={container:Nz,buttons:Lz,description:Oz};function TS(){const t=kx(),e=zn(),n=()=>{Px()};return jo(t)&&t.status?d.jsx(Pz,{}):d.jsx(ie,{component:"main",children:d.jsx(nt,{container:!0,component:"section",className:Rm.container,children:d.jsxs(d.Fragment,{children:[d.jsxs(ie,{className:Rm.buttons,children:[d.jsx(st,{size:"small",onClick:()=>e(St.home),children:"На головну"}),d.jsx(st,{type:"secondary",size:"small",onClick:n,children:"Видалити дані та перезавантажити"}),d.jsx(Wv,{type:"secondary",size:"small",href:"https://t.me/amelianceskymusic",blank:!0,children:"Написати мені в Телеграм"})]}),d.jsx(H,{component:"h3",children:"Сорі, виникла помилка =("}),d.jsx(ie,{className:Rm.description,children:d.jsxs(d.Fragment,{children:[d.jsx(H,{component:"h4",children:jo(t)&&t.status}),d.jsxs(H,{component:"h5",children:[t instanceof Error&&t.message,jo(t)&&t.statusText,jo(t)&&t.data.message]})]})})]})})})}const Dz="_HomePage_1l60f_46",jz="_container_1l60f_46",xS={HomePage:Dz,container:jz};function Mz(){return d.jsx(ie,{component:"main",className:xS.HomePage,children:d.jsxs(nt,{container:!0,component:"section",className:xS.container,children:[d.jsx(H,{component:"h1",children:"Вітаю на сайті 👋"}),d.jsx(H,{component:"h6",children:"Сайт знаходиться в розробці"}),d.jsx(H,{component:"h6",children:"Якщо ви знайшли баг або у вас є якісь пропозиції, побажання, коментарі, пишіть в Телеграм 😊"}),d.jsx(Wv,{href:"https://t.me/amelianceskymusic",blank:!0,children:"Написати"})]})})}var ic=t=>t.type==="checkbox",Uo=t=>t instanceof Date,fn=t=>t==null;const eR=t=>typeof t=="object";var Pt=t=>!fn(t)&&!Array.isArray(t)&&eR(t)&&!Uo(t),$z=t=>Pt(t)&&t.target?ic(t.target)?t.target.checked:t.target.value:t,Uz=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Fz=(t,e)=>t.has(Uz(e)),Vz=t=>{const e=t.constructor&&t.constructor.prototype;return Pt(e)&&e.hasOwnProperty("isPrototypeOf")},I0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ws(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(I0&&(t instanceof Blob||t instanceof FileList))&&(n||Pt(t)))if(e=n?[]:{},!Array.isArray(t)&&!Vz(t))e=t;else for(const r in t)e[r]=ws(t[r]);else return t;return e}var sc=t=>Array.isArray(t)?t.filter(Boolean):[],wt=t=>t===void 0,te=(t,e,n)=>{if(!e||!Pt(t))return n;const r=sc(e.split(/[,[\].]+?/)).reduce((i,s)=>fn(i)?i:i[s],t);return wt(r)||r===t?wt(t[e])?n:t[e]:r};const IS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},fr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$r={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Wr.createContext(null);var zz=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==fr.all&&(e._proxyFormState[o]=!r||fr.all),n&&(n[o]=!0),t[o]}});return i},Hn=t=>Pt(t)&&!Object.keys(t).length,Bz=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Hn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||fr.all))},Am=t=>Array.isArray(t)?t:[t];function Hz(t){const e=Wr.useRef(t);e.current=t,Wr.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var kr=t=>typeof t=="string",qz=(t,e,n,r,i)=>kr(t)?(r&&e.watch.add(t),te(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),te(n,s))):(r&&(e.watchAll=!0),n),k0=t=>/^\w*$/.test(t),tR=t=>sc(t.replace(/["|']|\]/g,"").split(/\.|\[/));function et(t,e,n){let r=-1;const i=k0(e)?[e]:tR(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=Pt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t}var Wz=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{};const jy=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=te(t,r);if(i){const{_f:s,...o}=i;if(s&&e(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else Pt(o)&&jy(o,e)}}};var kS=t=>({isOnSubmit:!t||t===fr.onSubmit,isOnBlur:t===fr.onBlur,isOnChange:t===fr.onChange,isOnAll:t===fr.all,isOnTouch:t===fr.onTouched}),bS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),Gz=(t,e,n)=>{const r=sc(te(t,n));return et(r,"root",e[n]),et(t,n,r),t},Zo=t=>typeof t=="boolean",b0=t=>t.type==="file",Oi=t=>typeof t=="function",Tf=t=>{if(!I0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},hd=t=>kr(t),R0=t=>t.type==="radio",xf=t=>t instanceof RegExp;const RS={value:!1,isValid:!1},AS={value:!0,isValid:!0};var nR=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!wt(t[0].attributes.value)?wt(t[0].value)||t[0].value===""?AS:{value:t[0].value,isValid:!0}:AS:RS}return RS};const PS={isValid:!1,value:null};var rR=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,PS):PS;function NS(t,e,n="validate"){if(hd(t)||Array.isArray(t)&&t.every(hd)||Zo(t)&&!t)return{type:n,message:hd(t)?t:"",ref:e}}var vo=t=>Pt(t)&&!xf(t)?t:{value:t,message:""},LS=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:f,pattern:h,validate:p,name:v,valueAsNumber:w,mount:y,disabled:g}=t._f,m=te(e,v);if(!y||g)return{};const _=o?o[0]:s,E=$=>{r&&_.reportValidity&&(_.setCustomValidity(Zo($)?"":$||""),_.reportValidity())},S={},x=R0(s),I=ic(s),P=x||I,R=(w||b0(s))&&wt(s.value)&&wt(m)||Tf(s)&&s.value===""||m===""||Array.isArray(m)&&!m.length,O=Wz.bind(null,v,n,S),W=($,U,le,Se=$r.maxLength,je=$r.minLength)=>{const pt=$?U:le;S[v]={type:$?Se:je,message:pt,ref:s,...O($?Se:je,pt)}};if(i?!Array.isArray(m)||!m.length:a&&(!P&&(R||fn(m))||Zo(m)&&!m||I&&!nR(o).isValid||x&&!rR(o).isValid)){const{value:$,message:U}=hd(a)?{value:!!a,message:a}:vo(a);if($&&(S[v]={type:$r.required,message:U,ref:_,...O($r.required,U)},!n))return E(U),S}if(!R&&(!fn(c)||!fn(f))){let $,U;const le=vo(f),Se=vo(c);if(!fn(m)&&!isNaN(m)){const je=s.valueAsNumber||m&&+m;fn(le.value)||($=je>le.value),fn(Se.value)||(U=je<Se.value)}else{const je=s.valueAsDate||new Date(m),pt=Y=>new Date(new Date().toDateString()+" "+Y),q=s.type=="time",oe=s.type=="week";kr(le.value)&&m&&($=q?pt(m)>pt(le.value):oe?m>le.value:je>new Date(le.value)),kr(Se.value)&&m&&(U=q?pt(m)<pt(Se.value):oe?m<Se.value:je<new Date(Se.value))}if(($||U)&&(W(!!$,le.message,Se.message,$r.max,$r.min),!n))return E(S[v].message),S}if((l||u)&&!R&&(kr(m)||i&&Array.isArray(m))){const $=vo(l),U=vo(u),le=!fn($.value)&&m.length>+$.value,Se=!fn(U.value)&&m.length<+U.value;if((le||Se)&&(W(le,$.message,U.message),!n))return E(S[v].message),S}if(h&&!R&&kr(m)){const{value:$,message:U}=vo(h);if(xf($)&&!m.match($)&&(S[v]={type:$r.pattern,message:U,ref:s,...O($r.pattern,U)},!n))return E(U),S}if(p){if(Oi(p)){const $=await p(m,e),U=NS($,_);if(U&&(S[v]={...U,...O($r.validate,U.message)},!n))return E(U.message),S}else if(Pt(p)){let $={};for(const U in p){if(!Hn($)&&!n)break;const le=NS(await p[U](m,e),_,U);le&&($={...le,...O(U,le.message)},E(le.message),n&&(S[v]=$))}if(!Hn($)&&(S[v]={ref:_,...$},!n))return S}}return E(!0),S};function Kz(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=wt(t)?r++:t[e[r++]];return t}function Qz(t){for(const e in t)if(!wt(t[e]))return!1;return!0}function Ut(t,e){const n=Array.isArray(e)?e:k0(e)?[e]:tR(e),r=n.length===1?t:Kz(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Pt(r)&&Hn(r)||Array.isArray(r)&&Qz(r))&&Ut(t,n.slice(0,-1)),t}function Pm(){let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}}var If=t=>fn(t)||!eR(t);function Rs(t,e){if(If(t)||If(e))return t===e;if(Uo(t)&&Uo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Uo(s)&&Uo(o)||Pt(s)&&Pt(o)||Array.isArray(s)&&Array.isArray(o)?!Rs(s,o):s!==o)return!1}}return!0}var iR=t=>t.type==="select-multiple",Yz=t=>R0(t)||ic(t),Nm=t=>Tf(t)&&t.isConnected,sR=t=>{for(const e in t)if(Oi(t[e]))return!0;return!1};function kf(t,e={}){const n=Array.isArray(t);if(Pt(t)||n)for(const r in t)Array.isArray(t[r])||Pt(t[r])&&!sR(t[r])?(e[r]=Array.isArray(t[r])?[]:{},kf(t[r],e[r])):fn(t[r])||(e[r]=!0);return e}function oR(t,e,n){const r=Array.isArray(t);if(Pt(t)||r)for(const i in t)Array.isArray(t[i])||Pt(t[i])&&!sR(t[i])?wt(e)||If(n[i])?n[i]=Array.isArray(t[i])?kf(t[i],[]):{...kf(t[i])}:oR(t[i],fn(e)?{}:e[i],n[i]):n[i]=!Rs(t[i],e[i]);return n}var Lm=(t,e)=>oR(t,e,kf(e)),aR=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>wt(t)?t:e?t===""?NaN:t&&+t:n&&kr(t)?new Date(t):r?r(t):t;function Om(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return b0(e)?e.files:R0(e)?rR(t.refs).value:iR(e)?[...e.selectedOptions].map(({value:n})=>n):ic(e)?nR(t.refs).value:aR(wt(e.value)?t.ref.value:e.value,t)}var Xz=(t,e,n,r)=>{const i={};for(const s of t){const o=te(e,s);o&&et(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},nl=t=>wt(t)?t:xf(t)?t.source:Pt(t)?xf(t.value)?t.value.source:t.value:t,Jz=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function OS(t,e,n){const r=te(t,n);if(r||k0(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=te(e,s),a=te(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var Zz=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,eB=(t,e)=>!sc(te(t,e)).length&&Ut(t,e);const tB={mode:fr.onSubmit,reValidateMode:fr.onChange,shouldFocusError:!0};function nB(t={},e){let n={...tB,...t},r={submitCount:0,isDirty:!1,isLoading:Oi(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=Pt(n.defaultValues)||Pt(n.values)?ws(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:ws(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Pm(),array:Pm(),state:Pm()},p=t.resetOptions&&t.resetOptions.keepDirtyValues,v=kS(n.mode),w=kS(n.reValidateMode),y=n.criteriaMode===fr.all,g=C=>k=>{clearTimeout(c),c=setTimeout(C,k)},m=async C=>{if(f.isValid||C){const k=n.resolver?Hn((await R()).errors):await W(i,!0);k!==r.isValid&&h.state.next({isValid:k})}},_=C=>f.isValidating&&h.state.next({isValidating:C}),E=(C,k=[],A,V,j=!0,b=!0)=>{if(V&&A){if(a.action=!0,b&&Array.isArray(te(i,C))){const G=A(te(i,C),V.argA,V.argB);j&&et(i,C,G)}if(b&&Array.isArray(te(r.errors,C))){const G=A(te(r.errors,C),V.argA,V.argB);j&&et(r.errors,C,G),eB(r.errors,C)}if(f.touchedFields&&b&&Array.isArray(te(r.touchedFields,C))){const G=A(te(r.touchedFields,C),V.argA,V.argB);j&&et(r.touchedFields,C,G)}f.dirtyFields&&(r.dirtyFields=Lm(s,o)),h.state.next({name:C,isDirty:U(C,k),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else et(o,C,k)},S=(C,k)=>{et(r.errors,C,k),h.state.next({errors:r.errors})},x=(C,k,A,V)=>{const j=te(i,C);if(j){const b=te(o,C,wt(A)?te(s,C):A);wt(b)||V&&V.defaultChecked||k?et(o,C,k?b:Om(j._f)):je(C,b),a.mount&&m()}},I=(C,k,A,V,j)=>{let b=!1,G=!1;const Te={name:C};if(!A||V){f.isDirty&&(G=r.isDirty,r.isDirty=Te.isDirty=U(),b=G!==Te.isDirty);const Be=Rs(te(s,C),k);G=te(r.dirtyFields,C),Be?Ut(r.dirtyFields,C):et(r.dirtyFields,C,!0),Te.dirtyFields=r.dirtyFields,b=b||f.dirtyFields&&G!==!Be}if(A){const Be=te(r.touchedFields,C);Be||(et(r.touchedFields,C,A),Te.touchedFields=r.touchedFields,b=b||f.touchedFields&&Be!==A)}return b&&j&&h.state.next(Te),b?Te:{}},P=(C,k,A,V)=>{const j=te(r.errors,C),b=f.isValid&&Zo(k)&&r.isValid!==k;if(t.delayError&&A?(u=g(()=>S(C,A)),u(t.delayError)):(clearTimeout(c),u=null,A?et(r.errors,C,A):Ut(r.errors,C)),(A?!Rs(j,A):j)||!Hn(V)||b){const G={...V,...b&&Zo(k)?{isValid:k}:{},errors:r.errors,name:C};r={...r,...G},h.state.next(G)}_(!1)},R=async C=>n.resolver(o,n.context,Xz(C||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),O=async C=>{const{errors:k}=await R();if(C)for(const A of C){const V=te(k,A);V?et(r.errors,A,V):Ut(r.errors,A)}else r.errors=k;return k},W=async(C,k,A={valid:!0})=>{for(const V in C){const j=C[V];if(j){const{_f:b,...G}=j;if(b){const Te=l.array.has(b.name),Be=await LS(j,o,y,n.shouldUseNativeValidation&&!k,Te);if(Be[b.name]&&(A.valid=!1,k))break;!k&&(te(Be,b.name)?Te?Gz(r.errors,Be,b.name):et(r.errors,b.name,Be[b.name]):Ut(r.errors,b.name))}G&&await W(G,k,A)}}return A.valid},$=()=>{for(const C of l.unMount){const k=te(i,C);k&&(k._f.refs?k._f.refs.every(A=>!Nm(A)):!Nm(k._f.ref))&&Ze(C)}l.unMount=new Set},U=(C,k)=>(C&&k&&et(o,C,k),!Rs(be(),s)),le=(C,k,A)=>qz(C,l,{...a.mount?o:wt(k)?s:kr(C)?{[C]:k}:k},A,k),Se=C=>sc(te(a.mount?o:s,C,t.shouldUnregister?te(s,C,[]):[])),je=(C,k,A={})=>{const V=te(i,C);let j=k;if(V){const b=V._f;b&&(!b.disabled&&et(o,C,aR(k,b)),j=Tf(b.ref)&&fn(k)?"":k,iR(b.ref)?[...b.ref.options].forEach(G=>G.selected=j.includes(G.value)):b.refs?ic(b.ref)?b.refs.length>1?b.refs.forEach(G=>(!G.defaultChecked||!G.disabled)&&(G.checked=Array.isArray(j)?!!j.find(Te=>Te===G.value):j===G.value)):b.refs[0]&&(b.refs[0].checked=!!j):b.refs.forEach(G=>G.checked=G.value===j):b0(b.ref)?b.ref.value="":(b.ref.value=j,b.ref.type||h.values.next({name:C,values:{...o}})))}(A.shouldDirty||A.shouldTouch)&&I(C,j,A.shouldTouch,A.shouldDirty,!0),A.shouldValidate&&Y(C)},pt=(C,k,A)=>{for(const V in k){const j=k[V],b=`${C}.${V}`,G=te(i,b);(l.array.has(C)||!If(j)||G&&!G._f)&&!Uo(j)?pt(b,j,A):je(b,j,A)}},q=(C,k,A={})=>{const V=te(i,C),j=l.array.has(C),b=ws(k);et(o,C,b),j?(h.array.next({name:C,values:{...o}}),(f.isDirty||f.dirtyFields)&&A.shouldDirty&&h.state.next({name:C,dirtyFields:Lm(s,o),isDirty:U(C,b)})):V&&!V._f&&!fn(b)?pt(C,b,A):je(C,b,A),bS(C,l)&&h.state.next({...r}),h.values.next({name:C,values:{...o}}),!a.mount&&e()},oe=async C=>{const k=C.target;let A=k.name,V=!0;const j=te(i,A),b=()=>k.type?Om(j._f):$z(C);if(j){let G,Te;const Be=b(),_i=C.type===IS.BLUR||C.type===IS.FOCUS_OUT,lp=!Jz(j._f)&&!n.resolver&&!te(r.errors,A)&&!j._f.deps||Zz(_i,te(r.touchedFields,A),r.isSubmitted,w,v),po=bS(A,l,_i);et(o,A,Be),_i?(j._f.onBlur&&j._f.onBlur(C),u&&u(0)):j._f.onChange&&j._f.onChange(C);const $a=I(A,Be,_i,!1),N=!Hn($a)||po;if(!_i&&h.values.next({name:A,type:C.type,values:{...o}}),lp)return f.isValid&&m(),N&&h.state.next({name:A,...po?{}:$a});if(!_i&&po&&h.state.next({...r}),_(!0),n.resolver){const{errors:L}=await R([A]),M=OS(r.errors,i,A),Z=OS(L,i,M.name||A);G=Z.error,A=Z.name,Te=Hn(L)}else G=(await LS(j,o,y,n.shouldUseNativeValidation))[A],V=isNaN(Be)||Be===te(o,A,Be),V&&(G?Te=!1:f.isValid&&(Te=await W(i,!0)));V&&(j._f.deps&&Y(j._f.deps),P(A,Te,G,$a))}},Y=async(C,k={})=>{let A,V;const j=Am(C);if(_(!0),n.resolver){const b=await O(wt(C)?C:j);A=Hn(b),V=C?!j.some(G=>te(b,G)):A}else C?(V=(await Promise.all(j.map(async b=>{const G=te(i,b);return await W(G&&G._f?{[b]:G}:G)}))).every(Boolean),!(!V&&!r.isValid)&&m()):V=A=await W(i);return h.state.next({...!kr(C)||f.isValid&&A!==r.isValid?{}:{name:C},...n.resolver||!C?{isValid:A}:{},errors:r.errors,isValidating:!1}),k.shouldFocus&&!V&&jy(i,b=>b&&te(r.errors,b),C?j:l.mount),V},be=C=>{const k={...s,...a.mount?o:{}};return wt(C)?k:kr(C)?te(k,C):C.map(A=>te(k,A))},ze=(C,k)=>({invalid:!!te((k||r).errors,C),isDirty:!!te((k||r).dirtyFields,C),isTouched:!!te((k||r).touchedFields,C),error:te((k||r).errors,C)}),Bn=C=>{C&&Am(C).forEach(k=>Ut(r.errors,k)),h.state.next({errors:C?r.errors:{}})},Ge=(C,k,A)=>{const V=(te(i,C,{_f:{}})._f||{}).ref;et(r.errors,C,{...k,ref:V}),h.state.next({name:C,errors:r.errors,isValid:!1}),A&&A.shouldFocus&&V&&V.focus&&V.focus()},nr=(C,k)=>Oi(C)?h.values.subscribe({next:A=>C(le(void 0,k),A)}):le(C,k,!0),Ze=(C,k={})=>{for(const A of C?Am(C):l.mount)l.mount.delete(A),l.array.delete(A),k.keepValue||(Ut(i,A),Ut(o,A)),!k.keepError&&Ut(r.errors,A),!k.keepDirty&&Ut(r.dirtyFields,A),!k.keepTouched&&Ut(r.touchedFields,A),!n.shouldUnregister&&!k.keepDefaultValue&&Ut(s,A);h.values.next({values:{...o}}),h.state.next({...r,...k.keepDirty?{isDirty:U()}:{}}),!k.keepIsValid&&m()},mt=(C,k={})=>{let A=te(i,C);const V=Zo(k.disabled);return et(i,C,{...A||{},_f:{...A&&A._f?A._f:{ref:{name:C}},name:C,mount:!0,...k}}),l.mount.add(C),A?V&&et(o,C,k.disabled?void 0:te(o,C,Om(A._f))):x(C,!0,k.value),{...V?{disabled:k.disabled}:{},...n.shouldUseNativeValidation?{required:!!k.required,min:nl(k.min),max:nl(k.max),minLength:nl(k.minLength),maxLength:nl(k.maxLength),pattern:nl(k.pattern)}:{},name:C,onChange:oe,onBlur:oe,ref:j=>{if(j){mt(C,k),A=te(i,C);const b=wt(j.value)&&j.querySelectorAll&&j.querySelectorAll("input,select,textarea")[0]||j,G=Yz(b),Te=A._f.refs||[];if(G?Te.find(Be=>Be===b):b===A._f.ref)return;et(i,C,{_f:{...A._f,...G?{refs:[...Te.filter(Nm),b,...Array.isArray(te(s,C))?[{}]:[]],ref:{type:b.type,name:C}}:{ref:b}}}),x(C,!1,void 0,b)}else A=te(i,C,{}),A._f&&(A._f.mount=!1),(n.shouldUnregister||k.shouldUnregister)&&!(Fz(l.array,C)&&a.action)&&l.unMount.add(C)}}},vi=()=>n.shouldFocusError&&jy(i,C=>C&&te(r.errors,C),l.mount),wi=(C,k)=>async A=>{A&&(A.preventDefault&&A.preventDefault(),A.persist&&A.persist());let V=ws(o);if(h.state.next({isSubmitting:!0}),n.resolver){const{errors:j,values:b}=await R();r.errors=j,V=b}else await W(i);Ut(r.errors,"root"),Hn(r.errors)?(h.state.next({errors:{}}),await C(V,A)):(k&&await k({...r.errors},A),vi(),setTimeout(vi)),h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Hn(r.errors),submitCount:r.submitCount+1,errors:r.errors})},B=(C,k={})=>{te(i,C)&&(wt(k.defaultValue)?q(C,te(s,C)):(q(C,k.defaultValue),et(s,C,k.defaultValue)),k.keepTouched||Ut(r.touchedFields,C),k.keepDirty||(Ut(r.dirtyFields,C),r.isDirty=k.defaultValue?U(C,te(s,C)):U()),k.keepError||(Ut(r.errors,C),f.isValid&&m()),h.state.next({...r}))},K=(C,k={})=>{const A=C||s,V=ws(A),j=C&&!Hn(C)?V:s;if(k.keepDefaultValues||(s=A),!k.keepValues){if(k.keepDirtyValues||p)for(const b of l.mount)te(r.dirtyFields,b)?et(j,b,te(o,b)):q(b,te(j,b));else{if(I0&&wt(C))for(const b of l.mount){const G=te(i,b);if(G&&G._f){const Te=Array.isArray(G._f.refs)?G._f.refs[0]:G._f.ref;if(Tf(Te)){const Be=Te.closest("form");if(Be){Be.reset();break}}}}i={}}o=t.shouldUnregister?k.keepDefaultValues?ws(s):{}:V,h.array.next({values:{...j}}),h.values.next({values:{...j}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!f.isValid||!!k.keepIsValid,a.watch=!!t.shouldUnregister,h.state.next({submitCount:k.keepSubmitCount?r.submitCount:0,isDirty:k.keepDirty?r.isDirty:!!(k.keepDefaultValues&&!Rs(C,s)),isSubmitted:k.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:k.keepDirtyValues?r.dirtyFields:k.keepDefaultValues&&C?Lm(s,C):{},touchedFields:k.keepTouched?r.touchedFields:{},errors:k.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},we=(C,k)=>K(Oi(C)?C(o):C,k);return{control:{register:mt,unregister:Ze,getFieldState:ze,_executeSchema:R,_getWatch:le,_getDirty:U,_updateValid:m,_removeUnmounted:$,_updateFieldArray:E,_getFieldArray:Se,_reset:K,_resetDefaultValues:()=>Oi(n.defaultValues)&&n.defaultValues().then(C=>{we(C,n.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:C=>{r={...r,...C}},_subjects:h,_proxyFormState:f,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(C){a=C},get _defaultValues(){return s},get _names(){return l},set _names(C){l=C},get _formState(){return r},set _formState(C){r=C},get _options(){return n},set _options(C){n={...n,...C}}},trigger:Y,register:mt,handleSubmit:wi,watch:nr,setValue:q,getValues:be,reset:we,resetField:B,clearErrors:Bn,unregister:Ze,setError:Ge,setFocus:(C,k={})=>{const A=te(i,C),V=A&&A._f;if(V){const j=V.refs?V.refs[0]:V.ref;j.focus&&(j.focus(),k.shouldSelect&&j.select())}},getFieldState:ze}}function A0(t={}){const e=Wr.useRef(),[n,r]=Wr.useState({isDirty:!1,isValidating:!1,isLoading:Oi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Oi(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...nB(t,()=>r(s=>({...s}))),formState:n});const i=e.current.control;return i._options=t,Hz({subject:i._subjects.state,next:s=>{Bz(s,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),Wr.useEffect(()=>{t.values&&!Rs(t.values,i._defaultValues)?i._reset(t.values,i._options.resetOptions):i._resetDefaultValues()},[t.values,i]),Wr.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=zz(n,i),e.current}function lR(t){return d.jsxs(ke,{stroke:"none",...t,children:[d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.64 12.2045C20.64 11.5664 20.5827 10.9527 20.4764 10.3636H12V13.845H16.8436C16.635 14.97 16.0009 15.9232 15.0477 16.5614V18.8195H17.9564C19.6582 17.2527 20.64 14.9454 20.64 12.2045Z",fill:"#4285F4"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 21C14.43 21 16.4673 20.1941 17.9564 18.8196L15.0477 16.5614C14.2418 17.1014 13.2109 17.4205 12 17.4205C9.65591 17.4205 7.67182 15.8373 6.96409 13.71H3.95728V16.0418C5.43818 18.9832 8.48182 21 12 21Z",fill:"#34A853"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.96409 13.71C6.78409 13.17 6.68182 12.5932 6.68182 12C6.68182 11.4068 6.78409 10.83 6.96409 10.29V7.95818H3.95727C3.34773 9.17318 3 10.5477 3 12C3 13.4523 3.34773 14.8268 3.95727 16.0418L6.96409 13.71Z",fill:"#FBBC05"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6.57955C13.3214 6.57955 14.5077 7.03364 15.4405 7.92545L18.0218 5.34409C16.4632 3.89182 14.4259 3 12 3C8.48182 3 5.43818 5.01682 3.95728 7.95818L6.96409 10.29C7.67182 8.16273 9.65591 6.57955 12 6.57955Z",fill:"#EA4335"})]})}function uR(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}const rB="_Backdrop_1yd3e_46",iB="_show_1yd3e_61",sB="_disabled_1yd3e_66",Dm={Backdrop:rB,"hide-blackout":"_hide-blackout_1yd3e_1",show:iB,"show-blackout":"_show-blackout_1yd3e_1",disabled:sB},P0=T.forwardRef(({className:t,disabled:e,show:n,opacity:r,...i},s)=>{const o=T.useRef(null);T.useEffect(()=>{var l;o&&r&&((l=o.current)==null||l.style.setProperty("--backdrop-opacity",`${r}%`))},[o]);const a=[e&&Dm.disabled,n&&Dm.show];return d.jsx("button",{type:"button",className:J.join(Dm.Backdrop,t,a),ref:uR([s,o]),...i})});P0.displayName="Backdrop";const oB="_LoaderLine_92256_1",aB="_background_92256_10",lB="_normal_92256_13",uB="_animation_92256_13",cB="_loader_92256_1",dB="_inversion_92256_22",rl={LoaderLine:oB,background:aB,normal:lB,animation:uB,loader:cB,inversion:dB},cR=T.forwardRef(({isInversion:t,className:e,...n},r)=>{const i=[t?rl.inversion:rl.normal];return d.jsxs("div",{className:J.join(rl.LoaderLine,e,i),ref:r,...n,children:[d.jsx("div",{className:rl.background}),d.jsx("div",{className:rl.animation})]})});cR.displayName="LoaderLine";function N0({children:t,className:e="root-portal",elementType:n="div"}){const r=T.useRef(document.createElement(n)),{current:i}=r;return T.useEffect(()=>(i.classList.add(e),document.body.appendChild(r.current),()=>{document.body.removeChild(i)}),[]),wN.createPortal(t,i)}const fB="_LoaderOverlay_1d96m_1",hB={LoaderOverlay:fB};function ja(){return d.jsx(N0,{children:d.jsxs(ie,{className:J.join(hB.LoaderOverlay),children:[d.jsx(P0,{show:!0}),d.jsx(cR,{})]})})}const sp=T.forwardRef(({children:t,className:e,...n},r)=>d.jsx("form",{className:e,ref:r,...n,children:t}));sp.displayName="Form";const pB="_inputContainer_5k7mp_1",mB="_input_5k7mp_1",DS={inputContainer:pB,input:mB},gB="_container_zpng5_1",yB="_inputBlockContainer_zpng5_8",vB="_input_zpng5_8",wB="_error_zpng5_24",$e={container:gB,inputBlockContainer:yB,input:vB,error:wB},_B=T.forwardRef(({register:t=null,errors:e,onLabelClick:n,label:r,children:i,className:s,...o},a)=>{var c;const l=f=>{n&&n(f)},u=e?(c=e[t==null?void 0:t.name])==null?void 0:c.message:"";return d.jsxs("div",{className:$e.container,children:[i&&d.jsx(H,{component:"h3",children:i}),d.jsxs("div",{className:$e.inputBlockContainer,children:[d.jsxs("label",{className:DS.inputContainer,children:[d.jsx("input",{type:"checkbox",className:J.join(DS.input,s),ref:a,...t,...o}),d.jsx(H,{component:"p1",onClick:l,children:r})]}),t&&d.jsx(H,{component:"p2",className:J.join($e.error),children:typeof u=="string"&&u})]})]})});_B.displayName="Checkbox";function EB(t){return d.jsx(ke,{fill:"none",...t,children:d.jsx("path",{d:"M6 9L12 15L18 9",strokeLinecap:"round",strokeLinejoin:"round"})})}const SB="_inputContainer_izcmr_1",CB="_icon_izcmr_5",TB="_input_izcmr_1",jm={inputContainer:SB,icon:CB,input:TB},dR=T.forwardRef(({options:t,register:e,errors:n,selected:r,blank:i,onDropdownChange:s,children:o,className:a,...l},u)=>{var v;const[c,f]=T.useState(r),h=w=>{f(w.target.value),s&&s(w.target.value)},p=n?(v=n[e==null?void 0:e.name])==null?void 0:v.message:"";return d.jsxs("div",{className:$e.container,children:[d.jsx(H,{component:"h5",children:o}),d.jsxs("div",{className:$e.inputBlockContainer,children:[d.jsxs("label",{className:jm.inputContainer,children:[d.jsxs("select",{className:J.join(jm.input,$e.input,tn.input,a),value:c,onChange:h,ref:u,...e,...l,children:[i&&d.jsx("option",{children:" "}),t.map(w=>d.jsx("option",{value:w,children:w},w))]}),d.jsx(bt,{size:"custom",style:{width:20,height:20},className:jm.icon,onClick:()=>null,children:d.jsx(EB,{size:"custom",style:{width:20,height:20}})})]}),e&&d.jsx(H,{component:"p2",className:J.join($e.error),children:typeof p=="string"&&p})]})]})});dR.displayName="Dropdown";const L0=T.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>{var a;const o=e?(a=e[t==null?void 0:t.name])==null?void 0:a.message:"";return d.jsxs("div",{className:$e.container,children:[d.jsx(H,{component:"h5",children:r}),d.jsxs("div",{className:$e.inputBlockContainer,children:[d.jsx("label",{children:d.jsx("input",{type:"email",className:J.join($e.input,tn.input),placeholder:n,ref:s,...t,...i})}),t&&d.jsx(H,{component:"p2",className:J.join($e.error),children:typeof o=="string"&&o})]})]})});L0.displayName="EmailInput";function xB(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("path",{d:"M23 19C23 19.5304 22.7893 20.0391 22.4142 20.4142C22.0391 20.7893 21.5304 21 21 21H3C2.46957 21 1.96086 20.7893 1.58579 20.4142C1.21071 20.0391 1 19.5304 1 19V8C1 7.46957 1.21071 6.96086 1.58579 6.58579C1.96086 6.21071 2.46957 6 3 6H7L9 3H15L17 6H21C21.5304 6 22.0391 6.21071 22.4142 6.58579C22.7893 6.96086 23 7.46957 23 8V19Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 17C14.2091 17 16 15.2091 16 13C16 10.7909 14.2091 9 12 9C9.79086 9 8 10.7909 8 13C8 15.2091 9.79086 17 12 17Z",strokeLinecap:"round",strokeLinejoin:"round"})]})}const IB="_FileImgUpload_142ig_1",kB="_container_142ig_7",bB="_input_142ig_14",RB="_imgPreview_142ig_18",Mm={FileImgUpload:IB,container:kB,input:bB,imgPreview:RB},fR=T.forwardRef(({register:t,errors:e,watch:n,accept:r,label:i,defaultImg:s="",children:o,className:a,...l},u)=>{var y;const[c,f]=T.useState(s),h=n?n(t?t.name:null):null,p=g=>{if(g&&g.length>0)if(typeof g=="string")f(g);else{const m=URL.createObjectURL(g[0]);f(m)}};T.useEffect(()=>{n&&h&&p(h)},[h]);const v=g=>{!n&&s&&p(g.target.files)},w=e?(y=e[t==null?void 0:t.name])==null?void 0:y.message:"";return d.jsxs("div",{className:J.join(Mm.FileImgUpload,$e.container),children:[d.jsx(H,{component:"h5",children:o}),d.jsxs("div",{className:$e.inputBlockContainer,children:[d.jsxs("label",{className:J.join(Mm.container,tn.input),children:[d.jsx("input",{type:"file",accept:r||"",className:J.join(Mm.input,a),ref:u,onChange:v,...t,...l}),c?d.jsx(wa,{src:c,alt:c}):d.jsx(wa,{children:d.jsx(xB,{})}),i]}),t&&d.jsx(H,{component:"p2",className:J.join($e.error),children:typeof w=="string"&&w})]})]})});fR.displayName="FileImgUpload";const AB="_input_1wgeu_1",PB={input:AB},NB=T.forwardRef(({children:t,className:e,...n},r)=>d.jsx("div",{children:d.jsxs("label",{htmlFor:"file",children:[t,d.jsx("input",{type:"file",className:J.join(PB.input,e),id:"file",ref:r,...n})]})}));NB.displayName="FileUpload";function LB(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("path",{d:"M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",strokeLinecap:"round",strokeLinejoin:"round"})]})}function OB(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsxs("g",{clipPath:"url(#clip0_2015_815)",children:[d.jsx("path",{d:"M17.94 17.94C16.2306 19.243 14.1491 19.9649 12 20C5 20 1 12 1 12C2.24389 9.68189 3.96914 7.6566 6.06 6.05999M9.9 4.23999C10.5883 4.07887 11.2931 3.99833 12 3.99999C19 3.99999 23 12 23 12C22.393 13.1356 21.6691 14.2047 20.84 15.19M14.12 14.12C13.8454 14.4147 13.5141 14.6511 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1752 15.0074 10.8016 14.8565C10.4281 14.7056 10.0887 14.481 9.80385 14.1961C9.51897 13.9113 9.29439 13.5719 9.14351 13.1984C8.99262 12.8248 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2218 9.18488 10.8538C9.34884 10.4858 9.58525 10.1546 9.88 9.87999",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M1 1L23 23",strokeLinecap:"round",strokeLinejoin:"round"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2015_815",children:d.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}const DB="_inputContainer_nkmmv_1",jB="_input_nkmmv_1",MB="_icon_nkmmv_9",As={inputContainer:DB,input:jB,icon:MB},bf=T.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>{var f;const[o,a]=T.useState(!1),l=h=>{h.stopPropagation(),a(p=>!p)},u=o?"text":"password",c=e?(f=e[t==null?void 0:t.name])==null?void 0:f.message:"";return d.jsxs("div",{className:$e.container,children:[d.jsx(H,{component:"h5",children:r}),d.jsxs("div",{className:$e.inputBlockContainer,children:[d.jsxs("label",{className:As.inputContainer,children:[d.jsx("input",{type:u,className:J.join($e.input,As.input,tn.input),placeholder:n,ref:s,...t,...i}),d.jsx(bt,{size:"custom",style:{width:20,height:20},className:As.icon,onClick:l,children:o?d.jsx(LB,{size:"custom",style:{width:20,height:20}}):d.jsx(OB,{size:"custom",style:{width:20,height:20}})})]}),t&&d.jsx(H,{component:"p2",className:J.join($e.error),children:typeof c=="string"&&c})]})]})});bf.displayName="PasswordInput";const My=T.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>{var a;const o=e?(a=e[t==null?void 0:t.name])==null?void 0:a.message:"";return d.jsxs("div",{className:$e.container,children:[d.jsx(H,{component:"h5",children:r}),d.jsxs("div",{className:$e.inputBlockContainer,children:[d.jsx("label",{children:d.jsx("input",{type:"text",className:J.join($e.input,tn.input),placeholder:n,ref:s,...t,...i})}),t&&(t==null?void 0:t.name)&&d.jsx(H,{component:"p2",className:J.join($e.error),children:typeof o=="string"&&o})]})]})});My.displayName="TextInput";const $B="_element_1akzf_1",UB="_elementsContainer_1akzf_9",FB="_input_1akzf_15",$m={element:$B,elementsContainer:UB,input:FB},hR=T.forwardRef(({register:t,errors:e,labels:n,children:r,...i},s)=>{var a;const o=e?(a=e[t==null?void 0:t.name])==null?void 0:a.message:"";return d.jsxs("div",{className:$e.container,children:[d.jsx(H,{component:"h5",children:r}),d.jsxs("div",{className:$e.inputBlockContainer,children:[d.jsx("div",{className:$m.elementsContainer,children:n.map(l=>d.jsxs("label",{className:$m.element,children:[d.jsx("input",{type:"radio",className:J.join($m.input,tn.input),value:l.toString(),ref:s,...t,...i}),d.jsx(H,{component:"p1",children:l})]},l))}),t&&d.jsx(H,{component:"p2",className:J.join($e.error),children:typeof o=="string"&&o})]})]})});hR.displayName="RadioButton";const VB="_content_ol8b2_18",zB="_titleContainer_ol8b2_22",BB="_success_ol8b2_22",HB="_info_ol8b2_27",qB="_error_ol8b2_32",WB="_warn_ol8b2_37",GB="_Modal_ol8b2_70",KB="_buttons_ol8b2_107",QB="_medium_ol8b2_111",YB="_large_ol8b2_122",XB="_title_ol8b2_22",JB="_body_ol8b2_155",Ur={content:VB,titleContainer:zB,success:BB,info:HB,error:qB,warn:WB,Modal:GB,"hide-modal":"_hide-modal_ol8b2_1",buttons:KB,medium:QB,large:YB,"show-modal":"_show-modal_ol8b2_1",title:XB,body:JB},ho=T.forwardRef(({type:t,title:e,noTitle:n,mainButton:r={text:"Ок"},secondButton:i,backdrop:s,onClose:o,noButtons:a=!1,size:l="flex",children:u,className:c,...f},h)=>{const[p,v]=T.useState("show"),w=i&&!J.isObjectEmpty(i),y=()=>{v("")},g=()=>{p!=="show"&&(y(),document.body.style.overflow="visible",o&&o())},m=()=>{s!=null&&s.onClick&&s.onClick(),y()},_=()=>{r!=null&&r.onClick&&r.onClick(),r!=null&&r.form||y()},E=()=>{i!=null&&i.onClick&&i.onClick(),i!=null&&i.form||y()},S=t?Ur[t]:null,x=e||t==="alert"&&"Повідомлення!"||t==="info"&&"Інформація!"||t==="success"&&"Успіх!"||t==="error"&&"Помилка"||t==="warn"&&"Попередження!";T.useEffect(()=>{document.body.style.overflow="hidden"},[]);const I=l==="medium"&&Ur.medium||l==="large"&&Ur.large;return d.jsx(N0,{children:d.jsxs("div",{className:J.join(Ur.Modal,c,p),onAnimationEnd:g,ref:h,...f,children:[d.jsx(P0,{onClick:m,disabled:s==null?void 0:s.disabled,show:p==="show"}),d.jsxs("div",{className:J.join(I,Ur.content),children:[d.jsx("div",{className:t&&J.join(Ur.titleContainer,S,t),children:d.jsx(H,{component:"h4",className:Ur.title,children:!n&&x})}),d.jsx("div",{className:Ur.body,children:u}),!a&&d.jsxs("div",{className:Ur.buttons,children:[w&&d.jsxs(st,{size:i==null?void 0:i.size,type:(i==null?void 0:i.type)||"secondary",onClick:()=>E(),submit:i==null?void 0:i.isSubmit,disabled:i==null?void 0:i.disabled,children:[(i==null?void 0:i.iconPosition)==="left"&&(i==null?void 0:i.icon),!(i!=null&&i.icon)&&(i!=null&&i.icon?"Відміна":i==null?void 0:i.text),!(i!=null&&i.text)&&(i==null?void 0:i.icon)&&(i==null?void 0:i.icon),(i==null?void 0:i.iconPosition)==="left"&&(i==null?void 0:i.icon)]}),d.jsxs(st,{size:r==null?void 0:r.size,type:(r==null?void 0:r.type)||"primary",onClick:()=>_(),submit:r==null?void 0:r.isSubmit,disabled:r==null?void 0:r.disabled,children:[(r==null?void 0:r.iconPosition)==="left"&&(r==null?void 0:r.icon),!(r!=null&&r.icon)&&(r!=null&&r.icon?"Ок":r==null?void 0:r.text),!(r!=null&&r.text)&&(r==null?void 0:r.icon)&&(r==null?void 0:r.icon),(r==null?void 0:r.iconPosition)==="right"&&(r==null?void 0:r.icon)]})]})]})]})})});ho.displayName="Modal";function ZB({onClose:t,error:e}){return d.jsx(ho,{onClose:t,type:"error",size:"medium",title:"Невірні дані!",children:d.jsxs(d.Fragment,{children:[d.jsx(H,{component:"p1",className:"center",children:"Помилка при вході!"}),d.jsx(H,{component:"caption",className:"center",children:e})]})})}function eH({onClose:t}){return d.jsx(ho,{onClose:t,type:"success",size:"medium",title:"Вітаю!",children:d.jsx(H,{component:"p1",className:"center",children:"Ви успішно увійшли на сайт!"})})}const tH="_container_wf24k_1",nH="_form_wf24k_9",rH="_main_wf24k_17",iH="_additional_wf24k_23",sH="_center_wf24k_29",il={container:tH,form:nH,main:rH,additional:iH,center:sH};function oH(){const{isFillProfile:t}=Dr(),e=zn(),n=un(),{error:r,isLoading:i,fetchedUserData:s}=ut(y=>y.userReducer),{actions:o}=rc,{register:a,handleSubmit:l,formState:{errors:u}}=A0({mode:"onSubmit",defaultValues:{email:"",password:""}}),c=Bs(u),f={email:a("email",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/i,message:"Невірно введена адреса електронної пошти!"}}),password:a("password",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[a-zA-Z0-9]+$/,message:"Використовуйте тільки латинські літери та цифри!"},minLength:{value:8,message:"Мінімальна довжина пароля 8 символів"},maxLength:{value:16,message:"Максимальна довжина пароля 16 символів"}})},h=async({email:y,password:g})=>{n(dd({email:y,password:g}))},p=()=>{n(Ul())},v=()=>{n(o.setUserDataFromFetched()),e(t?Ln.users:Ln.user)},w=()=>{n(o.resetError())};return d.jsxs(x0,{children:[d.jsxs(nt,{container:!0,className:il.container,children:[d.jsx(H,{component:"h4",children:"Вхід"}),d.jsxs(sp,{className:il.form,onSubmit:l(h),children:[d.jsxs(ie,{className:il.main,children:[d.jsx(L0,{register:f.email,errors:u,children:"Адреса електронної пошти*:"}),d.jsx(bf,{register:f.password,errors:u,children:"Пароль*:"}),d.jsx(st,{submit:!0,disabled:!c,children:"Увійти"})]}),d.jsx(H,{component:"p2",className:il.center,children:"або"}),d.jsxs(ie,{className:il.additional,children:[d.jsxs(st,{type:"secondary",onClick:p,children:[d.jsx(lR,{}),"Увійти через Google"]}),d.jsxs(H,{component:"p2",children:["Немає акаунту?"," ",d.jsx(ph,{to:St.signup,children:d.jsx(zs,{display:"p2",children:"Створити"})})]})]})]}),i&&d.jsx(ja,{})]}),s&&!i?d.jsx(eH,{onClose:v}):null,r&&!i&&d.jsx(ZB,{onClose:w,error:r})]})}function aH({onClose:t,error:e}){return d.jsx(ho,{onClose:t,type:"error",size:"medium",title:"Невірні дані!",children:d.jsxs(d.Fragment,{children:[d.jsx(H,{component:"p1",className:"center",children:"Виникла помилка при реєстрації."}),d.jsx(H,{component:"p1",className:"center",children:"Можливо такий користувач вже існує!"}),d.jsx(H,{component:"caption",className:"center",children:e})]})})}function lH({onClose:t}){return d.jsx(ho,{onClose:t,type:"success",size:"medium",title:"Вітаю!",children:d.jsx(H,{component:"p1",className:"center",children:"Ви успішно зареєструвалися на сайті! Лишився ще один крок😉"})})}const uH="_container_wf24k_1",cH="_form_wf24k_9",dH="_main_wf24k_17",fH="_additional_wf24k_23",hH="_center_wf24k_29",sl={container:uH,form:cH,main:dH,additional:fH,center:hH};function pH(){const{isFillProfile:t}=Dr(),e=zn(),n=un(),{error:r,isLoading:i,fetchedUserData:s}=ut(E=>E.userReducer),{actions:o}=rc,{register:a,handleSubmit:l,reset:u,resetField:c,watch:f,formState:{errors:h}}=A0({mode:"onSubmit",defaultValues:{email:"",password:"",confirmPassword:""}}),p=Bs(h),v={email:a("email",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/i,message:"Невірно введена адреса електронної пошти!"}}),password:a("password",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[a-zA-Z0-9]+$/,message:"Використовуйте тільки латинські літери та цифри!"},minLength:{value:8,message:"Мінімальна довжина пароля 8 символів"},maxLength:{value:16,message:"Максимальна довжина пароля 16 символів"}}),confirmPassword:a("confirmPassword",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[a-zA-Z0-9]+$/,message:"Використовуйте тільки латинські літери та цифри!"},minLength:{value:8,message:"Мінімальна довжина пароля 8 символів"},maxLength:{value:16,message:"Максимальна довжина пароля 16 символів"},validate:E=>f("password")===E||"Паролі не збігаються!"})},w=async({email:E,password:S})=>{n(ld({email:E,password:S}))},y=()=>{c("confirmPassword")},g=()=>{n(Ul())},m=()=>{n(o.setUserDataFromFetched()),u(),e(t?Ln.users:Ln.user)},_=()=>{n(o.resetError())};return d.jsxs(x0,{children:[d.jsxs(nt,{container:!0,className:sl.container,children:[d.jsx(H,{component:"h4",children:"Реєстрація"}),d.jsxs(sp,{className:sl.form,onSubmit:l(w),children:[d.jsxs(ie,{className:sl.main,children:[d.jsx(L0,{register:v.email,errors:h,children:"Адреса електронної пошти*:"}),d.jsx(bf,{register:v.password,errors:h,onChange:y,children:"Пароль*:"}),d.jsx(bf,{register:v.confirmPassword,errors:h,children:"Підтвердження паролю*:"}),d.jsx(st,{submit:!0,disabled:!p,children:"Створити"})]}),d.jsx(H,{component:"p2",className:sl.center,children:"або"}),d.jsxs(ie,{className:sl.additional,children:[d.jsxs(st,{type:"secondary",onClick:g,children:[d.jsx(lR,{}),"Увійти через Google"]}),d.jsxs(H,{component:"p2",children:["Вже є акаунт?"," ",d.jsx(ph,{className:"link",to:St.login,children:d.jsx(zs,{display:"p2",children:"Увійти"})})]})]})]}),i&&d.jsx(ja,{})]}),s&&!i&&d.jsx(lH,{onClose:m}),r&&!i&&d.jsx(aH,{onClose:_,error:r})]})}const mH={christian:`
	Авва Отче Святий — ми в руці Твоїй
	Ангели в небі Господа славлять
	Бог Ти цар мого життя
	Боже Єдиний нашу країну тримай
	Всесильний Нездоланний
	Господи — Ти надія у житті
	Минає час минають дні
	Схилимо коліна
	Я за тебе молюсь Україно
	Як сум і муку мою душу огорне
`,others:`
	always
	ain't it fun
`},gH="christian",jS=mH[gH].trim().split(`
`).map(t=>t.trim()),yH={normalOrderAudioFilesList:jS,audioTracksList:jS,isPlaying:!1,isPlayerShow:!1,lastOpenedTrack:null,currentTrack:null,currentTrackIndex:0,currentTrackDuration:0,currentTrackTimeProgress:0},Ma=Ia({name:"musicPlayer",initialState:yH,reducers:{setNormalAudioTracksList(t){t.audioTracksList=t.normalOrderAudioFilesList},setShuffleAudioTracksList(t){t.audioTracksList=J.shuffleArray(t.audioTracksList)},setIsPlaying(t,e){t.isPlaying=e.payload,t.isPlaying?t.currentTrack=t.audioTracksList[t.currentTrackIndex]:t.lastOpenedTrack=t.currentTrack},toggleIsPlaying(t){t.isPlaying=!t.isPlaying,t.isPlaying?t.currentTrack=t.audioTracksList[t.currentTrackIndex]:t.lastOpenedTrack=t.currentTrack},showPlayer(t){t.isPlayerShow=!0},hidePlayer(t){t.isPlayerShow=!1},setCurrentTrack(t,e){t.currentTrack=e.payload},setCurrentTrackIndex(t,e){t.currentTrackIndex=e.payload},setCurrentTrackDuration(t,e){t.currentTrackDuration=e.payload},setCurrentTrackTimeProgress(t,e){t.currentTrackTimeProgress=e.payload},prevTrack(t){if(t.currentTrackIndex===0){const e=t.audioTracksList.length-1;t.currentTrackIndex=e,t.currentTrack=t.audioTracksList[e]}else{const e=t.currentTrackIndex-1;t.currentTrackIndex=e,t.currentTrack=t.audioTracksList[e]}},nextTrack(t){if(t.currentTrackIndex>=t.audioTracksList.length-1)t.currentTrackIndex=0,[t.currentTrack]=t.audioTracksList;else{const e=t.currentTrackIndex+1;t.currentTrackIndex=e,t.currentTrack=t.audioTracksList[e]}}}});function vH(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("path",{d:"M11 17L6 12L11 7",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M18 17L13 12L18 7",strokeLinecap:"round",strokeLinejoin:"round"})]})}function wH(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("path",{d:"M13 17L18 12L13 7",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M6 17L11 12L6 7",strokeLinecap:"round",strokeLinejoin:"round"})]})}function pR(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),d.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]})}function mR(t){return d.jsx(ke,{fill:"none",...t,children:d.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})}function _H(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("polygon",{points:"19 20 9 12 19 4 19 20"}),d.jsx("line",{x1:"5",y1:"19",x2:"5",y2:"5"})]})}function EH(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("polygon",{points:"5 4 15 12 5 20 5 4"}),d.jsx("line",{x1:"19",y1:"5",x2:"19",y2:"19"})]})}const SH="_Controls_1ma96_1",CH="_playIcon_1ma96_8",MS={Controls:SH,playIcon:CH};function TH({timeProgress:t,setTimeProgress:e,audioRef:n,progressBarRef:r}){const i=T.useRef(),{isPlaying:s,currentTrackDuration:o,currentTrackTimeProgress:a}=ut(y=>y.musicPlayerReducer),l=un(),{actions:u}=Ma,c=T.useCallback(()=>{if(n.current&&r.current){const{currentTime:y}=n.current;e(y);const g=r.current;g.value=y.toString(),g.style.setProperty("--progress-bar--range-progress",`${Number(g.value)/o*100}%`),s&&(i.current=requestAnimationFrame(c))}},[n,o,s,r,e]);T.useEffect(()=>{n.current&&(s?n.current.play():n.current.pause()),i.current=requestAnimationFrame(c)},[s,n,c]);const f=()=>{l(u.toggleIsPlaying()),s||e(a)},h=()=>{if(n.current){const y=n.current;y.currentTime+=10}},p=()=>{if(n.current){const y=n.current;y.currentTime-=10}},v=()=>{if(t>=1){if(e(0),n.current){const y=n.current;y.currentTime=0}}else l(u.prevTrack())},w=()=>{l(u.nextTrack())};return d.jsxs(ie,{className:MS.Controls,children:[d.jsx(st,{type:"text",onClick:v,children:d.jsx(_H,{})}),d.jsx(st,{type:"text",onClick:p,children:d.jsx(vH,{})}),d.jsx(st,{type:"secondary",onClick:f,children:s?d.jsx(pR,{}):d.jsx(mR,{className:MS.playIcon})}),d.jsx(st,{type:"text",onClick:h,children:d.jsx(wH,{})}),d.jsx(st,{type:"text",onClick:w,children:d.jsx(EH,{})})]})}const xH={},gR=T.forwardRef(({className:t,...e},n)=>d.jsx("audio",{className:J.join(xH.AudioPlayer,t),ref:n,...e,children:d.jsx("track",{kind:"captions"})}));gR.displayName="AudioPlayer";const IH="_DisplayTrack_1d8z7_1",kH={DisplayTrack:IH};function bH({timeProgress:t,audioRef:e,progressBarRef:n}){const{currentTrack:r}=ut(u=>u.musicPlayerReducer),{actions:i}=Ma,s=un(),o=()=>{if(e.current&&n.current){const u=e.current,c=Math.trunc(u.duration);s(i.setCurrentTrackDuration(c));const f=n.current;f.max=c.toString()}},a=()=>{s(i.nextTrack())},l=()=>{s(i.hidePlayer()),s(i.setIsPlaying(!1)),s(i.setCurrentTrackTimeProgress(t))};return d.jsxs(ie,{className:kH.DisplayTrack,children:[d.jsx(gR,{src:`/mp3/${r}.mp3`,ref:e,onLoadedMetadata:o,onEnded:a}),d.jsx(H,{component:"h6",children:r}),d.jsx(bt,{onClick:l,children:d.jsx(nc,{size:"small"})})]})}const RH="_ProgressBar_8spjb_1",AH="_timeProgress_8spjb_8",PH="_duration_8spjb_9",NH="_range_8spjb_22",Dc={ProgressBar:RH,timeProgress:AH,duration:PH,range:NH};function LH({timeProgress:t,audioRef:e,progressBarRef:n}){const{currentTrackDuration:r}=ut(l=>l.musicPlayerReducer),{actions:i}=Ma,s=un(),o=()=>{if(e.current&&n.current){const l=e.current;l.currentTime=Number(n.current.value)}},a=()=>{e.current&&n.current&&s(i.setCurrentTrackTimeProgress(Number(n.current.value)))};return d.jsxs(ie,{className:Dc.ProgressBar,children:[d.jsx(H,{component:"p2",className:Dc.timeProgress,children:T_(t)}),d.jsx("input",{type:"range",className:Dc.range,onChange:o,onMouseUp:a,defaultValue:"0",ref:n}),d.jsx(H,{component:"p2",className:Dc.duration,children:T_(r)})]})}const OH="_MusicPlayer_183yq_46",$S={MusicPlayer:OH,"show-player":"_show-player_183yq_1"};function DH(){const{audioTracksList:t,lastOpenedTrack:e,currentTrack:n,isPlaying:r,isPlayerShow:i,currentTrackIndex:s,currentTrackTimeProgress:o}=ut(v=>v.musicPlayerReducer),a=un(),{actions:l}=Ma,u=i&&$S.show,[c,f]=T.useState(e===n?o:0);T.useEffect(()=>{r||a(l.setCurrentTrackTimeProgress(c))},[r]);const h=T.useRef(null),p=T.useRef(null);return T.useEffect(()=>{if(a(l.setCurrentTrack(t[s])),h.current&&c>0){const v=h.current;v.currentTime=c}},[]),T.useEffect(()=>{if(t.length>0&&n){const v=t.indexOf(n);a(l.setCurrentTrackIndex(v)),a(l.setCurrentTrack(t[v])),a(l.setIsPlaying(!0))}n||a(l.setIsPlaying(!1))},[l,t,n,a]),d.jsxs(ie,{className:Tt($S.MusicPlayer,u),children:[d.jsx(bH,{timeProgress:c,audioRef:h,progressBarRef:p}),d.jsx(LH,{timeProgress:c,audioRef:h,progressBarRef:p}),d.jsx(TH,{timeProgress:c,setTimeProgress:f,audioRef:h,progressBarRef:p})]})}const jH={activeTableNumber:0,namesList:[],selectedSongsId:[],tableGroupLabels:[],nameListLimitCount:10,isLoading:!1,error:"",songsList:[],listTitles:[],lastFetchingDate:""},op=Ia({name:"songsList",initialState:jH,reducers:{setActiveTable(t,e){t.activeTableNumber=e.payload},resetTableGroupLabels(t){t.tableGroupLabels=[]},resetNamesList(t){t.namesList=[]},toggleSetToSelectedSongsId(t,e){let n=[...t.selectedSongsId];const r=t.selectedSongsId.indexOf(e.payload);r>=0?n.splice(r,1):n=[...t.selectedSongsId,e.payload],t.selectedSongsId=n},removeFromSelectedSongsId(t,e){const n=[...t.selectedSongsId],r=t.selectedSongsId.indexOf(e.payload);r>=0&&n.splice(r,1),t.selectedSongsId=n},resetSelectedSongsId(t){t.selectedSongsId=[]},toggleSetToNamesList(t,e){const n=e.payload,{namesList:r}=t;let i=[...r];r.length===0&&(i=[n]),r.length>0&&r.length<t.nameListLimitCount&&(i=[...r,n]);const s=r.indexOf(n);s>=0&&(i=[...r],i.splice(s,1)),t.namesList=i},setLastFetchingDate(t,e){t.lastFetchingDate=e.payload}},extraReducers:t=>{t.addCase($l.pending,e=>{e.isLoading=!0,e.error=""}).addCase($l.fulfilled,(e,n)=>{e.songsList=n.payload.songsList,e.error="",e.isLoading=!1,e.listTitles=n.payload.listTitles,e.tableGroupLabels=n.payload.songsList.map(r=>r[1].map(i=>i[0]))}).addCase($l.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1})}});function MH(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}const yR=T.forwardRef(({register:t,errors:e,onApply:n,placeholder:r,onChangeValue:i,autoClear:s=!1,onKeyDown:o,children:a,...l},u)=>{var g;const[c,f]=T.useState(""),h=m=>{i&&i(m.target.value),f(m.target.value)},p=()=>{n&&n(c),s&&f("")},v=()=>{i&&i(""),f("")},w=m=>{o&&o(m),m.key==="Enter"&&(n&&n(c),s&&f(""))},y=e?(g=e[t==null?void 0:t.name])==null?void 0:g.message:"";return d.jsxs("div",{className:$e.container,children:[d.jsx(H,{component:"h5",children:a}),d.jsxs("div",{className:$e.inputBlockContainer,children:[d.jsxs("label",{className:As.inputContainer,children:[d.jsx("input",{type:"text",className:J.join($e.input,As.input,tn.input),placeholder:r,ref:u,onChange:h,onKeyDown:w,value:c,...t,...l}),!n&&c.length>0&&d.jsx(bt,{size:"custom",style:{width:20,height:20},className:As.icon,onClick:v,children:d.jsx(nc,{size:"custom",style:{width:20,height:20}})}),(!n&&c.length<1||n)&&d.jsx(bt,{size:"custom",style:{width:20,height:20},className:As.icon,onClick:p,children:d.jsx(MH,{size:"custom",style:{width:20,height:20}})})]}),t&&d.jsx(H,{component:"p2",className:J.join($e.error),children:typeof y=="string"&&y})]})]})});yR.displayName="SearchInput";const $H="_ListNavigation_1wvg1_1",UH={ListNavigation:$H};function FH({charsList:t}){return d.jsx(ie,{component:"nav",className:UH.ListNavigation,children:t.length>0&&t.map(e=>d.jsx(qv,{href:`${St.songslist}#${e}`,className:"link",children:e},e))})}function VH(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("polyline",{points:"9 11 12 14 22 4"}),d.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]})}function zH(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("path",{d:"M8 6H21",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M8 12H21",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M8 18H21",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M3 6H3.01",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M3 12H3.01",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M3 18H3.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}const BH="_Navbar_1f589_46",HH="_button_1f589_61",qH="_active_1f589_71",ol={Navbar:BH,button:HH,active:qH};function WH(){const t=zn(),{page:e}=Vv(),n=()=>{t(St.songslist)},r=()=>{t(St.songslistSelection)},i=!e&&ol.active,s=e==="selection"&&ol.active;return d.jsxs(nt,{className:ol.Navbar,row:!0,children:[d.jsxs(ie,{className:Tt(ol.button,i),onClick:n,grid:{xx:3},children:[d.jsx(bt,{children:d.jsx(zH,{})}),d.jsx(H,{component:"caption",children:"Список"})]}),d.jsxs(ie,{className:Tt(ol.button,s),onClick:r,grid:{xx:3},children:[d.jsx(bt,{children:d.jsx(VH,{})}),d.jsx(H,{component:"caption",children:"Вибрати"})]})]})}const US={up:"up",down:"down"};function GH(t,e){const n=t??100,[r,i]=T.useState("start"),[s,o]=T.useState(0);return T.useEffect(()=>{let a=window.scrollY;const l=h=>Math.abs(h-a)>n,u=h=>h>a&&!(a>0&&h===0)&&!(h>0&&a===0),c=()=>{const h=window.scrollY;if(o(h),l(h)){e&&e();const p=u(h)?US.down:US.up;i(p),a=h>0?h:0}},f=()=>window.requestAnimationFrame(c);return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]),{scrollDirection:r,scrollPosition:s}}function KH(){const[t,e]=T.useState({windowWidth:0,windowHeight:0});return T.useLayoutEffect(()=>{function n(){e({windowWidth:window.innerWidth,windowHeight:window.innerHeight})}return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),t}const QH="_StickyButton_1v8xp_18",YH="_hide_1v8xp_59",XH="_show_1v8xp_65",ps={StickyButton:QH,hide:YH,"sticky-button-hide":"_sticky-button-hide_1v8xp_1",show:XH,"sticky-button-show":"_sticky-button-show_1v8xp_1"};function JH({children:t,popup:e,inverseDirection:n,offset:r,hideOnScreensCount:i=0}){const[s,o]=T.useState(ps.hide),a=T.useRef(null);T.useEffect(()=>{var f;a&&r&&((f=a.current)==null||f.style.setProperty("--sticky-button-offset",`${r}px`))},[a,r]);const{windowHeight:l}=KH(),{scrollDirection:u,scrollPosition:c}=GH(200);return T.useEffect(()=>{const f=c>l*i;o(f&&n&&u==="up"?ps.show:f&&n&&u==="down"||f&&u==="up"?ps.hide:f&&u==="down"?ps.show:ps.hide)},[i,n,u,c,l]),d.jsx("div",{className:J.join(ps.StickyButton,e&&s),ref:a,children:t})}function ZH(t){return d.jsx(ke,{fill:"none",...t,children:d.jsx("path",{d:"M18 15L12 9L6 15",strokeLinecap:"round",strokeLinejoin:"round"})})}function eq(){const{isPlayerShow:t}=ut(n=>n.musicPlayerReducer),e=t?228:64;return d.jsx(JH,{popup:!0,offset:e,inverseDirection:!0,hideOnScreensCount:1,children:d.jsx(st,{onClick:()=>document.body.scrollIntoView(),children:d.jsx(ZH,{})})})}function tq({children:t,...e}){return d.jsx(d.Fragment,{children:T.Children.map(t,n=>T.isValidElement(n)?T.cloneElement(n,{...n.props,...e}):null)})}const nq="_List_3gzz3_1",rq="_unordered_3gzz3_6",iq="_custom_3gzz3_12",Um={List:nq,unordered:rq,custom:iq},O0=T.forwardRef(({type:t,margin:e,children:n,className:r,...i},s)=>{const o=[t==="unordered"&&Um[t],t==="custom"&&Um[t]],a={marginLeft:e&&`${e}px`};return d.jsx("ul",{className:J.join(Um.List,r,o),ref:s,style:a,...i,children:d.jsx(tq,{style:a,children:n})})});O0.displayName="List";const D0=T.forwardRef(({children:t,className:e,...n},r)=>d.jsx("li",{className:e,ref:r,...n,children:t}));D0.displayName="ListItem";const sq="_SongListItem_4t8ge_46",oq="_playIcon_4t8ge_55",aq="_playing_4t8ge_60",Fm={SongListItem:sq,playIcon:oq,playing:aq,"play-animation":"_play-animation_4t8ge_1"};function lq({song:t}){const{audioTracksList:e,currentTrack:n,isPlaying:r}=ut(u=>u.musicPlayerReducer),{actions:i}=Ma,s=un(),o=()=>{s(i.showPlayer()),s(i.toggleIsPlaying()),n&&n.includes(t.value)||s(i.setCurrentTrack(t.value))},a=r&&n===t.value?"secondary":"text",l=r&&n===t.value&&Fm.playing;return d.jsxs(D0,{className:Fm.SongListItem,children:[d.jsx(H,{component:"p1",id:`song_${t.position}`,children:t.value}),e.includes(t.value)&&d.jsx(st,{type:a,size:"small",onClick:o,className:Tt(l),children:r&&n===t.value?d.jsx(pR,{size:"small"}):d.jsx(mR,{size:"small",className:Fm.playIcon})})]},t.position)}const uq="_SongsList_50aix_46",cq="_songsGroup_50aix_52",dq="_songsGroupSymbol_50aix_56",fq="_songsNames_50aix_65",jc={SongsList:uq,songsGroup:cq,songsGroupSymbol:dq,songsNames:fq};function hq({songsTable:t}){return d.jsx(ie,{className:jc.SongsList,children:t.map(e=>e[1].length>0&&d.jsxs(ie,{className:jc.songsGroup,children:[d.jsx(H,{component:"h3",className:jc.songsGroupSymbol,id:e[0],children:e[0]}),d.jsx(O0,{className:jc.songsNames,children:e[1].map(n=>d.jsx(lq,{song:n},n.position))})]},e[0]))})}function pq({ref:t,wayDirection:e="horizontal",targetDirection:n=null,swipeOffset:r=10,moveOffset:i=1}){var m;const[s]=T.useState(((m=t.current)==null?void 0:m.style.position)||"static"),[o,a]=T.useState(null),[l,u]=T.useState(null),[c,f]=T.useState(null),[h,p]=T.useState(null),[v,w]=T.useState(null),[y,g]=T.useState(null);return T.useEffect(()=>{const _=t==null?void 0:t.current;let E=null,S=null;const x=R=>{E=R.touches[0].clientX,S=R.touches[0].clientY,a({x:E,y:S})},I=R=>{const O=R.touches[0].clientX,W=R.touches[0].clientY;if(u({x:O,y:W}),E===null||S===null)return;let $=null;e==="horizontal"?($=O-E,$>i&&w("right"),$<i&&w("left")):e==="vertical"&&($=W-S,$>i&&w("down"),$<i&&w("up")),g($)},P=R=>{const O=R.changedTouches[0].clientX,W=R.changedTouches[0].clientY;if(f({x:O,y:W}),!(E===null||S===null)){if(e==="horizontal"){const $=O-E;$>r&&p("right"),$<r&&p("left")}else if(e==="vertical"){const $=W-S;$>r&&p("down"),$<r&&p("up")}a(null)}};return _&&(_.addEventListener("touchstart",x),_.addEventListener("touchmove",I),_.addEventListener("touchend",P)),()=>{_&&(_.removeEventListener("touchstart",x),_.removeEventListener("touchstart",x),_.removeEventListener("touchend",P))}},[]),T.useEffect(()=>{const _=t==null?void 0:t.current;_&&n&&(v===n?(_.style.position="relative",_.style.left=`${y}px`):_.style.position=s)},[y,v]),{startTouchPosition:o,moveTouchPosition:l,endTouchPosition:c,swipeDirection:h,moveDirection:v,difference:y}}function FS(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 8V12",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 16H12.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function mq(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("path",{d:"M10.29 3.86001L1.81999 18C1.64536 18.3024 1.55296 18.6453 1.55198 18.9945C1.551 19.3437 1.64148 19.6871 1.81442 19.9905C1.98735 20.2939 2.23672 20.5468 2.5377 20.7239C2.83868 20.901 3.18079 20.9962 3.52999 21H20.47C20.8192 20.9962 21.1613 20.901 21.4623 20.7239C21.7633 20.5468 22.0126 20.2939 22.1856 19.9905C22.3585 19.6871 22.449 19.3437 22.448 18.9945C22.447 18.6453 22.3546 18.3024 22.18 18L13.71 3.86001C13.5317 3.56611 13.2807 3.32313 12.9812 3.15449C12.6817 2.98585 12.3437 2.89726 12 2.89726C11.6563 2.89726 11.3183 2.98585 11.0188 3.15449C10.7193 3.32313 10.4683 3.56611 10.29 3.86001Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 9V13",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 17H12.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function gq(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("path",{d:"M22 11.08V12C21.9988 14.1564 21.3005 16.2547 20.0093 17.9818C18.7182 19.709 16.9033 20.9725 14.8354 21.5839C12.7674 22.1953 10.5573 22.1219 8.53447 21.3746C6.51168 20.6273 4.78465 19.2461 3.61096 17.4371C2.43727 15.628 1.87979 13.4881 2.02168 11.3363C2.16356 9.18457 2.99721 7.13633 4.39828 5.49707C5.79935 3.85782 7.69279 2.71538 9.79619 2.24015C11.8996 1.76491 14.1003 1.98234 16.07 2.86",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M22 4L12 14.01L9 11.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function yq(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("path",{d:"M12.7165 22.7087C18.2394 22.7087 22.7165 18.2315 22.7165 12.7087C22.7165 7.18582 18.2394 2.70866 12.7165 2.70866C7.19367 2.70866 2.71652 7.18582 2.71652 12.7087C2.71652 18.2315 7.19367 22.7087 12.7165 22.7087Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12.7165 16.7087V12.7087",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12.7165 8.70866H12.7265",strokeLinecap:"round",strokeLinejoin:"round"})]})}function vq(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("path",{d:"M12.237 22.8758C17.7599 22.8758 22.237 18.3987 22.237 12.8758C22.237 7.35296 17.7599 2.87581 12.237 2.87581C6.71418 2.87581 2.23703 7.35296 2.23703 12.8758C2.23703 18.3987 6.71418 22.8758 12.237 22.8758Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M15.237 9.87581L9.23703 15.8758",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M9.23703 9.87581L15.237 15.8758",strokeLinecap:"round",strokeLinejoin:"round"})]})}const wq="_LoaderBars_qlkif_1",_q="_loader_qlkif_1",Eq={LoaderBars:wq,loader:_q},Sq=T.forwardRef(({className:t,...e},n)=>d.jsxs("div",{className:J.join(Eq.LoaderBars,t),ref:n,...e,children:[d.jsx("div",{}),d.jsx("div",{}),d.jsx("div",{})]}));Sq.displayName="LoaderBars";const Cq="_LoaderCounter_1kaup_1",Tq="_counter_1kaup_9",xq="_background_1kaup_14",Iq="_animation_1kaup_22",wo={LoaderCounter:Cq,counter:Tq,background:xq,animation:Iq,"loader-animation":"_loader-animation_1kaup_1"},vR=T.forwardRef(({timer:t,isInversion:e,className:n,...r},i)=>{const[s,o]=T.useState(t/1e3);T.useEffect(()=>{J.setIntervalCounts({callback:()=>o(u=>u-1),delay:1e3,counts:t/1e3})},[]);const a=T.useRef(null);T.useLayoutEffect(()=>{var u;(u=a.current)==null||u.style.setProperty("--loader-counter--animation-duration",`${t}ms`)},[t]);const l=[e?wo.inversion:wo.normal];return d.jsxs("div",{className:J.join(wo.LoaderCounter,n,l),ref:i,...r,children:[d.jsx("div",{className:wo.background}),d.jsx("div",{className:wo.animation,ref:a}),d.jsx(H,{component:"p2",className:wo.counter,children:s})]})});vR.displayName="LoaderCounter";const kq="_Toast_1acxc_18",bq="_success_1acxc_22",Rq="_info_1acxc_27",Aq="_error_1acxc_32",Pq="_warn_1acxc_37",Nq="_oneLine_1acxc_83",Lq="_medium_1acxc_86",Oq="_large_1acxc_94",Dq="_content_1acxc_97",jq="_textContent_1acxc_106",Mq="_title_1acxc_116",$q="_message_1acxc_120",Uq="_topLeft_1acxc_124",Fq="_topCenter_1acxc_128",Vq="_topRight_1acxc_132",zq="_bottomLeft_1acxc_146",Bq="_bottomCenter_1acxc_150",Hq="_bottomRight_1acxc_154",qq="_hideToastAnimation_1acxc_168",ar={Toast:kq,success:bq,info:Rq,error:Aq,warn:Pq,oneLine:Nq,medium:Lq,large:Oq,content:Dq,textContent:jq,title:Mq,message:$q,topLeft:Uq,"top-animation-show":"_top-animation-show_1acxc_1",topCenter:Fq,topRight:Vq,bottomLeft:zq,"bottom-animation-show":"_bottom-animation-show_1acxc_1",bottomCenter:Bq,bottomRight:Hq,hideToastAnimation:qq,"animation-hide":"_animation-hide_1acxc_1"};function Wq(t){return t==="alert"?d.jsx(FS,{}):t==="info"?d.jsx(yq,{}):t==="success"?d.jsx(gq,{}):t==="error"?d.jsx(vq,{}):t==="warn"?d.jsx(mq,{}):d.jsx(FS,{})}const wR=T.forwardRef(({id:t,message:e,title:n="",type:r,size:i="flex",position:s="topRight",oneLine:o,onCloseButtonClick:a,duration:l=3e3,className:u,...c},f)=>{const h=T.useRef(null),{remove:p}=ER(),v=[i&&ar[i],r&&ar[r],s&&ar[s]],w=o&&ar.oneLine,y=n||r==="alert"&&"Повідомлення!"||r==="info"&&"Інформація!"||r==="success"&&"Успіх!"||r==="error"&&"Помилка!"||r==="warn"&&"Попередження!",g=()=>{var S,x;(S=h.current)==null||S.classList.add(ar.hideToastAnimation),(x=h.current)==null||x.addEventListener("animationend",I=>{I.target===h.current&&(I.stopPropagation(),p(t))})},m=T.useRef();T.useEffect(()=>(l>0&&(m.current=setTimeout(()=>{g()},l)),()=>{clearTimeout(m.current)}),[]);const{swipeDirection:_}=pq({ref:h,targetDirection:"right"});T.useEffect(()=>{_==="right"&&g()},[_]);const E=S=>{a&&a(S),g()};return d.jsxs("div",{className:J.join(ar.Toast,u,v),ref:uR([f,h]),...c,children:[d.jsxs("div",{className:ar.content,children:[d.jsx(bt,{children:Wq(r)}),d.jsxs("div",{className:J.join(ar.textContent,w),children:[d.jsx(H,{component:"h6",className:ar.title,children:y}),typeof e=="string"?d.jsx(H,{component:"p1",className:ar.message,children:e}):e.map(S=>d.jsx(H,{component:"p1",className:ar.message,children:S},S))]}),l>0&&d.jsx(vR,{timer:l})]}),d.jsx(bt,{size:"small",onClick:E,children:d.jsx(nc,{size:"small"})})]})});wR.displayName="Toast";const Gq="_ToastsContainer_1yqsk_46",VS={ToastsContainer:Gq,"left-top":"_left-top_1yqsk_61","center-top":"_center-top_1yqsk_64","left-bottom":"_left-bottom_1yqsk_67","center-bottom":"_center-bottom_1yqsk_71","right-bottom":"_right-bottom_1yqsk_75"};function Kq({toasts:t,position:e={horizontal:"right",vertical:"top"}}){const n=VS[`${e.horizontal}-${e.vertical}`];return!t||t.length<=0?null:d.jsx(N0,{children:d.jsx(ie,{className:J.join(VS.ToastsContainer,n),children:d.jsx(d.Fragment,{children:t.map(r=>d.jsx(wR,{id:r.id,message:r.message,title:r.title,type:r.type,size:r.size,position:r.position,oneLine:r.oneLine,onCloseButtonClick:r.onCloseButtonClick,duration:r.duration},r.id))})})})}const _R=T.createContext({}),ER=()=>T.useContext(_R);function Qq({maxToast:t=1,children:e}){const[n,r]=T.useState([]),[i,s]=T.useState("top-right"),o=u=>{u.position&&u.position!==i&&s(u.position),r(c=>{const f=c.length<t?c:c.slice(1),h={...u,id:J.getRandomNumber(1e8,999999999).toString()};return[...f,h]})},a=u=>{r(c=>c.filter(f=>f.id!==u))},l=T.useMemo(()=>({add:o,remove:a,position:i}),[]);return d.jsxs(_R.Provider,{value:l,children:[e,d.jsx(Kq,{toasts:n})]})}const Yq="_SelectionBar_1inem_46",Xq="_extended_1inem_59",Jq="_button_1inem_63",Mc={SelectionBar:Yq,extended:Xq,button:Jq};function Zq(){const{namesList:t}=ut(l=>l.songsListReducer),{isPlayerShow:e}=ut(l=>l.musicPlayerReducer),n=e&&Mc.extended,r=un(),{actions:i}=op,{add:s}=ER(),o=()=>{r(i.resetNamesList()),r(i.resetSelectedSongsId())},a=async()=>{const l=t.map((c,f)=>`${f+1}. ${c}`),u=l.join(`
`);try{await nj(u)&&s({title:"Скопійовано:",message:l,duration:5e3})}catch{s({type:"error",message:"Не вдалося скопіювати. Напишіть мені в Телеграм!",duration:5e3})}r(i.resetNamesList()),r(i.resetSelectedSongsId())};return d.jsxs(nt,{className:Tt(Mc.SelectionBar,n),row:!0,children:[d.jsx(ie,{className:Mc.button,children:d.jsx(st,{size:"small",type:"secondary",onClick:o,children:d.jsx(nc,{})})}),d.jsx(ie,{className:Mc.button,children:d.jsx(st,{size:"small",onClick:a,disabled:t.length<=0,children:`Скопіювати ${t.length} / 10`})})]})}function eW(t){return d.jsx(ke,{fill:"none",...t,children:d.jsx("polyline",{points:"20 6 9 17 4 12"})})}const tW="_SongListItem_1m3a7_46",nW="_active_1m3a7_53",rW="_song_1m3a7_57",Vm={SongListItem:tW,active:nW,song:rW};function iW({song:t}){const{namesList:e,nameListLimitCount:n,selectedSongsId:r}=ut(u=>u.songsListReducer),i=un(),{actions:s}=op,o=r.includes(t.position),a=[o&&Vm.active],l=()=>{e.length<n?i(s.toggleSetToSelectedSongsId(t.position)):i(s.removeFromSelectedSongsId(t.position)),i(s.toggleSetToNamesList(t.value))};return d.jsx(ie,{className:Tt(Vm.SongListItem,a),onClick:l,children:d.jsxs(D0,{className:Vm.song,children:[d.jsx(H,{component:"p1",id:`song_${t.position}`,children:t.value}),d.jsx(bt,{children:o&&d.jsx(eW,{})})]})})}const sW="_SongsSelection_qhojl_1",oW="_songsGroup_qhojl_7",aW="_songsGroupSymbol_qhojl_11",lW="_songsNames_qhojl_20",$c={SongsSelection:sW,songsGroup:oW,songsGroupSymbol:aW,songsNames:lW};function uW({songsTable:t}){const{selectedSongsId:e}=ut(n=>n.songsListReducer);return d.jsxs(ie,{className:$c.SongsSelection,children:[t.map(n=>n[1].length>0&&d.jsxs(ie,{className:$c.songsGroup,children:[d.jsx(H,{component:"h3",className:$c.songsGroupSymbol,id:n[0],children:n[0]}),d.jsx(O0,{className:$c.songsNames,children:n[1].map(r=>d.jsx(iW,{song:r},r.position))})]},n[0])),e.length>0&&d.jsx(Zq,{})]})}const cW="_SongsListPage_2737s_46",dW="_container_2737s_50",fW="_tools_2737s_60",zm={SongsListPage:cW,container:dW,tools:fW};function zS(){const[t,e]=T.useState(0),[n,r]=T.useState(),{error:i,isLoading:s,songsList:o,tableGroupLabels:a,lastFetchingDate:l,listTitles:u}=ut(m=>m.songsListReducer),{isPlayerShow:c}=ut(m=>m.musicPlayerReducer),f=un(),{actions:h}=op,{page:p}=Vv();T.useEffect(()=>{const m=QD();(Bs(o)||l!==m)&&(f($l()),f(h.setLastFetchingDate(m)))},[]);const[v,w]=T.useState("");T.useEffect(()=>{if(o.length>0){const m=o[t][1];r(v?m.map(_=>[_[0],_[1].filter(E=>E.value.toLowerCase().includes(v.toLowerCase()))]):m)}},[t,o,v]);const y=m=>{const _=u.indexOf(m);e(_)};if(i)throw Error(i);const g=m=>{w(m)};return d.jsxs(ie,{component:"main",className:zm.SongsListPage,children:[d.jsxs(nt,{component:"section",container:!0,className:zm.container,children:[d.jsxs(ie,{className:zm.tools,children:[s&&d.jsx(ja,{}),d.jsx(dR,{selected:u[t],onDropdownChange:y,options:u}),d.jsx(yR,{placeholder:"Пошук...",onChangeValue:g}),a&&a.length>0&&d.jsx(FH,{charsList:a[t]})]}),n&&(p==="selection"?d.jsx(uW,{songsTable:n}):d.jsx(hq,{songsTable:n})),d.jsx(eq,{})]}),!s&&n&&d.jsx(WH,{}),n&&c&&d.jsx(DH,{})]})}const pd={male:"Хлопчик",female:"Дівчинка"},hW={user:"Користувач",admin:"Адміністратор",owner:"Кодувальник"},Bm=jr("user/getUserInfo",async({uid:t},e)=>{try{const n=await Re.google.firebase.database.users.getUserById({userId:t});return{uid:t||"",displayName:n.user.displayName,photoURL:n.user.photoURL,email:n.user.email,userType:n.user.userType,sex:n.user.sex,role:n.user.role,lastActiveChatId:n.user.lastActiveChatId,lastVisitDate:n.user.lastVisitDate,registrationDate:n.user.registrationDate,isOnline:n.user.isOnline,visitsCount:n.user.visitsCount}}catch(n){return e.rejectWithValue(ae(n))}}),pW={isLoading:!1,error:"",userInfo:{},userInfoRealtime:{}},SR=Ia({name:"userInfo",initialState:pW,reducers:{removeUserInfo(t){t.userInfo={}},resetError(t){t.error=""},setUsersRealtime(t,e){t.userInfoRealtime=e.payload}},extraReducers:t=>{t.addCase(Bm.pending,e=>{e.error="",e.isLoading=!0,e.userInfo={}}).addCase(Bm.fulfilled,(e,n)=>{e.userInfo={...n.payload},e.error="",e.isLoading=!1}).addCase(Bm.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1})}});function mW(t){return d.jsxs(ke,{fill:"none",...t,children:[d.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),d.jsx("polyline",{points:"12 19 5 12 12 5"})]})}const gW="_container_1r4tb_1",yW="_info_1r4tb_8",vW="_row_1r4tb_16",wW="_column_1r4tb_21",_W="_headingColumn_1r4tb_25",Pe={container:gW,info:yW,row:vW,column:wW,headingColumn:_W};function EW(){var o,a;const{userId:t}=Vv(),e=zn(),n=()=>{e(-1)},{userInfoRealtime:r}=ut(l=>l.userInfoReducer),i=un(),{actions:s}=SR;return T.useEffect(()=>{const l=tr(yn,"users",t||"");let u;try{u=R2(l,c=>{const f=c.data();if(f&&!Bs(f))i(s.setUsersRealtime({uid:f.uid,...f.user}));else throw new Error("Can't find user!")})}catch(c){throw new Error(ae(c))}return()=>u()},[]),d.jsx(ie,{component:"main",className:Pe.UserInfoPage,children:r?d.jsxs(nt,{container:!0,component:"section",className:Pe.container,children:[d.jsx(wa,{src:r.photoURL||"",alt:r.displayName||"",char:((o=r.displayName)==null?void 0:o[0])||((a=r.email)==null?void 0:a[0])||"",size:"extra"}),d.jsxs(ie,{className:Pe.info,children:[d.jsx(H,{component:"h5",className:Pe.userInfoRealtime,children:r.displayName}),d.jsxs(nt,{row:!0,className:Pe.row,children:[d.jsx(ie,{grid:{xx:6},className:Tt(Pe.headingColumn,Pe.column),children:d.jsx(H,{component:"h6",children:"Роль"})}),d.jsx(ie,{grid:{xx:6},className:Tt(Pe.infoColumn,Pe.column),children:r.role&&d.jsx(H,{component:"p2",children:`[${r.role}]`})})]}),d.jsxs(nt,{row:!0,className:Pe.row,children:[d.jsx(ie,{grid:{xx:6},className:Tt(Pe.headingColumn,Pe.column),children:d.jsx(H,{component:"h6",children:"Кількість відвідувань"})}),d.jsx(ie,{grid:{xx:6},className:Tt(Pe.infoColumn,Pe.column),children:d.jsx(H,{component:"p2",children:r.visitsCount})})]}),d.jsxs(nt,{row:!0,className:Pe.row,children:[d.jsx(ie,{grid:{xx:6},className:Tt(Pe.headingColumn,Pe.column),children:d.jsx(H,{component:"h6",children:"Останній вхід"})}),d.jsx(ie,{grid:{xx:6},className:Tt(Pe.infoColumn,Pe.column),children:d.jsxs(H,{component:"p2",children:[Cc(String(r.lastVisitDate)).toLocaleDateString()," ",Cc(String(r.lastVisitDate)).toLocaleTimeString()]})})]}),d.jsxs(nt,{row:!0,className:Pe.row,children:[d.jsx(ie,{grid:{xx:6},className:Tt(Pe.headingColumn,Pe.column),children:d.jsx(H,{component:"h6",children:"Дата реєстрації"})}),d.jsx(ie,{grid:{xx:6},className:Tt(Pe.infoColumn,Pe.column),children:d.jsxs(H,{component:"p2",children:[Cc(String(r.registrationDate)).toLocaleDateString()," ",Cc(String(r.registrationDate)).toLocaleTimeString()]})})]}),d.jsxs(nt,{row:!0,className:Pe.row,children:[d.jsx(ie,{grid:{xx:6},className:Tt(Pe.headingColumn,Pe.column),children:d.jsx(H,{component:"h6",children:"Стать"})}),d.jsx(ie,{grid:{xx:6},className:Tt(Pe.infoColumn,Pe.column),children:r.sex&&d.jsx(H,{component:"p2",children:pd[r.sex]})})]}),d.jsxs(nt,{row:!0,className:Pe.row,children:[d.jsx(ie,{grid:{xx:6},className:Tt(Pe.headingColumn,Pe.column),children:d.jsx(H,{component:"h6",children:"Тип"})}),d.jsx(ie,{grid:{xx:6},className:Tt(Pe.infoColumn,Pe.column),children:r.userType&&d.jsx(H,{component:"p2",children:hW[r.userType]})})]})]}),d.jsx(bt,{onClick:n,children:d.jsx(mW,{})})]}):d.jsx(ja,{})})}function SW({onClose:t,error:e}){return d.jsx(ho,{onClose:t,type:"error",size:"medium",title:"Невірні дані!",children:d.jsxs(d.Fragment,{children:[d.jsx(H,{component:"p1",className:"center",children:"Помилка при оновлені даних."}),d.jsx(H,{component:"p1",className:"center",children:"Спробуйте, будь ласка, пізніше!"}),d.jsx(H,{component:"caption",className:"center",children:e})]})})}function CW({onClose:t}){return d.jsx(ho,{onClose:t,type:"success",size:"medium",title:"Чудово!",children:d.jsx(H,{component:"p1",className:"center",children:"Дані успішно оновлені!"})})}const TW="_container_zun5x_1",xW="_form_zun5x_8",Hm={container:TW,form:xW};function IW(){const[t,e]=T.useState(!1),n=un(),{actions:r}=rc,{user:i,isLoading:s,error:o}=ut(I=>I.userReducer),{uid:a,displayName:l,photoURL:u,sex:c,role:f}=i,h=c!==""?c:"male",{register:p,handleSubmit:v,watch:w,formState:{errors:y}}=A0({mode:"onSubmit",defaultValues:{userName:l,profileImage:u,role:f,sex:pd[h]}}),g=Bs(y),m={userName:p("userName",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[\sа-яА-ЯёЁъЪїЇіІєЄґҐa-zA-Z_]+$/,message:"Використовуйте тільки літери, пробіл або нижнє підкреслення!"},minLength:{value:2,message:"Мінімальна довжина логіну 2 символів"},maxLength:{value:32,message:"Максимальна довжина логіну 32 символів"}}),profileImage:p("profileImage",{validate:I=>I&&(typeof I=="string"||typeof I!="string"&&!Bs(I))?!0:"Будь ласка, оберіть зображення!"}),role:p("role",{required:"Поле таке пусте! Введіть більше символів!",minLength:{value:2,message:"Мінімальна довжина логіну 2 символів"},maxLength:{value:32,message:"Максимальна довжина логіну 32 символів"}}),sex:p("sex",{required:"Оберіть стать!"})},_=async({userName:I,profileImage:P,role:R,sex:O})=>{const W=O===pd.male?"male":"female";n(fd({uid:a,displayName:I!==l?I:void 0,photo:typeof P!="string"?P[0]:void 0,role:R!==f?R:void 0,sex:W!==c?W:void 0})),e(!0)},E=zn(),S=()=>{E(Ln.users)},x=()=>{n(r.resetError())};return d.jsxs(ie,{component:"main",className:Hm.UserPage,children:[d.jsxs(nt,{container:!0,component:"section",className:Hm.container,children:[d.jsx(H,{component:"h4",children:"Редагування профілю"}),d.jsxs(sp,{className:Hm.form,onSubmit:v(_),children:[d.jsx(fR,{watch:w,register:m.profileImage,errors:y,accept:".jpg, .jpeg, .png",label:"Оберіть зображення",children:"Зображення профілю:"}),d.jsx(My,{register:m.userName,errors:y,children:"Логін*:"}),d.jsxs(My,{register:m.role,errors:y,children:["Роль*:",d.jsx(H,{component:"caption",children:"(наприклад: Майстер мікрофону, Басист)"})]}),d.jsx(hR,{labels:Object.values(pd),register:m.sex,errors:y,children:"Стать*:"}),d.jsx(st,{submit:!0,disabled:!g,children:"Оновити дані"})]})]}),s&&d.jsx(ja,{}),t&&!s&&d.jsx(CW,{onClose:S}),o&&!s&&d.jsx(SW,{onClose:x,error:o})]})}const qm=jr("user/getAllUsers",async(t,e)=>{try{const n=await Re.google.firebase.database.users.getAllUsers();return Object.values(n.users)}catch(n){return e.rejectWithValue(ae(n))}}),kW={isLoading:!1,error:"",users:[],usersRealtime:[]},CR=Ia({name:"users",initialState:kW,reducers:{removeUsers(t){t.users=[]},resetError(t){t.error=""},setUsersRealtime(t,e){t.usersRealtime=e.payload}},extraReducers:t=>{t.addCase(qm.pending,e=>{e.error="",e.isLoading=!0}).addCase(qm.fulfilled,(e,n)=>{e.users=n.payload,e.error="",e.isLoading=!1}).addCase(qm.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1})}}),bW="_UsersPage_1kf4i_46",RW="_container_1kf4i_50",AW="_listContainer_1kf4i_57",PW="_userName_1kf4i_64",NW="_user_1kf4i_64",LW="_current_1kf4i_85",OW="_ellipsis_1kf4i_92",DW="_userStats_1kf4i_99",jW="_time_1kf4i_112",kn={UsersPage:bW,container:RW,listContainer:AW,userName:PW,user:NW,current:LW,ellipsis:OW,userStats:DW,time:jW};function MW(){const t=zn(),{user:e}=ut(a=>a.userReducer),{uid:n}=e,{usersRealtime:r}=ut(a=>a.usersReducer),i=un(),{actions:s}=CR;T.useEffect(()=>{const a=Yh(yn,"users"),l=iF(a);let u;try{u=R2(l,c=>{const f=[];if(c.forEach(h=>{const p=h.data();f.push({uid:p.uid,...p.user})}),f.length>0)i(s.setUsersRealtime(f));else throw new Error("Can't find any users!")})}catch(c){throw new Error(ae(c))}return()=>u()},[]);const o=a=>{t(`${Ln.userInfo}/${a}`)};return d.jsxs(ie,{component:"main",className:kn.UsersPage,children:[d.jsxs(nt,{container:!0,component:"section",className:kn.container,children:[d.jsx(H,{component:"h4",children:"Список користувачів"}),d.jsxs(nt,{className:kn.listContainer,children:[d.jsxs(nt,{row:!0,className:kn.row,children:[d.jsx(ie,{grid:{xx:7,xl:9,md:9},children:d.jsx(H,{component:"h5",children:"Користувач"})}),d.jsx(ie,{grid:{xx:2,md:3},children:d.jsx(H,{component:"h5",className:kn.ellipsis,children:"Відвідувань"})})]}),r.length>0&&ej(r,"visitsCount").reverse().map(a=>{var l,u;return d.jsxs(nt,{row:!0,className:Tt(kn.row,kn.user,a.uid===n?kn.current:null),onClick:()=>o(a.uid),children:[d.jsx(ie,{grid:{xx:1,md:2},children:d.jsx(wa,{src:a.photoURL||"",alt:a.displayName||"",char:((l=a.displayName)==null?void 0:l[0])||((u=a.email)==null?void 0:u[0])||"",size:"small"})}),d.jsxs(ie,{grid:{xx:6,xl:8,md:7},className:kn.userName,children:[d.jsx(H,{component:"p1",className:kn.ellipsis,children:a.displayName}),a.role&&d.jsx(H,{component:"caption",className:kn.ellipsis,children:`[${a.role}]`})]}),d.jsxs(ie,{grid:{xx:2,md:3},className:kn.userStats,children:[d.jsx(H,{component:"p1",children:a.visitsCount}),a.lastVisitDate&&d.jsxs(ie,{className:kn.time,children:[d.jsx(H,{component:"caption",children:Xg(a.lastVisitDate).toLocaleDateString()}),d.jsx(H,{component:"caption",children:Xg(a.lastVisitDate).toLocaleTimeString()})]})]})]},a.uid)})]})]}),r===null&&d.jsx(ja,{})]})}function Wm({children:t}){const{isAuth:e}=Dr();return e?t:d.jsx(bx,{to:St.login})}function $W({children:t}){const{isAdmin:e}=Dr();return e?t:d.jsx(bx,{to:St.home})}const UW=DO([{path:"/",element:d.jsx(CS,{}),errorElement:d.jsx(TS,{}),children:[{element:d.jsx(Mz,{}),index:!0},{element:d.jsx(zS,{}),path:`${St.songslist}`},{element:d.jsx(zS,{}),path:`${St.songslist}/:page`},{element:d.jsx(Wm,{children:d.jsx(IW,{})}),path:Ln.user},{element:d.jsx(Wm,{children:d.jsx(MW,{})}),path:Ln.users},{element:d.jsx($W,{children:d.jsx(xz,{})}),path:Ax.admin}]},{path:"/",element:d.jsx(CS,{navigation:!1,userMenu:!1}),errorElement:d.jsx(TS,{}),children:[{element:d.jsx(oH,{}),path:St.login},{element:d.jsx(pH,{}),path:St.signup},{element:d.jsx(Wm,{children:d.jsx(EW,{})}),path:`${Ln.userInfo}/:userId`}]}]);function FW(){return d.jsx(xO,{router:UW})}var j0="persist:",M0="persist/FLUSH",ap="persist/REHYDRATE",$0="persist/PAUSE",U0="persist/PERSIST",F0="persist/PURGE",V0="persist/REGISTER",TR=-1;function md(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?md=function(n){return typeof n}:md=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},md(t)}function BS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BS(n,!0).forEach(function(r){zW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zW(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BW(t,e,n,r){r.debug;var i=VW({},n);return t&&md(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function HW(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:j0).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(S){return S}:typeof t.serialize=="function"?a=t.serialize:a=qW;var l=t.writeFailHandler||null,u={},c={},f=[],h=null,p=null,v=function(S){Object.keys(S).forEach(function(x){g(x)&&u[x]!==S[x]&&f.indexOf(x)===-1&&f.push(x)}),Object.keys(u).forEach(function(x){S[x]===void 0&&g(x)&&f.indexOf(x)===-1&&u[x]!==void 0&&f.push(x)}),h===null&&(h=setInterval(w,i)),u=S};function w(){if(f.length===0){h&&clearInterval(h),h=null;return}var E=f.shift(),S=r.reduce(function(x,I){return I.in(x,E,u)},u[E]);if(S!==void 0)try{c[E]=a(S)}catch(x){console.error("redux-persist/createPersistoid: error serializing state",x)}else delete c[E];f.length===0&&y()}function y(){Object.keys(c).forEach(function(E){u[E]===void 0&&delete c[E]}),p=o.setItem(s,a(c)).catch(m)}function g(E){return!(n&&n.indexOf(E)===-1&&E!=="_persist"||e&&e.indexOf(E)!==-1)}function m(E){l&&l(E)}var _=function(){for(;f.length!==0;)w();return p||Promise.resolve()};return{update:v,flush:_}}function qW(t){return JSON.stringify(t)}function WW(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:j0).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=GW,r.getItem(n).then(function(s){if(s)try{var o={},a=i(s);return Object.keys(a).forEach(function(l){o[l]=e.reduceRight(function(u,c){return c.out(u,l,a)},i(a[l]))}),o}catch(l){throw l}else return})}function GW(t){return JSON.parse(t)}function KW(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:j0).concat(t.key);return e.removeItem(n,QW)}function QW(t){}function HS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HS(n,!0).forEach(function(r){YW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YW(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XW(t,e){if(t==null)return{};var n=JW(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JW(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ZW=5e3;function eG(t,e){var n=t.version!==void 0?t.version:TR;t.debug;var r=t.stateReconciler===void 0?BW:t.stateReconciler,i=t.getStoredState||WW,s=t.timeout!==void 0?t.timeout:ZW,o=null,a=!1,l=!0,u=function(f){return f._persist.rehydrated&&o&&!l&&o.update(f),f};return function(c,f){var h=c||{},p=h._persist,v=XW(h,["_persist"]),w=v;if(f.type===U0){var y=!1,g=function(P,R){y||(f.rehydrate(t.key,P,R),y=!0)};if(s&&setTimeout(function(){!y&&g(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),l=!1,o||(o=HW(t)),p)return Fr({},e(w,f),{_persist:p});if(typeof f.rehydrate!="function"||typeof f.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return f.register(t.key),i(t).then(function(I){var P=t.migrate||function(R,O){return Promise.resolve(R)};P(I,n).then(function(R){g(R)},function(R){g(void 0,R)})},function(I){g(void 0,I)}),Fr({},e(w,f),{_persist:{version:n,rehydrated:!1}})}else{if(f.type===F0)return a=!0,f.result(KW(t)),Fr({},e(w,f),{_persist:p});if(f.type===M0)return f.result(o&&o.flush()),Fr({},e(w,f),{_persist:p});if(f.type===$0)l=!0;else if(f.type===ap){if(a)return Fr({},w,{_persist:Fr({},p,{rehydrated:!0})});if(f.key===t.key){var m=e(w,f),_=f.payload,E=r!==!1&&_!==void 0?r(_,c,m,t):m,S=Fr({},E,{_persist:Fr({},p,{rehydrated:!0})});return u(S)}}}if(!p)return e(c,f);var x=e(w,f);return x===w?c:u(Fr({},x,{_persist:p}))}}function qS(t){return rG(t)||nG(t)||tG()}function tG(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function nG(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function rG(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function WS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WS(n,!0).forEach(function(r){iG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xR={registry:[],bootstrapped:!1},sG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xR,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case V0:return $y({},e,{registry:[].concat(qS(e.registry),[n.key])});case ap:var r=e.registry.indexOf(n.key),i=qS(e.registry);return i.splice(r,1),$y({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function oG(t,e,n){var r=n||!1,i=Zv(sG,xR,e&&e.enhancer?e.enhancer:void 0),s=function(u){i.dispatch({type:V0,key:u})},o=function(u,c,f){var h={type:ap,payload:c,err:f,key:u};t.dispatch(h),i.dispatch(h),r&&a.getState().bootstrapped&&(r(),r=!1)},a=$y({},i,{purge:function(){var u=[];return t.dispatch({type:F0,result:function(f){u.push(f)}}),Promise.all(u)},flush:function(){var u=[];return t.dispatch({type:M0,result:function(f){u.push(f)}}),Promise.all(u)},pause:function(){t.dispatch({type:$0})},persist:function(){t.dispatch({type:U0,register:s,rehydrate:o})}});return e&&e.manualPersist||a.persist(),a}function aG(t,e){var n=e||{},r=n.debug;return function(i,s){if(!i)return Promise.resolve(void 0);var o=i._persist&&i._persist.version!==void 0?i._persist.version:TR;if(o===s||o>s)return Promise.resolve(i);var a=Object.keys(t).map(function(u){return parseInt(u)}).filter(function(u){return s>=u&&u>o}).sort(function(u,c){return u-c});try{var l=a.reduce(function(u,c){return t[c](u)},i);return Promise.resolve(l)}catch(u){return Promise.reject(u)}}}var z0={},B0={};B0.__esModule=!0;B0.default=cG;function gd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gd=function(n){return typeof n}:gd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gd(t)}function Gm(){}var lG={getItem:Gm,setItem:Gm,removeItem:Gm};function uG(t){if((typeof self>"u"?"undefined":gd(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function cG(t){var e="".concat(t,"Storage");return uG(e)?self[e]:lG}z0.__esModule=!0;z0.default=hG;var dG=fG(B0);function fG(t){return t&&t.__esModule?t:{default:t}}function hG(t){var e=(0,dG.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var IR=void 0,pG=mG(z0);function mG(t){return t&&t.__esModule?t:{default:t}}var gG=(0,pG.default)("local");IR=gG;const yG=$x({appReducer:Bx.reducer,songsListReducer:op.reducer,userReducer:rc.reducer,usersReducer:CR.reducer,userInfoReducer:SR.reducer,musicPlayerReducer:Ma.reducer}),vG={0:t=>t,1:t=>{const e={...t};return{...e,appReducer:{...e.appReducer,tea:void 0}}}},wG={key:t1.name,storage:IR,whitelist:["appReducer","songsListReducer"],version:0,migrate:aG(vG,{debug:!1})},_G=eG(wG,yG),kR=Dj({reducer:_G,middleware:t=>t({serializableCheck:{ignoredActions:[M0,ap,$0,U0,F0,V0]}})}),EG=oG(kR);function SG(){return d.jsx(lL,{store:kR,children:d.jsx(Qq,{maxToast:5,children:d.jsx(px,{loading:null,persistor:EG,children:d.jsx(FW,{})})})})}const CG=document.getElementById("root"),TG=rx(CG);TG.render(d.jsx(T.StrictMode,{children:d.jsx(SG,{})}));
