function c2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const d2="AKfycbxGD1Lys79Ixt4BQ5mfH3ylX4_ZvtSGUFHltMILILPBWtcdPoSlI3FD5Ir8OcwtBA",f2=`https://script.google.com/macros/s/${d2}/exec`;function h2(t,e){console.error("analyticsAPI",`${t}:`,e)}function xh(...t){console.log("analyticsAPI",...t)}async function p2({spreadsheetId:t,sheetName:e,sheetIndex:n,titlesParams:r,indexesParams:i,type:s,col:o,row:a,value:l}){const u=new URLSearchParams;return t&&u.append("spreadsheetId",t),e&&u.append("sheetName",e),n&&u.append("sheetIndex",n.toString()),r&&u.append("titlesParams",JSON.stringify(r)),i&&u.append("indexesParams",JSON.stringify(i)),s&&u.append("type",s),o&&u.append("col",o.toString()),a&&u.append("row",a.toString()),l&&u.append("value",l.toString()),fetch(`${f2}?${u}`,{method:"POST"}).then(c=>c.text()).then(c=>JSON.parse(c)).then(c=>(c.status!=="success"&&(xh("doPost",c.status),xh("doPost",c.info),xh("doPost",c.error)),c)).catch(c=>h2("doPost",c))}async function m2({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){return p2({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED"}).then(i=>i)}const g2={postTitledColumnsDataByTitles:m2};async function y2(){try{return{ip:(await(await fetch("https://api.ipify.org?format=json")).json()).ip,status:"success"}}catch(t){return{error:t,status:"error"}}}const v2={fetchIP:y2},US={appsscript:g2,ipify:v2};function w2(){const t=navigator.userAgent;let e,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE",version:e[1]||""}):n[1]==="Chrome"&&(e=t.match(/\bOPR|Edge\/(\d+)/),e!=null)?{name:"Opera",version:e[1]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],(e=t.match(/version\/(\d+)/i))!=null&&n.splice(1,1,e[1]),{name:n[0],version:n[1]})}function _2(){return/Android/i.test(navigator.userAgent)?"Android":/webOS/i.test(navigator.userAgent)?"webOS":/iPhone/i.test(navigator.userAgent)?"iPhone":/iPad/i.test(navigator.userAgent)?"iPad":/iPod/i.test(navigator.userAgent)?"iPod":/BlackBerry/i.test(navigator.userAgent)?"BlackBerry":/IEMobile/i.test(navigator.userAgent)?"IEMobile":/Opera Mini/i.test(navigator.userAgent)?"Opera Mini":null}async function S2(){const t=await US.ipify.fetchIP();return{ip:t.status==="success"?t.ip:"",time:new Date().toString(),timezone:new Date().getTimezoneOffset()/60,language:window.navigator.language,languages:[...window.navigator.languages],mobile:_2()||"",page:window.location.pathname,referrer:document.referrer,browser:w2(),screenWidth:window.screen.width,screenHeight:window.screen.height,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight}}const E2="156bmyJELUA_4HS995nK2KNl4NAgBkxh-OQrQT2jEjO4";async function C2(){const t=await S2(),{ip:e,page:n,time:r,language:i,languages:s,browser:o,mobile:a,screenHeight:l,screenWidth:u,viewportHeight:c,viewportWidth:d}=t;await US.appsscript.postTitledColumnsDataByTitles({spreadsheetId:E2,titlesParams:{ip:e,page:n,time:r,language:i,languages:s.join(" | "),browser:o.name,version:o.version,mobile:a,screenHeight:l,screenWidth:u,viewportHeight:c,viewportWidth:d}})}C2();var T2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function FS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var h={},I2={get exports(){return h},set exports(t){h=t}},Qd={},T={},b2={get exports(){return T},set exports(t){T=t}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nu=Symbol.for("react.element"),k2=Symbol.for("react.portal"),x2=Symbol.for("react.fragment"),R2=Symbol.for("react.strict_mode"),A2=Symbol.for("react.profiler"),P2=Symbol.for("react.provider"),L2=Symbol.for("react.context"),N2=Symbol.for("react.forward_ref"),O2=Symbol.for("react.suspense"),D2=Symbol.for("react.memo"),j2=Symbol.for("react.lazy"),G1=Symbol.iterator;function M2(t){return t===null||typeof t!="object"?null:(t=G1&&t[G1]||t["@@iterator"],typeof t=="function"?t:null)}var VS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zS=Object.assign,BS={};function ta(t,e,n){this.props=t,this.context=e,this.refs=BS,this.updater=n||VS}ta.prototype.isReactComponent={};ta.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ta.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HS(){}HS.prototype=ta.prototype;function Vg(t,e,n){this.props=t,this.context=e,this.refs=BS,this.updater=n||VS}var zg=Vg.prototype=new HS;zg.constructor=Vg;zS(zg,ta.prototype);zg.isPureReactComponent=!0;var Q1=Array.isArray,qS=Object.prototype.hasOwnProperty,Bg={current:null},WS={key:!0,ref:!0,__self:!0,__source:!0};function KS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)qS.call(e,r)&&!WS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:nu,type:t,key:s,ref:o,props:i,_owner:Bg.current}}function $2(t,e){return{$$typeof:nu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hg(t){return typeof t=="object"&&t!==null&&t.$$typeof===nu}function U2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Y1=/\/+/g;function Rh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?U2(""+t.key):e.toString(36)}function mc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nu:case k2:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Rh(o,0):r,Q1(i)?(n="",t!=null&&(n=t.replace(Y1,"$&/")+"/"),mc(i,e,n,"",function(u){return u})):i!=null&&(Hg(i)&&(i=$2(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Y1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Q1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Rh(s,a);o+=mc(s,e,n,l,i)}else if(l=M2(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Rh(s,a++),o+=mc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Fu(t,e,n){if(t==null)return t;var r=[],i=0;return mc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function F2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},gc={transition:null},V2={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:gc,ReactCurrentOwner:Bg};Te.Children={map:Fu,forEach:function(t,e,n){Fu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fu(t,function(){e++}),e},toArray:function(t){return Fu(t,function(e){return e})||[]},only:function(t){if(!Hg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=ta;Te.Fragment=x2;Te.Profiler=A2;Te.PureComponent=Vg;Te.StrictMode=R2;Te.Suspense=O2;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V2;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Bg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)qS.call(e,l)&&!WS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:nu,type:t.type,key:i,ref:s,props:r,_owner:o}};Te.createContext=function(t){return t={$$typeof:L2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:P2,_context:t},t.Consumer=t};Te.createElement=KS;Te.createFactory=function(t){var e=KS.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:N2,render:t}};Te.isValidElement=Hg;Te.lazy=function(t){return{$$typeof:j2,_payload:{_status:-1,_result:t},_init:F2}};Te.memo=function(t,e){return{$$typeof:D2,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=gc.transition;gc.transition={};try{t()}finally{gc.transition=e}};Te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Te.useCallback=function(t,e){return rn.current.useCallback(t,e)};Te.useContext=function(t){return rn.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};Te.useEffect=function(t,e){return rn.current.useEffect(t,e)};Te.useId=function(){return rn.current.useId()};Te.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return rn.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};Te.useRef=function(t){return rn.current.useRef(t)};Te.useState=function(t){return rn.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return rn.current.useTransition()};Te.version="18.2.0";(function(t){t.exports=Te})(b2);const Qn=FS(T),Xp=c2({__proto__:null,default:Qn},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z2=T,B2=Symbol.for("react.element"),H2=Symbol.for("react.fragment"),q2=Object.prototype.hasOwnProperty,W2=z2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,K2={key:!0,ref:!0,__self:!0,__source:!0};function GS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)q2.call(e,r)&&!K2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:B2,type:t,key:s,ref:o,props:i,_owner:W2.current}}Qd.Fragment=H2;Qd.jsx=GS;Qd.jsxs=GS;(function(t){t.exports=Qd})(I2);var gl={},G2={get exports(){return gl},set exports(t){gl=t}},Tn={},Jp={},Q2={get exports(){return Jp},set exports(t){Jp=t}},QS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,K){var re=q.length;q.push(K);e:for(;0<re;){var Re=re-1>>>1,Me=q[Re];if(0<i(Me,K))q[Re]=K,q[re]=Me,re=Re;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var K=q[0],re=q.pop();if(re!==K){q[0]=re;e:for(var Re=0,Me=q.length,ht=Me>>>1;Re<ht;){var Ct=2*(Re+1)-1,Bn=q[Ct],Fe=Ct+1,pt=q[Fe];if(0>i(Bn,re))Fe<Me&&0>i(pt,Bn)?(q[Re]=pt,q[Fe]=re,Re=Fe):(q[Re]=Bn,q[Ct]=re,Re=Ct);else if(Fe<Me&&0>i(pt,re))q[Re]=pt,q[Fe]=re,Re=Fe;else break e}}return K}function i(q,K){var re=q.sortIndex-K.sortIndex;return re!==0?re:q.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,y=!1,m=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(q){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=q)r(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(u)}}function _(q){if(m=!1,w(q),!y)if(n(l)!==null)y=!0,je(C);else{var K=n(u);K!==null&&at(_,K.startTime-q)}}function C(q,K){y=!1,m&&(m=!1,v(O),O=-1),p=!0;var re=f;try{for(w(K),d=n(l);d!==null&&(!(d.expirationTime>K)||q&&!Q());){var Re=d.callback;if(typeof Re=="function"){d.callback=null,f=d.priorityLevel;var Me=Re(d.expirationTime<=K);K=t.unstable_now(),typeof Me=="function"?d.callback=Me:d===n(l)&&r(l),w(K)}else r(l);d=n(l)}if(d!==null)var ht=!0;else{var Ct=n(u);Ct!==null&&at(_,Ct.startTime-K),ht=!1}return ht}finally{d=null,f=re,p=!1}}var I=!1,b=null,O=-1,A=5,D=-1;function Q(){return!(t.unstable_now()-D<A)}function H(){if(b!==null){var q=t.unstable_now();D=q;var K=!0;try{K=b(!0,q)}finally{K?$():(I=!1,b=null)}}else I=!1}var $;if(typeof g=="function")$=function(){g(H)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,be=ae.port2;ae.port1.onmessage=H,$=function(){be.postMessage(null)}}else $=function(){S(H,0)};function je(q){b=q,I||(I=!0,$())}function at(q,K){O=S(function(){q(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,je(C))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var re=f;f=K;try{return q()}finally{f=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,K){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var re=f;f=q;try{return K()}finally{f=re}},t.unstable_scheduleCallback=function(q,K,re){var Re=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Re+re:Re):re=Re,q){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=re+Me,q={id:c++,callback:K,priorityLevel:q,startTime:re,expirationTime:Me,sortIndex:-1},re>Re?(q.sortIndex=re,e(u,q),n(l)===null&&q===n(u)&&(m?(v(O),O=-1):m=!0,at(_,re-Re))):(q.sortIndex=Me,e(l,q),y||p||(y=!0,je(C))),q},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(q){var K=f;return function(){var re=f;f=K;try{return q.apply(this,arguments)}finally{f=re}}}})(QS);(function(t){t.exports=QS})(Q2);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YS=T,Sn=Jp;function V(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XS=new Set,yl={};function Ms(t,e){Mo(t,e),Mo(t+"Capture",e)}function Mo(t,e){for(yl[t]=e,t=0;t<e.length;t++)XS.add(e[t])}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zp=Object.prototype.hasOwnProperty,Y2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,X1={},J1={};function X2(t){return Zp.call(J1,t)?!0:Zp.call(X1,t)?!1:Y2.test(t)?J1[t]=!0:(X1[t]=!0,!1)}function J2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Z2(t,e,n,r){if(e===null||typeof e>"u"||J2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ot[t]=new sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ot[e]=new sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ot[t]=new sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ot[t]=new sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ot[t]=new sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ot[t]=new sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ot[t]=new sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ot[t]=new sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ot[t]=new sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var qg=/[\-:]([a-z])/g;function Wg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qg,Wg);Ot[e]=new sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qg,Wg);Ot[e]=new sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qg,Wg);Ot[e]=new sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ot[t]=new sn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ot[t]=new sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Kg(t,e,n,r){var i=Ot.hasOwnProperty(e)?Ot[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Z2(e,n,i,r)&&(n=null),r||i===null?X2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ni=YS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vu=Symbol.for("react.element"),io=Symbol.for("react.portal"),so=Symbol.for("react.fragment"),Gg=Symbol.for("react.strict_mode"),em=Symbol.for("react.profiler"),JS=Symbol.for("react.provider"),ZS=Symbol.for("react.context"),Qg=Symbol.for("react.forward_ref"),tm=Symbol.for("react.suspense"),nm=Symbol.for("react.suspense_list"),Yg=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),eE=Symbol.for("react.offscreen"),Z1=Symbol.iterator;function _a(t){return t===null||typeof t!="object"?null:(t=Z1&&t[Z1]||t["@@iterator"],typeof t=="function"?t:null)}var Ze=Object.assign,Ah;function $a(t){if(Ah===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ah=e&&e[1]||""}return`
`+Ah+t}var Ph=!1;function Lh(t,e){if(!t||Ph)return"";Ph=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ph=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$a(t):""}function eR(t){switch(t.tag){case 5:return $a(t.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 2:case 15:return t=Lh(t.type,!1),t;case 11:return t=Lh(t.type.render,!1),t;case 1:return t=Lh(t.type,!0),t;default:return""}}function rm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case so:return"Fragment";case io:return"Portal";case em:return"Profiler";case Gg:return"StrictMode";case tm:return"Suspense";case nm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ZS:return(t.displayName||"Context")+".Consumer";case JS:return(t._context.displayName||"Context")+".Provider";case Qg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yg:return e=t.displayName||null,e!==null?e:rm(t.type)||"Memo";case ci:e=t._payload,t=t._init;try{return rm(t(e))}catch{}}return null}function tR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rm(e);case 8:return e===Gg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nR(t){var e=tE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zu(t){t._valueTracker||(t._valueTracker=nR(t))}function nE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function im(t,e){var n=e.checked;return Ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function e0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Di(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rE(t,e){e=e.checked,e!=null&&Kg(t,"checked",e,!1)}function sm(t,e){rE(t,e);var n=Di(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?om(t,e.type,n):e.hasOwnProperty("defaultValue")&&om(t,e.type,Di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function t0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function om(t,e,n){(e!=="number"||Bc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ua=Array.isArray;function Eo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Di(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function am(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(V(91));return Ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function n0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(V(92));if(Ua(n)){if(1<n.length)throw Error(V(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Di(n)}}function iE(t,e){var n=Di(e.value),r=Di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function r0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bu,oE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bu=Bu||document.createElement("div"),Bu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Qa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rR=["Webkit","ms","Moz","O"];Object.keys(Qa).forEach(function(t){rR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qa[e]=Qa[t]})});function aE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Qa.hasOwnProperty(t)&&Qa[t]?(""+e).trim():e+"px"}function lE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=aE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var iR=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function um(t,e){if(e){if(iR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(V(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(V(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(V(61))}if(e.style!=null&&typeof e.style!="object")throw Error(V(62))}}function cm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dm=null;function Xg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fm=null,Co=null,To=null;function i0(t){if(t=su(t)){if(typeof fm!="function")throw Error(V(280));var e=t.stateNode;e&&(e=ef(e),fm(t.stateNode,t.type,e))}}function uE(t){Co?To?To.push(t):To=[t]:Co=t}function cE(){if(Co){var t=Co,e=To;if(To=Co=null,i0(t),e)for(t=0;t<e.length;t++)i0(e[t])}}function dE(t,e){return t(e)}function fE(){}var Nh=!1;function hE(t,e,n){if(Nh)return t(e,n);Nh=!0;try{return dE(t,e,n)}finally{Nh=!1,(Co!==null||To!==null)&&(fE(),cE())}}function wl(t,e){var n=t.stateNode;if(n===null)return null;var r=ef(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(V(231,e,typeof n));return n}var hm=!1;if(qr)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){hm=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{hm=!1}function sR(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ya=!1,Hc=null,qc=!1,pm=null,oR={onError:function(t){Ya=!0,Hc=t}};function aR(t,e,n,r,i,s,o,a,l){Ya=!1,Hc=null,sR.apply(oR,arguments)}function lR(t,e,n,r,i,s,o,a,l){if(aR.apply(this,arguments),Ya){if(Ya){var u=Hc;Ya=!1,Hc=null}else throw Error(V(198));qc||(qc=!0,pm=u)}}function $s(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function s0(t){if($s(t)!==t)throw Error(V(188))}function uR(t){var e=t.alternate;if(!e){if(e=$s(t),e===null)throw Error(V(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return s0(i),t;if(s===r)return s0(i),e;s=s.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?t:e}function mE(t){return t=uR(t),t!==null?gE(t):null}function gE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gE(t);if(e!==null)return e;t=t.sibling}return null}var yE=Sn.unstable_scheduleCallback,o0=Sn.unstable_cancelCallback,cR=Sn.unstable_shouldYield,dR=Sn.unstable_requestPaint,ot=Sn.unstable_now,fR=Sn.unstable_getCurrentPriorityLevel,Jg=Sn.unstable_ImmediatePriority,vE=Sn.unstable_UserBlockingPriority,Wc=Sn.unstable_NormalPriority,hR=Sn.unstable_LowPriority,wE=Sn.unstable_IdlePriority,Yd=null,mr=null;function pR(t){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(Yd,t,void 0,(t.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:yR,mR=Math.log,gR=Math.LN2;function yR(t){return t>>>=0,t===0?32:31-(mR(t)/gR|0)|0}var Hu=64,qu=4194304;function Fa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Fa(a):(s&=o,s!==0&&(r=Fa(s)))}else o=n&~i,o!==0?r=Fa(o):s!==0&&(r=Fa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jn(e),i=1<<n,r|=t[n],e&=~i;return r}function vR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Jn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=vR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function mm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _E(){var t=Hu;return Hu<<=1,!(Hu&4194240)&&(Hu=64),t}function Oh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ru(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jn(e),t[e]=n}function _R(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Zg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ne=0;function SE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var EE,ey,CE,TE,IE,gm=!1,Wu=[],Si=null,Ei=null,Ci=null,_l=new Map,Sl=new Map,fi=[],SR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function a0(t,e){switch(t){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":_l.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(e.pointerId)}}function Ea(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=su(e),e!==null&&ey(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ER(t,e,n,r,i){switch(e){case"focusin":return Si=Ea(Si,t,e,n,r,i),!0;case"dragenter":return Ei=Ea(Ei,t,e,n,r,i),!0;case"mouseover":return Ci=Ea(Ci,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return _l.set(s,Ea(_l.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Sl.set(s,Ea(Sl.get(s)||null,t,e,n,r,i)),!0}return!1}function bE(t){var e=ss(t.target);if(e!==null){var n=$s(e);if(n!==null){if(e=n.tag,e===13){if(e=pE(n),e!==null){t.blockedOn=e,IE(t.priority,function(){CE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ym(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);dm=r,n.target.dispatchEvent(r),dm=null}else return e=su(n),e!==null&&ey(e),t.blockedOn=n,!1;e.shift()}return!0}function l0(t,e,n){yc(t)&&n.delete(e)}function CR(){gm=!1,Si!==null&&yc(Si)&&(Si=null),Ei!==null&&yc(Ei)&&(Ei=null),Ci!==null&&yc(Ci)&&(Ci=null),_l.forEach(l0),Sl.forEach(l0)}function Ca(t,e){t.blockedOn===e&&(t.blockedOn=null,gm||(gm=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,CR)))}function El(t){function e(i){return Ca(i,t)}if(0<Wu.length){Ca(Wu[0],t);for(var n=1;n<Wu.length;n++){var r=Wu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Si!==null&&Ca(Si,t),Ei!==null&&Ca(Ei,t),Ci!==null&&Ca(Ci,t),_l.forEach(e),Sl.forEach(e),n=0;n<fi.length;n++)r=fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fi.length&&(n=fi[0],n.blockedOn===null);)bE(n),n.blockedOn===null&&fi.shift()}var Io=ni.ReactCurrentBatchConfig,Gc=!0;function TR(t,e,n,r){var i=Ne,s=Io.transition;Io.transition=null;try{Ne=1,ty(t,e,n,r)}finally{Ne=i,Io.transition=s}}function IR(t,e,n,r){var i=Ne,s=Io.transition;Io.transition=null;try{Ne=4,ty(t,e,n,r)}finally{Ne=i,Io.transition=s}}function ty(t,e,n,r){if(Gc){var i=ym(t,e,n,r);if(i===null)Hh(t,e,r,Qc,n),a0(t,r);else if(ER(i,t,e,n,r))r.stopPropagation();else if(a0(t,r),e&4&&-1<SR.indexOf(t)){for(;i!==null;){var s=su(i);if(s!==null&&EE(s),s=ym(t,e,n,r),s===null&&Hh(t,e,r,Qc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Hh(t,e,r,null,n)}}var Qc=null;function ym(t,e,n,r){if(Qc=null,t=Xg(r),t=ss(t),t!==null)if(e=$s(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qc=t,null}function kE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fR()){case Jg:return 1;case vE:return 4;case Wc:case hR:return 16;case wE:return 536870912;default:return 16}default:return 16}}var wi=null,ny=null,vc=null;function xE(){if(vc)return vc;var t,e=ny,n=e.length,r,i="value"in wi?wi.value:wi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return vc=i.slice(t,1<r?1-r:void 0)}function wc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ku(){return!0}function u0(){return!1}function In(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ku:u0,this.isPropagationStopped=u0,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ku)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ku)},persist:function(){},isPersistent:Ku}),e}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ry=In(na),iu=Ze({},na,{view:0,detail:0}),bR=In(iu),Dh,jh,Ta,Xd=Ze({},iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ta&&(Ta&&t.type==="mousemove"?(Dh=t.screenX-Ta.screenX,jh=t.screenY-Ta.screenY):jh=Dh=0,Ta=t),Dh)},movementY:function(t){return"movementY"in t?t.movementY:jh}}),c0=In(Xd),kR=Ze({},Xd,{dataTransfer:0}),xR=In(kR),RR=Ze({},iu,{relatedTarget:0}),Mh=In(RR),AR=Ze({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),PR=In(AR),LR=Ze({},na,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NR=In(LR),OR=Ze({},na,{data:0}),d0=In(OR),DR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $R(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MR[t])?!!e[t]:!1}function iy(){return $R}var UR=Ze({},iu,{key:function(t){if(t.key){var e=DR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iy,charCode:function(t){return t.type==="keypress"?wc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FR=In(UR),VR=Ze({},Xd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f0=In(VR),zR=Ze({},iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iy}),BR=In(zR),HR=Ze({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),qR=In(HR),WR=Ze({},Xd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KR=In(WR),GR=[9,13,27,32],sy=qr&&"CompositionEvent"in window,Xa=null;qr&&"documentMode"in document&&(Xa=document.documentMode);var QR=qr&&"TextEvent"in window&&!Xa,RE=qr&&(!sy||Xa&&8<Xa&&11>=Xa),h0=String.fromCharCode(32),p0=!1;function AE(t,e){switch(t){case"keyup":return GR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oo=!1;function YR(t,e){switch(t){case"compositionend":return PE(e);case"keypress":return e.which!==32?null:(p0=!0,h0);case"textInput":return t=e.data,t===h0&&p0?null:t;default:return null}}function XR(t,e){if(oo)return t==="compositionend"||!sy&&AE(t,e)?(t=xE(),vc=ny=wi=null,oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return RE&&e.locale!=="ko"?null:e.data;default:return null}}var JR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function m0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JR[t.type]:e==="textarea"}function LE(t,e,n,r){uE(r),e=Yc(e,"onChange"),0<e.length&&(n=new ry("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ja=null,Cl=null;function ZR(t){BE(t,0)}function Jd(t){var e=uo(t);if(nE(e))return t}function eA(t,e){if(t==="change")return e}var NE=!1;if(qr){var $h;if(qr){var Uh="oninput"in document;if(!Uh){var g0=document.createElement("div");g0.setAttribute("oninput","return;"),Uh=typeof g0.oninput=="function"}$h=Uh}else $h=!1;NE=$h&&(!document.documentMode||9<document.documentMode)}function y0(){Ja&&(Ja.detachEvent("onpropertychange",OE),Cl=Ja=null)}function OE(t){if(t.propertyName==="value"&&Jd(Cl)){var e=[];LE(e,Cl,t,Xg(t)),hE(ZR,e)}}function tA(t,e,n){t==="focusin"?(y0(),Ja=e,Cl=n,Ja.attachEvent("onpropertychange",OE)):t==="focusout"&&y0()}function nA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jd(Cl)}function rA(t,e){if(t==="click")return Jd(e)}function iA(t,e){if(t==="input"||t==="change")return Jd(e)}function sA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tr=typeof Object.is=="function"?Object.is:sA;function Tl(t,e){if(tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Zp.call(e,i)||!tr(t[i],e[i]))return!1}return!0}function v0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function w0(t,e){var n=v0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=v0(n)}}function DE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?DE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jE(){for(var t=window,e=Bc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bc(t.document)}return e}function oy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oA(t){var e=jE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&DE(n.ownerDocument.documentElement,n)){if(r!==null&&oy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=w0(n,s);var o=w0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aA=qr&&"documentMode"in document&&11>=document.documentMode,ao=null,vm=null,Za=null,wm=!1;function _0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wm||ao==null||ao!==Bc(r)||(r=ao,"selectionStart"in r&&oy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Za&&Tl(Za,r)||(Za=r,r=Yc(vm,"onSelect"),0<r.length&&(e=new ry("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ao)))}function Gu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lo={animationend:Gu("Animation","AnimationEnd"),animationiteration:Gu("Animation","AnimationIteration"),animationstart:Gu("Animation","AnimationStart"),transitionend:Gu("Transition","TransitionEnd")},Fh={},ME={};qr&&(ME=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function Zd(t){if(Fh[t])return Fh[t];if(!lo[t])return t;var e=lo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ME)return Fh[t]=e[n];return t}var $E=Zd("animationend"),UE=Zd("animationiteration"),FE=Zd("animationstart"),VE=Zd("transitionend"),zE=new Map,S0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(t,e){zE.set(t,e),Ms(e,[t])}for(var Vh=0;Vh<S0.length;Vh++){var zh=S0[Vh],lA=zh.toLowerCase(),uA=zh[0].toUpperCase()+zh.slice(1);zi(lA,"on"+uA)}zi($E,"onAnimationEnd");zi(UE,"onAnimationIteration");zi(FE,"onAnimationStart");zi("dblclick","onDoubleClick");zi("focusin","onFocus");zi("focusout","onBlur");zi(VE,"onTransitionEnd");Mo("onMouseEnter",["mouseout","mouseover"]);Mo("onMouseLeave",["mouseout","mouseover"]);Mo("onPointerEnter",["pointerout","pointerover"]);Mo("onPointerLeave",["pointerout","pointerover"]);Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Va));function E0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lR(r,e,void 0,t),t.currentTarget=null}function BE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;E0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;E0(i,a,u),s=l}}}if(qc)throw t=pm,qc=!1,pm=null,t}function Ve(t,e){var n=e[Tm];n===void 0&&(n=e[Tm]=new Set);var r=t+"__bubble";n.has(r)||(HE(e,t,2,!1),n.add(r))}function Bh(t,e,n){var r=0;e&&(r|=4),HE(n,t,r,e)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function Il(t){if(!t[Qu]){t[Qu]=!0,XS.forEach(function(n){n!=="selectionchange"&&(cA.has(n)||Bh(n,!1,t),Bh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qu]||(e[Qu]=!0,Bh("selectionchange",!1,e))}}function HE(t,e,n,r){switch(kE(e)){case 1:var i=TR;break;case 4:i=IR;break;default:i=ty}n=i.bind(null,e,n,t),i=void 0,!hm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ss(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}hE(function(){var u=s,c=Xg(n),d=[];e:{var f=zE.get(t);if(f!==void 0){var p=ry,y=t;switch(t){case"keypress":if(wc(n)===0)break e;case"keydown":case"keyup":p=FR;break;case"focusin":y="focus",p=Mh;break;case"focusout":y="blur",p=Mh;break;case"beforeblur":case"afterblur":p=Mh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=c0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=xR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=BR;break;case $E:case UE:case FE:p=PR;break;case VE:p=qR;break;case"scroll":p=bR;break;case"wheel":p=KR;break;case"copy":case"cut":case"paste":p=NR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=f0}var m=(e&4)!==0,S=!m&&t==="scroll",v=m?f!==null?f+"Capture":null:f;m=[];for(var g=u,w;g!==null;){w=g;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,v!==null&&(_=wl(g,v),_!=null&&m.push(bl(g,_,w)))),S)break;g=g.return}0<m.length&&(f=new p(f,y,null,n,c),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==dm&&(y=n.relatedTarget||n.fromElement)&&(ss(y)||y[Wr]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?ss(y):null,y!==null&&(S=$s(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(m=c0,_="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(m=f0,_="onPointerLeave",v="onPointerEnter",g="pointer"),S=p==null?f:uo(p),w=y==null?f:uo(y),f=new m(_,g+"leave",p,n,c),f.target=S,f.relatedTarget=w,_=null,ss(c)===u&&(m=new m(v,g+"enter",y,n,c),m.target=w,m.relatedTarget=S,_=m),S=_,p&&y)t:{for(m=p,v=y,g=0,w=m;w;w=Ys(w))g++;for(w=0,_=v;_;_=Ys(_))w++;for(;0<g-w;)m=Ys(m),g--;for(;0<w-g;)v=Ys(v),w--;for(;g--;){if(m===v||v!==null&&m===v.alternate)break t;m=Ys(m),v=Ys(v)}m=null}else m=null;p!==null&&C0(d,f,p,m,!1),y!==null&&S!==null&&C0(d,S,y,m,!0)}}e:{if(f=u?uo(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=eA;else if(m0(f))if(NE)C=iA;else{C=nA;var I=tA}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=rA);if(C&&(C=C(t,u))){LE(d,C,n,c);break e}I&&I(t,f,u),t==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&om(f,"number",f.value)}switch(I=u?uo(u):window,t){case"focusin":(m0(I)||I.contentEditable==="true")&&(ao=I,vm=u,Za=null);break;case"focusout":Za=vm=ao=null;break;case"mousedown":wm=!0;break;case"contextmenu":case"mouseup":case"dragend":wm=!1,_0(d,n,c);break;case"selectionchange":if(aA)break;case"keydown":case"keyup":_0(d,n,c)}var b;if(sy)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else oo?AE(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(RE&&n.locale!=="ko"&&(oo||O!=="onCompositionStart"?O==="onCompositionEnd"&&oo&&(b=xE()):(wi=c,ny="value"in wi?wi.value:wi.textContent,oo=!0)),I=Yc(u,O),0<I.length&&(O=new d0(O,t,null,n,c),d.push({event:O,listeners:I}),b?O.data=b:(b=PE(n),b!==null&&(O.data=b)))),(b=QR?YR(t,n):XR(t,n))&&(u=Yc(u,"onBeforeInput"),0<u.length&&(c=new d0("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=b))}BE(d,e)})}function bl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wl(t,n),s!=null&&r.unshift(bl(t,s,i)),s=wl(t,e),s!=null&&r.push(bl(t,s,i))),t=t.return}return r}function Ys(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function C0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=wl(n,s),l!=null&&o.unshift(bl(n,l,a))):i||(l=wl(n,s),l!=null&&o.push(bl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var dA=/\r\n?/g,fA=/\u0000|\uFFFD/g;function T0(t){return(typeof t=="string"?t:""+t).replace(dA,`
`).replace(fA,"")}function Yu(t,e,n){if(e=T0(e),T0(t)!==e&&n)throw Error(V(425))}function Xc(){}var _m=null,Sm=null;function Em(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Cm=typeof setTimeout=="function"?setTimeout:void 0,hA=typeof clearTimeout=="function"?clearTimeout:void 0,I0=typeof Promise=="function"?Promise:void 0,pA=typeof queueMicrotask=="function"?queueMicrotask:typeof I0<"u"?function(t){return I0.resolve(null).then(t).catch(mA)}:Cm;function mA(t){setTimeout(function(){throw t})}function qh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),El(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);El(e)}function Ti(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function b0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ra=Math.random().toString(36).slice(2),cr="__reactFiber$"+ra,kl="__reactProps$"+ra,Wr="__reactContainer$"+ra,Tm="__reactEvents$"+ra,gA="__reactListeners$"+ra,yA="__reactHandles$"+ra;function ss(t){var e=t[cr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wr]||n[cr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=b0(t);t!==null;){if(n=t[cr])return n;t=b0(t)}return e}t=n,n=t.parentNode}return null}function su(t){return t=t[cr]||t[Wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function uo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(V(33))}function ef(t){return t[kl]||null}var Im=[],co=-1;function Bi(t){return{current:t}}function ze(t){0>co||(t.current=Im[co],Im[co]=null,co--)}function $e(t,e){co++,Im[co]=t.current,t.current=e}var ji={},Gt=Bi(ji),cn=Bi(!1),Cs=ji;function $o(t,e){var n=t.type.contextTypes;if(!n)return ji;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function dn(t){return t=t.childContextTypes,t!=null}function Jc(){ze(cn),ze(Gt)}function k0(t,e,n){if(Gt.current!==ji)throw Error(V(168));$e(Gt,e),$e(cn,n)}function qE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(V(108,tR(t)||"Unknown",i));return Ze({},n,r)}function Zc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ji,Cs=Gt.current,$e(Gt,t),$e(cn,cn.current),!0}function x0(t,e,n){var r=t.stateNode;if(!r)throw Error(V(169));n?(t=qE(t,e,Cs),r.__reactInternalMemoizedMergedChildContext=t,ze(cn),ze(Gt),$e(Gt,t)):ze(cn),$e(cn,n)}var Nr=null,tf=!1,Wh=!1;function WE(t){Nr===null?Nr=[t]:Nr.push(t)}function vA(t){tf=!0,WE(t)}function Hi(){if(!Wh&&Nr!==null){Wh=!0;var t=0,e=Ne;try{var n=Nr;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nr=null,tf=!1}catch(i){throw Nr!==null&&(Nr=Nr.slice(t+1)),yE(Jg,Hi),i}finally{Ne=e,Wh=!1}}return null}var fo=[],ho=0,ed=null,td=0,Pn=[],Ln=0,Ts=null,Dr=1,jr="";function es(t,e){fo[ho++]=td,fo[ho++]=ed,ed=t,td=e}function KE(t,e,n){Pn[Ln++]=Dr,Pn[Ln++]=jr,Pn[Ln++]=Ts,Ts=t;var r=Dr;t=jr;var i=32-Jn(r)-1;r&=~(1<<i),n+=1;var s=32-Jn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Dr=1<<32-Jn(e)+i|n<<i|r,jr=s+t}else Dr=1<<s|n<<i|r,jr=t}function ay(t){t.return!==null&&(es(t,1),KE(t,1,0))}function ly(t){for(;t===ed;)ed=fo[--ho],fo[ho]=null,td=fo[--ho],fo[ho]=null;for(;t===Ts;)Ts=Pn[--Ln],Pn[Ln]=null,jr=Pn[--Ln],Pn[Ln]=null,Dr=Pn[--Ln],Pn[Ln]=null}var wn=null,yn=null,We=!1,Gn=null;function GE(t,e){var n=Nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function R0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wn=t,yn=Ti(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wn=t,yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ts!==null?{id:Dr,overflow:jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wn=t,yn=null,!0):!1;default:return!1}}function bm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function km(t){if(We){var e=yn;if(e){var n=e;if(!R0(t,e)){if(bm(t))throw Error(V(418));e=Ti(n.nextSibling);var r=wn;e&&R0(t,e)?GE(r,n):(t.flags=t.flags&-4097|2,We=!1,wn=t)}}else{if(bm(t))throw Error(V(418));t.flags=t.flags&-4097|2,We=!1,wn=t}}}function A0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wn=t}function Xu(t){if(t!==wn)return!1;if(!We)return A0(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Em(t.type,t.memoizedProps)),e&&(e=yn)){if(bm(t))throw QE(),Error(V(418));for(;e;)GE(t,e),e=Ti(e.nextSibling)}if(A0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(V(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yn=Ti(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yn=null}}else yn=wn?Ti(t.stateNode.nextSibling):null;return!0}function QE(){for(var t=yn;t;)t=Ti(t.nextSibling)}function Uo(){yn=wn=null,We=!1}function uy(t){Gn===null?Gn=[t]:Gn.push(t)}var wA=ni.ReactCurrentBatchConfig;function Wn(t,e){if(t&&t.defaultProps){e=Ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var nd=Bi(null),rd=null,po=null,cy=null;function dy(){cy=po=rd=null}function fy(t){var e=nd.current;ze(nd),t._currentValue=e}function xm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bo(t,e){rd=t,cy=po=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(un=!0),t.firstContext=null)}function Mn(t){var e=t._currentValue;if(cy!==t)if(t={context:t,memoizedValue:e,next:null},po===null){if(rd===null)throw Error(V(308));po=t,rd.dependencies={lanes:0,firstContext:t}}else po=po.next=t;return e}var os=null;function hy(t){os===null?os=[t]:os.push(t)}function YE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Kr(t,r)}function Kr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var di=!1;function py(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ii(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Kr(t,n)}return i=r.interleaved,i===null?(e.next=e,hy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Kr(t,n)}function _c(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zg(t,n)}}function P0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function id(t,e,n,r){var i=t.updateQueue;di=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,m=a;switch(f=e,p=n,m.tag){case 1:if(y=m.payload,typeof y=="function"){d=y.call(p,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,f=typeof y=="function"?y.call(p,d,f):y,f==null)break e;d=Ze({},d,f);break e;case 2:di=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);bs|=o,t.lanes=o,t.memoizedState=d}}function L0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var JE=new YS.Component().refs;function Rm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nf={isMounted:function(t){return(t=t._reactInternals)?$s(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nn(),i=ki(t),s=Fr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ii(t,s,i),e!==null&&(Zn(e,t,i,r),_c(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nn(),i=ki(t),s=Fr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ii(t,s,i),e!==null&&(Zn(e,t,i,r),_c(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nn(),r=ki(t),i=Fr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ii(t,i,r),e!==null&&(Zn(e,t,r,n),_c(e,t,r))}};function N0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Tl(n,r)||!Tl(i,s):!0}function ZE(t,e,n){var r=!1,i=ji,s=e.contextType;return typeof s=="object"&&s!==null?s=Mn(s):(i=dn(e)?Cs:Gt.current,r=e.contextTypes,s=(r=r!=null)?$o(t,i):ji),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function O0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nf.enqueueReplaceState(e,e.state,null)}function Am(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=JE,py(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Mn(s):(s=dn(e)?Cs:Gt.current,i.context=$o(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Rm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nf.enqueueReplaceState(i,i.state,null),id(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ia(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===JE&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,t))}return t}function Ju(t,e){throw t=Object.prototype.toString.call(e),Error(V(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function D0(t){var e=t._init;return e(t._payload)}function eC(t){function e(v,g){if(t){var w=v.deletions;w===null?(v.deletions=[g],v.flags|=16):w.push(g)}}function n(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function i(v,g){return v=xi(v,g),v.index=0,v.sibling=null,v}function s(v,g,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<g?(v.flags|=2,g):w):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,g,w,_){return g===null||g.tag!==6?(g=Zh(w,v.mode,_),g.return=v,g):(g=i(g,w),g.return=v,g)}function l(v,g,w,_){var C=w.type;return C===so?c(v,g,w.props.children,_,w.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ci&&D0(C)===g.type)?(_=i(g,w.props),_.ref=Ia(v,g,w),_.return=v,_):(_=bc(w.type,w.key,w.props,null,v.mode,_),_.ref=Ia(v,g,w),_.return=v,_)}function u(v,g,w,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=ep(w,v.mode,_),g.return=v,g):(g=i(g,w.children||[]),g.return=v,g)}function c(v,g,w,_,C){return g===null||g.tag!==7?(g=gs(w,v.mode,_,C),g.return=v,g):(g=i(g,w),g.return=v,g)}function d(v,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Zh(""+g,v.mode,w),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Vu:return w=bc(g.type,g.key,g.props,null,v.mode,w),w.ref=Ia(v,null,g),w.return=v,w;case io:return g=ep(g,v.mode,w),g.return=v,g;case ci:var _=g._init;return d(v,_(g._payload),w)}if(Ua(g)||_a(g))return g=gs(g,v.mode,w,null),g.return=v,g;Ju(v,g)}return null}function f(v,g,w,_){var C=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:a(v,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vu:return w.key===C?l(v,g,w,_):null;case io:return w.key===C?u(v,g,w,_):null;case ci:return C=w._init,f(v,g,C(w._payload),_)}if(Ua(w)||_a(w))return C!==null?null:c(v,g,w,_,null);Ju(v,w)}return null}function p(v,g,w,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(w)||null,a(g,v,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Vu:return v=v.get(_.key===null?w:_.key)||null,l(g,v,_,C);case io:return v=v.get(_.key===null?w:_.key)||null,u(g,v,_,C);case ci:var I=_._init;return p(v,g,w,I(_._payload),C)}if(Ua(_)||_a(_))return v=v.get(w)||null,c(g,v,_,C,null);Ju(g,_)}return null}function y(v,g,w,_){for(var C=null,I=null,b=g,O=g=0,A=null;b!==null&&O<w.length;O++){b.index>O?(A=b,b=null):A=b.sibling;var D=f(v,b,w[O],_);if(D===null){b===null&&(b=A);break}t&&b&&D.alternate===null&&e(v,b),g=s(D,g,O),I===null?C=D:I.sibling=D,I=D,b=A}if(O===w.length)return n(v,b),We&&es(v,O),C;if(b===null){for(;O<w.length;O++)b=d(v,w[O],_),b!==null&&(g=s(b,g,O),I===null?C=b:I.sibling=b,I=b);return We&&es(v,O),C}for(b=r(v,b);O<w.length;O++)A=p(b,v,O,w[O],_),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?O:A.key),g=s(A,g,O),I===null?C=A:I.sibling=A,I=A);return t&&b.forEach(function(Q){return e(v,Q)}),We&&es(v,O),C}function m(v,g,w,_){var C=_a(w);if(typeof C!="function")throw Error(V(150));if(w=C.call(w),w==null)throw Error(V(151));for(var I=C=null,b=g,O=g=0,A=null,D=w.next();b!==null&&!D.done;O++,D=w.next()){b.index>O?(A=b,b=null):A=b.sibling;var Q=f(v,b,D.value,_);if(Q===null){b===null&&(b=A);break}t&&b&&Q.alternate===null&&e(v,b),g=s(Q,g,O),I===null?C=Q:I.sibling=Q,I=Q,b=A}if(D.done)return n(v,b),We&&es(v,O),C;if(b===null){for(;!D.done;O++,D=w.next())D=d(v,D.value,_),D!==null&&(g=s(D,g,O),I===null?C=D:I.sibling=D,I=D);return We&&es(v,O),C}for(b=r(v,b);!D.done;O++,D=w.next())D=p(b,v,O,D.value,_),D!==null&&(t&&D.alternate!==null&&b.delete(D.key===null?O:D.key),g=s(D,g,O),I===null?C=D:I.sibling=D,I=D);return t&&b.forEach(function(H){return e(v,H)}),We&&es(v,O),C}function S(v,g,w,_){if(typeof w=="object"&&w!==null&&w.type===so&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Vu:e:{for(var C=w.key,I=g;I!==null;){if(I.key===C){if(C=w.type,C===so){if(I.tag===7){n(v,I.sibling),g=i(I,w.props.children),g.return=v,v=g;break e}}else if(I.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ci&&D0(C)===I.type){n(v,I.sibling),g=i(I,w.props),g.ref=Ia(v,I,w),g.return=v,v=g;break e}n(v,I);break}else e(v,I);I=I.sibling}w.type===so?(g=gs(w.props.children,v.mode,_,w.key),g.return=v,v=g):(_=bc(w.type,w.key,w.props,null,v.mode,_),_.ref=Ia(v,g,w),_.return=v,v=_)}return o(v);case io:e:{for(I=w.key;g!==null;){if(g.key===I)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(v,g.sibling),g=i(g,w.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else e(v,g);g=g.sibling}g=ep(w,v.mode,_),g.return=v,v=g}return o(v);case ci:return I=w._init,S(v,g,I(w._payload),_)}if(Ua(w))return y(v,g,w,_);if(_a(w))return m(v,g,w,_);Ju(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(v,g.sibling),g=i(g,w),g.return=v,v=g):(n(v,g),g=Zh(w,v.mode,_),g.return=v,v=g),o(v)):n(v,g)}return S}var Fo=eC(!0),tC=eC(!1),ou={},gr=Bi(ou),xl=Bi(ou),Rl=Bi(ou);function as(t){if(t===ou)throw Error(V(174));return t}function my(t,e){switch($e(Rl,e),$e(xl,t),$e(gr,ou),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lm(e,t)}ze(gr),$e(gr,e)}function Vo(){ze(gr),ze(xl),ze(Rl)}function nC(t){as(Rl.current);var e=as(gr.current),n=lm(e,t.type);e!==n&&($e(xl,t),$e(gr,n))}function gy(t){xl.current===t&&(ze(gr),ze(xl))}var Xe=Bi(0);function sd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kh=[];function yy(){for(var t=0;t<Kh.length;t++)Kh[t]._workInProgressVersionPrimary=null;Kh.length=0}var Sc=ni.ReactCurrentDispatcher,Gh=ni.ReactCurrentBatchConfig,Is=0,Je=null,gt=null,It=null,od=!1,el=!1,Al=0,_A=0;function $t(){throw Error(V(321))}function vy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tr(t[n],e[n]))return!1;return!0}function wy(t,e,n,r,i,s){if(Is=s,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sc.current=t===null||t.memoizedState===null?TA:IA,t=n(r,i),el){s=0;do{if(el=!1,Al=0,25<=s)throw Error(V(301));s+=1,It=gt=null,e.updateQueue=null,Sc.current=bA,t=n(r,i)}while(el)}if(Sc.current=ad,e=gt!==null&&gt.next!==null,Is=0,It=gt=Je=null,od=!1,e)throw Error(V(300));return t}function _y(){var t=Al!==0;return Al=0,t}function lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Je.memoizedState=It=t:It=It.next=t,It}function $n(){if(gt===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=It===null?Je.memoizedState:It.next;if(e!==null)It=e,gt=t;else{if(t===null)throw Error(V(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},It===null?Je.memoizedState=It=t:It=It.next=t}return It}function Pl(t,e){return typeof e=="function"?e(t):e}function Qh(t){var e=$n(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=gt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Is&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Je.lanes|=c,bs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,tr(r,e.memoizedState)||(un=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Je.lanes|=s,bs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yh(t){var e=$n(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);tr(s,e.memoizedState)||(un=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function rC(){}function iC(t,e){var n=Je,r=$n(),i=e(),s=!tr(r.memoizedState,i);if(s&&(r.memoizedState=i,un=!0),r=r.queue,Sy(aC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,Ll(9,oC.bind(null,n,r,i,e),void 0,null),bt===null)throw Error(V(349));Is&30||sC(n,e,i)}return i}function sC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oC(t,e,n,r){e.value=n,e.getSnapshot=r,lC(e)&&uC(t)}function aC(t,e,n){return n(function(){lC(e)&&uC(t)})}function lC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tr(t,n)}catch{return!0}}function uC(t){var e=Kr(t,1);e!==null&&Zn(e,t,1,-1)}function j0(t){var e=lr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:t},e.queue=t,t=t.dispatch=CA.bind(null,Je,t),[e.memoizedState,t]}function Ll(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cC(){return $n().memoizedState}function Ec(t,e,n,r){var i=lr();Je.flags|=t,i.memoizedState=Ll(1|e,n,void 0,r===void 0?null:r)}function rf(t,e,n,r){var i=$n();r=r===void 0?null:r;var s=void 0;if(gt!==null){var o=gt.memoizedState;if(s=o.destroy,r!==null&&vy(r,o.deps)){i.memoizedState=Ll(e,n,s,r);return}}Je.flags|=t,i.memoizedState=Ll(1|e,n,s,r)}function M0(t,e){return Ec(8390656,8,t,e)}function Sy(t,e){return rf(2048,8,t,e)}function dC(t,e){return rf(4,2,t,e)}function fC(t,e){return rf(4,4,t,e)}function hC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pC(t,e,n){return n=n!=null?n.concat([t]):null,rf(4,4,hC.bind(null,e,t),n)}function Ey(){}function mC(t,e){var n=$n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gC(t,e){var n=$n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yC(t,e,n){return Is&21?(tr(n,e)||(n=_E(),Je.lanes|=n,bs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,un=!0),t.memoizedState=n)}function SA(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=Gh.transition;Gh.transition={};try{t(!1),e()}finally{Ne=n,Gh.transition=r}}function vC(){return $n().memoizedState}function EA(t,e,n){var r=ki(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wC(t))_C(e,n);else if(n=YE(t,e,n,r),n!==null){var i=nn();Zn(n,t,r,i),SC(n,e,r)}}function CA(t,e,n){var r=ki(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wC(t))_C(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,tr(a,o)){var l=e.interleaved;l===null?(i.next=i,hy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=YE(t,e,i,r),n!==null&&(i=nn(),Zn(n,t,r,i),SC(n,e,r))}}function wC(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function _C(t,e){el=od=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function SC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zg(t,n)}}var ad={readContext:Mn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},TA={readContext:Mn,useCallback:function(t,e){return lr().memoizedState=[t,e===void 0?null:e],t},useContext:Mn,useEffect:M0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ec(4194308,4,hC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ec(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ec(4,2,t,e)},useMemo:function(t,e){var n=lr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=lr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=EA.bind(null,Je,t),[r.memoizedState,t]},useRef:function(t){var e=lr();return t={current:t},e.memoizedState=t},useState:j0,useDebugValue:Ey,useDeferredValue:function(t){return lr().memoizedState=t},useTransition:function(){var t=j0(!1),e=t[0];return t=SA.bind(null,t[1]),lr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Je,i=lr();if(We){if(n===void 0)throw Error(V(407));n=n()}else{if(n=e(),bt===null)throw Error(V(349));Is&30||sC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,M0(aC.bind(null,r,s,t),[t]),r.flags|=2048,Ll(9,oC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=lr(),e=bt.identifierPrefix;if(We){var n=jr,r=Dr;n=(r&~(1<<32-Jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Al++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_A++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},IA={readContext:Mn,useCallback:mC,useContext:Mn,useEffect:Sy,useImperativeHandle:pC,useInsertionEffect:dC,useLayoutEffect:fC,useMemo:gC,useReducer:Qh,useRef:cC,useState:function(){return Qh(Pl)},useDebugValue:Ey,useDeferredValue:function(t){var e=$n();return yC(e,gt.memoizedState,t)},useTransition:function(){var t=Qh(Pl)[0],e=$n().memoizedState;return[t,e]},useMutableSource:rC,useSyncExternalStore:iC,useId:vC,unstable_isNewReconciler:!1},bA={readContext:Mn,useCallback:mC,useContext:Mn,useEffect:Sy,useImperativeHandle:pC,useInsertionEffect:dC,useLayoutEffect:fC,useMemo:gC,useReducer:Yh,useRef:cC,useState:function(){return Yh(Pl)},useDebugValue:Ey,useDeferredValue:function(t){var e=$n();return gt===null?e.memoizedState=t:yC(e,gt.memoizedState,t)},useTransition:function(){var t=Yh(Pl)[0],e=$n().memoizedState;return[t,e]},useMutableSource:rC,useSyncExternalStore:iC,useId:vC,unstable_isNewReconciler:!1};function zo(t,e){try{var n="",r=e;do n+=eR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Xh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Pm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kA=typeof WeakMap=="function"?WeakMap:Map;function EC(t,e,n){n=Fr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ud||(ud=!0,Vm=r),Pm(t,e)},n}function CC(t,e,n){n=Fr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Pm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Pm(t,e),typeof r!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=VA.bind(null,t,e,n),e.then(t,t))}function U0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function F0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fr(-1,1),e.tag=2,Ii(n,e,1))),n.lanes|=1),t)}var xA=ni.ReactCurrentOwner,un=!1;function Zt(t,e,n,r){e.child=t===null?tC(e,null,n,r):Fo(e,t.child,n,r)}function V0(t,e,n,r,i){n=n.render;var s=e.ref;return bo(e,i),r=wy(t,e,n,r,s,i),n=_y(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gr(t,e,i)):(We&&n&&ay(e),e.flags|=1,Zt(t,e,r,i),e.child)}function z0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ay(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,TC(t,e,s,r,i)):(t=bc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Tl,n(o,r)&&t.ref===e.ref)return Gr(t,e,i)}return e.flags|=1,t=xi(s,r),t.ref=e.ref,t.return=e,e.child=t}function TC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Tl(s,r)&&t.ref===e.ref)if(un=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(un=!0);else return e.lanes=t.lanes,Gr(t,e,i)}return Lm(t,e,n,r,i)}function IC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(go,gn),gn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$e(go,gn),gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,$e(go,gn),gn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,$e(go,gn),gn|=r;return Zt(t,e,i,n),e.child}function bC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lm(t,e,n,r,i){var s=dn(n)?Cs:Gt.current;return s=$o(e,s),bo(e,i),n=wy(t,e,n,r,s,i),r=_y(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gr(t,e,i)):(We&&r&&ay(e),e.flags|=1,Zt(t,e,n,i),e.child)}function B0(t,e,n,r,i){if(dn(n)){var s=!0;Zc(e)}else s=!1;if(bo(e,i),e.stateNode===null)Cc(t,e),ZE(e,n,r),Am(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Mn(u):(u=dn(n)?Cs:Gt.current,u=$o(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&O0(e,o,r,u),di=!1;var f=e.memoizedState;o.state=f,id(e,r,o,i),l=e.memoizedState,a!==r||f!==l||cn.current||di?(typeof c=="function"&&(Rm(e,n,c,r),l=e.memoizedState),(a=di||N0(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,XE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Wn(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mn(l):(l=dn(n)?Cs:Gt.current,l=$o(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&O0(e,o,r,l),di=!1,f=e.memoizedState,o.state=f,id(e,r,o,i);var y=e.memoizedState;a!==d||f!==y||cn.current||di?(typeof p=="function"&&(Rm(e,n,p,r),y=e.memoizedState),(u=di||N0(e,n,u,r,f,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Nm(t,e,n,r,s,i)}function Nm(t,e,n,r,i,s){bC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&x0(e,n,!1),Gr(t,e,s);r=e.stateNode,xA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fo(e,t.child,null,s),e.child=Fo(e,null,a,s)):Zt(t,e,a,s),e.memoizedState=r.state,i&&x0(e,n,!0),e.child}function kC(t){var e=t.stateNode;e.pendingContext?k0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&k0(t,e.context,!1),my(t,e.containerInfo)}function H0(t,e,n,r,i){return Uo(),uy(i),e.flags|=256,Zt(t,e,n,r),e.child}var Om={dehydrated:null,treeContext:null,retryLane:0};function Dm(t){return{baseLanes:t,cachePool:null,transitions:null}}function xC(t,e,n){var r=e.pendingProps,i=Xe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$e(Xe,i&1),t===null)return km(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=af(o,r,0,null),t=gs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Dm(n),e.memoizedState=Om,t):Cy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return RA(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=xi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=xi(a,s):(s=gs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Dm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Om,r}return s=t.child,t=s.sibling,r=xi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Cy(t,e){return e=af({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zu(t,e,n,r){return r!==null&&uy(r),Fo(e,t.child,null,n),t=Cy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function RA(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Xh(Error(V(422))),Zu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=af({mode:"visible",children:r.children},i,0,null),s=gs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Fo(e,t.child,null,o),e.child.memoizedState=Dm(o),e.memoizedState=Om,s);if(!(e.mode&1))return Zu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(V(419)),r=Xh(s,r,void 0),Zu(t,e,o,r)}if(a=(o&t.childLanes)!==0,un||a){if(r=bt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Kr(t,i),Zn(r,t,i,-1))}return Ry(),r=Xh(Error(V(421))),Zu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=zA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,yn=Ti(i.nextSibling),wn=e,We=!0,Gn=null,t!==null&&(Pn[Ln++]=Dr,Pn[Ln++]=jr,Pn[Ln++]=Ts,Dr=t.id,jr=t.overflow,Ts=e),e=Cy(e,r.children),e.flags|=4096,e)}function q0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xm(t.return,e,n)}function Jh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function RC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Zt(t,e,r.children,n),r=Xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&q0(t,n,e);else if(t.tag===19)q0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($e(Xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&sd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Jh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Jh(e,!0,n,null,s);break;case"together":Jh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(V(153));if(e.child!==null){for(t=e.child,n=xi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function AA(t,e,n){switch(e.tag){case 3:kC(e),Uo();break;case 5:nC(e);break;case 1:dn(e.type)&&Zc(e);break;case 4:my(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;$e(nd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($e(Xe,Xe.current&1),e.flags|=128,null):n&e.child.childLanes?xC(t,e,n):($e(Xe,Xe.current&1),t=Gr(t,e,n),t!==null?t.sibling:null);$e(Xe,Xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return RC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(Xe,Xe.current),r)break;return null;case 22:case 23:return e.lanes=0,IC(t,e,n)}return Gr(t,e,n)}var AC,jm,PC,LC;AC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jm=function(){};PC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,as(gr.current);var s=null;switch(n){case"input":i=im(t,i),r=im(t,r),s=[];break;case"select":i=Ze({},i,{value:void 0}),r=Ze({},r,{value:void 0}),s=[];break;case"textarea":i=am(t,i),r=am(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xc)}um(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ve("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};LC=function(t,e,n,r){n!==r&&(e.flags|=4)};function ba(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PA(t,e,n){var r=e.pendingProps;switch(ly(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return dn(e.type)&&Jc(),Ut(e),null;case 3:return r=e.stateNode,Vo(),ze(cn),ze(Gt),yy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gn!==null&&(Hm(Gn),Gn=null))),jm(t,e),Ut(e),null;case 5:gy(e);var i=as(Rl.current);if(n=e.type,t!==null&&e.stateNode!=null)PC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(V(166));return Ut(e),null}if(t=as(gr.current),Xu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[cr]=e,r[kl]=s,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<Va.length;i++)Ve(Va[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":e0(r,s),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ve("invalid",r);break;case"textarea":n0(r,s),Ve("invalid",r)}um(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Yu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Yu(r.textContent,a,t),i=["children",""+a]):yl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ve("scroll",r)}switch(n){case"input":zu(r),t0(r,s,!0);break;case"textarea":zu(r),r0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Xc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[cr]=e,t[kl]=r,AC(t,e,!1,!1),e.stateNode=t;e:{switch(o=cm(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),i=r;break;case"iframe":case"object":case"embed":Ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<Va.length;i++)Ve(Va[i],t);i=r;break;case"source":Ve("error",t),i=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),i=r;break;case"details":Ve("toggle",t),i=r;break;case"input":e0(t,r),i=im(t,r),Ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ze({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":n0(t,r),i=am(t,r),Ve("invalid",t);break;default:i=r}um(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?lE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&vl(t,l):typeof l=="number"&&vl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(yl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ve("scroll",t):l!=null&&Kg(t,s,l,o))}switch(n){case"input":zu(t),t0(t,r,!1);break;case"textarea":zu(t),r0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Di(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Eo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Eo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)LC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(V(166));if(n=as(Rl.current),as(gr.current),Xu(e)){if(r=e.stateNode,n=e.memoizedProps,r[cr]=e,(s=r.nodeValue!==n)&&(t=wn,t!==null))switch(t.tag){case 3:Yu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cr]=e,e.stateNode=r}return Ut(e),null;case 13:if(ze(Xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&yn!==null&&e.mode&1&&!(e.flags&128))QE(),Uo(),e.flags|=98560,s=!1;else if(s=Xu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(V(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(V(317));s[cr]=e}else Uo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),s=!1}else Gn!==null&&(Hm(Gn),Gn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?wt===0&&(wt=3):Ry())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return Vo(),jm(t,e),t===null&&Il(e.stateNode.containerInfo),Ut(e),null;case 10:return fy(e.type._context),Ut(e),null;case 17:return dn(e.type)&&Jc(),Ut(e),null;case 19:if(ze(Xe),s=e.memoizedState,s===null)return Ut(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ba(s,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=sd(t),o!==null){for(e.flags|=128,ba(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $e(Xe,Xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&ot()>Bo&&(e.flags|=128,r=!0,ba(s,!1),e.lanes=4194304)}else{if(!r)if(t=sd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ba(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!We)return Ut(e),null}else 2*ot()-s.renderingStartTime>Bo&&n!==1073741824&&(e.flags|=128,r=!0,ba(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ot(),e.sibling=null,n=Xe.current,$e(Xe,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return xy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(V(156,e.tag))}function LA(t,e){switch(ly(e),e.tag){case 1:return dn(e.type)&&Jc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vo(),ze(cn),ze(Gt),yy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gy(e),null;case 13:if(ze(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(V(340));Uo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(Xe),null;case 4:return Vo(),null;case 10:return fy(e.type._context),null;case 22:case 23:return xy(),null;case 24:return null;default:return null}}var ec=!1,Bt=!1,NA=typeof WeakSet=="function"?WeakSet:Set,Y=null;function mo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(t,e,r)}else n.current=null}function Mm(t,e,n){try{n()}catch(r){tt(t,e,r)}}var W0=!1;function OA(t,e){if(_m=Gc,t=jE(),oy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sm={focusedElem:t,selectionRange:n},Gc=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,S=y.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:Wn(e.type,m),S);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(_){tt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return y=W0,W0=!1,y}function tl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Mm(e,n,s)}i=i.next}while(i!==r)}}function sf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function $m(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function NC(t){var e=t.alternate;e!==null&&(t.alternate=null,NC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cr],delete e[kl],delete e[Tm],delete e[gA],delete e[yA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function OC(t){return t.tag===5||t.tag===3||t.tag===4}function K0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||OC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Um(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xc));else if(r!==4&&(t=t.child,t!==null))for(Um(t,e,n),t=t.sibling;t!==null;)Um(t,e,n),t=t.sibling}function Fm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fm(t,e,n),t=t.sibling;t!==null;)Fm(t,e,n),t=t.sibling}var At=null,Kn=!1;function li(t,e,n){for(n=n.child;n!==null;)DC(t,e,n),n=n.sibling}function DC(t,e,n){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(Yd,n)}catch{}switch(n.tag){case 5:Bt||mo(n,e);case 6:var r=At,i=Kn;At=null,li(t,e,n),At=r,Kn=i,At!==null&&(Kn?(t=At,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(Kn?(t=At,n=n.stateNode,t.nodeType===8?qh(t.parentNode,n):t.nodeType===1&&qh(t,n),El(t)):qh(At,n.stateNode));break;case 4:r=At,i=Kn,At=n.stateNode.containerInfo,Kn=!0,li(t,e,n),At=r,Kn=i;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Mm(n,e,o),i=i.next}while(i!==r)}li(t,e,n);break;case 1:if(!Bt&&(mo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tt(n,e,a)}li(t,e,n);break;case 21:li(t,e,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,li(t,e,n),Bt=r):li(t,e,n);break;default:li(t,e,n)}}function G0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new NA),e.forEach(function(r){var i=BA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:At=a.stateNode,Kn=!1;break e;case 3:At=a.stateNode.containerInfo,Kn=!0;break e;case 4:At=a.stateNode.containerInfo,Kn=!0;break e}a=a.return}if(At===null)throw Error(V(160));DC(s,o,i),At=null,Kn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){tt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jC(e,t),e=e.sibling}function jC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qn(e,t),ar(t),r&4){try{tl(3,t,t.return),sf(3,t)}catch(m){tt(t,t.return,m)}try{tl(5,t,t.return)}catch(m){tt(t,t.return,m)}}break;case 1:qn(e,t),ar(t),r&512&&n!==null&&mo(n,n.return);break;case 5:if(qn(e,t),ar(t),r&512&&n!==null&&mo(n,n.return),t.flags&32){var i=t.stateNode;try{vl(i,"")}catch(m){tt(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&rE(i,s),cm(a,o);var u=cm(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?lE(i,d):c==="dangerouslySetInnerHTML"?oE(i,d):c==="children"?vl(i,d):Kg(i,c,d,u)}switch(a){case"input":sm(i,s);break;case"textarea":iE(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Eo(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Eo(i,!!s.multiple,s.defaultValue,!0):Eo(i,!!s.multiple,s.multiple?[]:"",!1))}i[kl]=s}catch(m){tt(t,t.return,m)}}break;case 6:if(qn(e,t),ar(t),r&4){if(t.stateNode===null)throw Error(V(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){tt(t,t.return,m)}}break;case 3:if(qn(e,t),ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{El(e.containerInfo)}catch(m){tt(t,t.return,m)}break;case 4:qn(e,t),ar(t);break;case 13:qn(e,t),ar(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(by=ot())),r&4&&G0(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(u=Bt)||c,qn(e,t),Bt=u):qn(e,t),ar(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Y=t,c=t.child;c!==null;){for(d=Y=c;Y!==null;){switch(f=Y,p=f.child,f.tag){case 0:case 11:case 14:case 15:tl(4,f,f.return);break;case 1:mo(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(m){tt(r,n,m)}}break;case 5:mo(f,f.return);break;case 22:if(f.memoizedState!==null){Y0(d);continue}}p!==null?(p.return=f,Y=p):Y0(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=aE("display",o))}catch(m){tt(t,t.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){tt(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:qn(e,t),ar(t),r&4&&G0(t);break;case 21:break;default:qn(e,t),ar(t)}}function ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(OC(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(vl(i,""),r.flags&=-33);var s=K0(t);Fm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=K0(t);Um(t,a,o);break;default:throw Error(V(161))}}catch(l){tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function DA(t,e,n){Y=t,MC(t)}function MC(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ec;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Bt;a=ec;var u=Bt;if(ec=o,(Bt=l)&&!u)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?X0(i):l!==null?(l.return=o,Y=l):X0(i);for(;s!==null;)Y=s,MC(s),s=s.sibling;Y=i,ec=a,Bt=u}Q0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):Q0(t)}}function Q0(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||sf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&L0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}L0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&El(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Bt||e.flags&512&&$m(e)}catch(f){tt(e,e.return,f)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Y0(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function X0(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sf(4,e)}catch(l){tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){tt(e,i,l)}}var s=e.return;try{$m(e)}catch(l){tt(e,s,l)}break;case 5:var o=e.return;try{$m(e)}catch(l){tt(e,o,l)}}}catch(l){tt(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var jA=Math.ceil,ld=ni.ReactCurrentDispatcher,Ty=ni.ReactCurrentOwner,On=ni.ReactCurrentBatchConfig,xe=0,bt=null,dt=null,Lt=0,gn=0,go=Bi(0),wt=0,Nl=null,bs=0,of=0,Iy=0,nl=null,an=null,by=0,Bo=1/0,Ar=null,ud=!1,Vm=null,bi=null,tc=!1,_i=null,cd=0,rl=0,zm=null,Tc=-1,Ic=0;function nn(){return xe&6?ot():Tc!==-1?Tc:Tc=ot()}function ki(t){return t.mode&1?xe&2&&Lt!==0?Lt&-Lt:wA.transition!==null?(Ic===0&&(Ic=_E()),Ic):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:kE(t.type)),t):1}function Zn(t,e,n,r){if(50<rl)throw rl=0,zm=null,Error(V(185));ru(t,n,r),(!(xe&2)||t!==bt)&&(t===bt&&(!(xe&2)&&(of|=n),wt===4&&hi(t,Lt)),fn(t,r),n===1&&xe===0&&!(e.mode&1)&&(Bo=ot()+500,tf&&Hi()))}function fn(t,e){var n=t.callbackNode;wR(t,e);var r=Kc(t,t===bt?Lt:0);if(r===0)n!==null&&o0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&o0(n),e===1)t.tag===0?vA(J0.bind(null,t)):WE(J0.bind(null,t)),pA(function(){!(xe&6)&&Hi()}),n=null;else{switch(SE(r)){case 1:n=Jg;break;case 4:n=vE;break;case 16:n=Wc;break;case 536870912:n=wE;break;default:n=Wc}n=qC(n,$C.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $C(t,e){if(Tc=-1,Ic=0,xe&6)throw Error(V(327));var n=t.callbackNode;if(ko()&&t.callbackNode!==n)return null;var r=Kc(t,t===bt?Lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dd(t,r);else{e=r;var i=xe;xe|=2;var s=FC();(bt!==t||Lt!==e)&&(Ar=null,Bo=ot()+500,ms(t,e));do try{UA();break}catch(a){UC(t,a)}while(1);dy(),ld.current=s,xe=i,dt!==null?e=0:(bt=null,Lt=0,e=wt)}if(e!==0){if(e===2&&(i=mm(t),i!==0&&(r=i,e=Bm(t,i))),e===1)throw n=Nl,ms(t,0),hi(t,r),fn(t,ot()),n;if(e===6)hi(t,r);else{if(i=t.current.alternate,!(r&30)&&!MA(i)&&(e=dd(t,r),e===2&&(s=mm(t),s!==0&&(r=s,e=Bm(t,s))),e===1))throw n=Nl,ms(t,0),hi(t,r),fn(t,ot()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(V(345));case 2:ts(t,an,Ar);break;case 3:if(hi(t,r),(r&130023424)===r&&(e=by+500-ot(),10<e)){if(Kc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){nn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Cm(ts.bind(null,t,an,Ar),e);break}ts(t,an,Ar);break;case 4:if(hi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Jn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jA(r/1960))-r,10<r){t.timeoutHandle=Cm(ts.bind(null,t,an,Ar),r);break}ts(t,an,Ar);break;case 5:ts(t,an,Ar);break;default:throw Error(V(329))}}}return fn(t,ot()),t.callbackNode===n?$C.bind(null,t):null}function Bm(t,e){var n=nl;return t.current.memoizedState.isDehydrated&&(ms(t,e).flags|=256),t=dd(t,e),t!==2&&(e=an,an=n,e!==null&&Hm(e)),t}function Hm(t){an===null?an=t:an.push.apply(an,t)}function MA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!tr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hi(t,e){for(e&=~Iy,e&=~of,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jn(e),r=1<<n;t[n]=-1,e&=~r}}function J0(t){if(xe&6)throw Error(V(327));ko();var e=Kc(t,0);if(!(e&1))return fn(t,ot()),null;var n=dd(t,e);if(t.tag!==0&&n===2){var r=mm(t);r!==0&&(e=r,n=Bm(t,r))}if(n===1)throw n=Nl,ms(t,0),hi(t,e),fn(t,ot()),n;if(n===6)throw Error(V(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ts(t,an,Ar),fn(t,ot()),null}function ky(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(Bo=ot()+500,tf&&Hi())}}function ks(t){_i!==null&&_i.tag===0&&!(xe&6)&&ko();var e=xe;xe|=1;var n=On.transition,r=Ne;try{if(On.transition=null,Ne=1,t)return t()}finally{Ne=r,On.transition=n,xe=e,!(xe&6)&&Hi()}}function xy(){gn=go.current,ze(go)}function ms(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hA(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(ly(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jc();break;case 3:Vo(),ze(cn),ze(Gt),yy();break;case 5:gy(r);break;case 4:Vo();break;case 13:ze(Xe);break;case 19:ze(Xe);break;case 10:fy(r.type._context);break;case 22:case 23:xy()}n=n.return}if(bt=t,dt=t=xi(t.current,null),Lt=gn=e,wt=0,Nl=null,Iy=of=bs=0,an=nl=null,os!==null){for(e=0;e<os.length;e++)if(n=os[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}os=null}return t}function UC(t,e){do{var n=dt;try{if(dy(),Sc.current=ad,od){for(var r=Je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}od=!1}if(Is=0,It=gt=Je=null,el=!1,Al=0,Ty.current=null,n===null||n.return===null){wt=1,Nl=e,dt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Lt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=U0(o);if(p!==null){p.flags&=-257,F0(p,o,a,s,e),p.mode&1&&$0(s,u,e),e=p,l=u;var y=e.updateQueue;if(y===null){var m=new Set;m.add(l),e.updateQueue=m}else y.add(l);break e}else{if(!(e&1)){$0(s,u,e),Ry();break e}l=Error(V(426))}}else if(We&&a.mode&1){var S=U0(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),F0(S,o,a,s,e),uy(zo(l,a));break e}}s=l=zo(l,a),wt!==4&&(wt=2),nl===null?nl=[s]:nl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=EC(s,l,e);P0(s,v);break e;case 1:a=l;var g=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(bi===null||!bi.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=CC(s,a,e);P0(s,_);break e}}s=s.return}while(s!==null)}zC(n)}catch(C){e=C,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(1)}function FC(){var t=ld.current;return ld.current=ad,t===null?ad:t}function Ry(){(wt===0||wt===3||wt===2)&&(wt=4),bt===null||!(bs&268435455)&&!(of&268435455)||hi(bt,Lt)}function dd(t,e){var n=xe;xe|=2;var r=FC();(bt!==t||Lt!==e)&&(Ar=null,ms(t,e));do try{$A();break}catch(i){UC(t,i)}while(1);if(dy(),xe=n,ld.current=r,dt!==null)throw Error(V(261));return bt=null,Lt=0,wt}function $A(){for(;dt!==null;)VC(dt)}function UA(){for(;dt!==null&&!cR();)VC(dt)}function VC(t){var e=HC(t.alternate,t,gn);t.memoizedProps=t.pendingProps,e===null?zC(t):dt=e,Ty.current=null}function zC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=LA(n,e),n!==null){n.flags&=32767,dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,dt=null;return}}else if(n=PA(n,e,gn),n!==null){dt=n;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);wt===0&&(wt=5)}function ts(t,e,n){var r=Ne,i=On.transition;try{On.transition=null,Ne=1,FA(t,e,n,r)}finally{On.transition=i,Ne=r}return null}function FA(t,e,n,r){do ko();while(_i!==null);if(xe&6)throw Error(V(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(V(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(_R(t,s),t===bt&&(dt=bt=null,Lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tc||(tc=!0,qC(Wc,function(){return ko(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=On.transition,On.transition=null;var o=Ne;Ne=1;var a=xe;xe|=4,Ty.current=null,OA(t,n),jC(n,t),oA(Sm),Gc=!!_m,Sm=_m=null,t.current=n,DA(n),dR(),xe=a,Ne=o,On.transition=s}else t.current=n;if(tc&&(tc=!1,_i=t,cd=i),s=t.pendingLanes,s===0&&(bi=null),pR(n.stateNode),fn(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ud)throw ud=!1,t=Vm,Vm=null,t;return cd&1&&t.tag!==0&&ko(),s=t.pendingLanes,s&1?t===zm?rl++:(rl=0,zm=t):rl=0,Hi(),null}function ko(){if(_i!==null){var t=SE(cd),e=On.transition,n=Ne;try{if(On.transition=null,Ne=16>t?16:t,_i===null)var r=!1;else{if(t=_i,_i=null,cd=0,xe&6)throw Error(V(331));var i=xe;for(xe|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:tl(8,c,s)}var d=c.child;if(d!==null)d.return=c,Y=d;else for(;Y!==null;){c=Y;var f=c.sibling,p=c.return;if(NC(c),c===u){Y=null;break}if(f!==null){f.return=p,Y=f;break}Y=p}}}var y=s.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var S=m.sibling;m.sibling=null,m=S}while(m!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:tl(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Y=v;break e}Y=s.return}}var g=t.current;for(Y=g;Y!==null;){o=Y;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Y=w;else e:for(o=g;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:sf(9,a)}}catch(C){tt(a,a.return,C)}if(a===o){Y=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,Y=_;break e}Y=a.return}}if(xe=i,Hi(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(Yd,t)}catch{}r=!0}return r}finally{Ne=n,On.transition=e}}return!1}function Z0(t,e,n){e=zo(n,e),e=EC(t,e,1),t=Ii(t,e,1),e=nn(),t!==null&&(ru(t,1,e),fn(t,e))}function tt(t,e,n){if(t.tag===3)Z0(t,t,n);else for(;e!==null;){if(e.tag===3){Z0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bi===null||!bi.has(r))){t=zo(n,t),t=CC(e,t,1),e=Ii(e,t,1),t=nn(),e!==null&&(ru(e,1,t),fn(e,t));break}}e=e.return}}function VA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&n,bt===t&&(Lt&n)===n&&(wt===4||wt===3&&(Lt&130023424)===Lt&&500>ot()-by?ms(t,0):Iy|=n),fn(t,e)}function BC(t,e){e===0&&(t.mode&1?(e=qu,qu<<=1,!(qu&130023424)&&(qu=4194304)):e=1);var n=nn();t=Kr(t,e),t!==null&&(ru(t,e,n),fn(t,n))}function zA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),BC(t,n)}function BA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(e),BC(t,n)}var HC;HC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cn.current)un=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return un=!1,AA(t,e,n);un=!!(t.flags&131072)}else un=!1,We&&e.flags&1048576&&KE(e,td,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cc(t,e),t=e.pendingProps;var i=$o(e,Gt.current);bo(e,n),i=wy(null,e,r,t,i,n);var s=_y();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dn(r)?(s=!0,Zc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,py(e),i.updater=nf,e.stateNode=i,i._reactInternals=e,Am(e,r,t,n),e=Nm(null,e,r,!0,s,n)):(e.tag=0,We&&s&&ay(e),Zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Cc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=qA(r),t=Wn(r,t),i){case 0:e=Lm(null,e,r,t,n);break e;case 1:e=B0(null,e,r,t,n);break e;case 11:e=V0(null,e,r,t,n);break e;case 14:e=z0(null,e,r,Wn(r.type,t),n);break e}throw Error(V(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),Lm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),B0(t,e,r,i,n);case 3:e:{if(kC(e),t===null)throw Error(V(387));r=e.pendingProps,s=e.memoizedState,i=s.element,XE(t,e),id(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=zo(Error(V(423)),e),e=H0(t,e,r,n,i);break e}else if(r!==i){i=zo(Error(V(424)),e),e=H0(t,e,r,n,i);break e}else for(yn=Ti(e.stateNode.containerInfo.firstChild),wn=e,We=!0,Gn=null,n=tC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Uo(),r===i){e=Gr(t,e,n);break e}Zt(t,e,r,n)}e=e.child}return e;case 5:return nC(e),t===null&&km(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Em(r,i)?o=null:s!==null&&Em(r,s)&&(e.flags|=32),bC(t,e),Zt(t,e,o,n),e.child;case 6:return t===null&&km(e),null;case 13:return xC(t,e,n);case 4:return my(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fo(e,null,r,n):Zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),V0(t,e,r,i,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,$e(nd,r._currentValue),r._currentValue=o,s!==null)if(tr(s.value,o)){if(s.children===i.children&&!cn.current){e=Gr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Fr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),xm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(V(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,bo(e,n),i=Mn(i),r=r(i),e.flags|=1,Zt(t,e,r,n),e.child;case 14:return r=e.type,i=Wn(r,e.pendingProps),i=Wn(r.type,i),z0(t,e,r,i,n);case 15:return TC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),Cc(t,e),e.tag=1,dn(r)?(t=!0,Zc(e)):t=!1,bo(e,n),ZE(e,r,i),Am(e,r,i,n),Nm(null,e,r,!0,t,n);case 19:return RC(t,e,n);case 22:return IC(t,e,n)}throw Error(V(156,e.tag))};function qC(t,e){return yE(t,e)}function HA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,e,n,r){return new HA(t,e,n,r)}function Ay(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qA(t){if(typeof t=="function")return Ay(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qg)return 11;if(t===Yg)return 14}return 2}function xi(t,e){var n=t.alternate;return n===null?(n=Nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ay(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case so:return gs(n.children,i,s,e);case Gg:o=8,i|=8;break;case em:return t=Nn(12,n,e,i|2),t.elementType=em,t.lanes=s,t;case tm:return t=Nn(13,n,e,i),t.elementType=tm,t.lanes=s,t;case nm:return t=Nn(19,n,e,i),t.elementType=nm,t.lanes=s,t;case eE:return af(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case JS:o=10;break e;case ZS:o=9;break e;case Qg:o=11;break e;case Yg:o=14;break e;case ci:o=16,r=null;break e}throw Error(V(130,t==null?t:typeof t,""))}return e=Nn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function gs(t,e,n,r){return t=Nn(7,t,r,e),t.lanes=n,t}function af(t,e,n,r){return t=Nn(22,t,r,e),t.elementType=eE,t.lanes=n,t.stateNode={isHidden:!1},t}function Zh(t,e,n){return t=Nn(6,t,null,e),t.lanes=n,t}function ep(t,e,n){return e=Nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oh(0),this.expirationTimes=Oh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Py(t,e,n,r,i,s,o,a,l){return t=new WA(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Nn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},py(s),t}function KA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:io,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WC(t){if(!t)return ji;t=t._reactInternals;e:{if($s(t)!==t||t.tag!==1)throw Error(V(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(V(171))}if(t.tag===1){var n=t.type;if(dn(n))return qE(t,n,e)}return e}function KC(t,e,n,r,i,s,o,a,l){return t=Py(n,r,!0,t,i,s,o,a,l),t.context=WC(null),n=t.current,r=nn(),i=ki(n),s=Fr(r,i),s.callback=e??null,Ii(n,s,i),t.current.lanes=i,ru(t,i,r),fn(t,r),t}function lf(t,e,n,r){var i=e.current,s=nn(),o=ki(i);return n=WC(n),e.context===null?e.context=n:e.pendingContext=n,e=Fr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ii(i,e,o),t!==null&&(Zn(t,i,o,s),_c(t,i,o)),o}function fd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ew(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ly(t,e){ew(t,e),(t=t.alternate)&&ew(t,e)}function GA(){return null}var GC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ny(t){this._internalRoot=t}uf.prototype.render=Ny.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(V(409));lf(t,e,null,null)};uf.prototype.unmount=Ny.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ks(function(){lf(null,t,null,null)}),e[Wr]=null}};function uf(t){this._internalRoot=t}uf.prototype.unstable_scheduleHydration=function(t){if(t){var e=TE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fi.length&&e!==0&&e<fi[n].priority;n++);fi.splice(n,0,t),n===0&&bE(t)}};function Oy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tw(){}function QA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=fd(o);s.call(u)}}var o=KC(e,r,t,0,null,!1,!1,"",tw);return t._reactRootContainer=o,t[Wr]=o.current,Il(t.nodeType===8?t.parentNode:t),ks(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=fd(l);a.call(u)}}var l=Py(t,0,!1,null,null,!1,!1,"",tw);return t._reactRootContainer=l,t[Wr]=l.current,Il(t.nodeType===8?t.parentNode:t),ks(function(){lf(e,l,n,r)}),l}function df(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=fd(o);a.call(l)}}lf(e,o,t,i)}else o=QA(n,e,t,i,r);return fd(o)}EE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fa(e.pendingLanes);n!==0&&(Zg(e,n|1),fn(e,ot()),!(xe&6)&&(Bo=ot()+500,Hi()))}break;case 13:ks(function(){var r=Kr(t,1);if(r!==null){var i=nn();Zn(r,t,1,i)}}),Ly(t,1)}};ey=function(t){if(t.tag===13){var e=Kr(t,134217728);if(e!==null){var n=nn();Zn(e,t,134217728,n)}Ly(t,134217728)}};CE=function(t){if(t.tag===13){var e=ki(t),n=Kr(t,e);if(n!==null){var r=nn();Zn(n,t,e,r)}Ly(t,e)}};TE=function(){return Ne};IE=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};fm=function(t,e,n){switch(e){case"input":if(sm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ef(r);if(!i)throw Error(V(90));nE(r),sm(r,i)}}}break;case"textarea":iE(t,n);break;case"select":e=n.value,e!=null&&Eo(t,!!n.multiple,e,!1)}};dE=ky;fE=ks;var YA={usingClientEntryPoint:!1,Events:[su,uo,ef,uE,cE,ky]},ka={findFiberByHostInstance:ss,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},XA={bundleType:ka.bundleType,version:ka.version,rendererPackageName:ka.rendererPackageName,rendererConfig:ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mE(t),t===null?null:t.stateNode},findFiberByHostInstance:ka.findFiberByHostInstance||GA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{Yd=nc.inject(XA),mr=nc}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YA;Tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oy(e))throw Error(V(200));return KA(t,e,null,n)};Tn.createRoot=function(t,e){if(!Oy(t))throw Error(V(299));var n=!1,r="",i=GC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Py(t,1,!1,null,null,n,!1,r,i),t[Wr]=e.current,Il(t.nodeType===8?t.parentNode:t),new Ny(e)};Tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(V(188)):(t=Object.keys(t).join(","),Error(V(268,t)));return t=mE(e),t=t===null?null:t.stateNode,t};Tn.flushSync=function(t){return ks(t)};Tn.hydrate=function(t,e,n){if(!cf(e))throw Error(V(200));return df(null,t,e,!0,n)};Tn.hydrateRoot=function(t,e,n){if(!Oy(t))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=GC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=KC(e,null,t,1,n??null,i,!1,s,o),t[Wr]=e.current,Il(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new uf(e)};Tn.render=function(t,e,n){if(!cf(e))throw Error(V(200));return df(null,t,e,!1,n)};Tn.unmountComponentAtNode=function(t){if(!cf(t))throw Error(V(40));return t._reactRootContainer?(ks(function(){df(null,null,t,!1,function(){t._reactRootContainer=null,t[Wr]=null})}),!0):!1};Tn.unstable_batchedUpdates=ky;Tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!cf(n))throw Error(V(200));if(t==null||t._reactInternals===void 0)throw Error(V(38));return df(t,e,n,!1,r)};Tn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Tn})(G2);const JA=FS(gl);var QC,nw=gl;QC=nw.createRoot,nw.hydrateRoot;var qm={},ZA={get exports(){return qm},set exports(t){qm=t}},YC={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ho=T;function eP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tP=typeof Object.is=="function"?Object.is:eP,nP=Ho.useState,rP=Ho.useEffect,iP=Ho.useLayoutEffect,sP=Ho.useDebugValue;function oP(t,e){var n=e(),r=nP({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return iP(function(){i.value=n,i.getSnapshot=e,tp(i)&&s({inst:i})},[t,n,e]),rP(function(){return tp(i)&&s({inst:i}),t(function(){tp(i)&&s({inst:i})})},[t]),sP(n),n}function tp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tP(t,n)}catch{return!0}}function aP(t,e){return e()}var lP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?aP:oP;YC.useSyncExternalStore=Ho.useSyncExternalStore!==void 0?Ho.useSyncExternalStore:lP;(function(t){t.exports=YC})(ZA);var Wm={},uP={get exports(){return Wm},set exports(t){Wm=t}},XC={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff=T,cP=qm;function dP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fP=typeof Object.is=="function"?Object.is:dP,hP=cP.useSyncExternalStore,pP=ff.useRef,mP=ff.useEffect,gP=ff.useMemo,yP=ff.useDebugValue;XC.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=pP(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=gP(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var y=o.value;if(i(y,p))return d=y}return d=p}if(y=d,fP(c,p))return y;var m=r(p);return i!==void 0&&i(y,m)?y:(c=p,d=m)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=hP(t,s[0],s[1]);return mP(function(){o.hasValue=!0,o.value=a},[a]),yP(a),a};(function(t){t.exports=XC})(uP);function vP(t){t()}let JC=vP;const wP=t=>JC=t,_P=()=>JC,Mi=T.createContext(null);function ZC(){return T.useContext(Mi)}const SP=()=>{throw new Error("uSES not initialized!")};let eT=SP;const EP=t=>{eT=t},CP=(t,e)=>t===e;function TP(t=Mi){const e=t===Mi?ZC:()=>T.useContext(t);return function(r,i=CP){const{store:s,subscription:o,getServerState:a}=e(),l=eT(o.addNestedSub,s.getState,a||s.getState,r,i);return T.useDebugValue(l),l}}const IP=TP();var Km={},bP={get exports(){return Km},set exports(t){Km=t}},Oe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rt=typeof Symbol=="function"&&Symbol.for,Dy=Rt?Symbol.for("react.element"):60103,jy=Rt?Symbol.for("react.portal"):60106,hf=Rt?Symbol.for("react.fragment"):60107,pf=Rt?Symbol.for("react.strict_mode"):60108,mf=Rt?Symbol.for("react.profiler"):60114,gf=Rt?Symbol.for("react.provider"):60109,yf=Rt?Symbol.for("react.context"):60110,My=Rt?Symbol.for("react.async_mode"):60111,vf=Rt?Symbol.for("react.concurrent_mode"):60111,wf=Rt?Symbol.for("react.forward_ref"):60112,_f=Rt?Symbol.for("react.suspense"):60113,kP=Rt?Symbol.for("react.suspense_list"):60120,Sf=Rt?Symbol.for("react.memo"):60115,Ef=Rt?Symbol.for("react.lazy"):60116,xP=Rt?Symbol.for("react.block"):60121,RP=Rt?Symbol.for("react.fundamental"):60117,AP=Rt?Symbol.for("react.responder"):60118,PP=Rt?Symbol.for("react.scope"):60119;function bn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Dy:switch(t=t.type,t){case My:case vf:case hf:case mf:case pf:case _f:return t;default:switch(t=t&&t.$$typeof,t){case yf:case wf:case Ef:case Sf:case gf:return t;default:return e}}case jy:return e}}}function tT(t){return bn(t)===vf}Oe.AsyncMode=My;Oe.ConcurrentMode=vf;Oe.ContextConsumer=yf;Oe.ContextProvider=gf;Oe.Element=Dy;Oe.ForwardRef=wf;Oe.Fragment=hf;Oe.Lazy=Ef;Oe.Memo=Sf;Oe.Portal=jy;Oe.Profiler=mf;Oe.StrictMode=pf;Oe.Suspense=_f;Oe.isAsyncMode=function(t){return tT(t)||bn(t)===My};Oe.isConcurrentMode=tT;Oe.isContextConsumer=function(t){return bn(t)===yf};Oe.isContextProvider=function(t){return bn(t)===gf};Oe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dy};Oe.isForwardRef=function(t){return bn(t)===wf};Oe.isFragment=function(t){return bn(t)===hf};Oe.isLazy=function(t){return bn(t)===Ef};Oe.isMemo=function(t){return bn(t)===Sf};Oe.isPortal=function(t){return bn(t)===jy};Oe.isProfiler=function(t){return bn(t)===mf};Oe.isStrictMode=function(t){return bn(t)===pf};Oe.isSuspense=function(t){return bn(t)===_f};Oe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===hf||t===vf||t===mf||t===pf||t===_f||t===kP||typeof t=="object"&&t!==null&&(t.$$typeof===Ef||t.$$typeof===Sf||t.$$typeof===gf||t.$$typeof===yf||t.$$typeof===wf||t.$$typeof===RP||t.$$typeof===AP||t.$$typeof===PP||t.$$typeof===xP)};Oe.typeOf=bn;(function(t){t.exports=Oe})(bP);var nT=Km,LP={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},NP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},rT={};rT[nT.ForwardRef]=LP;rT[nT.Memo]=NP;var rw={},OP={get exports(){return rw},set exports(t){rw=t}},De={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y=Symbol.for("react.element"),Uy=Symbol.for("react.portal"),Cf=Symbol.for("react.fragment"),Tf=Symbol.for("react.strict_mode"),If=Symbol.for("react.profiler"),bf=Symbol.for("react.provider"),kf=Symbol.for("react.context"),DP=Symbol.for("react.server_context"),xf=Symbol.for("react.forward_ref"),Rf=Symbol.for("react.suspense"),Af=Symbol.for("react.suspense_list"),Pf=Symbol.for("react.memo"),Lf=Symbol.for("react.lazy"),jP=Symbol.for("react.offscreen"),iT;iT=Symbol.for("react.module.reference");function Vn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case $y:switch(t=t.type,t){case Cf:case If:case Tf:case Rf:case Af:return t;default:switch(t=t&&t.$$typeof,t){case DP:case kf:case xf:case Lf:case Pf:case bf:return t;default:return e}}case Uy:return e}}}De.ContextConsumer=kf;De.ContextProvider=bf;De.Element=$y;De.ForwardRef=xf;De.Fragment=Cf;De.Lazy=Lf;De.Memo=Pf;De.Portal=Uy;De.Profiler=If;De.StrictMode=Tf;De.Suspense=Rf;De.SuspenseList=Af;De.isAsyncMode=function(){return!1};De.isConcurrentMode=function(){return!1};De.isContextConsumer=function(t){return Vn(t)===kf};De.isContextProvider=function(t){return Vn(t)===bf};De.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===$y};De.isForwardRef=function(t){return Vn(t)===xf};De.isFragment=function(t){return Vn(t)===Cf};De.isLazy=function(t){return Vn(t)===Lf};De.isMemo=function(t){return Vn(t)===Pf};De.isPortal=function(t){return Vn(t)===Uy};De.isProfiler=function(t){return Vn(t)===If};De.isStrictMode=function(t){return Vn(t)===Tf};De.isSuspense=function(t){return Vn(t)===Rf};De.isSuspenseList=function(t){return Vn(t)===Af};De.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Cf||t===If||t===Tf||t===Rf||t===Af||t===jP||typeof t=="object"&&t!==null&&(t.$$typeof===Lf||t.$$typeof===Pf||t.$$typeof===bf||t.$$typeof===kf||t.$$typeof===xf||t.$$typeof===iT||t.getModuleId!==void 0)};De.typeOf=Vn;(function(t){t.exports=De})(OP);function MP(){const t=_P();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const iw={notify(){},get:()=>[]};function $P(t,e){let n,r=iw;function i(d){return l(),r.subscribe(d)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=MP())}function u(){n&&(n(),n=void 0,r.clear(),r=iw)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const UP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FP=UP?T.useLayoutEffect:T.useEffect;function VP({store:t,context:e,children:n,serverState:r}){const i=T.useMemo(()=>{const a=$P(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),s=T.useMemo(()=>t.getState(),[t]);FP(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=e||Mi;return Qn.createElement(o.Provider,{value:i},n)}function sT(t=Mi){const e=t===Mi?ZC:()=>T.useContext(t);return function(){const{store:r}=e();return r}}const zP=sT();function BP(t=Mi){const e=t===Mi?zP:sT(t);return function(){return e().dispatch}}const HP=BP();EP(Wm.useSyncExternalStoreWithSelector);wP(gl.unstable_batchedUpdates);function kc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kc=function(n){return typeof n}:kc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},kc(t)}function qP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function WP(t,e,n){return e&&sw(t.prototype,e),n&&sw(t,n),t}function KP(t,e){return e&&(kc(e)==="object"||typeof e=="function")?e:xc(t)}function Gm(t){return Gm=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Gm(t)}function xc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qm(t,e)}function Qm(t,e){return Qm=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Qm(t,e)}function Rc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oT=function(t){GP(e,t);function e(){var n,r;qP(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=KP(this,(n=Gm(e)).call.apply(n,[this].concat(s))),Rc(xc(r),"state",{bootstrapped:!1}),Rc(xc(r),"_unsubscribe",void 0),Rc(xc(r),"handlePersistorState",function(){var a=r.props.persistor,l=a.getState(),u=l.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return WP(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(T.PureComponent);Rc(oT,"defaultProps",{children:null,loading:null});/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ke(){return ke=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ke.apply(this,arguments)}var st;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(st||(st={}));const ow="popstate";function QP(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ol("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Qr(i)}return XP(e,n,null,t)}function _e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YP(){return Math.random().toString(36).substr(2,8)}function aw(t,e){return{usr:t.state,key:t.key,idx:e}}function Ol(t,e,n,r){return n===void 0&&(n=null),ke({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ri(e):e,{state:n,key:e&&e.key||r||YP()})}function Qr(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ri(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function XP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=st.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(ke({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=st.Pop;let S=c(),v=S==null?null:S-u;u=S,l&&l({action:a,location:m.location,delta:v})}function f(S,v){a=st.Push;let g=Ol(m.location,S,v);n&&n(g,S),u=c()+1;let w=aw(g,u),_=m.createHref(g);try{o.pushState(w,"",_)}catch{i.location.assign(_)}s&&l&&l({action:a,location:m.location,delta:1})}function p(S,v){a=st.Replace;let g=Ol(m.location,S,v);n&&n(g,S),u=c();let w=aw(g,u),_=m.createHref(g);o.replaceState(w,"",_),s&&l&&l({action:a,location:m.location,delta:0})}function y(S){let v=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof S=="string"?S:Qr(S);return _e(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let m={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ow,d),l=S,()=>{i.removeEventListener(ow,d),l=null}},createHref(S){return e(i,S)},createURL:y,encodeLocation(S){let v=y(S);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(S){return o.go(S)}};return m}var mt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mt||(mt={}));const JP=new Set(["lazy","caseSensitive","path","id","index","children"]);function ZP(t){return t.index===!0}function aT(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(_e(i.index!==!0||!i.children,"Cannot specify children on an index route"),_e(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),ZP(i)){let l=ke({},i,{hasErrorBoundary:e(i),id:a});return r[a]=l,l}else{let l=ke({},i,{id:a,hasErrorBoundary:e(i),children:void 0});return r[a]=l,i.children&&(l.children=aT(i.children,e,o,r)),l}})}function yo(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ri(e):e,i=au(r.pathname||"/",n);if(i==null)return null;let s=lT(t);eL(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=uL(s[a],fL(i));return o}function lT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(_e(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Vr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(_e(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),lT(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:aL(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of uT(s.path))i(s,o,l)}),e}function uT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=uT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function eL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:lL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const tL=/^:\w+$/,nL=3,rL=2,iL=1,sL=10,oL=-2,lw=t=>t==="*";function aL(t,e){let n=t.split("/"),r=n.length;return n.some(lw)&&(r+=oL),e&&(r+=rL),n.filter(i=>!lw(i)).reduce((i,s)=>i+(tL.test(s)?nL:s===""?iL:sL),r)}function lL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function uL(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=cL({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:Vr([i,c.pathname]),pathnameBase:gL(Vr([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Vr([i,c.pathnameBase]))}return s}function cL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=a[d]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=hL(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function dL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),qo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function fL(t){try{return decodeURI(t)}catch(e){return qo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function hL(t,e){try{return decodeURIComponent(t)}catch(n){return qo(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function au(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function pL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ri(t):t;return{pathname:n?n.startsWith("/")?n:mL(n,e):e,search:yL(r),hash:vL(i)}}function mL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function np(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Nf(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ri(t):(i=ke({},t),_e(!i.pathname||!i.pathname.includes("?"),np("?","pathname","search",i)),_e(!i.pathname||!i.pathname.includes("#"),np("#","pathname","hash",i)),_e(!i.search||!i.search.includes("#"),np("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=pL(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Vr=t=>t.join("/").replace(/\/\/+/g,"/"),gL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class uw extends Error{}class wL{constructor(e,n){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],_e(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((s,o)=>r=o),this.controller=new AbortController;let i=()=>r(new uw("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(e).reduce((s,o)=>{let[a,l]=o;return Object.assign(s,{[a]:this.trackPromise(a,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=n}trackPromise(e,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,e,null,i),i=>this.onSettle(r,e,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,n,r,i){return this.controller.signal.aborted&&r instanceof uw?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r)):(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),r?(Object.defineProperty(e,"_error",{get:()=>r}),this.emit(!1,n),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>i}),this.emit(!1,n),i))}emit(e,n){this.subscribers.forEach(r=>r(e,n))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(e){let n=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(s=>{e.removeEventListener("abort",r),(s||this.done)&&i(s)})})}return n}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return _e(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,n)=>{let[r,i]=n;return Object.assign(e,{[r]:SL(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function _L(t){return t instanceof Promise&&t._tracked===!0}function SL(t){if(!_L(t))return t;if(t._error)throw t._error;return t._data}class Vy{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function vo(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cT=["post","put","patch","delete"],EL=new Set(cT),CL=["get",...cT],TL=new Set(CL),IL=new Set([301,302,303,307,308]),bL=new Set([307,308]),rp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},kL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},cw={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},dT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xL=!fT,RL=t=>!!t.hasErrorBoundary;function AL(t){_e(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=t.detectErrorBoundary||RL,n={},r=aT(t.routes,e,void 0,n),i,s=null,o=new Set,a=null,l=null,u=null,c=t.hydrationData!=null,d=yo(r,t.history.location,t.basename),f=null;if(d==null){let R=ur(404,{pathname:t.history.location.pathname}),{matches:N,route:M}=gw(r);d=N,f={[M.id]:R}}let p=!d.some(R=>R.route.lazy)&&(!d.some(R=>R.route.loader)||t.hydrationData!=null),y,m={historyAction:t.history.action,location:t.history.location,matches:d,initialized:p,navigation:rp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||f,fetchers:new Map,blockers:new Map},S=st.Pop,v=!1,g,w=!1,_=!1,C=[],I=[],b=new Map,O=0,A=-1,D=new Map,Q=new Set,H=new Map,$=new Map,ae=new Map,be=!1;function je(){if(s=t.history.listen(M=>{let{action:J,location:ee,delta:le}=M;if(be){be=!1;return}qo(ae.size===0||le!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=ve({currentLocation:m.location,nextLocation:ee,historyAction:J});if(ie&&le!=null){be=!0,t.history.go(le*-1),L(ie,{state:"blocked",location:ee,proceed(){L(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),t.history.go(le)},reset(){P(ie),K({blockers:new Map(y.state.blockers)})}});return}return ht(J,ee)}),m.initialized)return y;let R=m.matches.filter(M=>M.route.lazy);if(R.length===0)return ht(st.Pop,m.location),y;let N=R.map(M=>Ym(M.route,e,n));return Promise.all(N).then(()=>{!m.matches.some(J=>J.route.loader)||t.hydrationData!=null?K({initialized:!0}):ht(st.Pop,m.location)}),y}function at(){s&&s(),o.clear(),g&&g.abort(),m.fetchers.forEach((R,N)=>de(N)),m.blockers.forEach((R,N)=>P(N))}function q(R){return o.add(R),()=>o.delete(R)}function K(R){m=ke({},m,R),o.forEach(N=>N(m))}function re(R,N){var M,J;let ee=m.actionData!=null&&m.navigation.formMethod!=null&&Pr(m.navigation.formMethod)&&m.navigation.state==="loading"&&((M=R.state)==null?void 0:M._isRedirect)!==!0,le;N.actionData?Object.keys(N.actionData).length>0?le=N.actionData:le=null:ee?le=m.actionData:le=null;let ie=N.loaderData?mw(m.loaderData,N.loaderData,N.matches||[],N.errors):m.loaderData;for(let[te]of ae)P(te);let Se=v===!0||m.navigation.formMethod!=null&&Pr(m.navigation.formMethod)&&((J=R.state)==null?void 0:J._isRedirect)!==!0;i&&(r=i,i=void 0),K(ke({},N,{actionData:le,loaderData:ie,historyAction:S,location:R,initialized:!0,navigation:rp,revalidation:"idle",restoreScrollPosition:Gs(R,N.matches||m.matches),preventScrollReset:Se,blockers:new Map(m.blockers)})),w||S===st.Pop||(S===st.Push?t.history.push(R,R.state):S===st.Replace&&t.history.replace(R,R.state)),S=st.Pop,v=!1,w=!1,_=!1,C=[],I=[]}async function Re(R,N){if(typeof R=="number"){t.history.go(R);return}let{path:M,submission:J,error:ee}=dw(R,N),le=m.location,ie=Ol(m.location,M,N&&N.state);ie=ke({},ie,t.history.encodeLocation(ie));let Se=N&&N.replace!=null?N.replace:void 0,te=st.Push;Se===!0?te=st.Replace:Se===!1||J!=null&&Pr(J.formMethod)&&J.formAction===m.location.pathname+m.location.search&&(te=st.Replace);let jt=N&&"preventScrollReset"in N?N.preventScrollReset===!0:void 0,Ae=ve({currentLocation:le,nextLocation:ie,historyAction:te});if(Ae){L(Ae,{state:"blocked",location:ie,proceed(){L(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:ie}),Re(R,N)},reset(){P(Ae),K({blockers:new Map(m.blockers)})}});return}return await ht(te,ie,{submission:J,pendingError:ee,preventScrollReset:jt,replace:N&&N.replace})}function Me(){if(ge(),K({revalidation:"loading"}),m.navigation.state!=="submitting"){if(m.navigation.state==="idle"){ht(m.historyAction,m.location,{startUninterruptedRevalidation:!0});return}ht(S||m.historyAction,m.navigation.location,{overrideNavigation:m.navigation})}}async function ht(R,N,M){g&&g.abort(),g=null,S=R,w=(M&&M.startUninterruptedRevalidation)===!0,va(m.location,m.matches),v=(M&&M.preventScrollReset)===!0;let J=i||r,ee=M&&M.overrideNavigation,le=yo(J,N,t.basename);if(!le){let it=ur(404,{pathname:N.pathname}),{matches:sr,route:Hn}=gw(J);Ee(),re(N,{matches:sr,loaderData:{},errors:{[Hn.id]:it}});return}if(DL(m.location,N)&&!(M&&M.submission&&Pr(M.submission.formMethod))){re(N,{matches:le});return}g=new AbortController;let ie=Ra(t.history,N,g.signal,M&&M.submission),Se,te;if(M&&M.pendingError)te={[wo(le).route.id]:M.pendingError};else if(M&&M.submission&&Pr(M.submission.formMethod)){let it=await Ct(ie,N,M.submission,le,{replace:M.replace});if(it.shortCircuited)return;Se=it.pendingActionData,te=it.pendingActionError,ee=ke({state:"loading",location:N},M.submission),ie=new Request(ie.url,{signal:ie.signal})}let{shortCircuited:jt,loaderData:Ae,errors:Xt}=await Bn(ie,N,le,ee,M&&M.submission,M&&M.replace,Se,te);jt||(g=null,re(N,ke({matches:le},Se?{actionData:Se}:{},{loaderData:Ae,errors:Xt})))}async function Ct(R,N,M,J,ee){ge();let le=ke({state:"submitting",location:N},M);K({navigation:le});let ie,Se=Xm(J,N);if(!Se.route.action&&!Se.route.lazy)ie={type:mt.error,error:ur(405,{method:R.method,pathname:N.pathname,routeId:Se.route.id})};else if(ie=await xa("action",R,Se,J,n,e,y.basename),R.signal.aborted)return{shortCircuited:!0};if(xo(ie)){let te;return ee&&ee.replace!=null?te=ee.replace:te=ie.location===m.location.pathname+m.location.search,await F(m,ie,{submission:M,replace:te}),{shortCircuited:!0}}if(il(ie)){let te=wo(J,Se.route.id);return(ee&&ee.replace)!==!0&&(S=st.Push),{pendingActionData:{},pendingActionError:{[te.route.id]:ie.error}}}if(ls(ie))throw ur(400,{type:"defer-action"});return{pendingActionData:{[Se.route.id]:ie.data}}}async function Bn(R,N,M,J,ee,le,ie,Se){let te=J;te||(te=ke({state:"loading",location:N,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ee));let jt=ee||(te.formMethod&&te.formAction&&te.formData&&te.formEncType?{formMethod:te.formMethod,formAction:te.formAction,formData:te.formData,formEncType:te.formEncType}:void 0),Ae=i||r,[Xt,it]=fw(t.history,m,M,jt,N,_,C,I,H,Ae,t.basename,ie,Se);if(Ee(Mt=>!(M&&M.some(or=>or.route.id===Mt))||Xt&&Xt.some(or=>or.route.id===Mt)),Xt.length===0&&it.length===0)return re(N,ke({matches:M,loaderData:{},errors:Se||null},ie?{actionData:ie}:{})),{shortCircuited:!0};if(!w){it.forEach(or=>{let Xi=m.fetchers.get(or.key),Uu={state:"loading",data:Xi&&Xi.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(or.key,Uu)});let Mt=ie||m.actionData;K(ke({navigation:te},Mt?Object.keys(Mt).length===0?{actionData:null}:{actionData:Mt}:{},it.length>0?{fetchers:new Map(m.fetchers)}:{}))}A=++O,it.forEach(Mt=>b.set(Mt.key,g));let{results:sr,loaderResults:Hn,fetcherResults:wa}=await G(m.matches,M,Xt,it,R);if(R.signal.aborted)return{shortCircuited:!0};it.forEach(Mt=>b.delete(Mt.key));let Mu=yw(sr);if(Mu)return await F(m,Mu,{replace:le}),{shortCircuited:!0};let{loaderData:$u,errors:Qs}=pw(m,M,Xt,Hn,Se,it,wa,$);$.forEach((Mt,or)=>{Mt.subscribe(Xi=>{(Xi||Mt.done)&&$.delete(or)})}),x();let Ih=j(A);return ke({loaderData:$u,errors:Qs},Ih||it.length>0?{fetchers:new Map(m.fetchers)}:{})}function Fe(R){return m.fetchers.get(R)||kL}function pt(R,N,M,J){if(xL)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");b.has(R)&&E(R);let le=yo(i||r,M,t.basename);if(!le){ye(R,N,ur(404,{pathname:M}));return}let{path:ie,submission:Se}=dw(M,J,!0),te=Xm(le,ie);if(v=(J&&J.preventScrollReset)===!0,Se&&Pr(Se.formMethod)){oi(R,N,ie,te,le,Se);return}H.set(R,{routeId:N,path:ie}),ai(R,N,ie,te,le,Se)}async function oi(R,N,M,J,ee,le){if(ge(),H.delete(R),!J.route.action&&!J.route.lazy){let br=ur(405,{method:le.formMethod,pathname:M,routeId:N});ye(R,N,br);return}let ie=m.fetchers.get(R),Se=ke({state:"submitting"},le,{data:ie&&ie.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(R,Se),K({fetchers:new Map(m.fetchers)});let te=new AbortController,jt=Ra(t.history,M,te.signal,le);b.set(R,te);let Ae=await xa("action",jt,J,ee,n,e,y.basename);if(jt.signal.aborted){b.get(R)===te&&b.delete(R);return}if(xo(Ae)){b.delete(R),Q.add(R);let br=ke({state:"loading"},le,{data:void 0," _hasFetcherDoneAnything ":!0});return m.fetchers.set(R,br),K({fetchers:new Map(m.fetchers)}),F(m,Ae,{isFetchActionRedirect:!0})}if(il(Ae)){ye(R,N,Ae.error);return}if(ls(Ae))throw ur(400,{type:"defer-action"});let Xt=m.navigation.location||m.location,it=Ra(t.history,Xt,te.signal),sr=i||r,Hn=m.navigation.state!=="idle"?yo(sr,m.navigation.location,t.basename):m.matches;_e(Hn,"Didn't find any matches after fetcher action");let wa=++O;D.set(R,wa);let Mu=ke({state:"loading",data:Ae.data},le,{" _hasFetcherDoneAnything ":!0});m.fetchers.set(R,Mu);let[$u,Qs]=fw(t.history,m,Hn,le,Xt,_,C,I,H,sr,t.basename,{[J.route.id]:Ae.data},void 0);Qs.filter(br=>br.key!==R).forEach(br=>{let kh=br.key,K1=m.fetchers.get(kh),u2={state:"loading",data:K1&&K1.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(kh,u2),b.set(kh,te)}),K({fetchers:new Map(m.fetchers)});let{results:Ih,loaderResults:Mt,fetcherResults:or}=await G(m.matches,Hn,$u,Qs,it);if(te.signal.aborted)return;D.delete(R),b.delete(R),Qs.forEach(br=>b.delete(br.key));let Xi=yw(Ih);if(Xi)return F(m,Xi);let{loaderData:Uu,errors:bh}=pw(m,m.matches,$u,Mt,void 0,Qs,or,$),a2={state:"idle",data:Ae.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(R,a2);let l2=j(wa);m.navigation.state==="loading"&&wa>A?(_e(S,"Expected pending action"),g&&g.abort(),re(m.navigation.location,{matches:Hn,loaderData:Uu,errors:bh,fetchers:new Map(m.fetchers)})):(K(ke({errors:bh,loaderData:mw(m.loaderData,Uu,Hn,bh)},l2?{fetchers:new Map(m.fetchers)}:{})),_=!1)}async function ai(R,N,M,J,ee,le){let ie=m.fetchers.get(R),Se=ke({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},le,{data:ie&&ie.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(R,Se),K({fetchers:new Map(m.fetchers)});let te=new AbortController,jt=Ra(t.history,M,te.signal);b.set(R,te);let Ae=await xa("loader",jt,J,ee,n,e,y.basename);if(ls(Ae)&&(Ae=await gT(Ae,jt.signal,!0)||Ae),b.get(R)===te&&b.delete(R),jt.signal.aborted)return;if(xo(Ae)){await F(m,Ae);return}if(il(Ae)){let it=wo(m.matches,N);m.fetchers.delete(R),K({fetchers:new Map(m.fetchers),errors:{[it.route.id]:Ae.error}});return}_e(!ls(Ae),"Unhandled fetcher deferred data");let Xt={state:"idle",data:Ae.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(R,Xt),K({fetchers:new Map(m.fetchers)})}async function F(R,N,M){var J;let{submission:ee,replace:le,isFetchActionRedirect:ie}=M===void 0?{}:M;N.revalidate&&(_=!0);let Se=Ol(R.location,N.location,ke({_isRedirect:!0},ie?{_isFetchActionRedirect:!0}:{}));if(_e(Se,"Expected a location on the redirect navigation"),dT.test(N.location)&&fT&&typeof((J=window)==null?void 0:J.location)<"u"){let sr=t.history.createURL(N.location),Hn=au(sr.pathname,t.basename||"/")==null;if(window.location.origin!==sr.origin||Hn){le?window.location.replace(N.location):window.location.assign(N.location);return}}g=null;let te=le===!0?st.Replace:st.Push,{formMethod:jt,formAction:Ae,formEncType:Xt,formData:it}=R.navigation;!ee&&jt&&Ae&&it&&Xt&&(ee={formMethod:jt,formAction:Ae,formEncType:Xt,formData:it}),bL.has(N.status)&&ee&&Pr(ee.formMethod)?await ht(te,Se,{submission:ke({},ee,{formAction:N.location}),preventScrollReset:v}):await ht(te,Se,{overrideNavigation:{state:"loading",location:Se,formMethod:ee?ee.formMethod:void 0,formAction:ee?ee.formAction:void 0,formEncType:ee?ee.formEncType:void 0,formData:ee?ee.formData:void 0},preventScrollReset:v})}async function G(R,N,M,J,ee){let le=await Promise.all([...M.map(te=>xa("loader",ee,te,N,n,e,y.basename)),...J.map(te=>te.matches&&te.match?xa("loader",Ra(t.history,te.path,ee.signal),te.match,te.matches,n,e,y.basename):{type:mt.error,error:ur(404,{pathname:te.path})})]),ie=le.slice(0,M.length),Se=le.slice(M.length);return await Promise.all([vw(R,M,ie,ee.signal,!1,m.loaderData),vw(R,J.map(te=>te.match),Se,ee.signal,!0)]),{results:le,loaderResults:ie,fetcherResults:Se}}function ge(){_=!0,C.push(...Ee()),H.forEach((R,N)=>{b.has(N)&&(I.push(N),E(N))})}function ye(R,N,M){let J=wo(m.matches,N);de(R),K({errors:{[J.route.id]:M},fetchers:new Map(m.fetchers)})}function de(R){b.has(R)&&E(R),H.delete(R),D.delete(R),Q.delete(R),m.fetchers.delete(R)}function E(R){let N=b.get(R);_e(N,"Expected fetch controller: "+R),N.abort(),b.delete(R)}function k(R){for(let N of R){let J={state:"idle",data:Fe(N).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(N,J)}}function x(){let R=[];for(let N of Q){let M=m.fetchers.get(N);_e(M,"Expected fetcher: "+N),M.state==="loading"&&(Q.delete(N),R.push(N))}k(R)}function j(R){let N=[];for(let[M,J]of D)if(J<R){let ee=m.fetchers.get(M);_e(ee,"Expected fetcher: "+M),ee.state==="loading"&&(E(M),D.delete(M),N.push(M))}return k(N),N.length>0}function B(R,N){let M=m.blockers.get(R)||cw;return ae.get(R)!==N&&ae.set(R,N),M}function P(R){m.blockers.delete(R),ae.delete(R)}function L(R,N){let M=m.blockers.get(R)||cw;_e(M.state==="unblocked"&&N.state==="blocked"||M.state==="blocked"&&N.state==="blocked"||M.state==="blocked"&&N.state==="proceeding"||M.state==="blocked"&&N.state==="unblocked"||M.state==="proceeding"&&N.state==="unblocked","Invalid blocker state transition: "+M.state+" -> "+N.state),m.blockers.set(R,N),K({blockers:new Map(m.blockers)})}function ve(R){let{currentLocation:N,nextLocation:M,historyAction:J}=R;if(ae.size===0)return;ae.size>1&&qo(!1,"A router only supports one blocker at a time");let ee=Array.from(ae.entries()),[le,ie]=ee[ee.length-1],Se=m.blockers.get(le);if(!(Se&&Se.state==="proceeding")&&ie({currentLocation:N,nextLocation:M,historyAction:J}))return le}function Ee(R){let N=[];return $.forEach((M,J)=>{(!R||R(J))&&(M.cancel(),N.push(J),$.delete(J))}),N}function Ks(R,N,M){if(a=R,u=N,l=M||(J=>J.key),!c&&m.navigation===rp){c=!0;let J=Gs(m.location,m.matches);J!=null&&K({restoreScrollPosition:J})}return()=>{a=null,u=null,l=null}}function va(R,N){if(a&&l&&u){let M=N.map(ee=>ww(ee,m.loaderData)),J=l(R,M)||R.key;a[J]=u()}}function Gs(R,N){if(a&&l&&u){let M=N.map(le=>ww(le,m.loaderData)),J=l(R,M)||R.key,ee=a[J];if(typeof ee=="number")return ee}return null}function Th(R){i=R}return y={get basename(){return t.basename},get state(){return m},get routes(){return r},initialize:je,subscribe:q,enableScrollRestoration:Ks,navigate:Re,fetch:pt,revalidate:Me,createHref:R=>t.history.createHref(R),encodeLocation:R=>t.history.encodeLocation(R),getFetcher:Fe,deleteFetcher:de,dispose:at,getBlocker:B,deleteBlocker:P,_internalFetchControllers:b,_internalActiveDeferreds:$,_internalSetRoutes:Th},y}function PL(t){return t!=null&&"formData"in t}function dw(t,e,n){n===void 0&&(n=!1);let r=typeof t=="string"?t:Qr(t);if(!e||!PL(e))return{path:r};if(e.formMethod&&!ML(e.formMethod))return{path:r,error:ur(405,{method:e.formMethod})};let i;if(e.formData&&(i={formMethod:e.formMethod||"get",formAction:mT(r),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},Pr(i.formMethod)))return{path:r,submission:i};let s=ri(r),o=pT(e.formData);return n&&s.search&&yT(s.search)&&o.append("index",""),s.search="?"+o,{path:Qr(s),submission:i}}function LL(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function fw(t,e,n,r,i,s,o,a,l,u,c,d,f){let p=f?Object.values(f)[0]:d?Object.values(d)[0]:void 0,y=t.createURL(e.location),m=t.createURL(i),S=s||y.toString()===m.toString()||y.search!==m.search,v=f?Object.keys(f)[0]:void 0,w=LL(n,v).filter((C,I)=>{if(C.route.lazy)return!0;if(C.route.loader==null)return!1;if(NL(e.loaderData,e.matches[I],C)||o.some(A=>A===C.route.id))return!0;let b=e.matches[I],O=C;return hw(C,ke({currentUrl:y,currentParams:b.params,nextUrl:m,nextParams:O.params},r,{actionResult:p,defaultShouldRevalidate:S||hT(b,O)}))}),_=[];return l.forEach((C,I)=>{if(!n.some(D=>D.route.id===C.routeId))return;let b=yo(u,C.path,c);if(!b){_.push(ke({key:I},C,{matches:null,match:null}));return}let O=Xm(b,C.path);if(a.includes(I)){_.push(ke({key:I,matches:b,match:O},C));return}hw(O,ke({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},r,{actionResult:p,defaultShouldRevalidate:S}))&&_.push(ke({key:I,matches:b,match:O},C))}),[w,_]}function NL(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function hT(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function hw(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Ym(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];_e(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";qo(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!JP.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,{hasErrorBoundary:e(ke({},i)),lazy:void 0})}async function xa(t,e,n,r,i,s,o,a,l,u){o===void 0&&(o="/"),a===void 0&&(a=!1),l===void 0&&(l=!1);let c,d,f,p=S=>{let v,g=new Promise((w,_)=>v=_);return f=()=>v(),e.signal.addEventListener("abort",f),Promise.race([S({request:e,params:n.params,context:u}),g])};try{let S=n.route[t];if(n.route.lazy)if(S)d=(await Promise.all([p(S),Ym(n.route,s,i)]))[0];else if(await Ym(n.route,s,i),S=n.route[t],S)d=await p(S);else{if(t==="action")throw ur(405,{method:e.method,pathname:new URL(e.url).pathname,routeId:n.route.id});return{type:mt.data,data:void 0}}else _e(S,"Could not find the "+t+' to run on the "'+n.route.id+'" route'),d=await p(S);_e(d!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(S){c=mt.error,d=S}finally{f&&e.signal.removeEventListener("abort",f)}if(jL(d)){let S=d.status;if(IL.has(S)){let w=d.headers.get("Location");if(_e(w,"Redirects returned/thrown from loaders/actions must have a Location header"),dT.test(w)){if(!a){let _=new URL(e.url),C=w.startsWith("//")?new URL(_.protocol+w):new URL(w),I=au(C.pathname,o)!=null;C.origin===_.origin&&I&&(w=C.pathname+C.search+C.hash)}}else{let _=r.slice(0,r.indexOf(n)+1),C=Nf(_).map(b=>b.pathnameBase),I=Fy(w,C,new URL(e.url).pathname);if(_e(Qr(I),"Unable to resolve redirect location: "+w),o){let b=I.pathname;I.pathname=b==="/"?o:Vr([o,b])}w=Qr(I)}if(a)throw d.headers.set("Location",w),d;return{type:mt.redirect,status:S,location:w,revalidate:d.headers.get("X-Remix-Revalidate")!==null}}if(l)throw{type:c||mt.data,response:d};let v,g=d.headers.get("Content-Type");return g&&/\bapplication\/json\b/.test(g)?v=await d.json():v=await d.text(),c===mt.error?{type:c,error:new Vy(S,d.statusText,v),headers:d.headers}:{type:mt.data,data:v,statusCode:d.status,headers:d.headers}}if(c===mt.error)return{type:c,error:d};if(d instanceof wL){var y,m;return{type:mt.deferred,deferredData:d,statusCode:(y=d.init)==null?void 0:y.status,headers:((m=d.init)==null?void 0:m.headers)&&new Headers(d.init.headers)}}return{type:mt.data,data:d}}function Ra(t,e,n,r){let i=t.createURL(mT(e)).toString(),s={signal:n};if(r&&Pr(r.formMethod)){let{formMethod:o,formEncType:a,formData:l}=r;s.method=o.toUpperCase(),s.body=a==="application/x-www-form-urlencoded"?pT(l):l}return new Request(i,s)}function pT(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function OL(t,e,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,d)=>{let f=e[d].route.id;if(_e(!xo(c),"Cannot handle redirect results in processLoaderData"),il(c)){let p=wo(t,f),y=c.error;r&&(y=Object.values(r)[0],r=void 0),o=o||{},o[p.route.id]==null&&(o[p.route.id]=y),s[f]=void 0,l||(l=!0,a=vo(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else ls(c)?(i.set(f,c.deferredData),s[f]=c.deferredData.data):s[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[f]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function pw(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=OL(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:d,match:f}=s[c];_e(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let p=o[c];if(il(p)){let y=wo(t.matches,f==null?void 0:f.route.id);u&&u[y.route.id]||(u=ke({},u,{[y.route.id]:p.error})),t.fetchers.delete(d)}else if(xo(p))_e(!1,"Unhandled fetcher revalidation redirect");else if(ls(p))_e(!1,"Unhandled fetcher deferred data");else{let y={state:"idle",data:p.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(d,y)}}return{loaderData:l,errors:u}}function mw(t,e,n,r){let i=ke({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function wo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function gw(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ur(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"&&(a="defer() is not supported in actions")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Vy(t||500,o,new Error(a),!0)}function yw(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(xo(n))return n}}function mT(t){let e=typeof t=="string"?ri(t):t;return Qr(ke({},e,{hash:""}))}function DL(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function ls(t){return t.type===mt.deferred}function il(t){return t.type===mt.error}function xo(t){return(t&&t.type)===mt.redirect}function jL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function ML(t){return TL.has(t)}function Pr(t){return EL.has(t)}async function vw(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!hT(u,l)&&(s&&s[l.route.id])!==void 0;ls(a)&&(i||c)&&await gT(a,r,i).then(d=>{d&&(n[o]=d||n[o])})}}async function gT(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:mt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:mt.error,error:i}}return{type:mt.data,data:t.deferredData.data}}}function yT(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function ww(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Xm(t,e){let n=typeof e=="string"?ri(e).search:e.search;if(t[t.length-1].route.index&&yT(n||""))return t[t.length-1];let r=Nf(t);return r[r.length-1]}/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $L(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const UL=typeof Object.is=="function"?Object.is:$L,{useState:FL,useEffect:VL,useLayoutEffect:zL,useDebugValue:BL}=Xp;function HL(t,e,n){const r=e(),[{inst:i},s]=FL({inst:{value:r,getSnapshot:e}});return zL(()=>{i.value=r,i.getSnapshot=e,ip(i)&&s({inst:i})},[t,r,e]),VL(()=>(ip(i)&&s({inst:i}),t(()=>{ip(i)&&s({inst:i})})),[t]),BL(r),r}function ip(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!UL(n,r)}catch{return!0}}function qL(t,e,n){return e()}const WL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KL=!WL,GL=KL?qL:HL,QL="useSyncExternalStore"in Xp?(t=>t.useSyncExternalStore)(Xp):GL,zy=T.createContext(null),Of=T.createContext(null),ia=T.createContext(null),Df=T.createContext(null),Us=T.createContext({outlet:null,matches:[]}),vT=T.createContext(null);function Jm(){return Jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jm.apply(this,arguments)}function YL(t,e){let{relative:n}=e===void 0?{}:e;lu()||_e(!1);let{basename:r,navigator:i}=T.useContext(ia),{hash:s,pathname:o,search:a}=By(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Vr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function lu(){return T.useContext(Df)!=null}function qi(){return lu()||_e(!1),T.useContext(Df).location}function Fs(){lu()||_e(!1);let{basename:t,navigator:e}=T.useContext(ia),{matches:n}=T.useContext(Us),{pathname:r}=qi(),i=JSON.stringify(Nf(n).map(a=>a.pathnameBase)),s=T.useRef(!1);return T.useEffect(()=>{s.current=!0}),T.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=Fy(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:Vr([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}const XL=T.createContext(null);function JL(t){let e=T.useContext(Us).outlet;return e&&T.createElement(XL.Provider,{value:t},e)}function By(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=T.useContext(Us),{pathname:i}=qi(),s=JSON.stringify(Nf(r).map(o=>o.pathnameBase));return T.useMemo(()=>Fy(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function ZL(t,e){lu()||_e(!1);let{navigator:n}=T.useContext(ia),r=T.useContext(Of),{matches:i}=T.useContext(Us),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=qi(),u;if(e){var c;let m=typeof e=="string"?ri(e):e;a==="/"||(c=m.pathname)!=null&&c.startsWith(a)||_e(!1),u=m}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",p=yo(t,{pathname:f}),y=rN(p&&p.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:Vr([a,n.encodeLocation?n.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:Vr([a,n.encodeLocation?n.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,r||void 0);return e&&y?T.createElement(Df.Provider,{value:{location:Jm({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:st.Pop}},y):y}function eN(){let t=wT(),e=vo(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,s)}class tN extends T.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?T.createElement(Us.Provider,{value:this.props.routeContext},T.createElement(vT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nN(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(zy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Us.Provider,{value:e},r)}function rN(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||_e(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=T.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=T.createElement(eN,null));let c=e.concat(r.slice(0,a+1)),d=()=>{let f=s;return l?f=u:o.route.Component?f=T.createElement(o.route.Component,null):o.route.element&&(f=o.route.element),T.createElement(nN,{match:o,routeContext:{outlet:s,matches:c},children:f})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?T.createElement(tN,{location:n.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var _w;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(_w||(_w={}));var hd;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(hd||(hd={}));function iN(t){let e=T.useContext(Of);return e||_e(!1),e}function sN(t){let e=T.useContext(Us);return e||_e(!1),e}function oN(t){let e=sN(),n=e.matches[e.matches.length-1];return n.route.id||_e(!1),n.route.id}function wT(){var t;let e=T.useContext(vT),n=iN(hd.UseRouteError),r=oN(hd.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function aN(t){let{fallbackElement:e,router:n}=t,r=T.useCallback(()=>n.state,[n]),i=QL(n.subscribe,r,r),s=T.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:l=>n.navigate(l),push:(l,u,c)=>n.navigate(l,{state:u,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(l,u,c)=>n.navigate(l,{replace:!0,state:u,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[n]),o=n.basename||"/",a=T.useMemo(()=>({router:n,navigator:s,static:!1,basename:o}),[n,s,o]);return T.createElement(T.Fragment,null,T.createElement(zy.Provider,{value:a},T.createElement(Of.Provider,{value:i},T.createElement(cN,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:s},n.state.initialized?T.createElement(dN,null):e))),null)}function lN(t){return JL(t.context)}function uN(t){_e(!1)}function cN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=st.Pop,navigator:s,static:o=!1}=t;lu()&&_e(!1);let a=e.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=ri(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:p="default"}=r,y=T.useMemo(()=>{let m=au(u,a);return m==null?null:{location:{pathname:m,search:c,hash:d,state:f,key:p},navigationType:i}},[a,u,c,d,f,p,i]);return y==null?null:T.createElement(ia.Provider,{value:l},T.createElement(Df.Provider,{children:n,value:y}))}function dN(t){let{children:e,location:n}=t,r=T.useContext(zy),i=r&&!e?r.router.routes:Zm(e);return ZL(i,n)}var Sw;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Sw||(Sw={}));new Promise(()=>{});function Zm(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;if(r.type===T.Fragment){n.push.apply(n,Zm(r.props.children,e));return}r.type!==uN&&_e(!1),!r.props.index||!r.props.children||_e(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Zm(r.props.children,s)),n.push(o)}),n}function fN(t){return!!t.ErrorBoundary||!!t.errorElement}/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dl.apply(this,arguments)}function _T(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function hN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pN(t,e){return t.button===0&&(!e||e==="_self")&&!hN(t)}const mN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],gN=["aria-current","caseSensitive","className","end","style","to","children"];function yN(t,e){return AL({basename:e==null?void 0:e.basename,history:QP({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||vN(),routes:t,detectErrorBoundary:fN}).initialize()}function vN(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Dl({},e,{errors:wN(e.errors)})),e}function wN(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Vy(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let s=new Error(i.message);s.stack="",n[r]=s}else n[r]=i;return n}const _N=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jf=T.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,d=_T(e,mN),{basename:f}=T.useContext(ia),p,y=!1;if(typeof u=="string"&&SN.test(u)&&(p=u,_N)){let g=new URL(window.location.href),w=u.startsWith("//")?new URL(g.protocol+u):new URL(u),_=au(w.pathname,f);w.origin===g.origin&&_!=null?u=_+w.search+w.hash:y=!0}let m=YL(u,{relative:i}),S=EN(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function v(g){r&&r(g),g.defaultPrevented||S(g)}return T.createElement("a",Dl({},d,{href:p||m,onClick:y||s?r:v,ref:n,target:l}))}),ys=T.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=e,c=_T(e,gN),d=By(l,{relative:c.relative}),f=qi(),p=T.useContext(Of),{navigator:y}=T.useContext(ia),m=y.encodeLocation?y.encodeLocation(d).pathname:d.pathname,S=f.pathname,v=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(S=S.toLowerCase(),v=v?v.toLowerCase():null,m=m.toLowerCase());let g=S===m||!o&&S.startsWith(m)&&S.charAt(m.length)==="/",w=v!=null&&(v===m||!o&&v.startsWith(m)&&v.charAt(m.length)==="/"),_=g?r:void 0,C;typeof s=="function"?C=s({isActive:g,isPending:w}):C=[s,g?"active":null,w?"pending":null].filter(Boolean).join(" ");let I=typeof a=="function"?a({isActive:g,isPending:w}):a;return T.createElement(jf,Dl({},c,{"aria-current":_,className:C,ref:n,style:I,to:l}),typeof u=="function"?u({isActive:g,isPending:w}):u)});var Ew;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Ew||(Ew={}));var Cw;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Cw||(Cw={}));function EN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Fs(),l=qi(),u=By(t,{relative:o});return T.useCallback(c=>{if(pN(c,n)){c.preventDefault();let d=r!==void 0?r:Qr(l)===Qr(u);a(t,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}function Ye({size:t="default",strokeWidth:e=2,height:n,width:r,children:i,className:s,...o}){const a={tiny:"12px",small:"16px",default:"24px",medium:"32px",large:"36px",extra:"48px",custom:"24px"};return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:r||a[t],height:n||a[t],className:s,fill:"currentColor",stroke:"currentColor",strokeWidth:e,...o,children:i})}function eg(t){return h.jsxs(Ye,{width:"45px",height:"28px",viewBox:"0 0 45 28",stroke:"none",...t,children:[h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.48798 6L0 22.8H3.98401L5.48108 19.2H13.2687L14.76 22.8H18.84L11.328 6H7.48798ZM12.0459 16.248L9.38251 9.81833L6.70868 16.248H12.0459Z"}),h.jsx("path",{d:"M17.205 6L22.7009 22.8H26.877L30.6852 11.4169L34.3889 22.8H38.5649L44.0609 6H40.3409L36.4266 17.8967L32.5889 6H28.989L25.0272 17.809L21.2369 6H17.205Z"})]})}function CN(t,e){return e&&e.length===t.length?t.map((n,r)=>({...n,id:e[r]})):t.map((n,r)=>({...n,id:r}))}function TN(...t){return{className:t.flat(1/0).filter(e=>e).join(" ").trim()}}function IN(t,e,n,r=""){const i=document.createElement(e);if(n!=null&&n.class){const s=n.class.split(" ");i.classList.add(...s)}return n!=null&&n.id&&i.setAttribute("id",n.id),n!=null&&n.attributes&&n.attributes.forEach(s=>{const o=s.split("=")[0],a=(s.split("=")[1]||"").replaceAll('"',"");i.setAttribute(o,a)}),r&&(i.innerHTML=r),t.append(i),i}function bN(...t){return t.reduce((e,n)=>e.filter(r=>n.includes(r)))}function kN(){return Date.now()}function xN(...t){return t.reduce((e,n)=>e.filter(r=>!n.includes(r)))}function RN(t){return t.map((e,n)=>e!==""?n:"").filter(String)}function Ri(t,e){return Math.trunc(Math.random()*(e-t+1)+t)}function AN(){const t=Ri(0,255).toString(16),e=Ri(0,255).toString(16),n=Ri(0,255).toString(16);return`#${t}${e}${n}`}function PN(){const t=Ri(0,255),e=Ri(0,255),n=Ri(0,255);return[t,e,n]}function LN(){let t;return()=>{const e=t>window.scrollY?"UP":"DOWN";return t=window.scrollY,e}}const NN=LN();function nr(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function ON(t,e){return!e&&typeof t=="string"?t[0]:e&&typeof t!="string"?t[e].toString()[0]:null}function DN(t,e){const n=new Map,r=t[0];if(typeof r!="string"&&!nr(r))throw new Error("Invalid value");if(!e&&nr(r))throw new Error("No key provided");return t.forEach(i=>{const s=ON(i,e);n.has(s)?n.set(s,[...n.get(s),i]):n.set(s,[i])}),Array.from(n.entries())}function jN(t){return Object.keys(t).length===0}function MN(...t){return t.flat(1/0).filter(e=>e).join(" ").trim()}function $N(t){return new Date(+t)}function UN(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!nr(r))throw new Error("Invalid value");if(nr(r)&&!e)throw new Error("No key provided");let i=[];return!e&&typeof r=="string"&&(i=n.filter(s=>s.trim()!=="")),e&&typeof r!="string"&&(i=n.filter(s=>s[e].toString().trim()!=="")),i}function FN({callback:t,delay:e,counts:n}){let r=0;const i=setInterval(()=>{t(),r+=1,r===n&&clearInterval(i)},e);return i}function VN(t){const e=t.slice();for(let n=0;n<t.length;n++){const r=Ri(0,t.length-1);[e[n],e[r]]=[e[r],e[n]]}return e}function zN(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!nr(r))throw new Error("Invalid value");if(nr(r)&&!e)throw new Error("No key provided");let i=[];return!e&&typeof r=="string"&&(i=n.sort((s,o)=>s.localeCompare(o))),e&&typeof r!="string"&&(i=n.sort((s,o)=>s[e].toString().localeCompare(o[e].toString()))),i}function BN(t,e,n="num"){const r=t.slice();return e&&r.sort((i,s)=>{if(n==="num"){if(+i[e]<+s[e])return-1;if(+i[e]>+s[e])return 1}else{if(i[e]<s[e])return-1;if(i[e]>s[e])return 1}return 0}),r}function HN(t,e,n="..."){return t.length>e?`${t.substring(0,e).trim()}${n}`:t}function qN(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!nr(r))throw new Error("Invalid value");if(nr(r)&&!e)throw new Error("No key provided");let i=0;return!e&&typeof r=="string"?i=t.length-n.reverse().findIndex(s=>s!==""):e&&typeof r!="string"&&(i=t.length-n.reverse().findIndex(s=>s[e]!=="")),n.reverse().splice(0,i)}function WN(t,e){const n=t[0];if(typeof n!="string"&&!nr(n))throw new Error("Invalid value");if(nr(n)&&!e)throw new Error("No key provided");const r=t.slice();let i=0;return!e&&typeof n=="string"?i=r.findIndex(s=>s!==""):e&&typeof n!="string"&&(i=r.findIndex(s=>s[e]!=="")),r.splice(i)}const W={addId:CN,className:TN,createHTMLElem:IN,getCommonValues:bN,getCurrentDateInMs:kN,getDifferentValues:xN,getIndexesOfNonEmptyElements:RN,getRandomHEXColor:AN,getRandomNumber:Ri,getRandomRGBColor:PN,getScrollDirection:NN,groupBy:DN,isObject:nr,isObjectEmpty:jN,join:MN,parseCurrentDateFromMs:$N,removeEmptyValues:UN,setIntervalCounts:FN,shuffleArray:VN,sortArrayLocalCompare:zN,sortArrayOfObj:BN,stringCut:HN,trimEndEmptyValues:qN,trimStartEmptyValues:WN};function Hy({as:t="div",...e}){return h.jsx(t,{...e})}function qy(t){const e=(t==null?void 0:t.size)===10?"col10":"col";return W.join([(t==null?void 0:t.xx)&&`${e}-xx-${t.xx}`,(t==null?void 0:t.xl)&&`${e}-xl-${t.xl}`,(t==null?void 0:t.lg)&&`${e}-lg-${t.lg}`,(t==null?void 0:t.md)&&`${e}-md-${t.md}`,(t==null?void 0:t.sm)&&`${e}-sm-${t.sm}`,(t==null?void 0:t.xs)&&`${e}-xs-${t.xs}`,(t==null?void 0:t.ss)&&`${e}-ss-${t.ss}`])}const Be=T.forwardRef(({component:t="div",grid:e,children:n,className:r,...i},s)=>{const o=e&&qy(e),a={className:W.join(r,o),ref:s,...i};return h.jsx(Hy,{as:t,...a,children:n})});Be.displayName="Block";const KN="_StartScreen_srdz3_1",GN={StartScreen:KN};function QN(){return h.jsx(Be,{className:GN.StartScreen,children:h.jsx(eg,{})})}const yt={home:"/",about:"/about",songslist:"/songslist",chordslist:"/chordslist",login:"/login",signup:"/signup",other:"/*"},Wy={chat:"/chat"};function sl(t,e){return!t.split("/")[2]&&t.split("/")[1]===e}const ii=IP;function Ky(){const{displayName:t}=ii(e=>e.userReducer);return{isAuth:!!t}}const Ir=T.forwardRef(({container:t,row:e,component:n="div",children:r,className:i,...s},o)=>{const a=[t&&"container",e&&"row"],l={className:W.join(i,a),ref:o,...s};return h.jsx(Hy,{as:n,...l,children:r})});Ir.displayName="Grid";const YN="_h1_bjtyp_34",XN="_inversion_bjtyp_37",JN="_h2_bjtyp_41",ZN="_h3_bjtyp_48",eO="_h4_bjtyp_55",tO="_h5_bjtyp_62",nO="_h6_bjtyp_69",rO="_subtitle1_bjtyp_76",iO="_subtitle2_bjtyp_83",sO="_p1_bjtyp_90",oO="_p2_bjtyp_97",aO="_caption_bjtyp_104",lO="_overline_bjtyp_111",uO="_link_bjtyp_118",cO="_input_bjtyp_132",dO="_button_bjtyp_460",hn={h1:YN,inversion:XN,h2:JN,h3:ZN,h4:eO,h5:tO,h6:nO,subtitle1:rO,subtitle2:iO,p1:sO,p2:oO,caption:aO,overline:lO,link:uO,"link-sm":"_link-sm_bjtyp_125",input:cO,button:dO,"button-sm":"_button-sm_bjtyp_471","button-icon":"_button-icon_bjtyp_482","button-icon-sm":"_button-icon-sm_bjtyp_493"},fO="_Link_1wghn_57",hO="_noUnderline_1wghn_63",pO="_inverted_1wghn_66",mO="_disabled_1wghn_96",pd={Link:fO,noUnderline:hO,inverted:pO,disabled:mO},yr=T.forwardRef(({display:t,underline:e,children:n,blank:r,className:i,...s},o)=>{const a=[t?hn[t]:hn.link,e===!1&&pd.noUnderline],l=r&&{target:"_blank",rel:"noreferrer noopener"};return h.jsx("span",{className:W.join(pd.Link,i,a),ref:o,...l,...s,children:n})});yr.displayName="LinkLabel";const gO="_Footer_14zpd_1",yO="_container_14zpd_1",Tw={Footer:gO,container:yO};function vO(){const{pathname:t}=qi(),{isAuth:e}=Ky(),n=sl(t,"login"),r=sl(t,"signup");return h.jsx(Be,{component:"footer",className:Tw.Footer,children:h.jsx(Ir,{container:!0,className:Tw.container,children:!(n||r)&&e&&t!==Wy.chat&&h.jsx(ys,{to:yt.home,children:h.jsx(yr,{children:"2023 03 12"})})})})}const ST={version:"2023-03-28_15-54",name:"amelianceworship"};function pe(t){var n;let e="Sorry, something went wrong ¯\\_(ツ)_/¯!";return t&&(typeof t=="string"&&(e=t),t instanceof Error&&(e=t.message)),console.error(`${ST.name} >`,`${e}
`,(n=new Error().stack)==null?void 0:n.split(`
`)[2]),e}const wO="AKfycbxGD1Lys79Ixt4BQ5mfH3ylX4_ZvtSGUFHltMILILPBWtcdPoSlI3FD5Ir8OcwtBA",ET=`https://script.google.com/macros/s/${wO}/exec`;async function Vs({spreadsheetId:t,sheetName:e,sheetIndex:n,columnTitles:r,columnIndexes:i,type:s}){const o=new URLSearchParams;t&&o.append("spreadsheetId",t),e&&o.append("sheetName",e),n&&o.append("sheetIndex",n.toString()),r&&o.append("columnTitles",JSON.stringify(r)),i&&o.append("columnIndexes",JSON.stringify(i)),s&&o.append("type",s);try{const l=await(await fetch(`${ET}?${o}`)).text(),u=await JSON.parse(l);if(u.status!=="success")throw new Error(u.error);return u}catch(a){throw new Error(pe(a))}}async function _O({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await Vs({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"TITLED"})}catch(r){throw new Error(pe(r))}}async function SO({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await Vs({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"TITLED_SINGLE"})}catch(r){throw new Error(pe(r))}}async function EO({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r}){try{return await Vs({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r,type:"TITLED"})}catch(i){throw new Error(pe(i))}}async function CO({spreadsheetId:t,sheetIndex:e,sheetName:n,columnTitles:r}){try{return await Vs({spreadsheetId:t,sheetIndex:e,sheetName:n,columnTitles:r,type:"TITLED"})}catch(i){throw new Error(pe(i))}}async function TO({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await Vs({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"UNTITLED"})}catch(r){throw new Error(pe(r))}}async function IO({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await Vs({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"UNTITLED_SINGLE"})}catch(r){throw new Error(pe(r))}}async function bO({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r}){try{return Vs({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r,type:"UNTITLED"})}catch(i){throw new Error(pe(i))}}async function si({spreadsheetId:t,sheetName:e,sheetIndex:n,titlesParams:r,indexesParams:i,type:s,col:o,row:a,value:l}){const u=new URLSearchParams;t&&u.append("spreadsheetId",t),e&&u.append("sheetName",e),n&&u.append("sheetIndex",n.toString()),r&&u.append("titlesParams",JSON.stringify(r)),i&&u.append("indexesParams",JSON.stringify(i)),s&&u.append("type",s),o&&u.append("col",o.toString()),a&&u.append("row",a.toString()),l&&u.append("value",l.toString());try{const d=await(await fetch(`${ET}?${u}`,{method:"POST"})).text(),f=await JSON.parse(d);if(f.status!=="success")throw new Error(f.error);return f}catch(c){throw new Error(pe(c))}}async function kO({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await si({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"TITLED_SINGLE"})}catch(i){throw new Error(pe(i))}}async function xO({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){try{return await si({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED_SINGLE"})}catch(i){throw new Error(pe(i))}}async function RO({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await si({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"TITLED"})}catch(i){throw new Error(pe(i))}}async function AO({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){try{return await si({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED"})}catch(i){throw new Error(pe(i))}}async function PO({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s}){try{return await si({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s,type:"TITLED_UPDATE"})}catch(o){throw new Error(pe(o))}}async function LO({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await si({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED_ONE_ROW"})}catch(i){throw new Error(pe(i))}}async function NO({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await si({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED_SINGLE"})}catch(i){throw new Error(pe(i))}}async function OO({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await si({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED"})}catch(i){throw new Error(pe(i))}}async function DO({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s}){try{return await si({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s,type:"UNTITLED_UPDATE"})}catch(o){throw new Error(pe(o))}}const jO={getAllTitledColumnsData:_O,getTitledColumnsDataByIndexes:EO,getTitledColumnsDataByTitles:CO,getAllUntitledColumnsData:TO,getUntitledColumnsDataByIndexes:bO,postTitledColumnsDataByIndexes:RO,postSingleTitledColumnsDataByIndexes:kO,postSingleTitledColumnsDataByTitles:xO,postTitledColumnsDataByTitles:AO,postAllUntitledParamsAsOneRow:LO,postSingleUntitledColumnsDataByIndexes:NO,postUntitledColumnsDataByIndexes:OO,postTitledUpdate:PO,postUntitledUpdate:DO,getAllTitledColumnsDataSingle:SO,getAllUntitledColumnsDataSingle:IO};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},MO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},TT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw Error();const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},$O=function(t){const e=CT(t);return TT.encodeByteArray(e,!0)},md=function(t){return $O(t).replace(/\./g,"")},IT=function(t){try{return TT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function FO(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function VO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zO(){const t=Qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kT(){try{return typeof indexedDB=="object"}catch{return!1}}function xT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function BO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}function HO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=()=>HO().__FIREBASE_DEFAULTS__,WO=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&IT(t[1]);return e&&JSON.parse(e)},Gy=()=>{try{return qO()||WO()||KO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RT=t=>{var e,n;return(n=(e=Gy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},AT=t=>{const e=RT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},GO=()=>{var t;return(t=Gy())===null||t===void 0?void 0:t.config},PT=t=>{var e;return(e=Gy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[md(JSON.stringify(n)),md(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="FirebaseError";class zn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YO,Object.setPrototypeOf(this,zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zs.prototype.create)}}class zs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?XO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new zn(i,a,r)}}function XO(t,e){return t.replace(JO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const JO=/\{\$([^}]+)}/g;function ZO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Iw(s)&&Iw(o)){if(!jl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Iw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function za(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ba(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function eD(t,e){const n=new tD(t,e);return n.subscribe.bind(n)}class tD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=sp),i.error===void 0&&(i.error=sp),i.complete===void 0&&(i.complete=sp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=1e3,iD=2,sD=4*60*60*1e3,oD=.5;function bw(t,e=rD,n=iD){const r=e*Math.pow(n,t),i=Math.round(oD*r*(Math.random()-.5)*2);return Math.min(sD,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t){return t&&t._delegate?t._delegate:t}class Un{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new QO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uD(e))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ns){return this.instances.has(e)}getOptions(e=ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ns){return this.component?this.component.multipleInstances?e:ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lD(t){return t===ns?void 0:t}function uD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const dD={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},fD=Pe.INFO,hD={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},pD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mf{constructor(e){this.name=e,this._logLevel=fD,this._logHandler=pD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const mD=(t,e)=>e.some(n=>t instanceof n);let kw,xw;function gD(){return kw||(kw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yD(){return xw||(xw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NT=new WeakMap,tg=new WeakMap,OT=new WeakMap,op=new WeakMap,Qy=new WeakMap;function vD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ai(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&NT.set(n,t)}).catch(()=>{}),Qy.set(e,t),e}function wD(t){if(tg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});tg.set(t,e)}let ng={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return tg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||OT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ai(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _D(t){ng=t(ng)}function SD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ap(this),e,...n);return OT.set(r,e.sort?e.sort():[e]),Ai(r)}:yD().includes(t)?function(...e){return t.apply(ap(this),e),Ai(NT.get(this))}:function(...e){return Ai(t.apply(ap(this),e))}}function ED(t){return typeof t=="function"?SD(t):(t instanceof IDBTransaction&&wD(t),mD(t,gD())?new Proxy(t,ng):t)}function Ai(t){if(t instanceof IDBRequest)return vD(t);if(op.has(t))return op.get(t);const e=ED(t);return e!==t&&(op.set(t,e),Qy.set(e,t)),e}const ap=t=>Qy.get(t);function DT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ai(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ai(o.result),l.oldVersion,l.newVersion,Ai(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const CD=["get","getKey","getAll","getAllKeys","count"],TD=["put","add","delete","clear"],lp=new Map;function Rw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lp.get(e))return lp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=TD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||CD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return lp.set(e,s),s}_D(t=>({...t,get:(e,n,r)=>Rw(e,n)||t.get(e,n,r),has:(e,n)=>!!Rw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rg="@firebase/app",Aw="0.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Mf("@firebase/app"),kD="@firebase/app-compat",xD="@firebase/analytics-compat",RD="@firebase/analytics",AD="@firebase/app-check-compat",PD="@firebase/app-check",LD="@firebase/auth",ND="@firebase/auth-compat",OD="@firebase/database",DD="@firebase/database-compat",jD="@firebase/functions",MD="@firebase/functions-compat",$D="@firebase/installations",UD="@firebase/installations-compat",FD="@firebase/messaging",VD="@firebase/messaging-compat",zD="@firebase/performance",BD="@firebase/performance-compat",HD="@firebase/remote-config",qD="@firebase/remote-config-compat",WD="@firebase/storage",KD="@firebase/storage-compat",GD="@firebase/firestore",QD="@firebase/firestore-compat",YD="firebase",XD="9.15.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="[DEFAULT]",JD={[rg]:"fire-core",[kD]:"fire-core-compat",[RD]:"fire-analytics",[xD]:"fire-analytics-compat",[PD]:"fire-app-check",[AD]:"fire-app-check-compat",[LD]:"fire-auth",[ND]:"fire-auth-compat",[OD]:"fire-rtdb",[DD]:"fire-rtdb-compat",[jD]:"fire-fn",[MD]:"fire-fn-compat",[$D]:"fire-iid",[UD]:"fire-iid-compat",[FD]:"fire-fcm",[VD]:"fire-fcm-compat",[zD]:"fire-perf",[BD]:"fire-perf-compat",[HD]:"fire-rc",[qD]:"fire-rc-compat",[WD]:"fire-gcs",[KD]:"fire-gcs-compat",[GD]:"fire-fst",[QD]:"fire-fst-compat","fire-js":"fire-js",[YD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=new Map,sg=new Map;function ZD(t,e){try{t.container.addComponent(e)}catch(n){xs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rr(t){const e=t.name;if(sg.has(e))return xs.debug(`There were multiple attempts to register component ${e}.`),!1;sg.set(e,t);for(const n of gd.values())ZD(n,t);return!0}function Wi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Pi=new zs("app","Firebase",ej);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=XD;function jT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ig,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Pi.create("bad-app-name",{appName:String(i)});if(n||(n=GO()),!n)throw Pi.create("no-options");const s=gd.get(i);if(s){if(jl(n,s.options)&&jl(r,s.config))return s;throw Pi.create("duplicate-app",{appName:i})}const o=new cD(i);for(const l of sg.values())o.addComponent(l);const a=new tj(n,r,o);return gd.set(i,a),a}function $f(t=ig){const e=gd.get(t);if(!e&&t===ig)return jT();if(!e)throw Pi.create("no-app",{appName:t});return e}function pn(t,e,n){var r;let i=(r=JD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xs.warn(a.join(" "));return}rr(new Un(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="firebase-heartbeat-database",rj=1,Ml="firebase-heartbeat-store";let up=null;function MT(){return up||(up=DT(nj,rj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ml)}}}).catch(t=>{throw Pi.create("idb-open",{originalErrorMessage:t.message})})),up}async function ij(t){try{return(await MT()).transaction(Ml).objectStore(Ml).get($T(t))}catch(e){if(e instanceof zn)xs.warn(e.message);else{const n=Pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xs.warn(n.message)}}}async function Pw(t,e){try{const r=(await MT()).transaction(Ml,"readwrite");return await r.objectStore(Ml).put(e,$T(t)),r.done}catch(n){if(n instanceof zn)xs.warn(n.message);else{const r=Pi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xs.warn(r.message)}}}function $T(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=1024,oj=30*24*60*60*1e3;class aj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Lw();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=oj}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Lw(),{heartbeatsToSend:n,unsentEntries:r}=lj(this._heartbeatsCache.heartbeats),i=md(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Lw(){return new Date().toISOString().substring(0,10)}function lj(t,e=sj){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Nw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Nw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kT()?xT().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await ij(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Pw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Pw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Nw(t){return md(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){rr(new Un("platform-logger",e=>new ID(e),"PRIVATE")),rr(new Un("heartbeat",e=>new aj(e),"PRIVATE")),pn(rg,Aw,t),pn(rg,Aw,"esm2017"),pn("fire-js","")}cj("");function Yy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function UT(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dj=UT,FT=new zs("auth","Firebase",UT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=new Mf("@firebase/auth");function Ac(t,...e){Ow.logLevel<=Pe.ERROR&&Ow.error(`Auth (${sa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t,...e){throw Xy(t,...e)}function vr(t,...e){return Xy(t,...e)}function VT(t,e,n){const r=Object.assign(Object.assign({},dj()),{[e]:n});return new zs("auth","Firebase",r).create(e,{appName:t.name})}function fj(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Fn(t,"argument-error"),VT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return FT.create(t,...e)}function ue(t,e,...n){if(!t)throw Xy(e,...n)}function Mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ac(e),new Error(e)}function Yr(t,e){t||Mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=new Map;function $r(t){Yr(t instanceof Function,"Expected a class definition");let e=Dw.get(t);return e?(Yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Dw.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(t,e){const n=Wi(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(jl(s,e??{}))return i;Fn(i,"already-initialized")}return n.initialize({options:e})}function pj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map($r);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function mj(){return jw()==="http:"||jw()==="https:"}function jw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mj()||bT()||"connection"in navigator)?navigator.onLine:!0}function yj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yr(n>e,"Short delay should be less than long delay!"),this.isMobile=UO()||VO()}get(){return gj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(t,e){Yr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=new cu(3e4,6e4);function du(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function oa(t,e,n,r,i={}){return BT(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=uu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),zT.fetch()(HT(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function BT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},vj),e);try{const i=new _j(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw rc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw rc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw rc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw rc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw VT(t,c,u);Fn(t,c)}}catch(i){if(i instanceof zn)throw i;Fn(t,"network-request-failed")}}async function fu(t,e,n,r,i={}){const s=await oa(t,e,n,r,i);return"mfaPendingCredential"in s&&Fn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function HT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Jy(t.config,i):`${t.config.apiScheme}://${i}`}class _j{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vr(this.auth,"network-request-failed")),wj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sj(t,e){return oa(t,"POST","/v1/accounts:delete",e)}async function Ej(t,e){return oa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Cj(t,e=!1){const n=Qe(t),r=await n.getIdToken(e),i=Zy(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ol(cp(i.auth_time)),issuedAtTime:ol(cp(i.iat)),expirationTime:ol(cp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function cp(t){return Number(t)*1e3}function Zy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const i=IT(n);return i?JSON.parse(i):(Ac("Failed to decode base64 JWT payload"),null)}catch(i){return Ac("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Tj(t){const e=Zy(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zn&&Ij(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ij({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ol(this.lastLoginAt),this.creationTime=ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Wo(t,Ej(n,{idToken:r}));ue(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Rj(s.providerUserInfo):[],a=xj(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new qT(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function kj(t){const e=Qe(t);await yd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Rj(t){return t.map(e=>{var{providerId:n}=e,r=Yy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aj(t,e){const n=await BT(t,{},async()=>{const r=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=HT(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Tj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ue(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Aj(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new $l;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ue(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $l,this.toJSON())}_performRefresh(){return Mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Yy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Wo(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Cj(this,e)}reload(){return kj(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new vs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Wo(this,Sj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:_,isAnonymous:C,providerData:I,stsTokenManager:b}=n;ue(w&&b,e,"internal-error");const O=$l.fromJSON(this.name,b);ue(typeof w=="string",e,"internal-error"),ui(d,e.name),ui(f,e.name),ue(typeof _=="boolean",e,"internal-error"),ue(typeof C=="boolean",e,"internal-error"),ui(p,e.name),ui(y,e.name),ui(m,e.name),ui(S,e.name),ui(v,e.name),ui(g,e.name);const A=new vs({uid:w,auth:e,email:f,emailVerified:_,displayName:d,isAnonymous:C,photoURL:y,phoneNumber:p,tenantId:m,stsTokenManager:O,createdAt:v,lastLoginAt:g});return I&&Array.isArray(I)&&(A.providerData=I.map(D=>Object.assign({},D))),S&&(A._redirectEventId=S),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new $l;i.updateFromServerResponse(n);const s=new vs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await yd(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}WT.type="NONE";const Mw=WT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ro{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Pc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Pc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ro($r(Mw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||$r(Mw);const o=Pc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=vs._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ro(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ro(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XT(e))return"Blackberry";if(JT(e))return"Webos";if(ev(e))return"Safari";if((e.includes("chrome/")||GT(e))&&!e.includes("edge/"))return"Chrome";if(YT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function KT(t=Qt()){return/firefox\//i.test(t)}function ev(t=Qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GT(t=Qt()){return/crios\//i.test(t)}function QT(t=Qt()){return/iemobile/i.test(t)}function YT(t=Qt()){return/android/i.test(t)}function XT(t=Qt()){return/blackberry/i.test(t)}function JT(t=Qt()){return/webos/i.test(t)}function Uf(t=Qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Pj(t=Qt()){var e;return Uf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Lj(){return zO()&&document.documentMode===10}function ZT(t=Qt()){return Uf(t)||YT(t)||JT(t)||XT(t)||/windows phone/i.test(t)||QT(t)}function Nj(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t,e=[]){let n;switch(t){case"Browser":n=$w(Qt());break;case"Worker":n=`${$w(Qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uw(this),this.idTokenSubscription=new Uw(this),this.beforeStateQueue=new Oj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FT,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$r(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ro.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Qe(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$r(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await Ro.create(this,[$r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function aa(t){return Qe(t)}class Uw{constructor(e){this.auth=e,this.observer=null,this.addObserver=eD(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function jj(t,e,n){const r=aa(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=tI(e),{host:o,port:a}=Mj(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||$j()}function tI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Mj(t){const e=tI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Fw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Fw(o)}}}function Fw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $j(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mr("not implemented")}_getIdTokenResponse(e){return Mr("not implemented")}_linkToIdToken(e,n){return Mr("not implemented")}_getReauthenticationResolver(e){return Mr("not implemented")}}async function Uj(t,e){return oa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fj(t,e){return fu(t,"POST","/v1/accounts:signInWithPassword",du(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(t,e){return fu(t,"POST","/v1/accounts:signInWithEmailLink",du(t,e))}async function zj(t,e){return fu(t,"POST","/v1/accounts:signInWithEmailLink",du(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends tv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ul(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ul(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Fj(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Vj(e,{email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Uj(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return zj(e,{idToken:n,email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(t,e){return fu(t,"POST","/v1/accounts:signInWithIdp",du(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj="http://localhost";class Rs extends tv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Yy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Rs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ao(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ao(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ao(e,n)}buildRequest(){const e={requestUri:Bj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qj(t){const e=za(Ba(t)).link,n=e?za(Ba(e)).deep_link_id:null,r=za(Ba(t)).deep_link_id;return(r?za(Ba(r)).link:null)||r||n||e||t}class nv{constructor(e){var n,r,i,s,o,a;const l=za(Ba(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=Hj((i=l.mode)!==null&&i!==void 0?i:null);ue(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=qj(e);try{return new nv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.providerId=la.PROVIDER_ID}static credential(e,n){return Ul._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=nv.parseLink(n);return ue(r,"argument-error"),Ul._fromEmailAndCode(e,r.code,r.tenantId)}}la.PROVIDER_ID="password";la.EMAIL_PASSWORD_SIGN_IN_METHOD="password";la.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends rv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends hu{constructor(){super("facebook.com")}static credential(e){return Rs._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Rs._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Or.credential(n,r)}catch{return null}}}Or.GOOGLE_SIGN_IN_METHOD="google.com";Or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends hu{constructor(){super("github.com")}static credential(e){return Rs._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.GITHUB_SIGN_IN_METHOD="github.com";mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends hu{constructor(){super("twitter.com")}static credential(e,n){return Rs._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return gi.credential(n,r)}catch{return null}}}gi.TWITTER_SIGN_IN_METHOD="twitter.com";gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wj(t,e){return fu(t,"POST","/v1/accounts:signUp",du(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await vs._fromIdTokenResponse(e,r,i),o=Vw(r);return new As({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Vw(r);return new As({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Vw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends zn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,vd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new vd(e,n,r,i)}}function nI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?vd._fromErrorAndOperation(t,s,e,r):s})}async function Kj(t,e,n=!1){const r=await Wo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return As._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Wo(t,nI(r,i,e,t),n);ue(s.idToken,r,"internal-error");const o=Zy(s.idToken);ue(o,r,"internal-error");const{sub:a}=o;return ue(t.uid===a,r,"user-mismatch"),As._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Fn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(t,e,n=!1){const r="signIn",i=await nI(t,r,e),s=await As._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Qj(t,e){return rI(aa(t),e)}async function Yj(t,e,n){const r=aa(t),i=await Wj(r,{returnSecureToken:!0,email:e,password:n}),s=await As._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function Xj(t,e,n){return Qj(Qe(t),la.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(t,e){return oa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zj(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Qe(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Wo(r,Jj(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function eM(t,e,n,r){return Qe(t).onIdTokenChanged(e,n,r)}function tM(t,e,n){return Qe(t).beforeAuthStateChanged(e,n)}function nM(t,e,n,r){return Qe(t).onAuthStateChanged(e,n,r)}function rM(t){return Qe(t).signOut()}const wd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wd,"1"),this.storage.removeItem(wd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(){const t=Qt();return ev(t)||Uf(t)}const sM=1e3,oM=10;class sI extends iI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=iM()&&Nj(),this.fallbackToPolling=ZT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Lj()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,oM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},sM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sI.type="LOCAL";const aM=sI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI extends iI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oI.type="SESSION";const aI=oI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ff(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await lM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=iv("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function cM(t){wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function dM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hM(){return lI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="firebaseLocalStorageDb",pM=1,_d="firebaseLocalStorage",cI="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vf(t,e){return t.transaction([_d],e?"readwrite":"readonly").objectStore(_d)}function mM(){const t=indexedDB.deleteDatabase(uI);return new pu(t).toPromise()}function ag(){const t=indexedDB.open(uI,pM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_d,{keyPath:cI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_d)?e(r):(r.close(),await mM(),e(await ag()))})})}async function zw(t,e,n){const r=Vf(t,!0).put({[cI]:e,value:n});return new pu(r).toPromise()}async function gM(t,e){const n=Vf(t,!1).get(e),r=await new pu(n).toPromise();return r===void 0?null:r.value}function Bw(t,e){const n=Vf(t,!0).delete(e);return new pu(n).toPromise()}const yM=800,vM=3;class dI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ag(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ff._getInstance(hM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await dM(),!this.activeServiceWorker)return;this.sender=new uM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ag();return await zw(e,wd,"1"),await Bw(e,wd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Vf(i,!1).getAll();return new pu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dI.type="LOCAL";const wM=dI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function SM(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=vr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",_M().appendChild(r)})}function EM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t,e){return e?$r(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv extends tv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function CM(t){return rI(t.auth,new sv(t),t.bypassAuthState)}function TM(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),Gj(n,new sv(t),t.bypassAuthState)}async function IM(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),Kj(n,new sv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CM;case"linkViaPopup":case"linkViaRedirect":return IM;case"reauthViaPopup":case"reauthViaRedirect":return TM;default:Fn(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=new cu(2e3,1e4);async function kM(t,e,n){const r=aa(t);fj(t,e,rv);const i=fI(r,n);return new us(r,"signInViaPopup",e,i).executeNotNull()}class us extends hI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,us.currentPopupAction&&us.currentPopupAction.cancel(),us.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const e=iv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,us.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,bM.get())};e()}}us.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="pendingRedirect",Lc=new Map;class RM extends hI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Lc.get(this.auth._key());if(!e){try{const r=await AM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Lc.set(this.auth._key(),e)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AM(t,e){const n=NM(e),r=LM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function PM(t,e){Lc.set(t._key(),e)}function LM(t){return $r(t._redirectPersistence)}function NM(t){return Pc(xM,t.config.apiKey,t.name)}async function OM(t,e,n=!1){const r=aa(t),i=fI(r,e),o=await new RM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=10*60*1e3;class jM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hw(e))}saveEventToCache(e){this.cachedEventUids.add(Hw(e)),this.lastProcessedEventTime=Date.now()}}function Hw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function MM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(t,e={}){return oa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FM=/^https?/;async function VM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $M(t);for(const n of e)try{if(zM(n))return}catch{}Fn(t,"unauthorized-domain")}function zM(t){const e=og(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!FM.test(n))return!1;if(UM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=new cu(3e4,6e4);function qw(){const t=wr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HM(t){return new Promise((e,n)=>{var r,i,s;function o(){qw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qw(),n(vr(t,"network-request-failed"))},timeout:BM.get()})}if(!((i=(r=wr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=wr().gapi)===null||s===void 0)&&s.load)o();else{const a=EM("iframefcb");return wr()[a]=()=>{gapi.load?o():n(vr(t,"network-request-failed"))},SM(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Nc=null,e})}let Nc=null;function qM(t){return Nc=Nc||HM(t),Nc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=new cu(5e3,15e3),KM="__/auth/iframe",GM="emulator/auth/iframe",QM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XM(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jy(e,GM):`https://${t.config.authDomain}/${KM}`,r={apiKey:e.apiKey,appName:t.name,v:sa},i=YM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${uu(r).slice(1)}`}async function JM(t){const e=await qM(t),n=wr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:XM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=vr(t,"network-request-failed"),a=wr().setTimeout(()=>{s(o)},WM.get());function l(){wr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e4=500,t4=600,n4="_blank",r4="http://localhost";class Ww{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i4(t,e,n,r=e4,i=t4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ZM),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Qt().toLowerCase();n&&(a=GT(u)?n4:n),KT(u)&&(e=e||r4,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,y])=>`${f}${p}=${y},`,"");if(Pj(u)&&a!=="_self")return s4(e||"",a),new Ww(null);const d=window.open(e||"",a,c);ue(d,t,"popup-blocked");try{d.focus()}catch{}return new Ww(d)}function s4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="__/auth/handler",a4="emulator/auth/handler";function Kw(t,e,n,r,i,s){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:sa,eventId:i};if(e instanceof rv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ZO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof hu){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${l4(t)}?${uu(a).slice(1)}`}function l4({config:t}){return t.emulator?Jy(t,a4):`https://${t.authDomain}/${o4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="webStorageSupport";class u4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aI,this._completeRedirectFn=OM,this._overrideRedirectResult=PM}async _openPopup(e,n,r,i){var s;Yr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=Kw(e,n,r,og(),i);return i4(e,o,iv())}async _openRedirect(e,n,r,i){return await this._originValidation(e),cM(Kw(e,n,r,og(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Yr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await JM(e),r=new jM(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dp,{type:dp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[dp];o!==void 0&&n(!!o),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZT()||ev()||Uf()}}const c4=u4;var Gw="@firebase/auth",Qw="0.21.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function h4(t){rr(new Un("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{ue(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),ue(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eI(t)},c=new Dj(a,l,u);return pj(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),rr(new Un("auth-internal",e=>{const n=aa(e.getProvider("auth").getImmediate());return(r=>new d4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pn(Gw,Qw,f4(t)),pn(Gw,Qw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=5*60,m4=PT("authIdTokenMaxAge")||p4;let Yw=null;const g4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>m4)return;const i=n==null?void 0:n.token;Yw!==i&&(Yw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function y4(t=$f()){const e=Wi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=hj(t,{popupRedirectResolver:c4,persistence:[wM,aM,aI]}),r=PT("authTokenSyncURL");if(r){const s=g4(r);tM(n,s,()=>s(n.currentUser)),eM(n,o=>s(o))}const i=RT("auth");return i&&jj(n,`http://${i}`),n}h4("Browser");const mI="@firebase/installations",ov="0.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=1e4,yI=`w:${ov}`,vI="FIS_v2",v4="https://firebaseinstallations.googleapis.com/v1",w4=60*60*1e3,_4="installations",S4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},Ps=new zs(_4,S4,E4);function wI(t){return t instanceof zn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I({projectId:t}){return`${v4}/projects/${t}/installations`}function SI(t){return{token:t.token,requestStatus:2,expiresIn:T4(t.expiresIn),creationTime:Date.now()}}async function EI(t,e){const r=(await e.json()).error;return Ps.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function CI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function C4(t,{refreshToken:e}){const n=CI(t);return n.append("Authorization",I4(e)),n}async function TI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function T4(t){return Number(t.replace("s","000"))}function I4(t){return`${vI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=_I(t),i=CI(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:vI,appId:t.appId,sdkVersion:yI},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await TI(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:SI(u.authToken)}}else throw await EI("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=/^[cdef][\w-]{21}$/,lg="";function R4(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=A4(t);return x4.test(n)?n:lg}catch{return lg}}function A4(t){return k4(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=new Map;function kI(t,e){const n=zf(t);xI(n,e),P4(n,e)}function xI(t,e){const n=bI.get(t);if(n)for(const r of n)r(e)}function P4(t,e){const n=L4();n&&n.postMessage({key:t,fid:e}),N4()}let cs=null;function L4(){return!cs&&"BroadcastChannel"in self&&(cs=new BroadcastChannel("[Firebase] FID Change"),cs.onmessage=t=>{xI(t.data.key,t.data.fid)}),cs}function N4(){bI.size===0&&cs&&(cs.close(),cs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="firebase-installations-database",D4=1,Ls="firebase-installations-store";let fp=null;function av(){return fp||(fp=DT(O4,D4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ls)}}})),fp}async function Sd(t,e){const n=zf(t),i=(await av()).transaction(Ls,"readwrite"),s=i.objectStore(Ls),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&kI(t,e.fid),e}async function RI(t){const e=zf(t),r=(await av()).transaction(Ls,"readwrite");await r.objectStore(Ls).delete(e),await r.done}async function Bf(t,e){const n=zf(t),i=(await av()).transaction(Ls,"readwrite"),s=i.objectStore(Ls),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&kI(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lv(t){let e;const n=await Bf(t.appConfig,r=>{const i=j4(r),s=M4(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===lg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function j4(t){const e=t||{fid:R4(),registrationStatus:0};return AI(e)}function M4(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ps.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=$4(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:U4(t)}:{installationEntry:e}}async function $4(t,e){try{const n=await b4(t,e);return Sd(t.appConfig,n)}catch(n){throw wI(n)&&n.customData.serverCode===409?await RI(t.appConfig):await Sd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function U4(t){let e=await Xw(t.appConfig);for(;e.registrationStatus===1;)await II(100),e=await Xw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await lv(t);return r||n}return e}function Xw(t){return Bf(t,e=>{if(!e)throw Ps.create("installation-not-found");return AI(e)})}function AI(t){return F4(t)?{fid:t.fid,registrationStatus:0}:t}function F4(t){return t.registrationStatus===1&&t.registrationTime+gI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V4({appConfig:t,heartbeatServiceProvider:e},n){const r=z4(t,n),i=C4(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:yI,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await TI(()=>fetch(r,a));if(l.ok){const u=await l.json();return SI(u)}else throw await EI("Generate Auth Token",l)}function z4(t,{fid:e}){return`${_I(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uv(t,e=!1){let n;const r=await Bf(t.appConfig,s=>{if(!PI(s))throw Ps.create("not-registered");const o=s.authToken;if(!e&&q4(o))return s;if(o.requestStatus===1)return n=B4(t,e),s;{if(!navigator.onLine)throw Ps.create("app-offline");const a=K4(s);return n=H4(t,a),a}});return n?await n:r.authToken}async function B4(t,e){let n=await Jw(t.appConfig);for(;n.authToken.requestStatus===1;)await II(100),n=await Jw(t.appConfig);const r=n.authToken;return r.requestStatus===0?uv(t,e):r}function Jw(t){return Bf(t,e=>{if(!PI(e))throw Ps.create("not-registered");const n=e.authToken;return G4(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function H4(t,e){try{const n=await V4(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Sd(t.appConfig,r),n}catch(n){if(wI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await RI(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Sd(t.appConfig,r)}throw n}}function PI(t){return t!==void 0&&t.registrationStatus===2}function q4(t){return t.requestStatus===2&&!W4(t)}function W4(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+w4}function K4(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function G4(t){return t.requestStatus===1&&t.requestTime+gI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(t){const e=t,{installationEntry:n,registrationPromise:r}=await lv(e);return r?r.catch(console.error):uv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(t,e=!1){const n=t;return await X4(n),(await uv(n,e)).token}async function X4(t){const{registrationPromise:e}=await lv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(t){if(!t||!t.options)throw hp("App Configuration");if(!t.name)throw hp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw hp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function hp(t){return Ps.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="installations",Z4="installations-internal",e$=t=>{const e=t.getProvider("app").getImmediate(),n=J4(e),r=Wi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},t$=t=>{const e=t.getProvider("app").getImmediate(),n=Wi(e,LI).getImmediate();return{getId:()=>Q4(n),getToken:i=>Y4(n,i)}};function n$(){rr(new Un(LI,e$,"PUBLIC")),rr(new Un(Z4,t$,"PRIVATE"))}n$();pn(mI,ov);pn(mI,ov,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="analytics",r$="firebase_id",i$="origin",s$=60*1e3,o$="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",NI="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n=new Mf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function a$(t,e){const n=document.createElement("script");n.src=`${NI}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function l$(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function u$(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await OI(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){_n.error(a)}t("config",i,s)}async function c$(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await OI(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){_n.error(s)}}function d$(t,e,n,r){async function i(s,o,a){try{s==="event"?await c$(t,e,n,o,a):s==="config"?await u$(t,e,n,r,o,a):s==="consent"?t("consent","update",a):t("set",o)}catch(l){_n.error(l)}}return i}function f$(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=d$(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function h$(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(NI)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},Dn=new zs("analytics","Analytics",p$);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$=30,g$=1e3;class y${constructor(e={},n=g$){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const DI=new y$;function v$(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function w$(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:v$(r)},s=o$.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Dn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function _$(t,e=DI,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Dn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Dn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new C$;return setTimeout(async()=>{a.abort()},n!==void 0?n:s$),jI({appId:r,apiKey:i,measurementId:s},o,a,e)}async function jI(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=DI){var s;const{appId:o,measurementId:a}=t;try{await S$(r,e)}catch(l){if(a)return _n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await w$(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!E$(u)){if(i.deleteThrottleMetadata(o),a)return _n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?bw(n,i.intervalMillis,m$):bw(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),_n.debug(`Calling attemptFetch again in ${c} millis`),jI(t,d,r,i)}}function S$(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function E$(t){if(!(t instanceof zn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class C${constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function T$(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I$(){if(kT())try{await xT()}catch(t){return _n.warn(Dn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return _n.warn(Dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function b$(t,e,n,r,i,s,o){var a;const l=_$(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&_n.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>_n.error(p)),e.push(l);const u=I$().then(p=>{if(p)return r.getId()}),[c,d]=await Promise.all([l,u]);h$(s)||a$(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[i$]="firebase",f.update=!0,d!=null&&(f[r$]=d),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e){this.app=e}_delete(){return delete al[this.app.options.appId],Promise.resolve()}}let al={},Zw=[];const e_={};let pp="dataLayer",x$="gtag",t_,MI,n_=!1;function R$(){const t=[];if(bT()&&t.push("This is a browser extension environment."),BO()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Dn.create("invalid-analytics-context",{errorInfo:e});_n.warn(n.message)}}function A$(t,e,n){R$();const r=t.options.appId;if(!r)throw Dn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)_n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Dn.create("no-api-key");if(al[r]!=null)throw Dn.create("already-exists",{id:r});if(!n_){l$(pp);const{wrappedGtag:s,gtagCore:o}=f$(al,Zw,e_,pp,x$);MI=s,t_=o,n_=!0}return al[r]=b$(t,Zw,e_,e,t_,pp,n),new k$(t)}function P$(t=$f()){t=Qe(t);const e=Wi(t,Ed);return e.isInitialized()?e.getImmediate():L$(t)}function L$(t,e={}){const n=Wi(t,Ed);if(n.isInitialized()){const i=n.getImmediate();if(jl(e,n.getOptions()))return i;throw Dn.create("already-initialized")}return n.initialize({options:e})}function N$(t,e,n,r){t=Qe(t),T$(MI,al[t.app.options.appId],e,n,r).catch(i=>_n.error(i))}const r_="@firebase/analytics",i_="0.9.0";function O$(){rr(new Un(Ed,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return A$(r,i,n)},"PUBLIC")),rr(new Un("analytics-internal",t,"PRIVATE")),pn(r_,i_),pn(r_,i_,"esm2017");function t(e){try{const n=e.getProvider(Ed).getImmediate();return{logEvent:(r,i,s)=>N$(n,r,i,s)}}catch(n){throw Dn.create("interop-component-reg-failed",{reason:n})}}}O$();var D$="firebase",j$="9.15.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn(D$,j$,"app");var M$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X,cv=cv||{},he=M$||self;function Cd(){}function Hf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function mu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function $$(t){return Object.prototype.hasOwnProperty.call(t,mp)&&t[mp]||(t[mp]=++U$)}var mp="closure_uid_"+(1e9*Math.random()>>>0),U$=0;function F$(t,e,n){return t.call.apply(t.bind,arguments)}function V$(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Wt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Wt=F$:Wt=V$,Wt.apply(null,arguments)}function ic(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Dt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ki(){this.s=this.s,this.o=this.o}var z$=0;Ki.prototype.s=!1;Ki.prototype.na=function(){!this.s&&(this.s=!0,this.M(),z$!=0)&&$$(this)};Ki.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $I=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function dv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function s_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Hf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Kt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Kt.prototype.h=function(){this.defaultPrevented=!0};var B$=function(){if(!he.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{he.addEventListener("test",Cd,e),he.removeEventListener("test",Cd,e)}catch{}return t}();function Td(t){return/^[\s\xa0]*$/.test(t)}var o_=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function gp(t,e){return t<e?-1:t>e?1:0}function qf(){var t=he.navigator;return t&&(t=t.userAgent)?t:""}function dr(t){return qf().indexOf(t)!=-1}function fv(t){return fv[" "](t),t}fv[" "]=Cd;function H$(t){var e=K$;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var q$=dr("Opera"),Ko=dr("Trident")||dr("MSIE"),UI=dr("Edge"),ug=UI||Ko,FI=dr("Gecko")&&!(qf().toLowerCase().indexOf("webkit")!=-1&&!dr("Edge"))&&!(dr("Trident")||dr("MSIE"))&&!dr("Edge"),W$=qf().toLowerCase().indexOf("webkit")!=-1&&!dr("Edge");function VI(){var t=he.document;return t?t.documentMode:void 0}var Id;e:{var yp="",vp=function(){var t=qf();if(FI)return/rv:([^\);]+)(\)|;)/.exec(t);if(UI)return/Edge\/([\d\.]+)/.exec(t);if(Ko)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(W$)return/WebKit\/(\S+)/.exec(t);if(q$)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(vp&&(yp=vp?vp[1]:""),Ko){var wp=VI();if(wp!=null&&wp>parseFloat(yp)){Id=String(wp);break e}}Id=yp}var K$={};function G$(){return H$(function(){let t=0;const e=o_(String(Id)).split("."),n=o_("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=gp(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||gp(i[2].length==0,s[2].length==0)||gp(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var cg;if(he.document&&Ko){var a_=VI();cg=a_||parseInt(Id,10)||void 0}else cg=void 0;var Q$=cg;function Fl(t,e){if(Kt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(FI){e:{try{fv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Y$[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Fl.X.h.call(this)}}Dt(Fl,Kt);var Y$={2:"touch",3:"pen",4:"mouse"};Fl.prototype.h=function(){Fl.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var gu="closure_listenable_"+(1e6*Math.random()|0),X$=0;function J$(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++X$,this.ba=this.ea=!1}function Wf(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function hv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function zI(t){const e={};for(const n in t)e[n]=t[n];return e}const l_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function BI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<l_.length;s++)n=l_[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Kf(t){this.src=t,this.g={},this.h=0}Kf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=fg(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new J$(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function dg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=$I(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Wf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function fg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var pv="closure_lm_"+(1e6*Math.random()|0),_p={};function HI(t,e,n,r,i){if(r&&r.once)return WI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)HI(t,e[s],n,r,i);return null}return n=yv(n),t&&t[gu]?t.N(e,n,mu(r)?!!r.capture:!!r,i):qI(t,e,n,!1,r,i)}function qI(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=mu(i)?!!i.capture:!!i,a=gv(t);if(a||(t[pv]=a=new Kf(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=Z$(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)B$||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(GI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Z$(){function t(n){return e.call(t.src,t.listener,n)}const e=e3;return t}function WI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)WI(t,e[s],n,r,i);return null}return n=yv(n),t&&t[gu]?t.O(e,n,mu(r)?!!r.capture:!!r,i):qI(t,e,n,!0,r,i)}function KI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)KI(t,e[s],n,r,i);else r=mu(r)?!!r.capture:!!r,n=yv(n),t&&t[gu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=fg(s,n,r,i),-1<n&&(Wf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=gv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=fg(e,n,r,i)),(n=-1<t?e[t]:null)&&mv(n))}function mv(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[gu])dg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(GI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gv(e))?(dg(n,t),n.h==0&&(n.src=null,e[pv]=null)):Wf(t)}}}function GI(t){return t in _p?_p[t]:_p[t]="on"+t}function e3(t,e){if(t.ba)t=!0;else{e=new Fl(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&mv(t),t=n.call(r,e)}return t}function gv(t){return t=t[pv],t instanceof Kf?t:null}var Sp="__closure_events_fn_"+(1e9*Math.random()>>>0);function yv(t){return typeof t=="function"?t:(t[Sp]||(t[Sp]=function(e){return t.handleEvent(e)}),t[Sp])}function kt(){Ki.call(this),this.i=new Kf(this),this.P=this,this.I=null}Dt(kt,Ki);kt.prototype[gu]=!0;kt.prototype.removeEventListener=function(t,e,n,r){KI(this,t,e,n,r)};function Nt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Kt(e,t);else if(e instanceof Kt)e.target=e.target||t;else{var i=e;e=new Kt(r,t),BI(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=sc(o,r,!0,e)&&i}if(o=e.g=t,i=sc(o,r,!0,e)&&i,i=sc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=sc(o,r,!1,e)&&i}kt.prototype.M=function(){if(kt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Wf(n[r]);delete t.g[e],t.h--}}this.I=null};kt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};kt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function sc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&dg(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var vv=he.JSON.stringify;function t3(){var t=XI;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class n3{constructor(){this.h=this.g=null}add(e,n){const r=QI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var QI=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new r3,t=>t.reset());class r3{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function i3(t){he.setTimeout(()=>{throw t},0)}function YI(t,e){hg||s3(),pg||(hg(),pg=!0),XI.add(t,e)}var hg;function s3(){var t=he.Promise.resolve(void 0);hg=function(){t.then(o3)}}var pg=!1,XI=new n3;function o3(){for(var t;t=t3();){try{t.h.call(t.g)}catch(n){i3(n)}var e=QI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}pg=!1}function Gf(t,e){kt.call(this),this.h=t||1,this.g=e||he,this.j=Wt(this.lb,this),this.l=Date.now()}Dt(Gf,kt);X=Gf.prototype;X.ca=!1;X.R=null;X.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Nt(this,"tick"),this.ca&&(wv(this),this.start()))}};X.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function wv(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}X.M=function(){Gf.X.M.call(this),wv(this),delete this.g};function _v(t,e,n){if(typeof t=="function")n&&(t=Wt(t,n));else if(t&&typeof t.handleEvent=="function")t=Wt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:he.setTimeout(t,e||0)}function JI(t){t.g=_v(()=>{t.g=null,t.i&&(t.i=!1,JI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class a3 extends Ki{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:JI(this)}M(){super.M(),this.g&&(he.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vl(t){Ki.call(this),this.h=t,this.g={}}Dt(Vl,Ki);var u_=[];function ZI(t,e,n,r){Array.isArray(n)||(n&&(u_[0]=n.toString()),n=u_);for(var i=0;i<n.length;i++){var s=HI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function eb(t){hv(t.g,function(e,n){this.g.hasOwnProperty(n)&&mv(e)},t),t.g={}}Vl.prototype.M=function(){Vl.X.M.call(this),eb(this)};Vl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Qf(){this.g=!0}Qf.prototype.Aa=function(){this.g=!1};function l3(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function u3(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function _o(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+d3(t,n)+(r?" "+r:"")})}function c3(t,e){t.info(function(){return"TIMEOUT: "+e})}Qf.prototype.info=function(){};function d3(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return vv(n)}catch{return e}}var Bs={},c_=null;function Yf(){return c_=c_||new kt}Bs.Pa="serverreachability";function tb(t){Kt.call(this,Bs.Pa,t)}Dt(tb,Kt);function zl(t){const e=Yf();Nt(e,new tb(e))}Bs.STAT_EVENT="statevent";function nb(t,e){Kt.call(this,Bs.STAT_EVENT,t),this.stat=e}Dt(nb,Kt);function tn(t){const e=Yf();Nt(e,new nb(e,t))}Bs.Qa="timingevent";function rb(t,e){Kt.call(this,Bs.Qa,t),this.size=e}Dt(rb,Kt);function yu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return he.setTimeout(function(){t()},e)}var Xf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ib={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Sv(){}Sv.prototype.h=null;function d_(t){return t.h||(t.h=t.i())}function sb(){}var vu={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ev(){Kt.call(this,"d")}Dt(Ev,Kt);function Cv(){Kt.call(this,"c")}Dt(Cv,Kt);var mg;function Jf(){}Dt(Jf,Sv);Jf.prototype.g=function(){return new XMLHttpRequest};Jf.prototype.i=function(){return{}};mg=new Jf;function wu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Vl(this),this.O=f3,t=ug?125:void 0,this.T=new Gf(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ob}function ob(){this.i=null,this.g="",this.h=!1}var f3=45e3,gg={},bd={};X=wu.prototype;X.setTimeout=function(t){this.O=t};function yg(t,e,n){t.K=1,t.v=eh(Xr(e)),t.s=n,t.P=!0,ab(t,null)}function ab(t,e){t.F=Date.now(),_u(t),t.A=Xr(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),mb(n.i,"t",r),t.C=0,n=t.l.H,t.h=new ob,t.g=jb(t.l,n?e:null,!t.s),0<t.N&&(t.L=new a3(Wt(t.La,t,t.g),t.N)),ZI(t.S,t.g,"readystatechange",t.ib),e=t.H?zI(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),zl(),l3(t.j,t.u,t.A,t.m,t.U,t.s)}X.ib=function(t){t=t.target;const e=this.L;e&&Ur(t)==3?e.l():this.La(t)};X.La=function(t){try{if(t==this.g)e:{const c=Ur(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>c)&&(c!=3||ug||this.g&&(this.h.h||this.g.fa()||m_(this.g)))){this.I||c!=4||e==7||(e==8||0>=d?zl(3):zl(2)),Zf(this);var n=this.g.aa();this.Y=n;t:if(lb(this)){var r=m_(this.g);t="";var i=r.length,s=Ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ds(this),ll(this);var o="";break t}this.h.i=new he.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,u3(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Td(a)){var u=a;break t}}u=null}if(n=u)_o(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,vg(this,n);else{this.i=!1,this.o=3,tn(12),ds(this),ll(this);break e}}this.P?(ub(this,c,o),ug&&this.i&&c==3&&(ZI(this.S,this.T,"tick",this.hb),this.T.start())):(_o(this.j,this.m,o,null),vg(this,o)),c==4&&ds(this),this.i&&!this.I&&(c==4?Lb(this.l,this):(this.i=!1,_u(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,tn(12)):(this.o=0,tn(13)),ds(this),ll(this)}}}catch{}finally{}};function lb(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function ub(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=h3(t,n),i==bd){e==4&&(t.o=4,tn(14),r=!1),_o(t.j,t.m,null,"[Incomplete Response]");break}else if(i==gg){t.o=4,tn(15),_o(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else _o(t.j,t.m,i,null),vg(t,i);lb(t)&&i!=bd&&i!=gg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,tn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Av(e),e.K=!0,tn(11))):(_o(t.j,t.m,n,"[Invalid Chunked Response]"),ds(t),ll(t))}X.hb=function(){if(this.g){var t=Ur(this.g),e=this.g.fa();this.C<e.length&&(Zf(this),ub(this,t,e),this.i&&t!=4&&_u(this))}};function h3(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?bd:(n=Number(e.substring(n,r)),isNaN(n)?gg:(r+=1,r+n>e.length?bd:(e=e.substr(r,n),t.C=r+n,e)))}X.cancel=function(){this.I=!0,ds(this)};function _u(t){t.V=Date.now()+t.O,cb(t,t.O)}function cb(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=yu(Wt(t.gb,t),e)}function Zf(t){t.B&&(he.clearTimeout(t.B),t.B=null)}X.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(c3(this.j,this.A),this.K!=2&&(zl(),tn(17)),ds(this),this.o=2,ll(this)):cb(this,this.V-t)};function ll(t){t.l.G==0||t.I||Lb(t.l,t)}function ds(t){Zf(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,wv(t.T),eb(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function vg(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||wg(n.h,t))){if(!t.J&&wg(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Rd(n),rh(n);else break e;Rv(n),tn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=yu(Wt(n.cb,n),6e3));if(1>=vb(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else fs(n,11)}else if((t.J||n.g==t)&&Rd(n),!Td(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const d=u[4];d!=null&&(n.Ca=d,n.j.info("SVER="+n.Ca));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const y=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.h;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Tv(s,s.h),s.h=null))}if(r.D){const m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,Ke(r.F,r.D,m))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=Db(r,r.H?r.ka:null,r.V),o.J){wb(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Zf(a),_u(a)),r.g=o}else Ab(r);0<n.i.length&&ih(n)}else u[0]!="stop"&&u[0]!="close"||fs(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?fs(n,7):xv(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}zl(4)}catch{}}function p3(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Hf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function m3(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Hf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function db(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Hf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=m3(t),r=p3(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var fb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function g3(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ws(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ws){this.h=e!==void 0?e:t.h,kd(this,t.j),this.s=t.s,this.g=t.g,xd(this,t.m),this.l=t.l,e=t.i;var n=new Bl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),f_(this,n),this.o=t.o}else t&&(n=String(t).match(fb))?(this.h=!!e,kd(this,n[1]||"",!0),this.s=Ha(n[2]||""),this.g=Ha(n[3]||"",!0),xd(this,n[4]),this.l=Ha(n[5]||"",!0),f_(this,n[6]||"",!0),this.o=Ha(n[7]||"")):(this.h=!!e,this.i=new Bl(null,this.h))}ws.prototype.toString=function(){var t=[],e=this.j;e&&t.push(qa(e,h_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(qa(e,h_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(qa(n,n.charAt(0)=="/"?w3:v3,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",qa(n,S3)),t.join("")};function Xr(t){return new ws(t)}function kd(t,e,n){t.j=n?Ha(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function xd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function f_(t,e,n){e instanceof Bl?(t.i=e,E3(t.i,t.h)):(n||(e=qa(e,_3)),t.i=new Bl(e,t.h))}function Ke(t,e,n){t.i.set(e,n)}function eh(t){return Ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ha(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,y3),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function y3(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var h_=/[#\/\?@]/g,v3=/[#\?:]/g,w3=/[#\?]/g,_3=/[#\?@]/g,S3=/#/g;function Bl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Gi(t){t.g||(t.g=new Map,t.h=0,t.i&&g3(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}X=Bl.prototype;X.add=function(t,e){Gi(this),this.i=null,t=ua(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function hb(t,e){Gi(t),e=ua(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function pb(t,e){return Gi(t),e=ua(t,e),t.g.has(e)}X.forEach=function(t,e){Gi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};X.oa=function(){Gi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};X.W=function(t){Gi(this);let e=[];if(typeof t=="string")pb(this,t)&&(e=e.concat(this.g.get(ua(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};X.set=function(t,e){return Gi(this),this.i=null,t=ua(this,t),pb(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};X.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function mb(t,e,n){hb(t,e),0<n.length&&(t.i=null,t.g.set(ua(t,e),dv(n)),t.h+=n.length)}X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ua(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function E3(t,e){e&&!t.j&&(Gi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(hb(this,r),mb(this,i,n))},t)),t.j=e}var C3=class{constructor(e,n){this.h=e,this.g=n}};function gb(t){this.l=t||T3,he.PerformanceNavigationTiming?(t=he.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(he.g&&he.g.Ga&&he.g.Ga()&&he.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var T3=10;function yb(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function vb(t){return t.h?1:t.g?t.g.size:0}function wg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Tv(t,e){t.g?t.g.add(e):t.h=e}function wb(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}gb.prototype.cancel=function(){if(this.i=_b(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function _b(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return dv(t.i)}function Iv(){}Iv.prototype.stringify=function(t){return he.JSON.stringify(t,void 0)};Iv.prototype.parse=function(t){return he.JSON.parse(t,void 0)};function I3(){this.g=new Iv}function b3(t,e,n){const r=n||"";try{db(t,function(i,s){let o=i;mu(i)&&(o=vv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function k3(t,e){const n=new Qf;if(he.Image){const r=new Image;r.onload=ic(oc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ic(oc,n,r,"TestLoadImage: error",!1,e),r.onabort=ic(oc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ic(oc,n,r,"TestLoadImage: timeout",!1,e),he.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function oc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Su(t){this.l=t.ac||null,this.j=t.jb||!1}Dt(Su,Sv);Su.prototype.g=function(){return new th(this.l,this.j)};Su.prototype.i=function(t){return function(){return t}}({});function th(t,e){kt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=bv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dt(th,kt);var bv=0;X=th.prototype;X.open=function(t,e){if(this.readyState!=bv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Hl(this)};X.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||he).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Eu(this)),this.readyState=bv};X.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Hl(this)),this.g&&(this.readyState=3,Hl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof he.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Sb(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function Sb(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}X.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Eu(this):Hl(this),this.readyState==3&&Sb(this)}};X.Va=function(t){this.g&&(this.response=this.responseText=t,Eu(this))};X.Ua=function(t){this.g&&(this.response=t,Eu(this))};X.ga=function(){this.g&&Eu(this)};function Eu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Hl(t)}X.setRequestHeader=function(t,e){this.v.append(t,e)};X.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};X.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Hl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(th.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var x3=he.JSON.parse;function rt(t){kt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Eb,this.K=this.L=!1}Dt(rt,kt);var Eb="",R3=/^https?$/i,A3=["POST","PUT"];X=rt.prototype;X.Ka=function(t){this.L=t};X.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():mg.g(),this.C=this.u?d_(this.u):d_(mg),this.g.onreadystatechange=Wt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){p_(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=he.FormData&&t instanceof he.FormData,!(0<=$I(A3,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ib(this),0<this.B&&((this.K=P3(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wt(this.qa,this)):this.A=_v(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){p_(this,s)}};function P3(t){return Ko&&G$()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}X.qa=function(){typeof cv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nt(this,"timeout"),this.abort(8))};function p_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Cb(t),nh(t)}function Cb(t){t.D||(t.D=!0,Nt(t,"complete"),Nt(t,"error"))}X.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Nt(this,"complete"),Nt(this,"abort"),nh(this))};X.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nh(this,!0)),rt.X.M.call(this)};X.Ha=function(){this.s||(this.F||this.v||this.l?Tb(this):this.fb())};X.fb=function(){Tb(this)};function Tb(t){if(t.h&&typeof cv<"u"&&(!t.C[1]||Ur(t)!=4||t.aa()!=2)){if(t.v&&Ur(t)==4)_v(t.Ha,0,t);else if(Nt(t,"readystatechange"),Ur(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(fb)[1]||null;if(!i&&he.self&&he.self.location){var s=he.self.location.protocol;i=s.substr(0,s.length-1)}r=!R3.test(i?i.toLowerCase():"")}n=r}if(n)Nt(t,"complete"),Nt(t,"success");else{t.m=6;try{var o=2<Ur(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",Cb(t)}}finally{nh(t)}}}}function nh(t,e){if(t.g){Ib(t);const n=t.g,r=t.C[0]?Cd:null;t.g=null,t.C=null,e||Nt(t,"ready");try{n.onreadystatechange=r}catch{}}}function Ib(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(he.clearTimeout(t.A),t.A=null)}function Ur(t){return t.g?t.g.readyState:0}X.aa=function(){try{return 2<Ur(this)?this.g.status:-1}catch{return-1}};X.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};X.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),x3(e)}};function m_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Eb:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}X.Ea=function(){return this.m};X.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function bb(t){let e="";return hv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function kv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=bb(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ke(t,e,n))}function Aa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function kb(t){this.Ca=0,this.i=[],this.j=new Qf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Aa("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Aa("baseRetryDelayMs",5e3,t),this.bb=Aa("retryDelaySeedMs",1e4,t),this.$a=Aa("forwardChannelMaxRetries",2,t),this.ta=Aa("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new gb(t&&t.concurrentRequestLimit),this.Fa=new I3,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}X=kb.prototype;X.ma=8;X.G=1;function xv(t){if(xb(t),t.G==3){var e=t.U++,n=Xr(t.F);Ke(n,"SID",t.I),Ke(n,"RID",e),Ke(n,"TYPE","terminate"),Cu(t,n),e=new wu(t,t.j,e,void 0),e.K=2,e.v=eh(Xr(n)),n=!1,he.navigator&&he.navigator.sendBeacon&&(n=he.navigator.sendBeacon(e.v.toString(),"")),!n&&he.Image&&(new Image().src=e.v,n=!0),n||(e.g=jb(e.l,null),e.g.da(e.v)),e.F=Date.now(),_u(e)}Ob(t)}function rh(t){t.g&&(Av(t),t.g.cancel(),t.g=null)}function xb(t){rh(t),t.u&&(he.clearTimeout(t.u),t.u=null),Rd(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&he.clearTimeout(t.m),t.m=null)}function ih(t){yb(t.h)||t.m||(t.m=!0,YI(t.Ja,t),t.C=0)}function L3(t,e){return vb(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=yu(Wt(t.Ja,t,e),Nb(t,t.C)),t.C++,!0)}X.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new wu(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=zI(s),BI(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Rb(this,i,e),n=Xr(this.F),Ke(n,"RID",t),Ke(n,"CVER",22),this.D&&Ke(n,"X-HTTP-Session-Id",this.D),Cu(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(bb(s)))+"&"+e:this.o&&kv(n,this.o,s)),Tv(this.h,i),this.Ya&&Ke(n,"TYPE","init"),this.O?(Ke(n,"$req",e),Ke(n,"SID","null"),i.Z=!0,yg(i,n,null)):yg(i,n,e),this.G=2}}else this.G==3&&(t?g_(this,t):this.i.length==0||yb(this.h)||g_(this))};function g_(t,e){var n;e?n=e.m:n=t.U++;const r=Xr(t.F);Ke(r,"SID",t.I),Ke(r,"RID",n),Ke(r,"AID",t.T),Cu(t,r),t.o&&t.s&&kv(r,t.o,t.s),n=new wu(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=Rb(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Tv(t.h,n),yg(n,r,e)}function Cu(t,e){t.ia&&hv(t.ia,function(n,r){Ke(e,r,n)}),t.l&&db({},function(n,r){Ke(e,r,n)})}function Rb(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Wt(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{b3(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function Ab(t){t.g||t.u||(t.Z=1,YI(t.Ia,t),t.A=0)}function Rv(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=yu(Wt(t.Ia,t),Nb(t,t.A)),t.A++,!0)}X.Ia=function(){if(this.u=null,Pb(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=yu(Wt(this.eb,this),t)}};X.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,tn(10),rh(this),Pb(this))};function Av(t){t.B!=null&&(he.clearTimeout(t.B),t.B=null)}function Pb(t){t.g=new wu(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Xr(t.sa);Ke(e,"RID","rpc"),Ke(e,"SID",t.I),Ke(e,"CI",t.L?"0":"1"),Ke(e,"AID",t.T),Ke(e,"TYPE","xmlhttp"),Cu(t,e),t.o&&t.s&&kv(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=eh(Xr(e)),n.s=null,n.P=!0,ab(n,t)}X.cb=function(){this.v!=null&&(this.v=null,rh(this),Rv(this),tn(19))};function Rd(t){t.v!=null&&(he.clearTimeout(t.v),t.v=null)}function Lb(t,e){var n=null;if(t.g==e){Rd(t),Av(t),t.g=null;var r=2}else if(wg(t.h,e))n=e.D,wb(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Yf(),Nt(r,new rb(r,n)),ih(t)}else Ab(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&L3(t,e)||r==2&&Rv(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:fs(t,5);break;case 4:fs(t,10);break;case 3:fs(t,6);break;default:fs(t,2)}}}function Nb(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function fs(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Wt(t.kb,t);n||(n=new ws("//www.google.com/images/cleardot.gif"),he.location&&he.location.protocol=="http"||kd(n,"https"),eh(n)),k3(n.toString(),r)}else tn(2);t.G=0,t.l&&t.l.va(e),Ob(t),xb(t)}X.kb=function(t){t?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function Ob(t){if(t.G=0,t.la=[],t.l){const e=_b(t.h);(e.length!=0||t.i.length!=0)&&(s_(t.la,e),s_(t.la,t.i),t.h.i.length=0,dv(t.i),t.i.length=0),t.l.ua()}}function Db(t,e,n){var r=n instanceof ws?Xr(n):new ws(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),xd(r,r.m);else{var i=he.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ws(null,void 0);r&&kd(s,r),e&&(s.g=e),i&&xd(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&Ke(r,n,e),Ke(r,"VER",t.ma),Cu(t,r),r}function jb(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new rt(new Su({jb:!0})):new rt(t.ra),e.Ka(t.H),e}function Mb(){}X=Mb.prototype;X.xa=function(){};X.wa=function(){};X.va=function(){};X.ua=function(){};X.Ra=function(){};function Ad(){if(Ko&&!(10<=Number(Q$)))throw Error("Environmental error: no available transport.")}Ad.prototype.g=function(t,e){return new En(t,e)};function En(t,e){kt.call(this),this.g=new kb(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Td(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Td(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ca(this)}Dt(En,kt);En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;tn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=Db(t,null,t.V),ih(t)};En.prototype.close=function(){xv(this.g)};En.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=vv(t),t=n);e.i.push(new C3(e.ab++,t)),e.G==3&&ih(e)};En.prototype.M=function(){this.g.l=null,delete this.j,xv(this.g),delete this.g,En.X.M.call(this)};function $b(t){Ev.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Dt($b,Ev);function Ub(){Cv.call(this),this.status=1}Dt(Ub,Cv);function ca(t){this.g=t}Dt(ca,Mb);ca.prototype.xa=function(){Nt(this.g,"a")};ca.prototype.wa=function(t){Nt(this.g,new $b(t))};ca.prototype.va=function(t){Nt(this.g,new Ub)};ca.prototype.ua=function(){Nt(this.g,"b")};Ad.prototype.createWebChannel=Ad.prototype.g;En.prototype.send=En.prototype.u;En.prototype.open=En.prototype.m;En.prototype.close=En.prototype.close;Xf.NO_ERROR=0;Xf.TIMEOUT=8;Xf.HTTP_ERROR=6;ib.COMPLETE="complete";sb.EventType=vu;vu.OPEN="a";vu.CLOSE="b";vu.ERROR="c";vu.MESSAGE="d";kt.prototype.listen=kt.prototype.N;rt.prototype.listenOnce=rt.prototype.O;rt.prototype.getLastError=rt.prototype.Oa;rt.prototype.getLastErrorCode=rt.prototype.Ea;rt.prototype.getStatus=rt.prototype.aa;rt.prototype.getResponseJson=rt.prototype.Sa;rt.prototype.getResponseText=rt.prototype.fa;rt.prototype.send=rt.prototype.da;rt.prototype.setWithCredentials=rt.prototype.Ka;var N3=function(){return new Ad},O3=function(){return Yf()},Ep=Xf,D3=ib,j3=Bs,y_={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},M3=Su,ac=sb,$3=rt;const v_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let da="9.15.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new Mf("@firebase/firestore");function w_(){return Ns.logLevel}function ne(t,...e){if(Ns.logLevel<=Pe.DEBUG){const n=e.map(Pv);Ns.debug(`Firestore (${da}): ${t}`,...n)}}function Jr(t,...e){if(Ns.logLevel<=Pe.ERROR){const n=e.map(Pv);Ns.error(`Firestore (${da}): ${t}`,...n)}}function _g(t,...e){if(Ns.logLevel<=Pe.WARN){const n=e.map(Pv);Ns.warn(`Firestore (${da}): ${t}`,...n)}}function Pv(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${da}) INTERNAL ASSERTION FAILED: `+t;throw Jr(e),new Error(e)}function Ue(t,e){t||fe()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let se=class extends zn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fb=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}};class U3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}let F3=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},V3=class{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new Fb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new zt(e)}},z3=class{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ue(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}},B3=class{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new z3(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},H3=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},q3=class{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.A=n.token,new H3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vb=class{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=W3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Le(t,e){return t<e?-1:t>e?1:0}function Go(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new ft(0,0))}static max(){return new me(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ql.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ql?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends ql{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const K3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends ql{construct(e,n,r){return new qt(e,n,r)}static isValidIdentifier(e){return K3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new se(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new se(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new se(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Ge.fromString(e))}static fromName(e){return new oe(Ge.fromString(e).popFirst(5))}static empty(){return new oe(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Ge(e.slice()))}}function G3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new $i(i,oe.empty(),e)}function Q3(t){return new $i(t.readTime,t.key,-1)}class $i{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $i(me.min(),oe.empty(),-1)}static max(){return new $i(me.max(),oe.empty(),-1)}}function Y3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class J3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==X3)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Iu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}Lv.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Wl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t){return t==null}function Pd(t){return t===0&&1/t==-1/0}function e6(t){return typeof t=="number"&&Number.isInteger(t)&&!Pd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Yt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const t6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=t6.exec(t);if(Ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ut(t.seconds),nanos:ut(t.nanos)}}function ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qo(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hb(t){const e=t.mapValue.fields.__previous_value__;return Bb(e)?Hb(e):e}function Kl(t){const e=Ui(t.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bb(t)?4:n6(t)?9007199254740991:10:fe()}function Er(t,e){if(t===e)return!0;const n=Os(t);if(n!==Os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kl(t).isEqual(Kl(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ui(r.timestampValue),o=Ui(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Qo(r.bytesValue).isEqual(Qo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ut(r.geoPointValue.latitude)===ut(i.geoPointValue.latitude)&&ut(r.geoPointValue.longitude)===ut(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ut(r.integerValue)===ut(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ut(r.doubleValue),o=ut(i.doubleValue);return s===o?Pd(s)===Pd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Go(t.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(__(s)!==__(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Er(s[a],o[a])))return!1;return!0}(t,e);default:return fe()}}function Gl(t,e){return(t.values||[]).find(n=>Er(n,e))!==void 0}function Yo(t,e){if(t===e)return 0;const n=Os(t),r=Os(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ut(i.integerValue||i.doubleValue),a=ut(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return S_(t.timestampValue,e.timestampValue);case 4:return S_(Kl(t),Kl(e));case 5:return Le(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Qo(i),a=Qo(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Le(o[l],a[l]);if(u!==0)return u}return Le(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Le(ut(i.latitude),ut(s.latitude));return o!==0?o:Le(ut(i.longitude),ut(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Yo(o[l],a[l]);if(u)return u}return Le(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===lc.mapValue&&s===lc.mapValue)return 0;if(i===lc.mapValue)return 1;if(s===lc.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Le(a[c],u[c]);if(d!==0)return d;const f=Yo(o[a[c]],l[u[c]]);if(f!==0)return f}return Le(a.length,u.length)}(t.mapValue,e.mapValue);default:throw fe()}}function S_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=Ui(t),r=Ui(e),i=Le(n.seconds,r.seconds);return i!==0?i:Le(n.nanos,r.nanos)}function Xo(t){return Sg(t)}function Sg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ui(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Qo(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,oe.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Sg(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Sg(r.fields[a])}`;return s+"}"}(t.mapValue):fe();var e,n}function Eg(t){return!!t&&"integerValue"in t}function Nv(t){return!!t&&"arrayValue"in t}function E_(t){return!!t&&"nullValue"in t}function C_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Oc(t){return!!t&&"mapValue"in t}function ul(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ul(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ul(t.arrayValue.values[n]);return e}return Object.assign({},t)}function n6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n){this.position=e,this.inclusive=n}}function T_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=Yo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function I_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{}class vt extends qb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new s6(e,n,r):n==="array-contains"?new l6(e,r):n==="in"?new u6(e,r):n==="not-in"?new c6(e,r):n==="array-contains-any"?new d6(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new o6(e,r):new a6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Yo(n,this.value)):n!==null&&Os(this.value)===Os(n)&&this.matchesComparison(Yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Cr extends qb{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Cr(e,n)}matches(e){return Wb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Wb(t){return t.op==="and"}function r6(t){return i6(t)&&Wb(t)}function i6(t){for(const e of t.filters)if(e instanceof Cr)return!1;return!0}function Kb(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+Xo(t.value);{const e=t.filters.map(n=>Kb(n)).join(",");return`${t.op}(${e})`}}function Gb(t,e){return t instanceof vt?function(n,r){return r instanceof vt&&n.op===r.op&&n.field.isEqual(r.field)&&Er(n.value,r.value)}(t,e):t instanceof Cr?function(n,r){return r instanceof Cr&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&Gb(s,r.filters[o]),!0):!1}(t,e):void fe()}function Qb(t){return t instanceof vt?function(e){return`${e.field.canonicalString()} ${e.op} ${Xo(e.value)}`}(t):t instanceof Cr?function(e){return e.op.toString()+" {"+e.getFilters().map(Qb).join(" ,")+"}"}(t):"Filter"}class s6 extends vt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class o6 extends vt{constructor(e,n){super(e,"in",n),this.keys=Yb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class a6 extends vt{constructor(e,n){super(e,"not-in",n),this.keys=Yb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Yb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class l6 extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Nv(n)&&Gl(n.arrayValue,this.value)}}class u6 extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gl(this.value.arrayValue,n)}}class c6 extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Gl(this.value.arrayValue,n)}}class d6 extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Nv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n="asc"){this.field=e,this.dir=n}}function f6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uc(this.root,e,this.comparator,!0)}}class uc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Pt.RED,this.left=i??Pt.EMPTY,this.right=s??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Pt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Pt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new b_(this.data.getIterator())}getIteratorFrom(e){return new b_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new St(this.comparator);return n.data=e,n}}class b_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new jn([])}unionWith(e){let n=new St(qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Go(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Oc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ul(n)}setAll(e){let n=qt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ul(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Oc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Oc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ln(ul(this.value))}}function Xb(t){const e=[];return Hs(t.fields,(n,r)=>{const i=new qt([n]);if(Oc(r)){const s=Xb(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ht(e,0,me.min(),me.min(),me.min(),ln.empty(),0)}static newFoundDocument(e,n,r,i){return new Ht(e,1,n,me.min(),r,i,0)}static newNoDocument(e,n){return new Ht(e,2,n,me.min(),me.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,me.min(),me.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h6=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}};function k_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new h6(t,e,n,r,i,s,o)}function Ov(t){const e=we(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Kb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xo(r)).join(",")),e.ft=n}return e.ft}function Dv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!f6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Gb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!I_(t.startAt,e.startAt)&&I_(t.endAt,e.endAt)}function Cg(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}};function p6(t,e,n,r,i,s,o,a){return new oh(t,e,n,r,i,s,o,a)}function jv(t){return new oh(t)}function x_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function m6(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function g6(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function y6(t){return t.collectionGroup!==null}function Po(t){const e=we(t);if(e.dt===null){e.dt=[];const n=g6(e),r=m6(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new cl(n)),e.dt.push(new cl(qt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new cl(qt.keyField(),s))}}}return e.dt}function Zr(t){const e=we(t);if(!e._t)if(e.limitType==="F")e._t=k_(e.path,e.collectionGroup,Po(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Po(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new cl(s.field,o))}const r=e.endAt?new Ld(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ld(e.startAt.position,e.startAt.inclusive):null;e._t=k_(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Tg(t,e,n){return new oh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ah(t,e){return Dv(Zr(t),Zr(e))&&t.limitType===e.limitType}function Jb(t){return`${Ov(Zr(t))}|lt:${t.limitType}`}function Ig(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>Qb(r)).join(", ")}]`),sh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xo(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xo(r)).join(",")),`Target(${n})`}(Zr(t))}; limitType=${t.limitType})`}function Mv(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):oe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Po(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=T_(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Po(n),r)||n.endAt&&!function(i,s,o){const a=T_(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Po(n),r))}(t,e)}function v6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Zb(t){return(e,n)=>{let r=!1;for(const i of Po(t)){const s=w6(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function w6(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Yo(a,l):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pd(e)?"-0":e}}function tk(t){return{integerValue:""+t}}function _6(t,e){return e6(e)?tk(e):ek(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(){this._=void 0}}function S6(t,e,n){return t instanceof Ql?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Yl?rk(t,e):t instanceof Xl?ik(t,e):function(r,i){const s=nk(r,i),o=R_(s)+R_(r.gt);return Eg(s)&&Eg(r.gt)?tk(o):ek(r.yt,o)}(t,e)}function E6(t,e,n){return t instanceof Yl?rk(t,e):t instanceof Xl?ik(t,e):n}function nk(t,e){return t instanceof Nd?Eg(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Ql extends lh{}class Yl extends lh{constructor(e){super(),this.elements=e}}function rk(t,e){const n=sk(e);for(const r of t.elements)n.some(i=>Er(i,r))||n.push(r);return{arrayValue:{values:n}}}class Xl extends lh{constructor(e){super(),this.elements=e}}function ik(t,e){let n=sk(e);for(const r of t.elements)n=n.filter(i=>!Er(i,r));return{arrayValue:{values:n}}}class Nd extends lh{constructor(e,n){super(),this.yt=e,this.gt=n}}function R_(t){return ut(t.integerValue||t.doubleValue)}function sk(t){return Nv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n){this.field=e,this.transform=n}}function T6(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Yl&&r instanceof Yl||n instanceof Xl&&r instanceof Xl?Go(n.elements,r.elements,Er):n instanceof Nd&&r instanceof Nd?Er(n.gt,r.gt):n instanceof Ql&&r instanceof Ql}(t.transform,e.transform)}class I6{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class uh{}function ok(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lk(t.key,er.none()):new bu(t.key,t.data,er.none());{const n=t.data,r=ln.empty();let i=new St(qt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Qi(t.key,r,new jn(i.toArray()),er.none())}}function b6(t,e,n){t instanceof bu?function(r,i,s){const o=r.value.clone(),a=P_(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Qi?function(r,i,s){if(!Dc(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=P_(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(ak(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function dl(t,e,n,r){return t instanceof bu?function(i,s,o,a){if(!Dc(i.precondition,s))return o;const l=i.value.clone(),u=L_(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qi?function(i,s,o,a){if(!Dc(i.precondition,s))return o;const l=L_(i.fieldTransforms,a,s),u=s.data;return u.setAll(ak(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Dc(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function k6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=nk(r.transform,i||null);s!=null&&(n===null&&(n=ln.empty()),n.set(r.field,s))}return n||null}function A_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Go(n,r,(i,s)=>T6(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bu extends uh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qi extends uh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ak(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function P_(t,e,n){const r=new Map;Ue(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,E6(o,a,n[i]))}return r}function L_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,S6(s,o,e))}return r}class lk extends uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class x6 extends uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,Ie;function A6(t){switch(t){default:return fe();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function uk(t){if(t===void 0)return Jr("GRPC error has no .code"),U.UNKNOWN;switch(t){case lt.OK:return U.OK;case lt.CANCELLED:return U.CANCELLED;case lt.UNKNOWN:return U.UNKNOWN;case lt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case lt.INTERNAL:return U.INTERNAL;case lt.UNAVAILABLE:return U.UNAVAILABLE;case lt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case lt.NOT_FOUND:return U.NOT_FOUND;case lt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case lt.ABORTED:return U.ABORTED;case lt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case lt.DATA_LOSS:return U.DATA_LOSS;default:return fe()}}(Ie=lt||(lt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return zb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6=new Et(oe.comparator);function ei(){return P6}const ck=new Et(oe.comparator);function Wa(...t){let e=ck;for(const n of t)e=e.insert(n.key,n);return e}function dk(t){let e=ck;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hs(){return fl()}function fk(){return fl()}function fl(){return new fa(t=>t.toString(),(t,e)=>t.isEqual(e))}const L6=new Et(oe.comparator),N6=new St(oe.comparator);function Ce(...t){let e=N6;for(const n of t)e=e.add(n);return e}const O6=new St(Le);function hk(){return O6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ku.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ch(me.min(),i,hk(),ei(),Ce())}}class ku{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ku(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class pk{constructor(e,n){this.targetId=e,this.Et=n}}class mk{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class N_{constructor(){this.At=0,this.Rt=D_(),this.bt=Yt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Ce(),n=Ce(),r=Ce();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:fe()}}),new ku(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=D_()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class D6{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=ei(),this.qt=O_(),this.Ut=new St(Le)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const s=i.target;if(Cg(s))if(r===0){const o=new oe(s.path);this.Qt(n,o,Ht.newNoDocument(o,me.min()))}else Ue(r===1);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Cg(a.target)){const l=new oe(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,Ht.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=Ce();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new ch(e,n,this.Ut,this.Lt,r);return this.Lt=ei(),this.qt=O_(),this.Ut=new St(Le),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new N_,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new St(Le),this.qt=this.qt.insert(e,n)),n}zt(e){const n=this.Yt(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new N_),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function O_(){return new Et(oe.comparator)}function D_(){return new Et(oe.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),M6=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),$6=(()=>({and:"AND",or:"OR"}))();class U6{constructor(e,n){this.databaseId=e,this.wt=n}}function Od(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gk(t,e){return t.wt?e.toBase64():e.toUint8Array()}function F6(t,e){return Od(t,e.toTimestamp())}function _r(t){return Ue(!!t),me.fromTimestamp(function(e){const n=Ui(e);return new ft(n.seconds,n.nanos)}(t))}function $v(t,e){return function(n){return new Ge(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function yk(t){const e=Ge.fromString(t);return Ue(Sk(e)),e}function bg(t,e){return $v(t.databaseId,e.path)}function Cp(t,e){const n=yk(e);if(n.get(1)!==t.databaseId.projectId)throw new se(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(vk(n))}function kg(t,e){return $v(t.databaseId,e)}function V6(t){const e=yk(t);return e.length===4?Ge.emptyPath():vk(e)}function xg(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vk(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function j_(t,e,n){return{name:bg(t,e),fields:n.value.mapValue.fields}}function z6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.wt?(Ue(u===void 0||typeof u=="string"),Yt.fromBase64String(u||"")):(Ue(u===void 0||u instanceof Uint8Array),Yt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?U.UNKNOWN:uk(l.code);return new se(u,l.message||"")}(o);n=new mk(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Cp(t,r.document.name),s=_r(r.document.updateTime),o=r.document.createTime?_r(r.document.createTime):me.min(),a=new ln({mapValue:{fields:r.document.fields}}),l=Ht.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new jc(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Cp(t,r.document),s=r.readTime?_r(r.readTime):me.min(),o=Ht.newNoDocument(i,s),a=r.removedTargetIds||[];n=new jc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Cp(t,r.document),s=r.removedTargetIds||[];n=new jc([],s,i,null)}else{if(!("filter"in e))return fe();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new R6(i),o=r.targetId;n=new pk(o,s)}}return n}function B6(t,e){let n;if(e instanceof bu)n={update:j_(t,e.key,e.value)};else if(e instanceof lk)n={delete:bg(t,e.key)};else if(e instanceof Qi)n={update:j_(t,e.key,e.data),updateMask:J6(e.fieldMask)};else{if(!(e instanceof x6))return fe();n={verify:bg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ql)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Yl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Xl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Nd)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:F6(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:fe()}(t,e.precondition)),n}function H6(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?_r(r.updateTime):_r(i);return s.isEqual(me.min())&&(s=_r(i)),new I6(s,r.transformResults||[])}(n,e))):[]}function q6(t,e){return{documents:[kg(t,e.path)]}}function W6(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=kg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=kg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return _k(Cr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:to(c.field),direction:Q6(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.wt||sh(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function K6(t){let e=V6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ue(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=wk(c);return d instanceof Cr&&r6(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new cl(no(d.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,sh(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,f=c.values||[];return new Ld(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,f=c.values||[];return new Ld(f,d)}(n.endAt)),p6(e,i,o,s,a,"F",l,u)}function G6(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fe()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function wk(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=no(e.unaryFilter.field);return vt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=no(e.unaryFilter.field);return vt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=no(e.unaryFilter.field);return vt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=no(e.unaryFilter.field);return vt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(t):t.fieldFilter!==void 0?function(e){return vt.create(no(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Cr.create(e.compositeFilter.filters.map(n=>wk(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return fe()}}(e.compositeFilter.op))}(t):fe()}function Q6(t){return j6[t]}function Y6(t){return M6[t]}function X6(t){return $6[t]}function to(t){return{fieldPath:t.canonicalString()}}function no(t){return qt.fromServerFormat(t.fieldPath)}function _k(t){return t instanceof vt?function(e){if(e.op==="=="){if(C_(e.value))return{unaryFilter:{field:to(e.field),op:"IS_NAN"}};if(E_(e.value))return{unaryFilter:{field:to(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(C_(e.value))return{unaryFilter:{field:to(e.field),op:"IS_NOT_NAN"}};if(E_(e.value))return{unaryFilter:{field:to(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(e.field),op:Y6(e.op),value:e.value}}}(t):t instanceof Cr?function(e){const n=e.getFilters().map(r=>_k(r));return n.length===1?n[0]:{compositeFilter:{op:X6(e.op),filters:n}}}(t):fe()}function J6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Sk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&b6(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=dl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=dl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fk();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=ok(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Go(this.mutations,e.mutations,(n,r)=>A_(n,r))&&Go(this.baseMutations,e.baseMutations,(n,r)=>A_(n,r))}}class Uv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length);let i=L6;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Uv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,r,i,s=me.min(),o=me.min(),a=Yt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e){this.ie=e}}function n9(t){const e=K6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(){this.Je=new i9}addToCollectionParentIndex(e,n){return this.Je.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve($i.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve($i.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class i9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new St(Ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new St(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Jo(0)}static vn(){return new Jo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(){this.changes=new fa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&dl(r.mutation,i,jn.empty(),ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const i=hs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Wa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=hs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ei();const o=fl(),a=fl();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Qi)?s=s.insert(u.key,u):c!==void 0&&(o.set(u.key,c.mutation.getFieldMask()),dl(c.mutation,u,c.mutation.getFieldMask(),ft.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new o9(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=fl();let i=new Et((o,a)=>o-a),s=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||jn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Ce()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=fk();c.forEach(f=>{if(!s.has(f)){const p=ok(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return oe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):y6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(hs());let a=-1,l=s;return o.next(u=>z.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?z.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ce())).next(c=>({batchId:a,changes:dk(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=Wa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Wa();return this.indexManager.getCollectionParents(e,i).next(o=>z.forEach(o,a=>{const l=function(u,c){return new oh(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,Ht.newInvalidDocument(u)))});let o=Wa();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&dl(u.mutation,l,jn.empty(),ft.now()),Mv(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return z.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:_r(r.createTime)}),z.resolve()}getNamedQuery(e,n){return z.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:n9(r.bundledQuery),readTime:_r(r.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(){this.overlays=new Et(oe.comparator),this.es=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hs();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.oe(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=hs(),s=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Et((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=hs(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=hs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return z.resolve(a)}oe(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new e9(n,r));let s=this.es.get(n);s===void 0&&(s=Ce(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(){this.ns=new St(Tt.ss),this.rs=new St(Tt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new Tt(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new oe(new Ge([])),r=new Tt(n,e),i=new Tt(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new oe(new Ge([])),r=new Tt(n,e),i=new Tt(n,e+1);let s=Ce();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Tt(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return oe.comparator(e.key,n.key)||Le(e._s,n._s)}static os(e,n){return Le(e._s,n._s)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new St(Tt.ss)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Z6(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),i=new Tt(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new St(Le);return n.forEach(i=>{const s=new Tt(i,0),o=new Tt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),z.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;oe.isDocumentKey(s)||(s=s.child(""));const o=new Tt(new oe(s),0);let a=new St(Le);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},o),z.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ue(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return z.forEach(n.mutations,i=>{const s=new Tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new Tt(n,0),i=this.gs.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.Es=e,this.docs=new Et(oe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=ei();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ht.newInvalidDocument(i))}),z.resolve(r)}getAllFromCollection(e,n,r){let i=ei();const s=new oe(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||Y3(Q3(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,i){fe()}As(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new f9(this)}getSize(e){return z.resolve(this.size)}}class f9 extends s9{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e){this.persistence=e,this.Rs=new fa(n=>Ov(n),Dv),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Fv,this.targetCount=0,this.vs=Jo.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),z.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Jo(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Dn(n),z.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Lv(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new h9(this),this.indexManager=new r9,this.remoteDocumentCache=function(r){return new d9(r)}(r=>this.referenceDelegate.xs(r)),this.yt=new t9(n),this.Ns=new l9(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new u9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new c9(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const i=new m9(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return z.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class m9 extends J3{constructor(e){super(),this.currentSequenceNumber=e}}class Vv{constructor(e){this.persistence=e,this.Fs=new Fv,this.$s=null}static Bs(e){return new Vv(e)}get Ls(){if(this.$s)return this.$s;throw fe()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),z.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Ls,r=>{const i=oe.fromPath(r);return this.qs(e,i).next(s=>{s||n.removeEntry(i,me.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return z.or([()=>z.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=Ce(),i=Ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new zv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(x_(n))return z.resolve(null);let r=Zr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Tg(n,null,"F"),r=Zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ce(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(e,Tg(n,null,"F")):this.Bi(e,u,n,l)}))})))}Oi(e,n,r,i){return x_(n)||i.isEqual(me.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(w_()<=Pe.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ig(n)),this.Bi(e,o,n,G3(i,-1)))})}Fi(e,n){let r=new St(Zb(e));return n.forEach((i,s)=>{Mv(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return w_()<=Pe.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Ig(n)),this.Ni.getDocumentsMatchingQuery(e,n,$i.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new Et(Le),this.Ui=new fa(s=>Ov(s),Dv),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a9(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function v9(t,e,n,r){return new y9(t,e,n,r)}async function Ek(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ce();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function w9(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let f=z.resolve();return d.forEach(p=>{f=f.next(()=>u.getEntry(a,p)).next(y=>{const m=l.docVersions.get(p);Ue(m!==null),y.version.compareTo(m)<0&&(c.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),u.addEntry(y)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Ce();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Ck(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function _9(t,e){const n=we(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(d)?p=p.withResumeToken(Yt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(y,m,S){return y.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(f,p,c)&&a.push(n.Cs.updateTargetData(s,p))});let l=ei(),u=Ce();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(S9(s,o,e.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!r.isEqual(me.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(d=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.qi=i,s))}function S9(t,e,n){let r=Ce(),i=Ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ei();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function E9(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function C9(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new _s(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}async function Rg(t,e,n){const r=we(t),i=r.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Iu(o))throw o;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}function M_(t,e,n){const r=we(t);let i=me.min(),s=Ce();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=we(a),d=c.Ui.get(u);return d!==void 0?z.resolve(c.qi.get(d)):c.Cs.getTargetData(l,u)}(r,o,Zr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:me.min(),n?s:Ce())).next(a=>(T9(r,v6(e),a),{documents:a,Hi:s})))}function T9(t,e,n){let r=t.Ki.get(e)||me.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}class $_{constructor(){this.activeTargetIds=hk()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class I9{constructor(){this.Lr=new $_,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new $_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);ne("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(ne("RestConnection","Received: ",l),l),l=>{throw _g("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+da,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){const r=k9[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new $3;a.setWithCredentials(!0),a.listenOnce(D3.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Ep.NO_ERROR:const u=a.getResponseJson();ne("Connection","XHR received:",JSON.stringify(u)),s(u);break;case Ep.TIMEOUT:ne("Connection",'RPC "'+e+'" timed out'),o(new se(U.DEADLINE_EXCEEDED,"Request time out"));break;case Ep.HTTP_ERROR:const c=a.getStatus();if(ne("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const p=function(y){const m=y.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(m)>=0?m:U.UNKNOWN}(f.status);o(new se(p,f.message))}else o(new se(U.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new se(U.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{ne("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=N3(),o=O3(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new M3({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=i.join("");ne("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,d=!1;const f=new x9({Hr:y=>{d?ne("Connection","Not sending because WebChannel is closed:",y):(c||(ne("Connection","Opening WebChannel transport."),u.open(),c=!0),ne("Connection","WebChannel sending:",y),u.send(y))},Jr:()=>u.close()}),p=(y,m,S)=>{y.listen(m,v=>{try{S(v)}catch(g){setTimeout(()=>{throw g},0)}})};return p(u,ac.EventType.OPEN,()=>{d||ne("Connection","WebChannel transport opened.")}),p(u,ac.EventType.CLOSE,()=>{d||(d=!0,ne("Connection","WebChannel transport closed"),f.io())}),p(u,ac.EventType.ERROR,y=>{d||(d=!0,_g("Connection","WebChannel transport errored:",y),f.io(new se(U.UNAVAILABLE,"The operation could not be completed")))}),p(u,ac.EventType.MESSAGE,y=>{var m;if(!d){const S=y.data[0];Ue(!!S);const v=S,g=v.error||((m=v[0])===null||m===void 0?void 0:m.error);if(g){ne("Connection","WebChannel received error:",g);const w=g.status;let _=function(I){const b=lt[I];if(b!==void 0)return uk(b)}(w),C=g.message;_===void 0&&(_=U.INTERNAL,C="Unknown error status: "+w+" with message "+g.message),d=!0,f.io(new se(_,C)),u.close()}else ne("Connection","WebChannel received:",S),f.ro(S)}}),p(o,j3.STAT_EVENT,y=>{y.stat===y_.PROXY?ne("Connection","Detected buffering proxy"):y.stat===y_.NOPROXY&&ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.so()},0),f}}function Tp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(t){return new U6(t,!0)}class Tk{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,n,r,i,s,o,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Tk(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Jr(n.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new se(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class A9 extends Ik{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=z6(this.yt,e),r=function(i){if(!("targetChange"in i))return me.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?me.min():s.readTime?_r(s.readTime):me.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=xg(this.yt),n.addTarget=function(i,s){let o;const a=s.target;return o=Cg(a)?{documents:q6(i,a)}:{query:W6(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=gk(i,s.resumeToken):s.snapshotVersion.compareTo(me.min())>0&&(o.readTime=Od(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=G6(this.yt,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=xg(this.yt),n.removeTarget=e,this.Bo(n)}}class P9 extends Ik{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=H6(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.Zo(r,n)}return Ue(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=xg(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>B6(this.yt,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new se(U.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(U.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(U.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class N9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Jr(n),this.ou=!1):ne("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(o=>{r.enqueueAndForget(async()=>{qs(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=we(a);l._u.add(4),await xu(l),l.gu.set("Unknown"),l._u.delete(4),await fh(l)}(this))})}),this.gu=new N9(r,i)}}async function fh(t){if(qs(t))for(const e of t.wu)await e(!0)}async function xu(t){for(const e of t.wu)await e(!1)}function bk(t,e){const n=we(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),qv(n)?Hv(n):ha(n).ko()&&Bv(n,e))}function kk(t,e){const n=we(t),r=ha(n);n.du.delete(e),r.ko()&&xk(n,e),n.du.size===0&&(r.ko()?r.Fo():qs(n)&&n.gu.set("Unknown"))}function Bv(t,e){t.yu.Ot(e.targetId),ha(t).zo(e)}function xk(t,e){t.yu.Ot(e),ha(t).Ho(e)}function Hv(t){t.yu=new D6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),ha(t).start(),t.gu.uu()}function qv(t){return qs(t)&&!ha(t).No()&&t.du.size>0}function qs(t){return we(t)._u.size===0}function Rk(t){t.yu=void 0}async function D9(t){t.du.forEach((e,n)=>{Bv(t,e)})}async function j9(t,e){Rk(t),qv(t)?(t.gu.hu(e),Hv(t)):t.gu.set("Unknown")}async function M9(t,e,n){if(t.gu.set("Online"),e instanceof mk&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.du.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.du.delete(o),r.yu.removeTarget(o))}(t,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dd(t,r)}else if(e instanceof jc?t.yu.Kt(e):e instanceof pk?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(me.min()))try{const r=await Ck(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.du.get(l);u&&i.du.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(Yt.EMPTY_BYTE_STRING,l.snapshotVersion)),xk(i,a);const u=new _s(l.target,a,1,l.sequenceNumber);Bv(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),await Dd(t,r)}}async function Dd(t,e,n){if(!Iu(e))throw e;t._u.add(1),await xu(t),t.gu.set("Offline"),n||(n=()=>Ck(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await fh(t)})}function Ak(t,e){return e().catch(n=>Dd(t,n,e))}async function hh(t){const e=we(t),n=Fi(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;$9(e);)try{const i=await E9(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,U9(e,i)}catch(i){await Dd(e,i)}Pk(e)&&Lk(e)}function $9(t){return qs(t)&&t.fu.length<10}function U9(t,e){t.fu.push(e);const n=Fi(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function Pk(t){return qs(t)&&!Fi(t).No()&&t.fu.length>0}function Lk(t){Fi(t).start()}async function F9(t){Fi(t).eu()}async function V9(t){const e=Fi(t);for(const n of t.fu)e.Xo(n.mutations)}async function z9(t,e,n){const r=t.fu.shift(),i=Uv.from(r,e,n);await Ak(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await hh(t)}async function B9(t,e){e&&Fi(t).Yo&&await async function(n,r){if(i=r.code,A6(i)&&i!==U.ABORTED){const s=n.fu.shift();Fi(n).Mo(),await Ak(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await hh(n)}var i}(t,e),Pk(t)&&Lk(t)}async function F_(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const r=qs(n);n._u.add(3),await xu(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await fh(n)}async function H9(t,e){const n=we(t);e?(n._u.delete(2),await fh(n)):e||(n._u.add(2),await xu(n),n.gu.set("Unknown"))}function ha(t){return t.pu||(t.pu=function(e,n,r){const i=we(e);return i.su(),new A9(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:D9.bind(null,t),Zr:j9.bind(null,t),Wo:M9.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),qv(t)?Hv(t):t.gu.set("Unknown")):(await t.pu.stop(),Rk(t))})),t.pu}function Fi(t){return t.Iu||(t.Iu=function(e,n,r){const i=we(e);return i.su(),new P9(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:F9.bind(null,t),Zr:B9.bind(null,t),tu:V9.bind(null,t),Zo:z9.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await hh(t)):(await t.Iu.stop(),t.fu.length>0&&(ne("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Wv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kv(t,e){if(Jr("AsyncQueue",`${e}: ${t}`),Iu(t))return new se(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=Wa(),this.sortedSet=new Et(this.comparator)}static emptySet(e){return new Lo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Lo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(){this.Tu=new Et(oe.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):fe():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Zo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Zo(e,n,Lo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this.Au=void 0,this.listeners=[]}}class W9{constructor(){this.queries=new fa(e=>Jb(e),ah),this.onlineState="Unknown",this.Ru=new Set}}async function Nk(t,e){const n=we(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new q9),i)try{s.Au=await n.onListen(r)}catch(o){const a=Kv(o,`Initialization of query '${Ig(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&Gv(n)}async function Ok(t,e){const n=we(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function K9(t,e){const n=we(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&Gv(n)}function G9(t,e,n){const r=we(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Gv(t){t.Ru.forEach(e=>{e.next()})}class Dk{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Zo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=Zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.key=e}}class Mk{constructor(e){this.key=e}}class Q9{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ce(),this.mutatedKeys=Ce(),this.Gu=Zb(e),this.Qu=new Lo(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new V_,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),p=Mv(this.query,d)?d:null,y=!!f&&this.mutatedKeys.has(f.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let S=!1;f&&p?f.data.isEqual(p.data)?y!==m&&(r.track({type:3,doc:p}),S=!0):this.Hu(f,p)||(r.track({type:2,doc:p}),S=!0,(l&&this.Gu(p,l)>0||u&&this.Gu(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),S=!0):f&&!p&&(r.track({type:1,doc:f}),S=!0,(l||u)&&(a=!0)),S&&(p?(o=o.add(p),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((u,c)=>function(d,f){const p=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return p(d)-p(f)}(u.type,c.type)||this.Gu(u.doc,c.doc)),this.Ju(r);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new Zo(this.query,e.Qu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new V_,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Ce(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new Mk(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new jk(r))}),n}tc(e){this.qu=e.Hi,this.Ku=Ce();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Zo.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class Y9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class X9{constructor(e){this.key=e,this.nc=!1}}class J9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new fa(a=>Jb(a),ah),this.rc=new Map,this.oc=new Set,this.uc=new Et(oe.comparator),this.cc=new Map,this.ac=new Fv,this.hc={},this.lc=new Map,this.fc=Jo.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function Z9(t,e){const n=u8(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=await C9(n.localStore,Zr(e));n.isPrimaryClient&&bk(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await e8(n,e,r,a==="current",o.resumeToken)}return i}async function e8(t,e,n,r,i){t._c=(d,f,p)=>async function(y,m,S,v){let g=m.view.Wu(S);g.$i&&(g=await M_(y.localStore,m.query,!1).then(({documents:C})=>m.view.Wu(C,g)));const w=v&&v.targetChanges.get(m.targetId),_=m.view.applyChanges(g,y.isPrimaryClient,w);return B_(y,m.targetId,_.Xu),_.snapshot}(t,d,f,p);const s=await M_(t.localStore,e,!0),o=new Q9(e,s.Hi),a=o.Wu(s.documents),l=ku.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);B_(t,n,u.Xu);const c=new Y9(e,n,o);return t.ic.set(e,c),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),u.snapshot}async function t8(t,e){const n=we(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!ah(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Rg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),kk(n.remoteStore,r.targetId),Ag(n,r.targetId)}).catch(Tu)):(Ag(n,r.targetId),await Rg(n.localStore,r.targetId,!0))}async function n8(t,e,n){const r=c8(t);try{const i=await function(s,o){const a=we(s),l=ft.now(),u=o.reduce((f,p)=>f.add(p.key),Ce());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=ei(),y=Ce();return a.Gi.getEntries(f,u).next(m=>{p=m,p.forEach((S,v)=>{v.isValidDocument()||(y=y.add(S))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(m=>{c=m;const S=[];for(const v of o){const g=k6(v,c.get(v.key).overlayedDocument);g!=null&&S.push(new Qi(v.key,g,Xb(g.value.mapValue),er.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,S,o)}).next(m=>{d=m;const S=m.applyToLocalDocumentSet(c,y);return a.documentOverlayCache.saveOverlays(f,m.batchId,S)})}).then(()=>({batchId:d.batchId,changes:dk(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new Et(Le)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Ru(r,i.changes),await hh(r.remoteStore)}catch(i){const s=Kv(i,"Failed to persist write");n.reject(s)}}async function $k(t,e){const n=we(t);try{const r=await _9(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?Ue(o.nc):i.removedDocuments.size>0&&(Ue(o.nc),o.nc=!1))}),await Ru(n,r,e)}catch(r){await Tu(r)}}function z_(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=we(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.bu(o)&&(l=!0)}),l&&Gv(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function r8(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new Et(oe.comparator);o=o.insert(s,Ht.newNoDocument(s,me.min()));const a=Ce().add(s),l=new ch(me.min(),new Map,new St(Le),o,a);await $k(r,l),r.uc=r.uc.remove(s),r.cc.delete(e),Qv(r)}else await Rg(r.localStore,e,!1).then(()=>Ag(r,e,n)).catch(Tu)}async function i8(t,e){const n=we(t),r=e.batch.batchId;try{const i=await w9(n.localStore,e);Fk(n,r,null),Uk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ru(n,i)}catch(i){await Tu(i)}}async function s8(t,e,n){const r=we(t);try{const i=await function(s,o){const a=we(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(Ue(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);Fk(r,e,n),Uk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ru(r,i)}catch(i){await Tu(i)}}function Uk(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function Fk(t,e,n){const r=we(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Ag(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||Vk(t,r)})}function Vk(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(kk(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),Qv(t))}function B_(t,e,n){for(const r of n)r instanceof jk?(t.ac.addReference(r.key,e),o8(t,r)):r instanceof Mk?(ne("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||Vk(t,r.key)):fe()}function o8(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(ne("SyncEngine","New document in limbo: "+n),t.oc.add(r),Qv(t))}function Qv(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new oe(Ge.fromString(e)),r=t.fc.next();t.cc.set(r,new X9(n)),t.uc=t.uc.insert(n,r),bk(t.remoteStore,new _s(Zr(jv(n.path)),r,2,Lv.at))}}async function Ru(t,e,n){const r=we(t),i=[],s=[],o=[];r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=zv.Ci(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.sc.Wo(i),await async function(a,l){const u=we(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>z.forEach(l,d=>z.forEach(d.Si,f=>u.persistence.referenceDelegate.addReference(c,d.targetId,f)).next(()=>z.forEach(d.Di,f=>u.persistence.referenceDelegate.removeReference(c,d.targetId,f)))))}catch(c){if(!Iu(c))throw c;ne("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const f=u.qi.get(d),p=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(p);u.qi=u.qi.insert(d,y)}}}(r.localStore,s))}async function a8(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const r=await Ek(n.localStore,e);n.currentUser=e,function(i,s){i.lc.forEach(o=>{o.forEach(a=>{a.reject(new se(U.CANCELLED,s))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ru(n,r.ji)}}function l8(t,e){const n=we(t),r=n.cc.get(e);if(r&&r.nc)return Ce().add(r.key);{let i=Ce();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function u8(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$k.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r8.bind(null,e),e.sc.Wo=K9.bind(null,e.eventManager),e.sc.wc=G9.bind(null,e.eventManager),e}function c8(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s8.bind(null,e),e}class d8{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=dh(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return v9(this.persistence,new g9,e.initialUser,this.yt)}yc(e){return new p9(Vv.Bs,this.yt)}gc(e){return new I9}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class f8{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>z_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=a8.bind(null,this.syncEngine),await H9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new W9}createDatastore(e){const n=dh(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new R9(i));var i;return function(s,o,a,l){return new L9(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>z_(this.syncEngine,a,0),o=U_.C()?new U_:new b9,new O9(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new J9(r,i,s,o,a,l);return u&&(c.dc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=we(e);ne("RemoteStore","RemoteStore shutting down."),n._u.add(5),await xu(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(t,e,n){if(!n)throw new se(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function h8(t,e,n,r){if(e===!0&&r===!0)throw new se(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function H_(t){if(!oe.isDocumentKey(t))throw new se(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function q_(t){if(oe.isDocumentKey(t))throw new se(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function Tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yv(t);throw new se(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=new Map;class K_{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new se(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,h8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new se(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K_(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new U3;switch(n.type){case"gapi":const r=n.client;return new B3(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new se(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=W_.get(e);n&&(ne("ComponentProvider","Removing Datastore"),W_.delete(e),n.terminate())}(this),Promise.resolve()}}function p8(t,e,n,r={}){var i;const s=(t=Tr(t,ph))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&_g("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=zt.MOCK_USER;else{o=LT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new se(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new zt(l)}t._authCredentials=new F3(new Fb(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}}class mh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mh(this.firestore,e,this._query)}}class Li extends mh{constructor(e,n,r){super(e,n,jv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new oe(e))}withConverter(e){return new Li(this.firestore,e,this._path)}}function Xv(t,e,...n){if(t=Qe(t),zk("collection","path",e),t instanceof ph){const r=Ge.fromString(e,...n);return q_(r),new Li(t,null,r)}{if(!(t instanceof mn||t instanceof Li))throw new se(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return q_(r),new Li(t.firestore,null,r)}}function ir(t,e,...n){if(t=Qe(t),arguments.length===1&&(e=Vb.R()),zk("doc","path",e),t instanceof ph){const r=Ge.fromString(e,...n);return H_(r),new mn(t,null,new oe(r))}{if(!(t instanceof mn||t instanceof Li))throw new se(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return H_(r),new mn(t.firestore,t instanceof Li?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zt.UNAUTHENTICATED,this.clientId=Vb.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ne("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Kv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function g8(t,e){t.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Ek(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function y8(t,e){t.asyncQueue.verifyOperationInProgress();const n=await v8(t);ne("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>F_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>F_(e.remoteStore,s)),t.onlineComponents=e}async function v8(t){return t.offlineComponents||(ne("FirestoreClient","Using default OfflineComponentProvider"),await g8(t,new d8)),t.offlineComponents}async function Hk(t){return t.onlineComponents||(ne("FirestoreClient","Using default OnlineComponentProvider"),await y8(t,new f8)),t.onlineComponents}function w8(t){return Hk(t).then(e=>e.syncEngine)}async function qk(t){const e=await Hk(t),n=e.eventManager;return n.onListen=Z9.bind(null,e.syncEngine),n.onUnlisten=t8.bind(null,e.syncEngine),n}function _8(t,e,n={}){const r=new zr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Bk({next:d=>{s.enqueueAndForget(()=>Ok(i,c));const f=d.docs.has(o);!f&&d.fromCache?l.reject(new se(U.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&a&&a.source==="server"?l.reject(new se(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new Dk(jv(o.path),u,{includeMetadataChanges:!0,Nu:!0});return Nk(i,c)}(await qk(t),t.asyncQueue,e,n,r)),r.promise}function S8(t,e,n={}){const r=new zr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Bk({next:d=>{s.enqueueAndForget(()=>Ok(i,c)),d.fromCache&&a.source==="server"?l.reject(new se(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new Dk(o,u,{includeMetadataChanges:!0,Nu:!0});return Nk(i,c)}(await qk(t),t.asyncQueue,e,n,r)),r.promise}class E8{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Tk(this,"async_queue_retry"),this.Wc=()=>{const n=Tp();n&&ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=Tp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=Tp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new zr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!Iu(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Jr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=Wv.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&fe()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}class pa extends ph{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new E8,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Wk(this),this._firestoreClient.terminate()}}function C8(t,e){const n=typeof t=="object"?t:$f(),r=typeof t=="string"?t:e||"(default)",i=Wi(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=AT("firestore");s&&p8(i,...s)}return i}function Jv(t){return t._firestoreClient||Wk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Wk(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new Z3(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new m8(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ea(Yt.fromBase64String(e))}catch(n){throw new se(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ea(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8=/^__.*__$/;class I8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new bu(e,this.data,n,this.fieldTransforms)}}class Kk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Gk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class e1{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new e1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return jd(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(Gk(this.sa)&&T8.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class b8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||dh(e)}da(e,n,r,i=!1){return new e1({sa:e,methodName:n,fa:r,path:qt.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function t1(t){const e=t._freezeSettings(),n=dh(t._databaseId);return new b8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Qk(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);r1("Data must be an object, but it was:",o,r);const a=Yk(r,o);let l,u;if(s.merge)l=new jn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=Pg(e,d,n);if(!o.contains(f))throw new se(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Jk(c,f)||c.push(f)}l=new jn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new I8(new ln(a),l,u)}class vh extends yh{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vh}}class n1 extends yh{_toFieldTransform(e){return new C6(e.path,new Ql)}isEqual(e){return e instanceof n1}}function k8(t,e,n,r){const i=t.da(1,e,n);r1("Data must be an object, but it was:",i,r);const s=[],o=ln.empty();Hs(r,(l,u)=>{const c=i1(e,l,n);u=Qe(u);const d=i.ca(c);if(u instanceof vh)s.push(c);else{const f=wh(u,d);f!=null&&(s.push(c),o.set(c,f))}});const a=new jn(s);return new Kk(o,a,i.fieldTransforms)}function x8(t,e,n,r,i,s){const o=t.da(1,e,n),a=[Pg(e,r,n)],l=[i];if(s.length%2!=0)throw new se(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Pg(e,s[f])),l.push(s[f+1]);const u=[],c=ln.empty();for(let f=a.length-1;f>=0;--f)if(!Jk(u,a[f])){const p=a[f];let y=l[f];y=Qe(y);const m=o.ca(p);if(y instanceof vh)u.push(p);else{const S=wh(y,m);S!=null&&(u.push(p),c.set(p,S))}}const d=new jn(u);return new Kk(c,d,o.fieldTransforms)}function wh(t,e){if(Xk(t=Qe(t)))return r1("Unsupported field value:",e,t),Yk(t,e);if(t instanceof yh)return function(n,r){if(!Gk(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=wh(o,r.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Qe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return _6(r.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=ft.fromDate(n);return{timestampValue:Od(r.yt,i)}}if(n instanceof ft){const i=new ft(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Od(r.yt,i)}}if(n instanceof Zv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ea)return{bytesValue:gk(r.yt,n._byteString)};if(n instanceof mn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:$v(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${Yv(n)}`)}(t,e)}function Yk(t,e){const n={};return zb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(t,(r,i)=>{const s=wh(i,e.ra(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Xk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof Zv||t instanceof ea||t instanceof mn||t instanceof yh)}function r1(t,e,n){if(!Xk(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Yv(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function Pg(t,e,n){if((e=Qe(e))instanceof gh)return e._internalPath;if(typeof e=="string")return i1(t,e);throw jd("Field path arguments must be of type string or ",t,!1,void 0,n)}const R8=new RegExp("[~\\*/\\[\\]]");function i1(t,e,n){if(e.search(R8)>=0)throw jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gh(...e.split("."))._internalPath}catch{throw jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new se(U.INVALID_ARGUMENT,a+t+l)}function Jk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new A8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ex("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class A8 extends Zk{data(){return super.data()}}function ex(t,e){return typeof e=="string"?i1(t,e):e instanceof gh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L8{convertValue(e,n="none"){switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw fe()}}convertObject(e,n){const r={};return Hs(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Zv(ut(e.latitude),ut(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const n=Ui(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);Ue(Sk(r));const i=new Wl(r.get(1),r.get(3)),s=new oe(r.popFirst(5));return i.isEqual(n)||Jr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nx extends Zk{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ex("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Mc extends nx{data(e={}){return super.data(e)}}class N8{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ka(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Mc(this._firestore,this._userDataWriter,r.key,r,new Ka(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Mc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ka(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Mc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ka(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:O8(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function O8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){t=Tr(t,mn);const e=Tr(t.firestore,pa);return _8(Jv(e),t._key).then(n=>j8(e,t,n))}class rx extends L8{constructor(e){super(),this.firestore=e}convertBytes(e){return new ea(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,n)}}function ix(t){t=Tr(t,mh);const e=Tr(t.firestore,pa),n=Jv(e),r=new rx(e);return P8(t._query),S8(n,t._query).then(i=>new N8(e,r,t,i))}function s1(t,e,n){t=Tr(t,mn);const r=Tr(t.firestore,pa),i=tx(t.converter,e,n);return o1(r,[Qk(t1(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,er.none())])}function _h(t,e,n,...r){t=Tr(t,mn);const i=Tr(t.firestore,pa),s=t1(i);let o;return o=typeof(e=Qe(e))=="string"||e instanceof gh?x8(s,"updateDoc",t._key,e,n,r):k8(s,"updateDoc",t._key,e),o1(i,[o.toMutation(t._key,er.exists(!0))])}function D8(t,e){const n=Tr(t.firestore,pa),r=ir(t),i=tx(t.converter,e);return o1(n,[Qk(t1(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,er.exists(!1))]).then(()=>r)}function o1(t,e){return function(n,r){const i=new zr;return n.asyncQueue.enqueueAndForget(async()=>n8(await w8(n),r,i)),i.promise}(Jv(t),e)}function j8(t,e,n){const r=n.docs.get(e._key),i=new rx(t);return new nx(t,i,e._key,r,new Ka(n.hasPendingWrites,n.fromCache),e.converter)}function a1(){return new n1("serverTimestamp")}(function(t,e=!0){(function(n){da=n})(sa),rr(new Un("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new pa(new V3(n.getProvider("auth-internal")),new q3(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new se(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),pn(v_,"3.8.0",t),pn(v_,"3.8.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="firebasestorage.googleapis.com",ox="storageBucket",M8=2*60*1e3,$8=10*60*1e3,U8=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et extends zn{constructor(e,n,r=0){super(Ip(e),`Firebase Storage: ${n} (${Ip(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ip(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function Ip(t){return"storage/"+t}function l1(){const t="An unknown error occurred, please check the error payload for server response.";return new et("unknown",t)}function F8(t){return new et("object-not-found","Object '"+t+"' does not exist.")}function V8(t){return new et("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function z8(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new et("unauthenticated",t)}function B8(){return new et("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function H8(t){return new et("unauthorized","User does not have permission to access '"+t+"'.")}function ax(){return new et("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function lx(){return new et("canceled","User canceled the upload/download.")}function q8(t){return new et("invalid-url","Invalid URL '"+t+"'.")}function W8(t){return new et("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function K8(){return new et("no-default-bucket","No default bucket found. Did you set the '"+ox+"' property when initializing the app?")}function ux(){return new et("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function G8(){return new et("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function Q8(){return new et("no-download-url","The given file does not have any download URLs.")}function Y8(t){return new et("unsupported-environment",`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Lg(t){return new et("invalid-argument",t)}function cx(){return new et("app-deleted","The Firebase app was deleted.")}function X8(t){return new et("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hl(t,e){return new et("invalid-format","String does not match format '"+t+"': "+e)}function Pa(t){throw new et("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=vn.makeFromUrl(e,n)}catch{return new vn(e,"")}if(r.path==="")return r;throw W8(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(_){_.path_=decodeURIComponent(_.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),y={bucket:1,path:3},m=n===sx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",v=new RegExp(`^https?://${m}/${i}/${S}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:p,indices:y,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let _=0;_<w.length;_++){const C=w[_],I=C.regex.exec(e);if(I){const b=I[C.indices.bucket];let O=I[C.indices.path];O||(O=""),r=new vn(b,O),C.postModify(r);break}}if(r==null)throw q8(e);return r}}class J8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...S){u||(u=!0,e.apply(null,S))}function d(S){i=setTimeout(()=>{i=null,t(p,l())},S)}function f(){s&&clearTimeout(s)}function p(S,...v){if(u){f();return}if(S){f(),c.call(null,S,...v);return}if(l()||o){f(),c.call(null,S,...v);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let y=!1;function m(S){y||(y=!0,f(),!u&&(i!==null?(S||(a=2),clearTimeout(i),d(0)):S||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function e5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(t){return t!==void 0}function n5(t){return typeof t=="function"}function r5(t){return typeof t=="object"&&!Array.isArray(t)}function Sh(t){return typeof t=="string"||t instanceof String}function G_(t){return u1()&&t instanceof Blob}function u1(){return typeof Blob<"u"&&!FO()}function Q_(t,e,n,r){if(r<e)throw Lg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Lg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function dx(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ss;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ss||(Ss={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,n,r,i,s,o,a,l,u,c,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,y)=>{this.resolve_=p,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new cc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ss.NO_ERROR,l=s.getStatus();if((!a||fx(l,this.additionalRetryCodes_))&&this.retry){const c=s.getErrorCode()===Ss.ABORT;r(!1,new cc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new cc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());t5(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=l1();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?cx():lx();o(l)}else{const l=ax();o(l)}};this.canceled_?n(!1,new cc(!1,null,!0)):this.backoffId_=Z8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&e5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class cc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function s5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function o5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function a5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function l5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function u5(t,e,n,r,i,s,o=!0){const a=dx(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return a5(u,e),s5(u,n),o5(u,s),l5(u,r),new i5(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function d5(...t){const e=c5();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(u1())return new Blob(t);throw new et("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function f5(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t){if(typeof atob>"u")throw Y8("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bp{constructor(e,n){this.data=e,this.contentType=n||null}}function p5(t,e){switch(t){case hr.RAW:return new bp(hx(e));case hr.BASE64:case hr.BASE64URL:return new bp(px(t,e));case hr.DATA_URL:return new bp(g5(e),y5(e))}throw l1()}function hx(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function m5(t){let e;try{e=decodeURIComponent(t)}catch{throw hl(hr.DATA_URL,"Malformed data URL.")}return hx(e)}function px(t,e){switch(t){case hr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw hl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case hr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw hl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=h5(e)}catch(i){throw i.message.includes("polyfill")?i:hl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class mx{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw hl(hr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=v5(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function g5(t){const e=new mx(t);return e.base64?px(hr.BASE64,e.rest):m5(e.rest)}function y5(t){return new mx(t).contentType}function v5(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){let r=0,i="";G_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(G_(this.data_)){const r=this.data_,i=f5(r,e,n);return i===null?null:new yi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new yi(r,!0)}}static getBlob(...e){if(u1()){const n=e.map(r=>r instanceof yi?r.data_:r);return new yi(d5.apply(null,n))}else{const n=e.map(o=>Sh(o)?p5(hr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new yi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t){let e;try{e=JSON.parse(t)}catch{return null}return r5(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function _5(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function yx(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t,e){return e}class Jt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||S5}}let dc=null;function E5(t){return!Sh(t)||t.length<2?t:yx(t)}function vx(){if(dc)return dc;const t=[];t.push(new Jt("bucket")),t.push(new Jt("generation")),t.push(new Jt("metageneration")),t.push(new Jt("name","fullPath",!0));function e(s,o){return E5(o)}const n=new Jt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Jt("size");return i.xform=r,t.push(i),t.push(new Jt("timeCreated")),t.push(new Jt("updated")),t.push(new Jt("md5Hash",null,!0)),t.push(new Jt("cacheControl",null,!0)),t.push(new Jt("contentDisposition",null,!0)),t.push(new Jt("contentEncoding",null,!0)),t.push(new Jt("contentLanguage",null,!0)),t.push(new Jt("contentType",null,!0)),t.push(new Jt("metadata","customMetadata",!0)),dc=t,dc}function C5(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new vn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function T5(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return C5(r,t),r}function wx(t,e,n){const r=gx(e);return r===null?null:T5(t,r,n)}function I5(t,e,n,r){const i=gx(e);if(i===null||!Sh(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,f="/b/"+o(c)+"/o/"+o(d),p=Au(f,n,r),y=dx({alt:"media",token:u});return p+y})[0]}function _x(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class ma{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t){if(!t)throw l1()}function c1(t,e){function n(r,i){const s=wx(t,i,e);return Br(s!==null),s}return n}function b5(t,e){function n(r,i){const s=wx(t,i,e);return Br(s!==null),I5(s,i,t.host,t._protocol)}return n}function Pu(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=B8():i=z8():n.getStatus()===402?i=V8(t.bucket):n.getStatus()===403?i=H8(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Sx(t){const e=Pu(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=F8(t.path)),s.serverResponse=i.serverResponse,s}return n}function k5(t,e,n){const r=e.fullServerUrl(),i=Au(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new ma(i,s,c1(t,n),o);return a.errorHandler=Sx(e),a}function x5(t,e,n){const r=e.fullServerUrl(),i=Au(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new ma(i,s,b5(t,n),o);return a.errorHandler=Sx(e),a}function R5(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Ex(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=R5(null,e)),r}function A5(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let _=0;_<2;_++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=Ex(e,r,i),c=_x(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=yi.getBlob(d,r,f);if(p===null)throw ux();const y={name:u.fullPath},m=Au(s,t.host,t._protocol),S="POST",v=t.maxUploadRetryTime,g=new ma(m,S,c1(t,n),v);return g.urlParams=y,g.headers=o,g.body=p.uploadData(),g.errorHandler=Pu(e),g}class Md{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function d1(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Br(!1)}return Br(!!n&&(e||["active"]).indexOf(n)!==-1),n}function P5(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=Ex(e,r,i),a={name:o.fullPath},l=Au(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=_x(o,n),f=t.maxUploadRetryTime;function p(m){d1(m);let S;try{S=m.getResponseHeader("X-Goog-Upload-URL")}catch{Br(!1)}return Br(Sh(S)),S}const y=new ma(l,u,p,f);return y.urlParams=a,y.headers=c,y.body=d,y.errorHandler=Pu(e),y}function L5(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=d1(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Br(!1)}d||Br(!1);const f=Number(d);return Br(!isNaN(f)),new Md(f,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new ma(n,o,s,a);return l.headers=i,l.errorHandler=Pu(e),l}const Y_=256*1024;function N5(t,e,n,r,i,s,o,a){const l=new Md(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw G8();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,f=d+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const y={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},m=r.slice(d,f);if(m===null)throw ux();function S(_,C){const I=d1(_,["active","final"]),b=l.current+c,O=r.size();let A;return I==="final"?A=c1(e,s)(_,C):A=null,new Md(b,O,I==="final",A)}const v="POST",g=e.maxUploadRetryTime,w=new ma(n,v,S,g);return w.headers=y,w.body=m.uploadData(),w.progressCallback=a||null,w.errorHandler=Pu(t),w}const on={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function kp(t){switch(t){case"running":case"pausing":case"canceling":return on.RUNNING;case"paused":return on.PAUSED;case"success":return on.SUCCESS;case"canceled":return on.CANCELED;case"error":return on.ERROR;default:return on.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e,n,r){if(n5(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class D5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ss.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ss.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ss.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Pa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Pa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class j5 extends D5{initXhr(){this.xhr_.responseType="text"}}function ro(){return new j5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=vx(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(fx(i.status,[]))if(s)i=ax();else{this.sleepTime=Math.max(this.sleepTime*2,U8),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=P5(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ro,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=L5(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,ro,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Y_*this._chunkMultiplier,n=new Md(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=N5(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,ro,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Y_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=k5(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ro,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=A5(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ro,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=lx(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=kp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new O5(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(kp(this._state)){case on.SUCCESS:Xs(this._resolve.bind(null,this.snapshot))();break;case on.CANCELED:case on.ERROR:const n=this._reject;Xs(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(kp(this._state)){case on.RUNNING:case on.PAUSED:e.next&&Xs(e.next.bind(e,this.snapshot))();break;case on.SUCCESS:e.complete&&Xs(e.complete.bind(e))();break;case on.CANCELED:case on.ERROR:e.error&&Xs(e.error.bind(e,this._error))();break;default:e.error&&Xs(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n){this._service=e,n instanceof vn?this._location=n:this._location=vn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ds(e,n)}get root(){const e=new vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yx(this._location.path)}get storage(){return this._service}get parent(){const e=w5(this._location.path);if(e===null)return null;const n=new vn(this._location.bucket,e);return new Ds(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw X8(e)}}function $5(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new M5(t,new yi(e),n)}function U5(t){t._throwIfRoot("getDownloadURL");const e=x5(t.storage,t._location,vx());return t.storage.makeRequestWithTokens(e,ro).then(n=>{if(n===null)throw Q8();return n})}function F5(t,e){const n=_5(t._location.path,e),r=new vn(t._location.bucket,n);return new Ds(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(t){return/^[A-Za-z]+:\/\//.test(t)}function z5(t,e){return new Ds(t,e)}function Cx(t,e){if(t instanceof f1){const n=t;if(n._bucket==null)throw K8();const r=new Ds(n,n._bucket);return e!=null?Cx(r,e):r}else return e!==void 0?F5(t,e):t}function B5(t,e){if(e&&V5(e)){if(t instanceof f1)return z5(t,e);throw Lg("To use ref(service, url), the first argument must be a Storage instance.")}else return Cx(t,e)}function X_(t,e){const n=e==null?void 0:e[ox];return n==null?null:vn.makeFromBucketSpec(n,t)}function H5(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:LT(i,t.app.options.projectId))}class f1{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=sx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=M8,this._maxUploadRetryTime=$8,this._requests=new Set,i!=null?this._bucket=vn.makeFromBucketSpec(i,this._host):this._bucket=X_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vn.makeFromBucketSpec(this._url,e):this._bucket=X_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Q_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Q_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ds(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new J8(cx());{const o=u5(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const J_="@firebase/storage",Z_="0.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="storage";function q5(t,e,n){return t=Qe(t),$5(t,e,n)}function W5(t){return t=Qe(t),U5(t)}function K5(t,e){return t=Qe(t),B5(t,e)}function G5(t=$f(),e){t=Qe(t);const r=Wi(t,Tx).getImmediate({identifier:e}),i=AT("storage");return i&&Q5(r,...i),r}function Q5(t,e,n,r={}){H5(t,e,n,r)}function Y5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new f1(n,r,i,e,sa)}function X5(){rr(new Un(Tx,Y5,"PUBLIC").setMultipleInstances(!0)),pn(J_,Z_,""),pn(J_,Z_,"esm2017")}X5();const J5={apiKey:"AIzaSyCp1genoyHX34BgerJeoNIDKJNp2H3Y2Rc",authDomain:"amelianceworship-d6e23.firebaseapp.com",projectId:"amelianceworship-d6e23",storageBucket:"amelianceworship-d6e23.appspot.com",messagingSenderId:"268005856332",appId:"1:268005856332:web:ba2da910ba7dec2a1350e9",measurementId:"G-28X8EC3EV9"},Z5=jT(J5),ga=y4(),eU=G5();P$(Z5);const tU=new Or,kn=C8();async function nU({email:t,password:e}){try{return{user:(await Yj(ga,t,e)).user,status:"success"}}catch(n){throw new Error(pe(n))}}function rU(){const t=ga.currentUser;if(t!==null)return{user:t,status:"success"};throw new Error(pe("Can't find user auth!"))}async function iU({email:t,password:e}){try{return{user:(await Xj(ga,t,e)).user,status:"success"}}catch(n){throw new Error(pe(n))}}async function sU(){try{return{user:(await kM(ga,tU)).user,status:"success"}}catch(t){throw new Error(pe(t))}}function Ws(){return{status:"success"}}function oU(){try{return rM(ga),Ws()}catch(t){throw new Error(pe(t))}}async function aU({user:t,displayName:e,photoURL:n}){try{return await Zj(t,{displayName:e,photoURL:n}),Ws()}catch(r){throw new Error(pe(r))}}const lU={createUser:nU,getCurrentAuthUser:rU,signIn:iU,signInWithGoogle:sU,signOut:oU,updateProfile:aU};async function uU({chatId:t}){const e=ir(kn,"chats",t);try{const n=await Jl(e);if(n.exists())return{messages:n.data().message,status:"success"};await s1(e,{messages:[]});const r=await Jl(e);if(r.exists())return{messages:r.data().message,status:"success"};throw new Error("Can't find group chat!")}catch(n){throw new Error(pe(n))}}const cU={getChatMessages:uU};async function dU(){const t=Xv(kn,"groups");try{return{chatId:(await D8(t,{})).id,status:"success"}}catch(e){throw new Error(pe(e))}}async function Ix({chatId:t}){const e=ir(kn,"groups",t);try{const n=await Jl(e);if(n.exists())return{messages:n.data().messages,status:"success"};throw new Error("Can't find group messages!")}catch(n){throw new Error(pe(n))}}async function fU({text:t,chatId:e,user:n}){var r;try{const i=await Ix({chatId:e});if("error"in i)throw new Error((r=i.error)==null?void 0:r.toString());const o={messageId:i.messages&&i.messages.length>0?i.messages[i.messages.length-1].messageId+1:0,text:t,chatId:e,date:ft.now().toMillis().toString(),user:n};let a;"messages"in i&&i.messages&&i.messages.length>0?a=[...i.messages,o]:a=[o];const l=ir(kn,"groups",e);return await _h(l,{messages:a}),Ws()}catch(i){throw new Error(pe(i))}}async function hU(){const t=Xv(kn,"groups");try{const e=await ix(t),n={};if(e.forEach(r=>{n[r.id]=r.data()}),!W.isObjectEmpty(n))return{groups:n,status:"success"};throw new Error("Can't find any groups!")}catch(e){throw new Error(pe(e))}}async function pU({chatId:t}){const e=ir(kn,"groups",t);try{const n=await Jl(e);if(n.exists())return{info:n.data().info,status:"success"};throw new Error("Can't find group info!")}catch(n){throw new Error(pe(n))}}async function mU({chatId:t,displayName:e,photoURL:n,lastText:r,color:i,ownerId:s,admins:o,type:a}){const l=ir(kn,"groups",t);try{const u={};return t&&(u.chatId=t),e&&(u.displayName=e),n&&(u.photoURL=n),u.date=a1().toString(),r&&(u.lastText=r),i&&(u.color=i),s&&(u.ownerId=s),o&&o.length>0&&(u.admins=o),a&&(u.type=a),await _h(l,{info:u}),Ws()}catch(u){throw new Error(pe(u))}}const gU={addGroup:dU,addMessage:fU,getGroupMessages:Ix,getAllGroups:hU,updateGroupInfo:mU,getGroupInfo:pU};async function yU({uid:t}){const e=ir(kn,"userChats",t);try{return await s1(e,{}),Ws()}catch(n){throw new Error(pe(n))}}function vU({chatId:t,uid:e,targetChatUserId:n,targetChatUserDisplayName:r,targetChatUserPhotoURL:i}){const s=ir(kn,"userChats",e);_h(s,{[`${t}.userInfo`]:{uid:n,displayName:r,photoURL:i},[`${t}.date`]:a1()})}const wU={addUserChatsForUser:yU,updateUserChatInfo:vU};async function _U({uid:t}){const e=ir(kn,"users",t);try{return await s1(e,{uid:t}),Ws()}catch(n){throw new Error(pe(n))}}async function SU(){const t=Xv(kn,"users");try{const e=await ix(t),n={};if(e.forEach(r=>{n[r.id]=r.data()}),!W.isObjectEmpty(n))return{users:n,status:"success"};throw new Error(pe("Can't find any chats!"))}catch(e){throw new Error(pe(e))}}async function EU({userId:t}){const e=ir(kn,"users",t);try{const n=await Jl(e);if(n.exists()){const{user:r}=n.data();return{user:r,status:"success"}}throw new Error("Can't find user!")}catch(n){throw new Error(pe(n))}}async function CU({uid:t,displayName:e,photoURL:n,email:r,role:i,sex:s,lastActiveChatId:o,isOnline:a}){const l=ir(kn,"users",t);try{const u={};return e&&(u.displayName=e),n&&(u.photoURL=n),r&&(u.email=r),i&&(u.role=i),s&&(u.sex=s),o&&(u.lastActiveChatId=o),u.lastVisitDate=a1().toString(),a&&(u.isOnline=a),await _h(l,{user:u}),Ws()}catch(u){throw new Error(pe(u))}}const TU={addUser:_U,getAllUsers:SU,getUserById:EU,updateUser:CU},IU={chats:cU,groups:gU,userChats:wU,users:TU};function bU(...t){return t.sort().join("-")}const kU={combineIds:bU};async function xU({refName:t,file:e}){const n=K5(eU,t);try{return await q5(n,e),{downloadURL:await W5(n),status:"success"}}catch(r){throw new Error(pe(r))}}const RU={uploadFile:xU},AU={auth:lU,database:IU,helpers:kU,storage:RU};function PU(t){return t.table.rows.map(e=>{var n;return(n=e.c.at(0))==null?void 0:n.v})}function LU(t){const e={},{table:n}=t,r=n.rows[0].c.length;for(let i=0;i<r;i++){const s=[];for(let o=1;o<n.rows.length;o++)n.rows[o].c[i]?s[o-1]=n.rows[o].c[i].v??"":s[o]="";e[n.rows[0].c[i].v]=s}return e}const NU={convertDataFromSheetWithFirstRowHeading:LU,convertDataFromOneColumnSheet:PU},OU="https://docs.google.com/spreadsheets/d/";async function DU({sheetId:t,tqx:e="out:json",pageTitle:n="sheet",range:r=""}){const i=new URLSearchParams;e&&i.append("tqx",e),n&&i.append("sheet",n),r&&i.append("range",r);try{const o=await(await fetch(`${OU}${t}/gviz/tq?${i}`)).text();return JSON.parse(o.substring(47).slice(0,-2))}catch(s){throw new Error(pe(s))}}const jU={getSheetData:DU,convertors:NU},MU={firebase:AU,sheets:jU,appsscript:jO};async function $U(){try{return{ip:(await(await fetch("https://api.ipify.org?format=json")).json()).ip,status:"success"}}catch(t){throw new Error(pe(t))}}const UU={fetchIP:$U},An={google:MU,ipify:UU};function eS(t){return h.jsxs(Ye,{width:"108px",height:"28px",viewBox:"0 0 108 28",stroke:"none",...t,children:[h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.48798 6L0 22.8H3.98401L5.48108 19.2H13.2687L14.76 22.8H18.84L11.328 6H7.48798ZM12.0459 16.248L9.38251 9.81833L6.70868 16.248H12.0459Z"}),h.jsx("path",{d:"M17.205 6L22.7009 22.8H26.877L30.6852 11.4169L34.3889 22.8H38.5649L44.0609 6H40.3409L36.4266 17.8967L32.5889 6H28.989L25.0272 17.809L21.2369 6H17.205Z"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M49.495 22.944C48.463 22.944 47.545 22.728 46.741 22.296C45.949 21.864 45.319 21.276 44.851 20.532C44.395 19.776 44.167 18.918 44.167 17.958C44.167 16.986 44.395 16.128 44.851 15.384C45.319 14.628 45.949 14.04 46.741 13.62C47.545 13.188 48.463 12.972 49.495 12.972C50.515 12.972 51.427 13.188 52.231 13.62C53.035 14.04 53.665 14.622 54.121 15.366C54.577 16.11 54.805 16.974 54.805 17.958C54.805 18.918 54.577 19.776 54.121 20.532C53.665 21.276 53.035 21.864 52.231 22.296C51.427 22.728 50.515 22.944 49.495 22.944ZM49.495 20.64C49.963 20.64 50.383 20.532 50.755 20.316C51.127 20.1 51.421 19.794 51.637 19.398C51.853 18.99 51.961 18.51 51.961 17.958C51.961 17.394 51.853 16.914 51.637 16.518C51.421 16.122 51.127 15.816 50.755 15.6C50.383 15.384 49.963 15.276 49.495 15.276C49.027 15.276 48.607 15.384 48.235 15.6C47.863 15.816 47.563 16.122 47.335 16.518C47.119 16.914 47.011 17.394 47.011 17.958C47.011 18.51 47.119 18.99 47.335 19.398C47.563 19.794 47.863 20.1 48.235 20.316C48.607 20.532 49.027 20.64 49.495 20.64Z"}),h.jsx("path",{d:"M60.364 13.116H57.6819V22.8H60.4899V18.228C60.4899 17.304 60.7239 16.626 61.1919 16.194C61.6719 15.75 62.2959 15.528 63.0639 15.528C63.1719 15.528 63.2739 15.534 63.3699 15.546C63.3847 15.546 63.3998 15.5461 63.4152 15.5464L63.4372 15.5469L63.4645 15.5478C63.5353 15.5504 63.6118 15.5558 63.6939 15.564V12.972C62.7819 12.972 62.0079 13.152 61.3719 13.512C60.9645 13.7349 60.6285 14.0267 60.364 14.3875V13.116Z"}),h.jsx("path",{d:"M69.6919 22.944C68.8639 22.944 68.0659 22.848 67.2979 22.656C66.5419 22.452 65.9419 22.2 65.4979 21.9L66.4339 19.884C66.8779 20.16 67.3999 20.388 67.9999 20.568C68.6119 20.736 69.2119 20.82 69.7999 20.82C70.4479 20.82 70.9039 20.742 71.1679 20.586C71.4438 20.43 71.5818 20.214 71.5818 19.938C71.5818 19.71 71.4739 19.542 71.2579 19.434C71.0539 19.314 70.7779 19.224 70.4299 19.164C70.2651 19.1356 70.0923 19.1072 69.9115 19.0789C69.7103 19.0472 69.4991 19.0156 69.2779 18.984C68.8699 18.924 68.4559 18.846 68.0359 18.75C67.6158 18.642 67.2319 18.486 66.8839 18.282C66.5359 18.078 66.2538 17.802 66.0379 17.454C65.8339 17.106 65.7319 16.656 65.7319 16.104C65.7319 15.492 65.9059 14.952 66.2538 14.484C66.6139 14.016 67.1299 13.65 67.8019 13.386C68.4739 13.11 69.2779 12.972 70.2139 12.972C70.8739 12.972 71.5459 13.044 72.2299 13.188C72.9139 13.332 73.4839 13.542 73.9399 13.818L73.0038 15.816C72.5359 15.54 72.0619 15.354 71.5818 15.258C71.1139 15.15 70.6579 15.096 70.2139 15.096C69.5899 15.096 69.1339 15.18 68.8459 15.348C68.5579 15.516 68.4139 15.732 68.4139 15.996C68.4139 16.236 68.5159 16.416 68.7198 16.536C68.9359 16.656 69.2179 16.752 69.5659 16.824C69.9139 16.896 70.2919 16.962 70.6999 17.022C71.1199 17.07 71.5399 17.148 71.9599 17.256C72.3799 17.364 72.7579 17.52 73.0939 17.724C73.4419 17.916 73.7239 18.186 73.9399 18.534C74.1559 18.87 74.2639 19.314 74.2639 19.866C74.2639 20.466 74.0839 21 73.7239 21.468C73.3639 21.924 72.8419 22.284 72.1579 22.548C71.4859 22.812 70.6639 22.944 69.6919 22.944Z"}),h.jsx("path",{d:"M84.9344 13.44C84.3344 13.128 83.6504 12.972 82.8824 12.972C82.0544 12.972 81.3163 13.146 80.6684 13.494C80.3424 13.669 80.0544 13.8821 79.8044 14.133V9.444H76.9964V22.8H79.8044V18.012C79.8044 17.412 79.9004 16.92 80.0923 16.536C80.2964 16.152 80.5724 15.87 80.9203 15.69C81.2804 15.498 81.6824 15.402 82.1264 15.402C82.7504 15.402 83.2303 15.588 83.5663 15.96C83.9144 16.332 84.0884 16.908 84.0884 17.688V22.8H86.8964V17.256C86.8964 16.272 86.7224 15.468 86.3744 14.844C86.0264 14.208 85.5464 13.74 84.9344 13.44Z"}),h.jsx("path",{d:"M91.8457 11.766C91.3297 11.766 90.9097 11.616 90.5857 11.316C90.2617 11.016 90.0997 10.644 90.0997 10.2C90.0997 9.75601 90.2617 9.384 90.5857 9.08401C90.9097 8.784 91.3297 8.634 91.8457 8.634C92.3617 8.634 92.7817 8.77802 93.1057 9.06601C93.4297 9.34201 93.5917 9.702 93.5917 10.146C93.5917 10.614 93.4297 11.004 93.1057 11.316C92.7937 11.616 92.3737 11.766 91.8457 11.766Z"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M100.438 22.404C101.05 22.764 101.764 22.944 102.58 22.944C103.492 22.944 104.308 22.74 105.028 22.332C105.76 21.924 106.336 21.348 106.756 20.604C107.188 19.86 107.404 18.978 107.404 17.958C107.404 16.95 107.188 16.074 106.756 15.33C106.336 14.586 105.76 14.01 105.028 13.602C104.308 13.182 103.492 12.972 102.58 12.972C101.728 12.972 100.996 13.152 100.384 13.512C100.062 13.7013 99.7799 13.942 99.5378 14.2342V13.116H96.8557V26.292H99.6638V21.7747C99.8927 22.0254 100.151 22.2352 100.438 22.404ZM103.336 20.316C102.976 20.532 102.562 20.64 102.094 20.64C101.626 20.64 101.206 20.532 100.834 20.316C100.462 20.1 100.168 19.794 99.9518 19.398C99.7357 18.99 99.6277 18.51 99.6277 17.958C99.6277 17.394 99.7357 16.914 99.9518 16.518C100.168 16.122 100.462 15.816 100.834 15.6C101.206 15.384 101.626 15.276 102.094 15.276C102.562 15.276 102.976 15.384 103.336 15.6C103.708 15.816 104.002 16.122 104.218 16.518C104.446 16.914 104.56 17.394 104.56 17.958C104.56 18.51 104.446 18.99 104.218 19.398C104.002 19.794 103.708 20.1 103.336 20.316Z"}),h.jsx("path",{d:"M90.4417 22.8V13.116H93.2497V22.8H90.4417Z"})]})}function FU({type:t}){const{isAuth:e}=Ky();return h.jsxs(jf,{to:"/",style:{color:"var(--color--f1-0)"},children:[t==="short"&&h.jsx(eg,{}),t==="normal"&&h.jsx(eS,{}),!t&&(e?h.jsx(eS,{}):h.jsx(eg,{}))]})}const Yi=HP;function Yn(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Vi(t){return!!t&&!!t[qe]}function ti(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===QU}(t)||Array.isArray(t)||!!t[aS]||!!(!((e=t.constructor)===null||e===void 0)&&e[aS])||h1(t)||p1(t))}function js(t,e,n){n===void 0&&(n=!1),ya(t)===0?(n?Object.keys:Oo)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function ya(t){var e=t[qe];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:h1(t)?2:p1(t)?3:0}function No(t,e){return ya(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function VU(t,e){return ya(t)===2?t.get(e):t[e]}function bx(t,e,n){var r=ya(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function kx(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function h1(t){return KU&&t instanceof Map}function p1(t){return GU&&t instanceof Set}function rs(t){return t.o||t.t}function m1(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=Rx(t);delete e[qe];for(var n=Oo(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function g1(t,e){return e===void 0&&(e=!1),y1(t)||Vi(t)||!ti(t)||(ya(t)>1&&(t.set=t.add=t.clear=t.delete=zU),Object.freeze(t),e&&js(t,function(n,r){return g1(r,!0)},!0)),t}function zU(){Yn(2)}function y1(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Sr(t){var e=jg[t];return e||Yn(18,t),e}function BU(t,e){jg[t]||(jg[t]=e)}function Ng(){return Zl}function xp(t,e){e&&(Sr("Patches"),t.u=[],t.s=[],t.v=e)}function $d(t){Og(t),t.p.forEach(HU),t.p=null}function Og(t){t===Zl&&(Zl=t.l)}function tS(t){return Zl={p:[],l:Zl,h:t,m:!0,_:0}}function HU(t){var e=t[qe];e.i===0||e.i===1?e.j():e.O=!0}function Rp(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.g||Sr("ES5").S(e,t,r),r?(n[qe].P&&($d(e),Yn(4)),ti(t)&&(t=Ud(e,t),e.l||Fd(e,t)),e.u&&Sr("Patches").M(n[qe].t,t,e.u,e.s)):t=Ud(e,n,[]),$d(e),e.u&&e.v(e.u,e.s),t!==xx?t:void 0}function Ud(t,e,n){if(y1(e))return e;var r=e[qe];if(!r)return js(e,function(a,l){return nS(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Fd(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=m1(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),js(s,function(a,l){return nS(t,r,i,a,l,n,o)}),Fd(t,i,!1),n&&t.u&&Sr("Patches").N(r,n,t.u,t.s)}return r.o}function nS(t,e,n,r,i,s,o){if(Vi(i)){var a=Ud(t,i,s&&e&&e.i!==3&&!No(e.R,r)?s.concat(r):void 0);if(bx(n,r,a),!Vi(a))return;t.m=!1}else o&&n.add(i);if(ti(i)&&!y1(i)){if(!t.h.D&&t._<1)return;Ud(t,i),e&&e.A.l||Fd(t,i)}}function Fd(t,e,n){n===void 0&&(n=!1),t.h.D&&t.m&&g1(e,n)}function Ap(t,e){var n=t[qe];return(n?rs(n):t)[e]}function rS(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function vi(t){t.P||(t.P=!0,t.l&&vi(t.l))}function Pp(t){t.o||(t.o=m1(t.t))}function Dg(t,e,n){var r=h1(e)?Sr("MapSet").F(e,n):p1(e)?Sr("MapSet").T(e,n):t.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Ng(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=eu;o&&(l=[a],u=Ga);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f}(e,n):Sr("ES5").J(e,n);return(n?n.A:Ng()).p.push(r),r}function qU(t){return Vi(t)||Yn(22,t),function e(n){if(!ti(n))return n;var r,i=n[qe],s=ya(n);if(i){if(!i.P&&(i.i<4||!Sr("ES5").K(i)))return i.t;i.I=!0,r=iS(n,s),i.I=!1}else r=iS(n,s);return js(r,function(o,a){i&&VU(i.t,o)===a||bx(r,o,e(a))}),s===3?new Set(r):r}(t)}function iS(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return m1(t)}function WU(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[qe];return eu.get(l,s)},set:function(l){var u=this[qe];eu.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][qe];if(!a.P)switch(a.i){case 5:r(a)&&vi(a);break;case 4:n(a)&&vi(a)}}}function n(s){for(var o=s.t,a=s.k,l=Oo(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==qe){var d=o[c];if(d===void 0&&!No(o,c))return!0;var f=a[c],p=f&&f[qe];if(p?p.t!==d:!kx(f,d))return!0}}var y=!!o[qe];return l.length!==Oo(o).length+(y?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};BU("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,d){if(c){for(var f=Array(d.length),p=0;p<d.length;p++)Object.defineProperty(f,""+p,t(p,!0));return f}var y=Rx(d);delete y[qe];for(var m=Oo(y),S=0;S<m.length;S++){var v=m[S];y[v]=t(v,c||!!y[v].enumerable)}return Object.create(Object.getPrototypeOf(d),y)}(a,s),u={i:a?5:4,A:o?o.A:Ng(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,qe,{value:u,writable:!0}),l},S:function(s,o,a){a?Vi(o)&&o[qe].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[qe];if(c){var d=c.t,f=c.k,p=c.R,y=c.i;if(y===4)js(f,function(w){w!==qe&&(d[w]!==void 0||No(d,w)?p[w]||l(f[w]):(p[w]=!0,vi(c)))}),js(d,function(w){f[w]!==void 0||No(f,w)||(p[w]=!1,vi(c))});else if(y===5){if(r(c)&&(vi(c),p.length=!0),f.length<d.length)for(var m=f.length;m<d.length;m++)p[m]=!1;else for(var S=d.length;S<f.length;S++)p[S]=!0;for(var v=Math.min(f.length,d.length),g=0;g<v;g++)f.hasOwnProperty(g)||(p[g]=!0),p[g]===void 0&&l(f[g])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var sS,Zl,v1=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",KU=typeof Map<"u",GU=typeof Set<"u",oS=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",xx=v1?Symbol.for("immer-nothing"):((sS={})["immer-nothing"]=!0,sS),aS=v1?Symbol.for("immer-draftable"):"__$immer_draftable",qe=v1?Symbol.for("immer-state"):"__$immer_state",QU=""+Object.prototype.constructor,Oo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Rx=Object.getOwnPropertyDescriptors||function(t){var e={};return Oo(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},jg={},eu={get:function(t,e){if(e===qe)return t;var n=rs(t);if(!No(n,e))return function(i,s,o){var a,l=rS(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!ti(r)?r:r===Ap(t.t,e)?(Pp(t),t.o[e]=Dg(t.A.h,r,t)):r},has:function(t,e){return e in rs(t)},ownKeys:function(t){return Reflect.ownKeys(rs(t))},set:function(t,e,n){var r=rS(rs(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Ap(rs(t),e),s=i==null?void 0:i[qe];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(kx(n,i)&&(n!==void 0||No(t.t,e)))return!0;Pp(t),vi(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Ap(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Pp(t),vi(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=rs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Yn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Yn(12)}},Ga={};js(eu,function(t,e){Ga[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Ga.deleteProperty=function(t,e){return Ga.set.call(this,t,e,void 0)},Ga.set=function(t,e,n){return eu.set.call(this,t[0],e,n,t[0])};var YU=function(){function t(n){var r=this;this.g=oS,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(m){var S=this;m===void 0&&(m=a);for(var v=arguments.length,g=Array(v>1?v-1:0),w=1;w<v;w++)g[w-1]=arguments[w];return l.produce(m,function(_){var C;return(C=s).call.apply(C,[S,_].concat(g))})}}var u;if(typeof s!="function"&&Yn(6),o!==void 0&&typeof o!="function"&&Yn(7),ti(i)){var c=tS(r),d=Dg(r,i,void 0),f=!0;try{u=s(d),f=!1}finally{f?$d(c):Og(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(m){return xp(c,o),Rp(m,c)},function(m){throw $d(c),m}):(xp(c,o),Rp(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===xx&&(u=void 0),r.D&&g1(u,!0),o){var p=[],y=[];Sr("Patches").M(i,u,p,y),o(p,y)}return u}Yn(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(p){return i.apply(void 0,[p].concat(d))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){ti(n)||Yn(8),Vi(n)&&(n=qU(n));var r=tS(this),i=Dg(this,n,void 0);return i[qe].C=!0,Og(r),i},e.finishDraft=function(n,r){var i=n&&n[qe],s=i.A;return xp(s,r),Rp(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!oS&&Yn(20),this.g=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Sr("Patches").$;return Vi(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),Cn=new YU,Ax=Cn.produce;Cn.produceWithPatches.bind(Cn);Cn.setAutoFreeze.bind(Cn);Cn.setUseProxies.bind(Cn);Cn.applyPatches.bind(Cn);Cn.createDraft.bind(Cn);Cn.finishDraft.bind(Cn);function tu(t){return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function XU(t,e){if(tu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JU(t){var e=XU(t,"string");return tu(e)==="symbol"?e:String(e)}function ZU(t,e,n){return e=JU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lS(Object(n),!0).forEach(function(r){ZU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var cS=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Lp=function(){return Math.random().toString(36).substring(7).split("").join(".")},Vd={INIT:"@@redux/INIT"+Lp(),REPLACE:"@@redux/REPLACE"+Lp(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Lp()}};function eF(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function w1(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Vt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Vt(1));return n(w1)(t,e)}if(typeof t!="function")throw new Error(Vt(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(Vt(3));return s}function d(m){if(typeof m!="function")throw new Error(Vt(4));if(l)throw new Error(Vt(5));var S=!0;return u(),a.push(m),function(){if(S){if(l)throw new Error(Vt(6));S=!1,u();var g=a.indexOf(m);a.splice(g,1),o=null}}}function f(m){if(!eF(m))throw new Error(Vt(7));if(typeof m.type>"u")throw new Error(Vt(8));if(l)throw new Error(Vt(9));try{l=!0,s=i(s,m)}finally{l=!1}for(var S=o=a,v=0;v<S.length;v++){var g=S[v];g()}return m}function p(m){if(typeof m!="function")throw new Error(Vt(10));i=m,f({type:Vd.REPLACE})}function y(){var m,S=d;return m={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(Vt(11));function w(){g.next&&g.next(c())}w();var _=S(w);return{unsubscribe:_}}},m[cS]=function(){return this},m}return f({type:Vd.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:p},r[cS]=y,r}function tF(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Vd.INIT});if(typeof r>"u")throw new Error(Vt(12));if(typeof n(void 0,{type:Vd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Vt(13))})}function Px(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{tF(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,d={},f=0;f<s.length;f++){var p=s[f],y=n[p],m=l[p],S=y(m,u);if(typeof S>"u")throw u&&u.type,new Error(Vt(14));d[p]=S,c=c||S!==m}return c=c||s.length!==Object.keys(l).length,c?d:l}}function zd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function nF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Vt(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=zd.apply(void 0,a)(i.dispatch),uS(uS({},i),{},{dispatch:s})}}}function Lx(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var Nx=Lx();Nx.withExtraArgument=Lx;const dS=Nx;var rF=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),iF=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Bd=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},sF=Object.defineProperty,oF=Object.defineProperties,aF=Object.getOwnPropertyDescriptors,fS=Object.getOwnPropertySymbols,lF=Object.prototype.hasOwnProperty,uF=Object.prototype.propertyIsEnumerable,hS=function(t,e,n){return e in t?sF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Ni=function(t,e){for(var n in e||(e={}))lF.call(e,n)&&hS(t,n,e[n]);if(fS)for(var r=0,i=fS(e);r<i.length;r++){var n=i[r];uF.call(e,n)&&hS(t,n,e[n])}return t},Np=function(t,e){return oF(t,aF(e))},cF=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},dF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zd:zd.apply(null,arguments)};function fF(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var hF=function(t){rF(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Bd([void 0],n[0].concat(this)))):new(e.bind.apply(e,Bd([void 0],n.concat(this))))},e}(Array);function Mg(t){return ti(t)?Ax(t,function(){}):t}function pF(t){return typeof t=="boolean"}function mF(){return function(e){return gF(e)}}function gF(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new hF;return n&&(pF(n)?r.push(dS):r.push(dS.withExtraArgument(n.extraArgument))),r}var yF=!0;function vF(t){var e=mF(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,f=d===void 0?void 0:d,p;if(typeof i=="function")p=i;else if(fF(i))p=Px(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var y=o;typeof y=="function"&&(y=y(e));var m=nF.apply(void 0,y),S=zd;l&&(S=dF(Ni({trace:!yF},typeof l=="object"&&l)));var v=[m];Array.isArray(f)?v=Bd([m],f):typeof f=="function"&&(v=f(v));var g=S.apply(void 0,v);return w1(p,c,g)}function Oi(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Ni(Ni({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function Ox(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function wF(t){return typeof t=="function"}function _F(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?Ox(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(wF(t))l=function(){return Mg(t())};else{var u=Mg(t);l=function(){return u}}function c(d,f){d===void 0&&(d=l());var p=Bd([s[f.type]],o.filter(function(y){var m=y.matcher;return m(f)}).map(function(y){var m=y.reducer;return m}));return p.filter(function(y){return!!y}).length===0&&(p=[a]),p.reduce(function(y,m){if(m)if(Vi(y)){var S=y,v=m(S,f);return v===void 0?y:v}else{if(ti(y))return Ax(y,function(g){return m(g,f)});var v=m(y,f);if(v===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}return y},d)}return c.getInitialState=l,c}function SF(t,e){return t+"/"+e}function _1(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:Mg(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var d=r[c],f=SF(e,c),p,y;"reducer"in d?(p=d.reducer,y=d.prepare):p=d,s[c]=p,o[f]=p,a[c]=y?Oi(f,y):Oi(f)});function l(){var c=typeof t.extraReducers=="function"?Ox(t.extraReducers):[t.extraReducers],d=c[0],f=d===void 0?{}:d,p=c[1],y=p===void 0?[]:p,m=c[2],S=m===void 0?void 0:m,v=Ni(Ni({},f),o);return _F(n,function(g){for(var w in v)g.addCase(w,v[w]);for(var _=0,C=y;_<C.length;_++){var I=C[_];g.addMatcher(I.matcher,I.reducer)}S&&g.addDefaultCase(S)})}var u;return{name:e,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var EF="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",CF=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=EF[Math.random()*64|0];return e},TF=["name","message","stack","code"],Op=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),pS=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),IF=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=TF;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}},Eh=function(){function t(e,n,r){var i=Oi(e+"/fulfilled",function(u,c,d,f){return{payload:u,meta:Np(Ni({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),s=Oi(e+"/pending",function(u,c,d){return{payload:void 0,meta:Np(Ni({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=Oi(e+"/rejected",function(u,c,d,f,p){return{payload:f,error:(r&&r.serializeError||IF)(u||"Rejected"),meta:Np(Ni({},p||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,f){var p=r!=null&&r.idGenerator?r.idGenerator(u):CF(),y=new a,m;function S(g){m=g,y.abort()}var v=function(){return cF(this,null,function(){var g,w,_,C,I,b,O;return iF(this,function(A){switch(A.label){case 0:return A.trys.push([0,4,,5]),C=(g=r==null?void 0:r.condition)==null?void 0:g.call(r,u,{getState:d,extra:f}),kF(C)?[4,C]:[3,2];case 1:C=A.sent(),A.label=2;case 2:if(C===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return I=new Promise(function(D,Q){return y.signal.addEventListener("abort",function(){return Q({name:"AbortError",message:m||"Aborted"})})}),c(s(p,u,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:p,arg:u},{getState:d,extra:f}))),[4,Promise.race([I,Promise.resolve(n(u,{dispatch:c,getState:d,extra:f,requestId:p,signal:y.signal,abort:S,rejectWithValue:function(D,Q){return new Op(D,Q)},fulfillWithValue:function(D,Q){return new pS(D,Q)}})).then(function(D){if(D instanceof Op)throw D;return D instanceof pS?i(D.payload,p,u,D.meta):i(D,p,u)})])];case 3:return _=A.sent(),[3,5];case 4:return b=A.sent(),_=b instanceof Op?o(null,p,u,b.payload,b.meta):o(b,p,u),[3,5];case 5:return O=r&&!r.dispatchConditionRejection&&o.match(_)&&_.meta.condition,O||c(_),[2,_]}})})}();return Object.assign(v,{abort:S,requestId:p,arg:u,unwrap:function(){return v.then(bF)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t}();function bF(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function kF(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var S1="listenerMiddleware";Oi(S1+"/add");Oi(S1+"/removeAll");Oi(S1+"/remove");var mS;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);WU();const $c=Eh("user/createUser",async({displayName:t,email:e,password:n,photo:r},i)=>{var s,o,a,l,u;try{const c=await An.google.firebase.auth.createUser({email:e,password:n});if("error"in c)throw new Error((s=c.error)==null?void 0:s.toString());const d=r?await An.google.firebase.storage.uploadFile({refName:`users/${c.user.uid}/profile/profileImage-${c.user.uid}-${W.getCurrentDateInMs()}`,file:r}):null,f=d&&"downloadURL"in d&&d.downloadURL||"";"error"in await An.google.firebase.database.users.addUser({uid:c.user.uid})||await An.google.firebase.database.users.updateUser({uid:c.user.uid,displayName:c.user.displayName||"User",photoURL:f,email:c.user.email||"",status:"user",sex:"unknown",lastActiveChatId:"0"}),await An.google.firebase.auth.updateProfile({user:c.user,displayName:t,photoURL:f}),await An.google.firebase.database.userChats.addUserChatsForUser({uid:c.user.uid});const y=An.google.firebase.auth.getCurrentAuthUser();return{uid:((o=y.user.uid)==null?void 0:o.toString())||"",displayName:((a=y.user.displayName)==null?void 0:a.toString())||"",photoURL:((l=y.user.photoURL)==null?void 0:l.toString())||"",email:((u=y.user.email)==null?void 0:u.toString())||""}}catch(c){return i.rejectWithValue(pe(c))}}),Uc=Eh("user/signIn",async({email:t,password:e},n)=>{try{const r=await An.google.firebase.auth.signIn({email:t,password:e});return{uid:r.user.uid||"",displayName:r.user.displayName||"",photoURL:r.user.photoURL||"",email:r.user.email||""}}catch(r){return n.rejectWithValue(pe(r))}}),pl=Eh("user/signInWithGoogle",async(t,e)=>{try{await An.google.firebase.auth.signInWithGoogle();const n=An.google.firebase.auth.getCurrentAuthUser();return{displayName:n.user.displayName||"",email:n.user.email||"",photoURL:n.user.photoURL||"",uid:n.user.uid||""}}catch(n){return e.rejectWithValue(pe(n))}}),xF={isLoading:!1,error:"",uid:"",displayName:"",photoURL:"",email:"",status:"user",sex:"unknown",role:"",lastActiveChatId:"",lastVisitDate:"",isOnline:!1},Lu=_1({name:"user",initialState:xF,reducers:{setUser(t,e){t.uid=e.payload.uid,t.displayName=e.payload.displayName,t.photoURL=e.payload.photoURL,t.email=e.payload.email},removeUser(t){t.uid="",t.displayName="",t.photoURL="",t.email="",t.status="user",t.sex="unknown",t.role="",t.lastActiveChatId="",t.lastVisitDate="",t.isOnline=!1},resetError(t){t.error=""}},extraReducers:t=>{t.addCase($c.pending,e=>{e.isLoading=!0,e.error="",e.uid="",e.displayName="",e.photoURL="",e.email="",e.status="user",e.sex="unknown",e.role="",e.lastActiveChatId="",e.lastVisitDate="",e.isOnline=!1}).addCase($c.fulfilled,(e,n)=>{e.uid=n.payload.uid,e.displayName=n.payload.displayName,e.photoURL=n.payload.photoURL,e.email=n.payload.email,e.error="",e.isLoading=!1}).addCase($c.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(Uc.pending,e=>{e.isLoading=!0,e.error="",e.uid="",e.displayName="",e.photoURL="",e.email="",e.status="user",e.sex="unknown",e.role="",e.lastActiveChatId="",e.lastVisitDate="",e.isOnline=!1}).addCase(Uc.fulfilled,(e,n)=>{e.email=n.payload.email,e.displayName=n.payload.displayName,e.photoURL=n.payload.photoURL,e.uid=n.payload.uid,e.error="",e.isLoading=!1}).addCase(Uc.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(pl.pending,e=>{e.isLoading=!0,e.error="",e.uid="",e.displayName="",e.photoURL="",e.email="",e.status="user",e.sex="unknown",e.role="",e.lastActiveChatId="",e.lastVisitDate="",e.isOnline=!1}).addCase(pl.fulfilled,(e,n)=>{e.email=n.payload.email,e.displayName=n.payload.displayName,e.photoURL=n.payload.photoURL,e.uid=n.payload.uid,e.error="",e.isLoading=!1}).addCase(pl.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1})}}),RF="_img_q4y9a_1",AF="_small_q4y9a_7",PF="_charContainer_q4y9a_12",LF="_char_q4y9a_12",Js={img:RF,small:AF,charContainer:PF,char:LF},Hd=T.forwardRef(({src:t,alt:e,char:n,color:r,size:i="default",onClick:s,children:o,className:a,...l},u)=>{const c=[s&&"clickable"],d=i&&Js[i];return h.jsxs("div",{onClick:s,className:W.join(Js.Avatar,a,c),ref:u,...l,children:[!t&&o&&h.jsx("div",{className:W.join(Js.charContainer,d),style:{backgroundColor:r},children:o}),t&&h.jsx("img",{className:W.join(Js.img,d),src:t,alt:e}),!t&&!o&&h.jsx("div",{className:W.join(Js.charContainer,d),style:{backgroundColor:r},children:h.jsx("h5",{className:W.join(Js.char,"h5"),children:n})})]})});Hd.displayName="Avatar";const NF="_Button_n3hsj_106",OF="_tiny_n3hsj_121",DF="_small_n3hsj_124",jF="_medium_n3hsj_130",MF="_large_n3hsj_133",$F="_extra_n3hsj_136",UF="_disabled_n3hsj_145",FF="_label_n3hsj_160",VF="_icon_n3hsj_187",zF="_secondary_n3hsj_211",BF="_text_n3hsj_228",fr={Button:NF,tiny:OF,small:DF,default:"_default_n3hsj_127",medium:jF,large:MF,extra:$F,disabled:UF,label:FF,icon:VF,secondary:zF,text:BF},_t=T.forwardRef(({size:t="default",type:e="primary",submit:n,children:r,className:i,...s},o)=>{const a=Array.isArray(r)?r==null?void 0:r.some(c=>typeof c=="string"):typeof r=="string",l=t&&fr[t],u=[e&&fr[e],!a&&fr.icon];return h.jsx("button",{type:n?"submit":"button",className:W.join(fr.Button,i,l,u),ref:o,...s,children:h.jsx("span",{className:W.join(fr.label,hn.button,l),children:r})})});_t.displayName="Button";const Dx=T.forwardRef(({size:t="default",width:e,height:n,type:r="primary",blank:i,customStyle:s,children:o,className:a,style:l,...u},c)=>{const d=Array.isArray(o)?o==null?void 0:o.some(m=>typeof m=="string"):typeof o=="string",f=[t&&fr[t],r&&fr[r],!d&&fr.icon,fr.Button],p=i&&{target:"_blank",rel:"noreferrer noopener"},y=t==="custom"?{width:e,height:n}:{};return h.jsx("a",{className:W.join(a,!s&&f),ref:c,style:{...l,...y},...p,...u,children:h.jsx("span",{className:W.join(fr.label,hn.button),children:o})})});Dx.displayName="ButtonLink";var Lr={},HF={get exports(){return Lr},set exports(t){Lr=t}};(function(t,e){(function(r,i){t.exports=i(T)})(T2,n=>(()=>{var r={"./node_modules/css-mediaquery/index.js":(a,l)=>{l.match=y,l.parse=m;var u=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,c=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,d=/^(?:(min|max)-)?(.+)/,f=/(em|rem|px|cm|mm|in|pt|pc)?$/,p=/(dpi|dpcm|dppx)?$/;function y(w,_){return m(w).some(function(C){var I=C.inverse,b=C.type==="all"||_.type===C.type;if(b&&I||!(b||I))return!1;var O=C.expressions.every(function(A){var D=A.feature,Q=A.modifier,H=A.value,$=_[D];if(!$)return!1;switch(D){case"orientation":case"scan":return $.toLowerCase()===H.toLowerCase();case"width":case"height":case"device-width":case"device-height":H=g(H),$=g($);break;case"resolution":H=v(H),$=v($);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":H=S(H),$=S($);break;case"grid":case"color":case"color-index":case"monochrome":H=parseInt(H,10)||1,$=parseInt($,10)||0;break}switch(Q){case"min":return $>=H;case"max":return $<=H;default:return $===H}});return O&&!I||!O&&I})}function m(w){return w.split(",").map(function(_){_=_.trim();var C=_.match(u),I=C[1],b=C[2],O=C[3]||"",A={};return A.inverse=!!I&&I.toLowerCase()==="not",A.type=b?b.toLowerCase():"all",O=O.match(/\([^\)]+\)/g)||[],A.expressions=O.map(function(D){var Q=D.match(c),H=Q[1].toLowerCase().match(d);return{modifier:H[1],feature:H[2],value:Q[2]}}),A})}function S(w){var _=Number(w),C;return _||(C=w.match(/^(\d+)\s*\/\s*(\d+)$/),_=C[1]/C[2]),_}function v(w){var _=parseFloat(w),C=String(w).match(p)[1];switch(C){case"dpcm":return _/2.54;case"dppx":return _*96;default:return _}}function g(w){var _=parseFloat(w),C=String(w).match(f)[1];switch(C){case"em":return _*16;case"rem":return _*16;case"cm":return _*96/2.54;case"mm":return _*96/2.54/10;case"in":return _*96;case"pt":return _*72;case"pc":return _*72/12;default:return _}}},"./node_modules/hyphenate-style-name/index.js":(a,l,u)=>{u.r(l),u.d(l,{default:()=>m});var c=/[A-Z]/g,d=/^ms-/,f={};function p(S){return"-"+S.toLowerCase()}function y(S){if(f.hasOwnProperty(S))return f[S];var v=S.replace(c,p);return f[S]=d.test(v)?"-"+v:v}const m=y},"./node_modules/matchmediaquery/index.js":(a,l,u)=>{var c=u("./node_modules/css-mediaquery/index.js").match,d=typeof window<"u"?window.matchMedia:null;function f(y,m,S){var v=this;if(d&&!S){var g=d.call(window,y);this.matches=g.matches,this.media=g.media,g.addListener(C)}else this.matches=c(y,m),this.media=y;this.addListener=w,this.removeListener=_,this.dispose=I;function w(b){g&&g.addListener(b)}function _(b){g&&g.removeListener(b)}function C(b){v.matches=b.matches,v.media=b.media}function I(){g&&g.removeListener(C)}}function p(y,m,S){return new f(y,m,S)}a.exports=p},"./node_modules/object-assign/index.js":a=>{/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function d(p){if(p==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(p)}function f(){try{if(!Object.assign)return!1;var p=new String("abc");if(p[5]="de",Object.getOwnPropertyNames(p)[0]==="5")return!1;for(var y={},m=0;m<10;m++)y["_"+String.fromCharCode(m)]=m;var S=Object.getOwnPropertyNames(y).map(function(g){return y[g]});if(S.join("")!=="0123456789")return!1;var v={};return"abcdefghijklmnopqrst".split("").forEach(function(g){v[g]=g}),Object.keys(Object.assign({},v)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}a.exports=f()?Object.assign:function(p,y){for(var m,S=d(p),v,g=1;g<arguments.length;g++){m=Object(arguments[g]);for(var w in m)u.call(m,w)&&(S[w]=m[w]);if(l){v=l(m);for(var _=0;_<v.length;_++)c.call(m,v[_])&&(S[v[_]]=m[v[_]])}}return S}},"./node_modules/prop-types/checkPropTypes.js":(a,l,u)=>{var c=function(){};{var d=u("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),f={},p=u("./node_modules/prop-types/lib/has.js");c=function(m){var S="Warning: "+m;typeof console<"u"&&console.error(S);try{throw new Error(S)}catch{}}}function y(m,S,v,g,w){for(var _ in m)if(p(m,_)){var C;try{if(typeof m[_]!="function"){var I=Error((g||"React class")+": "+v+" type `"+_+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof m[_]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw I.name="Invariant Violation",I}C=m[_](S,_,g,v,null,d)}catch(O){C=O}if(C&&!(C instanceof Error)&&c((g||"React class")+": type specification of "+v+" `"+_+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof C+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),C instanceof Error&&!(C.message in f)){f[C.message]=!0;var b=w?w():"";c("Failed "+v+" type: "+C.message+(b??""))}}}y.resetWarningCache=function(){f={}},a.exports=y},"./node_modules/prop-types/factoryWithTypeCheckers.js":(a,l,u)=>{var c=u("./node_modules/react-is/index.js"),d=u("./node_modules/object-assign/index.js"),f=u("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),p=u("./node_modules/prop-types/lib/has.js"),y=u("./node_modules/prop-types/checkPropTypes.js"),m=function(){};m=function(v){var g="Warning: "+v;typeof console<"u"&&console.error(g);try{throw new Error(g)}catch{}};function S(){return null}a.exports=function(v,g){var w=typeof Symbol=="function"&&Symbol.iterator,_="@@iterator";function C(F){var G=F&&(w&&F[w]||F[_]);if(typeof G=="function")return G}var I="<<anonymous>>",b={array:Q("array"),bigint:Q("bigint"),bool:Q("boolean"),func:Q("function"),number:Q("number"),object:Q("object"),string:Q("string"),symbol:Q("symbol"),any:H(),arrayOf:$,element:ae(),elementType:be(),instanceOf:je,node:re(),objectOf:q,oneOf:at,oneOfType:K,shape:Me,exact:ht};function O(F,G){return F===G?F!==0||1/F===1/G:F!==F&&G!==G}function A(F,G){this.message=F,this.data=G&&typeof G=="object"?G:{},this.stack=""}A.prototype=Error.prototype;function D(F){var G={},ge=0;function ye(E,k,x,j,B,P,L){if(j=j||I,P=P||x,L!==f){if(g){var ve=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw ve.name="Invariant Violation",ve}else if(typeof console<"u"){var Ee=j+":"+x;!G[Ee]&&ge<3&&(m("You are manually calling a React.PropTypes validation function for the `"+P+"` prop on `"+j+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),G[Ee]=!0,ge++)}}return k[x]==null?E?k[x]===null?new A("The "+B+" `"+P+"` is marked as required "+("in `"+j+"`, but its value is `null`.")):new A("The "+B+" `"+P+"` is marked as required in "+("`"+j+"`, but its value is `undefined`.")):null:F(k,x,j,B,P)}var de=ye.bind(null,!1);return de.isRequired=ye.bind(null,!0),de}function Q(F){function G(ge,ye,de,E,k,x){var j=ge[ye],B=Fe(j);if(B!==F){var P=pt(j);return new A("Invalid "+E+" `"+k+"` of type "+("`"+P+"` supplied to `"+de+"`, expected ")+("`"+F+"`."),{expectedType:F})}return null}return D(G)}function H(){return D(S)}function $(F){function G(ge,ye,de,E,k){if(typeof F!="function")return new A("Property `"+k+"` of component `"+de+"` has invalid PropType notation inside arrayOf.");var x=ge[ye];if(!Array.isArray(x)){var j=Fe(x);return new A("Invalid "+E+" `"+k+"` of type "+("`"+j+"` supplied to `"+de+"`, expected an array."))}for(var B=0;B<x.length;B++){var P=F(x,B,de,E,k+"["+B+"]",f);if(P instanceof Error)return P}return null}return D(G)}function ae(){function F(G,ge,ye,de,E){var k=G[ge];if(!v(k)){var x=Fe(k);return new A("Invalid "+de+" `"+E+"` of type "+("`"+x+"` supplied to `"+ye+"`, expected a single ReactElement."))}return null}return D(F)}function be(){function F(G,ge,ye,de,E){var k=G[ge];if(!c.isValidElementType(k)){var x=Fe(k);return new A("Invalid "+de+" `"+E+"` of type "+("`"+x+"` supplied to `"+ye+"`, expected a single ReactElement type."))}return null}return D(F)}function je(F){function G(ge,ye,de,E,k){if(!(ge[ye]instanceof F)){var x=F.name||I,j=ai(ge[ye]);return new A("Invalid "+E+" `"+k+"` of type "+("`"+j+"` supplied to `"+de+"`, expected ")+("instance of `"+x+"`."))}return null}return D(G)}function at(F){if(!Array.isArray(F))return arguments.length>1?m("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):m("Invalid argument supplied to oneOf, expected an array."),S;function G(ge,ye,de,E,k){for(var x=ge[ye],j=0;j<F.length;j++)if(O(x,F[j]))return null;var B=JSON.stringify(F,function(L,ve){var Ee=pt(ve);return Ee==="symbol"?String(ve):ve});return new A("Invalid "+E+" `"+k+"` of value `"+String(x)+"` "+("supplied to `"+de+"`, expected one of "+B+"."))}return D(G)}function q(F){function G(ge,ye,de,E,k){if(typeof F!="function")return new A("Property `"+k+"` of component `"+de+"` has invalid PropType notation inside objectOf.");var x=ge[ye],j=Fe(x);if(j!=="object")return new A("Invalid "+E+" `"+k+"` of type "+("`"+j+"` supplied to `"+de+"`, expected an object."));for(var B in x)if(p(x,B)){var P=F(x,B,de,E,k+"."+B,f);if(P instanceof Error)return P}return null}return D(G)}function K(F){if(!Array.isArray(F))return m("Invalid argument supplied to oneOfType, expected an instance of array."),S;for(var G=0;G<F.length;G++){var ge=F[G];if(typeof ge!="function")return m("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+oi(ge)+" at index "+G+"."),S}function ye(de,E,k,x,j){for(var B=[],P=0;P<F.length;P++){var L=F[P],ve=L(de,E,k,x,j,f);if(ve==null)return null;ve.data&&p(ve.data,"expectedType")&&B.push(ve.data.expectedType)}var Ee=B.length>0?", expected one of type ["+B.join(", ")+"]":"";return new A("Invalid "+x+" `"+j+"` supplied to "+("`"+k+"`"+Ee+"."))}return D(ye)}function re(){function F(G,ge,ye,de,E){return Ct(G[ge])?null:new A("Invalid "+de+" `"+E+"` supplied to "+("`"+ye+"`, expected a ReactNode."))}return D(F)}function Re(F,G,ge,ye,de){return new A((F||"React class")+": "+G+" type `"+ge+"."+ye+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+de+"`.")}function Me(F){function G(ge,ye,de,E,k){var x=ge[ye],j=Fe(x);if(j!=="object")return new A("Invalid "+E+" `"+k+"` of type `"+j+"` "+("supplied to `"+de+"`, expected `object`."));for(var B in F){var P=F[B];if(typeof P!="function")return Re(de,E,k,B,pt(P));var L=P(x,B,de,E,k+"."+B,f);if(L)return L}return null}return D(G)}function ht(F){function G(ge,ye,de,E,k){var x=ge[ye],j=Fe(x);if(j!=="object")return new A("Invalid "+E+" `"+k+"` of type `"+j+"` "+("supplied to `"+de+"`, expected `object`."));var B=d({},ge[ye],F);for(var P in B){var L=F[P];if(p(F,P)&&typeof L!="function")return Re(de,E,k,P,pt(L));if(!L)return new A("Invalid "+E+" `"+k+"` key `"+P+"` supplied to `"+de+"`.\nBad object: "+JSON.stringify(ge[ye],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(F),null,"  "));var ve=L(x,P,de,E,k+"."+P,f);if(ve)return ve}return null}return D(G)}function Ct(F){switch(typeof F){case"number":case"string":case"undefined":return!0;case"boolean":return!F;case"object":if(Array.isArray(F))return F.every(Ct);if(F===null||v(F))return!0;var G=C(F);if(G){var ge=G.call(F),ye;if(G!==F.entries){for(;!(ye=ge.next()).done;)if(!Ct(ye.value))return!1}else for(;!(ye=ge.next()).done;){var de=ye.value;if(de&&!Ct(de[1]))return!1}}else return!1;return!0;default:return!1}}function Bn(F,G){return F==="symbol"?!0:G?G["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&G instanceof Symbol:!1}function Fe(F){var G=typeof F;return Array.isArray(F)?"array":F instanceof RegExp?"object":Bn(G,F)?"symbol":G}function pt(F){if(typeof F>"u"||F===null)return""+F;var G=Fe(F);if(G==="object"){if(F instanceof Date)return"date";if(F instanceof RegExp)return"regexp"}return G}function oi(F){var G=pt(F);switch(G){case"array":case"object":return"an "+G;case"boolean":case"date":case"regexp":return"a "+G;default:return G}}function ai(F){return!F.constructor||!F.constructor.name?I:F.constructor.name}return b.checkPropTypes=y,b.resetWarningCache=y.resetWarningCache,b.PropTypes=b,b}},"./node_modules/prop-types/index.js":(a,l,u)=>{{var c=u("./node_modules/react-is/index.js"),d=!0;a.exports=u("./node_modules/prop-types/factoryWithTypeCheckers.js")(c.isElement,d)}},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":a=>{var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";a.exports=l},"./node_modules/prop-types/lib/has.js":a=>{a.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(a,l)=>{/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var u=typeof Symbol=="function"&&Symbol.for,c=u?Symbol.for("react.element"):60103,d=u?Symbol.for("react.portal"):60106,f=u?Symbol.for("react.fragment"):60107,p=u?Symbol.for("react.strict_mode"):60108,y=u?Symbol.for("react.profiler"):60114,m=u?Symbol.for("react.provider"):60109,S=u?Symbol.for("react.context"):60110,v=u?Symbol.for("react.async_mode"):60111,g=u?Symbol.for("react.concurrent_mode"):60111,w=u?Symbol.for("react.forward_ref"):60112,_=u?Symbol.for("react.suspense"):60113,C=u?Symbol.for("react.suspense_list"):60120,I=u?Symbol.for("react.memo"):60115,b=u?Symbol.for("react.lazy"):60116,O=u?Symbol.for("react.block"):60121,A=u?Symbol.for("react.fundamental"):60117,D=u?Symbol.for("react.responder"):60118,Q=u?Symbol.for("react.scope"):60119;function H(L){return typeof L=="string"||typeof L=="function"||L===f||L===g||L===y||L===p||L===_||L===C||typeof L=="object"&&L!==null&&(L.$$typeof===b||L.$$typeof===I||L.$$typeof===m||L.$$typeof===S||L.$$typeof===w||L.$$typeof===A||L.$$typeof===D||L.$$typeof===Q||L.$$typeof===O)}function $(L){if(typeof L=="object"&&L!==null){var ve=L.$$typeof;switch(ve){case c:var Ee=L.type;switch(Ee){case v:case g:case f:case y:case p:case _:return Ee;default:var Ks=Ee&&Ee.$$typeof;switch(Ks){case S:case w:case b:case I:case m:return Ks;default:return ve}}case d:return ve}}}var ae=v,be=g,je=S,at=m,q=c,K=w,re=f,Re=b,Me=I,ht=d,Ct=y,Bn=p,Fe=_,pt=!1;function oi(L){return pt||(pt=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),ai(L)||$(L)===v}function ai(L){return $(L)===g}function F(L){return $(L)===S}function G(L){return $(L)===m}function ge(L){return typeof L=="object"&&L!==null&&L.$$typeof===c}function ye(L){return $(L)===w}function de(L){return $(L)===f}function E(L){return $(L)===b}function k(L){return $(L)===I}function x(L){return $(L)===d}function j(L){return $(L)===y}function B(L){return $(L)===p}function P(L){return $(L)===_}l.AsyncMode=ae,l.ConcurrentMode=be,l.ContextConsumer=je,l.ContextProvider=at,l.Element=q,l.ForwardRef=K,l.Fragment=re,l.Lazy=Re,l.Memo=Me,l.Portal=ht,l.Profiler=Ct,l.StrictMode=Bn,l.Suspense=Fe,l.isAsyncMode=oi,l.isConcurrentMode=ai,l.isContextConsumer=F,l.isContextProvider=G,l.isElement=ge,l.isForwardRef=ye,l.isFragment=de,l.isLazy=E,l.isMemo=k,l.isPortal=x,l.isProfiler=j,l.isStrictMode=B,l.isSuspense=P,l.isValidElementType=H,l.typeOf=$})()},"./node_modules/react-is/index.js":(a,l,u)=>{a.exports=u("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(a,l,u)=>{u.r(l),u.d(l,{shallowEqualArrays:()=>d,shallowEqualObjects:()=>c});function c(f,p){if(f===p)return!0;if(!f||!p)return!1;var y=Object.keys(f),m=Object.keys(p),S=y.length;if(m.length!==S)return!1;for(var v=0;v<S;v++){var g=y[v];if(f[g]!==p[g]||!Object.prototype.hasOwnProperty.call(p,g))return!1}return!0}function d(f,p){if(f===p)return!0;if(!f||!p)return!1;var y=f.length;if(p.length!==y)return!1;for(var m=0;m<y;m++)if(f[m]!==p[m])return!1;return!0}},"./src/Component.ts":function(a,l,u){var c=this&&this.__rest||function(y,m){var S={};for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&m.indexOf(v)<0&&(S[v]=y[v]);if(y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,v=Object.getOwnPropertySymbols(y);g<v.length;g++)m.indexOf(v[g])<0&&Object.prototype.propertyIsEnumerable.call(y,v[g])&&(S[v[g]]=y[v[g]]);return S},d=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(l,"__esModule",{value:!0});var f=d(u("./src/useMediaQuery.ts")),p=function(y){var m=y.children,S=y.device,v=y.onChange,g=c(y,["children","device","onChange"]),w=(0,f.default)(g,S,v);return typeof m=="function"?m(w):w?m:null};l.default=p},"./src/Context.ts":(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0});var c=u("react"),d=(0,c.createContext)(void 0);l.default=d},"./src/index.ts":function(a,l,u){var c=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(l,"__esModule",{value:!0}),l.Context=l.toQuery=l.useMediaQuery=l.default=void 0;var d=c(u("./src/useMediaQuery.ts"));l.useMediaQuery=d.default;var f=c(u("./src/Component.ts"));l.default=f.default;var p=c(u("./src/toQuery.ts"));l.toQuery=p.default;var y=c(u("./src/Context.ts"));l.Context=y.default},"./src/mediaQuery.ts":function(a,l,u){var c=this&&this.__assign||function(){return c=Object.assign||function(_){for(var C,I=1,b=arguments.length;I<b;I++){C=arguments[I];for(var O in C)Object.prototype.hasOwnProperty.call(C,O)&&(_[O]=C[O])}return _},c.apply(this,arguments)},d=this&&this.__rest||function(_,C){var I={};for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&C.indexOf(b)<0&&(I[b]=_[b]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,b=Object.getOwnPropertySymbols(_);O<b.length;O++)C.indexOf(b[O])<0&&Object.prototype.propertyIsEnumerable.call(_,b[O])&&(I[b[O]]=_[b[O]]);return I},f=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(l,"__esModule",{value:!0});var p=f(u("./node_modules/prop-types/index.js")),y=p.default.oneOfType([p.default.string,p.default.number]),m={all:p.default.bool,grid:p.default.bool,aural:p.default.bool,braille:p.default.bool,handheld:p.default.bool,print:p.default.bool,projection:p.default.bool,screen:p.default.bool,tty:p.default.bool,tv:p.default.bool,embossed:p.default.bool},S={orientation:p.default.oneOf(["portrait","landscape"]),scan:p.default.oneOf(["progressive","interlace"]),aspectRatio:p.default.string,deviceAspectRatio:p.default.string,height:y,deviceHeight:y,width:y,deviceWidth:y,color:p.default.bool,colorIndex:p.default.bool,monochrome:p.default.bool,resolution:y,type:Object.keys(m)};S.type;var v=d(S,["type"]),g=c({minAspectRatio:p.default.string,maxAspectRatio:p.default.string,minDeviceAspectRatio:p.default.string,maxDeviceAspectRatio:p.default.string,minHeight:y,maxHeight:y,minDeviceHeight:y,maxDeviceHeight:y,minWidth:y,maxWidth:y,minDeviceWidth:y,maxDeviceWidth:y,minColor:p.default.number,maxColor:p.default.number,minColorIndex:p.default.number,maxColorIndex:p.default.number,minMonochrome:p.default.number,maxMonochrome:p.default.number,minResolution:y,maxResolution:y},v),w=c(c({},m),g);l.default={all:w,types:m,matchers:S,features:g}},"./src/toQuery.ts":function(a,l,u){var c=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(l,"__esModule",{value:!0});var d=c(u("./node_modules/hyphenate-style-name/index.js")),f=c(u("./src/mediaQuery.ts")),p=function(v){return"not ".concat(v)},y=function(v,g){var w=(0,d.default)(v);return typeof g=="number"&&(g="".concat(g,"px")),g===!0?w:g===!1?p(w):"(".concat(w,": ").concat(g,")")},m=function(v){return v.join(" and ")},S=function(v){var g=[];return Object.keys(f.default.all).forEach(function(w){var _=v[w];_!=null&&g.push(y(w,_))}),m(g)};l.default=S},"./src/useMediaQuery.ts":function(a,l,u){var c=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(l,"__esModule",{value:!0});var d=u("react"),f=c(u("./node_modules/matchmediaquery/index.js")),p=c(u("./node_modules/hyphenate-style-name/index.js")),y=u("./node_modules/shallow-equal/dist/index.esm.js"),m=c(u("./src/toQuery.ts")),S=c(u("./src/Context.ts")),v=function(A){return A.query||(0,m.default)(A)},g=function(A){if(A){var D=Object.keys(A);return D.reduce(function(Q,H){return Q[(0,p.default)(H)]=A[H],Q},{})}},w=function(){var A=(0,d.useRef)(!1);return(0,d.useEffect)(function(){A.current=!0},[]),A.current},_=function(A){var D=(0,d.useContext)(S.default),Q=function(){return g(A)||g(D)},H=(0,d.useState)(Q),$=H[0],ae=H[1];return(0,d.useEffect)(function(){var be=Q();(0,y.shallowEqualObjects)($,be)||ae(be)},[A,D]),$},C=function(A){var D=function(){return v(A)},Q=(0,d.useState)(D),H=Q[0],$=Q[1];return(0,d.useEffect)(function(){var ae=D();H!==ae&&$(ae)},[A]),H},I=function(A,D){var Q=function(){return(0,f.default)(A,D||{},!!D)},H=(0,d.useState)(Q),$=H[0],ae=H[1],be=w();return(0,d.useEffect)(function(){if(be){var je=Q();return ae(je),function(){je&&je.dispose()}}},[A,D]),$},b=function(A){var D=(0,d.useState)(A.matches),Q=D[0],H=D[1];return(0,d.useEffect)(function(){var $=function(ae){H(ae.matches)};return A.addListener($),H(A.matches),function(){A.removeListener($)}},[A]),Q},O=function(A,D,Q){var H=_(D),$=C(A);if(!$)throw new Error("Invalid or missing MediaQuery!");var ae=I($,H),be=b(ae),je=w();return(0,d.useEffect)(function(){je&&Q&&Q(be)},[be]),(0,d.useEffect)(function(){return function(){ae&&ae.dispose()}},[]),be};l.default=O},react:a=>{a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var u=i[a]={exports:{}};return r[a].call(u.exports,u,u.exports,s),u.exports}s.d=(a,l)=>{for(var u in l)s.o(l,u)&&!s.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o=s("./src/index.ts");return o})())})(HF);const Ji={xx:1/0,xl:1179,lg:1023,md:767,sm:539,xs:479,ss:359};function jx(){return{isScreenXX:Lr.useMediaQuery({query:`(max-width: ${Ji.xx}px)`}),isScreenXL:Lr.useMediaQuery({query:`(max-width: ${Ji.xl}px)`}),isScreenLG:Lr.useMediaQuery({query:`(max-width: ${Ji.lg}px)`}),isScreenMD:Lr.useMediaQuery({query:`(max-width: ${Ji.md}px)`}),isScreenSM:Lr.useMediaQuery({query:`(max-width: ${Ji.sm}px)`}),isScreenXS:Lr.useMediaQuery({query:`(max-width: ${Ji.xs}px)`}),isScreenSS:Lr.useMediaQuery({query:`(max-width: ${Ji.ss}px)`})}}const E1=T.forwardRef(({gridContainer:t,grid:e,children:n,className:r,...i},s)=>{const o=e&&qy(e);return h.jsx("nav",{className:W.join(r,t&&"row",o),ref:s,...i,children:n})});E1.displayName="Nav";const Mx=T.forwardRef(({display:t,underline:e,children:n,blank:r,className:i,...s},o)=>{const a=[t?hn[t]:hn.link,e===!1&&pd.noUnderline],l=r&&{target:"_blank",rel:"noreferrer noopener"};return h.jsx("a",{className:W.join(pd.Link,i,a),ref:o,...l,...s,children:n})});Mx.displayName="Link";const qF="_NavigationDesktop_10tfr_1",WF="_active_10tfr_7",KF="_link_10tfr_7",La={NavigationDesktop:qF,active:WF,link:KF};function GF(){const t=({isActive:e})=>e?La.active:"";return h.jsxs(E1,{className:La.NavigationDesktop,children:[h.jsx(ys,{className:t,end:!0,to:yt.home,children:h.jsx(yr,{className:La.link,underline:!1,children:"Головна"})}),h.jsx(ys,{className:t,to:yt.songslist,children:h.jsx(yr,{className:La.link,underline:!1,children:"Список пісень"})}),h.jsx(ys,{className:t,end:!0,to:Wy.chat,children:h.jsx(yr,{className:La.link,underline:!1,children:"Чат"})})]})}function QF(t){return h.jsxs(Ye,{fill:"none",...t,children:[h.jsx("path",{d:"M3.55844 12.8077H21.5584",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M3.55844 6.80774H21.5584",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M3.55844 18.8077H21.5584",strokeLinecap:"round",strokeLinejoin:"round"})]})}function YF(){const t=T.useCallback(()=>{const n=window.innerWidth-document.body.offsetWidth;document.body.style.overflow="hidden",document.body.style.width="100%",document.body.style.paddingRight=`${n}px`},[]),e=T.useCallback(()=>{document.body.style.overflow="",document.body.style.width="auto",document.body.style.paddingRight="0px"},[]);return{lockScroll:t,unlockScroll:e}}function C1(t){return h.jsxs(Ye,{fill:"none",...t,children:[h.jsx("path",{d:"M18 6L6 18",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M6 6L18 18",strokeLinecap:"round",strokeLinejoin:"round"})]})}const XF="_Menu_b65v5_18",JF="_backdrop_b65v5_50",ZF="_show_b65v5_80",e7="_close_b65v5_86",t7="_menuItems_b65v5_93",Na={Menu:XF,backdrop:JF,"hide-menu":"_hide-menu_b65v5_1",show:ZF,"show-menu":"_show-menu_b65v5_1",close:e7,menuItems:t7},T1=T.forwardRef(({children:t,isOpen:e,scrollLock:n,onClick:r,closeButton:i,preventItemClickClose:s,menuOrigin:o,anchorOrigin:a,...l},u)=>{const c=T.useRef(null),[d,f]=T.useState(!0),[p,y]=T.useState({}),{lockScroll:m,unlockScroll:S}=YF();if(T.useEffect(()=>(e&&n&&m(),S),[e]),T.useEffect(()=>{f(!0)},[e]),T.useEffect(()=>{var H,$;const _=($=(H=c.current)==null?void 0:H.parentElement)==null?void 0:$.getBoundingClientRect(),C={width:(_==null?void 0:_.width)||0,height:(_==null?void 0:_.height)||0,horizontalHalf:((_==null?void 0:_.width)||0)/2,verticalHalf:((_==null?void 0:_.height)||0)/2},I={},b=a==null?void 0:a.horizontal,O=a==null?void 0:a.vertical,A=o==null?void 0:o.horizontal,D=o==null?void 0:o.vertical;A==="left"&&(b==="left"&&(I.left=0),b==="center"&&(I.left=C.horizontalHalf),b==="right"&&(I.left=C.width)),A==="right"&&(b==="left"&&(I.right=C.width),b==="center"&&(I.right=C.horizontalHalf),b==="right"&&(I.right=0)),D==="top"&&(O==="top"&&(I.top=0),O==="center"&&(I.top=C.verticalHalf),O==="bottom"&&(I.top=C.height)),D==="bottom"&&(O==="top"&&(I.bottom=C.height),O==="center"&&(I.bottom=C.verticalHalf),O==="bottom"&&(I.bottom=0));const Q=o?`${o==null?void 0:o.horizontal} ${o==null?void 0:o.vertical}`:"left top";y({...I,transformOrigin:Q})},[e]),!e)return null;const v=()=>{f(!1)},g=()=>{d||(r(),S())},w=_=>{s&&_.stopPropagation()};return h.jsxs(h.Fragment,{children:[h.jsx("div",{role:"navigation",className:Na.backdrop,onClick:v,ref:u,...l}),h.jsxs("nav",{onAnimationEnd:g,ref:c,className:W.join(Na.Menu,d&&Na.show),style:p,children:[h.jsx("ul",{className:Na.menuItems,onClick:w,children:t}),i&&h.jsx(_t,{className:Na.close,onClick:v,type:"secondary",size:"small",children:h.jsx(C1,{size:"small"})})]})]})});T1.displayName="Menu";const n7="_MenuContainer_xz9l3_1",r7={MenuContainer:n7},I1=T.forwardRef(({children:t,className:e,...n},r)=>h.jsx("div",{className:W.join(r7.MenuContainer,e),ref:r,...n,children:t}));I1.displayName="MenuContainer";const i7="_MenuDivider_3of8s_1",s7={MenuDivider:i7},$g=T.forwardRef(({className:t,...e},n)=>h.jsx("span",{className:W.join(s7.MenuDivider,t),ref:n,...e}));$g.displayName="MenuDivider";const o7="_MenuItem_frda9_46",a7="_disabled_frda9_70",gS={MenuItem:o7,disabled:a7},Es=T.forwardRef(({disabled:t,children:e,className:n,...r},i)=>{const s=[t&&gS.disabled];return h.jsx("li",{className:W.join(gS.MenuItem,n,s),ref:i,...r,children:e})});Es.displayName="MenuItem";const l7="_NavigationMobile_1g68x_1",u7="_active_1g68x_7",c7="_link_1g68x_7",Oa={NavigationMobile:l7,active:u7,link:c7};function d7(){const[t,e]=T.useState(!1),n=()=>{e(!0)},r=()=>{e(!1)},i=({isActive:s})=>s?Oa.active:"";return h.jsx(E1,{className:Oa.NavigationMobile,children:h.jsxs(I1,{children:[h.jsxs(T1,{isOpen:t,onClick:r,anchorOrigin:{horizontal:"right",vertical:"top"},menuOrigin:{horizontal:"right",vertical:"top"},preventItemClickClose:!0,children:[h.jsx(Es,{children:h.jsx(ys,{className:i,end:!0,to:yt.home,children:h.jsx(yr,{className:Oa.link,underline:!1,children:"Головна"})})}),h.jsx(Es,{children:h.jsx(ys,{className:i,to:yt.songslist,children:h.jsx(yr,{className:Oa.link,underline:!1,children:"Список пісень"})})}),h.jsx(Es,{children:h.jsx(ys,{className:i,end:!0,to:Wy.chat,children:h.jsx(yr,{className:Oa.link,underline:!1,children:"Чат"})})})]}),h.jsx(_t,{type:"text",onClick:n,children:h.jsx(QF,{})})]})})}function f7(){localStorage.clear(),window.location.reload()}const h7={theme:"dark",fullscreen:!0},$x=_1({name:"app",initialState:h7,reducers:{setTheme(t,e){t.theme=e.payload},toggleTheme(t){t.theme=t.theme==="light"?"dark":"light"},toggleFullscreen(t){t.fullscreen=!t.fullscreen}}});function p7(t,e){return typeof t=="string"?t[0]:W.isObject(t)&&e||Array.isArray(t)&&e&&typeof e=="number"?String(t[e])[0]:""}function m7(t,e){const n=t[0];if(typeof n!="string"&&!W.isObject(n)&&!Array.isArray(n))throw new Error("Invalid value");if((W.isObject(n)||Array.isArray(n))&&!e)throw new Error("No key provided");if(Array.isArray(n)&&typeof e=="string")throw new Error("Key should be array index number");const r=new Map;return t.forEach(i=>{const s=p7(i,e||void 0);r.has(s)?r.set(s,[...r.get(s),i]):r.set(s,[i])}),Array.from(r.entries())}function g7(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!W.isObject(r)&&!Array.isArray(r))throw new Error("Invalid value");if((W.isObject(r)||Array.isArray(r))&&!e)throw new Error("No key provided");if(Array.isArray(r)&&typeof e=="string")throw new Error("Key should be array index number");let i=[];return(typeof r=="string"||typeof r=="number")&&(i=n.filter(s=>String(s).trim()!=="")),W.isObject(r)&&e&&(i=n.filter(s=>String(s[e]).trim()!=="")),Array.isArray(r)&&e&&typeof e=="number"&&(i=n.filter(s=>String(s[e]).trim()!=="")),i}function y7(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!W.isObject(r)&&!Array.isArray(r))throw new Error("Invalid value");if((W.isObject(r)||Array.isArray(r))&&!e)throw new Error("No key provided");if(Array.isArray(r)&&typeof e=="string")throw new Error("Key should be array index number");let i=[];return(typeof r=="string"||typeof r=="string")&&(i=n.sort((s,o)=>{const a=String(s),l=String(o);return a.localeCompare(l)})),W.isObject(r)&&e&&(i=n.sort((s,o)=>{const a=String(s[e]),l=String(o[e]);return a.localeCompare(l.toString())})),Array.isArray(r)&&e&&typeof e=="number"&&(i=n.sort((s,o)=>{const a=String(s[e]),l=String(o[e]);return a.localeCompare(l)})),i}const v7="16wsDcFtQ7J1nYrlSkEB8KgLp_XpyCdwH-SIi0fuqapc";function w7(t){let e;if(t){const n=y7(t,"value"),r=g7(n,"value");e=m7(r,"value")}return e}const ml=Eh("songsList/fetchSongsList",async(t,e)=>{try{const n=await An.google.appsscript.getAllTitledColumnsDataSingle({spreadsheetId:v7,sheetName:"common"}),r=Object.entries(n.data),i=[];return r.map(o=>{const a=o[0];i.push(a);const l=w7(o[1].values);return[a,l]})}catch(n){return e.rejectWithValue(pe(n))}}),_7="_Icon_1telp_46",S7="_disabled_1telp_53",E7="_clickable_1telp_61",C7="_tiny_1telp_65",T7="_small_1telp_69",I7="_medium_1telp_77",b7="_large_1telp_81",k7="_extra_1telp_85",yS={Icon:_7,disabled:S7,clickable:E7,tiny:C7,small:T7,default:"_default_1telp_73",medium:I7,large:b7,extra:k7},Hr=T.forwardRef(({size:t="default",width:e=24,height:n=24,onClick:r,children:i,className:s,style:o,...a},l)=>{const u=[r&&"clickable",t&&yS[t]],c=t==="custom"?{width:e,height:n}:{};return h.jsx("div",{className:W.join(yS.Icon,s,u),onClick:r,ref:l,style:{...o,...c},...a,children:i})});Hr.displayName="Icon";function x7(t){return h.jsx(Ye,{fill:"none",...t,children:h.jsx("path",{d:"M21 12.79C20.8427 14.4922 20.2039 16.1144 19.1582 17.4668C18.1126 18.8192 16.7035 19.8458 15.0957 20.4265C13.4879 21.0073 11.748 21.1181 10.0795 20.7461C8.41101 20.3741 6.88299 19.5345 5.67422 18.3258C4.46545 17.117 3.62593 15.589 3.2539 13.9205C2.88187 12.252 2.99271 10.5121 3.57345 8.9043C4.1542 7.29651 5.18082 5.88737 6.53321 4.84175C7.88559 3.79614 9.50779 3.15731 11.21 3C10.2134 4.34827 9.73384 6.00945 9.85852 7.68141C9.98321 9.35338 10.7039 10.9251 11.8894 12.1106C13.0749 13.2961 14.6466 14.0168 16.3186 14.1415C17.9905 14.2662 19.6517 13.7866 21 12.79V12.79Z",strokeLinecap:"round",strokeLinejoin:"round"})})}function R7(t){return h.jsxs(Ye,{fill:"none",...t,children:[h.jsx("circle",{cx:"12",cy:"12",r:"1"}),h.jsx("circle",{cx:"12",cy:"5",r:"1"}),h.jsx("circle",{cx:"12",cy:"19",r:"1"})]})}function A7(t){return h.jsxs(Ye,{fill:"none",...t,children:[h.jsx("polyline",{points:"1 4 1 10 7 10"}),h.jsx("polyline",{points:"23 20 23 14 17 14"}),h.jsx("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})]})}function P7(t){return h.jsxs(Ye,{fill:"none",...t,children:[h.jsx("polyline",{points:"1 4 1 10 7 10"}),h.jsx("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})]})}function L7(t){return h.jsxs(Ye,{fill:"none",...t,children:[h.jsxs("g",{clipPath:"url(#clip0_1475_3120)",children:[h.jsx("path",{d:"M12 17C14.7614 17 17 14.7614 17 12C17 9.23858 14.7614 7 12 7C9.23858 7 7 9.23858 7 12C7 14.7614 9.23858 17 12 17Z",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 1V3",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 21V23",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M4.22 4.22L5.64 5.64",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M18.36 18.36L19.78 19.78",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M1 12H3",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M21 12H23",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M4.22 19.78L5.64 18.36",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M18.36 5.64L19.78 4.22",strokeLinecap:"round",strokeLinejoin:"round"})]}),h.jsx("defs",{children:h.jsx("clipPath",{id:"clip0_1475_3120",children:h.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}const N7={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6"},ce=T.forwardRef(({component:t,display:e,children:n,className:r,...i},s)=>{const o=t||"p",a=e?hn[e]:null,l=t?hn[t]:hn.p1,u={className:W.join(r,a||l),ref:s,...i},c=N7[o]||"p";return h.jsx(Hy,{as:c,...u,children:n})});ce.displayName="Typography";function O7(){const e=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";return document.documentElement.setAttribute("data-theme",e),e}function D7(){const[t,e]=T.useState(!1),{theme:n}=ii(c=>c.appReducer),{actions:r}=$x,i=Yi(),s=()=>{e(!0)},o=()=>{e(!1)},a=()=>{e(!1),f7()},l=()=>{e(!1),i(ml())},u=()=>{const c=O7();i(r.setTheme(c))};return h.jsxs(I1,{children:[h.jsxs(T1,{isOpen:t,onClick:o,anchorOrigin:{horizontal:"right",vertical:"top"},menuOrigin:{horizontal:"right",vertical:"top"},preventItemClickClose:!0,children:[h.jsxs(Es,{onClick:a,children:[h.jsx(Hr,{children:h.jsx(P7,{})}),h.jsx(ce,{component:"p1",children:"Скинути налаштування"})]}),h.jsx($g,{}),h.jsxs(Es,{onClick:l,children:[h.jsx(Hr,{children:h.jsx(A7,{})}),h.jsx(ce,{component:"p1",children:"Оновити список пісень"})]}),h.jsx($g,{}),h.jsxs(Es,{onClick:u,children:[h.jsx(Hr,{children:n==="dark"?h.jsx(x7,{}):h.jsx(L7,{})}),h.jsxs(ce,{component:"p1",children:["Тема:"," ",n==="dark"?"темна":"світла"]})]})]}),h.jsx(_t,{type:"text",onClick:s,children:h.jsx(R7,{})})]})}const j7="_Header_yqrt5_1",M7="_container_yqrt5_5",$7="_controls_yqrt5_13",Dp={Header:j7,container:M7,controls:$7};function U7(){const{isScreenMD:t}=jx(),e=Yi(),{photoURL:n,displayName:r,email:i}=ii(y=>y.userReducer),{pathname:s}=qi(),o=Fs(),{isAuth:a}=Ky(),{removeUser:l}=Lu.actions,u=()=>{e(l()),An.google.firebase.auth.signOut(),o(yt.home)},c=()=>{o(yt.login)},d=sl(s,"login"),f=sl(s,"signup"),p=sl(s,"songslist");return h.jsx(Be,{component:"header",className:Dp.Header,children:h.jsxs(Ir,{container:!0,component:"section",className:Dp.container,children:[h.jsx(FU,{}),h.jsxs(Be,{className:Dp.controls,children:[!p&&h.jsxs(h.Fragment,{children:[!t&&!(d||f)&&h.jsx(GF,{}),t&&!(d||f)&&h.jsx(d7,{}),a?!(d||f)&&h.jsx(Hd,{src:n,alt:r,char:r[0]||i[0],size:"small",onClick:u}):!(d||f)&&h.jsx(_t,{size:"small",onClick:c,children:"Увійти"})]}),h.jsx(D7,{})]})]})})}function F7(t){t&&document.documentElement.style.setProperty("--vh",`${t}px`)}function V7(){const t=typeof window<"u";function e(){return t?window.innerHeight:null}const[n,r]=T.useState(e());return T.useEffect(()=>{F7(n)},[n]),T.useEffect(()=>(window.addEventListener("resize",()=>r(e())),()=>window.addEventListener("resize",()=>r(e()))),[t]),T.useEffect(()=>(window.addEventListener("orientationchange",()=>r(e())),()=>window.addEventListener("orientationchange",()=>r(e()))),[t]),{viewportHeight:n}}function z7(t){const[e,n]=T.useState();return T.useLayoutEffect(()=>{document.body.classList.add("no-transition");const r=t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");n(r),document.documentElement.setAttribute("data-theme",r),setTimeout(()=>document.body.classList.remove("no-transition"),0)},[]),{theme:e}}function B7(){const[t,e]=T.useState(!1);V7();const{theme:n}=ii(u=>u.appReducer);z7(n);const r=Yi(),{actions:i}=Lu,s=Fs(),o=qi(),[a,l]=T.useState("");return T.useLayoutEffect(()=>{document.body.classList.add("scroll")},[]),T.useLayoutEffect(()=>{l(o.pathname)},[o]),T.useEffect(()=>{(async()=>{nM(ga,c=>{var d,f,p,y;c&&r(i.setUser({displayName:(d=c.displayName)==null?void 0:d.toString(),email:(f=c.email)==null?void 0:f.toString(),photoURL:(p=c.photoURL)==null?void 0:p.toString(),uid:(y=c.uid)==null?void 0:y.toString()})),t||(a&&s(a),e(!0))})})()},[]),{isInit:t}}function H7(){const{isInit:t}=B7();return t?h.jsxs(h.Fragment,{children:[h.jsx(U7,{}),h.jsx(lN,{}),h.jsx(vO,{})]}):h.jsx(QN,{})}const Nu=T.forwardRef(({children:t,className:e,...n},r)=>h.jsx("main",{className:W.join(e,"main"),ref:r,...n,children:t}));Nu.displayName="Main";function q7(){return h.jsx(Nu,{children:h.jsx(ce,{component:"h1",children:"About"})})}function W7(){return h.jsx(Nu,{children:h.jsx(ce,{component:"h1",children:"ChordsList"})})}const K7="_container_1l783_1",G7="_title_1l783_9",Q7="_title40_1l783_13",Y7="_title4_1l783_13",X7="_description_1l783_22",Da={container:K7,title:G7,title40:Q7,title4:Y7,"char-animation":"_char-animation_1l783_1",description:X7};function J7(){const t=Fs();return h.jsx(Be,{component:"main",children:h.jsxs(Ir,{container:!0,component:"section",className:Da.container,children:[h.jsx(_t,{size:"small",onClick:()=>t(yt.home),children:"На головну"}),h.jsxs(Be,{className:Da.title,children:[h.jsx(ce,{component:"p1",display:"h1",className:Da.title40,children:"40"}),h.jsx(ce,{component:"p1",display:"h1",className:Da.title4,children:"4"})]}),h.jsx(Be,{className:Da.description,children:h.jsxs(ce,{component:"p2",children:["Вибачте, сторінки не існує",h.jsx("br",{}),"або функціонал ще в процесі розробки",h.jsx("br",{}),"¯\\_(ツ)_/¯"]})})]})})}const Z7="_container_3nddt_1",eV="_description_3nddt_9",vS={container:Z7,description:eV};function tV(){const t=wT(),e=Fs();return vo(t)&&t.status?h.jsx(J7,{}):h.jsx(Be,{component:"main",children:h.jsx(Ir,{container:!0,component:"section",className:vS.container,children:h.jsxs(h.Fragment,{children:[h.jsx(_t,{size:"small",onClick:()=>e(yt.home),children:"На головну"}),h.jsx(ce,{component:"h3",children:"Сорі, виникла помилка =("}),h.jsx(Be,{className:vS.description,children:h.jsxs(h.Fragment,{children:[h.jsx(ce,{component:"h4",children:vo(t)&&t.status}),h.jsxs(ce,{component:"h5",children:[t instanceof Error&&t.message,vo(t)&&t.statusText,vo(t)&&t.data.message]})]})})]})})})}const nV="_HomePage_1l60f_46",rV="_container_1l60f_46",wS={HomePage:nV,container:rV};function iV(){return h.jsx(Be,{component:"main",className:wS.HomePage,children:h.jsxs(Ir,{container:!0,component:"section",className:wS.container,children:[h.jsx(ce,{component:"h1",children:"Вітаю на сайті 👋"}),h.jsx(ce,{component:"h6",children:"Сайт знаходиться в розробці"}),h.jsx(ce,{component:"h6",children:"Якщо ви знайшли баг або у вас є якісь пропозиції, побажання, коментарі, пишіть в Телеграм 😊"}),h.jsx(Dx,{href:"https://t.me/amelianceskymusic",blank:!0,children:"Написати"})]})})}var Ou=t=>t.type==="checkbox",So=t=>t instanceof Date,en=t=>t==null;const Ux=t=>typeof t=="object";var xt=t=>!en(t)&&!Array.isArray(t)&&Ux(t)&&!So(t),sV=t=>xt(t)&&t.target?Ou(t.target)?t.target.checked:t.target.value:t,oV=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,aV=(t,e)=>t.has(oV(e)),Du=t=>Array.isArray(t)?t.filter(Boolean):[],ct=t=>t===void 0,Z=(t,e,n)=>{if(!e||!xt(t))return n;const r=Du(e.split(/[,[\].]+?/)).reduce((i,s)=>en(i)?i:i[s],t);return ct(r)||r===t?ct(t[e])?n:t[e]:r};const _S={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Xn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},kr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Qn.createContext(null);var lV=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Xn.all&&(e._proxyFormState[o]=!r||Xn.all),n&&(n[o]=!0),t[o]}});return i},Rn=t=>xt(t)&&!Object.keys(t).length,uV=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Rn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Xn.all))},jp=t=>Array.isArray(t)?t:[t];function cV(t){const e=Qn.useRef(t);e.current=t,Qn.useEffect(()=>{const n=!t.disabled&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var pr=t=>typeof t=="string",dV=(t,e,n,r,i)=>pr(t)?(r&&e.watch.add(t),Z(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Z(n,s))):(r&&(e.watchAll=!0),n),fV=t=>{const e=t.constructor&&t.constructor.prototype;return xt(e)&&e.hasOwnProperty("isPrototypeOf")},b1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function is(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(b1&&(t instanceof Blob||t instanceof FileList))&&(n||xt(t)))if(e=n?[]:{},!Array.isArray(t)&&!fV(t))e=t;else for(const r in t)e[r]=is(t[r]);else return t;return e}var hV=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},k1=t=>/^\w*$/.test(t),Fx=t=>Du(t.replace(/["|']|\]/g,"").split(/\.|\[/));function He(t,e,n){let r=-1;const i=k1(e)?[e]:Fx(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=xt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t}const Ug=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=Z(t,r);if(i){const{_f:s,...o}=i;if(s&&e(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else xt(o)&&Ug(o,e)}}};var SS=t=>({isOnSubmit:!t||t===Xn.onSubmit,isOnBlur:t===Xn.onBlur,isOnChange:t===Xn.onChange,isOnAll:t===Xn.all,isOnTouch:t===Xn.onTouched}),ES=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),pV=(t,e,n)=>{const r=Du(Z(t,n));return He(r,"root",e[n]),He(t,n,r),t},Do=t=>typeof t=="boolean",x1=t=>t.type==="file",jo=t=>typeof t=="function",qd=t=>{if(!b1)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Fc=t=>pr(t)||Qn.isValidElement(t),R1=t=>t.type==="radio",Wd=t=>t instanceof RegExp;const CS={value:!1,isValid:!1},TS={value:!0,isValid:!0};var Vx=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ct(t[0].attributes.value)?ct(t[0].value)||t[0].value===""?TS:{value:t[0].value,isValid:!0}:TS:CS}return CS};const IS={isValid:!1,value:null};var zx=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,IS):IS;function bS(t,e,n="validate"){if(Fc(t)||Array.isArray(t)&&t.every(Fc)||Do(t)&&!t)return{type:n,message:Fc(t)?t:"",ref:e}}var Zs=t=>xt(t)&&!Wd(t)?t:{value:t,message:""},kS=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:d,pattern:f,validate:p,name:y,valueAsNumber:m,mount:S,disabled:v}=t._f,g=Z(e,y);if(!S||v)return{};const w=o?o[0]:s,_=H=>{r&&w.reportValidity&&(w.setCustomValidity(Do(H)?"":H||""),w.reportValidity())},C={},I=R1(s),b=Ou(s),O=I||b,A=(m||x1(s))&&ct(s.value)&&ct(g)||qd(s)&&s.value===""||g===""||Array.isArray(g)&&!g.length,D=hV.bind(null,y,n,C),Q=(H,$,ae,be=kr.maxLength,je=kr.minLength)=>{const at=H?$:ae;C[y]={type:H?be:je,message:at,ref:s,...D(H?be:je,at)}};if(i?!Array.isArray(g)||!g.length:a&&(!O&&(A||en(g))||Do(g)&&!g||b&&!Vx(o).isValid||I&&!zx(o).isValid)){const{value:H,message:$}=Fc(a)?{value:!!a,message:a}:Zs(a);if(H&&(C[y]={type:kr.required,message:$,ref:w,...D(kr.required,$)},!n))return _($),C}if(!A&&(!en(c)||!en(d))){let H,$;const ae=Zs(d),be=Zs(c);if(!en(g)&&!isNaN(g)){const je=s.valueAsNumber||g&&+g;en(ae.value)||(H=je>ae.value),en(be.value)||($=je<be.value)}else{const je=s.valueAsDate||new Date(g),at=re=>new Date(new Date().toDateString()+" "+re),q=s.type=="time",K=s.type=="week";pr(ae.value)&&g&&(H=q?at(g)>at(ae.value):K?g>ae.value:je>new Date(ae.value)),pr(be.value)&&g&&($=q?at(g)<at(be.value):K?g<be.value:je<new Date(be.value))}if((H||$)&&(Q(!!H,ae.message,be.message,kr.max,kr.min),!n))return _(C[y].message),C}if((l||u)&&!A&&(pr(g)||i&&Array.isArray(g))){const H=Zs(l),$=Zs(u),ae=!en(H.value)&&g.length>H.value,be=!en($.value)&&g.length<$.value;if((ae||be)&&(Q(ae,H.message,$.message),!n))return _(C[y].message),C}if(f&&!A&&pr(g)){const{value:H,message:$}=Zs(f);if(Wd(H)&&!g.match(H)&&(C[y]={type:kr.pattern,message:$,ref:s,...D(kr.pattern,$)},!n))return _($),C}if(p){if(jo(p)){const H=await p(g,e),$=bS(H,w);if($&&(C[y]={...$,...D(kr.validate,$.message)},!n))return _($.message),C}else if(xt(p)){let H={};for(const $ in p){if(!Rn(H)&&!n)break;const ae=bS(await p[$](g,e),w,$);ae&&(H={...ae,...D($,ae.message)},_(ae.message),n&&(C[y]=H))}if(!Rn(H)&&(C[y]={ref:w,...H},!n))return C}}return _(!0),C};function mV(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ct(t)?r++:t[e[r++]];return t}function gV(t){for(const e in t)if(!ct(t[e]))return!1;return!0}function Ft(t,e){const n=Array.isArray(e)?e:k1(e)?[e]:Fx(e),r=n.length===1?t:mV(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(xt(r)&&Rn(r)||Array.isArray(r)&&gV(r))&&Ft(t,n.slice(0,-1)),t}function Mp(){let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}}var Kd=t=>en(t)||!Ux(t);function ps(t,e){if(Kd(t)||Kd(e))return t===e;if(So(t)&&So(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(So(s)&&So(o)||xt(s)&&xt(o)||Array.isArray(s)&&Array.isArray(o)?!ps(s,o):s!==o)return!1}}return!0}var Bx=t=>t.type==="select-multiple",yV=t=>R1(t)||Ou(t),$p=t=>qd(t)&&t.isConnected,Hx=t=>{for(const e in t)if(jo(t[e]))return!0;return!1};function Gd(t,e={}){const n=Array.isArray(t);if(xt(t)||n)for(const r in t)Array.isArray(t[r])||xt(t[r])&&!Hx(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Gd(t[r],e[r])):en(t[r])||(e[r]=!0);return e}function qx(t,e,n){const r=Array.isArray(t);if(xt(t)||r)for(const i in t)Array.isArray(t[i])||xt(t[i])&&!Hx(t[i])?ct(e)||Kd(n[i])?n[i]=Array.isArray(t[i])?Gd(t[i],[]):{...Gd(t[i])}:qx(t[i],en(e)?{}:e[i],n[i]):ps(t[i],e[i])?delete n[i]:n[i]=!0;return n}var Up=(t,e)=>qx(t,e,Gd(e)),Wx=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ct(t)?t:e?t===""?NaN:t&&+t:n&&pr(t)?new Date(t):r?r(t):t;function Fp(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return x1(e)?e.files:R1(e)?zx(t.refs).value:Bx(e)?[...e.selectedOptions].map(({value:n})=>n):Ou(e)?Vx(t.refs).value:Wx(ct(e.value)?t.ref.value:e.value,t)}var vV=(t,e,n,r)=>{const i={};for(const s of t){const o=Z(e,s);o&&He(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},ja=t=>ct(t)?t:Wd(t)?t.source:xt(t)?Wd(t.value)?t.value.source:t.value:t,wV=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function xS(t,e,n){const r=Z(t,n);if(r||k1(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Z(e,s),a=Z(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var _V=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,SV=(t,e)=>!Du(Z(t,e)).length&&Ft(t,e);const EV={mode:Xn.onSubmit,reValidateMode:Xn.onChange,shouldFocusError:!0};function CV(t={},e){let n={...EV,...t};const r=t.resetOptions&&t.resetOptions.keepDirtyValues;let i={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},s={},o=xt(n.defaultValues)?is(n.defaultValues)||{}:{},a=n.shouldUnregister?{}:is(o),l={action:!1,mount:!1,watch:!1},u={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={watch:Mp(),array:Mp(),state:Mp()},y=SS(n.mode),m=SS(n.reValidateMode),S=n.criteriaMode===Xn.all,v=E=>k=>{clearTimeout(d),d=window.setTimeout(E,k)},g=async E=>{if(f.isValid||E){const k=n.resolver?Rn((await A()).errors):await Q(s,!0);k!==i.isValid&&(i.isValid=k,p.state.next({isValid:k}))}},w=E=>f.isValidating&&p.state.next({isValidating:E}),_=(E,k=[],x,j,B=!0,P=!0)=>{if(j&&x){if(l.action=!0,P&&Array.isArray(Z(s,E))){const L=x(Z(s,E),j.argA,j.argB);B&&He(s,E,L)}if(P&&Array.isArray(Z(i.errors,E))){const L=x(Z(i.errors,E),j.argA,j.argB);B&&He(i.errors,E,L),SV(i.errors,E)}if(f.touchedFields&&P&&Array.isArray(Z(i.touchedFields,E))){const L=x(Z(i.touchedFields,E),j.argA,j.argB);B&&He(i.touchedFields,E,L)}f.dirtyFields&&(i.dirtyFields=Up(o,a)),p.state.next({name:E,isDirty:$(E,k),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else He(a,E,k)},C=(E,k)=>{He(i.errors,E,k),p.state.next({errors:i.errors})},I=(E,k,x,j)=>{const B=Z(s,E);if(B){const P=Z(a,E,ct(x)?Z(o,E):x);ct(P)||j&&j.defaultChecked||k?He(a,E,k?P:Fp(B._f)):je(E,P),l.mount&&g()}},b=(E,k,x,j,B)=>{let P=!1,L=!1;const ve={name:E};if(!x||j){f.isDirty&&(L=i.isDirty,i.isDirty=ve.isDirty=$(),P=L!==ve.isDirty);const Ee=ps(Z(o,E),k);L=Z(i.dirtyFields,E),Ee?Ft(i.dirtyFields,E):He(i.dirtyFields,E,!0),ve.dirtyFields=i.dirtyFields,P=P||f.dirtyFields&&L!==!Ee}if(x){const Ee=Z(i.touchedFields,E);Ee||(He(i.touchedFields,E,x),ve.touchedFields=i.touchedFields,P=P||f.touchedFields&&Ee!==x)}return P&&B&&p.state.next(ve),P?ve:{}},O=(E,k,x,j)=>{const B=Z(i.errors,E),P=f.isValid&&Do(k)&&i.isValid!==k;if(t.delayError&&x?(c=v(()=>C(E,x)),c(t.delayError)):(clearTimeout(d),c=null,x?He(i.errors,E,x):Ft(i.errors,E)),(x?!ps(B,x):B)||!Rn(j)||P){const L={...j,...P&&Do(k)?{isValid:k}:{},errors:i.errors,name:E};i={...i,...L},p.state.next(L)}w(!1)},A=async E=>await n.resolver(a,n.context,vV(E||u.mount,s,n.criteriaMode,n.shouldUseNativeValidation)),D=async E=>{const{errors:k}=await A();if(E)for(const x of E){const j=Z(k,x);j?He(i.errors,x,j):Ft(i.errors,x)}else i.errors=k;return k},Q=async(E,k,x={valid:!0})=>{for(const j in E){const B=E[j];if(B){const{_f:P,...L}=B;if(P){const ve=u.array.has(P.name),Ee=await kS(B,a,S,n.shouldUseNativeValidation,ve);if(Ee[P.name]&&(x.valid=!1,k))break;!k&&(Z(Ee,P.name)?ve?pV(i.errors,Ee,P.name):He(i.errors,P.name,Ee[P.name]):Ft(i.errors,P.name))}L&&await Q(L,k,x)}}return x.valid},H=()=>{for(const E of u.unMount){const k=Z(s,E);k&&(k._f.refs?k._f.refs.every(x=>!$p(x)):!$p(k._f.ref))&&Fe(E)}u.unMount=new Set},$=(E,k)=>(E&&k&&He(a,E,k),!ps(Re(),o)),ae=(E,k,x)=>dV(E,u,{...l.mount?a:ct(k)?o:pr(E)?{[E]:k}:k},x,k),be=E=>Du(Z(l.mount?a:o,E,t.shouldUnregister?Z(o,E,[]):[])),je=(E,k,x={})=>{const j=Z(s,E);let B=k;if(j){const P=j._f;P&&(!P.disabled&&He(a,E,Wx(k,P)),B=qd(P.ref)&&en(k)?"":k,Bx(P.ref)?[...P.ref.options].forEach(L=>L.selected=B.includes(L.value)):P.refs?Ou(P.ref)?P.refs.length>1?P.refs.forEach(L=>(!L.defaultChecked||!L.disabled)&&(L.checked=Array.isArray(B)?!!B.find(ve=>ve===L.value):B===L.value)):P.refs[0]&&(P.refs[0].checked=!!B):P.refs.forEach(L=>L.checked=L.value===B):x1(P.ref)?P.ref.value="":(P.ref.value=B,P.ref.type||p.watch.next({name:E})))}(x.shouldDirty||x.shouldTouch)&&b(E,B,x.shouldTouch,x.shouldDirty,!0),x.shouldValidate&&re(E)},at=(E,k,x)=>{for(const j in k){const B=k[j],P=`${E}.${j}`,L=Z(s,P);(u.array.has(E)||!Kd(B)||L&&!L._f)&&!So(B)?at(P,B,x):je(P,B,x)}},q=(E,k,x={})=>{const j=Z(s,E),B=u.array.has(E),P=is(k);He(a,E,P),B?(p.array.next({name:E,values:a}),(f.isDirty||f.dirtyFields)&&x.shouldDirty&&(i.dirtyFields=Up(o,a),p.state.next({name:E,dirtyFields:i.dirtyFields,isDirty:$(E,P)}))):j&&!j._f&&!en(P)?at(E,P,x):je(E,P,x),ES(E,u)&&p.state.next({}),p.watch.next({name:E}),!l.mount&&e()},K=async E=>{const k=E.target;let x=k.name;const j=Z(s,x),B=()=>k.type?Fp(j._f):sV(E);if(j){let P,L;const ve=B(),Ee=E.type===_S.BLUR||E.type===_S.FOCUS_OUT,Ks=!wV(j._f)&&!n.resolver&&!Z(i.errors,x)&&!j._f.deps||_V(Ee,Z(i.touchedFields,x),i.isSubmitted,m,y),va=ES(x,u,Ee);He(a,x,ve),Ee?(j._f.onBlur&&j._f.onBlur(E),c&&c(0)):j._f.onChange&&j._f.onChange(E);const Gs=b(x,ve,Ee,!1),Th=!Rn(Gs)||va;if(!Ee&&p.watch.next({name:x,type:E.type}),Ks)return f.isValid&&g(),Th&&p.state.next({name:x,...va?{}:Gs});if(!Ee&&va&&p.state.next({}),w(!0),n.resolver){const{errors:R}=await A([x]),N=xS(i.errors,s,x),M=xS(R,s,N.name||x);P=M.error,x=M.name,L=Rn(R)}else P=(await kS(j,a,S,n.shouldUseNativeValidation))[x],P?L=!1:f.isValid&&(L=await Q(s,!0));j._f.deps&&re(j._f.deps),O(x,L,P,Gs)}},re=async(E,k={})=>{let x,j;const B=jp(E);if(w(!0),n.resolver){const P=await D(ct(E)?E:B);x=Rn(P),j=E?!B.some(L=>Z(P,L)):x}else E?(j=(await Promise.all(B.map(async P=>{const L=Z(s,P);return await Q(L&&L._f?{[P]:L}:L)}))).every(Boolean),!(!j&&!i.isValid)&&g()):j=x=await Q(s);return p.state.next({...!pr(E)||f.isValid&&x!==i.isValid?{}:{name:E},...n.resolver||!E?{isValid:x}:{},errors:i.errors,isValidating:!1}),k.shouldFocus&&!j&&Ug(s,P=>P&&Z(i.errors,P),E?B:u.mount),j},Re=E=>{const k={...o,...l.mount?a:{}};return ct(E)?k:pr(E)?Z(k,E):E.map(x=>Z(k,x))},Me=(E,k)=>({invalid:!!Z((k||i).errors,E),isDirty:!!Z((k||i).dirtyFields,E),isTouched:!!Z((k||i).touchedFields,E),error:Z((k||i).errors,E)}),ht=E=>{E?jp(E).forEach(k=>Ft(i.errors,k)):i.errors={},p.state.next({errors:i.errors})},Ct=(E,k,x)=>{const j=(Z(s,E,{_f:{}})._f||{}).ref;He(i.errors,E,{...k,ref:j}),p.state.next({name:E,errors:i.errors,isValid:!1}),x&&x.shouldFocus&&j&&j.focus&&j.focus()},Bn=(E,k)=>jo(E)?p.watch.subscribe({next:x=>E(ae(void 0,k),x)}):ae(E,k,!0),Fe=(E,k={})=>{for(const x of E?jp(E):u.mount)u.mount.delete(x),u.array.delete(x),Z(s,x)&&(k.keepValue||(Ft(s,x),Ft(a,x)),!k.keepError&&Ft(i.errors,x),!k.keepDirty&&Ft(i.dirtyFields,x),!k.keepTouched&&Ft(i.touchedFields,x),!n.shouldUnregister&&!k.keepDefaultValue&&Ft(o,x));p.watch.next({}),p.state.next({...i,...k.keepDirty?{isDirty:$()}:{}}),!k.keepIsValid&&g()},pt=(E,k={})=>{let x=Z(s,E);const j=Do(k.disabled);return He(s,E,{...x||{},_f:{...x&&x._f?x._f:{ref:{name:E}},name:E,mount:!0,...k}}),u.mount.add(E),x?j&&He(a,E,k.disabled?void 0:Z(a,E,Fp(x._f))):I(E,!0,k.value),{...j?{disabled:k.disabled}:{},...n.shouldUseNativeValidation?{required:!!k.required,min:ja(k.min),max:ja(k.max),minLength:ja(k.minLength),maxLength:ja(k.maxLength),pattern:ja(k.pattern)}:{},name:E,onChange:K,onBlur:K,ref:B=>{if(B){pt(E,k),x=Z(s,E);const P=ct(B.value)&&B.querySelectorAll&&B.querySelectorAll("input,select,textarea")[0]||B,L=yV(P),ve=x._f.refs||[];if(L?ve.find(Ee=>Ee===P):P===x._f.ref)return;He(s,E,{_f:{...x._f,...L?{refs:[...ve.filter($p),P,...Array.isArray(Z(o,E))?[{}]:[]],ref:{type:P.type,name:E}}:{ref:P}}}),I(E,!1,void 0,P)}else x=Z(s,E,{}),x._f&&(x._f.mount=!1),(n.shouldUnregister||k.shouldUnregister)&&!(aV(u.array,E)&&l.action)&&u.unMount.add(E)}}},oi=()=>n.shouldFocusError&&Ug(s,E=>E&&Z(i.errors,E),u.mount),ai=(E,k)=>async x=>{x&&(x.preventDefault&&x.preventDefault(),x.persist&&x.persist());let j=is(a);if(p.state.next({isSubmitting:!0}),n.resolver){const{errors:B,values:P}=await A();i.errors=B,j=P}else await Q(s);Rn(i.errors)?(p.state.next({errors:{}}),await E(j,x)):(k&&await k({...i.errors},x),oi()),p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Rn(i.errors),submitCount:i.submitCount+1,errors:i.errors})},F=(E,k={})=>{Z(s,E)&&(ct(k.defaultValue)?q(E,Z(o,E)):(q(E,k.defaultValue),He(o,E,k.defaultValue)),k.keepTouched||Ft(i.touchedFields,E),k.keepDirty||(Ft(i.dirtyFields,E),i.isDirty=k.defaultValue?$(E,Z(o,E)):$()),k.keepError||(Ft(i.errors,E),f.isValid&&g()),p.state.next({...i}))},G=(E,k={})=>{const x=E||o,j=is(x),B=E&&!Rn(E)?j:o;if(k.keepDefaultValues||(o=x),!k.keepValues){if(k.keepDirtyValues||r)for(const P of u.mount)Z(i.dirtyFields,P)?He(B,P,Z(a,P)):q(P,Z(B,P));else{if(b1&&ct(E))for(const P of u.mount){const L=Z(s,P);if(L&&L._f){const ve=Array.isArray(L._f.refs)?L._f.refs[0]:L._f.ref;if(qd(ve)){const Ee=ve.closest("form");if(Ee){Ee.reset();break}}}}s={}}a=t.shouldUnregister?k.keepDefaultValues?is(o):{}:j,p.array.next({values:B}),p.watch.next({values:B})}u={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&e(),l.mount=!f.isValid||!!k.keepIsValid,l.watch=!!t.shouldUnregister,p.state.next({submitCount:k.keepSubmitCount?i.submitCount:0,isDirty:k.keepDirty||k.keepDirtyValues?i.isDirty:!!(k.keepDefaultValues&&!ps(E,o)),isSubmitted:k.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:k.keepDirty||k.keepDirtyValues?i.dirtyFields:k.keepDefaultValues&&E?Up(o,E):{},touchedFields:k.keepTouched?i.touchedFields:{},errors:k.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},ge=(E,k)=>G(jo(E)?E(a):E,k),ye=(E,k={})=>{const x=Z(s,E),j=x&&x._f;if(j){const B=j.refs?j.refs[0]:j.ref;B.focus&&(B.focus(),k.shouldSelect&&B.select())}},de=E=>{i={...i,...E}};return jo(n.defaultValues)&&n.defaultValues().then(E=>{ge(E,n.resetOptions),p.state.next({isLoading:!1})}),{control:{register:pt,unregister:Fe,getFieldState:Me,_executeSchema:A,_focusError:oi,_getWatch:ae,_getDirty:$,_updateValid:g,_removeUnmounted:H,_updateFieldArray:_,_getFieldArray:be,_reset:G,_updateFormState:de,_subjects:p,_proxyFormState:f,get _fields(){return s},get _formValues(){return a},get _stateFlags(){return l},set _stateFlags(E){l=E},get _defaultValues(){return o},get _names(){return u},set _names(E){u=E},get _formState(){return i},set _formState(E){i=E},get _options(){return n},set _options(E){n={...n,...E}}},trigger:re,register:pt,handleSubmit:ai,watch:Bn,setValue:q,getValues:Re,reset:ge,resetField:F,clearErrors:ht,unregister:Fe,setError:Ct,setFocus:ye,getFieldState:Me}}function Kx(t={}){const e=Qn.useRef(),[n,r]=Qn.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:jo(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...CV(t,()=>r(s=>({...s}))),formState:n});const i=e.current.control;return i._options=t,cV({subject:i._subjects.state,next:s=>{uV(s,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),Qn.useEffect(()=>{i._stateFlags.mount||(i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),Qn.useEffect(()=>{t.values&&!ps(t.values,i._defaultValues)&&i._reset(t.values,i._options.resetOptions)},[t.values,i]),Qn.useEffect(()=>{n.submitCount&&i._focusError()},[i,n.submitCount]),e.current.formState=lV(n,i),e.current}function Gx(t){return h.jsxs(Ye,{stroke:"none",...t,children:[h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.64 12.2045C20.64 11.5664 20.5827 10.9527 20.4764 10.3636H12V13.845H16.8436C16.635 14.97 16.0009 15.9232 15.0477 16.5614V18.8195H17.9564C19.6582 17.2527 20.64 14.9454 20.64 12.2045Z",fill:"#4285F4"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 21C14.43 21 16.4673 20.1941 17.9564 18.8196L15.0477 16.5614C14.2418 17.1014 13.2109 17.4205 12 17.4205C9.65591 17.4205 7.67182 15.8373 6.96409 13.71H3.95728V16.0418C5.43818 18.9832 8.48182 21 12 21Z",fill:"#34A853"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.96409 13.71C6.78409 13.17 6.68182 12.5932 6.68182 12C6.68182 11.4068 6.78409 10.83 6.96409 10.29V7.95818H3.95727C3.34773 9.17318 3 10.5477 3 12C3 13.4523 3.34773 14.8268 3.95727 16.0418L6.96409 13.71Z",fill:"#FBBC05"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6.57955C13.3214 6.57955 14.5077 7.03364 15.4405 7.92545L18.0218 5.34409C16.4632 3.89182 14.4259 3 12 3C8.48182 3 5.43818 5.01682 3.95728 7.95818L6.96409 10.29C7.67182 8.16273 9.65591 6.57955 12 6.57955Z",fill:"#EA4335"})]})}const A1=T.forwardRef(({children:t,className:e,...n},r)=>h.jsx("form",{className:e,ref:r,...n,children:t}));A1.displayName="Form";const TV="_inputContainer_5k7mp_1",IV="_input_5k7mp_1",RS={inputContainer:TV,input:IV},bV="_container_bo7dy_1",kV="_inputBlockContainer_bo7dy_8",xV="_input_bo7dy_8",RV="_error_bo7dy_24",nt={container:bV,inputBlockContainer:kV,input:xV,error:RV},AV=T.forwardRef(({register:t=null,errors:e,onLabelClick:n,label:r,children:i,className:s,...o},a)=>{const l=u=>{n&&n(u)};return h.jsxs("div",{className:nt.container,children:[i&&h.jsx(ce,{component:"h3",children:i}),h.jsxs("div",{className:nt.inputBlockContainer,children:[h.jsxs("label",{className:RS.inputContainer,children:[h.jsx("input",{type:"checkbox",className:W.join(RS.input,s),ref:a,...t,...o}),h.jsx(ce,{component:"p1",onClick:l,children:r})]}),t&&h.jsx(ce,{component:"p2",className:W.join(nt.error),children:e&&e[t.name]&&e[t.name].message||""})]})]})});AV.displayName="Checkbox";function PV(t){return h.jsx(Ye,{fill:"none",...t,children:h.jsx("path",{d:"M6 9L12 15L18 9",strokeLinecap:"round",strokeLinejoin:"round"})})}const LV="_inputContainer_izcmr_1",NV="_icon_izcmr_5",OV="_input_izcmr_1",Vp={inputContainer:LV,icon:NV,input:OV},Qx=T.forwardRef(({options:t,register:e,errors:n,selected:r,blank:i,onDropdownChange:s,children:o,className:a,...l},u)=>{const[c,d]=T.useState(r),f=p=>{d(p.target.value),s&&s(p.target.value)};return h.jsxs("div",{className:nt.container,children:[h.jsx(ce,{component:"h5",children:o}),h.jsxs("div",{className:nt.inputBlockContainer,children:[h.jsxs("label",{className:Vp.inputContainer,children:[h.jsxs("select",{className:W.join(Vp.input,nt.input,hn.input,a),value:c,onChange:f,ref:u,...e,...l,children:[i&&h.jsx("option",{children:" "}),t.map(p=>h.jsx("option",{value:p,children:p},p))]}),h.jsx(Hr,{size:"custom",style:{width:20,height:20},className:Vp.icon,onClick:()=>null,children:h.jsx(PV,{size:"custom",style:{width:20,height:20}})})]}),e&&h.jsx(ce,{component:"p2",className:W.join(nt.error),children:n&&n[e==null?void 0:e.name]&&n[e==null?void 0:e.name].message||""})]})]})});Qx.displayName="Dropdown";const P1=T.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>h.jsxs("div",{className:nt.container,children:[h.jsx(ce,{component:"h5",children:r}),h.jsxs("div",{className:nt.inputBlockContainer,children:[h.jsx("label",{children:h.jsx("input",{type:"email",className:W.join(nt.input,hn.input),placeholder:n,ref:s,...t,...i})}),t&&h.jsx(ce,{component:"p2",className:W.join(nt.error),children:e&&e[t==null?void 0:t.name]&&e[t==null?void 0:t.name].message||""})]})]}));P1.displayName="EmailInput";function DV(t){return h.jsxs(Ye,{fill:"none",...t,children:[h.jsx("path",{d:"M23 19C23 19.5304 22.7893 20.0391 22.4142 20.4142C22.0391 20.7893 21.5304 21 21 21H3C2.46957 21 1.96086 20.7893 1.58579 20.4142C1.21071 20.0391 1 19.5304 1 19V8C1 7.46957 1.21071 6.96086 1.58579 6.58579C1.96086 6.21071 2.46957 6 3 6H7L9 3H15L17 6H21C21.5304 6 22.0391 6.21071 22.4142 6.58579C22.7893 6.96086 23 7.46957 23 8V19Z",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 17C14.2091 17 16 15.2091 16 13C16 10.7909 14.2091 9 12 9C9.79086 9 8 10.7909 8 13C8 15.2091 9.79086 17 12 17Z",strokeLinecap:"round",strokeLinejoin:"round"})]})}const jV="_FileImgUpload_142ig_1",MV="_container_142ig_7",$V="_input_142ig_14",UV="_imgPreview_142ig_18",zp={FileImgUpload:jV,container:MV,input:$V,imgPreview:UV},Yx=T.forwardRef(({register:t,errors:e,watch:n,accept:r,label:i,children:s,className:o,...a},l)=>{const[u,c]=T.useState(),d=n(t?t.name:null);return T.useEffect(()=>{let f="";d&&d.length>0&&(f=URL.createObjectURL(d[0])),c(f)},[d]),h.jsxs("div",{className:W.join(zp.FileImgUpload,nt.container),children:[h.jsx(ce,{component:"h5",children:s}),h.jsxs("div",{className:nt.inputBlockContainer,children:[h.jsxs("label",{className:W.join(zp.container,hn.input),children:[h.jsx("input",{type:"file",accept:r||"",className:W.join(zp.input,o),ref:l,...t,...a}),u?h.jsx(Hd,{src:u,alt:u}):h.jsx(Hd,{children:h.jsx(DV,{})}),i]}),t&&h.jsx(ce,{component:"p2",className:W.join(nt.error),children:e&&e[t.name]&&e[t.name].message||""})]})]})});Yx.displayName="FileImgUpload";const FV="_input_1wgeu_1",VV={input:FV},zV=T.forwardRef(({children:t,className:e,...n},r)=>h.jsx("div",{children:h.jsxs("label",{htmlFor:"file",children:[t,h.jsx("input",{type:"file",className:W.join(VV.input,e),id:"file",ref:r,...n})]})}));zV.displayName="FileUpload";function BV(t){return h.jsxs(Ye,{fill:"none",...t,children:[h.jsx("path",{d:"M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",strokeLinecap:"round",strokeLinejoin:"round"})]})}function HV(t){return h.jsxs(Ye,{fill:"none",...t,children:[h.jsxs("g",{clipPath:"url(#clip0_2015_815)",children:[h.jsx("path",{d:"M17.94 17.94C16.2306 19.243 14.1491 19.9649 12 20C5 20 1 12 1 12C2.24389 9.68189 3.96914 7.6566 6.06 6.05999M9.9 4.23999C10.5883 4.07887 11.2931 3.99833 12 3.99999C19 3.99999 23 12 23 12C22.393 13.1356 21.6691 14.2047 20.84 15.19M14.12 14.12C13.8454 14.4147 13.5141 14.6511 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1752 15.0074 10.8016 14.8565C10.4281 14.7056 10.0887 14.481 9.80385 14.1961C9.51897 13.9113 9.29439 13.5719 9.14351 13.1984C8.99262 12.8248 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2218 9.18488 10.8538C9.34884 10.4858 9.58525 10.1546 9.88 9.87999",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M1 1L23 23",strokeLinecap:"round",strokeLinejoin:"round"})]}),h.jsx("defs",{children:h.jsx("clipPath",{id:"clip0_2015_815",children:h.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}const qV="_inputContainer_1lt49_1",WV="_icon_1lt49_5",Bp={inputContainer:qV,icon:WV},L1=T.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>{const[o,a]=T.useState(!1),l=c=>{c.stopPropagation(),a(d=>!d)},u=o?"text":"password";return h.jsxs("div",{className:nt.container,children:[h.jsx(ce,{component:"h5",children:r}),h.jsxs("div",{className:nt.inputBlockContainer,children:[h.jsxs("label",{className:Bp.inputContainer,children:[h.jsx("input",{type:u,className:W.join(Bp.input,nt.input,hn.input),placeholder:n,ref:s,...t,...i}),h.jsx(Hr,{size:"custom",style:{width:20,height:20},className:Bp.icon,onClick:l,children:o?h.jsx(BV,{size:"custom",style:{width:20,height:20}}):h.jsx(HV,{size:"custom",style:{width:20,height:20}})})]}),t&&h.jsx(ce,{component:"p2",className:W.join(nt.error),children:e&&e[t==null?void 0:t.name]&&e[t==null?void 0:t.name].message||""})]})]})});L1.displayName="PasswordInput";const Xx=T.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>h.jsxs("div",{className:nt.container,children:[h.jsx(ce,{component:"h5",children:r}),h.jsxs("div",{className:nt.inputBlockContainer,children:[h.jsx("label",{children:h.jsx("input",{type:"text",className:W.join(nt.input,hn.input),placeholder:n,ref:s,...t,...i})}),t&&h.jsx(ce,{component:"p2",className:W.join(nt.error),children:e&&e[t==null?void 0:t.name]&&e[t==null?void 0:t.name].message||""})]})]}));Xx.displayName="TextInput";function Jx(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}const KV="_Backdrop_1yd3e_46",GV="_show_1yd3e_61",QV="_disabled_1yd3e_66",Hp={Backdrop:KV,"hide-blackout":"_hide-blackout_1yd3e_1",show:GV,"show-blackout":"_show-blackout_1yd3e_1",disabled:QV},N1=T.forwardRef(({className:t,disabled:e,show:n,opacity:r,...i},s)=>{const o=T.useRef(null);T.useEffect(()=>{var l;o&&r&&((l=o.current)==null||l.style.setProperty("--backdrop-opacity",`${r}%`))},[o]);const a=[e&&Hp.disabled,n&&Hp.show];return h.jsx("button",{type:"button",className:W.join(Hp.Backdrop,t,a),ref:Jx([s,o]),...i})});N1.displayName="Backdrop";function O1({children:t,className:e="root-portal",elementType:n="div"}){const r=T.useRef(document.createElement(n)),{current:i}=r;return T.useEffect(()=>(i.classList.add(e),document.body.appendChild(r.current),()=>{document.body.removeChild(i)}),[]),JA.createPortal(t,i)}const YV="_content_ol8b2_18",XV="_titleContainer_ol8b2_22",JV="_success_ol8b2_22",ZV="_info_ol8b2_27",ez="_error_ol8b2_32",tz="_warn_ol8b2_37",nz="_Modal_ol8b2_70",rz="_buttons_ol8b2_107",iz="_medium_ol8b2_111",sz="_large_ol8b2_122",oz="_title_ol8b2_22",az="_body_ol8b2_155",xr={content:YV,titleContainer:XV,success:JV,info:ZV,error:ez,warn:tz,Modal:nz,"hide-modal":"_hide-modal_ol8b2_1",buttons:rz,medium:iz,large:sz,"show-modal":"_show-modal_ol8b2_1",title:oz,body:az},ju=T.forwardRef(({type:t,title:e,noTitle:n,mainButton:r={text:"Ок"},secondButton:i,backdrop:s,onClose:o,noButtons:a=!1,size:l="flex",children:u,className:c,...d},f)=>{const[p,y]=T.useState("show"),m=i&&!W.isObjectEmpty(i),S=()=>{y("")},v=()=>{p!=="show"&&(S(),document.body.style.overflow="visible",o&&o())},g=()=>{s!=null&&s.onClick&&s.onClick(),S()},w=()=>{r!=null&&r.onClick&&r.onClick(),r!=null&&r.form||S()},_=()=>{i!=null&&i.onClick&&i.onClick(),i!=null&&i.form||S()},C=t?xr[t]:null,I=e||t==="alert"&&"Повідомлення!"||t==="info"&&"Інформація!"||t==="success"&&"Успіх!"||t==="error"&&"Помилка"||t==="warn"&&"Попередження!";T.useEffect(()=>{document.body.style.overflow="hidden"},[]);const b=l==="medium"&&xr.medium||l==="large"&&xr.large;return h.jsx(O1,{children:h.jsxs("div",{className:W.join(xr.Modal,c,p),onAnimationEnd:v,ref:f,...d,children:[h.jsx(N1,{onClick:g,disabled:s==null?void 0:s.disabled,show:p==="show"}),h.jsxs("div",{className:W.join(b,xr.content),children:[h.jsx("div",{className:t&&W.join(xr.titleContainer,C,t),children:h.jsx(ce,{component:"h4",className:xr.title,children:!n&&I})}),h.jsx("div",{className:xr.body,children:u}),!a&&h.jsxs("div",{className:xr.buttons,children:[m&&h.jsxs(_t,{size:i==null?void 0:i.size,type:(i==null?void 0:i.type)||"secondary",onClick:()=>_(),submit:i==null?void 0:i.isSubmit,disabled:i==null?void 0:i.disabled,children:[(i==null?void 0:i.iconPosition)==="left"&&(i==null?void 0:i.icon),!(i!=null&&i.icon)&&(i!=null&&i.icon?"Відміна":i==null?void 0:i.text),!(i!=null&&i.text)&&(i==null?void 0:i.icon)&&(i==null?void 0:i.icon),(i==null?void 0:i.iconPosition)==="left"&&(i==null?void 0:i.icon)]}),h.jsxs(_t,{size:r==null?void 0:r.size,type:(r==null?void 0:r.type)||"primary",onClick:()=>w(),submit:r==null?void 0:r.isSubmit,disabled:r==null?void 0:r.disabled,children:[(r==null?void 0:r.iconPosition)==="left"&&(r==null?void 0:r.icon),!(r!=null&&r.icon)&&(r!=null&&r.icon?"Ок":r==null?void 0:r.text),!(r!=null&&r.text)&&(r==null?void 0:r.icon)&&(r==null?void 0:r.icon),(r==null?void 0:r.iconPosition)==="right"&&(r==null?void 0:r.icon)]})]})]})]})})});ju.displayName="Modal";function lz({onClose:t}){return h.jsx(ju,{onClose:t,type:"error",size:"medium",title:"Невірні дані!",children:h.jsxs(h.Fragment,{children:[h.jsx(ce,{component:"p1",className:"center",children:"Невірно вказана електронна адреса чи пароль."}),h.jsx(ce,{component:"p1",className:"center",children:"Перевірте, будь ласка, дані та спробуйте ще раз!"})]})})}function uz({onClose:t}){return h.jsx(ju,{onClose:t,type:"success",size:"medium",title:"Вітаю!",children:h.jsx(ce,{component:"p1",className:"center",children:"Ви успішно увійшли на сайт та отримали доступ до додаткового функціоналу!"})})}const cz="_container_188oq_1",dz="_form_188oq_9",fz="_buttons_188oq_17",qp={container:cz,form:dz,buttons:fz};function hz(){const t=Fs(),e=Yi(),{error:n,isLoading:r,uid:i}=ii(y=>y.userReducer),{actions:s}=Lu,{register:o,handleSubmit:a,formState:{errors:l}}=Kx({mode:"onSubmit",defaultValues:{email:"",password:""}}),u={email:o("email",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/i,message:"Невірно введена адреса електронної пошти!"}}),password:o("password",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[a-zA-Z0-9]+$/,message:"Використовуйте тільки латинські літери та цифри!"},minLength:{value:8,message:"Мінімальна довжина пароля 8 символів"},maxLength:{value:16,message:"Максимальна довжина пароля 16 символів"}})},c=async({email:y,password:m})=>{e(Uc({email:y,password:m}))},d=()=>{e(pl())},f=()=>{t(yt.home)},p=()=>{e(s.resetError())};return h.jsxs(Nu,{children:[h.jsxs(Ir,{container:!0,className:qp.container,children:[h.jsx(ce,{component:"h4",children:"Вхід"}),h.jsxs(A1,{className:qp.form,onSubmit:a(c),children:[h.jsx(P1,{register:u.email,errors:l,children:"Адреса електронної пошти*:"}),h.jsx(L1,{register:u.password,errors:l,children:"Пароль*:"}),h.jsxs(Be,{className:qp.buttons,children:[h.jsx(_t,{type:"primary",submit:!0,children:"Увійти"}),h.jsxs(_t,{type:"secondary",onClick:d,children:[h.jsx(Gx,{}),"Увійти через Google"]}),h.jsxs(ce,{component:"p1",children:["Немає акаунту?"," ",h.jsx(jf,{to:yt.signup,children:h.jsx(yr,{children:"Створити"})})]})]})]})]}),i&&!r?h.jsx(uz,{onClose:f}):null,n&&!r?h.jsx(lz,{onClose:p}):null]})}function pz({onClose:t}){return h.jsx(ju,{onClose:t,type:"error",size:"medium",title:"Невірні дані!",children:h.jsxs(h.Fragment,{children:[h.jsx(ce,{component:"p1",className:"center",children:"Невірно заповнені поля, або такий користувач вже існує."}),h.jsx(ce,{component:"p1",className:"center",children:"Перевірте, будь ласка, дані та спробуйте ще раз!"})]})})}function mz({onClose:t}){return h.jsx(ju,{onClose:t,type:"success",size:"medium",title:"Вітаю!",children:h.jsx(ce,{component:"p1",className:"center",children:"Ви успішно зареєструвалися на сайті та отримали доступ до додаткового функціоналу!"})})}const gz="_container_188oq_1",yz="_form_188oq_9",vz="_buttons_188oq_17",Wp={container:gz,form:yz,buttons:vz};function wz(){const t=Fs(),e=Yi(),{error:n,isLoading:r,uid:i}=ii(g=>g.userReducer),{actions:s}=Lu,{register:o,handleSubmit:a,reset:l,watch:u,formState:{errors:c,isDirty:d}}=Kx({mode:"onSubmit",defaultValues:{userName:"",email:"",password:"",profileImage:void 0}}),f=W.isObjectEmpty(c),p={userName:o("userName",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[\sа-яА-ЯёЁъЪїЇіІєЄґҐa-zA-Z_]+$/,message:"Використовуйте тільки літери, пробіл або нижнє підкреслення!"},minLength:{value:2,message:"Мінімальна довжина логіну 2 символів"},maxLength:{value:32,message:"Максимальна довжина логіну 32 символів"}}),email:o("email",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/i,message:"Невірно введена адреса електронної пошти!"}}),password:o("password",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[a-zA-Z0-9]+$/,message:"Використовуйте тільки латинські літери та цифри!"},minLength:{value:8,message:"Мінімальна довжина пароля 8 символів"},maxLength:{value:16,message:"Максимальна довжина пароля 16 символів"}}),profileImage:o("profileImage",{required:"Будь ласка, оберіть зображення!"})},y=async({userName:g,email:w,password:_,profileImage:C})=>{e($c({displayName:g,email:w,password:_,photo:C[0]}))},m=()=>{e(pl())},S=()=>{l(),t(yt.home)},v=()=>{e(s.resetError())};return h.jsxs(Nu,{children:[h.jsxs(Ir,{container:!0,className:Wp.container,children:[h.jsx(ce,{component:"h4",children:"Реєстрація"}),h.jsxs(A1,{className:Wp.form,onSubmit:a(y),children:[h.jsx(Yx,{watch:u,register:p.profileImage,errors:c,accept:".jpg, .jpeg, .png",label:"Оберіть зображення",children:"Зображення профілю*:"}),h.jsx(Xx,{register:p.userName,errors:c,children:"Логін*:"}),h.jsx(P1,{register:p.email,errors:c,children:"Адреса електронної пошти*:"}),h.jsx(L1,{register:p.password,errors:c,children:"Пароль*:"}),h.jsxs(Be,{className:Wp.buttons,children:[h.jsx(_t,{submit:!0,disabled:!d||!f,children:"Створити"}),h.jsxs(_t,{type:"secondary",onClick:m,children:[h.jsx(Gx,{}),"Увійти через Google"]}),h.jsxs(ce,{component:"p1",children:["Вже є акаунт?"," ",h.jsx(jf,{className:"link",to:yt.login,children:h.jsx(yr,{children:"Увійти"})})]})]})]})]}),i&&!r?h.jsx(mz,{onClose:S}):null,n&&!r?h.jsx(pz,{onClose:v}):null]})}const _z="_LoaderLine_92256_1",Sz="_background_92256_10",Ez="_normal_92256_13",Cz="_animation_92256_13",Tz="_loader_92256_1",Iz="_inversion_92256_22",Ma={LoaderLine:_z,background:Sz,normal:Ez,animation:Cz,loader:Tz,inversion:Iz},Zx=T.forwardRef(({isInversion:t,className:e,...n},r)=>{const i=[t?Ma.inversion:Ma.normal];return h.jsxs("div",{className:W.join(Ma.LoaderLine,e,i),ref:r,...n,children:[h.jsx("div",{className:Ma.background}),h.jsx("div",{className:Ma.animation})]})});Zx.displayName="LoaderLine";const bz="_LoaderOverlay_1d96m_1",kz={LoaderOverlay:bz};function xz(){return h.jsx(O1,{children:h.jsxs(Be,{className:W.join(kz.LoaderOverlay),children:[h.jsx(N1,{show:!0}),h.jsx(Zx,{})]})})}const Kp=["Загальний Список","Вивчити/Зробити","Різдво","Пасха","Відкласти на час"],Rz=T.forwardRef(({gridContainer:t,children:e,className:n,...r},i)=>h.jsx("div",{className:W.join(n,"container",t&&"row"),ref:i,...r,children:e}));Rz.displayName="Container";const Az=T.forwardRef(({children:t,className:e,...n},r)=>h.jsx("footer",{className:W.join(e,"footer"),ref:r,...n,children:t}));Az.displayName="Footer";const Pz=T.forwardRef(({children:t,className:e,...n},r)=>h.jsx("header",{className:W.join(e,"header"),ref:r,...n,children:t}));Pz.displayName="Header";const Lz=T.forwardRef(({gridContainer:t,grid:e,children:n,className:r,...i},s)=>{const o=[e&&qy(e)];return h.jsx("section",{className:W.join(r,t&&"row",o),ref:s,...i,children:n})});Lz.displayName="Section";const Nz="_ListNavigation_1ui9r_1",Oz={ListNavigation:Nz};function Dz({charsList:t}){return h.jsx(Be,{component:"nav",className:Oz.ListNavigation,children:t.length>0&&t.map(e=>h.jsx(Mx,{href:`${yt.songslist}#${e}`,className:"link",children:e},e))})}const AS={up:"up",down:"down"};function jz(t,e){const n=t??100,[r,i]=T.useState("start"),[s,o]=T.useState(0);return T.useEffect(()=>{let a=window.scrollY;const l=f=>Math.abs(f-a)>n,u=f=>f>a&&!(a>0&&f===0)&&!(f>0&&a===0),c=()=>{const f=window.scrollY;if(o(f),l(f)){e&&e();const p=u(f)?AS.down:AS.up;i(p),a=f>0?f:0}},d=()=>window.requestAnimationFrame(c);return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]),{scrollDirection:r,scrollPosition:s}}function Mz(){const[t,e]=T.useState({windowWidth:0,windowHeight:0});return T.useLayoutEffect(()=>{function n(){e({windowWidth:window.innerWidth,windowHeight:window.innerHeight})}return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),t}const $z="_StickyButton_1v8xp_18",Uz="_hide_1v8xp_59",Fz="_show_1v8xp_65",Zi={StickyButton:$z,hide:Uz,"sticky-button-hide":"_sticky-button-hide_1v8xp_1",show:Fz,"sticky-button-show":"_sticky-button-show_1v8xp_1"};function Vz({children:t,popup:e,inverseDirection:n,offset:r,hideOnScreensCount:i=0}){const[s,o]=T.useState(Zi.hide),a=T.useRef(null);T.useEffect(()=>{var d;a&&r&&((d=a.current)==null||d.style.setProperty("--sticky-button-offset",`${r}px`))},[a,r]);const{windowHeight:l}=Mz(),{scrollDirection:u,scrollPosition:c}=jz(200);return T.useEffect(()=>{const d=c>l*i;o(d&&n&&u==="up"?Zi.show:d&&n&&u==="down"||d&&u==="up"?Zi.hide:d&&u==="down"?Zi.show:Zi.hide)},[i,n,u,c,l]),h.jsx("div",{className:W.join(Zi.StickyButton,e&&s),ref:a,children:t})}function zz(t){return h.jsx(Ye,{fill:"none",...t,children:h.jsx("path",{d:"M18 15L12 9L6 15",strokeLinecap:"round",strokeLinejoin:"round"})})}function Bz(){const{isScreenMD:t}=jx(),e=t?64:24;return h.jsx(Vz,{popup:!0,offset:e,inverseDirection:!0,hideOnScreensCount:1,children:h.jsx(_t,{onClick:()=>document.body.scrollIntoView(),children:h.jsx(zz,{})})})}function Hz({children:t,...e}){return h.jsx(h.Fragment,{children:T.Children.map(t,n=>T.isValidElement(n)?T.cloneElement(n,{...n.props,...e}):null)})}const qz="_List_1bjol_1",Wz="_unordered_1bjol_6",Kz="_custom_1bjol_12",Gp={List:qz,unordered:Wz,custom:Kz},D1=T.forwardRef(({type:t,margin:e,children:n,className:r,...i},s)=>{const o=[t==="unordered"&&Gp[t],t==="custom"&&Gp[t]],a={marginLeft:e&&`${e}px`};return h.jsx("ul",{className:W.join(Gp.List,r,o),ref:s,style:a,...i,children:h.jsx(Hz,{style:a,children:n})})});D1.displayName="List";const j1=T.forwardRef(({children:t,className:e,...n},r)=>h.jsx("li",{className:e,ref:r,...n,children:t}));j1.displayName="ListItem";const Gz={mode:"list",activeTableNumber:0,namesList:[],selectedSongsId:[],nameListLimitCount:10,isLoading:!1,error:"",songsList:[]},M1=_1({name:"songsList",initialState:Gz,reducers:{setMode(t,e){t.mode=e.payload},setActiveTable(t,e){t.activeTableNumber=e.payload},resetNamesList(t){t.namesList=[]},toggleSetToSelectedSongsId(t,e){let n=[...t.selectedSongsId];const r=t.selectedSongsId.indexOf(e.payload);r>=0?n.splice(r,1):n=[...t.selectedSongsId,e.payload],t.selectedSongsId=n},removeFromSelectedSongsId(t,e){const n=[...t.selectedSongsId],r=t.selectedSongsId.indexOf(e.payload);r>=0&&n.splice(r,1),t.selectedSongsId=n},resetSelectedSongsId(t){t.selectedSongsId=[]},toggleSetToNamesList(t,e){const n=e.payload,{namesList:r}=t;let i=[...r];r.length===0&&(i=[n]),r.length>0&&r.length<t.nameListLimitCount&&(i=[...r,n]);const s=r.indexOf(n);s>=0&&(i=[...r],i.splice(s,1)),t.namesList=i}},extraReducers:t=>{t.addCase(ml.pending,e=>{e.isLoading=!0,e.error=""}).addCase(ml.fulfilled,(e,n)=>{e.songsList=n.payload,e.error="",e.isLoading=!1}).addCase(ml.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1})}});function Qz(t){return h.jsx(Ye,{fill:"none",...t,children:h.jsx("polyline",{points:"20 6 9 17 4 12"})})}const Yz="_SongListItem_1m3a7_46",Xz="_active_1m3a7_53",Jz="_song_1m3a7_57",Qp={SongListItem:Yz,active:Xz,song:Jz};function Zz({song:t}){const{namesList:e,nameListLimitCount:n,selectedSongsId:r}=ii(u=>u.songsListReducer),i=Yi(),{actions:s}=M1,o=r.includes(t.position),a=[o&&Qp.active],l=()=>{e.length<n?i(s.toggleSetToSelectedSongsId(t.position)):i(s.removeFromSelectedSongsId(t.position)),i(s.toggleSetToNamesList(t.value))};return h.jsx(Be,{className:W.join(Qp.SongListItem,a),onClick:l,children:h.jsxs(j1,{className:Qp.song,children:[h.jsx(ce,{component:"p1",id:`song_${t.position}`,children:t.value}),h.jsx(Hr,{children:o&&h.jsx(Qz,{})})]})})}const eB="_SongsCopy_jns23_1",tB="_songsGroup_jns23_7",nB="_songsGroupSymbol_jns23_11",rB="_songsNames_jns23_20",fc={SongsCopy:eB,songsGroup:tB,songsGroupSymbol:nB,songsNames:rB};function iB({songsTable:t}){return h.jsx(Be,{className:fc.SongsCopy,children:t.map(e=>h.jsxs(Be,{className:fc.songsGroup,children:[h.jsx(ce,{component:"h3",className:fc.songsGroupSymbol,id:e[0],children:e[0]}),h.jsx(D1,{className:fc.songsNames,children:e[1].map(n=>h.jsx(Zz,{song:n},n.position))})]},e[0]))})}async function e2(t){if(t)try{return await navigator.clipboard.writeText(t),!0}catch(e){throw new Error(pe(e))}return!1}function PS(t){return h.jsxs(Ye,{fill:"none",...t,children:[h.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 8V12",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 16H12.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function sB(t){return h.jsxs(Ye,{fill:"none",...t,children:[h.jsx("path",{d:"M10.29 3.86001L1.81999 18C1.64536 18.3024 1.55296 18.6453 1.55198 18.9945C1.551 19.3437 1.64148 19.6871 1.81442 19.9905C1.98735 20.2939 2.23672 20.5468 2.5377 20.7239C2.83868 20.901 3.18079 20.9962 3.52999 21H20.47C20.8192 20.9962 21.1613 20.901 21.4623 20.7239C21.7633 20.5468 22.0126 20.2939 22.1856 19.9905C22.3585 19.6871 22.449 19.3437 22.448 18.9945C22.447 18.6453 22.3546 18.3024 22.18 18L13.71 3.86001C13.5317 3.56611 13.2807 3.32313 12.9812 3.15449C12.6817 2.98585 12.3437 2.89726 12 2.89726C11.6563 2.89726 11.3183 2.98585 11.0188 3.15449C10.7193 3.32313 10.4683 3.56611 10.29 3.86001Z",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 9V13",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 17H12.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function oB(t){return h.jsxs(Ye,{fill:"none",...t,children:[h.jsx("path",{d:"M22 11.08V12C21.9988 14.1564 21.3005 16.2547 20.0093 17.9818C18.7182 19.709 16.9033 20.9725 14.8354 21.5839C12.7674 22.1953 10.5573 22.1219 8.53447 21.3746C6.51168 20.6273 4.78465 19.2461 3.61096 17.4371C2.43727 15.628 1.87979 13.4881 2.02168 11.3363C2.16356 9.18457 2.99721 7.13633 4.39828 5.49707C5.79935 3.85782 7.69279 2.71538 9.79619 2.24015C11.8996 1.76491 14.1003 1.98234 16.07 2.86",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M22 4L12 14.01L9 11.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function aB(t){return h.jsxs(Ye,{fill:"none",...t,children:[h.jsx("path",{d:"M12.7165 22.7087C18.2394 22.7087 22.7165 18.2315 22.7165 12.7087C22.7165 7.18582 18.2394 2.70866 12.7165 2.70866C7.19367 2.70866 2.71652 7.18582 2.71652 12.7087C2.71652 18.2315 7.19367 22.7087 12.7165 22.7087Z",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12.7165 16.7087V12.7087",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12.7165 8.70866H12.7265",strokeLinecap:"round",strokeLinejoin:"round"})]})}function lB(t){return h.jsxs(Ye,{fill:"none",...t,children:[h.jsx("path",{d:"M12.237 22.8758C17.7599 22.8758 22.237 18.3987 22.237 12.8758C22.237 7.35296 17.7599 2.87581 12.237 2.87581C6.71418 2.87581 2.23703 7.35296 2.23703 12.8758C2.23703 18.3987 6.71418 22.8758 12.237 22.8758Z",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M15.237 9.87581L9.23703 15.8758",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M9.23703 9.87581L15.237 15.8758",strokeLinecap:"round",strokeLinejoin:"round"})]})}const uB="_LoaderBars_qlkif_1",cB="_loader_qlkif_1",dB={LoaderBars:uB,loader:cB},fB=T.forwardRef(({className:t,...e},n)=>h.jsxs("div",{className:W.join(dB.LoaderBars,t),ref:n,...e,children:[h.jsx("div",{}),h.jsx("div",{}),h.jsx("div",{})]}));fB.displayName="LoaderBars";const hB="_LoaderCounter_1kaup_1",pB="_counter_1kaup_9",mB="_background_1kaup_14",gB="_animation_1kaup_22",eo={LoaderCounter:hB,counter:pB,background:mB,animation:gB,"loader-animation":"_loader-animation_1kaup_1"},t2=T.forwardRef(({timer:t,isInversion:e,className:n,...r},i)=>{const[s,o]=T.useState(t/1e3);T.useEffect(()=>{W.setIntervalCounts({callback:()=>o(u=>u-1),delay:1e3,counts:t/1e3})},[]);const a=T.useRef(null);T.useLayoutEffect(()=>{var u;(u=a.current)==null||u.style.setProperty("--loader-counter--animation-duration",`${t}ms`)},[t]);const l=[e?eo.inversion:eo.normal];return h.jsxs("div",{className:W.join(eo.LoaderCounter,n,l),ref:i,...r,children:[h.jsx("div",{className:eo.background}),h.jsx("div",{className:eo.animation,ref:a}),h.jsx(ce,{component:"p2",className:eo.counter,children:s})]})});t2.displayName="LoaderCounter";const yB="_Toast_1acxc_18",vB="_success_1acxc_22",wB="_info_1acxc_27",_B="_error_1acxc_32",SB="_warn_1acxc_37",EB="_oneLine_1acxc_83",CB="_medium_1acxc_86",TB="_large_1acxc_94",IB="_content_1acxc_97",bB="_textContent_1acxc_106",kB="_title_1acxc_116",xB="_message_1acxc_120",RB="_topLeft_1acxc_124",AB="_topCenter_1acxc_128",PB="_topRight_1acxc_132",LB="_bottomLeft_1acxc_146",NB="_bottomCenter_1acxc_150",OB="_bottomRight_1acxc_154",DB="_hideToastAnimation_1acxc_168",xn={Toast:yB,success:vB,info:wB,error:_B,warn:SB,oneLine:EB,medium:CB,large:TB,content:IB,textContent:bB,title:kB,message:xB,topLeft:RB,"top-animation-show":"_top-animation-show_1acxc_1",topCenter:AB,topRight:PB,bottomLeft:LB,"bottom-animation-show":"_bottom-animation-show_1acxc_1",bottomCenter:NB,bottomRight:OB,hideToastAnimation:DB,"animation-hide":"_animation-hide_1acxc_1"};function jB(t){return t==="alert"?h.jsx(PS,{}):t==="info"?h.jsx(aB,{}):t==="success"?h.jsx(oB,{}):t==="error"?h.jsx(lB,{}):t==="warn"?h.jsx(sB,{}):h.jsx(PS,{})}const n2=T.forwardRef(({id:t,message:e,title:n="",type:r,size:i="flex",position:s="topRight",oneLine:o,onCloseButtonClick:a,duration:l=3e3,className:u,...c},d)=>{const f=T.useRef(null),{remove:p}=$1(),y=[i&&xn[i],r&&xn[r],s&&xn[s]],m=o&&xn.oneLine,S=n||r==="alert"&&"Повідомлення!"||r==="info"&&"Інформація!"||r==="success"&&"Успіх!"||r==="error"&&"Помилка!"||r==="warn"&&"Попередження!",v=T.useRef();T.useEffect(()=>(l>0&&(v.current=setTimeout(()=>{var w,_;(w=f.current)==null||w.classList.add(xn.hideToastAnimation),(_=f.current)==null||_.addEventListener("animationend",C=>{C.target===f.current&&(C.stopPropagation(),p(t))})},l)),()=>{clearTimeout(v.current)}),[]);const g=w=>{var _,C;a&&a(w),(_=f.current)==null||_.classList.add(xn.hideToastAnimation),(C=f.current)==null||C.addEventListener("animationend",I=>{I.target===f.current&&(I.stopPropagation(),p(t))})};return h.jsxs("div",{className:W.join(xn.Toast,u,y),ref:Jx([d,f]),...c,children:[h.jsxs("div",{className:xn.content,children:[h.jsx(Hr,{children:jB(r)}),h.jsxs("div",{className:W.join(xn.textContent,m),children:[h.jsx(ce,{component:"h6",className:xn.title,children:S}),typeof e=="string"?h.jsx(ce,{component:"p1",className:xn.message,children:e}):e.map(w=>h.jsx(ce,{component:"p1",className:xn.message,children:w},w))]}),l>0&&h.jsx(t2,{timer:l})]}),h.jsx(Hr,{size:"small",onClick:g,children:h.jsx(C1,{size:"small"})})]})});n2.displayName="Toast";const MB="_ToastsContainer_1yqsk_46",LS={ToastsContainer:MB,"left-top":"_left-top_1yqsk_61","center-top":"_center-top_1yqsk_64","left-bottom":"_left-bottom_1yqsk_67","center-bottom":"_center-bottom_1yqsk_71","right-bottom":"_right-bottom_1yqsk_75"};function $B({toasts:t,position:e={horizontal:"right",vertical:"top"}}){const n=LS[`${e.horizontal}-${e.vertical}`];return!t||t.length<=0?null:h.jsx(O1,{children:h.jsx(Be,{className:W.join(LS.ToastsContainer,n),children:h.jsx(h.Fragment,{children:t.map(r=>h.jsx(n2,{id:r.id,message:r.message,title:r.title,type:r.type,size:r.size,position:r.position,oneLine:r.oneLine,onCloseButtonClick:r.onCloseButtonClick,duration:r.duration},r.id))})})})}const r2=T.createContext({}),$1=()=>T.useContext(r2);function UB({maxToast:t=1,children:e}){const[n,r]=T.useState([]),[i,s]=T.useState("top-right"),o=u=>{u.position&&u.position!==i&&s(u.position),r(c=>{const d=c.length<t?c:c.slice(1),f={...u,id:W.getRandomNumber(1e8,999999999).toString()};return[...d,f]})},a=u=>{r(c=>c.filter(d=>d.id!==u))},l=T.useMemo(()=>({add:o,remove:a,position:i}),[]);return h.jsxs(r2.Provider,{value:l,children:[e,h.jsx($B,{toasts:n})]})}function FB(t){return h.jsxs(Ye,{fill:"none",...t,children:[h.jsx("path",{d:"M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M5 15H4C3.46957 15 2.96086 14.7893 2.58579 14.4142C2.21071 14.0391 2 13.5304 2 13V4C2 3.46957 2.21071 2.96086 2.58579 2.58579C2.96086 2.21071 3.46957 2 4 2H13C13.5304 2 14.0391 2.21071 14.4142 2.58579C14.7893 2.96086 15 3.46957 15 4V5",strokeLinecap:"round",strokeLinejoin:"round"})]})}const VB="_SongListItem_v0g8p_1",zB="_copyIcon_v0g8p_7",NS={SongListItem:VB,copyIcon:zB};function BB({song:t}){const{add:e}=$1(),n=async()=>{try{await e2(t.value)&&e({title:"Скопійовано:",message:t.value,duration:3e3})}catch{e({type:"error",message:"Не вдалося скопіювати. Напишіть мені в Телеграм!",duration:3e3})}};return h.jsxs(j1,{className:NS.SongListItem,children:[h.jsx(ce,{component:"p1",id:`song_${t.position}`,children:t.value}),h.jsx(_t,{size:"custom",type:"text",className:NS.copyIcon,onClick:n,children:h.jsx(FB,{size:"small"})})]},t.position)}const HB="_SongsList_5lipa_1",qB="_songsGroup_5lipa_7",WB="_songsGroupSymbol_5lipa_11",KB="_songsNames_5lipa_20",hc={SongsList:HB,songsGroup:qB,songsGroupSymbol:WB,songsNames:KB};function GB({songsTable:t}){return h.jsx(Be,{className:hc.SongsList,children:t.map(e=>h.jsxs(Be,{className:hc.songsGroup,children:[h.jsx(ce,{component:"h3",className:hc.songsGroupSymbol,id:e[0],children:e[0]}),h.jsx(D1,{className:hc.songsNames,children:e[1].map(n=>h.jsx(BB,{song:n},n.position))})]},e[0]))})}function QB(t){return h.jsxs(Ye,{fill:"none",...t,children:[h.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),h.jsx("polyline",{points:"12 19 5 12 12 5"})]})}function YB(t){return h.jsxs(Ye,{fill:"none",...t,children:[h.jsx("polyline",{points:"9 11 12 14 22 4"}),h.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]})}const XB="_Toolbar_1w1ds_46",JB="_button_1w1ds_58",pc={Toolbar:XB,button:JB};function ZB(){const{mode:t,namesList:e,selectedSongsId:n}=ii(c=>c.songsListReducer),r=Yi(),{actions:i}=M1,{add:s}=$1(),o=()=>{r(i.setMode("list"))},a=()=>{r(i.resetNamesList()),r(i.resetSelectedSongsId())},l=()=>{r(i.setMode("copy"))},u=async()=>{const c=e.map((f,p)=>`${p+1}. ${f}`),d=c.join(`
`);try{await e2(d)&&s({title:"Скопійовано:",message:c,duration:5e3})}catch{s({type:"error",message:"Не вдалося скопіювати. Напишіть мені в Телеграм!",duration:5e3})}r(i.resetNamesList()),r(i.resetSelectedSongsId())};return h.jsx(Ir,{className:pc.Toolbar,container:!0,row:!0,children:t==="copy"?h.jsxs(h.Fragment,{children:[h.jsx(Be,{className:pc.button,grid:{xx:3},children:n.length>0?h.jsx(_t,{type:"secondary",onClick:a,children:h.jsx(C1,{})}):h.jsx(_t,{type:"secondary",onClick:o,children:h.jsx(QB,{})})}),h.jsx(Be,{className:pc.button,grid:{xx:9},children:h.jsx(_t,{onClick:u,disabled:e.length<=0,children:`Скопіювати ${e.length} / 10`})})]}):h.jsx(Be,{className:pc.button,grid:{xx:3},children:h.jsx(_t,{type:"secondary",onClick:l,children:h.jsx(YB,{})})})})}const eH="_SongsListPage_1pnue_46",tH="_container_1pnue_50",OS={SongsListPage:eH,container:tH};function nH(){const[t,e]=T.useState(0),[n,r]=T.useState([]),{error:i,isLoading:s,songsList:o,mode:a}=ii(c=>c.songsListReducer),l=Yi();T.useEffect(()=>{W.isObjectEmpty(o)&&l(ml())},[]),T.useEffect(()=>{n.length===0&&o.length>0&&r(o.map(c=>c[1].map(d=>d[0])))},[o]);const u=c=>{const d=Kp.indexOf(c);e(d)};if(i)throw Error(i);return h.jsx(Be,{component:"main",className:OS.SongsListPage,children:h.jsxs(Ir,{component:"section",container:!0,className:OS.container,children:[s&&h.jsx(xz,{}),h.jsx(Qx,{selected:Kp[t],onDropdownChange:u,options:Kp}),n.length>0&&h.jsx(Dz,{charsList:n[t]}),o.length>0&&a==="list"&&h.jsx(GB,{songsTable:o[t][1]}),o.length>0&&a==="copy"&&h.jsx(iB,{songsTable:o[t][1]}),!s&&h.jsx(ZB,{}),h.jsx(Bz,{})]})})}const rH=yN([{path:"/",element:h.jsx(H7,{}),errorElement:h.jsx(tV,{}),children:[{element:h.jsx(iV,{}),index:!0},{element:h.jsx(hz,{}),path:yt.login},{element:h.jsx(wz,{}),path:yt.signup},{element:h.jsx(nH,{}),path:yt.songslist},{element:h.jsx(q7,{}),path:yt.about},{element:h.jsx(W7,{}),path:yt.chordslist}]}]);function iH(){return h.jsx(aN,{router:rH})}var U1="persist:",F1="persist/FLUSH",Ch="persist/REHYDRATE",V1="persist/PAUSE",z1="persist/PERSIST",B1="persist/PURGE",H1="persist/REGISTER",sH=-1;function Vc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vc=function(n){return typeof n}:Vc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Vc(t)}function DS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DS(n,!0).forEach(function(r){aH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aH(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lH(t,e,n,r){r.debug;var i=oH({},n);return t&&Vc(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function uH(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:U1).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(C){return C}:typeof t.serialize=="function"?a=t.serialize:a=cH;var l=t.writeFailHandler||null,u={},c={},d=[],f=null,p=null,y=function(C){Object.keys(C).forEach(function(I){v(I)&&u[I]!==C[I]&&d.indexOf(I)===-1&&d.push(I)}),Object.keys(u).forEach(function(I){C[I]===void 0&&v(I)&&d.indexOf(I)===-1&&u[I]!==void 0&&d.push(I)}),f===null&&(f=setInterval(m,i)),u=C};function m(){if(d.length===0){f&&clearInterval(f),f=null;return}var _=d.shift(),C=r.reduce(function(I,b){return b.in(I,_,u)},u[_]);if(C!==void 0)try{c[_]=a(C)}catch(I){console.error("redux-persist/createPersistoid: error serializing state",I)}else delete c[_];d.length===0&&S()}function S(){Object.keys(c).forEach(function(_){u[_]===void 0&&delete c[_]}),p=o.setItem(s,a(c)).catch(g)}function v(_){return!(n&&n.indexOf(_)===-1&&_!=="_persist"||e&&e.indexOf(_)!==-1)}function g(_){l&&l(_)}var w=function(){for(;d.length!==0;)m();return p||Promise.resolve()};return{update:y,flush:w}}function cH(t){return JSON.stringify(t)}function dH(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:U1).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=fH,r.getItem(n).then(function(s){if(s)try{var o={},a=i(s);return Object.keys(a).forEach(function(l){o[l]=e.reduceRight(function(u,c){return c.out(u,l,a)},i(a[l]))}),o}catch(l){throw l}else return})}function fH(t){return JSON.parse(t)}function hH(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:U1).concat(t.key);return e.removeItem(n,pH)}function pH(t){}function jS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jS(n,!0).forEach(function(r){mH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mH(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gH(t,e){if(t==null)return{};var n=yH(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var vH=5e3;function wH(t,e){var n=t.version!==void 0?t.version:sH;t.debug;var r=t.stateReconciler===void 0?lH:t.stateReconciler,i=t.getStoredState||dH,s=t.timeout!==void 0?t.timeout:vH,o=null,a=!1,l=!0,u=function(d){return d._persist.rehydrated&&o&&!l&&o.update(d),d};return function(c,d){var f=c||{},p=f._persist,y=gH(f,["_persist"]),m=y;if(d.type===z1){var S=!1,v=function(O,A){S||(d.rehydrate(t.key,O,A),S=!0)};if(s&&setTimeout(function(){!S&&v(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),l=!1,o||(o=uH(t)),p)return Rr({},e(m,d),{_persist:p});if(typeof d.rehydrate!="function"||typeof d.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(t.key),i(t).then(function(b){var O=t.migrate||function(A,D){return Promise.resolve(A)};O(b,n).then(function(A){v(A)},function(A){v(void 0,A)})},function(b){v(void 0,b)}),Rr({},e(m,d),{_persist:{version:n,rehydrated:!1}})}else{if(d.type===B1)return a=!0,d.result(hH(t)),Rr({},e(m,d),{_persist:p});if(d.type===F1)return d.result(o&&o.flush()),Rr({},e(m,d),{_persist:p});if(d.type===V1)l=!0;else if(d.type===Ch){if(a)return Rr({},m,{_persist:Rr({},p,{rehydrated:!0})});if(d.key===t.key){var g=e(m,d),w=d.payload,_=r!==!1&&w!==void 0?r(w,c,g,t):g,C=Rr({},_,{_persist:Rr({},p,{rehydrated:!0})});return u(C)}}}if(!p)return e(c,d);var I=e(m,d);return I===m?c:u(Rr({},I,{_persist:p}))}}function MS(t){return EH(t)||SH(t)||_H()}function _H(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function SH(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function EH(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function $S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$S(n,!0).forEach(function(r){CH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$S(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CH(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i2={registry:[],bootstrapped:!1},TH=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i2,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case H1:return Fg({},e,{registry:[].concat(MS(e.registry),[n.key])});case Ch:var r=e.registry.indexOf(n.key),i=MS(e.registry);return i.splice(r,1),Fg({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function IH(t,e,n){var r=n||!1,i=w1(TH,i2,e&&e.enhancer?e.enhancer:void 0),s=function(u){i.dispatch({type:H1,key:u})},o=function(u,c,d){var f={type:Ch,payload:c,err:d,key:u};t.dispatch(f),i.dispatch(f),r&&a.getState().bootstrapped&&(r(),r=!1)},a=Fg({},i,{purge:function(){var u=[];return t.dispatch({type:B1,result:function(d){u.push(d)}}),Promise.all(u)},flush:function(){var u=[];return t.dispatch({type:F1,result:function(d){u.push(d)}}),Promise.all(u)},pause:function(){t.dispatch({type:V1})},persist:function(){t.dispatch({type:z1,register:s,rehydrate:o})}});return e&&e.manualPersist||a.persist(),a}var q1={},W1={};W1.__esModule=!0;W1.default=xH;function zc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zc=function(n){return typeof n}:zc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},zc(t)}function Yp(){}var bH={getItem:Yp,setItem:Yp,removeItem:Yp};function kH(t){if((typeof self>"u"?"undefined":zc(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function xH(t){var e="".concat(t,"Storage");return kH(e)?self[e]:bH}q1.__esModule=!0;q1.default=PH;var RH=AH(W1);function AH(t){return t&&t.__esModule?t:{default:t}}function PH(t){var e=(0,RH.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var s2=void 0,LH=NH(q1);function NH(t){return t&&t.__esModule?t:{default:t}}var OH=(0,LH.default)("local");s2=OH;const DH=Px({appReducer:$x.reducer,songsListReducer:M1.reducer,userReducer:Lu.reducer}),jH={key:ST.name,storage:s2},MH=wH(jH,DH),o2=vF({reducer:MH,middleware:t=>t({serializableCheck:{ignoredActions:[F1,Ch,V1,z1,B1,H1]}})}),$H=IH(o2);function UH(){return h.jsx(VP,{store:o2,children:h.jsx(UB,{maxToast:5,children:h.jsx(oT,{loading:null,persistor:$H,children:h.jsx(iH,{})})})})}const FH=document.getElementById("root"),VH=QC(FH);VH.render(h.jsx(T.StrictMode,{children:h.jsx(UH,{})}));
