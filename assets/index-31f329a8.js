function QR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const YR="AKfycbxGD1Lys79Ixt4BQ5mfH3ylX4_ZvtSGUFHltMILILPBWtcdPoSlI3FD5Ir8OcwtBA",XR=`https://script.google.com/macros/s/${YR}/exec`;function JR(t,e){console.error("analyticsAPI",`${t}:`,e)}function wp(...t){console.log("analyticsAPI",...t)}async function ZR({spreadsheetId:t,sheetName:e,sheetIndex:n,titlesParams:r,indexesParams:i,type:s,col:o,row:a,value:l}){const u=new URLSearchParams;return t&&u.append("spreadsheetId",t),e&&u.append("sheetName",e),n&&u.append("sheetIndex",n.toString()),r&&u.append("titlesParams",JSON.stringify(r)),i&&u.append("indexesParams",JSON.stringify(i)),s&&u.append("type",s),o&&u.append("col",o.toString()),a&&u.append("row",a.toString()),l&&u.append("value",l.toString()),fetch(`${XR}?${u}`,{method:"POST"}).then(c=>c.text()).then(c=>JSON.parse(c)).then(c=>(c.status!=="success"&&(wp("doPost",c.status),wp("doPost",c.info),wp("doPost",c.error)),c)).catch(c=>JR("doPost",c))}async function eA({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){return ZR({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED"}).then(i=>i)}const tA={postTitledColumnsDataByTitles:eA};async function nA(){try{return{ip:(await(await fetch("https://api.ipify.org?format=json")).json()).ip,status:"success"}}catch(t){return{error:t,status:"error"}}}const rA={fetchIP:nA},eC={appsscript:tA,ipify:rA};function iA(){const t=navigator.userAgent;let e,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE",version:e[1]||""}):n[1]==="Chrome"&&(e=t.match(/\bOPR|Edge\/(\d+)/),e!=null)?{name:"Opera",version:e[1]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],(e=t.match(/version\/(\d+)/i))!=null&&n.splice(1,1,e[1]),{name:n[0],version:n[1]})}function sA(){return/Android/i.test(navigator.userAgent)?"Android":/webOS/i.test(navigator.userAgent)?"webOS":/iPhone/i.test(navigator.userAgent)?"iPhone":/iPad/i.test(navigator.userAgent)?"iPad":/iPod/i.test(navigator.userAgent)?"iPod":/BlackBerry/i.test(navigator.userAgent)?"BlackBerry":/IEMobile/i.test(navigator.userAgent)?"IEMobile":/Opera Mini/i.test(navigator.userAgent)?"Opera Mini":null}async function oA(){const t=await eC.ipify.fetchIP();return{ip:t.status==="success"?t.ip:"",time:new Date().toString(),timezone:new Date().getTimezoneOffset()/60,language:window.navigator.language,languages:[...window.navigator.languages],mobile:sA()||"",page:window.location.pathname,referrer:document.referrer,browser:iA(),screenWidth:window.screen.width,screenHeight:window.screen.height,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight}}const aA="156bmyJELUA_4HS995nK2KNl4NAgBkxh-OQrQT2jEjO4";async function lA(){const t=await oA(),{ip:e,page:n,time:r,language:i,languages:s,browser:o,mobile:a,screenHeight:l,screenWidth:u,viewportHeight:c,viewportWidth:d}=t;await eC.appsscript.postTitledColumnsDataByTitles({spreadsheetId:aA,titlesParams:{ip:e,page:n,time:r,language:i,languages:s.join(" | "),browser:o.name,version:o.version,mobile:a,screenHeight:l,screenWidth:u,viewportHeight:c,viewportWidth:d}})}lA();var uA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f={},cA={get exports(){return f},set exports(t){f=t}},Df={},I={},dA={get exports(){return I},set exports(t){I=t}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ou=Symbol.for("react.element"),fA=Symbol.for("react.portal"),hA=Symbol.for("react.fragment"),pA=Symbol.for("react.strict_mode"),mA=Symbol.for("react.profiler"),gA=Symbol.for("react.provider"),yA=Symbol.for("react.context"),vA=Symbol.for("react.forward_ref"),wA=Symbol.for("react.suspense"),_A=Symbol.for("react.memo"),EA=Symbol.for("react.lazy"),Q0=Symbol.iterator;function SA(t){return t===null||typeof t!="object"?null:(t=Q0&&t[Q0]||t["@@iterator"],typeof t=="function"?t:null)}var tC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nC=Object.assign,rC={};function ka(t,e,n){this.props=t,this.context=e,this.refs=rC,this.updater=n||tC}ka.prototype.isReactComponent={};ka.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ka.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function iC(){}iC.prototype=ka.prototype;function qy(t,e,n){this.props=t,this.context=e,this.refs=rC,this.updater=n||tC}var Wy=qy.prototype=new iC;Wy.constructor=qy;nC(Wy,ka.prototype);Wy.isPureReactComponent=!0;var Y0=Array.isArray,sC=Object.prototype.hasOwnProperty,Ky={current:null},oC={key:!0,ref:!0,__self:!0,__source:!0};function aC(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)sC.call(e,r)&&!oC.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ou,type:t,key:s,ref:o,props:i,_owner:Ky.current}}function CA(t,e){return{$$typeof:Ou,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ou}function TA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var X0=/\/+/g;function _p(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TA(""+t.key):e.toString(36)}function Hc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ou:case fA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+_p(o,0):r,Y0(i)?(n="",t!=null&&(n=t.replace(X0,"$&/")+"/"),Hc(i,e,n,"",function(u){return u})):i!=null&&(Gy(i)&&(i=CA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(X0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Y0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+_p(s,a);o+=Hc(s,e,n,l,i)}else if(l=SA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+_p(s,a++),o+=Hc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hc(t,e,n){if(t==null)return t;var r=[],i=0;return Hc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function IA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gn={current:null},qc={transition:null},xA={ReactCurrentDispatcher:gn,ReactCurrentBatchConfig:qc,ReactCurrentOwner:Ky};be.Children={map:hc,forEach:function(t,e,n){hc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hc(t,function(){e++}),e},toArray:function(t){return hc(t,function(e){return e})||[]},only:function(t){if(!Gy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=ka;be.Fragment=hA;be.Profiler=mA;be.PureComponent=qy;be.StrictMode=pA;be.Suspense=wA;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xA;be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=nC({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ky.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)sC.call(e,l)&&!oC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ou,type:t.type,key:i,ref:s,props:r,_owner:o}};be.createContext=function(t){return t={$$typeof:yA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gA,_context:t},t.Consumer=t};be.createElement=aC;be.createFactory=function(t){var e=aC.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:vA,render:t}};be.isValidElement=Gy;be.lazy=function(t){return{$$typeof:EA,_payload:{_status:-1,_result:t},_init:IA}};be.memo=function(t,e){return{$$typeof:_A,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=qc.transition;qc.transition={};try{t()}finally{qc.transition=e}};be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};be.useCallback=function(t,e){return gn.current.useCallback(t,e)};be.useContext=function(t){return gn.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return gn.current.useDeferredValue(t)};be.useEffect=function(t,e){return gn.current.useEffect(t,e)};be.useId=function(){return gn.current.useId()};be.useImperativeHandle=function(t,e,n){return gn.current.useImperativeHandle(t,e,n)};be.useInsertionEffect=function(t,e){return gn.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return gn.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return gn.current.useMemo(t,e)};be.useReducer=function(t,e,n){return gn.current.useReducer(t,e,n)};be.useRef=function(t){return gn.current.useRef(t)};be.useState=function(t){return gn.current.useState(t)};be.useSyncExternalStore=function(t,e,n){return gn.current.useSyncExternalStore(t,e,n)};be.useTransition=function(){return gn.current.useTransition()};be.version="18.2.0";(function(t){t.exports=be})(dA);const Xr=Hy(I),Jm=QR({__proto__:null,default:Xr},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kA=I,bA=Symbol.for("react.element"),RA=Symbol.for("react.fragment"),AA=Object.prototype.hasOwnProperty,PA=kA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NA={key:!0,ref:!0,__self:!0,__source:!0};function lC(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)AA.call(e,r)&&!NA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:bA,type:t,key:s,ref:o,props:i,_owner:PA.current}}Df.Fragment=RA;Df.jsx=lC;Df.jsxs=lC;(function(t){t.exports=Df})(cA);var Gl={},OA={get exports(){return Gl},set exports(t){Gl=t}},Un={},Zm={},LA={get exports(){return Zm},set exports(t){Zm=t}},uC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,se){var Q=W.length;W.push(se);e:for(;0<Q;){var Ce=Q-1>>>1,xe=W[Ce];if(0<i(xe,se))W[Ce]=se,W[Q]=xe,Q=Ce;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var se=W[0],Q=W.pop();if(Q!==se){W[0]=Q;e:for(var Ce=0,xe=W.length,Ct=xe>>>1;Ce<Ct;){var Fe=2*(Ce+1)-1,nr=W[Fe],et=Fe+1,mt=W[et];if(0>i(nr,Q))et<xe&&0>i(mt,nr)?(W[Ce]=mt,W[et]=Q,Ce=et):(W[Ce]=nr,W[Fe]=Q,Ce=Fe);else if(et<xe&&0>i(mt,Q))W[Ce]=mt,W[et]=Q,Ce=et;else break e}}return se}function i(W,se){var Q=W.sortIndex-se.sortIndex;return Q!==0?Q:W.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,_=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(W){for(var se=n(u);se!==null;){if(se.callback===null)r(u);else if(se.startTime<=W)r(u),se.sortIndex=se.expirationTime,e(l,se);else break;se=n(u)}}function E(W){if(y=!1,g(W),!_)if(n(l)!==null)_=!0,Re(S);else{var se=n(u);se!==null&&Ue(E,se.startTime-W)}}function S(W,se){_=!1,y&&(y=!1,v(R),R=-1),p=!0;var Q=h;try{for(g(se),d=n(l);d!==null&&(!(d.expirationTime>se)||W&&!q());){var Ce=d.callback;if(typeof Ce=="function"){d.callback=null,h=d.priorityLevel;var xe=Ce(d.expirationTime<=se);se=t.unstable_now(),typeof xe=="function"?d.callback=xe:d===n(l)&&r(l),g(se)}else r(l);d=n(l)}if(d!==null)var Ct=!0;else{var Fe=n(u);Fe!==null&&Ue(E,Fe.startTime-se),Ct=!1}return Ct}finally{d=null,h=Q,p=!1}}var C=!1,x=null,R=-1,b=5,O=-1;function q(){return!(t.unstable_now()-O<b)}function $(){if(x!==null){var W=t.unstable_now();O=W;var se=!0;try{se=x(!0,W)}finally{se?M():(C=!1,x=null)}}else C=!1}var M;if(typeof m=="function")M=function(){m($)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ge=oe.port2;oe.port1.onmessage=$,M=function(){ge.postMessage(null)}}else M=function(){w($,0)};function Re(W){x=W,C||(C=!0,M())}function Ue(W,se){R=w(function(){W(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,Re(S))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(h){case 1:case 2:case 3:var se=3;break;default:se=h}var Q=h;h=se;try{return W()}finally{h=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,se){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Q=h;h=W;try{return se()}finally{h=Q}},t.unstable_scheduleCallback=function(W,se,Q){var Ce=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?Ce+Q:Ce):Q=Ce,W){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=Q+xe,W={id:c++,callback:se,priorityLevel:W,startTime:Q,expirationTime:xe,sortIndex:-1},Q>Ce?(W.sortIndex=Q,e(u,W),n(l)===null&&W===n(u)&&(y?(v(R),R=-1):y=!0,Ue(E,Q-Ce))):(W.sortIndex=xe,e(l,W),_||p||(_=!0,Re(S))),W},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(W){var se=h;return function(){var Q=h;h=se;try{return W.apply(this,arguments)}finally{h=Q}}}})(uC);(function(t){t.exports=uC})(LA);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cC=I,jn=Zm;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dC=new Set,Ql={};function so(t,e){oa(t,e),oa(t+"Capture",e)}function oa(t,e){for(Ql[t]=e,t=0;t<e.length;t++)dC.add(e[t])}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eg=Object.prototype.hasOwnProperty,DA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,J0={},Z0={};function jA(t){return eg.call(Z0,t)?!0:eg.call(J0,t)?!1:DA.test(t)?Z0[t]=!0:(J0[t]=!0,!1)}function MA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $A(t,e,n,r){if(e===null||typeof e>"u"||MA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ht[t]=new yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ht[e]=new yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ht[t]=new yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ht[t]=new yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ht[t]=new yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ht[t]=new yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ht[t]=new yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ht[t]=new yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ht[t]=new yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qy=/[\-:]([a-z])/g;function Yy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qy,Yy);Ht[e]=new yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qy,Yy);Ht[e]=new yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qy,Yy);Ht[e]=new yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ht[t]=new yn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ht[t]=new yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xy(t,e,n,r){var i=Ht.hasOwnProperty(e)?Ht[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($A(e,n,i,r)&&(n=null),r||i===null?jA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _i=cC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pc=Symbol.for("react.element"),Ro=Symbol.for("react.portal"),Ao=Symbol.for("react.fragment"),Jy=Symbol.for("react.strict_mode"),tg=Symbol.for("react.profiler"),fC=Symbol.for("react.provider"),hC=Symbol.for("react.context"),Zy=Symbol.for("react.forward_ref"),ng=Symbol.for("react.suspense"),rg=Symbol.for("react.suspense_list"),ev=Symbol.for("react.memo"),Ri=Symbol.for("react.lazy"),pC=Symbol.for("react.offscreen"),ew=Symbol.iterator;function Ya(t){return t===null||typeof t!="object"?null:(t=ew&&t[ew]||t["@@iterator"],typeof t=="function"?t:null)}var ut=Object.assign,Ep;function ml(t){if(Ep===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ep=e&&e[1]||""}return`
`+Ep+t}var Sp=!1;function Cp(t,e){if(!t||Sp)return"";Sp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Sp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ml(t):""}function UA(t){switch(t.tag){case 5:return ml(t.type);case 16:return ml("Lazy");case 13:return ml("Suspense");case 19:return ml("SuspenseList");case 0:case 2:case 15:return t=Cp(t.type,!1),t;case 11:return t=Cp(t.type.render,!1),t;case 1:return t=Cp(t.type,!0),t;default:return""}}function ig(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ao:return"Fragment";case Ro:return"Portal";case tg:return"Profiler";case Jy:return"StrictMode";case ng:return"Suspense";case rg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hC:return(t.displayName||"Context")+".Consumer";case fC:return(t._context.displayName||"Context")+".Provider";case Zy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ev:return e=t.displayName||null,e!==null?e:ig(t.type)||"Memo";case Ri:e=t._payload,t=t._init;try{return ig(t(e))}catch{}}return null}function FA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ig(e);case 8:return e===Jy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ts(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function VA(t){var e=mC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mc(t){t._valueTracker||(t._valueTracker=VA(t))}function gC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Cd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sg(t,e){var n=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function tw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ts(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yC(t,e){e=e.checked,e!=null&&Xy(t,"checked",e,!1)}function og(t,e){yC(t,e);var n=ts(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ag(t,e.type,n):e.hasOwnProperty("defaultValue")&&ag(t,e.type,ts(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ag(t,e,n){(e!=="number"||Cd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gl=Array.isArray;function Wo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ts(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function lg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(gl(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ts(n)}}function vC(t,e){var n=ts(e.value),r=ts(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function iw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ug(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gc,_C=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gc=gc||document.createElement("div"),gc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var kl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zA=["Webkit","ms","Moz","O"];Object.keys(kl).forEach(function(t){zA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kl[e]=kl[t]})});function EC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||kl.hasOwnProperty(t)&&kl[t]?(""+e).trim():e+"px"}function SC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=EC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var BA=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cg(t,e){if(e){if(BA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function dg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fg=null;function tv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hg=null,Ko=null,Go=null;function sw(t){if(t=ju(t)){if(typeof hg!="function")throw Error(F(280));var e=t.stateNode;e&&(e=Ff(e),hg(t.stateNode,t.type,e))}}function CC(t){Ko?Go?Go.push(t):Go=[t]:Ko=t}function TC(){if(Ko){var t=Ko,e=Go;if(Go=Ko=null,sw(t),e)for(t=0;t<e.length;t++)sw(e[t])}}function IC(t,e){return t(e)}function xC(){}var Tp=!1;function kC(t,e,n){if(Tp)return t(e,n);Tp=!0;try{return IC(t,e,n)}finally{Tp=!1,(Ko!==null||Go!==null)&&(xC(),TC())}}function Xl(t,e){var n=t.stateNode;if(n===null)return null;var r=Ff(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var pg=!1;if(ui)try{var Xa={};Object.defineProperty(Xa,"passive",{get:function(){pg=!0}}),window.addEventListener("test",Xa,Xa),window.removeEventListener("test",Xa,Xa)}catch{pg=!1}function HA(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var bl=!1,Td=null,Id=!1,mg=null,qA={onError:function(t){bl=!0,Td=t}};function WA(t,e,n,r,i,s,o,a,l){bl=!1,Td=null,HA.apply(qA,arguments)}function KA(t,e,n,r,i,s,o,a,l){if(WA.apply(this,arguments),bl){if(bl){var u=Td;bl=!1,Td=null}else throw Error(F(198));Id||(Id=!0,mg=u)}}function oo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ow(t){if(oo(t)!==t)throw Error(F(188))}function GA(t){var e=t.alternate;if(!e){if(e=oo(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ow(i),t;if(s===r)return ow(i),e;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function RC(t){return t=GA(t),t!==null?AC(t):null}function AC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=AC(t);if(e!==null)return e;t=t.sibling}return null}var PC=jn.unstable_scheduleCallback,aw=jn.unstable_cancelCallback,QA=jn.unstable_shouldYield,YA=jn.unstable_requestPaint,pt=jn.unstable_now,XA=jn.unstable_getCurrentPriorityLevel,nv=jn.unstable_ImmediatePriority,NC=jn.unstable_UserBlockingPriority,xd=jn.unstable_NormalPriority,JA=jn.unstable_LowPriority,OC=jn.unstable_IdlePriority,jf=null,Ar=null;function ZA(t){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(jf,t,void 0,(t.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:nP,eP=Math.log,tP=Math.LN2;function nP(t){return t>>>=0,t===0?32:31-(eP(t)/tP|0)|0}var yc=64,vc=4194304;function yl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=yl(a):(s&=o,s!==0&&(r=yl(s)))}else o=n&~i,o!==0?r=yl(o):s!==0&&(r=yl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hr(e),i=1<<n,r|=t[n],e&=~i;return r}function rP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-hr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=rP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function gg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function LC(){var t=yc;return yc<<=1,!(yc&4194240)&&(yc=64),t}function Ip(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Lu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hr(e),t[e]=n}function sP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function rv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ze=0;function DC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jC,iv,MC,$C,UC,yg=!1,wc=[],Vi=null,zi=null,Bi=null,Jl=new Map,Zl=new Map,Pi=[],oP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lw(t,e){switch(t){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":Jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(e.pointerId)}}function Ja(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ju(e),e!==null&&iv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function aP(t,e,n,r,i){switch(e){case"focusin":return Vi=Ja(Vi,t,e,n,r,i),!0;case"dragenter":return zi=Ja(zi,t,e,n,r,i),!0;case"mouseover":return Bi=Ja(Bi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Jl.set(s,Ja(Jl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Zl.set(s,Ja(Zl.get(s)||null,t,e,n,r,i)),!0}return!1}function FC(t){var e=xs(t.target);if(e!==null){var n=oo(e);if(n!==null){if(e=n.tag,e===13){if(e=bC(n),e!==null){t.blockedOn=e,UC(t.priority,function(){MC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);fg=r,n.target.dispatchEvent(r),fg=null}else return e=ju(n),e!==null&&iv(e),t.blockedOn=n,!1;e.shift()}return!0}function uw(t,e,n){Wc(t)&&n.delete(e)}function lP(){yg=!1,Vi!==null&&Wc(Vi)&&(Vi=null),zi!==null&&Wc(zi)&&(zi=null),Bi!==null&&Wc(Bi)&&(Bi=null),Jl.forEach(uw),Zl.forEach(uw)}function Za(t,e){t.blockedOn===e&&(t.blockedOn=null,yg||(yg=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,lP)))}function eu(t){function e(i){return Za(i,t)}if(0<wc.length){Za(wc[0],t);for(var n=1;n<wc.length;n++){var r=wc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vi!==null&&Za(Vi,t),zi!==null&&Za(zi,t),Bi!==null&&Za(Bi,t),Jl.forEach(e),Zl.forEach(e),n=0;n<Pi.length;n++)r=Pi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Pi.length&&(n=Pi[0],n.blockedOn===null);)FC(n),n.blockedOn===null&&Pi.shift()}var Qo=_i.ReactCurrentBatchConfig,bd=!0;function uP(t,e,n,r){var i=ze,s=Qo.transition;Qo.transition=null;try{ze=1,sv(t,e,n,r)}finally{ze=i,Qo.transition=s}}function cP(t,e,n,r){var i=ze,s=Qo.transition;Qo.transition=null;try{ze=4,sv(t,e,n,r)}finally{ze=i,Qo.transition=s}}function sv(t,e,n,r){if(bd){var i=vg(t,e,n,r);if(i===null)Dp(t,e,r,Rd,n),lw(t,r);else if(aP(i,t,e,n,r))r.stopPropagation();else if(lw(t,r),e&4&&-1<oP.indexOf(t)){for(;i!==null;){var s=ju(i);if(s!==null&&jC(s),s=vg(t,e,n,r),s===null&&Dp(t,e,r,Rd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Dp(t,e,r,null,n)}}var Rd=null;function vg(t,e,n,r){if(Rd=null,t=tv(r),t=xs(t),t!==null)if(e=oo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=bC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rd=t,null}function VC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XA()){case nv:return 1;case NC:return 4;case xd:case JA:return 16;case OC:return 536870912;default:return 16}default:return 16}}var $i=null,ov=null,Kc=null;function zC(){if(Kc)return Kc;var t,e=ov,n=e.length,r,i="value"in $i?$i.value:$i.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Kc=i.slice(t,1<r?1-r:void 0)}function Gc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _c(){return!0}function cw(){return!1}function Fn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_c:cw,this.isPropagationStopped=cw,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_c)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_c)},persist:function(){},isPersistent:_c}),e}var ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},av=Fn(ba),Du=ut({},ba,{view:0,detail:0}),dP=Fn(Du),xp,kp,el,Mf=ut({},Du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==el&&(el&&t.type==="mousemove"?(xp=t.screenX-el.screenX,kp=t.screenY-el.screenY):kp=xp=0,el=t),xp)},movementY:function(t){return"movementY"in t?t.movementY:kp}}),dw=Fn(Mf),fP=ut({},Mf,{dataTransfer:0}),hP=Fn(fP),pP=ut({},Du,{relatedTarget:0}),bp=Fn(pP),mP=ut({},ba,{animationName:0,elapsedTime:0,pseudoElement:0}),gP=Fn(mP),yP=ut({},ba,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vP=Fn(yP),wP=ut({},ba,{data:0}),fw=Fn(wP),_P={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=SP[t])?!!e[t]:!1}function lv(){return CP}var TP=ut({},Du,{key:function(t){if(t.key){var e=_P[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?EP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lv,charCode:function(t){return t.type==="keypress"?Gc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),IP=Fn(TP),xP=ut({},Mf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hw=Fn(xP),kP=ut({},Du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lv}),bP=Fn(kP),RP=ut({},ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),AP=Fn(RP),PP=ut({},Mf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NP=Fn(PP),OP=[9,13,27,32],uv=ui&&"CompositionEvent"in window,Rl=null;ui&&"documentMode"in document&&(Rl=document.documentMode);var LP=ui&&"TextEvent"in window&&!Rl,BC=ui&&(!uv||Rl&&8<Rl&&11>=Rl),pw=String.fromCharCode(32),mw=!1;function HC(t,e){switch(t){case"keyup":return OP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Po=!1;function DP(t,e){switch(t){case"compositionend":return qC(e);case"keypress":return e.which!==32?null:(mw=!0,pw);case"textInput":return t=e.data,t===pw&&mw?null:t;default:return null}}function jP(t,e){if(Po)return t==="compositionend"||!uv&&HC(t,e)?(t=zC(),Kc=ov=$i=null,Po=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return BC&&e.locale!=="ko"?null:e.data;default:return null}}var MP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!MP[t.type]:e==="textarea"}function WC(t,e,n,r){CC(r),e=Ad(e,"onChange"),0<e.length&&(n=new av("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Al=null,tu=null;function $P(t){rT(t,0)}function $f(t){var e=Lo(t);if(gC(e))return t}function UP(t,e){if(t==="change")return e}var KC=!1;if(ui){var Rp;if(ui){var Ap="oninput"in document;if(!Ap){var yw=document.createElement("div");yw.setAttribute("oninput","return;"),Ap=typeof yw.oninput=="function"}Rp=Ap}else Rp=!1;KC=Rp&&(!document.documentMode||9<document.documentMode)}function vw(){Al&&(Al.detachEvent("onpropertychange",GC),tu=Al=null)}function GC(t){if(t.propertyName==="value"&&$f(tu)){var e=[];WC(e,tu,t,tv(t)),kC($P,e)}}function FP(t,e,n){t==="focusin"?(vw(),Al=e,tu=n,Al.attachEvent("onpropertychange",GC)):t==="focusout"&&vw()}function VP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $f(tu)}function zP(t,e){if(t==="click")return $f(e)}function BP(t,e){if(t==="input"||t==="change")return $f(e)}function HP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yr=typeof Object.is=="function"?Object.is:HP;function nu(t,e){if(yr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!eg.call(e,i)||!yr(t[i],e[i]))return!1}return!0}function ww(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _w(t,e){var n=ww(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ww(n)}}function QC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?QC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YC(){for(var t=window,e=Cd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cd(t.document)}return e}function cv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qP(t){var e=YC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&QC(n.ownerDocument.documentElement,n)){if(r!==null&&cv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=_w(n,s);var o=_w(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var WP=ui&&"documentMode"in document&&11>=document.documentMode,No=null,wg=null,Pl=null,_g=!1;function Ew(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_g||No==null||No!==Cd(r)||(r=No,"selectionStart"in r&&cv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pl&&nu(Pl,r)||(Pl=r,r=Ad(wg,"onSelect"),0<r.length&&(e=new av("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=No)))}function Ec(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Oo={animationend:Ec("Animation","AnimationEnd"),animationiteration:Ec("Animation","AnimationIteration"),animationstart:Ec("Animation","AnimationStart"),transitionend:Ec("Transition","TransitionEnd")},Pp={},XC={};ui&&(XC=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function Uf(t){if(Pp[t])return Pp[t];if(!Oo[t])return t;var e=Oo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in XC)return Pp[t]=e[n];return t}var JC=Uf("animationend"),ZC=Uf("animationiteration"),eT=Uf("animationstart"),tT=Uf("transitionend"),nT=new Map,Sw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function us(t,e){nT.set(t,e),so(e,[t])}for(var Np=0;Np<Sw.length;Np++){var Op=Sw[Np],KP=Op.toLowerCase(),GP=Op[0].toUpperCase()+Op.slice(1);us(KP,"on"+GP)}us(JC,"onAnimationEnd");us(ZC,"onAnimationIteration");us(eT,"onAnimationStart");us("dblclick","onDoubleClick");us("focusin","onFocus");us("focusout","onBlur");us(tT,"onTransitionEnd");oa("onMouseEnter",["mouseout","mouseover"]);oa("onMouseLeave",["mouseout","mouseover"]);oa("onPointerEnter",["pointerout","pointerover"]);oa("onPointerLeave",["pointerout","pointerover"]);so("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));so("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));so("onBeforeInput",["compositionend","keypress","textInput","paste"]);so("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));so("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));so("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QP=new Set("cancel close invalid load scroll toggle".split(" ").concat(vl));function Cw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,KA(r,e,void 0,t),t.currentTarget=null}function rT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Cw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Cw(i,a,u),s=l}}}if(Id)throw t=mg,Id=!1,mg=null,t}function Qe(t,e){var n=e[Ig];n===void 0&&(n=e[Ig]=new Set);var r=t+"__bubble";n.has(r)||(iT(e,t,2,!1),n.add(r))}function Lp(t,e,n){var r=0;e&&(r|=4),iT(n,t,r,e)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function ru(t){if(!t[Sc]){t[Sc]=!0,dC.forEach(function(n){n!=="selectionchange"&&(QP.has(n)||Lp(n,!1,t),Lp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sc]||(e[Sc]=!0,Lp("selectionchange",!1,e))}}function iT(t,e,n,r){switch(VC(e)){case 1:var i=uP;break;case 4:i=cP;break;default:i=sv}n=i.bind(null,e,n,t),i=void 0,!pg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=xs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}kC(function(){var u=s,c=tv(n),d=[];e:{var h=nT.get(t);if(h!==void 0){var p=av,_=t;switch(t){case"keypress":if(Gc(n)===0)break e;case"keydown":case"keyup":p=IP;break;case"focusin":_="focus",p=bp;break;case"focusout":_="blur",p=bp;break;case"beforeblur":case"afterblur":p=bp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=dw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=hP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=bP;break;case JC:case ZC:case eT:p=gP;break;case tT:p=AP;break;case"scroll":p=dP;break;case"wheel":p=NP;break;case"copy":case"cut":case"paste":p=vP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=hw}var y=(e&4)!==0,w=!y&&t==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var m=u,g;m!==null;){g=m;var E=g.stateNode;if(g.tag===5&&E!==null&&(g=E,v!==null&&(E=Xl(m,v),E!=null&&y.push(iu(m,E,g)))),w)break;m=m.return}0<y.length&&(h=new p(h,_,null,n,c),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==fg&&(_=n.relatedTarget||n.fromElement)&&(xs(_)||_[ci]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=u,_=_?xs(_):null,_!==null&&(w=oo(_),_!==w||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=u),p!==_)){if(y=dw,E="onMouseLeave",v="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=hw,E="onPointerLeave",v="onPointerEnter",m="pointer"),w=p==null?h:Lo(p),g=_==null?h:Lo(_),h=new y(E,m+"leave",p,n,c),h.target=w,h.relatedTarget=g,E=null,xs(c)===u&&(y=new y(v,m+"enter",_,n,c),y.target=g,y.relatedTarget=w,E=y),w=E,p&&_)t:{for(y=p,v=_,m=0,g=y;g;g=So(g))m++;for(g=0,E=v;E;E=So(E))g++;for(;0<m-g;)y=So(y),m--;for(;0<g-m;)v=So(v),g--;for(;m--;){if(y===v||v!==null&&y===v.alternate)break t;y=So(y),v=So(v)}y=null}else y=null;p!==null&&Tw(d,h,p,y,!1),_!==null&&w!==null&&Tw(d,w,_,y,!0)}}e:{if(h=u?Lo(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=UP;else if(gw(h))if(KC)S=BP;else{S=VP;var C=FP}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=zP);if(S&&(S=S(t,u))){WC(d,S,n,c);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&ag(h,"number",h.value)}switch(C=u?Lo(u):window,t){case"focusin":(gw(C)||C.contentEditable==="true")&&(No=C,wg=u,Pl=null);break;case"focusout":Pl=wg=No=null;break;case"mousedown":_g=!0;break;case"contextmenu":case"mouseup":case"dragend":_g=!1,Ew(d,n,c);break;case"selectionchange":if(WP)break;case"keydown":case"keyup":Ew(d,n,c)}var x;if(uv)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Po?HC(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(BC&&n.locale!=="ko"&&(Po||R!=="onCompositionStart"?R==="onCompositionEnd"&&Po&&(x=zC()):($i=c,ov="value"in $i?$i.value:$i.textContent,Po=!0)),C=Ad(u,R),0<C.length&&(R=new fw(R,t,null,n,c),d.push({event:R,listeners:C}),x?R.data=x:(x=qC(n),x!==null&&(R.data=x)))),(x=LP?DP(t,n):jP(t,n))&&(u=Ad(u,"onBeforeInput"),0<u.length&&(c=new fw("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=x))}rT(d,e)})}function iu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ad(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Xl(t,n),s!=null&&r.unshift(iu(t,s,i)),s=Xl(t,e),s!=null&&r.push(iu(t,s,i))),t=t.return}return r}function So(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Xl(n,s),l!=null&&o.unshift(iu(n,l,a))):i||(l=Xl(n,s),l!=null&&o.push(iu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var YP=/\r\n?/g,XP=/\u0000|\uFFFD/g;function Iw(t){return(typeof t=="string"?t:""+t).replace(YP,`
`).replace(XP,"")}function Cc(t,e,n){if(e=Iw(e),Iw(t)!==e&&n)throw Error(F(425))}function Pd(){}var Eg=null,Sg=null;function Cg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tg=typeof setTimeout=="function"?setTimeout:void 0,JP=typeof clearTimeout=="function"?clearTimeout:void 0,xw=typeof Promise=="function"?Promise:void 0,ZP=typeof queueMicrotask=="function"?queueMicrotask:typeof xw<"u"?function(t){return xw.resolve(null).then(t).catch(eN)}:Tg;function eN(t){setTimeout(function(){throw t})}function jp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),eu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);eu(e)}function Hi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ra=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Ra,su="__reactProps$"+Ra,ci="__reactContainer$"+Ra,Ig="__reactEvents$"+Ra,tN="__reactListeners$"+Ra,nN="__reactHandles$"+Ra;function xs(t){var e=t[Ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ci]||n[Ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kw(t);t!==null;){if(n=t[Ir])return n;t=kw(t)}return e}t=n,n=t.parentNode}return null}function ju(t){return t=t[Ir]||t[ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Lo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function Ff(t){return t[su]||null}var xg=[],Do=-1;function cs(t){return{current:t}}function Xe(t){0>Do||(t.current=xg[Do],xg[Do]=null,Do--)}function Ke(t,e){Do++,xg[Do]=t.current,t.current=e}var ns={},on=cs(ns),Cn=cs(!1),Bs=ns;function aa(t,e){var n=t.type.contextTypes;if(!n)return ns;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Tn(t){return t=t.childContextTypes,t!=null}function Nd(){Xe(Cn),Xe(on)}function bw(t,e,n){if(on.current!==ns)throw Error(F(168));Ke(on,e),Ke(Cn,n)}function sT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,FA(t)||"Unknown",i));return ut({},n,r)}function Od(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ns,Bs=on.current,Ke(on,t),Ke(Cn,Cn.current),!0}function Rw(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=sT(t,e,Bs),r.__reactInternalMemoizedMergedChildContext=t,Xe(Cn),Xe(on),Ke(on,t)):Xe(Cn),Ke(Cn,n)}var Qr=null,Vf=!1,Mp=!1;function oT(t){Qr===null?Qr=[t]:Qr.push(t)}function rN(t){Vf=!0,oT(t)}function ds(){if(!Mp&&Qr!==null){Mp=!0;var t=0,e=ze;try{var n=Qr;for(ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qr=null,Vf=!1}catch(i){throw Qr!==null&&(Qr=Qr.slice(t+1)),PC(nv,ds),i}finally{ze=e,Mp=!1}}return null}var jo=[],Mo=0,Ld=null,Dd=0,Bn=[],Hn=0,Hs=null,Jr=1,Zr="";function Es(t,e){jo[Mo++]=Dd,jo[Mo++]=Ld,Ld=t,Dd=e}function aT(t,e,n){Bn[Hn++]=Jr,Bn[Hn++]=Zr,Bn[Hn++]=Hs,Hs=t;var r=Jr;t=Zr;var i=32-hr(r)-1;r&=~(1<<i),n+=1;var s=32-hr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Jr=1<<32-hr(e)+i|n<<i|r,Zr=s+t}else Jr=1<<s|n<<i|r,Zr=t}function dv(t){t.return!==null&&(Es(t,1),aT(t,1,0))}function fv(t){for(;t===Ld;)Ld=jo[--Mo],jo[Mo]=null,Dd=jo[--Mo],jo[Mo]=null;for(;t===Hs;)Hs=Bn[--Hn],Bn[Hn]=null,Zr=Bn[--Hn],Bn[Hn]=null,Jr=Bn[--Hn],Bn[Hn]=null}var On=null,An=null,rt=!1,cr=null;function lT(t,e){var n=qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Aw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,On=t,An=Hi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,On=t,An=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hs!==null?{id:Jr,overflow:Zr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,On=t,An=null,!0):!1;default:return!1}}function kg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bg(t){if(rt){var e=An;if(e){var n=e;if(!Aw(t,e)){if(kg(t))throw Error(F(418));e=Hi(n.nextSibling);var r=On;e&&Aw(t,e)?lT(r,n):(t.flags=t.flags&-4097|2,rt=!1,On=t)}}else{if(kg(t))throw Error(F(418));t.flags=t.flags&-4097|2,rt=!1,On=t}}}function Pw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;On=t}function Tc(t){if(t!==On)return!1;if(!rt)return Pw(t),rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cg(t.type,t.memoizedProps)),e&&(e=An)){if(kg(t))throw uT(),Error(F(418));for(;e;)lT(t,e),e=Hi(e.nextSibling)}if(Pw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){An=Hi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}An=null}}else An=On?Hi(t.stateNode.nextSibling):null;return!0}function uT(){for(var t=An;t;)t=Hi(t.nextSibling)}function la(){An=On=null,rt=!1}function hv(t){cr===null?cr=[t]:cr.push(t)}var iN=_i.ReactCurrentBatchConfig;function lr(t,e){if(t&&t.defaultProps){e=ut({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var jd=cs(null),Md=null,$o=null,pv=null;function mv(){pv=$o=Md=null}function gv(t){var e=jd.current;Xe(jd),t._currentValue=e}function Rg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Yo(t,e){Md=t,pv=$o=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Sn=!0),t.firstContext=null)}function Gn(t){var e=t._currentValue;if(pv!==t)if(t={context:t,memoizedValue:e,next:null},$o===null){if(Md===null)throw Error(F(308));$o=t,Md.dependencies={lanes:0,firstContext:t}}else $o=$o.next=t;return e}var ks=null;function yv(t){ks===null?ks=[t]:ks.push(t)}function cT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,yv(e)):(n.next=i.next,i.next=n),e.interleaved=n,di(t,r)}function di(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ai=!1;function vv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ii(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,di(t,n)}return i=r.interleaved,i===null?(e.next=e,yv(r)):(e.next=i.next,i.next=e),r.interleaved=e,di(t,n)}function Qc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rv(t,n)}}function Nw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $d(t,e,n,r){var i=t.updateQueue;Ai=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,y=a;switch(h=e,p=n,y.tag){case 1:if(_=y.payload,typeof _=="function"){d=_.call(p,d,h);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,h=typeof _=="function"?_.call(p,d,h):_,h==null)break e;d=ut({},d,h);break e;case 2:Ai=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ws|=o,t.lanes=o,t.memoizedState=d}}function Ow(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var fT=new cC.Component().refs;function Ag(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zf={isMounted:function(t){return(t=t._reactInternals)?oo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=pn(),i=Ki(t),s=ii(r,i);s.payload=e,n!=null&&(s.callback=n),e=qi(t,s,i),e!==null&&(pr(e,t,i,r),Qc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=pn(),i=Ki(t),s=ii(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=qi(t,s,i),e!==null&&(pr(e,t,i,r),Qc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pn(),r=Ki(t),i=ii(n,r);i.tag=2,e!=null&&(i.callback=e),e=qi(t,i,r),e!==null&&(pr(e,t,r,n),Qc(e,t,r))}};function Lw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!nu(n,r)||!nu(i,s):!0}function hT(t,e,n){var r=!1,i=ns,s=e.contextType;return typeof s=="object"&&s!==null?s=Gn(s):(i=Tn(e)?Bs:on.current,r=e.contextTypes,s=(r=r!=null)?aa(t,i):ns),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Dw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zf.enqueueReplaceState(e,e.state,null)}function Pg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=fT,vv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Gn(s):(s=Tn(e)?Bs:on.current,i.context=aa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ag(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zf.enqueueReplaceState(i,i.state,null),$d(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function tl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===fT&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function Ic(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jw(t){var e=t._init;return e(t._payload)}function pT(t){function e(v,m){if(t){var g=v.deletions;g===null?(v.deletions=[m],v.flags|=16):g.push(m)}}function n(v,m){if(!t)return null;for(;m!==null;)e(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function i(v,m){return v=Gi(v,m),v.index=0,v.sibling=null,v}function s(v,m,g){return v.index=g,t?(g=v.alternate,g!==null?(g=g.index,g<m?(v.flags|=2,m):g):(v.flags|=2,m)):(v.flags|=1048576,m)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,m,g,E){return m===null||m.tag!==6?(m=Hp(g,v.mode,E),m.return=v,m):(m=i(m,g),m.return=v,m)}function l(v,m,g,E){var S=g.type;return S===Ao?c(v,m,g.props.children,E,g.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ri&&jw(S)===m.type)?(E=i(m,g.props),E.ref=tl(v,m,g),E.return=v,E):(E=td(g.type,g.key,g.props,null,v.mode,E),E.ref=tl(v,m,g),E.return=v,E)}function u(v,m,g,E){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=qp(g,v.mode,E),m.return=v,m):(m=i(m,g.children||[]),m.return=v,m)}function c(v,m,g,E,S){return m===null||m.tag!==7?(m=$s(g,v.mode,E,S),m.return=v,m):(m=i(m,g),m.return=v,m)}function d(v,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Hp(""+m,v.mode,g),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case pc:return g=td(m.type,m.key,m.props,null,v.mode,g),g.ref=tl(v,null,m),g.return=v,g;case Ro:return m=qp(m,v.mode,g),m.return=v,m;case Ri:var E=m._init;return d(v,E(m._payload),g)}if(gl(m)||Ya(m))return m=$s(m,v.mode,g,null),m.return=v,m;Ic(v,m)}return null}function h(v,m,g,E){var S=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:a(v,m,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case pc:return g.key===S?l(v,m,g,E):null;case Ro:return g.key===S?u(v,m,g,E):null;case Ri:return S=g._init,h(v,m,S(g._payload),E)}if(gl(g)||Ya(g))return S!==null?null:c(v,m,g,E,null);Ic(v,g)}return null}function p(v,m,g,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(g)||null,a(m,v,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case pc:return v=v.get(E.key===null?g:E.key)||null,l(m,v,E,S);case Ro:return v=v.get(E.key===null?g:E.key)||null,u(m,v,E,S);case Ri:var C=E._init;return p(v,m,g,C(E._payload),S)}if(gl(E)||Ya(E))return v=v.get(g)||null,c(m,v,E,S,null);Ic(m,E)}return null}function _(v,m,g,E){for(var S=null,C=null,x=m,R=m=0,b=null;x!==null&&R<g.length;R++){x.index>R?(b=x,x=null):b=x.sibling;var O=h(v,x,g[R],E);if(O===null){x===null&&(x=b);break}t&&x&&O.alternate===null&&e(v,x),m=s(O,m,R),C===null?S=O:C.sibling=O,C=O,x=b}if(R===g.length)return n(v,x),rt&&Es(v,R),S;if(x===null){for(;R<g.length;R++)x=d(v,g[R],E),x!==null&&(m=s(x,m,R),C===null?S=x:C.sibling=x,C=x);return rt&&Es(v,R),S}for(x=r(v,x);R<g.length;R++)b=p(x,v,R,g[R],E),b!==null&&(t&&b.alternate!==null&&x.delete(b.key===null?R:b.key),m=s(b,m,R),C===null?S=b:C.sibling=b,C=b);return t&&x.forEach(function(q){return e(v,q)}),rt&&Es(v,R),S}function y(v,m,g,E){var S=Ya(g);if(typeof S!="function")throw Error(F(150));if(g=S.call(g),g==null)throw Error(F(151));for(var C=S=null,x=m,R=m=0,b=null,O=g.next();x!==null&&!O.done;R++,O=g.next()){x.index>R?(b=x,x=null):b=x.sibling;var q=h(v,x,O.value,E);if(q===null){x===null&&(x=b);break}t&&x&&q.alternate===null&&e(v,x),m=s(q,m,R),C===null?S=q:C.sibling=q,C=q,x=b}if(O.done)return n(v,x),rt&&Es(v,R),S;if(x===null){for(;!O.done;R++,O=g.next())O=d(v,O.value,E),O!==null&&(m=s(O,m,R),C===null?S=O:C.sibling=O,C=O);return rt&&Es(v,R),S}for(x=r(v,x);!O.done;R++,O=g.next())O=p(x,v,R,O.value,E),O!==null&&(t&&O.alternate!==null&&x.delete(O.key===null?R:O.key),m=s(O,m,R),C===null?S=O:C.sibling=O,C=O);return t&&x.forEach(function($){return e(v,$)}),rt&&Es(v,R),S}function w(v,m,g,E){if(typeof g=="object"&&g!==null&&g.type===Ao&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case pc:e:{for(var S=g.key,C=m;C!==null;){if(C.key===S){if(S=g.type,S===Ao){if(C.tag===7){n(v,C.sibling),m=i(C,g.props.children),m.return=v,v=m;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ri&&jw(S)===C.type){n(v,C.sibling),m=i(C,g.props),m.ref=tl(v,C,g),m.return=v,v=m;break e}n(v,C);break}else e(v,C);C=C.sibling}g.type===Ao?(m=$s(g.props.children,v.mode,E,g.key),m.return=v,v=m):(E=td(g.type,g.key,g.props,null,v.mode,E),E.ref=tl(v,m,g),E.return=v,v=E)}return o(v);case Ro:e:{for(C=g.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(v,m.sibling),m=i(m,g.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else e(v,m);m=m.sibling}m=qp(g,v.mode,E),m.return=v,v=m}return o(v);case Ri:return C=g._init,w(v,m,C(g._payload),E)}if(gl(g))return _(v,m,g,E);if(Ya(g))return y(v,m,g,E);Ic(v,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(v,m.sibling),m=i(m,g),m.return=v,v=m):(n(v,m),m=Hp(g,v.mode,E),m.return=v,v=m),o(v)):n(v,m)}return w}var ua=pT(!0),mT=pT(!1),Mu={},Pr=cs(Mu),ou=cs(Mu),au=cs(Mu);function bs(t){if(t===Mu)throw Error(F(174));return t}function wv(t,e){switch(Ke(au,e),Ke(ou,t),Ke(Pr,Mu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ug(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ug(e,t)}Xe(Pr),Ke(Pr,e)}function ca(){Xe(Pr),Xe(ou),Xe(au)}function gT(t){bs(au.current);var e=bs(Pr.current),n=ug(e,t.type);e!==n&&(Ke(ou,t),Ke(Pr,n))}function _v(t){ou.current===t&&(Xe(Pr),Xe(ou))}var ot=cs(0);function Ud(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $p=[];function Ev(){for(var t=0;t<$p.length;t++)$p[t]._workInProgressVersionPrimary=null;$p.length=0}var Yc=_i.ReactCurrentDispatcher,Up=_i.ReactCurrentBatchConfig,qs=0,lt=null,xt=null,Ot=null,Fd=!1,Nl=!1,lu=0,sN=0;function Kt(){throw Error(F(321))}function Sv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yr(t[n],e[n]))return!1;return!0}function Cv(t,e,n,r,i,s){if(qs=s,lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yc.current=t===null||t.memoizedState===null?uN:cN,t=n(r,i),Nl){s=0;do{if(Nl=!1,lu=0,25<=s)throw Error(F(301));s+=1,Ot=xt=null,e.updateQueue=null,Yc.current=dN,t=n(r,i)}while(Nl)}if(Yc.current=Vd,e=xt!==null&&xt.next!==null,qs=0,Ot=xt=lt=null,Fd=!1,e)throw Error(F(300));return t}function Tv(){var t=lu!==0;return lu=0,t}function Cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?lt.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Qn(){if(xt===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=Ot===null?lt.memoizedState:Ot.next;if(e!==null)Ot=e,xt=t;else{if(t===null)throw Error(F(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Ot===null?lt.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function uu(t,e){return typeof e=="function"?e(t):e}function Fp(t){var e=Qn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=xt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((qs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,lt.lanes|=c,Ws|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,yr(r,e.memoizedState)||(Sn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,lt.lanes|=s,Ws|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vp(t){var e=Qn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);yr(s,e.memoizedState)||(Sn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function yT(){}function vT(t,e){var n=lt,r=Qn(),i=e(),s=!yr(r.memoizedState,i);if(s&&(r.memoizedState=i,Sn=!0),r=r.queue,Iv(ET.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ot!==null&&Ot.memoizedState.tag&1){if(n.flags|=2048,cu(9,_T.bind(null,n,r,i,e),void 0,null),Lt===null)throw Error(F(349));qs&30||wT(n,e,i)}return i}function wT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _T(t,e,n,r){e.value=n,e.getSnapshot=r,ST(e)&&CT(t)}function ET(t,e,n){return n(function(){ST(e)&&CT(t)})}function ST(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yr(t,n)}catch{return!0}}function CT(t){var e=di(t,1);e!==null&&pr(e,t,1,-1)}function Mw(t){var e=Cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:t},e.queue=t,t=t.dispatch=lN.bind(null,lt,t),[e.memoizedState,t]}function cu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function TT(){return Qn().memoizedState}function Xc(t,e,n,r){var i=Cr();lt.flags|=t,i.memoizedState=cu(1|e,n,void 0,r===void 0?null:r)}function Bf(t,e,n,r){var i=Qn();r=r===void 0?null:r;var s=void 0;if(xt!==null){var o=xt.memoizedState;if(s=o.destroy,r!==null&&Sv(r,o.deps)){i.memoizedState=cu(e,n,s,r);return}}lt.flags|=t,i.memoizedState=cu(1|e,n,s,r)}function $w(t,e){return Xc(8390656,8,t,e)}function Iv(t,e){return Bf(2048,8,t,e)}function IT(t,e){return Bf(4,2,t,e)}function xT(t,e){return Bf(4,4,t,e)}function kT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bT(t,e,n){return n=n!=null?n.concat([t]):null,Bf(4,4,kT.bind(null,e,t),n)}function xv(){}function RT(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function AT(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function PT(t,e,n){return qs&21?(yr(n,e)||(n=LC(),lt.lanes|=n,Ws|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Sn=!0),t.memoizedState=n)}function oN(t,e){var n=ze;ze=n!==0&&4>n?n:4,t(!0);var r=Up.transition;Up.transition={};try{t(!1),e()}finally{ze=n,Up.transition=r}}function NT(){return Qn().memoizedState}function aN(t,e,n){var r=Ki(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},OT(t))LT(e,n);else if(n=cT(t,e,n,r),n!==null){var i=pn();pr(n,t,r,i),DT(n,e,r)}}function lN(t,e,n){var r=Ki(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(OT(t))LT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,yr(a,o)){var l=e.interleaved;l===null?(i.next=i,yv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=cT(t,e,i,r),n!==null&&(i=pn(),pr(n,t,r,i),DT(n,e,r))}}function OT(t){var e=t.alternate;return t===lt||e!==null&&e===lt}function LT(t,e){Nl=Fd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function DT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rv(t,n)}}var Vd={readContext:Gn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},uN={readContext:Gn,useCallback:function(t,e){return Cr().memoizedState=[t,e===void 0?null:e],t},useContext:Gn,useEffect:$w,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xc(4194308,4,kT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xc(4,2,t,e)},useMemo:function(t,e){var n=Cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=aN.bind(null,lt,t),[r.memoizedState,t]},useRef:function(t){var e=Cr();return t={current:t},e.memoizedState=t},useState:Mw,useDebugValue:xv,useDeferredValue:function(t){return Cr().memoizedState=t},useTransition:function(){var t=Mw(!1),e=t[0];return t=oN.bind(null,t[1]),Cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=lt,i=Cr();if(rt){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),Lt===null)throw Error(F(349));qs&30||wT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,$w(ET.bind(null,r,s,t),[t]),r.flags|=2048,cu(9,_T.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Cr(),e=Lt.identifierPrefix;if(rt){var n=Zr,r=Jr;n=(r&~(1<<32-hr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=lu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=sN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cN={readContext:Gn,useCallback:RT,useContext:Gn,useEffect:Iv,useImperativeHandle:bT,useInsertionEffect:IT,useLayoutEffect:xT,useMemo:AT,useReducer:Fp,useRef:TT,useState:function(){return Fp(uu)},useDebugValue:xv,useDeferredValue:function(t){var e=Qn();return PT(e,xt.memoizedState,t)},useTransition:function(){var t=Fp(uu)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:yT,useSyncExternalStore:vT,useId:NT,unstable_isNewReconciler:!1},dN={readContext:Gn,useCallback:RT,useContext:Gn,useEffect:Iv,useImperativeHandle:bT,useInsertionEffect:IT,useLayoutEffect:xT,useMemo:AT,useReducer:Vp,useRef:TT,useState:function(){return Vp(uu)},useDebugValue:xv,useDeferredValue:function(t){var e=Qn();return xt===null?e.memoizedState=t:PT(e,xt.memoizedState,t)},useTransition:function(){var t=Vp(uu)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:yT,useSyncExternalStore:vT,useId:NT,unstable_isNewReconciler:!1};function da(t,e){try{var n="",r=e;do n+=UA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function zp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ng(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var fN=typeof WeakMap=="function"?WeakMap:Map;function jT(t,e,n){n=ii(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bd||(Bd=!0,zg=r),Ng(t,e)},n}function MT(t,e,n){n=ii(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ng(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ng(t,e),typeof r!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Uw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new fN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=xN.bind(null,t,e,n),e.then(t,t))}function Fw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ii(-1,1),e.tag=2,qi(n,e,1))),n.lanes|=1),t)}var hN=_i.ReactCurrentOwner,Sn=!1;function dn(t,e,n,r){e.child=t===null?mT(e,null,n,r):ua(e,t.child,n,r)}function zw(t,e,n,r,i){n=n.render;var s=e.ref;return Yo(e,i),r=Cv(t,e,n,r,s,i),n=Tv(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fi(t,e,i)):(rt&&n&&dv(e),e.flags|=1,dn(t,e,r,i),e.child)}function Bw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Lv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,$T(t,e,s,r,i)):(t=td(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:nu,n(o,r)&&t.ref===e.ref)return fi(t,e,i)}return e.flags|=1,t=Gi(s,r),t.ref=e.ref,t.return=e,e.child=t}function $T(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(nu(s,r)&&t.ref===e.ref)if(Sn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Sn=!0);else return e.lanes=t.lanes,fi(t,e,i)}return Og(t,e,n,r,i)}function UT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Fo,Rn),Rn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ke(Fo,Rn),Rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ke(Fo,Rn),Rn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ke(Fo,Rn),Rn|=r;return dn(t,e,i,n),e.child}function FT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Og(t,e,n,r,i){var s=Tn(n)?Bs:on.current;return s=aa(e,s),Yo(e,i),n=Cv(t,e,n,r,s,i),r=Tv(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fi(t,e,i)):(rt&&r&&dv(e),e.flags|=1,dn(t,e,n,i),e.child)}function Hw(t,e,n,r,i){if(Tn(n)){var s=!0;Od(e)}else s=!1;if(Yo(e,i),e.stateNode===null)Jc(t,e),hT(e,n,r),Pg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Gn(u):(u=Tn(n)?Bs:on.current,u=aa(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Dw(e,o,r,u),Ai=!1;var h=e.memoizedState;o.state=h,$d(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Cn.current||Ai?(typeof c=="function"&&(Ag(e,n,c,r),l=e.memoizedState),(a=Ai||Lw(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,dT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:lr(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gn(l):(l=Tn(n)?Bs:on.current,l=aa(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Dw(e,o,r,l),Ai=!1,h=e.memoizedState,o.state=h,$d(e,r,o,i);var _=e.memoizedState;a!==d||h!==_||Cn.current||Ai?(typeof p=="function"&&(Ag(e,n,p,r),_=e.memoizedState),(u=Ai||Lw(e,n,u,r,h,_,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Lg(t,e,n,r,s,i)}function Lg(t,e,n,r,i,s){FT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Rw(e,n,!1),fi(t,e,s);r=e.stateNode,hN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ua(e,t.child,null,s),e.child=ua(e,null,a,s)):dn(t,e,a,s),e.memoizedState=r.state,i&&Rw(e,n,!0),e.child}function VT(t){var e=t.stateNode;e.pendingContext?bw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bw(t,e.context,!1),wv(t,e.containerInfo)}function qw(t,e,n,r,i){return la(),hv(i),e.flags|=256,dn(t,e,n,r),e.child}var Dg={dehydrated:null,treeContext:null,retryLane:0};function jg(t){return{baseLanes:t,cachePool:null,transitions:null}}function zT(t,e,n){var r=e.pendingProps,i=ot.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ke(ot,i&1),t===null)return bg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Wf(o,r,0,null),t=$s(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=jg(n),e.memoizedState=Dg,t):kv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return pN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Gi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Gi(a,s):(s=$s(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?jg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Dg,r}return s=t.child,t=s.sibling,r=Gi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function kv(t,e){return e=Wf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xc(t,e,n,r){return r!==null&&hv(r),ua(e,t.child,null,n),t=kv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=zp(Error(F(422))),xc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Wf({mode:"visible",children:r.children},i,0,null),s=$s(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ua(e,t.child,null,o),e.child.memoizedState=jg(o),e.memoizedState=Dg,s);if(!(e.mode&1))return xc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(F(419)),r=zp(s,r,void 0),xc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Sn||a){if(r=Lt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,di(t,i),pr(r,t,i,-1))}return Ov(),r=zp(Error(F(421))),xc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=kN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,An=Hi(i.nextSibling),On=e,rt=!0,cr=null,t!==null&&(Bn[Hn++]=Jr,Bn[Hn++]=Zr,Bn[Hn++]=Hs,Jr=t.id,Zr=t.overflow,Hs=e),e=kv(e,r.children),e.flags|=4096,e)}function Ww(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Rg(t.return,e,n)}function Bp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function BT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(dn(t,e,r.children,n),r=ot.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ww(t,n,e);else if(t.tag===19)Ww(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ke(ot,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ud(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Bp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ud(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Bp(e,!0,n,null,s);break;case"together":Bp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ws|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=Gi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function mN(t,e,n){switch(e.tag){case 3:VT(e),la();break;case 5:gT(e);break;case 1:Tn(e.type)&&Od(e);break;case 4:wv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ke(jd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ke(ot,ot.current&1),e.flags|=128,null):n&e.child.childLanes?zT(t,e,n):(Ke(ot,ot.current&1),t=fi(t,e,n),t!==null?t.sibling:null);Ke(ot,ot.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return BT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ke(ot,ot.current),r)break;return null;case 22:case 23:return e.lanes=0,UT(t,e,n)}return fi(t,e,n)}var HT,Mg,qT,WT;HT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mg=function(){};qT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,bs(Pr.current);var s=null;switch(n){case"input":i=sg(t,i),r=sg(t,r),s=[];break;case"select":i=ut({},i,{value:void 0}),r=ut({},r,{value:void 0}),s=[];break;case"textarea":i=lg(t,i),r=lg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Pd)}cg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ql.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ql.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Qe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};WT=function(t,e,n,r){n!==r&&(e.flags|=4)};function nl(t,e){if(!rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function gN(t,e,n){var r=e.pendingProps;switch(fv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return Tn(e.type)&&Nd(),Gt(e),null;case 3:return r=e.stateNode,ca(),Xe(Cn),Xe(on),Ev(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Tc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&(qg(cr),cr=null))),Mg(t,e),Gt(e),null;case 5:_v(e);var i=bs(au.current);if(n=e.type,t!==null&&e.stateNode!=null)qT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return Gt(e),null}if(t=bs(Pr.current),Tc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ir]=e,r[su]=s,t=(e.mode&1)!==0,n){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(i=0;i<vl.length;i++)Qe(vl[i],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":tw(r,s),Qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Qe("invalid",r);break;case"textarea":rw(r,s),Qe("invalid",r)}cg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Cc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Cc(r.textContent,a,t),i=["children",""+a]):Ql.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Qe("scroll",r)}switch(n){case"input":mc(r),nw(r,s,!0);break;case"textarea":mc(r),iw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Pd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ir]=e,t[su]=r,HT(t,e,!1,!1),e.stateNode=t;e:{switch(o=dg(n,r),n){case"dialog":Qe("cancel",t),Qe("close",t),i=r;break;case"iframe":case"object":case"embed":Qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<vl.length;i++)Qe(vl[i],t);i=r;break;case"source":Qe("error",t),i=r;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),i=r;break;case"details":Qe("toggle",t),i=r;break;case"input":tw(t,r),i=sg(t,r),Qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ut({},r,{value:void 0}),Qe("invalid",t);break;case"textarea":rw(t,r),i=lg(t,r),Qe("invalid",t);break;default:i=r}cg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?SC(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_C(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Yl(t,l):typeof l=="number"&&Yl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ql.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Qe("scroll",t):l!=null&&Xy(t,s,l,o))}switch(n){case"input":mc(t),nw(t,r,!1);break;case"textarea":mc(t),iw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ts(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Wo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Wo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Pd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)WT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=bs(au.current),bs(Pr.current),Tc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ir]=e,(s=r.nodeValue!==n)&&(t=On,t!==null))switch(t.tag){case 3:Cc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ir]=e,e.stateNode=r}return Gt(e),null;case 13:if(Xe(ot),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rt&&An!==null&&e.mode&1&&!(e.flags&128))uT(),la(),e.flags|=98560,s=!1;else if(s=Tc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[Ir]=e}else la(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),s=!1}else cr!==null&&(qg(cr),cr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?kt===0&&(kt=3):Ov())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return ca(),Mg(t,e),t===null&&ru(e.stateNode.containerInfo),Gt(e),null;case 10:return gv(e.type._context),Gt(e),null;case 17:return Tn(e.type)&&Nd(),Gt(e),null;case 19:if(Xe(ot),s=e.memoizedState,s===null)return Gt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)nl(s,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ud(t),o!==null){for(e.flags|=128,nl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ke(ot,ot.current&1|2),e.child}t=t.sibling}s.tail!==null&&pt()>fa&&(e.flags|=128,r=!0,nl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ud(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),nl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!rt)return Gt(e),null}else 2*pt()-s.renderingStartTime>fa&&n!==1073741824&&(e.flags|=128,r=!0,nl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=pt(),e.sibling=null,n=ot.current,Ke(ot,r?n&1|2:n&1),e):(Gt(e),null);case 22:case 23:return Nv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rn&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function yN(t,e){switch(fv(e),e.tag){case 1:return Tn(e.type)&&Nd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ca(),Xe(Cn),Xe(on),Ev(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _v(e),null;case 13:if(Xe(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));la()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(ot),null;case 4:return ca(),null;case 10:return gv(e.type._context),null;case 22:case 23:return Nv(),null;case 24:return null;default:return null}}var kc=!1,Jt=!1,vN=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Uo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ft(t,e,r)}else n.current=null}function $g(t,e,n){try{n()}catch(r){ft(t,e,r)}}var Kw=!1;function wN(t,e){if(Eg=bd,t=YC(),cv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sg={focusedElem:t,selectionRange:n},bd=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,w=_.memoizedState,v=e.stateNode,m=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:lr(e.type,y),w);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(E){ft(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return _=Kw,Kw=!1,_}function Ol(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&$g(e,n,s)}i=i.next}while(i!==r)}}function Hf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ug(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function KT(t){var e=t.alternate;e!==null&&(t.alternate=null,KT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ir],delete e[su],delete e[Ig],delete e[tN],delete e[nN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function GT(t){return t.tag===5||t.tag===3||t.tag===4}function Gw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||GT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Pd));else if(r!==4&&(t=t.child,t!==null))for(Fg(t,e,n),t=t.sibling;t!==null;)Fg(t,e,n),t=t.sibling}function Vg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Vg(t,e,n),t=t.sibling;t!==null;)Vg(t,e,n),t=t.sibling}var Ut=null,ur=!1;function xi(t,e,n){for(n=n.child;n!==null;)QT(t,e,n),n=n.sibling}function QT(t,e,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(jf,n)}catch{}switch(n.tag){case 5:Jt||Uo(n,e);case 6:var r=Ut,i=ur;Ut=null,xi(t,e,n),Ut=r,ur=i,Ut!==null&&(ur?(t=Ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&(ur?(t=Ut,n=n.stateNode,t.nodeType===8?jp(t.parentNode,n):t.nodeType===1&&jp(t,n),eu(t)):jp(Ut,n.stateNode));break;case 4:r=Ut,i=ur,Ut=n.stateNode.containerInfo,ur=!0,xi(t,e,n),Ut=r,ur=i;break;case 0:case 11:case 14:case 15:if(!Jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&$g(n,e,o),i=i.next}while(i!==r)}xi(t,e,n);break;case 1:if(!Jt&&(Uo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ft(n,e,a)}xi(t,e,n);break;case 21:xi(t,e,n);break;case 22:n.mode&1?(Jt=(r=Jt)||n.memoizedState!==null,xi(t,e,n),Jt=r):xi(t,e,n);break;default:xi(t,e,n)}}function Qw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new vN),e.forEach(function(r){var i=bN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ut=a.stateNode,ur=!1;break e;case 3:Ut=a.stateNode.containerInfo,ur=!0;break e;case 4:Ut=a.stateNode.containerInfo,ur=!0;break e}a=a.return}if(Ut===null)throw Error(F(160));QT(s,o,i),Ut=null,ur=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ft(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)YT(e,t),e=e.sibling}function YT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(or(e,t),Er(t),r&4){try{Ol(3,t,t.return),Hf(3,t)}catch(y){ft(t,t.return,y)}try{Ol(5,t,t.return)}catch(y){ft(t,t.return,y)}}break;case 1:or(e,t),Er(t),r&512&&n!==null&&Uo(n,n.return);break;case 5:if(or(e,t),Er(t),r&512&&n!==null&&Uo(n,n.return),t.flags&32){var i=t.stateNode;try{Yl(i,"")}catch(y){ft(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&yC(i,s),dg(a,o);var u=dg(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?SC(i,d):c==="dangerouslySetInnerHTML"?_C(i,d):c==="children"?Yl(i,d):Xy(i,c,d,u)}switch(a){case"input":og(i,s);break;case"textarea":vC(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Wo(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Wo(i,!!s.multiple,s.defaultValue,!0):Wo(i,!!s.multiple,s.multiple?[]:"",!1))}i[su]=s}catch(y){ft(t,t.return,y)}}break;case 6:if(or(e,t),Er(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){ft(t,t.return,y)}}break;case 3:if(or(e,t),Er(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{eu(e.containerInfo)}catch(y){ft(t,t.return,y)}break;case 4:or(e,t),Er(t);break;case 13:or(e,t),Er(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Av=pt())),r&4&&Qw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Jt=(u=Jt)||c,or(e,t),Jt=u):or(e,t),Er(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Y=t,c=t.child;c!==null;){for(d=Y=c;Y!==null;){switch(h=Y,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ol(4,h,h.return);break;case 1:Uo(h,h.return);var _=h.stateNode;if(typeof _.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(y){ft(r,n,y)}}break;case 5:Uo(h,h.return);break;case 22:if(h.memoizedState!==null){Xw(d);continue}}p!==null?(p.return=h,Y=p):Xw(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=EC("display",o))}catch(y){ft(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){ft(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:or(e,t),Er(t),r&4&&Qw(t);break;case 21:break;default:or(e,t),Er(t)}}function Er(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(GT(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yl(i,""),r.flags&=-33);var s=Gw(t);Vg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Gw(t);Fg(t,a,o);break;default:throw Error(F(161))}}catch(l){ft(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _N(t,e,n){Y=t,XT(t)}function XT(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||kc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Jt;a=kc;var u=Jt;if(kc=o,(Jt=l)&&!u)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?Jw(i):l!==null?(l.return=o,Y=l):Jw(i);for(;s!==null;)Y=s,XT(s),s=s.sibling;Y=i,kc=a,Jt=u}Yw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):Yw(t)}}function Yw(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jt||Hf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:lr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ow(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ow(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&eu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Jt||e.flags&512&&Ug(e)}catch(h){ft(e,e.return,h)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Xw(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Jw(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hf(4,e)}catch(l){ft(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ft(e,i,l)}}var s=e.return;try{Ug(e)}catch(l){ft(e,s,l)}break;case 5:var o=e.return;try{Ug(e)}catch(l){ft(e,o,l)}}}catch(l){ft(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var EN=Math.ceil,zd=_i.ReactCurrentDispatcher,bv=_i.ReactCurrentOwner,Wn=_i.ReactCurrentBatchConfig,De=0,Lt=null,_t=null,zt=0,Rn=0,Fo=cs(0),kt=0,du=null,Ws=0,qf=0,Rv=0,Ll=null,_n=null,Av=0,fa=1/0,Wr=null,Bd=!1,zg=null,Wi=null,bc=!1,Ui=null,Hd=0,Dl=0,Bg=null,Zc=-1,ed=0;function pn(){return De&6?pt():Zc!==-1?Zc:Zc=pt()}function Ki(t){return t.mode&1?De&2&&zt!==0?zt&-zt:iN.transition!==null?(ed===0&&(ed=LC()),ed):(t=ze,t!==0||(t=window.event,t=t===void 0?16:VC(t.type)),t):1}function pr(t,e,n,r){if(50<Dl)throw Dl=0,Bg=null,Error(F(185));Lu(t,n,r),(!(De&2)||t!==Lt)&&(t===Lt&&(!(De&2)&&(qf|=n),kt===4&&Ni(t,zt)),In(t,r),n===1&&De===0&&!(e.mode&1)&&(fa=pt()+500,Vf&&ds()))}function In(t,e){var n=t.callbackNode;iP(t,e);var r=kd(t,t===Lt?zt:0);if(r===0)n!==null&&aw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&aw(n),e===1)t.tag===0?rN(Zw.bind(null,t)):oT(Zw.bind(null,t)),ZP(function(){!(De&6)&&ds()}),n=null;else{switch(DC(r)){case 1:n=nv;break;case 4:n=NC;break;case 16:n=xd;break;case 536870912:n=OC;break;default:n=xd}n=sI(n,JT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function JT(t,e){if(Zc=-1,ed=0,De&6)throw Error(F(327));var n=t.callbackNode;if(Xo()&&t.callbackNode!==n)return null;var r=kd(t,t===Lt?zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qd(t,r);else{e=r;var i=De;De|=2;var s=eI();(Lt!==t||zt!==e)&&(Wr=null,fa=pt()+500,Ms(t,e));do try{TN();break}catch(a){ZT(t,a)}while(1);mv(),zd.current=s,De=i,_t!==null?e=0:(Lt=null,zt=0,e=kt)}if(e!==0){if(e===2&&(i=gg(t),i!==0&&(r=i,e=Hg(t,i))),e===1)throw n=du,Ms(t,0),Ni(t,r),In(t,pt()),n;if(e===6)Ni(t,r);else{if(i=t.current.alternate,!(r&30)&&!SN(i)&&(e=qd(t,r),e===2&&(s=gg(t),s!==0&&(r=s,e=Hg(t,s))),e===1))throw n=du,Ms(t,0),Ni(t,r),In(t,pt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:Ss(t,_n,Wr);break;case 3:if(Ni(t,r),(r&130023424)===r&&(e=Av+500-pt(),10<e)){if(kd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){pn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Tg(Ss.bind(null,t,_n,Wr),e);break}Ss(t,_n,Wr);break;case 4:if(Ni(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-hr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*EN(r/1960))-r,10<r){t.timeoutHandle=Tg(Ss.bind(null,t,_n,Wr),r);break}Ss(t,_n,Wr);break;case 5:Ss(t,_n,Wr);break;default:throw Error(F(329))}}}return In(t,pt()),t.callbackNode===n?JT.bind(null,t):null}function Hg(t,e){var n=Ll;return t.current.memoizedState.isDehydrated&&(Ms(t,e).flags|=256),t=qd(t,e),t!==2&&(e=_n,_n=n,e!==null&&qg(e)),t}function qg(t){_n===null?_n=t:_n.push.apply(_n,t)}function SN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!yr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ni(t,e){for(e&=~Rv,e&=~qf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hr(e),r=1<<n;t[n]=-1,e&=~r}}function Zw(t){if(De&6)throw Error(F(327));Xo();var e=kd(t,0);if(!(e&1))return In(t,pt()),null;var n=qd(t,e);if(t.tag!==0&&n===2){var r=gg(t);r!==0&&(e=r,n=Hg(t,r))}if(n===1)throw n=du,Ms(t,0),Ni(t,e),In(t,pt()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ss(t,_n,Wr),In(t,pt()),null}function Pv(t,e){var n=De;De|=1;try{return t(e)}finally{De=n,De===0&&(fa=pt()+500,Vf&&ds())}}function Ks(t){Ui!==null&&Ui.tag===0&&!(De&6)&&Xo();var e=De;De|=1;var n=Wn.transition,r=ze;try{if(Wn.transition=null,ze=1,t)return t()}finally{ze=r,Wn.transition=n,De=e,!(De&6)&&ds()}}function Nv(){Rn=Fo.current,Xe(Fo)}function Ms(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,JP(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(fv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nd();break;case 3:ca(),Xe(Cn),Xe(on),Ev();break;case 5:_v(r);break;case 4:ca();break;case 13:Xe(ot);break;case 19:Xe(ot);break;case 10:gv(r.type._context);break;case 22:case 23:Nv()}n=n.return}if(Lt=t,_t=t=Gi(t.current,null),zt=Rn=e,kt=0,du=null,Rv=qf=Ws=0,_n=Ll=null,ks!==null){for(e=0;e<ks.length;e++)if(n=ks[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ks=null}return t}function ZT(t,e){do{var n=_t;try{if(mv(),Yc.current=Vd,Fd){for(var r=lt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fd=!1}if(qs=0,Ot=xt=lt=null,Nl=!1,lu=0,bv.current=null,n===null||n.return===null){kt=1,du=e,_t=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=zt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Fw(o);if(p!==null){p.flags&=-257,Vw(p,o,a,s,e),p.mode&1&&Uw(s,u,e),e=p,l=u;var _=e.updateQueue;if(_===null){var y=new Set;y.add(l),e.updateQueue=y}else _.add(l);break e}else{if(!(e&1)){Uw(s,u,e),Ov();break e}l=Error(F(426))}}else if(rt&&a.mode&1){var w=Fw(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Vw(w,o,a,s,e),hv(da(l,a));break e}}s=l=da(l,a),kt!==4&&(kt=2),Ll===null?Ll=[s]:Ll.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=jT(s,l,e);Nw(s,v);break e;case 1:a=l;var m=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Wi===null||!Wi.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=MT(s,a,e);Nw(s,E);break e}}s=s.return}while(s!==null)}nI(n)}catch(S){e=S,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(1)}function eI(){var t=zd.current;return zd.current=Vd,t===null?Vd:t}function Ov(){(kt===0||kt===3||kt===2)&&(kt=4),Lt===null||!(Ws&268435455)&&!(qf&268435455)||Ni(Lt,zt)}function qd(t,e){var n=De;De|=2;var r=eI();(Lt!==t||zt!==e)&&(Wr=null,Ms(t,e));do try{CN();break}catch(i){ZT(t,i)}while(1);if(mv(),De=n,zd.current=r,_t!==null)throw Error(F(261));return Lt=null,zt=0,kt}function CN(){for(;_t!==null;)tI(_t)}function TN(){for(;_t!==null&&!QA();)tI(_t)}function tI(t){var e=iI(t.alternate,t,Rn);t.memoizedProps=t.pendingProps,e===null?nI(t):_t=e,bv.current=null}function nI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=yN(n,e),n!==null){n.flags&=32767,_t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,_t=null;return}}else if(n=gN(n,e,Rn),n!==null){_t=n;return}if(e=e.sibling,e!==null){_t=e;return}_t=e=t}while(e!==null);kt===0&&(kt=5)}function Ss(t,e,n){var r=ze,i=Wn.transition;try{Wn.transition=null,ze=1,IN(t,e,n,r)}finally{Wn.transition=i,ze=r}return null}function IN(t,e,n,r){do Xo();while(Ui!==null);if(De&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(sP(t,s),t===Lt&&(_t=Lt=null,zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bc||(bc=!0,sI(xd,function(){return Xo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Wn.transition,Wn.transition=null;var o=ze;ze=1;var a=De;De|=4,bv.current=null,wN(t,n),YT(n,t),qP(Sg),bd=!!Eg,Sg=Eg=null,t.current=n,_N(n),YA(),De=a,ze=o,Wn.transition=s}else t.current=n;if(bc&&(bc=!1,Ui=t,Hd=i),s=t.pendingLanes,s===0&&(Wi=null),ZA(n.stateNode),In(t,pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bd)throw Bd=!1,t=zg,zg=null,t;return Hd&1&&t.tag!==0&&Xo(),s=t.pendingLanes,s&1?t===Bg?Dl++:(Dl=0,Bg=t):Dl=0,ds(),null}function Xo(){if(Ui!==null){var t=DC(Hd),e=Wn.transition,n=ze;try{if(Wn.transition=null,ze=16>t?16:t,Ui===null)var r=!1;else{if(t=Ui,Ui=null,Hd=0,De&6)throw Error(F(331));var i=De;for(De|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:Ol(8,c,s)}var d=c.child;if(d!==null)d.return=c,Y=d;else for(;Y!==null;){c=Y;var h=c.sibling,p=c.return;if(KT(c),c===u){Y=null;break}if(h!==null){h.return=p,Y=h;break}Y=p}}}var _=s.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ol(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Y=v;break e}Y=s.return}}var m=t.current;for(Y=m;Y!==null;){o=Y;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,Y=g;else e:for(o=m;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hf(9,a)}}catch(S){ft(a,a.return,S)}if(a===o){Y=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Y=E;break e}Y=a.return}}if(De=i,ds(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(jf,t)}catch{}r=!0}return r}finally{ze=n,Wn.transition=e}}return!1}function e_(t,e,n){e=da(n,e),e=jT(t,e,1),t=qi(t,e,1),e=pn(),t!==null&&(Lu(t,1,e),In(t,e))}function ft(t,e,n){if(t.tag===3)e_(t,t,n);else for(;e!==null;){if(e.tag===3){e_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wi===null||!Wi.has(r))){t=da(n,t),t=MT(e,t,1),e=qi(e,t,1),t=pn(),e!==null&&(Lu(e,1,t),In(e,t));break}}e=e.return}}function xN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=pn(),t.pingedLanes|=t.suspendedLanes&n,Lt===t&&(zt&n)===n&&(kt===4||kt===3&&(zt&130023424)===zt&&500>pt()-Av?Ms(t,0):Rv|=n),In(t,e)}function rI(t,e){e===0&&(t.mode&1?(e=vc,vc<<=1,!(vc&130023424)&&(vc=4194304)):e=1);var n=pn();t=di(t,e),t!==null&&(Lu(t,e,n),In(t,n))}function kN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rI(t,n)}function bN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),rI(t,n)}var iI;iI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Cn.current)Sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Sn=!1,mN(t,e,n);Sn=!!(t.flags&131072)}else Sn=!1,rt&&e.flags&1048576&&aT(e,Dd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Jc(t,e),t=e.pendingProps;var i=aa(e,on.current);Yo(e,n),i=Cv(null,e,r,t,i,n);var s=Tv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tn(r)?(s=!0,Od(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vv(e),i.updater=zf,e.stateNode=i,i._reactInternals=e,Pg(e,r,t,n),e=Lg(null,e,r,!0,s,n)):(e.tag=0,rt&&s&&dv(e),dn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Jc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=AN(r),t=lr(r,t),i){case 0:e=Og(null,e,r,t,n);break e;case 1:e=Hw(null,e,r,t,n);break e;case 11:e=zw(null,e,r,t,n);break e;case 14:e=Bw(null,e,r,lr(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),Og(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),Hw(t,e,r,i,n);case 3:e:{if(VT(e),t===null)throw Error(F(387));r=e.pendingProps,s=e.memoizedState,i=s.element,dT(t,e),$d(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=da(Error(F(423)),e),e=qw(t,e,r,n,i);break e}else if(r!==i){i=da(Error(F(424)),e),e=qw(t,e,r,n,i);break e}else for(An=Hi(e.stateNode.containerInfo.firstChild),On=e,rt=!0,cr=null,n=mT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(la(),r===i){e=fi(t,e,n);break e}dn(t,e,r,n)}e=e.child}return e;case 5:return gT(e),t===null&&bg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Cg(r,i)?o=null:s!==null&&Cg(r,s)&&(e.flags|=32),FT(t,e),dn(t,e,o,n),e.child;case 6:return t===null&&bg(e),null;case 13:return zT(t,e,n);case 4:return wv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ua(e,null,r,n):dn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),zw(t,e,r,i,n);case 7:return dn(t,e,e.pendingProps,n),e.child;case 8:return dn(t,e,e.pendingProps.children,n),e.child;case 12:return dn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ke(jd,r._currentValue),r._currentValue=o,s!==null)if(yr(s.value,o)){if(s.children===i.children&&!Cn.current){e=fi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ii(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Rg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(F(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Rg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}dn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Yo(e,n),i=Gn(i),r=r(i),e.flags|=1,dn(t,e,r,n),e.child;case 14:return r=e.type,i=lr(r,e.pendingProps),i=lr(r.type,i),Bw(t,e,r,i,n);case 15:return $T(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),Jc(t,e),e.tag=1,Tn(r)?(t=!0,Od(e)):t=!1,Yo(e,n),hT(e,r,i),Pg(e,r,i,n),Lg(null,e,r,!0,t,n);case 19:return BT(t,e,n);case 22:return UT(t,e,n)}throw Error(F(156,e.tag))};function sI(t,e){return PC(t,e)}function RN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,e,n,r){return new RN(t,e,n,r)}function Lv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AN(t){if(typeof t=="function")return Lv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zy)return 11;if(t===ev)return 14}return 2}function Gi(t,e){var n=t.alternate;return n===null?(n=qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function td(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Lv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ao:return $s(n.children,i,s,e);case Jy:o=8,i|=8;break;case tg:return t=qn(12,n,e,i|2),t.elementType=tg,t.lanes=s,t;case ng:return t=qn(13,n,e,i),t.elementType=ng,t.lanes=s,t;case rg:return t=qn(19,n,e,i),t.elementType=rg,t.lanes=s,t;case pC:return Wf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fC:o=10;break e;case hC:o=9;break e;case Zy:o=11;break e;case ev:o=14;break e;case Ri:o=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=qn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function $s(t,e,n,r){return t=qn(7,t,r,e),t.lanes=n,t}function Wf(t,e,n,r){return t=qn(22,t,r,e),t.elementType=pC,t.lanes=n,t.stateNode={isHidden:!1},t}function Hp(t,e,n){return t=qn(6,t,null,e),t.lanes=n,t}function qp(t,e,n){return e=qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ip(0),this.expirationTimes=Ip(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ip(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dv(t,e,n,r,i,s,o,a,l){return t=new PN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=qn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vv(s),t}function NN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ro,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function oI(t){if(!t)return ns;t=t._reactInternals;e:{if(oo(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(Tn(n))return sT(t,n,e)}return e}function aI(t,e,n,r,i,s,o,a,l){return t=Dv(n,r,!0,t,i,s,o,a,l),t.context=oI(null),n=t.current,r=pn(),i=Ki(n),s=ii(r,i),s.callback=e??null,qi(n,s,i),t.current.lanes=i,Lu(t,i,r),In(t,r),t}function Kf(t,e,n,r){var i=e.current,s=pn(),o=Ki(i);return n=oI(n),e.context===null?e.context=n:e.pendingContext=n,e=ii(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qi(i,e,o),t!==null&&(pr(t,i,o,s),Qc(t,i,o)),o}function Wd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function t_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jv(t,e){t_(t,e),(t=t.alternate)&&t_(t,e)}function ON(){return null}var lI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mv(t){this._internalRoot=t}Gf.prototype.render=Mv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));Kf(t,e,null,null)};Gf.prototype.unmount=Mv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ks(function(){Kf(null,t,null,null)}),e[ci]=null}};function Gf(t){this._internalRoot=t}Gf.prototype.unstable_scheduleHydration=function(t){if(t){var e=$C();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pi.length&&e!==0&&e<Pi[n].priority;n++);Pi.splice(n,0,t),n===0&&FC(t)}};function $v(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function n_(){}function LN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Wd(o);s.call(u)}}var o=aI(e,r,t,0,null,!1,!1,"",n_);return t._reactRootContainer=o,t[ci]=o.current,ru(t.nodeType===8?t.parentNode:t),Ks(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Wd(l);a.call(u)}}var l=Dv(t,0,!1,null,null,!1,!1,"",n_);return t._reactRootContainer=l,t[ci]=l.current,ru(t.nodeType===8?t.parentNode:t),Ks(function(){Kf(e,l,n,r)}),l}function Yf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Wd(o);a.call(l)}}Kf(e,o,t,i)}else o=LN(n,e,t,i,r);return Wd(o)}jC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yl(e.pendingLanes);n!==0&&(rv(e,n|1),In(e,pt()),!(De&6)&&(fa=pt()+500,ds()))}break;case 13:Ks(function(){var r=di(t,1);if(r!==null){var i=pn();pr(r,t,1,i)}}),jv(t,1)}};iv=function(t){if(t.tag===13){var e=di(t,134217728);if(e!==null){var n=pn();pr(e,t,134217728,n)}jv(t,134217728)}};MC=function(t){if(t.tag===13){var e=Ki(t),n=di(t,e);if(n!==null){var r=pn();pr(n,t,e,r)}jv(t,e)}};$C=function(){return ze};UC=function(t,e){var n=ze;try{return ze=t,e()}finally{ze=n}};hg=function(t,e,n){switch(e){case"input":if(og(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ff(r);if(!i)throw Error(F(90));gC(r),og(r,i)}}}break;case"textarea":vC(t,n);break;case"select":e=n.value,e!=null&&Wo(t,!!n.multiple,e,!1)}};IC=Pv;xC=Ks;var DN={usingClientEntryPoint:!1,Events:[ju,Lo,Ff,CC,TC,Pv]},rl={findFiberByHostInstance:xs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},jN={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_i.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=RC(t),t===null?null:t.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance||ON,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{jf=Rc.inject(jN),Ar=Rc}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DN;Un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$v(e))throw Error(F(200));return NN(t,e,null,n)};Un.createRoot=function(t,e){if(!$v(t))throw Error(F(299));var n=!1,r="",i=lI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Dv(t,1,!1,null,null,n,!1,r,i),t[ci]=e.current,ru(t.nodeType===8?t.parentNode:t),new Mv(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=RC(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return Ks(t)};Un.hydrate=function(t,e,n){if(!Qf(e))throw Error(F(200));return Yf(null,t,e,!0,n)};Un.hydrateRoot=function(t,e,n){if(!$v(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=lI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=aI(e,null,t,1,n??null,i,!1,s,o),t[ci]=e.current,ru(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Gf(e)};Un.render=function(t,e,n){if(!Qf(e))throw Error(F(200));return Yf(null,t,e,!1,n)};Un.unmountComponentAtNode=function(t){if(!Qf(t))throw Error(F(40));return t._reactRootContainer?(Ks(function(){Yf(null,null,t,!1,function(){t._reactRootContainer=null,t[ci]=null})}),!0):!1};Un.unstable_batchedUpdates=Pv;Un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qf(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return Yf(t,e,n,!1,r)};Un.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Un})(OA);const MN=Hy(Gl);var uI,r_=Gl;uI=r_.createRoot,r_.hydrateRoot;var Wg={},$N={get exports(){return Wg},set exports(t){Wg=t}},cI={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ha=I;function UN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var FN=typeof Object.is=="function"?Object.is:UN,VN=ha.useState,zN=ha.useEffect,BN=ha.useLayoutEffect,HN=ha.useDebugValue;function qN(t,e){var n=e(),r=VN({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return BN(function(){i.value=n,i.getSnapshot=e,Wp(i)&&s({inst:i})},[t,n,e]),zN(function(){return Wp(i)&&s({inst:i}),t(function(){Wp(i)&&s({inst:i})})},[t]),HN(n),n}function Wp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!FN(t,n)}catch{return!0}}function WN(t,e){return e()}var KN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?WN:qN;cI.useSyncExternalStore=ha.useSyncExternalStore!==void 0?ha.useSyncExternalStore:KN;(function(t){t.exports=cI})($N);var Kg={},GN={get exports(){return Kg},set exports(t){Kg=t}},dI={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xf=I,QN=Wg;function YN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var XN=typeof Object.is=="function"?Object.is:YN,JN=QN.useSyncExternalStore,ZN=Xf.useRef,eO=Xf.useEffect,tO=Xf.useMemo,nO=Xf.useDebugValue;dI.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=ZN(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=tO(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var _=o.value;if(i(_,p))return d=_}return d=p}if(_=d,XN(c,p))return _;var y=r(p);return i!==void 0&&i(_,y)?_:(c=p,d=y)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=JN(t,s[0],s[1]);return eO(function(){o.hasValue=!0,o.value=a},[a]),nO(a),a};(function(t){t.exports=dI})(GN);function rO(t){t()}let fI=rO;const iO=t=>fI=t,sO=()=>fI,rs=I.createContext(null);function hI(){return I.useContext(rs)}const oO=()=>{throw new Error("uSES not initialized!")};let pI=oO;const aO=t=>{pI=t},lO=(t,e)=>t===e;function uO(t=rs){const e=t===rs?hI:()=>I.useContext(t);return function(r,i=lO){const{store:s,subscription:o,getServerState:a}=e(),l=pI(o.addNestedSub,s.getState,a||s.getState,r,i);return I.useDebugValue(l),l}}const cO=uO();var Gg={},dO={get exports(){return Gg},set exports(t){Gg=t}},Be={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jt=typeof Symbol=="function"&&Symbol.for,Uv=jt?Symbol.for("react.element"):60103,Fv=jt?Symbol.for("react.portal"):60106,Jf=jt?Symbol.for("react.fragment"):60107,Zf=jt?Symbol.for("react.strict_mode"):60108,eh=jt?Symbol.for("react.profiler"):60114,th=jt?Symbol.for("react.provider"):60109,nh=jt?Symbol.for("react.context"):60110,Vv=jt?Symbol.for("react.async_mode"):60111,rh=jt?Symbol.for("react.concurrent_mode"):60111,ih=jt?Symbol.for("react.forward_ref"):60112,sh=jt?Symbol.for("react.suspense"):60113,fO=jt?Symbol.for("react.suspense_list"):60120,oh=jt?Symbol.for("react.memo"):60115,ah=jt?Symbol.for("react.lazy"):60116,hO=jt?Symbol.for("react.block"):60121,pO=jt?Symbol.for("react.fundamental"):60117,mO=jt?Symbol.for("react.responder"):60118,gO=jt?Symbol.for("react.scope"):60119;function Vn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Uv:switch(t=t.type,t){case Vv:case rh:case Jf:case eh:case Zf:case sh:return t;default:switch(t=t&&t.$$typeof,t){case nh:case ih:case ah:case oh:case th:return t;default:return e}}case Fv:return e}}}function mI(t){return Vn(t)===rh}Be.AsyncMode=Vv;Be.ConcurrentMode=rh;Be.ContextConsumer=nh;Be.ContextProvider=th;Be.Element=Uv;Be.ForwardRef=ih;Be.Fragment=Jf;Be.Lazy=ah;Be.Memo=oh;Be.Portal=Fv;Be.Profiler=eh;Be.StrictMode=Zf;Be.Suspense=sh;Be.isAsyncMode=function(t){return mI(t)||Vn(t)===Vv};Be.isConcurrentMode=mI;Be.isContextConsumer=function(t){return Vn(t)===nh};Be.isContextProvider=function(t){return Vn(t)===th};Be.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Uv};Be.isForwardRef=function(t){return Vn(t)===ih};Be.isFragment=function(t){return Vn(t)===Jf};Be.isLazy=function(t){return Vn(t)===ah};Be.isMemo=function(t){return Vn(t)===oh};Be.isPortal=function(t){return Vn(t)===Fv};Be.isProfiler=function(t){return Vn(t)===eh};Be.isStrictMode=function(t){return Vn(t)===Zf};Be.isSuspense=function(t){return Vn(t)===sh};Be.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Jf||t===rh||t===eh||t===Zf||t===sh||t===fO||typeof t=="object"&&t!==null&&(t.$$typeof===ah||t.$$typeof===oh||t.$$typeof===th||t.$$typeof===nh||t.$$typeof===ih||t.$$typeof===pO||t.$$typeof===mO||t.$$typeof===gO||t.$$typeof===hO)};Be.typeOf=Vn;(function(t){t.exports=Be})(dO);var gI=Gg,yO={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},vO={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},yI={};yI[gI.ForwardRef]=yO;yI[gI.Memo]=vO;var i_={},wO={get exports(){return i_},set exports(t){i_=t}},He={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv=Symbol.for("react.element"),Bv=Symbol.for("react.portal"),lh=Symbol.for("react.fragment"),uh=Symbol.for("react.strict_mode"),ch=Symbol.for("react.profiler"),dh=Symbol.for("react.provider"),fh=Symbol.for("react.context"),_O=Symbol.for("react.server_context"),hh=Symbol.for("react.forward_ref"),ph=Symbol.for("react.suspense"),mh=Symbol.for("react.suspense_list"),gh=Symbol.for("react.memo"),yh=Symbol.for("react.lazy"),EO=Symbol.for("react.offscreen"),vI;vI=Symbol.for("react.module.reference");function Jn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case zv:switch(t=t.type,t){case lh:case ch:case uh:case ph:case mh:return t;default:switch(t=t&&t.$$typeof,t){case _O:case fh:case hh:case yh:case gh:case dh:return t;default:return e}}case Bv:return e}}}He.ContextConsumer=fh;He.ContextProvider=dh;He.Element=zv;He.ForwardRef=hh;He.Fragment=lh;He.Lazy=yh;He.Memo=gh;He.Portal=Bv;He.Profiler=ch;He.StrictMode=uh;He.Suspense=ph;He.SuspenseList=mh;He.isAsyncMode=function(){return!1};He.isConcurrentMode=function(){return!1};He.isContextConsumer=function(t){return Jn(t)===fh};He.isContextProvider=function(t){return Jn(t)===dh};He.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===zv};He.isForwardRef=function(t){return Jn(t)===hh};He.isFragment=function(t){return Jn(t)===lh};He.isLazy=function(t){return Jn(t)===yh};He.isMemo=function(t){return Jn(t)===gh};He.isPortal=function(t){return Jn(t)===Bv};He.isProfiler=function(t){return Jn(t)===ch};He.isStrictMode=function(t){return Jn(t)===uh};He.isSuspense=function(t){return Jn(t)===ph};He.isSuspenseList=function(t){return Jn(t)===mh};He.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===lh||t===ch||t===uh||t===ph||t===mh||t===EO||typeof t=="object"&&t!==null&&(t.$$typeof===yh||t.$$typeof===gh||t.$$typeof===dh||t.$$typeof===fh||t.$$typeof===hh||t.$$typeof===vI||t.getModuleId!==void 0)};He.typeOf=Jn;(function(t){t.exports=He})(wO);function SO(){const t=sO();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const s_={notify(){},get:()=>[]};function CO(t,e){let n,r=s_;function i(d){return l(),r.subscribe(d)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=SO())}function u(){n&&(n(),n=void 0,r.clear(),r=s_)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const TO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IO=TO?I.useLayoutEffect:I.useEffect;function xO({store:t,context:e,children:n,serverState:r}){const i=I.useMemo(()=>{const a=CO(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),s=I.useMemo(()=>t.getState(),[t]);IO(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=e||rs;return Xr.createElement(o.Provider,{value:i},n)}function wI(t=rs){const e=t===rs?hI:()=>I.useContext(t);return function(){const{store:r}=e();return r}}const kO=wI();function bO(t=rs){const e=t===rs?kO:wI(t);return function(){return e().dispatch}}const RO=bO();aO(Kg.useSyncExternalStoreWithSelector);iO(Gl.unstable_batchedUpdates);function nd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nd=function(n){return typeof n}:nd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},nd(t)}function AO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PO(t,e,n){return e&&o_(t.prototype,e),n&&o_(t,n),t}function NO(t,e){return e&&(nd(e)==="object"||typeof e=="function")?e:rd(t)}function Qg(t){return Qg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Qg(t)}function rd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yg(t,e)}function Yg(t,e){return Yg=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Yg(t,e)}function id(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _I=function(t){OO(e,t);function e(){var n,r;AO(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=NO(this,(n=Qg(e)).call.apply(n,[this].concat(s))),id(rd(r),"state",{bootstrapped:!1}),id(rd(r),"_unsubscribe",void 0),id(rd(r),"handlePersistorState",function(){var a=r.props.persistor,l=a.getState(),u=l.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return PO(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(I.PureComponent);id(_I,"defaultProps",{children:null,loading:null});/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oe(){return Oe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oe.apply(this,arguments)}var yt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(yt||(yt={}));const a_="popstate";function LO(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return fu("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:hi(i)}return jO(e,n,null,t)}function Se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DO(){return Math.random().toString(36).substr(2,8)}function l_(t,e){return{usr:t.state,key:t.key,idx:e}}function fu(t,e,n,r){return n===void 0&&(n=null),Oe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ei(e):e,{state:n,key:e&&e.key||r||DO()})}function hi(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ei(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function jO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=yt.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Oe({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=yt.Pop;let w=c(),v=w==null?null:w-u;u=w,l&&l({action:a,location:y.location,delta:v})}function h(w,v){a=yt.Push;let m=fu(y.location,w,v);n&&n(m,w),u=c()+1;let g=l_(m,u),E=y.createHref(m);try{o.pushState(g,"",E)}catch{i.location.assign(E)}s&&l&&l({action:a,location:y.location,delta:1})}function p(w,v){a=yt.Replace;let m=fu(y.location,w,v);n&&n(m,w),u=c();let g=l_(m,u),E=y.createHref(m);o.replaceState(g,"",E),s&&l&&l({action:a,location:y.location,delta:0})}function _(w){let v=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof w=="string"?w:hi(w);return Se(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let y={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(a_,d),l=w,()=>{i.removeEventListener(a_,d),l=null}},createHref(w){return e(i,w)},createURL:_,encodeLocation(w){let v=_(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(w){return o.go(w)}};return y}var It;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(It||(It={}));const MO=new Set(["lazy","caseSensitive","path","id","index","children"]);function $O(t){return t.index===!0}function EI(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(Se(i.index!==!0||!i.children,"Cannot specify children on an index route"),Se(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),$O(i)){let l=Oe({},i,{hasErrorBoundary:e(i),id:a});return r[a]=l,l}else{let l=Oe({},i,{id:a,hasErrorBoundary:e(i),children:void 0});return r[a]=l,i.children&&(l.children=EI(i.children,e,o,r)),l}})}function Vo(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ei(e):e,i=$u(r.pathname||"/",n);if(i==null)return null;let s=SI(t);UO(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=GO(s[a],YO(i));return o}function SI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Se(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=si([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Se(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),SI(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:WO(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of CI(s.path))i(s,o,l)}),e}function CI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=CI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function UO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FO=/^:\w+$/,VO=3,zO=2,BO=1,HO=10,qO=-2,u_=t=>t==="*";function WO(t,e){let n=t.split("/"),r=n.length;return n.some(u_)&&(r+=qO),e&&(r+=zO),n.filter(i=>!u_(i)).reduce((i,s)=>i+(FO.test(s)?VO:s===""?BO:HO),r)}function KO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function GO(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=wl({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:si([i,c.pathname]),pathnameBase:eL(si([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=si([i,c.pathnameBase]))}return s}function wl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=QO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let h=a[d]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=XO(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function QO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),pa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function YO(t){try{return decodeURI(t)}catch(e){return pa(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function XO(t,e){try{return decodeURIComponent(t)}catch(n){return pa(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function $u(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function JO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ei(t):t;return{pathname:n?n.startsWith("/")?n:ZO(n,e):e,search:tL(r),hash:nL(i)}}function ZO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Kp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vh(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ei(t):(i=Oe({},t),Se(!i.pathname||!i.pathname.includes("?"),Kp("?","pathname","search",i)),Se(!i.pathname||!i.pathname.includes("#"),Kp("#","pathname","hash",i)),Se(!i.search||!i.search.includes("#"),Kp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=JO(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const si=t=>t.join("/").replace(/\/\/+/g,"/"),eL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class qv{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function zo(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const TI=["post","put","patch","delete"],rL=new Set(TI),iL=["get",...TI],sL=new Set(iL),oL=new Set([301,302,303,307,308]),aL=new Set([307,308]),Gp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},lL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},c_={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},II=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uL=!xI,cL=t=>!!t.hasErrorBoundary;function dL(t){Se(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=t.detectErrorBoundary||cL,n={},r=EI(t.routes,e,void 0,n),i,s=Oe({v7_normalizeFormMethod:!1},t.future),o=null,a=new Set,l=null,u=null,c=null,d=t.hydrationData!=null,h=Vo(r,t.history.location,t.basename),p=null;if(h==null){let N=Tr(404,{pathname:t.history.location.pathname}),{matches:L,route:U}=y_(r);h=L,p={[U.id]:N}}let _=!h.some(N=>N.route.lazy)&&(!h.some(N=>N.route.loader)||t.hydrationData!=null),y,w={historyAction:t.history.action,location:t.history.location,matches:h,initialized:_,navigation:Gp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||p,fetchers:new Map,blockers:new Map},v=yt.Pop,m=!1,g,E=!1,S=!1,C=[],x=[],R=new Map,b=0,O=-1,q=new Map,$=new Set,M=new Map,oe=new Map,ge=new Map,Re=!1;function Ue(){return o=t.history.listen(N=>{let{action:L,location:U,delta:Z}=N;if(Re){Re=!1;return}pa(ge.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let re=Ie({currentLocation:w.location,nextLocation:U,historyAction:L});if(re&&Z!=null){Re=!0,t.history.go(Z*-1),K(re,{state:"blocked",location:U,proceed(){K(re,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),t.history.go(Z)},reset(){A(re),Q({blockers:new Map(y.state.blockers)})}});return}return Fe(L,U)}),w.initialized||Fe(yt.Pop,w.location),y}function W(){o&&o(),a.clear(),g&&g.abort(),w.fetchers.forEach((N,L)=>Te(L)),w.blockers.forEach((N,L)=>A(L))}function se(N){return a.add(N),()=>a.delete(N)}function Q(N){w=Oe({},w,N),a.forEach(L=>L(w))}function Ce(N,L){var U,Z;let re=w.actionData!=null&&w.navigation.formMethod!=null&&Kr(w.navigation.formMethod)&&w.navigation.state==="loading"&&((U=N.state)==null?void 0:U._isRedirect)!==!0,de;L.actionData?Object.keys(L.actionData).length>0?de=L.actionData:de=null:re?de=w.actionData:de=null;let fe=L.loaderData?g_(w.loaderData,L.loaderData,L.matches||[],L.errors):w.loaderData;for(let[ue]of ge)A(ue);let ye=m===!0||w.navigation.formMethod!=null&&Kr(w.navigation.formMethod)&&((Z=N.state)==null?void 0:Z._isRedirect)!==!0;i&&(r=i,i=void 0),Q(Oe({},L,{actionData:de,loaderData:fe,historyAction:v,location:N,initialized:!0,navigation:Gp,revalidation:"idle",restoreScrollPosition:_o(N,L.matches||w.matches),preventScrollReset:ye,blockers:new Map(w.blockers)})),E||v===yt.Pop||(v===yt.Push?t.history.push(N,N.state):v===yt.Replace&&t.history.replace(N,N.state)),v=yt.Pop,m=!1,E=!1,S=!1,C=[],x=[]}async function xe(N,L){if(typeof N=="number"){t.history.go(N);return}let{path:U,submission:Z,error:re}=d_(N,s,L),de=w.location,fe=fu(w.location,U,L&&L.state);fe=Oe({},fe,t.history.encodeLocation(fe));let ye=L&&L.replace!=null?L.replace:void 0,ue=yt.Push;ye===!0?ue=yt.Replace:ye===!1||Z!=null&&Kr(Z.formMethod)&&Z.formAction===w.location.pathname+w.location.search&&(ue=yt.Replace);let We=L&&"preventScrollReset"in L?L.preventScrollReset===!0:void 0,Me=Ie({currentLocation:de,nextLocation:fe,historyAction:ue});if(Me){K(Me,{state:"blocked",location:fe,proceed(){K(Me,{state:"proceeding",proceed:void 0,reset:void 0,location:fe}),xe(N,L)},reset(){A(Me),Q({blockers:new Map(w.blockers)})}});return}return await Fe(ue,fe,{submission:Z,pendingError:re,preventScrollReset:We,replace:L&&L.replace})}function Ct(){if(Ee(),Q({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){Fe(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}Fe(v||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation})}}async function Fe(N,L,U){g&&g.abort(),g=null,v=N,E=(U&&U.startUninterruptedRevalidation)===!0,pp(w.location,w.matches),m=(U&&U.preventScrollReset)===!0;let Z=i||r,re=U&&U.overrideNavigation,de=Vo(Z,L,t.basename);if(!de){let Pt=Tr(404,{pathname:L.pathname}),{matches:Mt,route:ir}=y_(Z);qe(),Ce(L,{matches:Mt,loaderData:{},errors:{[ir.id]:Pt}});return}if(gL(w.location,L)&&!(U&&U.submission&&Kr(U.submission.formMethod))){Ce(L,{matches:de});return}g=new AbortController;let fe=sl(t.history,L,g.signal,U&&U.submission),ye,ue;if(U&&U.pendingError)ue={[Bo(de).route.id]:U.pendingError};else if(U&&U.submission&&Kr(U.submission.formMethod)){let Pt=await nr(fe,L,U.submission,de,{replace:U.replace});if(Pt.shortCircuited)return;ye=Pt.pendingActionData,ue=Pt.pendingActionError,re=Oe({state:"loading",location:L},U.submission),fe=new Request(fe.url,{signal:fe.signal})}let{shortCircuited:We,loaderData:Me,errors:rr}=await et(fe,L,de,re,U&&U.submission,U&&U.fetcherSubmission,U&&U.replace,ye,ue);We||(g=null,Ce(L,Oe({matches:de},ye?{actionData:ye}:{},{loaderData:Me,errors:rr})))}async function nr(N,L,U,Z,re){Ee();let de=Oe({state:"submitting",location:L},U);Q({navigation:de});let fe,ye=Xg(Z,L);if(!ye.route.action&&!ye.route.lazy)fe={type:It.error,error:Tr(405,{method:N.method,pathname:L.pathname,routeId:ye.route.id})};else if(fe=await il("action",N,ye,Z,n,e,y.basename),N.signal.aborted)return{shortCircuited:!0};if(Jo(fe)){let ue;return re&&re.replace!=null?ue=re.replace:ue=fe.location===w.location.pathname+w.location.search,await G(w,fe,{submission:U,replace:ue}),{shortCircuited:!0}}if(jl(fe)){let ue=Bo(Z,ye.route.id);return(re&&re.replace)!==!0&&(v=yt.Push),{pendingActionData:{},pendingActionError:{[ue.route.id]:fe.error}}}if(Rs(fe))throw Tr(400,{type:"defer-action"});return{pendingActionData:{[ye.route.id]:fe.data}}}async function et(N,L,U,Z,re,de,fe,ye,ue){let We=Z;We||(We=Oe({state:"loading",location:L,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},re));let Me=re||de?re||de:We.formMethod&&We.formAction&&We.formData&&We.formEncType?{formMethod:We.formMethod,formAction:We.formAction,formData:We.formData,formEncType:We.formEncType}:void 0,rr=i||r,[Pt,Mt]=f_(t.history,w,U,Me,L,S,C,x,M,rr,t.basename,ye,ue);if(qe(Wt=>!(U&&U.some(sr=>sr.route.id===Wt))||Pt&&Pt.some(sr=>sr.route.id===Wt)),Pt.length===0&&Mt.length===0)return Ce(L,Oe({matches:U,loaderData:{},errors:ue||null},ye?{actionData:ye}:{})),{shortCircuited:!0};if(!E){Mt.forEach(sr=>{let vs=w.fetchers.get(sr.key),Qa={state:"loading",data:vs&&vs.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};w.fetchers.set(sr.key,Qa)});let Wt=ye||w.actionData;Q(Oe({navigation:We},Wt?Object.keys(Wt).length===0?{actionData:null}:{actionData:Wt}:{},Mt.length>0?{fetchers:new Map(w.fetchers)}:{}))}O=++b,Mt.forEach(Wt=>R.set(Wt.key,g));let{results:ir,loaderResults:Ka,fetcherResults:mp}=await _e(w.matches,U,Pt,Mt,N);if(N.signal.aborted)return{shortCircuited:!0};Mt.forEach(Wt=>R.delete(Wt.key));let Ga=v_(ir);if(Ga)return await G(w,Ga,{replace:fe}),{shortCircuited:!0};let{loaderData:Eo,errors:gp}=m_(w,U,Pt,Ka,ue,Mt,mp,oe);oe.forEach((Wt,sr)=>{Wt.subscribe(vs=>{(vs||Wt.done)&&oe.delete(sr)})}),P();let yp=V(O);return Oe({loaderData:Eo,errors:gp},yp||Mt.length>0?{fetchers:new Map(w.fetchers)}:{})}function mt(N){return w.fetchers.get(N)||lL}function Ci(N,L,U,Z){if(uL)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");R.has(N)&&T(N);let de=Vo(i||r,U,t.basename);if(!de){pe(N,L,Tr(404,{pathname:U}));return}let{path:fe,submission:ye}=d_(U,s,Z,!0),ue=Xg(de,fe);if(m=(Z&&Z.preventScrollReset)===!0,ye&&Kr(ye.formMethod)){Ti(N,L,fe,ue,de,ye);return}M.set(N,{routeId:L,path:fe}),B(N,L,fe,ue,de,ye)}async function Ti(N,L,U,Z,re,de){if(Ee(),M.delete(N),!Z.route.action&&!Z.route.lazy){let Vr=Tr(405,{method:de.formMethod,pathname:U,routeId:L});pe(N,L,Vr);return}let fe=w.fetchers.get(N),ye=Oe({state:"submitting"},de,{data:fe&&fe.data," _hasFetcherDoneAnything ":!0});w.fetchers.set(N,ye),Q({fetchers:new Map(w.fetchers)});let ue=new AbortController,We=sl(t.history,U,ue.signal,de);R.set(N,ue);let Me=await il("action",We,Z,re,n,e,y.basename);if(We.signal.aborted){R.get(N)===ue&&R.delete(N);return}if(Jo(Me)){R.delete(N),$.add(N);let Vr=Oe({state:"loading"},de,{data:void 0," _hasFetcherDoneAnything ":!0});return w.fetchers.set(N,Vr),Q({fetchers:new Map(w.fetchers)}),G(w,Me,{submission:de,isFetchActionRedirect:!0})}if(jl(Me)){pe(N,L,Me.error);return}if(Rs(Me))throw Tr(400,{type:"defer-action"});let rr=w.navigation.location||w.location,Pt=sl(t.history,rr,ue.signal),Mt=i||r,ir=w.navigation.state!=="idle"?Vo(Mt,w.navigation.location,t.basename):w.matches;Se(ir,"Didn't find any matches after fetcher action");let Ka=++b;q.set(N,Ka);let mp=Oe({state:"loading",data:Me.data},de,{" _hasFetcherDoneAnything ":!0});w.fetchers.set(N,mp);let[Ga,Eo]=f_(t.history,w,ir,de,rr,S,C,x,M,Mt,t.basename,{[Z.route.id]:Me.data},void 0);Eo.filter(Vr=>Vr.key!==N).forEach(Vr=>{let vp=Vr.key,G0=w.fetchers.get(vp),GR={state:"loading",data:G0&&G0.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};w.fetchers.set(vp,GR),R.set(vp,ue)}),Q({fetchers:new Map(w.fetchers)});let{results:gp,loaderResults:yp,fetcherResults:Wt}=await _e(w.matches,ir,Ga,Eo,Pt);if(ue.signal.aborted)return;q.delete(N),R.delete(N),Eo.forEach(Vr=>R.delete(Vr.key));let sr=v_(gp);if(sr)return G(w,sr);let{loaderData:vs,errors:Qa}=m_(w,w.matches,Ga,yp,void 0,Eo,Wt,oe),WR={state:"idle",data:Me.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};w.fetchers.set(N,WR);let KR=V(Ka);w.navigation.state==="loading"&&Ka>O?(Se(v,"Expected pending action"),g&&g.abort(),Ce(w.navigation.location,{matches:ir,loaderData:vs,errors:Qa,fetchers:new Map(w.fetchers)})):(Q(Oe({errors:Qa,loaderData:g_(w.loaderData,vs,ir,Qa)},KR?{fetchers:new Map(w.fetchers)}:{})),S=!1)}async function B(N,L,U,Z,re,de){let fe=w.fetchers.get(N),ye=Oe({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},de,{data:fe&&fe.data," _hasFetcherDoneAnything ":!0});w.fetchers.set(N,ye),Q({fetchers:new Map(w.fetchers)});let ue=new AbortController,We=sl(t.history,U,ue.signal);R.set(N,ue);let Me=await il("loader",We,Z,re,n,e,y.basename);if(Rs(Me)&&(Me=await AI(Me,We.signal,!0)||Me),R.get(N)===ue&&R.delete(N),We.signal.aborted)return;if(Jo(Me)){await G(w,Me);return}if(jl(Me)){let Pt=Bo(w.matches,L);w.fetchers.delete(N),Q({fetchers:new Map(w.fetchers),errors:{[Pt.route.id]:Me.error}});return}Se(!Rs(Me),"Unhandled fetcher deferred data");let rr={state:"idle",data:Me.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};w.fetchers.set(N,rr),Q({fetchers:new Map(w.fetchers)})}async function G(N,L,U){var Z;let{submission:re,replace:de,isFetchActionRedirect:fe}=U===void 0?{}:U;L.revalidate&&(S=!0);let ye=fu(N.location,L.location,Oe({_isRedirect:!0},fe?{_isFetchActionRedirect:!0}:{}));if(Se(ye,"Expected a location on the redirect navigation"),II.test(L.location)&&xI&&typeof((Z=window)==null?void 0:Z.location)<"u"){let Mt=t.history.createURL(L.location),ir=$u(Mt.pathname,t.basename||"/")==null;if(window.location.origin!==Mt.origin||ir){de?window.location.replace(L.location):window.location.assign(L.location);return}}g=null;let ue=de===!0?yt.Replace:yt.Push,{formMethod:We,formAction:Me,formEncType:rr,formData:Pt}=N.navigation;!re&&We&&Me&&Pt&&rr&&(re={formMethod:We,formAction:Me,formEncType:rr,formData:Pt}),aL.has(L.status)&&re&&Kr(re.formMethod)?await Fe(ue,ye,{submission:Oe({},re,{formAction:L.location}),preventScrollReset:m}):fe?await Fe(ue,ye,{overrideNavigation:{state:"loading",location:ye,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:re,preventScrollReset:m}):await Fe(ue,ye,{overrideNavigation:{state:"loading",location:ye,formMethod:re?re.formMethod:void 0,formAction:re?re.formAction:void 0,formEncType:re?re.formEncType:void 0,formData:re?re.formData:void 0},preventScrollReset:m})}async function _e(N,L,U,Z,re){let de=await Promise.all([...U.map(ue=>il("loader",re,ue,L,n,e,y.basename)),...Z.map(ue=>ue.matches&&ue.match?il("loader",sl(t.history,ue.path,re.signal),ue.match,ue.matches,n,e,y.basename):{type:It.error,error:Tr(404,{pathname:ue.path})})]),fe=de.slice(0,U.length),ye=de.slice(U.length);return await Promise.all([w_(N,U,fe,re.signal,!1,w.loaderData),w_(N,Z.map(ue=>ue.match),ye,re.signal,!0)]),{results:de,loaderResults:fe,fetcherResults:ye}}function Ee(){S=!0,C.push(...qe()),M.forEach((N,L)=>{R.has(L)&&(x.push(L),T(L))})}function pe(N,L,U){let Z=Bo(w.matches,L);Te(N),Q({errors:{[Z.route.id]:U},fetchers:new Map(w.fetchers)})}function Te(N){R.has(N)&&T(N),M.delete(N),q.delete(N),$.delete(N),w.fetchers.delete(N)}function T(N){let L=R.get(N);Se(L,"Expected fetch controller: "+N),L.abort(),R.delete(N)}function k(N){for(let L of N){let Z={state:"idle",data:mt(L).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};w.fetchers.set(L,Z)}}function P(){let N=[];for(let L of $){let U=w.fetchers.get(L);Se(U,"Expected fetcher: "+L),U.state==="loading"&&($.delete(L),N.push(L))}k(N)}function V(N){let L=[];for(let[U,Z]of q)if(Z<N){let re=w.fetchers.get(U);Se(re,"Expected fetcher: "+U),re.state==="loading"&&(T(U),q.delete(U),L.push(U))}return k(L),L.length>0}function j(N,L){let U=w.blockers.get(N)||c_;return ge.get(N)!==L&&ge.set(N,L),U}function A(N){w.blockers.delete(N),ge.delete(N)}function K(N,L){let U=w.blockers.get(N)||c_;Se(U.state==="unblocked"&&L.state==="blocked"||U.state==="blocked"&&L.state==="blocked"||U.state==="blocked"&&L.state==="proceeding"||U.state==="blocked"&&L.state==="unblocked"||U.state==="proceeding"&&L.state==="unblocked","Invalid blocker state transition: "+U.state+" -> "+L.state),w.blockers.set(N,L),Q({blockers:new Map(w.blockers)})}function Ie(N){let{currentLocation:L,nextLocation:U,historyAction:Z}=N;if(ge.size===0)return;ge.size>1&&pa(!1,"A router only supports one blocker at a time");let re=Array.from(ge.entries()),[de,fe]=re[re.length-1],ye=w.blockers.get(de);if(!(ye&&ye.state==="proceeding")&&fe({currentLocation:L,nextLocation:U,historyAction:Z}))return de}function qe(N){let L=[];return oe.forEach((U,Z)=>{(!N||N(Z))&&(U.cancel(),L.push(Z),oe.delete(Z))}),L}function Ii(N,L,U){if(l=N,c=L,u=U||(Z=>Z.key),!d&&w.navigation===Gp){d=!0;let Z=_o(w.location,w.matches);Z!=null&&Q({restoreScrollPosition:Z})}return()=>{l=null,c=null,u=null}}function pp(N,L){if(l&&u&&c){let U=L.map(re=>__(re,w.loaderData)),Z=u(N,U)||N.key;l[Z]=c()}}function _o(N,L){if(l&&u&&c){let U=L.map(de=>__(de,w.loaderData)),Z=u(N,U)||N.key,re=l[Z];if(typeof re=="number")return re}return null}function Wa(N){i=N}return y={get basename(){return t.basename},get state(){return w},get routes(){return r},initialize:Ue,subscribe:se,enableScrollRestoration:Ii,navigate:xe,fetch:Ci,revalidate:Ct,createHref:N=>t.history.createHref(N),encodeLocation:N=>t.history.encodeLocation(N),getFetcher:mt,deleteFetcher:Te,dispose:W,getBlocker:j,deleteBlocker:A,_internalFetchControllers:R,_internalActiveDeferreds:oe,_internalSetRoutes:Wa},y}function fL(t){return t!=null&&"formData"in t}function d_(t,e,n,r){r===void 0&&(r=!1);let i=typeof t=="string"?t:hi(t);if(!n||!fL(n))return{path:i};if(n.formMethod&&!wL(n.formMethod))return{path:i,error:Tr(405,{method:n.formMethod})};let s;if(n.formData){let l=n.formMethod||"get";if(s={formMethod:e.v7_normalizeFormMethod?l.toUpperCase():l.toLowerCase(),formAction:RI(i),formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:n.formData},Kr(s.formMethod))return{path:i,submission:s}}let o=Ei(i),a=bI(n.formData);return r&&o.search&&PI(o.search)&&a.append("index",""),o.search="?"+a,{path:hi(o),submission:s}}function hL(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function f_(t,e,n,r,i,s,o,a,l,u,c,d,h){let p=h?Object.values(h)[0]:d?Object.values(d)[0]:void 0,_=t.createURL(e.location),y=t.createURL(i),w=s||_.toString()===y.toString()||_.search!==y.search,v=h?Object.keys(h)[0]:void 0,g=hL(n,v).filter((S,C)=>{if(S.route.lazy)return!0;if(S.route.loader==null)return!1;if(pL(e.loaderData,e.matches[C],S)||o.some(b=>b===S.route.id))return!0;let x=e.matches[C],R=S;return h_(S,Oe({currentUrl:_,currentParams:x.params,nextUrl:y,nextParams:R.params},r,{actionResult:p,defaultShouldRevalidate:w||kI(x,R)}))}),E=[];return l.forEach((S,C)=>{if(!n.some(O=>O.route.id===S.routeId))return;let x=Vo(u,S.path,c);if(!x){E.push(Oe({key:C},S,{matches:null,match:null}));return}let R=Xg(x,S.path);if(a.includes(C)){E.push(Oe({key:C,matches:x,match:R},S));return}h_(R,Oe({currentUrl:_,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:p,defaultShouldRevalidate:w}))&&E.push(Oe({key:C,matches:x,match:R},S))}),[g,E]}function pL(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function kI(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function h_(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function p_(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Se(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";pa(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!MO.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,{hasErrorBoundary:e(Oe({},i)),lazy:void 0})}async function il(t,e,n,r,i,s,o,a,l,u){o===void 0&&(o="/"),a===void 0&&(a=!1),l===void 0&&(l=!1);let c,d,h,p=w=>{let v,m=new Promise((g,E)=>v=E);return h=()=>v(),e.signal.addEventListener("abort",h),Promise.race([w({request:e,params:n.params,context:u}),m])};try{let w=n.route[t];if(n.route.lazy)if(w)d=(await Promise.all([p(w),p_(n.route,s,i)]))[0];else if(await p_(n.route,s,i),w=n.route[t],w)d=await p(w);else{if(t==="action")throw Tr(405,{method:e.method,pathname:new URL(e.url).pathname,routeId:n.route.id});return{type:It.data,data:void 0}}else Se(w,"Could not find the "+t+' to run on the "'+n.route.id+'" route'),d=await p(w);Se(d!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(w){c=It.error,d=w}finally{h&&e.signal.removeEventListener("abort",h)}if(vL(d)){let w=d.status;if(oL.has(w)){let g=d.headers.get("Location");if(Se(g,"Redirects returned/thrown from loaders/actions must have a Location header"),II.test(g)){if(!a){let E=new URL(e.url),S=g.startsWith("//")?new URL(E.protocol+g):new URL(g),C=$u(S.pathname,o)!=null;S.origin===E.origin&&C&&(g=S.pathname+S.search+S.hash)}}else{let E=r.slice(0,r.indexOf(n)+1),S=vh(E).map(x=>x.pathnameBase),C=Hv(g,S,new URL(e.url).pathname);if(Se(hi(C),"Unable to resolve redirect location: "+g),o){let x=C.pathname;C.pathname=x==="/"?o:si([o,x])}g=hi(C)}if(a)throw d.headers.set("Location",g),d;return{type:It.redirect,status:w,location:g,revalidate:d.headers.get("X-Remix-Revalidate")!==null}}if(l)throw{type:c||It.data,response:d};let v,m=d.headers.get("Content-Type");return m&&/\bapplication\/json\b/.test(m)?v=await d.json():v=await d.text(),c===It.error?{type:c,error:new qv(w,d.statusText,v),headers:d.headers}:{type:It.data,data:v,statusCode:d.status,headers:d.headers}}if(c===It.error)return{type:c,error:d};if(yL(d)){var _,y;return{type:It.deferred,deferredData:d,statusCode:(_=d.init)==null?void 0:_.status,headers:((y=d.init)==null?void 0:y.headers)&&new Headers(d.init.headers)}}return{type:It.data,data:d}}function sl(t,e,n,r){let i=t.createURL(RI(e)).toString(),s={signal:n};if(r&&Kr(r.formMethod)){let{formMethod:o,formEncType:a,formData:l}=r;s.method=o.toUpperCase(),s.body=a==="application/x-www-form-urlencoded"?bI(l):l}return new Request(i,s)}function bI(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function mL(t,e,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,d)=>{let h=e[d].route.id;if(Se(!Jo(c),"Cannot handle redirect results in processLoaderData"),jl(c)){let p=Bo(t,h),_=c.error;r&&(_=Object.values(r)[0],r=void 0),o=o||{},o[p.route.id]==null&&(o[p.route.id]=_),s[h]=void 0,l||(l=!0,a=zo(c.error)?c.error.status:500),c.headers&&(u[h]=c.headers)}else Rs(c)?(i.set(h,c.deferredData),s[h]=c.deferredData.data):s[h]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[h]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function m_(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=mL(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:d,match:h}=s[c];Se(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let p=o[c];if(jl(p)){let _=Bo(t.matches,h==null?void 0:h.route.id);u&&u[_.route.id]||(u=Oe({},u,{[_.route.id]:p.error})),t.fetchers.delete(d)}else if(Jo(p))Se(!1,"Unhandled fetcher revalidation redirect");else if(Rs(p))Se(!1,"Unhandled fetcher deferred data");else{let _={state:"idle",data:p.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(d,_)}}return{loaderData:l,errors:u}}function g_(t,e,n,r){let i=Oe({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Bo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function y_(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Tr(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"&&(a="defer() is not supported in actions")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new qv(t||500,o,new Error(a),!0)}function v_(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Jo(n))return n}}function RI(t){let e=typeof t=="string"?Ei(t):t;return hi(Oe({},e,{hash:""}))}function gL(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function Rs(t){return t.type===It.deferred}function jl(t){return t.type===It.error}function Jo(t){return(t&&t.type)===It.redirect}function yL(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function vL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function wL(t){return sL.has(t.toLowerCase())}function Kr(t){return rL.has(t.toLowerCase())}async function w_(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!kI(u,l)&&(s&&s[l.route.id])!==void 0;Rs(a)&&(i||c)&&await AI(a,r,i).then(d=>{d&&(n[o]=d||n[o])})}}async function AI(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:It.data,data:t.deferredData.unwrappedData}}catch(i){return{type:It.error,error:i}}return{type:It.data,data:t.deferredData.data}}}function PI(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function __(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Xg(t,e){let n=typeof e=="string"?Ei(e).search:e.search;if(t[t.length-1].route.index&&PI(n||""))return t[t.length-1];let r=vh(t);return r[r.length-1]}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _L(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const EL=typeof Object.is=="function"?Object.is:_L,{useState:SL,useEffect:CL,useLayoutEffect:TL,useDebugValue:IL}=Jm;function xL(t,e,n){const r=e(),[{inst:i},s]=SL({inst:{value:r,getSnapshot:e}});return TL(()=>{i.value=r,i.getSnapshot=e,Qp(i)&&s({inst:i})},[t,r,e]),CL(()=>(Qp(i)&&s({inst:i}),t(()=>{Qp(i)&&s({inst:i})})),[t]),IL(r),r}function Qp(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!EL(n,r)}catch{return!0}}function kL(t,e,n){return e()}const bL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RL=!bL,AL=RL?kL:xL,PL="useSyncExternalStore"in Jm?(t=>t.useSyncExternalStore)(Jm):AL,Wv=I.createContext(null),Uu=I.createContext(null),Aa=I.createContext(null),wh=I.createContext(null),fs=I.createContext({outlet:null,matches:[]}),NI=I.createContext(null);function Jg(){return Jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jg.apply(this,arguments)}function NL(t,e){let{relative:n}=e===void 0?{}:e;Pa()||Se(!1);let{basename:r,navigator:i}=I.useContext(Aa),{hash:s,pathname:o,search:a}=Kv(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:si([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Pa(){return I.useContext(wh)!=null}function hs(){return Pa()||Se(!1),I.useContext(wh).location}function Zn(){Pa()||Se(!1);let{basename:t,navigator:e}=I.useContext(Aa),{matches:n}=I.useContext(fs),{pathname:r}=hs(),i=JSON.stringify(vh(n).map(a=>a.pathnameBase)),s=I.useRef(!1);return I.useEffect(()=>{s.current=!0}),I.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=Hv(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:si([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}const OL=I.createContext(null);function LL(t){let e=I.useContext(fs).outlet;return e&&I.createElement(OL.Provider,{value:t},e)}function DL(){let{matches:t}=I.useContext(fs),e=t[t.length-1];return e?e.params:{}}function Kv(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=I.useContext(fs),{pathname:i}=hs(),s=JSON.stringify(vh(r).map(o=>o.pathnameBase));return I.useMemo(()=>Hv(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function jL(t,e){Pa()||Se(!1);let{navigator:n}=I.useContext(Aa),r=I.useContext(Uu),{matches:i}=I.useContext(fs),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=hs(),u;if(e){var c;let y=typeof e=="string"?Ei(e):e;a==="/"||(c=y.pathname)!=null&&c.startsWith(a)||Se(!1),u=y}else u=l;let d=u.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",p=Vo(t,{pathname:h}),_=FL(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:si([a,n.encodeLocation?n.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:si([a,n.encodeLocation?n.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r||void 0);return e&&_?I.createElement(wh.Provider,{value:{location:Jg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:yt.Pop}},_):_}function ML(){let t=OI(),e=zo(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,s)}class $L extends I.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?I.createElement(fs.Provider,{value:this.props.routeContext},I.createElement(NI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UL(t){let{routeContext:e,match:n,children:r}=t,i=I.useContext(Wv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(fs.Provider,{value:e},r)}function FL(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Se(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=I.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=I.createElement(ML,null));let c=e.concat(r.slice(0,a+1)),d=()=>{let h=s;return l?h=u:o.route.Component?h=I.createElement(o.route.Component,null):o.route.element&&(h=o.route.element),I.createElement(UL,{match:o,routeContext:{outlet:s,matches:c},children:h})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?I.createElement($L,{location:n.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var E_;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(E_||(E_={}));var Kd;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Kd||(Kd={}));function VL(t){let e=I.useContext(Uu);return e||Se(!1),e}function zL(t){let e=I.useContext(fs);return e||Se(!1),e}function BL(t){let e=zL(),n=e.matches[e.matches.length-1];return n.route.id||Se(!1),n.route.id}function OI(){var t;let e=I.useContext(NI),n=VL(Kd.UseRouteError),r=BL(Kd.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function HL(t){let{fallbackElement:e,router:n}=t,r=I.useCallback(()=>n.state,[n]),i=PL(n.subscribe,r,r),s=I.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:l=>n.navigate(l),push:(l,u,c)=>n.navigate(l,{state:u,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(l,u,c)=>n.navigate(l,{replace:!0,state:u,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[n]),o=n.basename||"/",a=I.useMemo(()=>({router:n,navigator:s,static:!1,basename:o}),[n,s,o]);return I.createElement(I.Fragment,null,I.createElement(Wv.Provider,{value:a},I.createElement(Uu.Provider,{value:i},I.createElement(KL,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:s},n.state.initialized?I.createElement(GL,null):e))),null)}function LI(t){let{to:e,replace:n,state:r,relative:i}=t;Pa()||Se(!1);let s=I.useContext(Uu),o=Zn();return I.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function qL(t){return LL(t.context)}function WL(t){Se(!1)}function KL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=yt.Pop,navigator:s,static:o=!1}=t;Pa()&&Se(!1);let a=e.replace(/^\/*/,"/"),l=I.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Ei(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:p="default"}=r,_=I.useMemo(()=>{let y=$u(u,a);return y==null?null:{location:{pathname:y,search:c,hash:d,state:h,key:p},navigationType:i}},[a,u,c,d,h,p,i]);return _==null?null:I.createElement(Aa.Provider,{value:l},I.createElement(wh.Provider,{children:n,value:_}))}function GL(t){let{children:e,location:n}=t,r=I.useContext(Wv),i=r&&!e?r.router.routes:Zg(e);return jL(i,n)}var S_;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(S_||(S_={}));new Promise(()=>{});function Zg(t,e){e===void 0&&(e=[]);let n=[];return I.Children.forEach(t,(r,i)=>{if(!I.isValidElement(r))return;let s=[...e,i];if(r.type===I.Fragment){n.push.apply(n,Zg(r.props.children,s));return}r.type!==WL&&Se(!1),!r.props.index||!r.props.children||Se(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Zg(r.props.children,s)),n.push(o)}),n}function QL(t){return!!t.ErrorBoundary||!!t.errorElement}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hu.apply(this,arguments)}function DI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function YL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XL(t,e){return t.button===0&&(!e||e==="_self")&&!YL(t)}const JL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],ZL=["aria-current","caseSensitive","className","end","style","to","children"];function eD(t,e){return dL({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:LO({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||tD(),routes:t,detectErrorBoundary:QL}).initialize()}function tD(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=hu({},e,{errors:nD(e.errors)})),e}function nD(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new qv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let s=new Error(i.message);s.stack="",n[r]=s}else n[r]=i;return n}const rD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_h=I.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,d=DI(e,JL),{basename:h}=I.useContext(Aa),p,_=!1;if(typeof u=="string"&&iD.test(u)&&(p=u,rD)){let m=new URL(window.location.href),g=u.startsWith("//")?new URL(m.protocol+u):new URL(u),E=$u(g.pathname,h);g.origin===m.origin&&E!=null?u=E+g.search+g.hash:_=!0}let y=NL(u,{relative:i}),w=sD(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function v(m){r&&r(m),m.defaultPrevented||w(m)}return I.createElement("a",hu({},d,{href:p||y,onClick:_||s?r:v,ref:n,target:l}))}),Gd=I.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=e,c=DI(e,ZL),d=Kv(l,{relative:c.relative}),h=hs(),p=I.useContext(Uu),{navigator:_}=I.useContext(Aa),y=_.encodeLocation?_.encodeLocation(d).pathname:d.pathname,w=h.pathname,v=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(w=w.toLowerCase(),v=v?v.toLowerCase():null,y=y.toLowerCase());let m=w===y||!o&&w.startsWith(y)&&w.charAt(y.length)==="/",g=v!=null&&(v===y||!o&&v.startsWith(y)&&v.charAt(y.length)==="/"),E=m?r:void 0,S;typeof s=="function"?S=s({isActive:m,isPending:g}):S=[s,m?"active":null,g?"pending":null].filter(Boolean).join(" ");let C=typeof a=="function"?a({isActive:m,isPending:g}):a;return I.createElement(_h,hu({},c,{"aria-current":E,className:S,ref:n,style:C,to:l}),typeof u=="function"?u({isActive:m,isPending:g}):u)});var C_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(C_||(C_={}));var T_;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(T_||(T_={}));function sD(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Zn(),l=hs(),u=Kv(t,{relative:o});return I.useCallback(c=>{if(XL(c,n)){c.preventDefault();let d=r!==void 0?r:hi(l)===hi(u);a(t,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}var jI={},Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.targetFrameTime=Gs.snowfallBaseStyle=void 0;var oD={pointerEvents:"none",backgroundColor:"transparent",position:"absolute",top:0,left:0,width:"100%",height:"100%"};Gs.snowfallBaseStyle=oD;var aD=1e3/60;Gs.targetFrameTime=aD;var Mr={},lD=typeof Element<"u",uD=typeof Map=="function",cD=typeof Set=="function",dD=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function sd(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!sd(t[r],e[r]))return!1;return!0}var s;if(uD&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!sd(r.value[1],e.get(r.value[0])))return!1;return!0}if(cD&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(dD&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(lD&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!sd(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var MI=function(e,n){try{return sd(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}},Gv={},ao={};Object.defineProperty(ao,"__esModule",{value:!0});ao.getSize=pD;ao.lerp=hD;ao.random=fD;ao.randomElement=mD;function fD(t,e){var n=Math.random()*(e-t+1)+t;return!Number.isInteger(t)||!Number.isInteger(e)?n:Math.floor(n)}function hD(t,e,n){return(1-n)*t+n*e}function pD(t){return t?{height:t.offsetHeight,width:t.offsetWidth}:{height:0,width:0}}function mD(t){var e=Math.floor(Math.random()*t.length);return t[e]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultConfig=t.default=void 0;var e=r(MI),n=ao;function r(g){return g&&g.__esModule?g:{default:g}}function i(g,E){var S=Object.keys(g);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(g);E&&(C=C.filter(function(x){return Object.getOwnPropertyDescriptor(g,x).enumerable})),S.push.apply(S,C)}return S}function s(g){for(var E=1;E<arguments.length;E++){var S=arguments[E]!=null?arguments[E]:{};E%2?i(Object(S),!0).forEach(function(C){y(g,C,S[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(S)):i(Object(S)).forEach(function(C){Object.defineProperty(g,C,Object.getOwnPropertyDescriptor(S,C))})}return g}function o(g){return c(g)||u(g)||l(g)||a()}function a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(g,E){if(g){if(typeof g=="string")return d(g,E);var S=Object.prototype.toString.call(g).slice(8,-1);if(S==="Object"&&g.constructor&&(S=g.constructor.name),S==="Map"||S==="Set")return Array.from(g);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return d(g,E)}}function u(g){if(typeof Symbol<"u"&&g[Symbol.iterator]!=null||g["@@iterator"]!=null)return Array.from(g)}function c(g){if(Array.isArray(g))return d(g)}function d(g,E){(E==null||E>g.length)&&(E=g.length);for(var S=0,C=new Array(E);S<E;S++)C[S]=g[S];return C}function h(g,E){if(!(g instanceof E))throw new TypeError("Cannot call a class as a function")}function p(g,E){for(var S=0;S<E.length;S++){var C=E[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}function _(g,E,S){return E&&p(g.prototype,E),S&&p(g,S),Object.defineProperty(g,"prototype",{writable:!1}),g}function y(g,E,S){return E in g?Object.defineProperty(g,E,{value:S,enumerable:!0,configurable:!0,writable:!0}):g[E]=S,g}var w={color:"#dee4fd",radius:[.5,3],speed:[1,3],wind:[-.5,2],changeFrequency:200,rotationSpeed:[-1,1]};t.defaultConfig=w;var v=function(){function g(E){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};h(this,g),y(this,"config",void 0),y(this,"params",void 0),y(this,"framesSinceLastUpdate",void 0),y(this,"image",void 0),this.updateConfig(S);var C=this.config,x=C.radius,R=C.wind,b=C.speed,O=C.rotationSpeed;this.params={x:(0,n.random)(0,E.offsetWidth),y:(0,n.random)(-E.offsetHeight,0),rotation:(0,n.random)(0,360),radius:n.random.apply(void 0,o(x)),speed:n.random.apply(void 0,o(b)),wind:n.random.apply(void 0,o(R)),rotationSpeed:n.random.apply(void 0,o(O)),nextSpeed:n.random.apply(void 0,o(R)),nextWind:n.random.apply(void 0,o(b)),nextRotationSpeed:n.random.apply(void 0,o(O))},this.framesSinceLastUpdate=0}return _(g,[{key:"selectImage",value:function(){this.config.images&&this.config.images.length>0?this.image=(0,n.randomElement)(this.config.images):this.image=void 0}},{key:"updateConfig",value:function(S){var C=this.config;this.config=s(s({},w),S),this.config.changeFrequency=(0,n.random)(this.config.changeFrequency,this.config.changeFrequency*1.5),this.params&&!(0,e.default)(this.config.radius,C==null?void 0:C.radius)&&(this.params.radius=n.random.apply(void 0,o(this.config.radius))),(0,e.default)(this.config.images,C==null?void 0:C.images)||this.selectImage()}},{key:"updateTargetParams",value:function(){this.params.nextSpeed=n.random.apply(void 0,o(this.config.speed)),this.params.nextWind=n.random.apply(void 0,o(this.config.wind)),this.image&&(this.params.nextRotationSpeed=n.random.apply(void 0,o(this.config.rotationSpeed)))}},{key:"update",value:function(S){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,x=this.params,R=x.x,b=x.y,O=x.rotation,q=x.rotationSpeed,$=x.nextRotationSpeed,M=x.wind,oe=x.speed,ge=x.nextWind,Re=x.nextSpeed,Ue=x.radius;this.params.x=(R+M*C)%(S.offsetWidth+Ue*2),this.params.x>S.offsetWidth+Ue&&(this.params.x=-Ue),this.params.y=(b+oe*C)%(S.offsetHeight+Ue*2),this.params.y>S.offsetHeight+Ue&&(this.params.y=-Ue),this.image&&(this.params.rotation=(O+q)%360),this.params.speed=(0,n.lerp)(oe,Re,.01),this.params.wind=(0,n.lerp)(M,ge,.01),this.params.rotationSpeed=(0,n.lerp)(q,$,.01),this.framesSinceLastUpdate++>this.config.changeFrequency&&(this.updateTargetParams(),this.framesSinceLastUpdate=0)}},{key:"getImageOffscreenCanvas",value:function(S,C){var x;if(S instanceof HTMLImageElement&&S.loading)return S;var R=g.offscreenCanvases.get(S);if(R||(R={},g.offscreenCanvases.set(S,R)),!(C in R)){var b,O=document.createElement("canvas");O.width=C,O.height=C,(b=O.getContext("2d"))===null||b===void 0||b.drawImage(S,0,0,C,C),R[C]=O}return(x=R[C])!==null&&x!==void 0?x:S}},{key:"draw",value:function(S){if(this.image){S.setTransform(1,0,0,1,this.params.x,this.params.y);var C=Math.ceil(this.params.radius);S.rotate(this.params.rotation*Math.PI/180),S.drawImage(this.getImageOffscreenCanvas(this.image,C),-Math.ceil(C/2),-Math.ceil(C/2),C,C)}else S.beginPath(),S.arc(this.params.x,this.params.y,this.params.radius,0,2*Math.PI),S.fillStyle=this.config.color,S.closePath(),S.fill()}}]),g}();y(v,"offscreenCanvases",new WeakMap);var m=v;t.default=m})(Gv);Object.defineProperty(Mr,"__esModule",{value:!0});Mr.useComponentSize=void 0;Mr.useDeepCompareEffect=FI;Mr.useDeepMemo=AD;Mr.useSnowflakes=Mr.useSnowfallStyle=void 0;var Nr=I,gD=$I(MI),yD=$I(Gv),vD=Gs,I_=ao;function $I(t){return t&&t.__esModule?t:{default:t}}function x_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x_(Object(n),!0).forEach(function(r){wD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wD(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b_(t){return SD(t)||ED(t)||UI(t)||_D()}function _D(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ED(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SD(t){if(Array.isArray(t))return ey(t)}function Qv(t,e){return ID(t)||TD(t,e)||UI(t,e)||CD()}function CD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UI(t,e){if(t){if(typeof t=="string")return ey(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ey(t,e)}}function ey(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TD(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function ID(t){if(Array.isArray(t))return t}var xD=function(e,n,r){if(!e.current)return[];for(var i=[],s=0;s<n;s++)i.push(new yD.default(e.current,r));return i},kD=function(e,n,r){var i=(0,Nr.useState)([]),s=Qv(i,2),o=s[0],a=s[1];return(0,Nr.useEffect)(function(){a(function(l){var u=n-l.length;return u>0?[].concat(b_(l),b_(xD(e,u,r))):u<0?l.slice(0,n):l})},[n,e,r]),(0,Nr.useEffect)(function(){a(function(l){return l.map(function(u){return u.updateConfig(r),u})})},[r]),o};Mr.useSnowflakes=kD;var bD=function(e){var n=(0,Nr.useState)((0,I_.getSize)(e.current)),r=Qv(n,2),i=r[0],s=r[1],o=(0,Nr.useCallback)(function(){e.current&&s((0,I_.getSize)(e.current))},[e]);return(0,Nr.useLayoutEffect)(function(){var a=window,l=a.ResizeObserver;if(e.current)if(o(),typeof l=="function"){var u=new l(o);return u.observe(e.current),function(){return u.disconnect()}}else return window.addEventListener("resize",o),function(){return window.removeEventListener("resize",o)}},[e,o]),i};Mr.useComponentSize=bD;var RD=function(e){var n=(0,Nr.useMemo)(function(){return k_(k_({},vD.snowfallBaseStyle),e||{})},[e]);return n};Mr.useSnowfallStyle=RD;function FI(t,e){var n=(0,Nr.useRef)(e);return(0,gD.default)(e,n.current)||(n.current=e),(0,Nr.useEffect)(t,n.current)}function AD(t){var e=(0,Nr.useState)(t),n=Qv(e,2),r=n[0],i=n[1];return FI(function(){return i(t)},[t]),r}(function(t){function e(c){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},e(c)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(I),r=Gs,i=Mr,s=Gv;function o(c){if(typeof WeakMap!="function")return null;var d=new WeakMap,h=new WeakMap;return(o=function(_){return _?h:d})(c)}function a(c,d){if(!d&&c&&c.__esModule)return c;if(c===null||e(c)!=="object"&&typeof c!="function")return{default:c};var h=o(d);if(h&&h.has(c))return h.get(c);var p={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in c)if(y!=="default"&&Object.prototype.hasOwnProperty.call(c,y)){var w=_?Object.getOwnPropertyDescriptor(c,y):null;w&&(w.get||w.set)?Object.defineProperty(p,y,w):p[y]=c[y]}return p.default=c,h&&h.set(c,p),p}var l=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=d.color,p=h===void 0?s.defaultConfig.color:h,_=d.changeFrequency,y=_===void 0?s.defaultConfig.changeFrequency:_,w=d.radius,v=w===void 0?s.defaultConfig.radius:w,m=d.speed,g=m===void 0?s.defaultConfig.speed:m,E=d.wind,S=E===void 0?s.defaultConfig.wind:E,C=d.rotationSpeed,x=C===void 0?s.defaultConfig.rotationSpeed:C,R=d.snowflakeCount,b=R===void 0?150:R,O=d.images,q=d.style,$=(0,i.useSnowfallStyle)(q),M=(0,n.useRef)(null),oe=(0,i.useComponentSize)(M),ge=(0,n.useRef)(0),Re=(0,n.useRef)(Date.now()),Ue=(0,i.useDeepMemo)({color:p,changeFrequency:y,radius:v,speed:g,wind:S,rotationSpeed:x,images:O}),W=(0,i.useSnowflakes)(M,b,Ue),se=(0,n.useCallback)(function(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,xe=M.current;if(xe){W.forEach(function(Fe){return Fe.update(xe,Ce)});var Ct=xe.getContext("2d");Ct&&(Ct.setTransform(1,0,0,1,0,0),Ct.clearRect(0,0,xe.offsetWidth,xe.offsetHeight),W.forEach(function(Fe){return Fe.draw(Ct)}))}},[W]),Q=(0,n.useCallback)(function(){var Ce=Date.now(),xe=Date.now()-Re.current;Re.current=Ce;var Ct=xe/r.targetFrameTime;se(Ct),ge.current=requestAnimationFrame(Q)},[se]);return(0,n.useEffect)(function(){return Q(),function(){return cancelAnimationFrame(ge.current)}},[Q]),n.default.createElement("canvas",{ref:M,height:oe.height,width:oe.width,style:$,"data-testid":"SnowfallCanvas"})},u=l;t.default=u})(jI);const PD=Hy(jI);function ND(t,e){return e&&e.length===t.length?t.map((n,r)=>({...n,id:e[r]})):t.map((n,r)=>({...n,id:r}))}function OD(...t){return{className:t.flat(1/0).filter(e=>e).join(" ").trim()}}function LD(t,e,n,r=""){const i=document.createElement(e);if(n!=null&&n.class){const s=n.class.split(" ");i.classList.add(...s)}return n!=null&&n.id&&i.setAttribute("id",n.id),n!=null&&n.attributes&&n.attributes.forEach(s=>{const o=s.split("=")[0],a=(s.split("=")[1]||"").replaceAll('"',"");i.setAttribute(o,a)}),r&&(i.innerHTML=r),t.append(i),i}function DD(...t){return t.reduce((e,n)=>e.filter(r=>n.includes(r)))}function jD(){return Date.now()}function MD(...t){return t.reduce((e,n)=>e.filter(r=>!n.includes(r)))}function $D(t){return t.map((e,n)=>e!==""?n:"").filter(String)}function Qi(t,e){return Math.trunc(Math.random()*(e-t+1)+t)}function UD(){const t=Qi(0,255).toString(16),e=Qi(0,255).toString(16),n=Qi(0,255).toString(16);return`#${t}${e}${n}`}function FD(){const t=Qi(0,255),e=Qi(0,255),n=Qi(0,255);return[t,e,n]}function VD(){let t;return()=>{const e=t>window.scrollY?"UP":"DOWN";return t=window.scrollY,e}}const zD=VD();function vr(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function BD(t,e){return!e&&typeof t=="string"?t[0]:e&&typeof t!="string"?t[e].toString()[0]:null}function HD(t,e){const n=new Map,r=t[0];if(typeof r!="string"&&!vr(r))throw new Error("Invalid value");if(!e&&vr(r))throw new Error("No key provided");return t.forEach(i=>{const s=BD(i,e);n.has(s)?n.set(s,[...n.get(s),i]):n.set(s,[i])}),Array.from(n.entries())}function qD(t){return Object.keys(t).length===0}function WD(...t){return t.flat(1/0).filter(e=>e).join(" ").trim()}function ty(t){return new Date(+t)}function KD(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!vr(r))throw new Error("Invalid value");if(vr(r)&&!e)throw new Error("No key provided");let i=[];return!e&&typeof r=="string"&&(i=n.filter(s=>s.trim()!=="")),e&&typeof r!="string"&&(i=n.filter(s=>s[e].toString().trim()!=="")),i}function GD({callback:t,delay:e,counts:n}){let r=0;const i=setInterval(()=>{t(),r+=1,r===n&&clearInterval(i)},e);return i}function QD(t){const e=t.slice();for(let n=0;n<t.length;n++){const r=Qi(0,t.length-1);[e[n],e[r]]=[e[r],e[n]]}return e}function YD(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!vr(r))throw new Error("Invalid value");if(vr(r)&&!e)throw new Error("No key provided");let i=[];return!e&&typeof r=="string"&&(i=n.sort((s,o)=>s.localeCompare(o))),e&&typeof r!="string"&&(i=n.sort((s,o)=>s[e].toString().localeCompare(o[e].toString()))),i}function XD(t,e,n="num"){const r=t.slice();return e&&r.sort((i,s)=>{if(n==="num"){if(+i[e]<+s[e])return-1;if(+i[e]>+s[e])return 1}else{if(i[e]<s[e])return-1;if(i[e]>s[e])return 1}return 0}),r}function JD(t,e,n="..."){return t.length>e?`${t.substring(0,e).trim()}${n}`:t}function ZD(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!vr(r))throw new Error("Invalid value");if(vr(r)&&!e)throw new Error("No key provided");let i=0;return!e&&typeof r=="string"?i=t.length-n.reverse().findIndex(s=>s!==""):e&&typeof r!="string"&&(i=t.length-n.reverse().findIndex(s=>s[e]!=="")),n.reverse().splice(0,i)}function ej(t,e){const n=t[0];if(typeof n!="string"&&!vr(n))throw new Error("Invalid value");if(vr(n)&&!e)throw new Error("No key provided");const r=t.slice();let i=0;return!e&&typeof n=="string"?i=r.findIndex(s=>s!==""):e&&typeof n!="string"&&(i=r.findIndex(s=>s[e]!=="")),r.splice(i)}const X={addId:ND,className:OD,createHTMLElem:LD,getCommonValues:DD,getCurrentDateInMs:jD,getDifferentValues:MD,getIndexesOfNonEmptyElements:$D,getRandomHEXColor:UD,getRandomNumber:Qi,getRandomRGBColor:FD,getScrollDirection:zD,groupBy:HD,isObject:vr,isObjectEmpty:qD,join:WD,parseCurrentDateFromMs:ty,removeEmptyValues:KD,setIntervalCounts:GD,shuffleArray:QD,sortArrayLocalCompare:YD,sortArrayOfObj:XD,stringCut:JD,trimEndEmptyValues:ZD,trimStartEmptyValues:ej};function Yv({as:t="div",...e}){return f.jsx(t,{...e})}function Xv(t){const e=(t==null?void 0:t.size)===10?"col10":"col";return X.join([(t==null?void 0:t.xx)&&`${e}-xx-${t.xx}`,(t==null?void 0:t.xl)&&`${e}-xl-${t.xl}`,(t==null?void 0:t.lg)&&`${e}-lg-${t.lg}`,(t==null?void 0:t.md)&&`${e}-md-${t.md}`,(t==null?void 0:t.sm)&&`${e}-sm-${t.sm}`,(t==null?void 0:t.xs)&&`${e}-xs-${t.xs}`,(t==null?void 0:t.ss)&&`${e}-ss-${t.ss}`])}const ie=I.forwardRef(({component:t="div",grid:e,children:n,className:r,...i},s)=>{const o=e&&Xv(e),a={className:X.join(r,o),ref:s,...i};return f.jsx(Yv,{as:t,...a,children:n})});ie.displayName="Block";const tj="_Snow_vzcdv_1",nj={Snow:tj};function rj(){return f.jsx(ie,{className:nj.Snow,children:f.jsx(PD,{color:"white",snowflakeCount:200,wind:[0,0],speed:[.023,.025]})})}function Le({size:t="default",strokeWidth:e=2,height:n,width:r,children:i,className:s,...o}){const a={tiny:"12px",small:"16px",default:"24px",medium:"32px",large:"36px",extra:"48px",custom:"24px"};return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:r||a[t],height:n||a[t],className:s,fill:"currentColor",stroke:"currentColor",strokeWidth:e,...o,children:i})}function ny(t){return f.jsxs(Le,{width:"45px",height:"28px",viewBox:"0 0 45 28",stroke:"none",...t,children:[f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.48798 6L0 22.8H3.98401L5.48108 19.2H13.2687L14.76 22.8H18.84L11.328 6H7.48798ZM12.0459 16.248L9.38251 9.81833L6.70868 16.248H12.0459Z"}),f.jsx("path",{d:"M17.205 6L22.7009 22.8H26.877L30.6852 11.4169L34.3889 22.8H38.5649L44.0609 6H40.3409L36.4266 17.8967L32.5889 6H28.989L25.0272 17.809L21.2369 6H17.205Z"})]})}const ij="_StartScreen_eg3k4_1",sj="_logo_eg3k4_12",R_={StartScreen:ij,logo:sj,"logo-animation":"_logo-animation_eg3k4_1"};function oj(){return f.jsx(ie,{className:R_.StartScreen,children:f.jsx(ny,{className:R_.logo})})}function aj(){const t=new Date().getMonth();return[11,0,1].includes(t)?"winter":[2,3,4].includes(t)?"spring":[5,6,7].includes(t)?"summer":[8,9,10].includes(t)?"autumn":null}const mn={about:"/about",chordslist:"/chordslist",home:"/",login:"/login",other:"/*",signup:"/signup",songslist:"/songslist"},Kn={user:"/user",chat:"/chat",users:"/users",userInfo:"/userInfo"},VI={admin:"/admin"},ct=cO;function Ur(){const{user:t}=ct(i=>i.userReducer),{uid:e,userType:n,sex:r}=t;return{isAuth:!!e,isOwner:n==="owner",isAdmin:n==="admin",isUser:n==="user",isFillProfile:!!r}}const at=I.forwardRef(({container:t,row:e,component:n="div",children:r,className:i,...s},o)=>{const a=[t&&"container",e&&"row"],l={className:X.join(i,a),ref:o,...s};return f.jsx(Yv,{as:n,...l,children:r})});at.displayName="Grid";const lj="_h1_bjtyp_34",uj="_inversion_bjtyp_37",cj="_h2_bjtyp_41",dj="_h3_bjtyp_48",fj="_h4_bjtyp_55",hj="_h5_bjtyp_62",pj="_h6_bjtyp_69",mj="_subtitle1_bjtyp_76",gj="_subtitle2_bjtyp_83",yj="_p1_bjtyp_90",vj="_p2_bjtyp_97",wj="_caption_bjtyp_104",_j="_overline_bjtyp_111",Ej="_link_bjtyp_118",Sj="_input_bjtyp_132",Cj="_button_bjtyp_460",tn={h1:lj,inversion:uj,h2:cj,h3:dj,h4:fj,h5:hj,h6:pj,subtitle1:mj,subtitle2:gj,p1:yj,p2:vj,caption:wj,overline:_j,link:Ej,"link-sm":"_link-sm_bjtyp_125",input:Sj,button:Cj,"button-sm":"_button-sm_bjtyp_471","button-icon":"_button-icon_bjtyp_482","button-icon-sm":"_button-icon-sm_bjtyp_493"},Tj="_Link_14qzb_57",Ij="_noUnderline_14qzb_63",xj="_inverted_14qzb_66",kj="_hover_14qzb_76",bj="_disabled_14qzb_96",Ml={Link:Tj,noUnderline:Ij,inverted:xj,hover:kj,disabled:bj},Jv=I.forwardRef(({display:t,underline:e,hover:n=!0,children:r,blank:i,className:s,...o},a)=>{const l=[t?tn[t]:tn.link,e===!1&&Ml.noUnderline,n&&Ml.hover],u=i&&{target:"_blank",rel:"noreferrer noopener"};return f.jsx("a",{className:X.join(Ml.Link,s,l),ref:a,...u,...o,children:r})});Jv.displayName="Link";const Qs=I.forwardRef(({display:t,underline:e,children:n,blank:r,className:i,...s},o)=>{const a=[t?tn[t]:tn.link,e===!1&&Ml.noUnderline],l=r&&{target:"_blank",rel:"noreferrer noopener"};return f.jsx("span",{className:X.join(Ml.Link,i,a),ref:o,...l,...s,children:n})});Qs.displayName="LinkLabel";const Rj="_Footer_14zpd_1",Aj="_container_14zpd_1",A_={Footer:Rj,container:Aj};function Pj(){const{pathname:t}=hs(),{isAuth:e}=Ur(),n=wl("/login",t),r=wl("/signup",t);return wl("/songslist",t)||wl("/songslist/:page",t)?null:f.jsx(ie,{component:"footer",className:A_.Footer,children:f.jsx(at,{container:!0,className:A_.container,children:!(n||r)&&e&&t!==Kn.chat&&f.jsx(Jv,{display:"caption",underline:!1,href:"https://github.com/AmelianceSkyMusic",blank:!0,children:"AmelianceSkyMusic"})})})}function P_(t){return f.jsxs(Le,{width:"108px",height:"28px",viewBox:"0 0 108 28",stroke:"none",...t,children:[f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.48798 6L0 22.8H3.98401L5.48108 19.2H13.2687L14.76 22.8H18.84L11.328 6H7.48798ZM12.0459 16.248L9.38251 9.81833L6.70868 16.248H12.0459Z"}),f.jsx("path",{d:"M17.205 6L22.7009 22.8H26.877L30.6852 11.4169L34.3889 22.8H38.5649L44.0609 6H40.3409L36.4266 17.8967L32.5889 6H28.989L25.0272 17.809L21.2369 6H17.205Z"}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M49.495 22.944C48.463 22.944 47.545 22.728 46.741 22.296C45.949 21.864 45.319 21.276 44.851 20.532C44.395 19.776 44.167 18.918 44.167 17.958C44.167 16.986 44.395 16.128 44.851 15.384C45.319 14.628 45.949 14.04 46.741 13.62C47.545 13.188 48.463 12.972 49.495 12.972C50.515 12.972 51.427 13.188 52.231 13.62C53.035 14.04 53.665 14.622 54.121 15.366C54.577 16.11 54.805 16.974 54.805 17.958C54.805 18.918 54.577 19.776 54.121 20.532C53.665 21.276 53.035 21.864 52.231 22.296C51.427 22.728 50.515 22.944 49.495 22.944ZM49.495 20.64C49.963 20.64 50.383 20.532 50.755 20.316C51.127 20.1 51.421 19.794 51.637 19.398C51.853 18.99 51.961 18.51 51.961 17.958C51.961 17.394 51.853 16.914 51.637 16.518C51.421 16.122 51.127 15.816 50.755 15.6C50.383 15.384 49.963 15.276 49.495 15.276C49.027 15.276 48.607 15.384 48.235 15.6C47.863 15.816 47.563 16.122 47.335 16.518C47.119 16.914 47.011 17.394 47.011 17.958C47.011 18.51 47.119 18.99 47.335 19.398C47.563 19.794 47.863 20.1 48.235 20.316C48.607 20.532 49.027 20.64 49.495 20.64Z"}),f.jsx("path",{d:"M60.364 13.116H57.6819V22.8H60.4899V18.228C60.4899 17.304 60.7239 16.626 61.1919 16.194C61.6719 15.75 62.2959 15.528 63.0639 15.528C63.1719 15.528 63.2739 15.534 63.3699 15.546C63.3847 15.546 63.3998 15.5461 63.4152 15.5464L63.4372 15.5469L63.4645 15.5478C63.5353 15.5504 63.6118 15.5558 63.6939 15.564V12.972C62.7819 12.972 62.0079 13.152 61.3719 13.512C60.9645 13.7349 60.6285 14.0267 60.364 14.3875V13.116Z"}),f.jsx("path",{d:"M69.6919 22.944C68.8639 22.944 68.0659 22.848 67.2979 22.656C66.5419 22.452 65.9419 22.2 65.4979 21.9L66.4339 19.884C66.8779 20.16 67.3999 20.388 67.9999 20.568C68.6119 20.736 69.2119 20.82 69.7999 20.82C70.4479 20.82 70.9039 20.742 71.1679 20.586C71.4438 20.43 71.5818 20.214 71.5818 19.938C71.5818 19.71 71.4739 19.542 71.2579 19.434C71.0539 19.314 70.7779 19.224 70.4299 19.164C70.2651 19.1356 70.0923 19.1072 69.9115 19.0789C69.7103 19.0472 69.4991 19.0156 69.2779 18.984C68.8699 18.924 68.4559 18.846 68.0359 18.75C67.6158 18.642 67.2319 18.486 66.8839 18.282C66.5359 18.078 66.2538 17.802 66.0379 17.454C65.8339 17.106 65.7319 16.656 65.7319 16.104C65.7319 15.492 65.9059 14.952 66.2538 14.484C66.6139 14.016 67.1299 13.65 67.8019 13.386C68.4739 13.11 69.2779 12.972 70.2139 12.972C70.8739 12.972 71.5459 13.044 72.2299 13.188C72.9139 13.332 73.4839 13.542 73.9399 13.818L73.0038 15.816C72.5359 15.54 72.0619 15.354 71.5818 15.258C71.1139 15.15 70.6579 15.096 70.2139 15.096C69.5899 15.096 69.1339 15.18 68.8459 15.348C68.5579 15.516 68.4139 15.732 68.4139 15.996C68.4139 16.236 68.5159 16.416 68.7198 16.536C68.9359 16.656 69.2179 16.752 69.5659 16.824C69.9139 16.896 70.2919 16.962 70.6999 17.022C71.1199 17.07 71.5399 17.148 71.9599 17.256C72.3799 17.364 72.7579 17.52 73.0939 17.724C73.4419 17.916 73.7239 18.186 73.9399 18.534C74.1559 18.87 74.2639 19.314 74.2639 19.866C74.2639 20.466 74.0839 21 73.7239 21.468C73.3639 21.924 72.8419 22.284 72.1579 22.548C71.4859 22.812 70.6639 22.944 69.6919 22.944Z"}),f.jsx("path",{d:"M84.9344 13.44C84.3344 13.128 83.6504 12.972 82.8824 12.972C82.0544 12.972 81.3163 13.146 80.6684 13.494C80.3424 13.669 80.0544 13.8821 79.8044 14.133V9.444H76.9964V22.8H79.8044V18.012C79.8044 17.412 79.9004 16.92 80.0923 16.536C80.2964 16.152 80.5724 15.87 80.9203 15.69C81.2804 15.498 81.6824 15.402 82.1264 15.402C82.7504 15.402 83.2303 15.588 83.5663 15.96C83.9144 16.332 84.0884 16.908 84.0884 17.688V22.8H86.8964V17.256C86.8964 16.272 86.7224 15.468 86.3744 14.844C86.0264 14.208 85.5464 13.74 84.9344 13.44Z"}),f.jsx("path",{d:"M91.8457 11.766C91.3297 11.766 90.9097 11.616 90.5857 11.316C90.2617 11.016 90.0997 10.644 90.0997 10.2C90.0997 9.75601 90.2617 9.384 90.5857 9.08401C90.9097 8.784 91.3297 8.634 91.8457 8.634C92.3617 8.634 92.7817 8.77802 93.1057 9.06601C93.4297 9.34201 93.5917 9.702 93.5917 10.146C93.5917 10.614 93.4297 11.004 93.1057 11.316C92.7937 11.616 92.3737 11.766 91.8457 11.766Z"}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M100.438 22.404C101.05 22.764 101.764 22.944 102.58 22.944C103.492 22.944 104.308 22.74 105.028 22.332C105.76 21.924 106.336 21.348 106.756 20.604C107.188 19.86 107.404 18.978 107.404 17.958C107.404 16.95 107.188 16.074 106.756 15.33C106.336 14.586 105.76 14.01 105.028 13.602C104.308 13.182 103.492 12.972 102.58 12.972C101.728 12.972 100.996 13.152 100.384 13.512C100.062 13.7013 99.7799 13.942 99.5378 14.2342V13.116H96.8557V26.292H99.6638V21.7747C99.8927 22.0254 100.151 22.2352 100.438 22.404ZM103.336 20.316C102.976 20.532 102.562 20.64 102.094 20.64C101.626 20.64 101.206 20.532 100.834 20.316C100.462 20.1 100.168 19.794 99.9518 19.398C99.7357 18.99 99.6277 18.51 99.6277 17.958C99.6277 17.394 99.7357 16.914 99.9518 16.518C100.168 16.122 100.462 15.816 100.834 15.6C101.206 15.384 101.626 15.276 102.094 15.276C102.562 15.276 102.976 15.384 103.336 15.6C103.708 15.816 104.002 16.122 104.218 16.518C104.446 16.914 104.56 17.394 104.56 17.958C104.56 18.51 104.446 18.99 104.218 19.398C104.002 19.794 103.708 20.1 103.336 20.316Z"}),f.jsx("path",{d:"M90.4417 22.8V13.116H93.2497V22.8H90.4417Z"})]})}function Nj({type:t}){const{isAuth:e}=Ur();return f.jsxs(_h,{to:"/",style:{color:"var(--color--f1-0)"},children:[t==="short"&&f.jsx(ny,{}),t==="normal"&&f.jsx(P_,{}),!t&&(e?f.jsx(P_,{}):f.jsx(ny,{}))]})}const Oj="_Button_n3hsj_106",Lj="_tiny_n3hsj_121",Dj="_small_n3hsj_124",jj="_medium_n3hsj_130",Mj="_large_n3hsj_133",$j="_extra_n3hsj_136",Uj="_disabled_n3hsj_145",Fj="_label_n3hsj_160",Vj="_icon_n3hsj_187",zj="_secondary_n3hsj_211",Bj="_text_n3hsj_228",xr={Button:Oj,tiny:Lj,small:Dj,default:"_default_n3hsj_127",medium:jj,large:Mj,extra:$j,disabled:Uj,label:Fj,icon:Vj,secondary:zj,text:Bj},st=I.forwardRef(({size:t="default",type:e="primary",submit:n,children:r,className:i,...s},o)=>{const a=Array.isArray(r)?r==null?void 0:r.some(c=>typeof c=="string"):typeof r=="string",l=t&&xr[t],u=[e&&xr[e],!a&&xr.icon];return f.jsx("button",{type:n?"submit":"button",className:X.join(xr.Button,i,l,u),ref:o,...s,children:f.jsx("span",{className:X.join(xr.label,tn.button,l),children:r})})});st.displayName="Button";const Zv=I.forwardRef(({size:t="default",width:e,height:n,type:r="primary",blank:i,customStyle:s,children:o,className:a,style:l,...u},c)=>{const d=Array.isArray(o)?o==null?void 0:o.some(y=>typeof y=="string"):typeof o=="string",h=[t&&xr[t],r&&xr[r],!d&&xr.icon,xr.Button],p=i&&{target:"_blank",rel:"noreferrer noopener"},_=t==="custom"?{width:e,height:n}:{};return f.jsx("a",{className:X.join(a,!s&&h),ref:c,style:{...l,..._},...p,...u,children:f.jsx("span",{className:X.join(xr.label,tn.button),children:o})})});Zv.displayName="ButtonLink";function zI(){localStorage.clear(),window.location.reload()}function Qd(){return Date.now()}function Hj(){const t=new Date;return`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`}function oi(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function qj(t,e){return typeof t=="string"?t[0]:oi(t)&&e||Array.isArray(t)&&e&&typeof e=="number"?String(t[e])[0]:""}function Wj(t,e){const n=t[0];if(typeof n!="string"&&typeof n!="number"&&!oi(n)&&!Array.isArray(n))throw new Error("Invalid value");if((oi(n)||Array.isArray(n))&&!e)throw new Error("No key provided");if(Array.isArray(n)&&typeof e=="string")throw new Error("Key should be array index number");const r=new Map;return t.forEach(i=>{const s=qj(i,e||void 0);r.has(s)?r.set(s,[...r.get(s),i]):r.set(s,[i])}),Array.from(r.entries())}function mr(t){return Object.keys(t).length===0}function Kj(t,e){if(mr(t))throw new Error("Object is empty");return Object.values(t).includes(e)}function Tt(...t){return t.flat(1/0).filter(e=>e).join(" ").trim()}function Ac(t){return new Date(Number(t))}function Gj(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&typeof r!="number"&&!oi(r)&&!Array.isArray(r))throw new Error("Invalid value");if((oi(r)||Array.isArray(r))&&!e)throw new Error("No key provided");if(Array.isArray(r)&&typeof e=="string")throw new Error("Key should be array index number");let i=[];return(typeof r=="string"||typeof r=="number")&&(i=n.filter(s=>String(s).trim()!=="")),oi(r)&&e&&(i=n.filter(s=>String(s[e]).trim()!=="")),Array.isArray(r)&&e&&typeof e=="number"&&(i=n.filter(s=>String(s[e]).trim()!=="")),i}function BI(t,e,n=0,r=1/0){var o,a;const i=2+n;let s="Sorry, something went wrong ¯\\_(ツ)_/¯!";return t&&(typeof t=="string"&&(s=t),t instanceof Error&&(s=t.message)),e?console.error(`${e} >`,`${s}
`,(o=new Error().stack)==null?void 0:o.split(`
`).splice(i,r).join(`
`)):console.error(`${s}
`,(a=new Error().stack)==null?void 0:a.split(`
`).splice(i,r).join(`
`)),s}function Qj(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&typeof r!="number"&&!oi(r)&&!Array.isArray(r))throw new Error("Invalid value");if((oi(r)||Array.isArray(r))&&!e)throw new Error("No key provided");if(Array.isArray(r)&&typeof e=="string")throw new Error("Key should be array index number");let i=[];return(typeof r=="string"||typeof r=="number")&&(i=n.sort((s,o)=>{const a=String(s),l=String(o);return a.localeCompare(l)})),oi(r)&&e&&(i=n.sort((s,o)=>{const a=String(s[e]),l=String(o[e]);return a.localeCompare(l.toString())})),Array.isArray(r)&&e&&typeof e=="number"&&(i=n.sort((s,o)=>{const a=String(s[e]),l=String(o[e]);return a.localeCompare(l)})),i}function Yj(t,e,n="num"){const r=t.slice();return e&&r.sort((i,s)=>{if(n==="num"){if(+i[e]<+s[e])return-1;if(+i[e]>+s[e])return 1}else{if(i[e]<s[e])return-1;if(i[e]>s[e])return 1}return 0}),r}function N_(t){const e=t*1e3,n=new Date(e).toISOString().slice(11,19);return n.match(/^00/)?n.slice(3):n}const Xj="ameliance-scripts";async function Jj(t){if(t)try{return await navigator.clipboard.writeText(t),!0}catch(e){throw new Error(BI(e,Xj))}return!1}function Zj(){const[t,e]=I.useState();return I.useEffect(()=>{typeof t=="boolean"&&(t===!0&&!document.fullscreenElement?document.documentElement.requestFullscreen():document.exitFullscreen&&document.exitFullscreen())},[t]),e}function dr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function is(t){return!!t&&!!t[nt]}function pi(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===lM}(t)||Array.isArray(t)||!!t[U_]||!!(!((e=t.constructor)===null||e===void 0)&&e[U_])||e1(t)||t1(t))}function Ys(t,e,n){n===void 0&&(n=!1),Na(t)===0?(n?Object.keys:ea)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Na(t){var e=t[nt];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:e1(t)?2:t1(t)?3:0}function Zo(t,e){return Na(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function eM(t,e){return Na(t)===2?t.get(e):t[e]}function HI(t,e,n){var r=Na(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function qI(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function e1(t){return oM&&t instanceof Map}function t1(t){return aM&&t instanceof Set}function Cs(t){return t.o||t.t}function n1(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=KI(t);delete e[nt];for(var n=ea(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function r1(t,e){return e===void 0&&(e=!1),i1(t)||is(t)||!pi(t)||(Na(t)>1&&(t.set=t.add=t.clear=t.delete=tM),Object.freeze(t),e&&Ys(t,function(n,r){return r1(r,!0)},!0)),t}function tM(){dr(2)}function i1(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Or(t){var e=oy[t];return e||dr(18,t),e}function nM(t,e){oy[t]||(oy[t]=e)}function ry(){return pu}function Yp(t,e){e&&(Or("Patches"),t.u=[],t.s=[],t.v=e)}function Yd(t){iy(t),t.p.forEach(rM),t.p=null}function iy(t){t===pu&&(pu=t.l)}function O_(t){return pu={p:[],l:pu,h:t,m:!0,_:0}}function rM(t){var e=t[nt];e.i===0||e.i===1?e.j():e.g=!0}function Xp(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Or("ES5").S(e,t,r),r?(n[nt].P&&(Yd(e),dr(4)),pi(t)&&(t=Xd(e,t),e.l||Jd(e,t)),e.u&&Or("Patches").M(n[nt].t,t,e.u,e.s)):t=Xd(e,n,[]),Yd(e),e.u&&e.v(e.u,e.s),t!==WI?t:void 0}function Xd(t,e,n){if(i1(e))return e;var r=e[nt];if(!r)return Ys(e,function(a,l){return L_(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Jd(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=n1(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Ys(s,function(a,l){return L_(t,r,i,a,l,n,o)}),Jd(t,i,!1),n&&t.u&&Or("Patches").N(r,n,t.u,t.s)}return r.o}function L_(t,e,n,r,i,s,o){if(is(i)){var a=Xd(t,i,s&&e&&e.i!==3&&!Zo(e.R,r)?s.concat(r):void 0);if(HI(n,r,a),!is(a))return;t.m=!1}else o&&n.add(i);if(pi(i)&&!i1(i)){if(!t.h.D&&t._<1)return;Xd(t,i),e&&e.A.l||Jd(t,i)}}function Jd(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&r1(e,n)}function Jp(t,e){var n=t[nt];return(n?Cs(n):t)[e]}function D_(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Oi(t){t.P||(t.P=!0,t.l&&Oi(t.l))}function Zp(t){t.o||(t.o=n1(t.t))}function sy(t,e,n){var r=e1(e)?Or("MapSet").F(e,n):t1(e)?Or("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:ry(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=mu;o&&(l=[a],u=_l);var c=Proxy.revocable(l,u),d=c.revoke,h=c.proxy;return a.k=h,a.j=d,h}(e,n):Or("ES5").J(e,n);return(n?n.A:ry()).p.push(r),r}function iM(t){return is(t)||dr(22,t),function e(n){if(!pi(n))return n;var r,i=n[nt],s=Na(n);if(i){if(!i.P&&(i.i<4||!Or("ES5").K(i)))return i.t;i.I=!0,r=j_(n,s),i.I=!1}else r=j_(n,s);return Ys(r,function(o,a){i&&eM(i.t,o)===a||HI(r,o,e(a))}),s===3?new Set(r):r}(t)}function j_(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return n1(t)}function sM(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[nt];return mu.get(l,s)},set:function(l){var u=this[nt];mu.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][nt];if(!a.P)switch(a.i){case 5:r(a)&&Oi(a);break;case 4:n(a)&&Oi(a)}}}function n(s){for(var o=s.t,a=s.k,l=ea(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==nt){var d=o[c];if(d===void 0&&!Zo(o,c))return!0;var h=a[c],p=h&&h[nt];if(p?p.t!==d:!qI(h,d))return!0}}var _=!!o[nt];return l.length!==ea(o).length+(_?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};nM("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,d){if(c){for(var h=Array(d.length),p=0;p<d.length;p++)Object.defineProperty(h,""+p,t(p,!0));return h}var _=KI(d);delete _[nt];for(var y=ea(_),w=0;w<y.length;w++){var v=y[w];_[v]=t(v,c||!!_[v].enumerable)}return Object.create(Object.getPrototypeOf(d),_)}(a,s),u={i:a?5:4,A:o?o.A:ry(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,nt,{value:u,writable:!0}),l},S:function(s,o,a){a?is(o)&&o[nt].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[nt];if(c){var d=c.t,h=c.k,p=c.R,_=c.i;if(_===4)Ys(h,function(g){g!==nt&&(d[g]!==void 0||Zo(d,g)?p[g]||l(h[g]):(p[g]=!0,Oi(c)))}),Ys(d,function(g){h[g]!==void 0||Zo(h,g)||(p[g]=!1,Oi(c))});else if(_===5){if(r(c)&&(Oi(c),p.length=!0),h.length<d.length)for(var y=h.length;y<d.length;y++)p[y]=!1;else for(var w=d.length;w<h.length;w++)p[w]=!0;for(var v=Math.min(h.length,d.length),m=0;m<v;m++)h.hasOwnProperty(m)||(p[m]=!0),p[m]===void 0&&l(h[m])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var M_,pu,s1=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",oM=typeof Map<"u",aM=typeof Set<"u",$_=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",WI=s1?Symbol.for("immer-nothing"):((M_={})["immer-nothing"]=!0,M_),U_=s1?Symbol.for("immer-draftable"):"__$immer_draftable",nt=s1?Symbol.for("immer-state"):"__$immer_state",lM=""+Object.prototype.constructor,ea=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,KI=Object.getOwnPropertyDescriptors||function(t){var e={};return ea(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},oy={},mu={get:function(t,e){if(e===nt)return t;var n=Cs(t);if(!Zo(n,e))return function(i,s,o){var a,l=D_(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!pi(r)?r:r===Jp(t.t,e)?(Zp(t),t.o[e]=sy(t.A.h,r,t)):r},has:function(t,e){return e in Cs(t)},ownKeys:function(t){return Reflect.ownKeys(Cs(t))},set:function(t,e,n){var r=D_(Cs(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Jp(Cs(t),e),s=i==null?void 0:i[nt];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(qI(n,i)&&(n!==void 0||Zo(t.t,e)))return!0;Zp(t),Oi(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Jp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Zp(t),Oi(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Cs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){dr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){dr(12)}},_l={};Ys(mu,function(t,e){_l[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),_l.deleteProperty=function(t,e){return _l.set.call(this,t,e,void 0)},_l.set=function(t,e,n){return mu.set.call(this,t[0],e,n,t[0])};var uM=function(){function t(n){var r=this;this.O=$_,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(y){var w=this;y===void 0&&(y=a);for(var v=arguments.length,m=Array(v>1?v-1:0),g=1;g<v;g++)m[g-1]=arguments[g];return l.produce(y,function(E){var S;return(S=s).call.apply(S,[w,E].concat(m))})}}var u;if(typeof s!="function"&&dr(6),o!==void 0&&typeof o!="function"&&dr(7),pi(i)){var c=O_(r),d=sy(r,i,void 0),h=!0;try{u=s(d),h=!1}finally{h?Yd(c):iy(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(y){return Yp(c,o),Xp(y,c)},function(y){throw Yd(c),y}):(Yp(c,o),Xp(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===WI&&(u=void 0),r.D&&r1(u,!0),o){var p=[],_=[];Or("Patches").M(i,u,p,_),o(p,_)}return u}dr(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),h=1;h<c;h++)d[h-1]=arguments[h];return r.produceWithPatches(u,function(p){return i.apply(void 0,[p].concat(d))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){pi(n)||dr(8),is(n)&&(n=iM(n));var r=O_(this),i=sy(this,n,void 0);return i[nt].C=!0,iy(r),i},e.finishDraft=function(n,r){var i=n&&n[nt],s=i.A;return Yp(s,r),Xp(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!$_&&dr(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Or("Patches").$;return is(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),Mn=new uM,GI=Mn.produce;Mn.produceWithPatches.bind(Mn);Mn.setAutoFreeze.bind(Mn);Mn.setUseProxies.bind(Mn);Mn.applyPatches.bind(Mn);Mn.createDraft.bind(Mn);Mn.finishDraft.bind(Mn);function gu(t){return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function cM(t,e){if(gu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dM(t){var e=cM(t,"string");return gu(e)==="symbol"?e:String(e)}function fM(t,e,n){return e=dM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F_(Object(n),!0).forEach(function(r){fM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var z_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),em=function(){return Math.random().toString(36).substring(7).split("").join(".")},Zd={INIT:"@@redux/INIT"+em(),REPLACE:"@@redux/REPLACE"+em(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+em()}};function hM(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function o1(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Yt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Yt(1));return n(o1)(t,e)}if(typeof t!="function")throw new Error(Yt(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(Yt(3));return s}function d(y){if(typeof y!="function")throw new Error(Yt(4));if(l)throw new Error(Yt(5));var w=!0;return u(),a.push(y),function(){if(w){if(l)throw new Error(Yt(6));w=!1,u();var m=a.indexOf(y);a.splice(m,1),o=null}}}function h(y){if(!hM(y))throw new Error(Yt(7));if(typeof y.type>"u")throw new Error(Yt(8));if(l)throw new Error(Yt(9));try{l=!0,s=i(s,y)}finally{l=!1}for(var w=o=a,v=0;v<w.length;v++){var m=w[v];m()}return y}function p(y){if(typeof y!="function")throw new Error(Yt(10));i=y,h({type:Zd.REPLACE})}function _(){var y,w=d;return y={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(Yt(11));function g(){m.next&&m.next(c())}g();var E=w(g);return{unsubscribe:E}}},y[z_]=function(){return this},y}return h({type:Zd.INIT}),r={dispatch:h,subscribe:d,getState:c,replaceReducer:p},r[z_]=_,r}function pM(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Zd.INIT});if(typeof r>"u")throw new Error(Yt(12));if(typeof n(void 0,{type:Zd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Yt(13))})}function QI(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{pM(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,d={},h=0;h<s.length;h++){var p=s[h],_=n[p],y=l[p],w=_(y,u);if(typeof w>"u")throw u&&u.type,new Error(Yt(14));d[p]=w,c=c||w!==y}return c=c||s.length!==Object.keys(l).length,c?d:l}}function ef(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function mM(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Yt(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=ef.apply(void 0,a)(i.dispatch),V_(V_({},i),{},{dispatch:s})}}}function YI(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var XI=YI();XI.withExtraArgument=YI;const B_=XI;var JI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gM=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ma=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},yM=Object.defineProperty,vM=Object.defineProperties,wM=Object.getOwnPropertyDescriptors,H_=Object.getOwnPropertySymbols,_M=Object.prototype.hasOwnProperty,EM=Object.prototype.propertyIsEnumerable,q_=function(t,e,n){return e in t?yM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Yi=function(t,e){for(var n in e||(e={}))_M.call(e,n)&&q_(t,n,e[n]);if(H_)for(var r=0,i=H_(e);r<i.length;r++){var n=i[r];EM.call(e,n)&&q_(t,n,e[n])}return t},tm=function(t,e){return vM(t,wM(e))},SM=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},CM=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ef:ef.apply(null,arguments)};function TM(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var IM=function(t){JI(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,ma([void 0],n[0].concat(this)))):new(e.bind.apply(e,ma([void 0],n.concat(this))))},e}(Array),xM=function(t){JI(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,ma([void 0],n[0].concat(this)))):new(e.bind.apply(e,ma([void 0],n.concat(this))))},e}(Array);function ay(t){return pi(t)?GI(t,function(){}):t}function kM(t){return typeof t=="boolean"}function bM(){return function(e){return RM(e)}}function RM(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new IM;return n&&(kM(n)?r.push(B_):r.push(B_.withExtraArgument(n.extraArgument))),r}var AM=!0;function PM(t){var e=bM(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,h=d===void 0?void 0:d,p;if(typeof i=="function")p=i;else if(TM(i))p=QI(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var _=o;typeof _=="function"&&(_=_(e));var y=mM.apply(void 0,_),w=ef;l&&(w=CM(Yi({trace:!AM},typeof l=="object"&&l)));var v=new xM(y),m=v;Array.isArray(h)?m=ma([y],h):typeof h=="function"&&(m=h(v));var g=w.apply(void 0,m);return o1(p,c,g)}function Xi(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Yi(Yi({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function ZI(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function NM(t){return typeof t=="function"}function OM(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?ZI(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(NM(t))l=function(){return ay(t())};else{var u=ay(t);l=function(){return u}}function c(d,h){d===void 0&&(d=l());var p=ma([s[h.type]],o.filter(function(_){var y=_.matcher;return y(h)}).map(function(_){var y=_.reducer;return y}));return p.filter(function(_){return!!_}).length===0&&(p=[a]),p.reduce(function(_,y){if(y)if(is(_)){var w=_,v=y(w,h);return v===void 0?_:v}else{if(pi(_))return GI(_,function(m){return y(m,h)});var v=y(_,h);if(v===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}return _},d)}return c.getInitialState=l,c}function LM(t,e){return t+"/"+e}function Oa(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:ay(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var d=r[c],h=LM(e,c),p,_;"reducer"in d?(p=d.reducer,_=d.prepare):p=d,s[c]=p,o[h]=p,a[c]=_?Xi(h,_):Xi(h)});function l(){var c=typeof t.extraReducers=="function"?ZI(t.extraReducers):[t.extraReducers],d=c[0],h=d===void 0?{}:d,p=c[1],_=p===void 0?[]:p,y=c[2],w=y===void 0?void 0:y,v=Yi(Yi({},h),o);return OM(n,function(m){for(var g in v)m.addCase(g,v[g]);for(var E=0,S=_;E<S.length;E++){var C=S[E];m.addMatcher(C.matcher,C.reducer)}w&&m.addDefaultCase(w)})}var u;return{name:e,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var DM="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",jM=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=DM[Math.random()*64|0];return e},MM=["name","message","stack","code"],nm=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),W_=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),$M=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=MM;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}},Fr=function(){function t(e,n,r){var i=Xi(e+"/fulfilled",function(u,c,d,h){return{payload:u,meta:tm(Yi({},h||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),s=Xi(e+"/pending",function(u,c,d){return{payload:void 0,meta:tm(Yi({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=Xi(e+"/rejected",function(u,c,d,h,p){return{payload:h,error:(r&&r.serializeError||$M)(u||"Rejected"),meta:tm(Yi({},p||{}),{arg:d,requestId:c,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,h){var p=r!=null&&r.idGenerator?r.idGenerator(u):jM(),_=new a,y;function w(m){y=m,_.abort()}var v=function(){return SM(this,null,function(){var m,g,E,S,C,x,R;return gM(this,function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),S=(m=r==null?void 0:r.condition)==null?void 0:m.call(r,u,{getState:d,extra:h}),FM(S)?[4,S]:[3,2];case 1:S=b.sent(),b.label=2;case 2:if(S===!1||_.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return C=new Promise(function(O,q){return _.signal.addEventListener("abort",function(){return q({name:"AbortError",message:y||"Aborted"})})}),c(s(p,u,(g=r==null?void 0:r.getPendingMeta)==null?void 0:g.call(r,{requestId:p,arg:u},{getState:d,extra:h}))),[4,Promise.race([C,Promise.resolve(n(u,{dispatch:c,getState:d,extra:h,requestId:p,signal:_.signal,abort:w,rejectWithValue:function(O,q){return new nm(O,q)},fulfillWithValue:function(O,q){return new W_(O,q)}})).then(function(O){if(O instanceof nm)throw O;return O instanceof W_?i(O.payload,p,u,O.meta):i(O,p,u)})])];case 3:return E=b.sent(),[3,5];case 4:return x=b.sent(),E=x instanceof nm?o(null,p,u,x.payload,x.meta):o(x,p,u),[3,5];case 5:return R=r&&!r.dispatchConditionRejection&&o.match(E)&&E.meta.condition,R||c(E),[2,E]}})})}();return Object.assign(v,{abort:w,requestId:p,arg:u,unwrap:function(){return v.then(UM)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t}();function UM(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function FM(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var a1="listenerMiddleware";Xi(a1+"/add");Xi(a1+"/removeAll");Xi(a1+"/remove");var K_;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);sM();const l1={version:"2023-03-28_15-54",name:"amelianceworship"},VM={theme:"dark",version:l1.version},ex=Oa({name:"app",initialState:VM,reducers:{setTheme(t,e){t.theme=e.payload},toggleTheme(t){t.theme=t.theme==="light"?"dark":"light"}}}),un=RO;function le(t){return BI(t,l1.name,1)}const zM="AKfycbxGD1Lys79Ixt4BQ5mfH3ylX4_ZvtSGUFHltMILILPBWtcdPoSlI3FD5Ir8OcwtBA",tx=`https://script.google.com/macros/s/${zM}/exec`;async function lo({spreadsheetId:t,sheetName:e,sheetIndex:n,columnTitles:r,columnIndexes:i,type:s}){const o=new URLSearchParams;t&&o.append("spreadsheetId",t),e&&o.append("sheetName",e),n&&o.append("sheetIndex",n.toString()),r&&o.append("columnTitles",JSON.stringify(r)),i&&o.append("columnIndexes",JSON.stringify(i)),s&&o.append("type",s);try{const l=await(await fetch(`${tx}?${o}`)).text(),u=await JSON.parse(l);if(u.status!=="success")throw new Error(u.error);return u}catch(a){throw new Error(le(a))}}async function BM({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await lo({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"TITLED"})}catch(r){throw new Error(le(r))}}async function HM({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await lo({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"TITLED_SINGLE"})}catch(r){throw new Error(le(r))}}async function qM({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r}){try{return await lo({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r,type:"TITLED"})}catch(i){throw new Error(le(i))}}async function WM({spreadsheetId:t,sheetIndex:e,sheetName:n,columnTitles:r}){try{return await lo({spreadsheetId:t,sheetIndex:e,sheetName:n,columnTitles:r,type:"TITLED"})}catch(i){throw new Error(le(i))}}async function KM({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await lo({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"UNTITLED"})}catch(r){throw new Error(le(r))}}async function GM({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await lo({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"UNTITLED_SINGLE"})}catch(r){throw new Error(le(r))}}async function QM({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r}){try{return lo({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r,type:"UNTITLED"})}catch(i){throw new Error(le(i))}}async function Si({spreadsheetId:t,sheetName:e,sheetIndex:n,titlesParams:r,indexesParams:i,type:s,col:o,row:a,value:l}){const u=new URLSearchParams;t&&u.append("spreadsheetId",t),e&&u.append("sheetName",e),n&&u.append("sheetIndex",n.toString()),r&&u.append("titlesParams",JSON.stringify(r)),i&&u.append("indexesParams",JSON.stringify(i)),s&&u.append("type",s),o&&u.append("col",o.toString()),a&&u.append("row",a.toString()),l&&u.append("value",l.toString());try{const d=await(await fetch(`${tx}?${u}`,{method:"POST"})).text(),h=await JSON.parse(d);if(h.status!=="success")throw new Error(h.error);return h}catch(c){throw new Error(le(c))}}async function YM({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await Si({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"TITLED_SINGLE"})}catch(i){throw new Error(le(i))}}async function XM({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){try{return await Si({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED_SINGLE"})}catch(i){throw new Error(le(i))}}async function JM({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await Si({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"TITLED"})}catch(i){throw new Error(le(i))}}async function ZM({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){try{return await Si({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED"})}catch(i){throw new Error(le(i))}}async function e$({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s}){try{return await Si({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s,type:"TITLED_UPDATE"})}catch(o){throw new Error(le(o))}}async function t$({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await Si({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED_ONE_ROW"})}catch(i){throw new Error(le(i))}}async function n$({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await Si({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED_SINGLE"})}catch(i){throw new Error(le(i))}}async function r$({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await Si({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED"})}catch(i){throw new Error(le(i))}}async function i$({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s}){try{return await Si({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s,type:"UNTITLED_UPDATE"})}catch(o){throw new Error(le(o))}}const s$={getAllTitledColumnsData:BM,getTitledColumnsDataByIndexes:qM,getTitledColumnsDataByTitles:WM,getAllUntitledColumnsData:KM,getUntitledColumnsDataByIndexes:QM,postTitledColumnsDataByIndexes:JM,postSingleTitledColumnsDataByIndexes:YM,postSingleTitledColumnsDataByTitles:XM,postTitledColumnsDataByTitles:ZM,postAllUntitledParamsAsOneRow:t$,postSingleUntitledColumnsDataByIndexes:n$,postUntitledColumnsDataByIndexes:r$,postTitledUpdate:e$,postUntitledUpdate:i$,getAllTitledColumnsDataSingle:HM,getAllUntitledColumnsDataSingle:GM};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},o$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},rx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):o$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new a$;const h=s<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class a$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l$=function(t){const e=nx(t);return rx.encodeByteArray(e,!0)},tf=function(t){return l$(t).replace(/\./g,"")},ix=function(t){try{return rx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$=()=>u$().__FIREBASE_DEFAULTS__,d$=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},f$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ix(t[1]);return e&&JSON.parse(e)},Eh=()=>{try{return c$()||d$()||f$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sx=t=>{var e,n;return(n=(e=Eh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ox=t=>{const e=sx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},h$=()=>{var t;return(t=Eh())===null||t===void 0?void 0:t.config},ax=t=>{var e;return(e=Eh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[tf(JSON.stringify(n)),tf(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function g$(){var t;const e=(t=Eh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ux(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function y$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v$(){const t=an();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cx(){try{return typeof indexedDB=="object"}catch{return!1}}function dx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function w$(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$="FirebaseError";class er extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_$,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uo.prototype.create)}}class uo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?E$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new er(i,a,r)}}function E$(t,e){return t.replace(S$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const S$=/\{\$([^}]+)}/g;function C$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(G_(s)&&G_(o)){if(!yu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function G_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function El(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Sl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function T$(t,e){const n=new I$(t,e);return n.subscribe.bind(n)}class I${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");x$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=rm),i.error===void 0&&(i.error=rm),i.complete===void 0&&(i.complete=rm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function x$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$=1e3,b$=2,R$=4*60*60*1e3,A$=.5;function Q_(t,e=k$,n=b$){const r=e*Math.pow(n,t),i=Math.round(A$*r*(Math.random()-.5)*2);return Math.min(R$,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t){return t&&t._delegate?t._delegate:t}class Yn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new p$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(O$(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:N$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function N$(t){return t===Ts?void 0:t}function O$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new P$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const D$={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},j$=je.INFO,M$={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},$$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=M$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sh{constructor(e){this.name=e,this._logLevel=j$,this._logHandler=$$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?D$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const U$=(t,e)=>e.some(n=>t instanceof n);let Y_,X_;function F$(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V$(){return X_||(X_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fx=new WeakMap,ly=new WeakMap,hx=new WeakMap,im=new WeakMap,u1=new WeakMap;function z$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ji(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fx.set(n,t)}).catch(()=>{}),u1.set(e,t),e}function B$(t){if(ly.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ly.set(t,e)}let uy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ly.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function H$(t){uy=t(uy)}function q$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sm(this),e,...n);return hx.set(r,e.sort?e.sort():[e]),Ji(r)}:V$().includes(t)?function(...e){return t.apply(sm(this),e),Ji(fx.get(this))}:function(...e){return Ji(t.apply(sm(this),e))}}function W$(t){return typeof t=="function"?q$(t):(t instanceof IDBTransaction&&B$(t),U$(t,F$())?new Proxy(t,uy):t)}function Ji(t){if(t instanceof IDBRequest)return z$(t);if(im.has(t))return im.get(t);const e=W$(t);return e!==t&&(im.set(t,e),u1.set(e,t)),e}const sm=t=>u1.get(t);function px(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ji(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ji(o.result),l.oldVersion,l.newVersion,Ji(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const K$=["get","getKey","getAll","getAllKeys","count"],G$=["put","add","delete","clear"],om=new Map;function J_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(om.get(e))return om.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=G$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||K$.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return om.set(e,s),s}H$(t=>({...t,get:(e,n,r)=>J_(e,n)||t.get(e,n,r),has:(e,n)=>!!J_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Y$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Y$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cy="@firebase/app",Z_="0.9.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new Sh("@firebase/app"),X$="@firebase/app-compat",J$="@firebase/analytics-compat",Z$="@firebase/analytics",e4="@firebase/app-check-compat",t4="@firebase/app-check",n4="@firebase/auth",r4="@firebase/auth-compat",i4="@firebase/database",s4="@firebase/database-compat",o4="@firebase/functions",a4="@firebase/functions-compat",l4="@firebase/installations",u4="@firebase/installations-compat",c4="@firebase/messaging",d4="@firebase/messaging-compat",f4="@firebase/performance",h4="@firebase/performance-compat",p4="@firebase/remote-config",m4="@firebase/remote-config-compat",g4="@firebase/storage",y4="@firebase/storage-compat",v4="@firebase/firestore",w4="@firebase/firestore-compat",_4="firebase",E4="9.20.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="[DEFAULT]",S4={[cy]:"fire-core",[X$]:"fire-core-compat",[Z$]:"fire-analytics",[J$]:"fire-analytics-compat",[t4]:"fire-app-check",[e4]:"fire-app-check-compat",[n4]:"fire-auth",[r4]:"fire-auth-compat",[i4]:"fire-rtdb",[s4]:"fire-rtdb-compat",[o4]:"fire-fn",[a4]:"fire-fn-compat",[l4]:"fire-iid",[u4]:"fire-iid-compat",[c4]:"fire-fcm",[d4]:"fire-fcm-compat",[f4]:"fire-perf",[h4]:"fire-perf-compat",[p4]:"fire-rc",[m4]:"fire-rc-compat",[g4]:"fire-gcs",[y4]:"fire-gcs-compat",[v4]:"fire-fst",[w4]:"fire-fst-compat","fire-js":"fire-js",[_4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=new Map,fy=new Map;function C4(t,e){try{t.container.addComponent(e)}catch(n){Xs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wr(t){const e=t.name;if(fy.has(e))return Xs.debug(`There were multiple attempts to register component ${e}.`),!1;fy.set(e,t);for(const n of nf.values())C4(n,t);return!0}function ps(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Zi=new uo("app","Firebase",T4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=E4;function mx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:dy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Zi.create("bad-app-name",{appName:String(i)});if(n||(n=h$()),!n)throw Zi.create("no-options");const s=nf.get(i);if(s){if(yu(n,s.options)&&yu(r,s.config))return s;throw Zi.create("duplicate-app",{appName:i})}const o=new L$(i);for(const l of fy.values())o.addComponent(l);const a=new I4(n,r,o);return nf.set(i,a),a}function Ch(t=dy){const e=nf.get(t);if(!e&&t===dy)return mx();if(!e)throw Zi.create("no-app",{appName:t});return e}function xn(t,e,n){var r;let i=(r=S4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xs.warn(a.join(" "));return}wr(new Yn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="firebase-heartbeat-database",k4=1,vu="firebase-heartbeat-store";let am=null;function gx(){return am||(am=px(x4,k4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(vu)}}}).catch(t=>{throw Zi.create("idb-open",{originalErrorMessage:t.message})})),am}async function b4(t){try{return(await gx()).transaction(vu).objectStore(vu).get(yx(t))}catch(e){if(e instanceof er)Xs.warn(e.message);else{const n=Zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xs.warn(n.message)}}}async function eE(t,e){try{const r=(await gx()).transaction(vu,"readwrite");return await r.objectStore(vu).put(e,yx(t)),r.done}catch(n){if(n instanceof er)Xs.warn(n.message);else{const r=Zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xs.warn(r.message)}}}function yx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=1024,A4=30*24*60*60*1e3;class P4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=tE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=A4}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=tE(),{heartbeatsToSend:n,unsentEntries:r}=N4(this._heartbeatsCache.heartbeats),i=tf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function tE(){return new Date().toISOString().substring(0,10)}function N4(t,e=R4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),nE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class O4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cx()?dx().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await b4(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return eE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return eE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function nE(t){return tf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t){wr(new Yn("platform-logger",e=>new Q$(e),"PRIVATE")),wr(new Yn("heartbeat",e=>new P4(e),"PRIVATE")),xn(cy,Z_,t),xn(cy,Z_,"esm2017"),xn("fire-js","")}L4("");function c1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vx(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const D4=vx,wx=new uo("auth","Firebase",vx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf=new Sh("@firebase/auth");function j4(t,...e){rf.logLevel<=je.WARN&&rf.warn(`Auth (${co}): ${t}`,...e)}function od(t,...e){rf.logLevel<=je.ERROR&&rf.error(`Auth (${co}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t,...e){throw d1(t,...e)}function Lr(t,...e){return d1(t,...e)}function _x(t,e,n){const r=Object.assign(Object.assign({},D4()),{[e]:n});return new uo("auth","Firebase",r).create(e,{appName:t.name})}function M4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Xn(t,"argument-error"),_x(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function d1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wx.create(t,...e)}function ce(t,e,...n){if(!t)throw d1(e,...n)}function ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw od(e),new Error(e)}function mi(t,e){t||ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $4(){return rE()==="http:"||rE()==="https:"}function rE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($4()||ux()||"connection"in navigator)?navigator.onLine:!0}function F4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,mi(n>e,"Short delay should be less than long delay!"),this.isMobile=m$()||y$()}get(){return U4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t,e){mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=new Vu(3e4,6e4);function La(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fo(t,e,n,r,i={}){return Sx(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Fu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Ex.fetch()(Cx(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function Sx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},V4),e);try{const i=new B4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Pc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Pc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Pc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw _x(t,c,u);Xn(t,c)}}catch(i){if(i instanceof er)throw i;Xn(t,"network-request-failed",{message:String(i)})}}async function zu(t,e,n,r,i={}){const s=await fo(t,e,n,r,i);return"mfaPendingCredential"in s&&Xn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Cx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?f1(t.config,i):`${t.config.apiScheme}://${i}`}class B4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lr(this.auth,"network-request-failed")),z4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Lr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H4(t,e){return fo(t,"POST","/v1/accounts:delete",e)}async function q4(t,e){return fo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function W4(t,e=!1){const n=Ge(t),r=await n.getIdToken(e),i=h1(r);ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:$l(lm(i.auth_time)),issuedAtTime:$l(lm(i.iat)),expirationTime:$l(lm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function lm(t){return Number(t)*1e3}function h1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return od("JWT malformed, contained fewer than 3 sections"),null;try{const i=ix(n);return i?JSON.parse(i):(od("Failed to decode base64 JWT payload"),null)}catch(i){return od("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function K4(t){const e=h1(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof er&&G4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function G4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ga(t,q4(n,{idToken:r}));ce(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?J4(s.providerUserInfo):[],a=X4(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Tx(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function Y4(t){const e=Ge(t);await sf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function X4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function J4(t){return t.map(e=>{var{providerId:n}=e,r=c1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z4(t,e){const n=await Sx(t,{},async()=>{const r=Fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Cx(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ex.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ce(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Z4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new wu;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ce(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wu,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Us{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=c1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Q4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Tx(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ga(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return W4(this,e)}reload(){return Y4(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Us(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ga(this,H4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:g,emailVerified:E,isAnonymous:S,providerData:C,stsTokenManager:x}=n;ce(g&&x,e,"internal-error");const R=wu.fromJSON(this.name,x);ce(typeof g=="string",e,"internal-error"),ki(d,e.name),ki(h,e.name),ce(typeof E=="boolean",e,"internal-error"),ce(typeof S=="boolean",e,"internal-error"),ki(p,e.name),ki(_,e.name),ki(y,e.name),ki(w,e.name),ki(v,e.name),ki(m,e.name);const b=new Us({uid:g,auth:e,email:h,emailVerified:E,displayName:d,isAnonymous:S,photoURL:_,phoneNumber:p,tenantId:y,stsTokenManager:R,createdAt:v,lastLoginAt:m});return C&&Array.isArray(C)&&(b.providerData=C.map(O=>Object.assign({},O))),w&&(b._redirectEventId=w),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new wu;i.updateFromServerResponse(n);const s=new Us({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sf(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=new Map;function ti(t){mi(t instanceof Function,"Expected a class definition");let e=iE.get(t);return e?(mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ix.type="NONE";const sE=Ix;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(t,e,n){return`firebase:${t}:${e}:${n}`}class ta{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ad(this.userKey,i.apiKey,s),this.fullPersistenceKey=ad("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Us._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ta(ti(sE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||ti(sE);const o=ad(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Us._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ta(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ta(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ax(e))return"Blackberry";if(Px(e))return"Webos";if(p1(e))return"Safari";if((e.includes("chrome/")||kx(e))&&!e.includes("edge/"))return"Chrome";if(Rx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xx(t=an()){return/firefox\//i.test(t)}function p1(t=an()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kx(t=an()){return/crios\//i.test(t)}function bx(t=an()){return/iemobile/i.test(t)}function Rx(t=an()){return/android/i.test(t)}function Ax(t=an()){return/blackberry/i.test(t)}function Px(t=an()){return/webos/i.test(t)}function Th(t=an()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function e3(t=an()){var e;return Th(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function t3(){return v$()&&document.documentMode===10}function Nx(t=an()){return Th(t)||Rx(t)||Px(t)||Ax(t)||/windows phone/i.test(t)||bx(t)}function n3(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t,e=[]){let n;switch(t){case"Browser":n=oE(an());break;case"Worker":n=`${oE(an())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${co}/${r}`}async function Lx(t,e){return fo(t,"GET","/v2/recaptchaConfig",La(t,e))}function aE(t){return t!==void 0&&t.enterprise!==void 0}class Dx{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function jx(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Lr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",r3().appendChild(r)})}function i3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const s3="https://www.google.com/recaptcha/enterprise.js?render=",o3="recaptcha-enterprise";class Mx{constructor(e){this.type=o3,this.auth=ho(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Lx(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new Dx(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;aE(l)?l.enterprise.ready(()=>{try{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(u=>{a(u)})}catch(u){a(u)}}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&aE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}jx(s3+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function of(t,e,n,r=!1){const i=new Mx(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new a3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ti(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ta.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=F4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ge(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}async initializeRecaptchaConfig(){const e=await Lx(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new Dx(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Mx(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new uo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ti(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await ta.create(this,[ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ox(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&j4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ho(t){return Ge(t)}class lE{constructor(e){this.auth=e,this.observer=null,this.addObserver=T$(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t,e){const n=ps(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(yu(s,e??{}))return i;Xn(i,"already-initialized")}return n.initialize({options:e})}function c3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ti);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function d3(t,e,n){const r=ho(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=$x(e),{host:o,port:a}=f3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||h3()}function $x(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function f3(t){const e=$x(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:uE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:uE(o)}}}function uE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function h3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,n){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}async function p3(t,e){return fo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function um(t,e){return zu(t,"POST","/v1/accounts:signInWithPassword",La(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(t,e){return zu(t,"POST","/v1/accounts:signInWithEmailLink",La(t,e))}async function g3(t,e){return zu(t,"POST","/v1/accounts:signInWithEmailLink",La(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends m1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new _u(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new _u(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await of(e,r,"signInWithPassword");return um(e,i)}else return um(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await of(e,r,"signInWithPassword");return um(e,s)}else return Promise.reject(i)});case"emailLink":return m3(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return p3(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return g3(e,{idToken:n,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(t,e){return zu(t,"POST","/v1/accounts:signInWithIdp",La(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="http://localhost";class Js extends m1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=c1(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Js(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return na(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,na(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,na(e,n)}buildRequest(){const e={requestUri:y3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function w3(t){const e=El(Sl(t)).link,n=e?El(Sl(e)).deep_link_id:null,r=El(Sl(t)).deep_link_id;return(r?El(Sl(r)).link:null)||r||n||e||t}class g1{constructor(e){var n,r,i,s,o,a;const l=El(Sl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=v3((i=l.mode)!==null&&i!==void 0?i:null);ce(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=w3(e);try{return new g1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.providerId=Da.PROVIDER_ID}static credential(e,n){return _u._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=g1.parseLink(n);return ce(r,"argument-error"),_u._fromEmailAndCode(e,r.code,r.tenantId)}}Da.PROVIDER_ID="password";Da.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Da.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends y1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Bu{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Js._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yr.credential(n,r)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Bu{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.GITHUB_SIGN_IN_METHOD="github.com";Di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Bu{constructor(){super("twitter.com")}static credential(e,n){return Js._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ji.credential(n,r)}catch{return null}}}ji.TWITTER_SIGN_IN_METHOD="twitter.com";ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cm(t,e){return zu(t,"POST","/v1/accounts:signUp",La(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Us._fromIdTokenResponse(e,r,i),o=cE(r);return new Zs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=cE(r);return new Zs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function cE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends er{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,af.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new af(e,n,r,i)}}function Ux(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?af._fromErrorAndOperation(t,s,e,r):s})}async function _3(t,e,n=!1){const r=await ga(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E3(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await ga(t,Ux(r,i,e,t),n);ce(s.idToken,r,"internal-error");const o=h1(s.idToken);ce(o,r,"internal-error");const{sub:a}=o;return ce(t.uid===a,r,"user-mismatch"),Zs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Xn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(t,e,n=!1){const r="signIn",i=await Ux(t,r,e),s=await Zs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function S3(t,e){return Fx(ho(t),e)}async function C3(t,e,n){var r;const i=ho(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await of(i,s,"signUpPassword");o=cm(i,u)}else o=cm(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await of(i,s,"signUpPassword");return cm(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await Zs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function T3(t,e,n){return S3(Ge(t),Da.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I3(t,e){return fo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x3(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ge(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ga(r,I3(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function k3(t,e,n,r){return Ge(t).onIdTokenChanged(e,n,r)}function b3(t,e,n){return Ge(t).beforeAuthStateChanged(e,n)}function R3(t,e,n,r){return Ge(t).onAuthStateChanged(e,n,r)}function A3(t){return Ge(t).signOut()}const lf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lf,"1"),this.storage.removeItem(lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(){const t=an();return p1(t)||Th(t)}const N3=1e3,O3=10;class zx extends Vx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=P3()&&n3(),this.fallbackToPolling=Nx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);t3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,O3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},N3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zx.type="LOCAL";const L3=zx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx extends Vx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Bx.type="SESSION";const Hx=Bx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ih(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await D3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=v1("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function M3(t){Dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function $3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function F3(){return qx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="firebaseLocalStorageDb",V3=1,uf="firebaseLocalStorage",Kx="fbase_key";class Hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xh(t,e){return t.transaction([uf],e?"readwrite":"readonly").objectStore(uf)}function z3(){const t=indexedDB.deleteDatabase(Wx);return new Hu(t).toPromise()}function py(){const t=indexedDB.open(Wx,V3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(uf,{keyPath:Kx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(uf)?e(r):(r.close(),await z3(),e(await py()))})})}async function dE(t,e,n){const r=xh(t,!0).put({[Kx]:e,value:n});return new Hu(r).toPromise()}async function B3(t,e){const n=xh(t,!1).get(e),r=await new Hu(n).toPromise();return r===void 0?null:r.value}function fE(t,e){const n=xh(t,!0).delete(e);return new Hu(n).toPromise()}const H3=800,q3=3;class Gx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await py(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>q3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance(F3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $3(),!this.activeServiceWorker)return;this.sender=new j3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await py();return await dE(e,lf,"1"),await fE(e,lf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>dE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>B3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=xh(i,!1).getAll();return new Hu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),H3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Gx.type="LOCAL";const W3=Gx;new Vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(t,e){return e?ti(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1 extends m1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return na(e,this._buildIdpRequest())}_linkToIdToken(e,n){return na(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return na(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function K3(t){return Fx(t.auth,new w1(t),t.bypassAuthState)}function G3(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),E3(n,new w1(t),t.bypassAuthState)}async function Q3(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),_3(n,new w1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K3;case"linkViaPopup":case"linkViaRedirect":return Q3;case"reauthViaPopup":case"reauthViaRedirect":return G3;default:Xn(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=new Vu(2e3,1e4);async function X3(t,e,n){const r=ho(t);M4(t,e,y1);const i=Qx(r,n);return new As(r,"signInViaPopup",e,i).executeNotNull()}class As extends Yx{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,As.currentPopupAction&&As.currentPopupAction.cancel(),As.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=v1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,As.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,Y3.get())};e()}}As.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3="pendingRedirect",ld=new Map;class Z3 extends Yx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ld.get(this.auth._key());if(!e){try{const r=await e6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ld.set(this.auth._key(),e)}return this.bypassAuthState||ld.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function e6(t,e){const n=r6(e),r=n6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function t6(t,e){ld.set(t._key(),e)}function n6(t){return ti(t._redirectPersistence)}function r6(t){return ad(J3,t.config.apiKey,t.name)}async function i6(t,e,n=!1){const r=ho(t),i=Qx(r,e),o=await new Z3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=10*60*1e3;class o6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Xx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Lr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s6&&this.cachedEventUids.clear(),this.cachedEventUids.has(hE(e))}saveEventToCache(e){this.cachedEventUids.add(hE(e)),this.lastProcessedEventTime=Date.now()}}function hE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Xx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function a6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(t,e={}){return fo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c6=/^https?/;async function d6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await l6(t);for(const n of e)try{if(f6(n))return}catch{}Xn(t,"unauthorized-domain")}function f6(t){const e=hy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!c6.test(n))return!1;if(u6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=new Vu(3e4,6e4);function pE(){const t=Dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function p6(t){return new Promise((e,n)=>{var r,i,s;function o(){pE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pE(),n(Lr(t,"network-request-failed"))},timeout:h6.get()})}if(!((i=(r=Dr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Dr().gapi)===null||s===void 0)&&s.load)o();else{const a=i3("iframefcb");return Dr()[a]=()=>{gapi.load?o():n(Lr(t,"network-request-failed"))},jx(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ud=null,e})}let ud=null;function m6(t){return ud=ud||p6(t),ud}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=new Vu(5e3,15e3),y6="__/auth/iframe",v6="emulator/auth/iframe",w6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E6(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?f1(e,v6):`https://${t.config.authDomain}/${y6}`,r={apiKey:e.apiKey,appName:t.name,v:co},i=_6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Fu(r).slice(1)}`}async function S6(t){const e=await m6(t),n=Dr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:E6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Lr(t,"network-request-failed"),a=Dr().setTimeout(()=>{s(o)},g6.get());function l(){Dr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T6=500,I6=600,x6="_blank",k6="http://localhost";class mE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b6(t,e,n,r=T6,i=I6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},C6),{width:r.toString(),height:i.toString(),top:s,left:o}),u=an().toLowerCase();n&&(a=kx(u)?x6:n),xx(u)&&(e=e||k6,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,_])=>`${h}${p}=${_},`,"");if(e3(u)&&a!=="_self")return R6(e||"",a),new mE(null);const d=window.open(e||"",a,c);ce(d,t,"popup-blocked");try{d.focus()}catch{}return new mE(d)}function R6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="__/auth/handler",P6="emulator/auth/handler",N6=encodeURIComponent("fac");async function gE(t,e,n,r,i,s){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:co,eventId:i};if(e instanceof y1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",C$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Bu){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${N6}=${encodeURIComponent(l)}`:"";return`${O6(t)}?${Fu(a).slice(1)}${u}`}function O6({config:t}){return t.emulator?f1(t,P6):`https://${t.authDomain}/${A6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="webStorageSupport";class L6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hx,this._completeRedirectFn=i6,this._overrideRedirectResult=t6}async _openPopup(e,n,r,i){var s;mi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await gE(e,n,r,hy(),i);return b6(e,o,v1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await gE(e,n,r,hy(),i);return M3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(mi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await S6(e),r=new o6(e);return n.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dm,{type:dm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[dm];o!==void 0&&n(!!o),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=d6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Nx()||p1()||Th()}}const D6=L6;var yE="@firebase/auth",vE="0.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function $6(t){wr(new Yn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name}),ce(!(a!=null&&a.includes(":")),"argument-error",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ox(t)},u=new l3(r,i,s,l);return c3(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wr(new Yn("auth-internal",e=>{const n=ho(e.getProvider("auth").getImmediate());return(r=>new j6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xn(yE,vE,M6(t)),xn(yE,vE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6=5*60,F6=ax("authIdTokenMaxAge")||U6;let wE=null;const V6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>F6)return;const i=n==null?void 0:n.token;wE!==i&&(wE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function z6(t=Ch()){const e=ps(t,"auth");if(e.isInitialized())return e.getImmediate();const n=u3(t,{popupRedirectResolver:D6,persistence:[W3,L3,Hx]}),r=ax("authTokenSyncURL");if(r){const s=V6(r);b3(n,s,()=>s(n.currentUser)),k3(n,o=>s(o))}const i=sx("auth");return i&&d3(n,`http://${i}`),n}$6("Browser");const Jx="@firebase/installations",_1="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=1e4,ek=`w:${_1}`,tk="FIS_v2",B6="https://firebaseinstallations.googleapis.com/v1",H6=60*60*1e3,q6="installations",W6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},eo=new uo(q6,W6,K6);function nk(t){return t instanceof er&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk({projectId:t}){return`${B6}/projects/${t}/installations`}function ik(t){return{token:t.token,requestStatus:2,expiresIn:Q6(t.expiresIn),creationTime:Date.now()}}async function sk(t,e){const r=(await e.json()).error;return eo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function ok({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function G6(t,{refreshToken:e}){const n=ok(t);return n.append("Authorization",Y6(e)),n}async function ak(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Q6(t){return Number(t.replace("s","000"))}function Y6(t){return`${tk} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X6({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=rk(t),i=ok(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:tk,appId:t.appId,sdkVersion:ek},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await ak(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:ik(u.authToken)}}else throw await sk("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=/^[cdef][\w-]{21}$/,my="";function eU(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=tU(t);return Z6.test(n)?n:my}catch{return my}}function tU(t){return J6(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=new Map;function ck(t,e){const n=kh(t);dk(n,e),nU(n,e)}function dk(t,e){const n=uk.get(t);if(n)for(const r of n)r(e)}function nU(t,e){const n=rU();n&&n.postMessage({key:t,fid:e}),iU()}let Ps=null;function rU(){return!Ps&&"BroadcastChannel"in self&&(Ps=new BroadcastChannel("[Firebase] FID Change"),Ps.onmessage=t=>{dk(t.data.key,t.data.fid)}),Ps}function iU(){uk.size===0&&Ps&&(Ps.close(),Ps=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU="firebase-installations-database",oU=1,to="firebase-installations-store";let fm=null;function E1(){return fm||(fm=px(sU,oU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(to)}}})),fm}async function cf(t,e){const n=kh(t),i=(await E1()).transaction(to,"readwrite"),s=i.objectStore(to),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&ck(t,e.fid),e}async function fk(t){const e=kh(t),r=(await E1()).transaction(to,"readwrite");await r.objectStore(to).delete(e),await r.done}async function bh(t,e){const n=kh(t),i=(await E1()).transaction(to,"readwrite"),s=i.objectStore(to),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&ck(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S1(t){let e;const n=await bh(t.appConfig,r=>{const i=aU(r),s=lU(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===my?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function aU(t){const e=t||{fid:eU(),registrationStatus:0};return hk(e)}function lU(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(eo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=uU(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:cU(t)}:{installationEntry:e}}async function uU(t,e){try{const n=await X6(t,e);return cf(t.appConfig,n)}catch(n){throw nk(n)&&n.customData.serverCode===409?await fk(t.appConfig):await cf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function cU(t){let e=await _E(t.appConfig);for(;e.registrationStatus===1;)await lk(100),e=await _E(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await S1(t);return r||n}return e}function _E(t){return bh(t,e=>{if(!e)throw eo.create("installation-not-found");return hk(e)})}function hk(t){return dU(t)?{fid:t.fid,registrationStatus:0}:t}function dU(t){return t.registrationStatus===1&&t.registrationTime+Zx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fU({appConfig:t,heartbeatServiceProvider:e},n){const r=hU(t,n),i=G6(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:ek,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await ak(()=>fetch(r,a));if(l.ok){const u=await l.json();return ik(u)}else throw await sk("Generate Auth Token",l)}function hU(t,{fid:e}){return`${rk(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C1(t,e=!1){let n;const r=await bh(t.appConfig,s=>{if(!pk(s))throw eo.create("not-registered");const o=s.authToken;if(!e&&gU(o))return s;if(o.requestStatus===1)return n=pU(t,e),s;{if(!navigator.onLine)throw eo.create("app-offline");const a=vU(s);return n=mU(t,a),a}});return n?await n:r.authToken}async function pU(t,e){let n=await EE(t.appConfig);for(;n.authToken.requestStatus===1;)await lk(100),n=await EE(t.appConfig);const r=n.authToken;return r.requestStatus===0?C1(t,e):r}function EE(t){return bh(t,e=>{if(!pk(e))throw eo.create("not-registered");const n=e.authToken;return wU(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function mU(t,e){try{const n=await fU(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await cf(t.appConfig,r),n}catch(n){if(nk(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await fk(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await cf(t.appConfig,r)}throw n}}function pk(t){return t!==void 0&&t.registrationStatus===2}function gU(t){return t.requestStatus===2&&!yU(t)}function yU(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+H6}function vU(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function wU(t){return t.requestStatus===1&&t.requestTime+Zx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _U(t){const e=t,{installationEntry:n,registrationPromise:r}=await S1(e);return r?r.catch(console.error):C1(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EU(t,e=!1){const n=t;return await SU(n),(await C1(n,e)).token}async function SU(t){const{registrationPromise:e}=await S1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(t){if(!t||!t.options)throw hm("App Configuration");if(!t.name)throw hm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw hm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function hm(t){return eo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="installations",TU="installations-internal",IU=t=>{const e=t.getProvider("app").getImmediate(),n=CU(e),r=ps(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},xU=t=>{const e=t.getProvider("app").getImmediate(),n=ps(e,mk).getImmediate();return{getId:()=>_U(n),getToken:i=>EU(n,i)}};function kU(){wr(new Yn(mk,IU,"PUBLIC")),wr(new Yn(TU,xU,"PRIVATE"))}kU();xn(Jx,_1);xn(Jx,_1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="analytics",bU="firebase_id",RU="origin",AU=60*1e3,PU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",T1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn=new Sh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ln=new uo("analytics","Analytics",NU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(t){if(!t.startsWith(T1)){const e=Ln.create("invalid-gtag-resource",{gtagURL:t});return kn.warn(e.message),""}return t}function gk(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function LU(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function DU(t,e){const n=LU("firebase-js-sdk-policy",{createScriptURL:OU}),r=document.createElement("script"),i=`${T1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function jU(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function MU(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await gk(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){kn.error(a)}t("config",i,s)}async function $U(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await gk(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){kn.error(s)}}function UU(t,e,n,r){async function i(s,o,a){try{s==="event"?await $U(t,e,n,o,a):s==="config"?await MU(t,e,n,r,o,a):s==="consent"?t("consent","update",a):t("set",o)}catch(l){kn.error(l)}}return i}function FU(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=UU(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function VU(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(T1)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=30,BU=1e3;class HU{constructor(e={},n=BU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const yk=new HU;function qU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function WU(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:qU(r)},s=PU.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Ln.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function KU(t,e=yk,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Ln.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ln.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new YU;return setTimeout(async()=>{a.abort()},n!==void 0?n:AU),vk({appId:r,apiKey:i,measurementId:s},o,a,e)}async function vk(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=yk){var s;const{appId:o,measurementId:a}=t;try{await GU(r,e)}catch(l){if(a)return kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await WU(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!QU(u)){if(i.deleteThrottleMetadata(o),a)return kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?Q_(n,i.intervalMillis,zU):Q_(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),kn.debug(`Calling attemptFetch again in ${c} millis`),vk(t,d,r,i)}}function GU(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Ln.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function QU(t){if(!(t instanceof er)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class YU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function XU(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JU(){if(cx())try{await dx()}catch(t){return kn.warn(Ln.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return kn.warn(Ln.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ZU(t,e,n,r,i,s,o){var a;const l=KU(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&kn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>kn.error(p)),e.push(l);const u=JU().then(p=>{if(p)return r.getId()}),[c,d]=await Promise.all([l,u]);VU(s)||DU(s,c.measurementId),i("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[RU]="firebase",h.update=!0,d!=null&&(h[bU]=d),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e){this.app=e}_delete(){return delete Ul[this.app.options.appId],Promise.resolve()}}let Ul={},SE=[];const CE={};let pm="dataLayer",t5="gtag",TE,wk,IE=!1;function n5(){const t=[];if(ux()&&t.push("This is a browser extension environment."),w$()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ln.create("invalid-analytics-context",{errorInfo:e});kn.warn(n.message)}}function r5(t,e,n){n5();const r=t.options.appId;if(!r)throw Ln.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ln.create("no-api-key");if(Ul[r]!=null)throw Ln.create("already-exists",{id:r});if(!IE){jU(pm);const{wrappedGtag:s,gtagCore:o}=FU(Ul,SE,CE,pm,t5);wk=s,TE=o,IE=!0}return Ul[r]=ZU(t,SE,CE,e,TE,pm,n),new e5(t)}function i5(t=Ch()){t=Ge(t);const e=ps(t,df);return e.isInitialized()?e.getImmediate():s5(t)}function s5(t,e={}){const n=ps(t,df);if(n.isInitialized()){const i=n.getImmediate();if(yu(e,n.getOptions()))return i;throw Ln.create("already-initialized")}return n.initialize({options:e})}function o5(t,e,n,r){t=Ge(t),XU(wk,Ul[t.app.options.appId],e,n,r).catch(i=>kn.error(i))}const xE="@firebase/analytics",kE="0.9.5";function a5(){wr(new Yn(df,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return r5(r,i,n)},"PUBLIC")),wr(new Yn("analytics-internal",t,"PRIVATE")),xn(xE,kE),xn(xE,kE,"esm2017");function t(e){try{const n=e.getProvider(df).getImmediate();return{logEvent:(r,i,s)=>o5(n,r,i,s)}}catch(n){throw Ln.create("interop-component-reg-failed",{reason:n})}}}a5();var l5="firebase",u5="9.20.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn(l5,u5,"app");var c5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ee,I1=I1||{},me=c5||self;function ff(){}function Rh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function qu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function d5(t){return Object.prototype.hasOwnProperty.call(t,mm)&&t[mm]||(t[mm]=++f5)}var mm="closure_uid_"+(1e9*Math.random()>>>0),f5=0;function h5(t,e,n){return t.call.apply(t.bind,arguments)}function p5(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function nn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?nn=h5:nn=p5,nn.apply(null,arguments)}function Nc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function qt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ms(){this.s=this.s,this.o=this.o}var m5=0;ms.prototype.s=!1;ms.prototype.na=function(){!this.s&&(this.s=!0,this.M(),m5!=0)&&d5(this)};ms.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _k=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function x1(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function bE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Rh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function rn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}rn.prototype.h=function(){this.defaultPrevented=!0};var g5=function(){if(!me.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{me.addEventListener("test",ff,e),me.removeEventListener("test",ff,e)}catch{}return t}();function hf(t){return/^[\s\xa0]*$/.test(t)}var RE=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function gm(t,e){return t<e?-1:t>e?1:0}function Ah(){var t=me.navigator;return t&&(t=t.userAgent)?t:""}function kr(t){return Ah().indexOf(t)!=-1}function k1(t){return k1[" "](t),t}k1[" "]=ff;function y5(t){var e=_5;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var v5=kr("Opera"),ya=kr("Trident")||kr("MSIE"),Ek=kr("Edge"),gy=Ek||ya,Sk=kr("Gecko")&&!(Ah().toLowerCase().indexOf("webkit")!=-1&&!kr("Edge"))&&!(kr("Trident")||kr("MSIE"))&&!kr("Edge"),w5=Ah().toLowerCase().indexOf("webkit")!=-1&&!kr("Edge");function Ck(){var t=me.document;return t?t.documentMode:void 0}var pf;e:{var ym="",vm=function(){var t=Ah();if(Sk)return/rv:([^\);]+)(\)|;)/.exec(t);if(Ek)return/Edge\/([\d\.]+)/.exec(t);if(ya)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(w5)return/WebKit\/(\S+)/.exec(t);if(v5)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(vm&&(ym=vm?vm[1]:""),ya){var wm=Ck();if(wm!=null&&wm>parseFloat(ym)){pf=String(wm);break e}}pf=ym}var _5={};function E5(){return y5(function(){let t=0;const e=RE(String(pf)).split("."),n=RE("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=gm(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||gm(i[2].length==0,s[2].length==0)||gm(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var yy;if(me.document&&ya){var AE=Ck();yy=AE||parseInt(pf,10)||void 0}else yy=void 0;var S5=yy;function Eu(t,e){if(rn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Sk){e:{try{k1(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:C5[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Eu.X.h.call(this)}}qt(Eu,rn);var C5={2:"touch",3:"pen",4:"mouse"};Eu.prototype.h=function(){Eu.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Wu="closure_listenable_"+(1e6*Math.random()|0),T5=0;function I5(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++T5,this.ba=this.ea=!1}function Ph(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function b1(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Tk(t){const e={};for(const n in t)e[n]=t[n];return e}const PE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ik(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<PE.length;s++)n=PE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Nh(t){this.src=t,this.g={},this.h=0}Nh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=wy(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new I5(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function vy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=_k(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ph(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function wy(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var R1="closure_lm_"+(1e6*Math.random()|0),_m={};function xk(t,e,n,r,i){if(r&&r.once)return bk(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)xk(t,e[s],n,r,i);return null}return n=N1(n),t&&t[Wu]?t.N(e,n,qu(r)?!!r.capture:!!r,i):kk(t,e,n,!1,r,i)}function kk(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=qu(i)?!!i.capture:!!i,a=P1(t);if(a||(t[R1]=a=new Nh(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=x5(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)g5||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ak(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function x5(){function t(n){return e.call(t.src,t.listener,n)}const e=k5;return t}function bk(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)bk(t,e[s],n,r,i);return null}return n=N1(n),t&&t[Wu]?t.O(e,n,qu(r)?!!r.capture:!!r,i):kk(t,e,n,!0,r,i)}function Rk(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Rk(t,e[s],n,r,i);else r=qu(r)?!!r.capture:!!r,n=N1(n),t&&t[Wu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=wy(s,n,r,i),-1<n&&(Ph(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=P1(t))&&(e=t.g[e.toString()],t=-1,e&&(t=wy(e,n,r,i)),(n=-1<t?e[t]:null)&&A1(n))}function A1(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Wu])vy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ak(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=P1(e))?(vy(n,t),n.h==0&&(n.src=null,e[R1]=null)):Ph(t)}}}function Ak(t){return t in _m?_m[t]:_m[t]="on"+t}function k5(t,e){if(t.ba)t=!0;else{e=new Eu(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&A1(t),t=n.call(r,e)}return t}function P1(t){return t=t[R1],t instanceof Nh?t:null}var Em="__closure_events_fn_"+(1e9*Math.random()>>>0);function N1(t){return typeof t=="function"?t:(t[Em]||(t[Em]=function(e){return t.handleEvent(e)}),t[Em])}function Dt(){ms.call(this),this.i=new Nh(this),this.P=this,this.I=null}qt(Dt,ms);Dt.prototype[Wu]=!0;Dt.prototype.removeEventListener=function(t,e,n,r){Rk(this,t,e,n,r)};function Bt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new rn(e,t);else if(e instanceof rn)e.target=e.target||t;else{var i=e;e=new rn(r,t),Ik(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Oc(o,r,!0,e)&&i}if(o=e.g=t,i=Oc(o,r,!0,e)&&i,i=Oc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Oc(o,r,!1,e)&&i}Dt.prototype.M=function(){if(Dt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ph(n[r]);delete t.g[e],t.h--}}this.I=null};Dt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Dt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Oc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&vy(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var O1=me.JSON.stringify;function b5(){var t=Ok;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class R5{constructor(){this.h=this.g=null}add(e,n){const r=Pk.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Pk=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new A5,t=>t.reset());class A5{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function P5(t){me.setTimeout(()=>{throw t},0)}function Nk(t,e){_y||N5(),Ey||(_y(),Ey=!0),Ok.add(t,e)}var _y;function N5(){var t=me.Promise.resolve(void 0);_y=function(){t.then(O5)}}var Ey=!1,Ok=new R5;function O5(){for(var t;t=b5();){try{t.h.call(t.g)}catch(n){P5(n)}var e=Pk;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ey=!1}function Oh(t,e){Dt.call(this),this.h=t||1,this.g=e||me,this.j=nn(this.lb,this),this.l=Date.now()}qt(Oh,Dt);ee=Oh.prototype;ee.ca=!1;ee.R=null;ee.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Bt(this,"tick"),this.ca&&(L1(this),this.start()))}};ee.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function L1(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}ee.M=function(){Oh.X.M.call(this),L1(this),delete this.g};function D1(t,e,n){if(typeof t=="function")n&&(t=nn(t,n));else if(t&&typeof t.handleEvent=="function")t=nn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:me.setTimeout(t,e||0)}function Lk(t){t.g=D1(()=>{t.g=null,t.i&&(t.i=!1,Lk(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class L5 extends ms{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Lk(this)}M(){super.M(),this.g&&(me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Su(t){ms.call(this),this.h=t,this.g={}}qt(Su,ms);var NE=[];function Dk(t,e,n,r){Array.isArray(n)||(n&&(NE[0]=n.toString()),n=NE);for(var i=0;i<n.length;i++){var s=xk(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function jk(t){b1(t.g,function(e,n){this.g.hasOwnProperty(n)&&A1(e)},t),t.g={}}Su.prototype.M=function(){Su.X.M.call(this),jk(this)};Su.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Lh(){this.g=!0}Lh.prototype.Aa=function(){this.g=!1};function D5(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function j5(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ho(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+$5(t,n)+(r?" "+r:"")})}function M5(t,e){t.info(function(){return"TIMEOUT: "+e})}Lh.prototype.info=function(){};function $5(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return O1(n)}catch{return e}}var po={},OE=null;function Dh(){return OE=OE||new Dt}po.Pa="serverreachability";function Mk(t){rn.call(this,po.Pa,t)}qt(Mk,rn);function Cu(t){const e=Dh();Bt(e,new Mk(e))}po.STAT_EVENT="statevent";function $k(t,e){rn.call(this,po.STAT_EVENT,t),this.stat=e}qt($k,rn);function hn(t){const e=Dh();Bt(e,new $k(e,t))}po.Qa="timingevent";function Uk(t,e){rn.call(this,po.Qa,t),this.size=e}qt(Uk,rn);function Ku(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return me.setTimeout(function(){t()},e)}var jh={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Fk={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function j1(){}j1.prototype.h=null;function LE(t){return t.h||(t.h=t.i())}function Vk(){}var Gu={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function M1(){rn.call(this,"d")}qt(M1,rn);function $1(){rn.call(this,"c")}qt($1,rn);var Sy;function Mh(){}qt(Mh,j1);Mh.prototype.g=function(){return new XMLHttpRequest};Mh.prototype.i=function(){return{}};Sy=new Mh;function Qu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Su(this),this.O=U5,t=gy?125:void 0,this.T=new Oh(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new zk}function zk(){this.i=null,this.g="",this.h=!1}var U5=45e3,Cy={},mf={};ee=Qu.prototype;ee.setTimeout=function(t){this.O=t};function Ty(t,e,n){t.K=1,t.v=Uh(gi(e)),t.s=n,t.P=!0,Bk(t,null)}function Bk(t,e){t.F=Date.now(),Yu(t),t.A=gi(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),Xk(n.i,"t",r),t.C=0,n=t.l.H,t.h=new zk,t.g=vb(t.l,n?e:null,!t.s),0<t.N&&(t.L=new L5(nn(t.La,t,t.g),t.N)),Dk(t.S,t.g,"readystatechange",t.ib),e=t.H?Tk(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Cu(),D5(t.j,t.u,t.A,t.m,t.U,t.s)}ee.ib=function(t){t=t.target;const e=this.L;e&&ni(t)==3?e.l():this.La(t)};ee.La=function(t){try{if(t==this.g)e:{const c=ni(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>c)&&(c!=3||gy||this.g&&(this.h.h||this.g.fa()||$E(this.g)))){this.I||c!=4||e==7||(e==8||0>=d?Cu(3):Cu(2)),$h(this);var n=this.g.aa();this.Y=n;t:if(Hk(this)){var r=$E(this.g);t="";var i=r.length,s=ni(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ns(this),Fl(this);var o="";break t}this.h.i=new me.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,j5(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hf(a)){var u=a;break t}}u=null}if(n=u)Ho(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Iy(this,n);else{this.i=!1,this.o=3,hn(12),Ns(this),Fl(this);break e}}this.P?(qk(this,c,o),gy&&this.i&&c==3&&(Dk(this.S,this.T,"tick",this.hb),this.T.start())):(Ho(this.j,this.m,o,null),Iy(this,o)),c==4&&Ns(this),this.i&&!this.I&&(c==4?pb(this.l,this):(this.i=!1,Yu(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,hn(12)):(this.o=0,hn(13)),Ns(this),Fl(this)}}}catch{}finally{}};function Hk(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function qk(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=F5(t,n),i==mf){e==4&&(t.o=4,hn(14),r=!1),Ho(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Cy){t.o=4,hn(15),Ho(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ho(t.j,t.m,i,null),Iy(t,i);Hk(t)&&i!=mf&&i!=Cy&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,hn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),q1(e),e.K=!0,hn(11))):(Ho(t.j,t.m,n,"[Invalid Chunked Response]"),Ns(t),Fl(t))}ee.hb=function(){if(this.g){var t=ni(this.g),e=this.g.fa();this.C<e.length&&($h(this),qk(this,t,e),this.i&&t!=4&&Yu(this))}};function F5(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?mf:(n=Number(e.substring(n,r)),isNaN(n)?Cy:(r+=1,r+n>e.length?mf:(e=e.substr(r,n),t.C=r+n,e)))}ee.cancel=function(){this.I=!0,Ns(this)};function Yu(t){t.V=Date.now()+t.O,Wk(t,t.O)}function Wk(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ku(nn(t.gb,t),e)}function $h(t){t.B&&(me.clearTimeout(t.B),t.B=null)}ee.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(M5(this.j,this.A),this.K!=2&&(Cu(),hn(17)),Ns(this),this.o=2,Fl(this)):Wk(this,this.V-t)};function Fl(t){t.l.G==0||t.I||pb(t.l,t)}function Ns(t){$h(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,L1(t.T),jk(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Iy(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||xy(n.h,t))){if(!t.J&&xy(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)vf(n),zh(n);else break e;H1(n),hn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Ku(nn(n.cb,n),6e3));if(1>=eb(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Os(n,11)}else if((t.J||n.g==t)&&vf(n),!hf(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const d=u[4];d!=null&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const _=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var s=r.h;s.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(U1(s,s.h),s.h=null))}if(r.D){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.za=y,it(r.F,r.D,y))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=yb(r,r.H?r.ka:null,r.V),o.J){tb(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&($h(a),Yu(a)),r.g=o}else fb(r);0<n.i.length&&Bh(n)}else u[0]!="stop"&&u[0]!="close"||Os(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Os(n,7):B1(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}Cu(4)}catch{}}function V5(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Rh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function z5(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Rh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Kk(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Rh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=z5(t),r=V5(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Gk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function B5(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Fs(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Fs){this.h=e!==void 0?e:t.h,gf(this,t.j),this.s=t.s,this.g=t.g,yf(this,t.m),this.l=t.l,e=t.i;var n=new Tu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),DE(this,n),this.o=t.o}else t&&(n=String(t).match(Gk))?(this.h=!!e,gf(this,n[1]||"",!0),this.s=Cl(n[2]||""),this.g=Cl(n[3]||"",!0),yf(this,n[4]),this.l=Cl(n[5]||"",!0),DE(this,n[6]||"",!0),this.o=Cl(n[7]||"")):(this.h=!!e,this.i=new Tu(null,this.h))}Fs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Tl(e,jE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Tl(e,jE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Tl(n,n.charAt(0)=="/"?W5:q5,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Tl(n,G5)),t.join("")};function gi(t){return new Fs(t)}function gf(t,e,n){t.j=n?Cl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function yf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function DE(t,e,n){e instanceof Tu?(t.i=e,Q5(t.i,t.h)):(n||(e=Tl(e,K5)),t.i=new Tu(e,t.h))}function it(t,e,n){t.i.set(e,n)}function Uh(t){return it(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Cl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Tl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,H5),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function H5(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var jE=/[#\/\?@]/g,q5=/[#\?:]/g,W5=/[#\?]/g,K5=/[#\?@]/g,G5=/#/g;function Tu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function gs(t){t.g||(t.g=new Map,t.h=0,t.i&&B5(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ee=Tu.prototype;ee.add=function(t,e){gs(this),this.i=null,t=ja(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Qk(t,e){gs(t),e=ja(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Yk(t,e){return gs(t),e=ja(t,e),t.g.has(e)}ee.forEach=function(t,e){gs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ee.oa=function(){gs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ee.W=function(t){gs(this);let e=[];if(typeof t=="string")Yk(this,t)&&(e=e.concat(this.g.get(ja(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ee.set=function(t,e){return gs(this),this.i=null,t=ja(this,t),Yk(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ee.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function Xk(t,e,n){Qk(t,e),0<n.length&&(t.i=null,t.g.set(ja(t,e),x1(n)),t.h+=n.length)}ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ja(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Q5(t,e){e&&!t.j&&(gs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Qk(this,r),Xk(this,i,n))},t)),t.j=e}var Y5=class{constructor(e,n){this.h=e,this.g=n}};function Jk(t){this.l=t||X5,me.PerformanceNavigationTiming?(t=me.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(me.g&&me.g.Ga&&me.g.Ga()&&me.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var X5=10;function Zk(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function eb(t){return t.h?1:t.g?t.g.size:0}function xy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function U1(t,e){t.g?t.g.add(e):t.h=e}function tb(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Jk.prototype.cancel=function(){if(this.i=nb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function nb(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return x1(t.i)}function F1(){}F1.prototype.stringify=function(t){return me.JSON.stringify(t,void 0)};F1.prototype.parse=function(t){return me.JSON.parse(t,void 0)};function J5(){this.g=new F1}function Z5(t,e,n){const r=n||"";try{Kk(t,function(i,s){let o=i;qu(i)&&(o=O1(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function e9(t,e){const n=new Lh;if(me.Image){const r=new Image;r.onload=Nc(Lc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Nc(Lc,n,r,"TestLoadImage: error",!1,e),r.onabort=Nc(Lc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Nc(Lc,n,r,"TestLoadImage: timeout",!1,e),me.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Lc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Xu(t){this.l=t.ac||null,this.j=t.jb||!1}qt(Xu,j1);Xu.prototype.g=function(){return new Fh(this.l,this.j)};Xu.prototype.i=function(t){return function(){return t}}({});function Fh(t,e){Dt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=V1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qt(Fh,Dt);var V1=0;ee=Fh.prototype;ee.open=function(t,e){if(this.readyState!=V1)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Iu(this)};ee.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||me).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ju(this)),this.readyState=V1};ee.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Iu(this)),this.g&&(this.readyState=3,Iu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof me.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rb(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function rb(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}ee.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ju(this):Iu(this),this.readyState==3&&rb(this)}};ee.Va=function(t){this.g&&(this.response=this.responseText=t,Ju(this))};ee.Ua=function(t){this.g&&(this.response=t,Ju(this))};ee.ga=function(){this.g&&Ju(this)};function Ju(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Iu(t)}ee.setRequestHeader=function(t,e){this.v.append(t,e)};ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Iu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Fh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var t9=me.JSON.parse;function ht(t){Dt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ib,this.K=this.L=!1}qt(ht,Dt);var ib="",n9=/^https?$/i,r9=["POST","PUT"];ee=ht.prototype;ee.Ka=function(t){this.L=t};ee.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Sy.g(),this.C=this.u?LE(this.u):LE(Sy),this.g.onreadystatechange=nn(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){ME(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=me.FormData&&t instanceof me.FormData,!(0<=_k(r9,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ab(this),0<this.B&&((this.K=i9(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nn(this.qa,this)):this.A=D1(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ME(this,s)}};function i9(t){return ya&&E5()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ee.qa=function(){typeof I1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Bt(this,"timeout"),this.abort(8))};function ME(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,sb(t),Vh(t)}function sb(t){t.D||(t.D=!0,Bt(t,"complete"),Bt(t,"error"))}ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Bt(this,"complete"),Bt(this,"abort"),Vh(this))};ee.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vh(this,!0)),ht.X.M.call(this)};ee.Ha=function(){this.s||(this.F||this.v||this.l?ob(this):this.fb())};ee.fb=function(){ob(this)};function ob(t){if(t.h&&typeof I1<"u"&&(!t.C[1]||ni(t)!=4||t.aa()!=2)){if(t.v&&ni(t)==4)D1(t.Ha,0,t);else if(Bt(t,"readystatechange"),ni(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(Gk)[1]||null;if(!i&&me.self&&me.self.location){var s=me.self.location.protocol;i=s.substr(0,s.length-1)}r=!n9.test(i?i.toLowerCase():"")}n=r}if(n)Bt(t,"complete"),Bt(t,"success");else{t.m=6;try{var o=2<ni(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",sb(t)}}finally{Vh(t)}}}}function Vh(t,e){if(t.g){ab(t);const n=t.g,r=t.C[0]?ff:null;t.g=null,t.C=null,e||Bt(t,"ready");try{n.onreadystatechange=r}catch{}}}function ab(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(me.clearTimeout(t.A),t.A=null)}function ni(t){return t.g?t.g.readyState:0}ee.aa=function(){try{return 2<ni(this)?this.g.status:-1}catch{return-1}};ee.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};ee.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),t9(e)}};function $E(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case ib:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ee.Ea=function(){return this.m};ee.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function lb(t){let e="";return b1(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function z1(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=lb(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):it(t,e,n))}function ol(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ub(t){this.Ca=0,this.i=[],this.j=new Lh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ol("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ol("baseRetryDelayMs",5e3,t),this.bb=ol("retryDelaySeedMs",1e4,t),this.$a=ol("forwardChannelMaxRetries",2,t),this.ta=ol("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new Jk(t&&t.concurrentRequestLimit),this.Fa=new J5,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}ee=ub.prototype;ee.ma=8;ee.G=1;function B1(t){if(cb(t),t.G==3){var e=t.U++,n=gi(t.F);it(n,"SID",t.I),it(n,"RID",e),it(n,"TYPE","terminate"),Zu(t,n),e=new Qu(t,t.j,e,void 0),e.K=2,e.v=Uh(gi(n)),n=!1,me.navigator&&me.navigator.sendBeacon&&(n=me.navigator.sendBeacon(e.v.toString(),"")),!n&&me.Image&&(new Image().src=e.v,n=!0),n||(e.g=vb(e.l,null),e.g.da(e.v)),e.F=Date.now(),Yu(e)}gb(t)}function zh(t){t.g&&(q1(t),t.g.cancel(),t.g=null)}function cb(t){zh(t),t.u&&(me.clearTimeout(t.u),t.u=null),vf(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&me.clearTimeout(t.m),t.m=null)}function Bh(t){Zk(t.h)||t.m||(t.m=!0,Nk(t.Ja,t),t.C=0)}function s9(t,e){return eb(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Ku(nn(t.Ja,t,e),mb(t,t.C)),t.C++,!0)}ee.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Qu(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=Tk(s),Ik(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=db(this,i,e),n=gi(this.F),it(n,"RID",t),it(n,"CVER",22),this.D&&it(n,"X-HTTP-Session-Id",this.D),Zu(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(lb(s)))+"&"+e:this.o&&z1(n,this.o,s)),U1(this.h,i),this.Ya&&it(n,"TYPE","init"),this.O?(it(n,"$req",e),it(n,"SID","null"),i.Z=!0,Ty(i,n,null)):Ty(i,n,e),this.G=2}}else this.G==3&&(t?UE(this,t):this.i.length==0||Zk(this.h)||UE(this))};function UE(t,e){var n;e?n=e.m:n=t.U++;const r=gi(t.F);it(r,"SID",t.I),it(r,"RID",n),it(r,"AID",t.T),Zu(t,r),t.o&&t.s&&z1(r,t.o,t.s),n=new Qu(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=db(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),U1(t.h,n),Ty(n,r,e)}function Zu(t,e){t.ia&&b1(t.ia,function(n,r){it(e,r,n)}),t.l&&Kk({},function(n,r){it(e,r,n)})}function db(t,e,n){n=Math.min(t.i.length,n);var r=t.l?nn(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{Z5(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function fb(t){t.g||t.u||(t.Z=1,Nk(t.Ia,t),t.A=0)}function H1(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Ku(nn(t.Ia,t),mb(t,t.A)),t.A++,!0)}ee.Ia=function(){if(this.u=null,hb(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Ku(nn(this.eb,this),t)}};ee.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,hn(10),zh(this),hb(this))};function q1(t){t.B!=null&&(me.clearTimeout(t.B),t.B=null)}function hb(t){t.g=new Qu(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=gi(t.sa);it(e,"RID","rpc"),it(e,"SID",t.I),it(e,"CI",t.L?"0":"1"),it(e,"AID",t.T),it(e,"TYPE","xmlhttp"),Zu(t,e),t.o&&t.s&&z1(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Uh(gi(e)),n.s=null,n.P=!0,Bk(n,t)}ee.cb=function(){this.v!=null&&(this.v=null,zh(this),H1(this),hn(19))};function vf(t){t.v!=null&&(me.clearTimeout(t.v),t.v=null)}function pb(t,e){var n=null;if(t.g==e){vf(t),q1(t),t.g=null;var r=2}else if(xy(t.h,e))n=e.D,tb(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Dh(),Bt(r,new Uk(r,n)),Bh(t)}else fb(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&s9(t,e)||r==2&&H1(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Os(t,5);break;case 4:Os(t,10);break;case 3:Os(t,6);break;default:Os(t,2)}}}function mb(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Os(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=nn(t.kb,t);n||(n=new Fs("//www.google.com/images/cleardot.gif"),me.location&&me.location.protocol=="http"||gf(n,"https"),Uh(n)),e9(n.toString(),r)}else hn(2);t.G=0,t.l&&t.l.va(e),gb(t),cb(t)}ee.kb=function(t){t?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function gb(t){if(t.G=0,t.la=[],t.l){const e=nb(t.h);(e.length!=0||t.i.length!=0)&&(bE(t.la,e),bE(t.la,t.i),t.h.i.length=0,x1(t.i),t.i.length=0),t.l.ua()}}function yb(t,e,n){var r=n instanceof Fs?gi(n):new Fs(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),yf(r,r.m);else{var i=me.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Fs(null,void 0);r&&gf(s,r),e&&(s.g=e),i&&yf(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&it(r,n,e),it(r,"VER",t.ma),Zu(t,r),r}function vb(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new ht(new Xu({jb:!0})):new ht(t.ra),e.Ka(t.H),e}function wb(){}ee=wb.prototype;ee.xa=function(){};ee.wa=function(){};ee.va=function(){};ee.ua=function(){};ee.Ra=function(){};function wf(){if(ya&&!(10<=Number(S5)))throw Error("Environmental error: no available transport.")}wf.prototype.g=function(t,e){return new $n(t,e)};function $n(t,e){Dt.call(this),this.g=new ub(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!hf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hf(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ma(this)}qt($n,Dt);$n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;hn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=yb(t,null,t.V),Bh(t)};$n.prototype.close=function(){B1(this.g)};$n.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=O1(t),t=n);e.i.push(new Y5(e.ab++,t)),e.G==3&&Bh(e)};$n.prototype.M=function(){this.g.l=null,delete this.j,B1(this.g),delete this.g,$n.X.M.call(this)};function _b(t){M1.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}qt(_b,M1);function Eb(){$1.call(this),this.status=1}qt(Eb,$1);function Ma(t){this.g=t}qt(Ma,wb);Ma.prototype.xa=function(){Bt(this.g,"a")};Ma.prototype.wa=function(t){Bt(this.g,new _b(t))};Ma.prototype.va=function(t){Bt(this.g,new Eb)};Ma.prototype.ua=function(){Bt(this.g,"b")};wf.prototype.createWebChannel=wf.prototype.g;$n.prototype.send=$n.prototype.u;$n.prototype.open=$n.prototype.m;$n.prototype.close=$n.prototype.close;jh.NO_ERROR=0;jh.TIMEOUT=8;jh.HTTP_ERROR=6;Fk.COMPLETE="complete";Vk.EventType=Gu;Gu.OPEN="a";Gu.CLOSE="b";Gu.ERROR="c";Gu.MESSAGE="d";Dt.prototype.listen=Dt.prototype.N;ht.prototype.listenOnce=ht.prototype.O;ht.prototype.getLastError=ht.prototype.Oa;ht.prototype.getLastErrorCode=ht.prototype.Ea;ht.prototype.getStatus=ht.prototype.aa;ht.prototype.getResponseJson=ht.prototype.Sa;ht.prototype.getResponseText=ht.prototype.fa;ht.prototype.send=ht.prototype.da;ht.prototype.setWithCredentials=ht.prototype.Ka;var o9=function(){return new wf},a9=function(){return Dh()},Sm=jh,l9=Fk,u9=po,FE={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},c9=Xu,Dc=Vk,d9=ht;const VE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a="9.20.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new Sh("@firebase/firestore");function zE(){return no.logLevel}function ne(t,...e){if(no.logLevel<=je.DEBUG){const n=e.map(W1);no.debug(`Firestore (${$a}): ${t}`,...n)}}function yi(t,...e){if(no.logLevel<=je.ERROR){const n=e.map(W1);no.error(`Firestore (${$a}): ${t}`,...n)}}function _f(t,...e){if(no.logLevel<=je.WARN){const n=e.map(W1);no.warn(`Firestore (${$a}): ${t}`,...n)}}function W1(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${$a}) INTERNAL ASSERTION FAILED: `+t;throw yi(e),new Error(e)}function Je(t,e){t||he()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class f9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class h9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class p9{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ai,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ai)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string"),new Sb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new Xt(e)}}class m9{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class g9{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new m9(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v9{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Je(typeof n.token=="string"),this.T=n.token,new y9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=w9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function $e(t,e){return t<e?-1:t>e?1:0}function va(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new St(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new St(0,0))}static max(){return new ve(new St(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ye extends xu{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const _9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends xu{construct(e,n,r){return new en(e,n,r)}static isValidIdentifier(e){return _9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new en(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new J(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(Ye.fromString(e))}static fromName(e){return new ae(Ye.fromString(e).popFirst(5))}static empty(){return new ae(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new Ye(e.slice()))}}function E9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(r===1e9?new St(n+1,0):new St(n,r));return new ss(i,ae.empty(),e)}function S9(t){return new ss(t.readTime,t.key,-1)}class ss{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ss(ve.min(),ae.empty(),-1)}static max(){return new ss(ve.max(),ae.empty(),-1)}}function C9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==T9)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function tc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}K1.ct=-1;function Hh(t){return t==null}function Ef(t){return t===0&&1/t==-1/0}function x9(t){return typeof t=="number"&&Number.isInteger(t)&&!Ef(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Tb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new Rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ft.RED,this.left=i??Ft.EMPTY,this.right=s??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ft(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ft(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new HE(this.data.getIterator())}getIteratorFrom(e){return new HE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class HE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new bt(en.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return va(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new k9("Invalid base64 string: "+i):i}}(e);return new ln(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const b9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(t){if(Je(!!t),typeof t=="string"){let e=0;const n=b9.exec(t);if(Je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wa(t){return typeof t=="string"?ln.fromBase64String(t):ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function xb(t){const e=t.mapValue.fields.__previous_value__;return Ib(e)?xb(e):e}function ku(t){const e=os(t.mapValue.fields.__local_write_time__.timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class bu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ib(t)?4:A9(t)?9007199254740991:10:he()}function $r(t,e){if(t===e)return!0;const n=ro(t);if(n!==ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ku(t).isEqual(ku(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=os(r.timestampValue),o=os(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return wa(r.bytesValue).isEqual(wa(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return vt(r.geoPointValue.latitude)===vt(i.geoPointValue.latitude)&&vt(r.geoPointValue.longitude)===vt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return vt(r.integerValue)===vt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=vt(r.doubleValue),o=vt(i.doubleValue);return s===o?Ef(s)===Ef(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return va(t.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(BE(s)!==BE(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!$r(s[a],o[a])))return!1;return!0}(t,e);default:return he()}}function Ru(t,e){return(t.values||[]).find(n=>$r(n,e))!==void 0}function _a(t,e){if(t===e)return 0;const n=ro(t),r=ro(e);if(n!==r)return $e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=vt(i.integerValue||i.doubleValue),a=vt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return qE(t.timestampValue,e.timestampValue);case 4:return qE(ku(t),ku(e));case 5:return $e(t.stringValue,e.stringValue);case 6:return function(i,s){const o=wa(i),a=wa(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=$e(o[l],a[l]);if(u!==0)return u}return $e(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=$e(vt(i.latitude),vt(s.latitude));return o!==0?o:$e(vt(i.longitude),vt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=_a(o[l],a[l]);if(u)return u}return $e(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Mc.mapValue&&s===Mc.mapValue)return 0;if(i===Mc.mapValue)return 1;if(s===Mc.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=$e(a[c],u[c]);if(d!==0)return d;const h=_a(o[a[c]],l[u[c]]);if(h!==0)return h}return $e(a.length,u.length)}(t.mapValue,e.mapValue);default:throw he()}}function qE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=os(t),r=os(e),i=$e(n.seconds,r.seconds);return i!==0?i:$e(n.nanos,r.nanos)}function Ea(t){return ky(t)}function ky(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=os(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?wa(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ae.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=ky(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${ky(r.fields[a])}`;return s+"}"}(t.mapValue):he();var e,n}function WE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function by(t){return!!t&&"integerValue"in t}function G1(t){return!!t&&"arrayValue"in t}function KE(t){return!!t&&"nullValue"in t}function GE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cd(t){return!!t&&"mapValue"in t}function Vl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function A9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(n)}setAll(e){let n=en.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Vl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());cd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){mo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new En(Vl(this.value))}}function kb(t){const e=[];return mo(t.fields,(n,r)=>{const i=new en([n]);if(cd(r)){const s=kb(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Zt(e,0,ve.min(),ve.min(),ve.min(),En.empty(),0)}static newFoundDocument(e,n,r,i){return new Zt(e,1,n,ve.min(),r,i,0)}static newNoDocument(e,n){return new Zt(e,2,n,ve.min(),ve.min(),En.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,ve.min(),ve.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n){this.position=e,this.inclusive=n}}function QE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=_a(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function YE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n="asc"){this.field=e,this.dir=n}}function P9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{}class Et extends bb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new O9(e,n,r):n==="array-contains"?new j9(e,r):n==="in"?new M9(e,r):n==="not-in"?new $9(e,r):n==="array-contains-any"?new U9(e,r):new Et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new L9(e,r):new D9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_a(n,this.value)):n!==null&&ro(this.value)===ro(n)&&this.matchesComparison(_a(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _r extends bb{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new _r(e,n)}matches(e){return Rb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Rb(t){return t.op==="and"}function Ab(t){return N9(t)&&Rb(t)}function N9(t){for(const e of t.filters)if(e instanceof _r)return!1;return!0}function Ry(t){if(t instanceof Et)return t.field.canonicalString()+t.op.toString()+Ea(t.value);if(Ab(t))return t.filters.map(e=>Ry(e)).join(",");{const e=t.filters.map(n=>Ry(n)).join(",");return`${t.op}(${e})`}}function Pb(t,e){return t instanceof Et?function(n,r){return r instanceof Et&&n.op===r.op&&n.field.isEqual(r.field)&&$r(n.value,r.value)}(t,e):t instanceof _r?function(n,r){return r instanceof _r&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&Pb(s,r.filters[o]),!0):!1}(t,e):void he()}function Nb(t){return t instanceof Et?function(e){return`${e.field.canonicalString()} ${e.op} ${Ea(e.value)}`}(t):t instanceof _r?function(e){return e.op.toString()+" {"+e.getFilters().map(Nb).join(" ,")+"}"}(t):"Filter"}class O9 extends Et{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class L9 extends Et{constructor(e,n){super(e,"in",n),this.keys=Ob("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class D9 extends Et{constructor(e,n){super(e,"not-in",n),this.keys=Ob("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ob(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class j9 extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return G1(n)&&Ru(n.arrayValue,this.value)}}class M9 extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ru(this.value.arrayValue,n)}}class $9 extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ru(this.value.arrayValue,n)}}class U9 extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!G1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ru(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function XE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new F9(t,e,n,r,i,s,o)}function Q1(t){const e=we(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ry(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Hh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ea(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ea(r)).join(",")),e.ft=n}return e.ft}function Y1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!P9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Pb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YE(t.startAt,e.startAt)&&YE(t.endAt,e.endAt)}function Ay(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function V9(t,e,n,r,i,s,o,a){return new nc(t,e,n,r,i,s,o,a)}function qh(t){return new nc(t)}function JE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Lb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function X1(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Db(t){return t.collectionGroup!==null}function ra(t){const e=we(t);if(e.dt===null){e.dt=[];const n=X1(e),r=Lb(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new zl(n)),e.dt.push(new zl(en.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new zl(en.keyField(),s))}}}return e.dt}function vi(t){const e=we(t);if(!e.wt)if(e.limitType==="F")e.wt=XE(e.path,e.collectionGroup,ra(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ra(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new zl(s.field,o))}const r=e.endAt?new Sf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Sf(e.startAt.position,e.startAt.inclusive):null;e.wt=XE(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function Py(t,e){e.getFirstInequalityField(),X1(t);const n=t.filters.concat([e]);return new nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ny(t,e,n){return new nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wh(t,e){return Y1(vi(t),vi(e))&&t.limitType===e.limitType}function jb(t){return`${Q1(vi(t))}|lt:${t.limitType}`}function Oy(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>Nb(r)).join(", ")}]`),Hh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ea(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ea(r)).join(",")),`Target(${n})`}(vi(t))}; limitType=${t.limitType})`}function Kh(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ae.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ra(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=QE(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,ra(n),r)||n.endAt&&!function(i,s,o){const a=QE(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,ra(n),r))}(t,e)}function z9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Mb(t){return(e,n)=>{let r=!1;for(const i of ra(t)){const s=B9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function B9(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?_a(a,l):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Tb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=new Rt(ae.comparator);function wi(){return H9}const $b=new Rt(ae.comparator);function Il(...t){let e=$b;for(const n of t)e=e.insert(n.key,n);return e}function Ub(t){let e=$b;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ls(){return Bl()}function Fb(){return Bl()}function Bl(){return new Ua(t=>t.toString(),(t,e)=>t.isEqual(e))}const q9=new Rt(ae.comparator),W9=new bt(ae.comparator);function ke(...t){let e=W9;for(const n of t)e=e.add(n);return e}const K9=new bt($e);function Vb(){return K9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ef(e)?"-0":e}}function Bb(t){return{integerValue:""+t}}function G9(t,e){return x9(e)?Bb(e):zb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(){this._=void 0}}function Q9(t,e,n){return t instanceof Cf?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Au?qb(t,e):t instanceof Pu?Wb(t,e):function(r,i){const s=Hb(r,i),o=ZE(s)+ZE(r._t);return by(s)&&by(r._t)?Bb(o):zb(r.serializer,o)}(t,e)}function Y9(t,e,n){return t instanceof Au?qb(t,e):t instanceof Pu?Wb(t,e):n}function Hb(t,e){return t instanceof Tf?by(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Cf extends Gh{}class Au extends Gh{constructor(e){super(),this.elements=e}}function qb(t,e){const n=Kb(e);for(const r of t.elements)n.some(i=>$r(i,r))||n.push(r);return{arrayValue:{values:n}}}class Pu extends Gh{constructor(e){super(),this.elements=e}}function Wb(t,e){let n=Kb(e);for(const r of t.elements)n=n.filter(i=>!$r(i,r));return{arrayValue:{values:n}}}class Tf extends Gh{constructor(e,n){super(),this.serializer=e,this._t=n}}function ZE(t){return vt(t.integerValue||t.doubleValue)}function Kb(t){return G1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function X9(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Au&&r instanceof Au||n instanceof Pu&&r instanceof Pu?va(n.elements,r.elements,$r):n instanceof Tf&&r instanceof Tf?$r(n._t,r._t):n instanceof Cf&&r instanceof Cf}(t.transform,e.transform)}class J9{constructor(e,n){this.version=e,this.transformResults=n}}class gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qh{}function Gb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yb(t.key,gr.none()):new rc(t.key,t.data,gr.none());{const n=t.data,r=En.empty();let i=new bt(en.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ys(t.key,r,new Pn(i.toArray()),gr.none())}}function Z9(t,e,n){t instanceof rc?function(r,i,s){const o=r.value.clone(),a=tS(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ys?function(r,i,s){if(!dd(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=tS(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Qb(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Hl(t,e,n,r){return t instanceof rc?function(i,s,o,a){if(!dd(i.precondition,s))return o;const l=i.value.clone(),u=nS(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ys?function(i,s,o,a){if(!dd(i.precondition,s))return o;const l=nS(i.fieldTransforms,a,s),u=s.data;return u.setAll(Qb(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return dd(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function eF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Hb(r.transform,i||null);s!=null&&(n===null&&(n=En.empty()),n.set(r.field,s))}return n||null}function eS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&va(n,r,(i,s)=>X9(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rc extends Qh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ys extends Qh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Qb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tS(t,e,n){const r=new Map;Je(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Y9(o,a,n[i]))}return r}function nS(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Q9(s,o,e))}return r}class Yb extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tF extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Z9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Fb();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Gb(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&va(this.mutations,e.mutations,(n,r)=>eS(n,r))&&va(this.baseMutations,e.baseMutations,(n,r)=>eS(n,r))}}class J1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Je(e.mutations.length===r.length);let i=q9;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new J1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Pe;function sF(t){switch(t){default:return he();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function Xb(t){if(t===void 0)return yi("GRPC error has no .code"),D.UNKNOWN;switch(t){case gt.OK:return D.OK;case gt.CANCELLED:return D.CANCELLED;case gt.UNKNOWN:return D.UNKNOWN;case gt.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case gt.INTERNAL:return D.INTERNAL;case gt.UNAVAILABLE:return D.UNAVAILABLE;case gt.UNAUTHENTICATED:return D.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case gt.NOT_FOUND:return D.NOT_FOUND;case gt.ALREADY_EXISTS:return D.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return D.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case gt.ABORTED:return D.ABORTED;case gt.OUT_OF_RANGE:return D.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return D.UNIMPLEMENTED;case gt.DATA_LOSS:return D.DATA_LOSS;default:return he()}}(Pe=gt||(gt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return $c}static getOrCreateInstance(){return $c===null&&($c=new Z1),$c}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let $c=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ic.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yh(ve.min(),i,Vb(),wi(),ke())}}class ic{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ic(r,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class Jb{constructor(e,n){this.targetId=e,this.Et=n}}class Zb{constructor(e,n,r=ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class rS{constructor(){this.At=0,this.Rt=sS(),this.vt=ln.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=ke(),n=ke(),r=ke();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new ic(this.vt,this.bt,e,n,r)}xt(){this.Pt=!1,this.Rt=sS()}Nt(e,n){this.Pt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class oF{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=wi(),this.qt=iS(),this.Ut=new bt($e)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}zt(e){this.forEachTarget(e,n=>{const r=this.jt(n);switch(e.state){case 0:this.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(e){var n;const r=e.targetId,i=e.Et.count,s=this.Yt(r);if(s){const o=s.target;if(Ay(o))if(i===0){const a=new ae(o.path);this.Qt(r,a,Zt.newNoDocument(a,ve.min()))}else Je(i===1);else{const a=this.Zt(r);a!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=Z1.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:e.Et.count}))}}}Xt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Ay(a.target)){const l=new ae(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,Zt.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=ke();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new Yh(e,n,this.Ut,this.Lt,r);return this.Lt=wi(),this.qt=iS(),this.Ut=new bt($e),i}Gt(e,n){if(!this.Wt(e))return;const r=this.te(e,n.key)?2:0;this.jt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.Wt(e))return;const i=this.jt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const n=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let n=this.Bt.get(e);return n||(n=new rS,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new bt($e),this.qt=this.qt.insert(e,n)),n}Wt(e){const n=this.Yt(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new rS),this.Ft.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.Ft.getRemoteKeysForTarget(e).has(n)}}function iS(){return new Rt(ae.comparator)}function sS(){return new Rt(ae.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),lF=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),uF=(()=>({and:"AND",or:"OR"}))();class cF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function If(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dF(t,e){return If(t,e.toTimestamp())}function jr(t){return Je(!!t),ve.fromTimestamp(function(e){const n=os(e);return new St(n.seconds,n.nanos)}(t))}function e0(t,e){return function(n){return new Ye(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function t2(t){const e=Ye.fromString(t);return Je(s2(e)),e}function Ly(t,e){return e0(t.databaseId,e.path)}function Cm(t,e){const n=t2(e);if(n.get(1)!==t.databaseId.projectId)throw new J(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(n2(n))}function Dy(t,e){return e0(t.databaseId,e)}function fF(t){const e=t2(t);return e.length===4?Ye.emptyPath():n2(e)}function jy(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function n2(t){return Je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function oS(t,e,n){return{name:Ly(t,e),fields:n.value.mapValue.fields}}function hF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Je(u===void 0||typeof u=="string"),ln.fromBase64String(u||"")):(Je(u===void 0||u instanceof Uint8Array),ln.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?D.UNKNOWN:Xb(l.code);return new J(u,l.message||"")}(o);n=new Zb(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Cm(t,r.document.name),s=jr(r.document.updateTime),o=r.document.createTime?jr(r.document.createTime):ve.min(),a=new En({mapValue:{fields:r.document.fields}}),l=Zt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new fd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Cm(t,r.document),s=r.readTime?jr(r.readTime):ve.min(),o=Zt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new fd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Cm(t,r.document),s=r.removedTargetIds||[];n=new fd([],s,i,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new iF(i),o=r.targetId;n=new Jb(o,s)}}return n}function pF(t,e){let n;if(e instanceof rc)n={update:oS(t,e.key,e.value)};else if(e instanceof Yb)n={delete:Ly(t,e.key)};else if(e instanceof ys)n={update:oS(t,e.key,e.data),updateMask:CF(e.fieldMask)};else{if(!(e instanceof tF))return he();n={verify:Ly(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Cf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Au)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Pu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Tf)return{fieldPath:s.field.canonicalString(),increment:o._t};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:dF(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he()}(t,e.precondition)),n}function mF(t,e){return t&&t.length>0?(Je(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?jr(r.updateTime):jr(i);return s.isEqual(ve.min())&&(s=jr(i)),new J9(s,r.transformResults||[])}(n,e))):[]}function gF(t,e){return{documents:[Dy(t,e.path)]}}function yF(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Dy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Dy(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return i2(_r.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:xo(c.field),direction:_F(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.useProto3Json||Hh(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function vF(t){let e=fF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Je(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=r2(c);return d instanceof _r&&Ab(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new zl(ko(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,Hh(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new Sf(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new Sf(h,d)}(n.endAt)),V9(e,i,o,s,a,"F",l,u)}function wF(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return he()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function r2(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ko(e.unaryFilter.field);return Et.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ko(e.unaryFilter.field);return Et.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ko(e.unaryFilter.field);return Et.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ko(e.unaryFilter.field);return Et.create(s,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(e){return Et.create(ko(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return _r.create(e.compositeFilter.filters.map(n=>r2(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return he()}}(e.compositeFilter.op))}(t):he()}function _F(t){return aF[t]}function EF(t){return lF[t]}function SF(t){return uF[t]}function xo(t){return{fieldPath:t.canonicalString()}}function ko(t){return en.fromServerFormat(t.fieldPath)}function i2(t){return t instanceof Et?function(e){if(e.op==="=="){if(GE(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NAN"}};if(KE(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(GE(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NOT_NAN"}};if(KE(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(e.field),op:EF(e.op),value:e.value}}}(t):t instanceof _r?function(e){const n=e.getFilters().map(r=>i2(r));return n.length===1?n[0]:{compositeFilter:{op:SF(e.op),filters:n}}}(t):he()}function CF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function s2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n,r,i,s=ve.min(),o=ve.min(),a=ln.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e){this.se=e}}function IF(t){const e=vF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ny(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(){this.He=new kF}addToCollectionParentIndex(e,n){return this.He.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.He.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(ss.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class kF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new bt(Ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Sa(0)}static bn(){return new Sa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(){this.changes=new Ua(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Hl(r.mutation,i,Pn.empty(),St.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ke()){const i=Ls();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Il();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ls();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ke()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=wi();const o=Bl(),a=Bl();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ys)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Hl(c.mutation,u,c.mutation.getFieldMask(),St.now())):o.set(u.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new RF(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Bl();let i=new Rt((o,a)=>o-a),s=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Pn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||ke()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=Fb();c.forEach(h=>{if(!s.has(h)){const p=Gb(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ae.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Db(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(Ls());let a=-1,l=s;return o.next(u=>z.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?z.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ke())).next(c=>({batchId:a,changes:Ub(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let i=Il();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Il();return this.indexManager.getCollectionParents(e,i).next(o=>z.forEach(o,a=>{const l=function(u,c){return new nc(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,Zt.newInvalidDocument(u)))});let o=Il();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Hl(u.mutation,l,Pn.empty(),St.now()),Kh(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return z.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:jr(r.createTime)}),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:IF(r.bundledQuery),readTime:jr(r.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(){this.overlays=new Rt(ae.comparator),this.ts=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ls();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.re(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ts.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=Ls(),s=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Rt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Ls(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ls(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return z.resolve(a)}re(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new rF(n,r));let s=this.ts.get(n);s===void 0&&(s=ke(),this.ts.set(n,s)),this.ts.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(){this.es=new bt(Nt.ns),this.ss=new bt(Nt.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.us(new Nt(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}hs(e){const n=new ae(new Ye([])),r=new Nt(n,e),i=new Nt(n,e+1),s=[];return this.ss.forEachInRange([r,i],o=>{this.us(o),s.push(o.key)}),s}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const n=new ae(new Ye([])),r=new Nt(n,e),i=new Nt(n,e+1);let s=ke();return this.ss.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Nt(e,0),r=this.es.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.ds=n}static ns(e,n){return ae.comparator(e.key,n.key)||$e(e.ds,n.ds)}static rs(e,n){return $e(e.ds,n.ds)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new bt(Nt.ns)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new nF(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this._s=this._s.add(new Nt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ys(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),i=new Nt(n,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([r,i],o=>{const a=this.gs(o.ds);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt($e);return n.forEach(i=>{const s=new Nt(i,0),o=new Nt(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,o],a=>{r=r.add(a.ds)})}),z.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ae.isDocumentKey(s)||(s=s.child(""));const o=new Nt(new ae(s),0);let a=new bt($e);return this._s.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.ds)),!0)},o),z.resolve(this.ps(a))}ps(e){const n=[];return e.forEach(r=>{const i=this.gs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Je(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return z.forEach(n.mutations,i=>{const s=new Nt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,n){const r=new Nt(n,0),i=this._s.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Is(e,n){return this.ys(e)}ys(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}gs(e){const n=this.ys(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.Ts=e,this.docs=new Rt(ae.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=wi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Zt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=wi();const o=n.path,a=new ae(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||C9(S9(c),r)<=0||(i.has(c.key)||Kh(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){he()}Es(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new DF(this)}getSize(e){return z.resolve(this.size)}}class DF extends bF{constructor(e){super(),this.Jn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(e,i)):this.Jn.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Jn.getEntry(e,n)}getAllFromCache(e,n){return this.Jn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e){this.persistence=e,this.As=new Ua(n=>Q1(n),Y1),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Rs=0,this.vs=new t0,this.targetCount=0,this.bs=Sa.vn()}forEachTarget(e,n){return this.As.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),z.resolve()}Sn(e){this.As.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new Sa(n),this.highestTargetId=n),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,n){return this.Sn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Sn(n),z.resolve()}removeTargetData(e,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.As.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.As.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.As.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.vs.os(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.vs.hs(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.vs.fs(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,n){this.Ps={},this.overlays={},this.Vs=new K1(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new jF(this),this.indexManager=new xF,this.remoteDocumentCache=function(r){return new LF(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new TF(n),this.xs=new PF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ps[e.toKey()];return r||(r=new OF(n,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const i=new $F(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(s=>this.referenceDelegate.ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return z.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,n)))}}class $F extends I9{constructor(e){super(),this.currentSequenceNumber=e}}class n0{constructor(e){this.persistence=e,this.$s=new t0,this.Ms=null}static Fs(e){return new n0(e)}get Bs(){if(this.Ms)return this.Ms;throw he()}addReference(e,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Bs.add(n.toString()),z.resolve()}removeTarget(e,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Bs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ns(){this.Ms=new Set}ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Bs,r=>{const i=ae.fromPath(r);return this.Ls(e,i).next(s=>{s||n.removeEntry(i,ve.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ls(e,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(e){return 0}Ls(e,n){return z.or([()=>z.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Vi=r,this.Si=i}static Di(e,n){let r=ke(),i=ke();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new r0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(){this.Ci=!1}initialize(e,n){this.xi=e,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ni(e,n).next(s=>s||this.ki(e,n,i,r)).next(s=>s||this.Oi(e,n))}Ni(e,n){if(JE(n))return z.resolve(null);let r=vi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ny(n,null,"F"),r=vi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ke(...s);return this.xi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.$i(n,a);return this.Mi(n,u,o,l.readTime)?this.Ni(e,Ny(n,null,"F")):this.Fi(e,u,n,l)}))})))}ki(e,n,r,i){return JE(n)||i.isEqual(ve.min())?this.Oi(e,n):this.xi.getDocuments(e,r).next(s=>{const o=this.$i(n,s);return this.Mi(n,o,r,i)?this.Oi(e,n):(zE()<=je.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Oy(n)),this.Fi(e,o,n,E9(i,-1)))})}$i(e,n){let r=new bt(Mb(e));return n.forEach((i,s)=>{Kh(e,s)&&(r=r.add(s))}),r}Mi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return zE()<=je.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Oy(n)),this.xi.getDocumentsMatchingQuery(e,n,ss.min())}Fi(e,n,r,i){return this.xi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,n,r,i){this.persistence=e,this.Bi=n,this.serializer=i,this.Li=new Rt($e),this.qi=new Ua(s=>Q1(s),Y1),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AF(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Li))}}function VF(t,e,n,r){return new FF(t,e,n,r)}async function o2(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Gi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ke();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Qi:u,removedBatchIds:o,addedBatchIds:a}))})})}function zF(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ki.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=z.resolve();return d.forEach(p=>{h=h.next(()=>u.getEntry(a,p)).next(_=>{const y=l.docVersions.get(p);Je(y!==null),_.version.compareTo(y)<0&&(c.applyToRemoteDocument(_,l),_.isValidDocument()&&(_.setReadTime(l.commitVersion),u.addEntry(_)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ke();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function a2(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ds.getLastRemoteSnapshotVersion(n))}function BF(t,e){const n=we(t),r=e.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ds.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Ds.addMatchingKeys(s,c.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(d)?p=p.withResumeToken(ln.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(_,y,w){return _.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,p,c)&&a.push(n.Ds.updateTargetData(s,p))});let l=wi(),u=ke();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(HF(s,o,e.documentUpdates).next(c=>{l=c.zi,u=c.ji})),!r.isEqual(ve.min())){const c=n.Ds.getLastRemoteSnapshotVersion(s).next(d=>n.Ds.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Li=i,s))}function HF(t,e,n){let r=ke(),i=ke();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=wi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ve.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{zi:o,ji:i}})}function qF(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function WF(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Ds.allocateTargetId(r).next(o=>(i=new Vs(e,o,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function My(t,e,n){const r=we(t),i=r.Li.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!tc(o))throw o;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Li=r.Li.remove(e),r.qi.delete(i.target)}function aS(t,e,n){const r=we(t);let i=ve.min(),s=ke();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=we(a),d=c.qi.get(u);return d!==void 0?z.resolve(c.Li.get(d)):c.Ds.getTargetData(l,u)}(r,o,vi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Bi.getDocumentsMatchingQuery(o,e,n?i:ve.min(),n?s:ke())).next(a=>(KF(r,z9(e),a),{documents:a,Wi:s})))}function KF(t,e,n){let r=t.Ui.get(e)||ve.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ui.set(e,r)}class lS{constructor(){this.activeTargetIds=Vb()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GF{constructor(){this.Br=new lS,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,n,r){this.Lr[e]=n}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new lS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc=null;function Tm(){return Uc===null?Uc=268435456+Math.round(2147483648*Math.random()):Uc++,"0x"+Uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class JF extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.ro=n+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,n,r,i,s){const o=Tm(),a=this.ao(e,n);ne("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.ho(l,i,s),this.lo(e,a,l,r).then(u=>(ne("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw _f("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}fo(e,n,r,i,s,o){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+$a,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){const r=YF[e];return`${this.ro}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){const s=Tm();return new Promise((o,a)=>{const l=new d9;l.setWithCredentials(!0),l.listenOnce(l9.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Sm.NO_ERROR:const c=l.getResponseJson();ne(Qt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Sm.TIMEOUT:ne(Qt,`RPC '${e}' ${s} timed out`),a(new J(D.DEADLINE_EXCEEDED,"Request time out"));break;case Sm.HTTP_ERROR:const d=l.getStatus();if(ne(Qt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const _=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(w)>=0?w:D.UNKNOWN}(p.status);a(new J(_,p.message))}else a(new J(D.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(D.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{ne(Qt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ne(Qt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(e,n,r){const i=Tm(),s=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=o9(),a=a9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new c9({})),this.ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");ne(Qt,`Creating RPC '${e}' stream ${i}: ${u}`,l);const c=o.createWebChannel(u,l);let d=!1,h=!1;const p=new XF({Wr:y=>{h?ne(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(d||(ne(Qt,`Opening RPC '${e}' stream ${i} transport.`),c.open(),d=!0),ne(Qt,`RPC '${e}' stream ${i} sending:`,y),c.send(y))},Hr:()=>c.close()}),_=(y,w,v)=>{y.listen(w,m=>{try{v(m)}catch(g){setTimeout(()=>{throw g},0)}})};return _(c,Dc.EventType.OPEN,()=>{h||ne(Qt,`RPC '${e}' stream ${i} transport opened.`)}),_(c,Dc.EventType.CLOSE,()=>{h||(h=!0,ne(Qt,`RPC '${e}' stream ${i} transport closed`),p.so())}),_(c,Dc.EventType.ERROR,y=>{h||(h=!0,_f(Qt,`RPC '${e}' stream ${i} transport errored:`,y),p.so(new J(D.UNAVAILABLE,"The operation could not be completed")))}),_(c,Dc.EventType.MESSAGE,y=>{var w;if(!h){const v=y.data[0];Je(!!v);const m=v,g=m.error||((w=m[0])===null||w===void 0?void 0:w.error);if(g){ne(Qt,`RPC '${e}' stream ${i} received error:`,g);const E=g.status;let S=function(x){const R=gt[x];if(R!==void 0)return Xb(R)}(E),C=g.message;S===void 0&&(S=D.INTERNAL,C="Unknown error status: "+E+" with message "+g.message),h=!0,p.so(new J(S,C)),c.close()}else ne(Qt,`RPC '${e}' stream ${i} received:`,v),p.io(v)}}),_(a,u9.STAT_EVENT,y=>{y.stat===FE.PROXY?ne(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===FE.NOPROXY&&ne(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.no()},0),p}}function Im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(t){return new cF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ws=e,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n,r,i,s,o,a,l){this.Ws=e,this.bo=r,this.Po=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new l2(e,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(e,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,e!==4?this.Co.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(yi(n.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{e(()=>{const i=new J(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(e,n){const r=this.Uo(this.Vo);this.stream=this.Qo(e,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZF extends u2{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}Qo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Co.reset();const n=hF(this.serializer,e),r=function(i){if(!("targetChange"in i))return ve.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ve.min():s.readTime?jr(s.readTime):ve.min()}(e);return this.listener.zo(n,r)}jo(e){const n={};n.database=jy(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;return o=Ay(a)?{documents:gF(i,a)}:{query:yF(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=e2(i,s.resumeToken):s.snapshotVersion.compareTo(ve.min())>0&&(o.readTime=If(i,s.snapshotVersion.toTimestamp())),o}(this.serializer,e);const r=wF(this.serializer,e);r&&(n.labels=r),this.Fo(n)}Wo(e){const n={};n.database=jy(this.serializer),n.removeTarget=e,this.Fo(n)}}class e8 extends u2{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const n=mF(e.writeResults,e.commitTime),r=jr(e.commitTime);return this.listener.Zo(r,n)}return Je(!e.writeResults||e.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=jy(this.serializer),this.Fo(e)}Yo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>pF(this.serializer,r))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new J(D.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.co(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(D.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(D.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class n8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,e==="Online"&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(yi(n),this.ru=!1):ne("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(o=>{r.enqueueAndForget(async()=>{go(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=we(a);l.du.add(4),await sc(l),l.mu.set("Unknown"),l.du.delete(4),await Jh(l)}(this))})}),this.mu=new n8(r,i)}}async function Jh(t){if(go(t))for(const e of t.wu)await e(!0)}async function sc(t){for(const e of t.wu)await e(!1)}function c2(t,e){const n=we(t);n.fu.has(e.targetId)||(n.fu.set(e.targetId,e),o0(n)?s0(n):Fa(n).No()&&i0(n,e))}function d2(t,e){const n=we(t),r=Fa(n);n.fu.delete(e),r.No()&&f2(n,e),n.fu.size===0&&(r.No()?r.$o():go(n)&&n.mu.set("Unknown"))}function i0(t,e){t.gu.Ot(e.targetId),Fa(t).jo(e)}function f2(t,e){t.gu.Ot(e),Fa(t).Wo(e)}function s0(t){t.gu=new oF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.fu.get(e)||null}),Fa(t).start(),t.mu.ou()}function o0(t){return go(t)&&!Fa(t).xo()&&t.fu.size>0}function go(t){return we(t).du.size===0}function h2(t){t.gu=void 0}async function i8(t){t.fu.forEach((e,n)=>{i0(t,e)})}async function s8(t,e){h2(t),o0(t)?(t.mu.au(e),s0(t)):t.mu.set("Unknown")}async function o8(t,e,n){if(t.mu.set("Online"),e instanceof Zb&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.fu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.fu.delete(o),r.gu.removeTarget(o))}(t,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xf(t,r)}else if(e instanceof fd?t.gu.Kt(e):e instanceof Jb?t.gu.Jt(e):t.gu.zt(e),!n.isEqual(ve.min()))try{const r=await a2(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.gu.Xt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.fu.get(l);u&&i.fu.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.fu.get(a);if(!l)return;i.fu.set(a,l.withResumeToken(ln.EMPTY_BYTE_STRING,l.snapshotVersion)),f2(i,a);const u=new Vs(l.target,a,1,l.sequenceNumber);i0(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),await xf(t,r)}}async function xf(t,e,n){if(!tc(e))throw e;t.du.add(1),await sc(t),t.mu.set("Offline"),n||(n=()=>a2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne("RemoteStore","Retrying IndexedDB access"),await n(),t.du.delete(1),await Jh(t)})}function p2(t,e){return e().catch(n=>xf(t,n,e))}async function Zh(t){const e=we(t),n=as(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;a8(e);)try{const i=await qF(e.localStore,r);if(i===null){e.lu.length===0&&n.$o();break}r=i.batchId,l8(e,i)}catch(i){await xf(e,i)}m2(e)&&g2(e)}function a8(t){return go(t)&&t.lu.length<10}function l8(t,e){t.lu.push(e);const n=as(t);n.No()&&n.Jo&&n.Yo(e.mutations)}function m2(t){return go(t)&&!as(t).xo()&&t.lu.length>0}function g2(t){as(t).start()}async function u8(t){as(t).tu()}async function c8(t){const e=as(t);for(const n of t.lu)e.Yo(n.mutations)}async function d8(t,e,n){const r=t.lu.shift(),i=J1.from(r,e,n);await p2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Zh(t)}async function f8(t,e){e&&as(t).Jo&&await async function(n,r){if(i=r.code,sF(i)&&i!==D.ABORTED){const s=n.lu.shift();as(n).Oo(),await p2(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Zh(n)}var i}(t,e),m2(t)&&g2(t)}async function cS(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const r=go(n);n.du.add(3),await sc(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.du.delete(3),await Jh(n)}async function h8(t,e){const n=we(t);e?(n.du.delete(2),await Jh(n)):e||(n.du.add(2),await sc(n),n.mu.set("Unknown"))}function Fa(t){return t.yu||(t.yu=function(e,n,r){const i=we(e);return i.nu(),new ZF(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:i8.bind(null,t),Zr:s8.bind(null,t),zo:o8.bind(null,t)}),t.wu.push(async e=>{e?(t.yu.Oo(),o0(t)?s0(t):t.mu.set("Unknown")):(await t.yu.stop(),h2(t))})),t.yu}function as(t){return t.pu||(t.pu=function(e,n,r){const i=we(e);return i.nu(),new e8(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:u8.bind(null,t),Zr:f8.bind(null,t),Xo:c8.bind(null,t),Zo:d8.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),await Zh(t)):(await t.pu.stop(),t.lu.length>0&&(ne("RemoteStore",`Stopping write stream with ${t.lu.length} pending writes`),t.lu=[]))})),t.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new a0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function l0(t,e){if(yi("AsyncQueue",`${e}: ${t}`),tc(t))return new J(D.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=Il(),this.sortedSet=new Rt(this.comparator)}static emptySet(e){return new ia(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ia)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ia;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.Iu=new Rt(ae.comparator)}track(e){const n=e.doc.key,r=this.Iu.get(n);r?e.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,e):e.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Iu=this.Iu.remove(n):e.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):he():this.Iu=this.Iu.insert(n,e)}Tu(){const e=[];return this.Iu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ca{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ca(e,n,ia.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(){this.Eu=void 0,this.listeners=[]}}class m8{constructor(){this.queries=new Ua(e=>jb(e),Wh),this.onlineState="Unknown",this.Au=new Set}}async function u0(t,e){const n=we(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new p8),i)try{s.Eu=await n.onListen(r)}catch(o){const a=l0(o,`Initialization of query '${Oy(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Ru(n.onlineState),s.Eu&&e.vu(s.Eu)&&d0(n)}async function c0(t,e){const n=we(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function g8(t,e){const n=we(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.vu(i)&&(r=!0);o.Eu=i}}r&&d0(n)}function y8(t,e,n){const r=we(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function d0(t){t.Au.forEach(e=>{e.next()})}class f0{constructor(e,n,r){this.query=e,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),n=!0):this.Du(e,this.onlineState)&&(this.Cu(e),n=!0),this.Vu=e,n}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),n=!0),n}Du(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Su(e){if(e.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(e){e=Ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.key=e}}class v2{constructor(e){this.key=e}}class v8{constructor(e,n){this.query=e,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=ke(),this.mutatedKeys=ke(),this.Ku=Mb(e),this.Gu=new ia(this.Ku)}get Qu(){return this.Lu}zu(e,n){const r=n?n.ju:new dS,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=Kh(this.query,d)?d:null,_=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;h&&p?h.data.isEqual(p.data)?_!==y&&(r.track({type:3,doc:p}),w=!0):this.Wu(h,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.Ku(p,l)>0||u&&this.Ku(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),w=!0):h&&!p&&(r.track({type:1,doc:h}),w=!0,(l||u)&&(a=!0)),w&&(p?(o=o.add(p),s=y?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,ju:r,Mi:a,mutatedKeys:s}}Wu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.ju.Tu();s.sort((u,c)=>function(d,h){const p=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return p(d)-p(h)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const o=n?this.Ju():[],a=this.Uu.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,s.length!==0||l?{snapshot:new Ca(this.query,e.Gu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new dS,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=ke(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return e.forEach(r=>{this.Uu.has(r)||n.push(new v2(r))}),this.Uu.forEach(r=>{e.has(r)||n.push(new y2(r))}),n}Xu(e){this.Lu=e.Wi,this.Uu=ke();const n=this.zu(e.documents);return this.applyChanges(n,!0)}tc(){return Ca.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class w8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _8{constructor(e){this.key=e,this.ec=!1}}class E8{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Ua(a=>jb(a),Wh),this.ic=new Map,this.rc=new Set,this.oc=new Rt(ae.comparator),this.uc=new Map,this.cc=new t0,this.ac={},this.hc=new Map,this.lc=Sa.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function S8(t,e){const n=N8(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await WF(n.localStore,vi(e));n.isPrimaryClient&&c2(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await C8(n,e,r,a==="current",o.resumeToken)}return i}async function C8(t,e,n,r,i){t.dc=(d,h,p)=>async function(_,y,w,v){let m=y.view.zu(w);m.Mi&&(m=await aS(_.localStore,y.query,!1).then(({documents:S})=>y.view.zu(S,m)));const g=v&&v.targetChanges.get(y.targetId),E=y.view.applyChanges(m,_.isPrimaryClient,g);return hS(_,y.targetId,E.Yu),E.snapshot}(t,d,h,p);const s=await aS(t.localStore,e,!0),o=new v8(e,s.Wi),a=o.zu(s.documents),l=ic.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);hS(t,n,u.Yu);const c=new w8(e,n,o);return t.sc.set(e,c),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),u.snapshot}async function T8(t,e){const n=we(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!Wh(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await My(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),d2(n.remoteStore,r.targetId),$y(n,r.targetId)}).catch(ec)):($y(n,r.targetId),await My(n.localStore,r.targetId,!0))}async function I8(t,e,n){const r=O8(t);try{const i=await function(s,o){const a=we(s),l=St.now(),u=o.reduce((h,p)=>h.add(p.key),ke());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=wi(),_=ke();return a.Ki.getEntries(h,u).next(y=>{p=y,p.forEach((w,v)=>{v.isValidDocument()||(_=_.add(w))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,p)).next(y=>{c=y;const w=[];for(const v of o){const m=eF(v,c.get(v.key).overlayedDocument);m!=null&&w.push(new ys(v.key,m,kb(m.value.mapValue),gr.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,w,o)}).next(y=>{d=y;const w=y.applyToLocalDocumentSet(c,_);return a.documentOverlayCache.saveOverlays(h,y.batchId,w)})}).then(()=>({batchId:d.batchId,changes:Ub(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new Rt($e)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),await oc(r,i.changes),await Zh(r.remoteStore)}catch(i){const s=l0(i,"Failed to persist write");n.reject(s)}}async function w2(t,e){const n=we(t);try{const r=await BF(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(Je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?Je(o.ec):i.removedDocuments.size>0&&(Je(o.ec),o.ec=!1))}),await oc(n,r,e)}catch(r){await ec(r)}}function fS(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const a=o.view.Ru(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=we(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Ru(o)&&(l=!0)}),l&&d0(a)}(r.eventManager,e),i.length&&r.nc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function x8(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new Rt(ae.comparator);o=o.insert(s,Zt.newNoDocument(s,ve.min()));const a=ke().add(s),l=new Yh(ve.min(),new Map,new bt($e),o,a);await w2(r,l),r.oc=r.oc.remove(s),r.uc.delete(e),h0(r)}else await My(r.localStore,e,!1).then(()=>$y(r,e,n)).catch(ec)}async function k8(t,e){const n=we(t),r=e.batch.batchId;try{const i=await zF(n.localStore,e);E2(n,r,null),_2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await oc(n,i)}catch(i){await ec(i)}}async function b8(t,e,n){const r=we(t);try{const i=await function(s,o){const a=we(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(Je(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);E2(r,e,n),_2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await oc(r,i)}catch(i){await ec(i)}}function _2(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function E2(t,e,n){const r=we(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function $y(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc.wc(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.hs(e).forEach(r=>{t.cc.containsKey(r)||S2(t,r)})}function S2(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(d2(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),h0(t))}function hS(t,e,n){for(const r of n)r instanceof y2?(t.cc.addReference(r.key,e),R8(t,r)):r instanceof v2?(ne("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||S2(t,r.key)):he()}function R8(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(ne("SyncEngine","New document in limbo: "+n),t.rc.add(r),h0(t))}function h0(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new ae(Ye.fromString(e)),r=t.lc.next();t.uc.set(r,new _8(n)),t.oc=t.oc.insert(n,r),c2(t.remoteStore,new Vs(vi(qh(n.path)),r,2,K1.ct))}}async function oc(t,e,n){const r=we(t),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=r0.Di(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.nc.zo(i),await async function(a,l){const u=we(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>z.forEach(l,d=>z.forEach(d.Vi,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>z.forEach(d.Si,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!tc(c))throw c;ne("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Li.get(d),p=h.snapshotVersion,_=h.withLastLimboFreeSnapshotVersion(p);u.Li=u.Li.insert(d,_)}}}(r.localStore,s))}async function A8(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const r=await o2(n.localStore,e);n.currentUser=e,function(i,s){i.hc.forEach(o=>{o.forEach(a=>{a.reject(new J(D.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await oc(n,r.Qi)}}function P8(t,e){const n=we(t),r=n.uc.get(e);if(r&&r.ec)return ke().add(r.key);{let i=ke();const s=n.ic.get(e);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}function N8(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=w2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=x8.bind(null,e),e.nc.zo=g8.bind(null,e.eventManager),e.nc.wc=y8.bind(null,e.eventManager),e}function O8(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=k8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b8.bind(null,e),e}class pS{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Xh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return VF(this.persistence,new UF,e.initialUser,this.serializer)}createPersistence(e){return new MF(n0.Fs,this.serializer)}createSharedClientState(e){return new GF}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class L8{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=A8.bind(null,this.syncEngine),await h8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new m8}createDatastore(e){const n=Xh(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new JF(i));var i;return function(s,o,a,l){return new t8(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>fS(this.syncEngine,a,0),o=uS.D()?new uS:new QF,new r8(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new E8(r,i,s,o,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=we(e);ne("RemoteStore","RemoteStore shutting down."),n.du.add(5),await sc(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):yi("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xt.UNAUTHENTICATED,this.clientId=Cb.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ne("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=l0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xm(t,e){t.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await o2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function mS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await M8(t);ne("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>cS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>cS(e.remoteStore,s)),t._onlineComponents=e}function j8(t){return t.name==="FirebaseError"?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function M8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await xm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!j8(n))throw n;_f("Error using user provided cache. Falling back to memory cache: "+n),await xm(t,new pS)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),await xm(t,new pS);return t._offlineComponents}async function C2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),await mS(t,t._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),await mS(t,new L8))),t._onlineComponents}function $8(t){return C2(t).then(e=>e.syncEngine)}async function kf(t){const e=await C2(t),n=e.eventManager;return n.onListen=S8.bind(null,e.syncEngine),n.onUnlisten=T8.bind(null,e.syncEngine),n}function U8(t,e,n={}){const r=new ai;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new p0({next:d=>{s.enqueueAndForget(()=>c0(i,c));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new J(D.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?l.reject(new J(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new f0(qh(o.path),u,{includeMetadataChanges:!0,xu:!0});return u0(i,c)}(await kf(t),t.asyncQueue,e,n,r)),r.promise}function F8(t,e,n={}){const r=new ai;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new p0({next:d=>{s.enqueueAndForget(()=>c0(i,c)),d.fromCache&&a.source==="server"?l.reject(new J(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new f0(o,u,{includeMetadataChanges:!0,xu:!0});return u0(i,c)}(await kf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t,e,n){if(!n)throw new J(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function V8(t,e,n,r){if(e===!0&&r===!0)throw new J(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yS(t){if(!ae.isDocumentKey(t))throw new J(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vS(t){if(ae.isDocumentKey(t))throw new J(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ep(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function Dn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ep(t);throw new J(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new J(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,V8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wS(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new f9;switch(n.type){case"firstParty":return new g9(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new J(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=gS.get(e);n&&(ne("ComponentProvider","Removing Datastore"),gS.delete(e),n.terminate())}(this),Promise.resolve()}}function z8(t,e,n,r={}){var i;const s=(t=Dn(t,tp))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&_f("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Xt.MOCK_USER;else{o=lx(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new J(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Xt(l)}t._authCredentials=new h9(new Sb(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class yo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yo(this.firestore,e,this._query)}}class es extends yo{constructor(e,n,r){super(e,n,qh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new ae(e))}withConverter(e){return new es(this.firestore,e,this._path)}}function np(t,e,...n){if(t=Ge(t),T2("collection","path",e),t instanceof tp){const r=Ye.fromString(e,...n);return vS(r),new es(t,null,r)}{if(!(t instanceof sn||t instanceof es))throw new J(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return vS(r),new es(t.firestore,null,r)}}function tr(t,e,...n){if(t=Ge(t),arguments.length===1&&(e=Cb.A()),T2("doc","path",e),t instanceof tp){const r=Ye.fromString(e,...n);return yS(r),new sn(t,null,new ae(r))}{if(!(t instanceof sn||t instanceof es))throw new J(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return yS(r),new sn(t.firestore,t instanceof es?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new l2(this,"async_queue_retry"),this.qc=()=>{const n=Im();n&&ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const e=Im();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const n=Im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new ai;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(e){if(!tc(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(e){const n=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw yi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(e,n,r){this.Uc(),this.Lc.indexOf(e)>-1&&(n=0);const i=a0.createAndSchedule(this,e,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&he()}verifyOperationInProgress(){}async zc(){let e;do e=this.Nc,await e;while(e!==this.Nc)}jc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function _S(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class ls extends tp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new B8,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||I2(this),this._firestoreClient.terminate()}}function H8(t,e){const n=typeof t=="object"?t:Ch(),r=typeof t=="string"?t:e||"(default)",i=ps(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=ox("firestore");s&&z8(i,...s)}return i}function rp(t){return t._firestoreClient||I2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function I2(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new R9(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new D8(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ta(ln.fromBase64String(e))}catch(n){throw new J(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ta(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8=/^__.*__$/;class W8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new rc(e,this.data,n,this.fieldTransforms)}}class x2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ys(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function k2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class y0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new y0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.ea(e),i}na(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return bf(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(e.length===0)throw this.ia("Document fields must not be empty");if(k2(this.Yc)&&q8.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class K8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xh(e)}ua(e,n,r,i=!1){return new y0({Yc:e,methodName:n,oa:r,path:en.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sp(t){const e=t._freezeSettings(),n=Xh(t._databaseId);return new K8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function b2(t,e,n,r,i,s={}){const o=t.ua(s.merge||s.mergeFields?2:0,e,n,i);v0("Data must be an object, but it was:",o,r);const a=R2(r,o);let l,u;if(s.merge)l=new Pn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=Uy(e,d,n);if(!o.contains(h))throw new J(D.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);P2(c,h)||c.push(h)}l=new Pn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new W8(new En(a),l,u)}class op extends m0{_toFieldTransform(e){if(e.Yc!==2)throw e.Yc===1?e.ia(`${this._methodName}() can only appear at the top level of your update data`):e.ia(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof op}}function G8(t,e,n,r){const i=t.ua(1,e,n);v0("Data must be an object, but it was:",i,r);const s=[],o=En.empty();mo(r,(l,u)=>{const c=w0(e,l,n);u=Ge(u);const d=i.na(c);if(u instanceof op)s.push(c);else{const h=ac(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new Pn(s);return new x2(o,a,i.fieldTransforms)}function Q8(t,e,n,r,i,s){const o=t.ua(1,e,n),a=[Uy(e,r,n)],l=[i];if(s.length%2!=0)throw new J(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Uy(e,s[h])),l.push(s[h+1]);const u=[],c=En.empty();for(let h=a.length-1;h>=0;--h)if(!P2(u,a[h])){const p=a[h];let _=l[h];_=Ge(_);const y=o.na(p);if(_ instanceof op)u.push(p);else{const w=ac(_,y);w!=null&&(u.push(p),c.set(p,w))}}const d=new Pn(u);return new x2(c,d,o.fieldTransforms)}function Y8(t,e,n,r=!1){return ac(n,t.ua(r?4:3,e))}function ac(t,e){if(A2(t=Ge(t)))return v0("Unsupported field value:",e,t),R2(t,e);if(t instanceof m0)return function(n,r){if(!k2(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ta&&e.Yc!==4)throw e.ia("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=ac(o,r.sa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Ge(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return G9(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=St.fromDate(n);return{timestampValue:If(r.serializer,i)}}if(n instanceof St){const i=new St(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:If(r.serializer,i)}}if(n instanceof g0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ta)return{bytesValue:e2(r.serializer,n._byteString)};if(n instanceof sn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:e0(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${ep(n)}`)}(t,e)}function R2(t,e){const n={};return Tb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mo(t,(r,i)=>{const s=ac(i,e.Xc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function A2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof g0||t instanceof Ta||t instanceof sn||t instanceof m0)}function v0(t,e,n){if(!A2(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=ep(n);throw r==="an object"?e.ia(t+" a custom object"):e.ia(t+" "+r)}}function Uy(t,e,n){if((e=Ge(e))instanceof ip)return e._internalPath;if(typeof e=="string")return w0(t,e);throw bf("Field path arguments must be of type string or ",t,!1,void 0,n)}const X8=new RegExp("[~\\*/\\[\\]]");function w0(t,e,n){if(e.search(X8)>=0)throw bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ip(...e.split("."))._internalPath}catch{throw bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new J(D.INVALID_ARGUMENT,a+t+l)}function P2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(O2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J8 extends N2{data(){return super.data()}}function O2(t,e){return typeof e=="string"?w0(t,e):e instanceof ip?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _0{}class Z8 extends _0{}function e7(t,e,...n){let r=[];e instanceof _0&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof S0).length,o=i.filter(a=>a instanceof E0).length;if(s>1||s>0&&o>0)throw new J(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class E0 extends Z8{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new E0(e,n,r)}_apply(e){const n=this._parse(e);return D2(e._query,n),new yo(e.firestore,e.converter,Py(e._query,n))}_parse(e){const n=sp(e.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new J(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){SS(c,u);const h=[];for(const p of c)h.push(ES(a,i,p));d={arrayValue:{values:h}}}else d=ES(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||SS(c,u),d=Y8(o,s,c,u==="in"||u==="not-in");return Et.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class S0 extends _0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new S0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)D2(s,a),s=Py(s,a)}(e._query,n),new yo(e.firestore,e.converter,Py(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ES(t,e,n){if(typeof(n=Ge(n))=="string"){if(n==="")throw new J(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Db(e)&&n.indexOf("/")!==-1)throw new J(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ye.fromString(n));if(!ae.isDocumentKey(r))throw new J(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return WE(t,new ae(r))}if(n instanceof sn)return WE(t,n._key);throw new J(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ep(n)}.`)}function SS(t,e){if(!Array.isArray(t)||t.length===0)throw new J(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function D2(t,e){if(e.isInequality()){const r=X1(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new J(D.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=Lb(t);s!==null&&t7(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function t7(t,e,n){if(!n.isEqual(e))throw new J(D.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class n7{convertValue(e,n="none"){switch(ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw he()}}convertObject(e,n){const r={};return mo(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new g0(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ku(e));default:return null}}convertTimestamp(e){const n=os(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);Je(s2(r));const i=new bu(r.get(1),r.get(3)),s=new ae(r.popFirst(5));return i.isEqual(n)||yi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class M2 extends N2{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(O2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class hd extends M2{data(e={}){return super.data(e)}}class $2{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new hd(this._firestore,this._userDataWriter,r.key,r,new xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new hd(r._firestore,r._userDataWriter,o.doc.key,o.doc,new xl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new hd(r._firestore,r._userDataWriter,o.doc.key,o.doc,new xl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:r7(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function r7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){t=Dn(t,sn);const e=Dn(t.firestore,ls);return U8(rp(e),t._key).then(n=>V2(e,t,n))}class C0 extends n7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ta(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function U2(t){t=Dn(t,yo);const e=Dn(t.firestore,ls),n=rp(e),r=new C0(e);return L2(t._query),F8(n,t._query).then(i=>new $2(e,r,t,i))}function T0(t,e,n){t=Dn(t,sn);const r=Dn(t.firestore,ls),i=j2(t.converter,e,n);return I0(r,[b2(sp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,gr.none())])}function ap(t,e,n,...r){t=Dn(t,sn);const i=Dn(t.firestore,ls),s=sp(i);let o;return o=typeof(e=Ge(e))=="string"||e instanceof ip?Q8(s,"updateDoc",t._key,e,n,r):G8(s,"updateDoc",t._key,e),I0(i,[o.toMutation(t._key,gr.exists(!0))])}function i7(t,e){const n=Dn(t.firestore,ls),r=tr(t),i=j2(t.converter,e);return I0(n,[b2(sp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,gr.exists(!1))]).then(()=>r)}function F2(t,...e){var n,r,i;t=Ge(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||_S(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(_S(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof sn)u=Dn(t.firestore,ls),c=qh(t._key.path),l={next:d=>{e[o]&&e[o](V2(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Dn(t,yo);u=Dn(d.firestore,ls),c=d._query;const h=new C0(u);l={next:p=>{e[o]&&e[o](new $2(u,h,d,p))},error:e[o+1],complete:e[o+2]},L2(t._query)}return function(d,h,p,_){const y=new p0(_),w=new f0(h,y,p);return d.asyncQueue.enqueueAndForget(async()=>u0(await kf(d),w)),()=>{y.yc(),d.asyncQueue.enqueueAndForget(async()=>c0(await kf(d),w))}}(rp(u),c,a,l)}function I0(t,e){return function(n,r){const i=new ai;return n.asyncQueue.enqueueAndForget(async()=>I8(await $8(n),r,i)),i.promise}(rp(t),e)}function V2(t,e,n){const r=n.docs.get(e._key),i=new C0(t);return new M2(t,i,e._key,r,new xl(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){$a=n})(co),wr(new Yn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new ls(new p9(n.getProvider("auth-internal")),new v9(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new J(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),xn(VE,"3.10.1",t),xn(VE,"3.10.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="firebasestorage.googleapis.com",B2="storageBucket",s7=2*60*1e3,o7=10*60*1e3,a7=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt extends er{constructor(e,n,r=0){super(km(e),`Firebase Storage: ${n} (${km(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return km(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ze;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ze||(Ze={}));function km(t){return"storage/"+t}function x0(){const t="An unknown error occurred, please check the error payload for server response.";return new dt(Ze.UNKNOWN,t)}function l7(t){return new dt(Ze.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function u7(t){return new dt(Ze.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function c7(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt(Ze.UNAUTHENTICATED,t)}function d7(){return new dt(Ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function f7(t){return new dt(Ze.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function H2(){return new dt(Ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function q2(){return new dt(Ze.CANCELED,"User canceled the upload/download.")}function h7(t){return new dt(Ze.INVALID_URL,"Invalid URL '"+t+"'.")}function p7(t){return new dt(Ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function m7(){return new dt(Ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+B2+"' property when initializing the app?")}function W2(){return new dt(Ze.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function g7(){return new dt(Ze.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function y7(){return new dt(Ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function v7(t){return new dt(Ze.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Fy(t){return new dt(Ze.INVALID_ARGUMENT,t)}function K2(){return new dt(Ze.APP_DELETED,"The Firebase app was deleted.")}function w7(t){return new dt(Ze.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ql(t,e){return new dt(Ze.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function al(t){throw new dt(Ze.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Nn.makeFromUrl(e,n)}catch{return new Nn(e,"")}if(r.path==="")return r;throw p7(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),_={bucket:1,path:3},y=n===z2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",v=new RegExp(`^https?://${y}/${i}/${w}`,"i"),g=[{regex:a,indices:l,postModify:s},{regex:p,indices:_,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<g.length;E++){const S=g[E],C=S.regex.exec(e);if(C){const x=C[S.indices.bucket];let R=C[S.indices.path];R||(R=""),r=new Nn(x,R),S.postModify(r);break}}if(r==null)throw h7(e);return r}}class _7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...w){u||(u=!0,e.apply(null,w))}function d(w){i=setTimeout(()=>{i=null,t(p,l())},w)}function h(){s&&clearTimeout(s)}function p(w,...v){if(u){h();return}if(w){h(),c.call(null,w,...v);return}if(l()||o){h(),c.call(null,w,...v);return}r<64&&(r*=2);let g;a===1?(a=2,g=0):g=(r+Math.random())*1e3,d(g)}let _=!1;function y(w){_||(_=!0,h(),!u&&(i!==null?(w||(a=2),clearTimeout(i),d(0)):w||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function S7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(t){return t!==void 0}function T7(t){return typeof t=="function"}function I7(t){return typeof t=="object"&&!Array.isArray(t)}function lp(t){return typeof t=="string"||t instanceof String}function CS(t){return k0()&&t instanceof Blob}function k0(){return typeof Blob<"u"&&!g$()}function TS(t,e,n,r){if(r<e)throw Fy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Fy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function G2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(zs||(zs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,_)=>{this.resolve_=p,this.reject_=_,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Fc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===zs.NO_ERROR,l=s.getStatus();if(!a||Q2(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===zs.ABORT;r(!1,new Fc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Fc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());C7(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=x0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?K2():q2();o(l)}else{const l=H2();o(l)}};this.canceled_?n(!1,new Fc(!1,null,!0)):this.backoffId_=E7(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&S7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function k7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function b7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function R7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function A7(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function P7(t,e,n,r,i,s,o=!0){const a=G2(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return R7(u,e),k7(u,n),b7(u,s),A7(u,r),new x7(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function O7(...t){const e=N7();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(k0())return new Blob(t);throw new dt(Ze.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function L7(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(t){if(typeof atob>"u")throw v7("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bm{constructor(e,n){this.data=e,this.contentType=n||null}}function j7(t,e){switch(t){case br.RAW:return new bm(Y2(e));case br.BASE64:case br.BASE64URL:return new bm(X2(t,e));case br.DATA_URL:return new bm($7(e),U7(e))}throw x0()}function Y2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function M7(t){let e;try{e=decodeURIComponent(t)}catch{throw ql(br.DATA_URL,"Malformed data URL.")}return Y2(e)}function X2(t,e){switch(t){case br.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw ql(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case br.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw ql(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=D7(e)}catch(i){throw i.message.includes("polyfill")?i:ql(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class J2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ql(br.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=F7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function $7(t){const e=new J2(t);return e.base64?X2(br.BASE64,e.rest):M7(e.rest)}function U7(t){return new J2(t).contentType}function F7(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n){let r=0,i="";CS(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(CS(this.data_)){const r=this.data_,i=L7(r,e,n);return i===null?null:new Mi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Mi(r,!0)}}static getBlob(...e){if(k0()){const n=e.map(r=>r instanceof Mi?r.data_:r);return new Mi(O7.apply(null,n))}else{const n=e.map(o=>lp(o)?j7(br.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Mi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(t){let e;try{e=JSON.parse(t)}catch{return null}return I7(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function z7(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function eR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B7(t,e){return e}class cn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||B7}}let Vc=null;function H7(t){return!lp(t)||t.length<2?t:eR(t)}function tR(){if(Vc)return Vc;const t=[];t.push(new cn("bucket")),t.push(new cn("generation")),t.push(new cn("metageneration")),t.push(new cn("name","fullPath",!0));function e(s,o){return H7(o)}const n=new cn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new cn("size");return i.xform=r,t.push(i),t.push(new cn("timeCreated")),t.push(new cn("updated")),t.push(new cn("md5Hash",null,!0)),t.push(new cn("cacheControl",null,!0)),t.push(new cn("contentDisposition",null,!0)),t.push(new cn("contentEncoding",null,!0)),t.push(new cn("contentLanguage",null,!0)),t.push(new cn("contentType",null,!0)),t.push(new cn("metadata","customMetadata",!0)),Vc=t,Vc}function q7(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Nn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function W7(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return q7(r,t),r}function nR(t,e,n){const r=Z2(e);return r===null?null:W7(t,r,n)}function K7(t,e,n,r){const i=Z2(e);if(i===null||!lp(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),p=lc(h,n,r),_=G2({alt:"media",token:u});return p+_})[0]}function rR(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Va{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t){if(!t)throw x0()}function b0(t,e){function n(r,i){const s=nR(t,i,e);return li(s!==null),s}return n}function G7(t,e){function n(r,i){const s=nR(t,i,e);return li(s!==null),K7(s,i,t.host,t._protocol)}return n}function uc(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=d7():i=c7():n.getStatus()===402?i=u7(t.bucket):n.getStatus()===403?i=f7(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function iR(t){const e=uc(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=l7(t.path)),s.serverResponse=i.serverResponse,s}return n}function Q7(t,e,n){const r=e.fullServerUrl(),i=lc(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Va(i,s,b0(t,n),o);return a.errorHandler=iR(e),a}function Y7(t,e,n){const r=e.fullServerUrl(),i=lc(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Va(i,s,G7(t,n),o);return a.errorHandler=iR(e),a}function X7(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function sR(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=X7(null,e)),r}function J7(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let g="";for(let E=0;E<2;E++)g=g+Math.random().toString().slice(2);return g}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=sR(e,r,i),c=rR(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Mi.getBlob(d,r,h);if(p===null)throw W2();const _={name:u.fullPath},y=lc(s,t.host,t._protocol),w="POST",v=t.maxUploadRetryTime,m=new Va(y,w,b0(t,n),v);return m.urlParams=_,m.headers=o,m.body=p.uploadData(),m.errorHandler=uc(e),m}class Rf{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function R0(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{li(!1)}return li(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Z7(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=sR(e,r,i),a={name:o.fullPath},l=lc(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=rR(o,n),h=t.maxUploadRetryTime;function p(y){R0(y);let w;try{w=y.getResponseHeader("X-Goog-Upload-URL")}catch{li(!1)}return li(lp(w)),w}const _=new Va(l,u,p,h);return _.urlParams=a,_.headers=c,_.body=d,_.errorHandler=uc(e),_}function eV(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=R0(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{li(!1)}d||li(!1);const h=Number(d);return li(!isNaN(h)),new Rf(h,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Va(n,o,s,a);return l.headers=i,l.errorHandler=uc(e),l}const IS=256*1024;function tV(t,e,n,r,i,s,o,a){const l=new Rf(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw g7();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,h=d+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const _={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},y=r.slice(d,h);if(y===null)throw W2();function w(E,S){const C=R0(E,["active","final"]),x=l.current+c,R=r.size();let b;return C==="final"?b=b0(e,s)(E,S):b=null,new Rf(x,R,C==="final",b)}const v="POST",m=e.maxUploadRetryTime,g=new Va(n,v,w,m);return g.headers=_,g.body=y.uploadData(),g.progressCallback=a||null,g.errorHandler=uc(t),g}const wn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Rm(t){switch(t){case"running":case"pausing":case"canceling":return wn.RUNNING;case"paused":return wn.PAUSED;case"success":return wn.SUCCESS;case"canceled":return wn.CANCELED;case"error":return wn.ERROR;default:return wn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n,r){if(T7(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class rV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=zs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=zs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw al("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw al("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw al("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw al("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw al("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class iV extends rV{initXhr(){this.xhr_.responseType="text"}}function bo(){return new iV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=tR(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Ze.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(Q2(i.status,[]))if(s)i=H2();else{this.sleepTime=Math.max(this.sleepTime*2,a7),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Ze.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=Z7(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,bo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=eV(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,bo,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=IS*this._chunkMultiplier,n=new Rf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=tV(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,bo,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){IS*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Q7(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,bo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=J7(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,bo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=q2(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Rm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new nV(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Rm(this._state)){case wn.SUCCESS:Co(this._resolve.bind(null,this.snapshot))();break;case wn.CANCELED:case wn.ERROR:const n=this._reject;Co(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Rm(this._state)){case wn.RUNNING:case wn.PAUSED:e.next&&Co(e.next.bind(e,this.snapshot))();break;case wn.SUCCESS:e.complete&&Co(e.complete.bind(e))();break;case wn.CANCELED:case wn.ERROR:e.error&&Co(e.error.bind(e,this._error))();break;default:e.error&&Co(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n){this._service=e,n instanceof Nn?this._location=n:this._location=Nn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new io(e,n)}get root(){const e=new Nn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eR(this._location.path)}get storage(){return this._service}get parent(){const e=V7(this._location.path);if(e===null)return null;const n=new Nn(this._location.bucket,e);return new io(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw w7(e)}}function oV(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new sV(t,new Mi(e),n)}function aV(t){t._throwIfRoot("getDownloadURL");const e=Y7(t.storage,t._location,tR());return t.storage.makeRequestWithTokens(e,bo).then(n=>{if(n===null)throw y7();return n})}function lV(t,e){const n=z7(t._location.path,e),r=new Nn(t._location.bucket,n);return new io(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(t){return/^[A-Za-z]+:\/\//.test(t)}function cV(t,e){return new io(t,e)}function oR(t,e){if(t instanceof A0){const n=t;if(n._bucket==null)throw m7();const r=new io(n,n._bucket);return e!=null?oR(r,e):r}else return e!==void 0?lV(t,e):t}function dV(t,e){if(e&&uV(e)){if(t instanceof A0)return cV(t,e);throw Fy("To use ref(service, url), the first argument must be a Storage instance.")}else return oR(t,e)}function xS(t,e){const n=e==null?void 0:e[B2];return n==null?null:Nn.makeFromBucketSpec(n,t)}function fV(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:lx(i,t.app.options.projectId))}class A0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=z2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=s7,this._maxUploadRetryTime=o7,this._requests=new Set,i!=null?this._bucket=Nn.makeFromBucketSpec(i,this._host):this._bucket=xS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Nn.makeFromBucketSpec(this._url,e):this._bucket=xS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new io(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new _7(K2());{const o=P7(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const kS="@firebase/storage",bS="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="storage";function hV(t,e,n){return t=Ge(t),oV(t,e,n)}function pV(t){return t=Ge(t),aV(t)}function mV(t,e){return t=Ge(t),dV(t,e)}function gV(t=Ch(),e){t=Ge(t);const r=ps(t,aR).getImmediate({identifier:e}),i=ox("storage");return i&&yV(r,...i),r}function yV(t,e,n,r={}){fV(t,e,n,r)}function vV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new A0(n,r,i,e,co)}function wV(){wr(new Yn(aR,vV,"PUBLIC").setMultipleInstances(!0)),xn(kS,bS,""),xn(kS,bS,"esm2017")}wV();const _V={apiKey:"AIzaSyCp1genoyHX34BgerJeoNIDKJNp2H3Y2Rc",authDomain:"amelianceworship-d6e23.firebaseapp.com",projectId:"amelianceworship-d6e23",storageBucket:"amelianceworship-d6e23.appspot.com",messagingSenderId:"268005856332",appId:"1:268005856332:web:ba2da910ba7dec2a1350e9",measurementId:"G-28X8EC3EV9"},EV=mx(_V),za=z6(),SV=gV();i5(EV);const CV=new Yr,vn=H8();async function TV({email:t,password:e}){try{return{user:(await C3(za,t,e)).user,status:"success"}}catch(n){throw new Error(le(n))}}function IV(){const t=za.currentUser;if(t!==null)return{user:t,status:"success"};throw new Error(le("Can't find user auth!"))}async function xV({email:t,password:e}){try{return{user:(await T3(za,t,e)).user,status:"success"}}catch(n){throw new Error(le(n))}}async function kV(){try{return{user:(await X3(za,CV)).user,status:"success"}}catch(t){throw new Error(le(t))}}function vo(){return{status:"success"}}function bV(){try{return A3(za),vo()}catch(t){throw new Error(le(t))}}async function RV({user:t,displayName:e,photoURL:n}){const r={};if(e&&(r.displayName=e),n&&(r.photoURL=n),mr(r))throw new Error(le("Nothing to update"));try{return await x3(t,r),vo()}catch(i){throw new Error(le(i))}}const AV=Object.freeze(Object.defineProperty({__proto__:null,createUser:TV,getCurrentAuthUser:IV,signInWithEmail:xV,signInWithGoogle:kV,signOut:bV,updateProfile:RV},Symbol.toStringTag,{value:"Module"}));async function PV({chatId:t}){const e=tr(vn,"chats",t);try{const n=await Nu(e);if(n.exists())return{messages:n.data().message,status:"success"};await T0(e,{messages:[]});const r=await Nu(e);if(r.exists())return{messages:r.data().message,status:"success"};throw new Error("Can't find group chat!")}catch(n){throw new Error(le(n))}}const NV=Object.freeze(Object.defineProperty({__proto__:null,getChatMessages:PV},Symbol.toStringTag,{value:"Module"}));async function OV(){const t=np(vn,"groups");try{return{chatId:(await i7(t,{})).id,status:"success"}}catch(e){throw new Error(le(e))}}async function lR({chatId:t}){const e=tr(vn,"groups",t);try{const n=await Nu(e);if(n.exists())return{messages:n.data().messages,status:"success"};throw new Error("Can't find group messages!")}catch(n){throw new Error(le(n))}}async function LV({text:t,chatId:e,user:n}){var r;try{const i=await lR({chatId:e});if("error"in i)throw new Error((r=i.error)==null?void 0:r.toString());const o={messageId:i.messages&&i.messages.length>0?i.messages[i.messages.length-1].messageId+1:0,text:t,chatId:e,date:St.now().toMillis().toString(),user:n};let a;"messages"in i&&i.messages&&i.messages.length>0?a=[...i.messages,o]:a=[o];const l=tr(vn,"groups",e);return await ap(l,{messages:a}),vo()}catch(i){throw new Error(le(i))}}async function DV(){const t=np(vn,"groups");try{const e=await U2(t),n={};if(e.forEach(r=>{n[r.id]=r.data()}),!X.isObjectEmpty(n))return{groups:n,status:"success"};throw new Error("Can't find any groups!")}catch(e){throw new Error(le(e))}}async function jV({chatId:t}){const e=tr(vn,"groups",t);try{const n=await Nu(e);if(n.exists())return{info:n.data().info,status:"success"};throw new Error("Can't find group info!")}catch(n){throw new Error(le(n))}}async function MV({chatId:t,displayName:e,photoURL:n,lastText:r,color:i,ownerId:s,admins:o,type:a}){const l=tr(vn,"groups",t);try{const u={};return t&&(u.chatId=t),e&&(u.displayName=e),n&&(u.photoURL=n),u.date=Qd().toString(),r&&(u.lastText=r),i&&(u.color=i),s&&(u.ownerId=s),o&&o.length>0&&(u.admins=o),a&&(u.type=a),await ap(l,{info:u}),vo()}catch(u){throw new Error(le(u))}}const $V=Object.freeze(Object.defineProperty({__proto__:null,addGroup:OV,addMessage:LV,getAllGroups:DV,getGroupInfo:jV,getGroupMessages:lR,updateGroupInfo:MV},Symbol.toStringTag,{value:"Module"}));async function UV({uid:t}){const e=tr(vn,"userChats",t);try{return await T0(e,{}),vo()}catch(n){throw new Error(le(n))}}function FV({chatId:t,uid:e,targetChatUserId:n,targetChatUserDisplayName:r,targetChatUserPhotoURL:i}){const s=tr(vn,"userChats",e);ap(s,{[`${t}.userInfo`]:{uid:n,displayName:r,photoURL:i},[`${t}.date`]:Qd()})}const VV=Object.freeze(Object.defineProperty({__proto__:null,addUserChatsForUser:UV,updateUserChatInfo:FV},Symbol.toStringTag,{value:"Module"}));async function zV({uid:t}){const e=tr(vn,"users",t);try{return await T0(e,{uid:t}),vo()}catch(n){throw new Error(le(n))}}async function BV(){const t=np(vn,"users");try{const e=await U2(t),n={};if(e.forEach(r=>{const i=r.data();n[r.id]={uid:i.uid,...i.user}}),!X.isObjectEmpty(n))return{users:n,status:"success"};throw new Error(le("Can't find any users!"))}catch(e){throw new Error(le(e))}}async function HV({userId:t}){const e=tr(vn,"users",t);try{const n=await Nu(e);if(n.exists()){const r=n.data();return{user:{uid:r.uid,...r.user},status:"success"}}throw new Error("Can't find user!")}catch(n){throw new Error(le(n))}}async function qV({uid:t,displayName:e,photoURL:n,email:r,userType:i,role:s,sex:o,lastActiveChatId:a,registrationDate:l,isOnline:u,visitsCount:c}){const d=tr(vn,"users",t);try{const h={};return e&&(h.displayName=e.trim()),n&&(h.photoURL=n),r&&(h.email=r),i&&(h.userType=i),s&&(h.role=s.trim()),o&&(h.sex=o),a&&(h.lastActiveChatId=a),h.lastVisitDate=Qd().toString(),h.registrationDate=l||Qd().toString(),u&&(h.isOnline=u),c&&(h.visitsCount=c),await ap(d,{user:h}),vo()}catch(h){throw new Error(le(h))}}const WV=Object.freeze(Object.defineProperty({__proto__:null,addUser:zV,getAllUsers:BV,getUserById:HV,updateUser:qV},Symbol.toStringTag,{value:"Module"})),KV=Object.freeze(Object.defineProperty({__proto__:null,chats:NV,groups:$V,userChats:VV,users:WV},Symbol.toStringTag,{value:"Module"}));function GV(...t){return t.sort().join("-")}const QV=Object.freeze(Object.defineProperty({__proto__:null,combineIds:GV},Symbol.toStringTag,{value:"Module"}));async function YV({refName:t,file:e}){const n=mV(SV,t);try{return await hV(n,e),{downloadURL:await pV(n),status:"success"}}catch(r){throw new Error(le(r))}}const XV=Object.freeze(Object.defineProperty({__proto__:null,uploadFile:YV},Symbol.toStringTag,{value:"Module"})),JV=Object.freeze(Object.defineProperty({__proto__:null,auth:AV,database:KV,helpers:QV,storage:XV},Symbol.toStringTag,{value:"Module"}));function ZV(t){return t.table.rows.map(e=>{var n;return(n=e.c.at(0))==null?void 0:n.v})}function ez(t){const e={},{table:n}=t,r=n.rows[0].c.length;for(let i=0;i<r;i++){const s=[];for(let o=1;o<n.rows.length;o++)n.rows[o].c[i]?s[o-1]=n.rows[o].c[i].v??"":s[o]="";e[n.rows[0].c[i].v]=s}return e}const tz={convertDataFromSheetWithFirstRowHeading:ez,convertDataFromOneColumnSheet:ZV},nz="https://docs.google.com/spreadsheets/d/";async function rz({sheetId:t,tqx:e="out:json",pageTitle:n="sheet",range:r=""}){const i=new URLSearchParams;e&&i.append("tqx",e),n&&i.append("sheet",n),r&&i.append("range",r);try{const o=await(await fetch(`${nz}${t}/gviz/tq?${i}`)).text();return JSON.parse(o.substring(47).slice(0,-2))}catch(s){throw new Error(le(s))}}const iz={getSheetData:rz,convertors:tz},sz={firebase:JV,sheets:iz,appsscript:s$};async function oz(){try{return{ip:(await(await fetch("https://api.ipify.org?format=json")).json()).ip,status:"success"}}catch(t){throw new Error(le(t))}}const az={fetchIP:oz},Ae={google:sz,ipify:az},lz="16wsDcFtQ7J1nYrlSkEB8KgLp_XpyCdwH-SIi0fuqapc";function uz(t){let e;if(t){const n=Qj(t,"value"),r=Gj(n,"value");e=Wj(r,"value")}return e}const Wl=Fr("songsList/fetchSongsListData",async(t,e)=>{try{const n=await Ae.google.appsscript.getAllTitledColumnsDataSingle({spreadsheetId:lz,sheetName:"common"}),r=Object.entries(n.data),i=[];return{songsList:r.map(o=>{const a=o[0];i.push(a);const l=uz(o[1].values);return[a,l]}),listTitles:n.info.titles}}catch(n){return e.rejectWithValue(le(n))}}),cz="_Icon_1telp_46",dz="_disabled_1telp_53",fz="_clickable_1telp_61",hz="_tiny_1telp_65",pz="_small_1telp_69",mz="_medium_1telp_77",gz="_large_1telp_81",yz="_extra_1telp_85",RS={Icon:cz,disabled:dz,clickable:fz,tiny:hz,small:pz,default:"_default_1telp_73",medium:mz,large:gz,extra:yz},Vt=I.forwardRef(({size:t="default",width:e,height:n,onClick:r,children:i,className:s,style:o,...a},l)=>{const u=[r&&"clickable",t&&RS[t]],c=t==="custom"&&e&&n?{width:e,height:n}:{};return f.jsx("div",{className:X.join(RS.Icon,s,u),onClick:r,ref:l,style:{...o,...c},...a,children:i})});Vt.displayName="Icon";function vz(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("path",{d:"M7.86 2H16.14L22 7.86V16.14L16.14 22H7.86L2 16.14V7.86L7.86 2Z",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12 8V12",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12 16H12.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function wz(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("polyline",{points:"15 3 21 3 21 9"}),f.jsx("polyline",{points:"9 21 3 21 3 15"}),f.jsx("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),f.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]})}function _z(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("polyline",{points:"4 14 10 14 10 20"}),f.jsx("polyline",{points:"20 10 14 10 14 4"}),f.jsx("line",{x1:"14",y1:"10",x2:"21",y2:"3"}),f.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]})}function Ez(t){return f.jsx(Le,{fill:"none",...t,children:f.jsx("path",{d:"M21 12.79C20.8427 14.4922 20.2039 16.1144 19.1582 17.4668C18.1126 18.8192 16.7035 19.8458 15.0957 20.4265C13.4879 21.0073 11.748 21.1181 10.0795 20.7461C8.41101 20.3741 6.88299 19.5345 5.67422 18.3258C4.46545 17.117 3.62593 15.589 3.2539 13.9205C2.88187 12.252 2.99271 10.5121 3.57345 8.9043C4.1542 7.29651 5.18082 5.88737 6.53321 4.84175C7.88559 3.79614 9.50779 3.15731 11.21 3C10.2134 4.34827 9.73384 6.00945 9.85852 7.68141C9.98321 9.35338 10.7039 10.9251 11.8894 12.1106C13.0749 13.2961 14.6466 14.0168 16.3186 14.1415C17.9905 14.2662 19.6517 13.7866 21 12.79V12.79Z",strokeLinecap:"round",strokeLinejoin:"round"})})}function uR(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("circle",{cx:"12",cy:"12",r:"1"}),f.jsx("circle",{cx:"12",cy:"5",r:"1"}),f.jsx("circle",{cx:"12",cy:"19",r:"1"})]})}function Sz(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("polyline",{points:"1 4 1 10 7 10"}),f.jsx("polyline",{points:"23 20 23 14 17 14"}),f.jsx("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})]})}function Cz(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsxs("g",{clipPath:"url(#clip0_1475_3120)",children:[f.jsx("path",{d:"M12 17C14.7614 17 17 14.7614 17 12C17 9.23858 14.7614 7 12 7C9.23858 7 7 9.23858 7 12C7 14.7614 9.23858 17 12 17Z",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12 1V3",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12 21V23",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M4.22 4.22L5.64 5.64",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M18.36 18.36L19.78 19.78",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M1 12H3",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M21 12H23",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M4.22 19.78L5.64 18.36",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M18.36 5.64L19.78 4.22",strokeLinecap:"round",strokeLinejoin:"round"})]}),f.jsx("defs",{children:f.jsx("clipPath",{id:"clip0_1475_3120",children:f.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function Tz(){const t=I.useCallback(()=>{const n=window.innerWidth-document.body.offsetWidth;document.body.style.overflow="hidden",document.body.style.width="100%",document.body.style.paddingRight=`${n}px`},[]),e=I.useCallback(()=>{document.body.style.overflow="",document.body.style.width="auto",document.body.style.paddingRight="0px"},[]);return{lockScroll:t,unlockScroll:e}}function cc(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("path",{d:"M18 6L6 18",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M6 6L18 18",strokeLinecap:"round",strokeLinejoin:"round"})]})}const Iz="_Menu_b65v5_18",xz="_backdrop_b65v5_50",kz="_show_b65v5_80",bz="_close_b65v5_86",Rz="_menuItems_b65v5_93",ll={Menu:Iz,backdrop:xz,"hide-menu":"_hide-menu_b65v5_1",show:kz,"show-menu":"_show-menu_b65v5_1",close:bz,menuItems:Rz},up=I.forwardRef(({children:t,isOpen:e,scrollLock:n,onClick:r,closeButton:i,preventItemClickClose:s,menuOrigin:o,anchorOrigin:a,...l},u)=>{const c=I.useRef(null),[d,h]=I.useState(!0),[p,_]=I.useState({}),{lockScroll:y,unlockScroll:w}=Tz();if(I.useEffect(()=>(e&&n&&y(),w),[e]),I.useEffect(()=>{h(!0)},[e]),I.useEffect(()=>{var $,M;const E=(M=($=c.current)==null?void 0:$.parentElement)==null?void 0:M.getBoundingClientRect(),S={width:(E==null?void 0:E.width)||0,height:(E==null?void 0:E.height)||0,horizontalHalf:((E==null?void 0:E.width)||0)/2,verticalHalf:((E==null?void 0:E.height)||0)/2},C={},x=a==null?void 0:a.horizontal,R=a==null?void 0:a.vertical,b=o==null?void 0:o.horizontal,O=o==null?void 0:o.vertical;b==="left"&&(x==="left"&&(C.left=0),x==="center"&&(C.left=S.horizontalHalf),x==="right"&&(C.left=S.width)),b==="right"&&(x==="left"&&(C.right=S.width),x==="center"&&(C.right=S.horizontalHalf),x==="right"&&(C.right=0)),O==="top"&&(R==="top"&&(C.top=0),R==="center"&&(C.top=S.verticalHalf),R==="bottom"&&(C.top=S.height)),O==="bottom"&&(R==="top"&&(C.bottom=S.height),R==="center"&&(C.bottom=S.verticalHalf),R==="bottom"&&(C.bottom=0));const q=o?`${o==null?void 0:o.horizontal} ${o==null?void 0:o.vertical}`:"left top";_({...C,transformOrigin:q})},[e]),!e)return null;const v=()=>{h(!1)},m=()=>{d||(r(),w())},g=E=>{s&&E.stopPropagation()};return f.jsxs(f.Fragment,{children:[f.jsx("div",{role:"navigation",className:ll.backdrop,onClick:v,ref:u,...l}),f.jsxs("nav",{onAnimationEnd:m,ref:c,className:X.join(ll.Menu,d&&ll.show),style:p,children:[f.jsx("ul",{className:ll.menuItems,onClick:g,children:t}),i&&f.jsx(st,{className:ll.close,onClick:v,type:"secondary",size:"small",children:f.jsx(cc,{size:"small"})})]})]})});up.displayName="Menu";const Az="_MenuContainer_xz9l3_1",Pz={MenuContainer:Az},cp=I.forwardRef(({children:t,className:e,...n},r)=>f.jsx("div",{className:X.join(Pz.MenuContainer,e),ref:r,...n,children:t}));cp.displayName="MenuContainer";const Nz="_MenuDivider_3of8s_1",Oz={MenuDivider:Nz},cR=I.forwardRef(({className:t,...e},n)=>f.jsx("span",{className:X.join(Oz.MenuDivider,t),ref:n,...e}));cR.displayName="MenuDivider";const Lz="_MenuItem_2d0qh_46",Dz="_disabled_2d0qh_71",AS={MenuItem:Lz,disabled:Dz},ri=I.forwardRef(({disabled:t,children:e,className:n,...r},i)=>{const s=[t&&AS.disabled];return f.jsx("li",{className:X.join(AS.MenuItem,n,s),ref:i,...r,children:e})});ri.displayName="MenuItem";const jz={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6"},H=I.forwardRef(({component:t,display:e,children:n,className:r,...i},s)=>{const o=t||"p",a=e?tn[e]:null,l=t?tn[t]:tn.p1,u={className:X.join(r,a||l),ref:s,...i},c=jz[o]||"p";return f.jsx(Yv,{as:c,...u,children:n})});H.displayName="Typography";function Mz(){const e=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";return document.documentElement.setAttribute("data-theme",e),e}function $z(){const[t,e]=I.useState(!1),[n,r]=I.useState(!1),{theme:i}=ct(_=>_.appReducer),{actions:s}=ex,o=un(),a=Zj(),l=()=>{r(!0)},u=()=>{r(!1)},c=()=>{r(!1),zI()},d=()=>{r(!1),o(Wl())},h=()=>{const _=Mz();o(s.setTheme(_))},p=()=>{const _=!t;a(_),e(_)};return f.jsxs(cp,{children:[f.jsxs(up,{isOpen:n,onClick:u,anchorOrigin:{horizontal:"right",vertical:"top"},menuOrigin:{horizontal:"right",vertical:"top"},preventItemClickClose:!0,children:[f.jsxs(ri,{onClick:c,children:[f.jsx(Vt,{size:"small",children:f.jsx(vz,{})}),f.jsx(H,{component:"p2",children:"Скинути налаштування"})]}),f.jsxs(ri,{onClick:d,children:[f.jsx(Vt,{size:"small",children:f.jsx(Sz,{})}),f.jsx(H,{component:"p2",children:"Оновити список пісень"})]}),f.jsx(cR,{}),f.jsxs(ri,{onClick:h,children:[f.jsx(Vt,{size:"small",children:i==="dark"?f.jsx(Ez,{}):f.jsx(Cz,{})}),f.jsxs(H,{component:"p2",children:["Тема:"," ",i==="dark"?"темна":"світла"]})]}),f.jsxs(ri,{onClick:p,children:[f.jsx(Vt,{size:"small",children:t?f.jsx(_z,{}):f.jsx(wz,{})}),f.jsx(H,{component:"p2",children:"На весь екран"})]})]}),f.jsx(st,{type:"text",onClick:l,children:f.jsx(uR,{})})]})}var Gr={},Uz={get exports(){return Gr},set exports(t){Gr=t}};(function(t,e){(function(r,i){t.exports=i(I)})(uA,n=>(()=>{var r={"./node_modules/css-mediaquery/index.js":(a,l)=>{l.match=_,l.parse=y;var u=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,c=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,d=/^(?:(min|max)-)?(.+)/,h=/(em|rem|px|cm|mm|in|pt|pc)?$/,p=/(dpi|dpcm|dppx)?$/;function _(g,E){return y(g).some(function(S){var C=S.inverse,x=S.type==="all"||E.type===S.type;if(x&&C||!(x||C))return!1;var R=S.expressions.every(function(b){var O=b.feature,q=b.modifier,$=b.value,M=E[O];if(!M)return!1;switch(O){case"orientation":case"scan":return M.toLowerCase()===$.toLowerCase();case"width":case"height":case"device-width":case"device-height":$=m($),M=m(M);break;case"resolution":$=v($),M=v(M);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":$=w($),M=w(M);break;case"grid":case"color":case"color-index":case"monochrome":$=parseInt($,10)||1,M=parseInt(M,10)||0;break}switch(q){case"min":return M>=$;case"max":return M<=$;default:return M===$}});return R&&!C||!R&&C})}function y(g){return g.split(",").map(function(E){E=E.trim();var S=E.match(u),C=S[1],x=S[2],R=S[3]||"",b={};return b.inverse=!!C&&C.toLowerCase()==="not",b.type=x?x.toLowerCase():"all",R=R.match(/\([^\)]+\)/g)||[],b.expressions=R.map(function(O){var q=O.match(c),$=q[1].toLowerCase().match(d);return{modifier:$[1],feature:$[2],value:q[2]}}),b})}function w(g){var E=Number(g),S;return E||(S=g.match(/^(\d+)\s*\/\s*(\d+)$/),E=S[1]/S[2]),E}function v(g){var E=parseFloat(g),S=String(g).match(p)[1];switch(S){case"dpcm":return E/2.54;case"dppx":return E*96;default:return E}}function m(g){var E=parseFloat(g),S=String(g).match(h)[1];switch(S){case"em":return E*16;case"rem":return E*16;case"cm":return E*96/2.54;case"mm":return E*96/2.54/10;case"in":return E*96;case"pt":return E*72;case"pc":return E*72/12;default:return E}}},"./node_modules/hyphenate-style-name/index.js":(a,l,u)=>{u.r(l),u.d(l,{default:()=>y});var c=/[A-Z]/g,d=/^ms-/,h={};function p(w){return"-"+w.toLowerCase()}function _(w){if(h.hasOwnProperty(w))return h[w];var v=w.replace(c,p);return h[w]=d.test(v)?"-"+v:v}const y=_},"./node_modules/matchmediaquery/index.js":(a,l,u)=>{var c=u("./node_modules/css-mediaquery/index.js").match,d=typeof window<"u"?window.matchMedia:null;function h(_,y,w){var v=this;if(d&&!w){var m=d.call(window,_);this.matches=m.matches,this.media=m.media,m.addListener(S)}else this.matches=c(_,y),this.media=_;this.addListener=g,this.removeListener=E,this.dispose=C;function g(x){m&&m.addListener(x)}function E(x){m&&m.removeListener(x)}function S(x){v.matches=x.matches,v.media=x.media}function C(){m&&m.removeListener(S)}}function p(_,y,w){return new h(_,y,w)}a.exports=p},"./node_modules/object-assign/index.js":a=>{/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function d(p){if(p==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(p)}function h(){try{if(!Object.assign)return!1;var p=new String("abc");if(p[5]="de",Object.getOwnPropertyNames(p)[0]==="5")return!1;for(var _={},y=0;y<10;y++)_["_"+String.fromCharCode(y)]=y;var w=Object.getOwnPropertyNames(_).map(function(m){return _[m]});if(w.join("")!=="0123456789")return!1;var v={};return"abcdefghijklmnopqrst".split("").forEach(function(m){v[m]=m}),Object.keys(Object.assign({},v)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}a.exports=h()?Object.assign:function(p,_){for(var y,w=d(p),v,m=1;m<arguments.length;m++){y=Object(arguments[m]);for(var g in y)u.call(y,g)&&(w[g]=y[g]);if(l){v=l(y);for(var E=0;E<v.length;E++)c.call(y,v[E])&&(w[v[E]]=y[v[E]])}}return w}},"./node_modules/prop-types/checkPropTypes.js":(a,l,u)=>{var c=function(){};{var d=u("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),h={},p=u("./node_modules/prop-types/lib/has.js");c=function(y){var w="Warning: "+y;typeof console<"u"&&console.error(w);try{throw new Error(w)}catch{}}}function _(y,w,v,m,g){for(var E in y)if(p(y,E)){var S;try{if(typeof y[E]!="function"){var C=Error((m||"React class")+": "+v+" type `"+E+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof y[E]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw C.name="Invariant Violation",C}S=y[E](w,E,m,v,null,d)}catch(R){S=R}if(S&&!(S instanceof Error)&&c((m||"React class")+": type specification of "+v+" `"+E+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof S+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),S instanceof Error&&!(S.message in h)){h[S.message]=!0;var x=g?g():"";c("Failed "+v+" type: "+S.message+(x??""))}}}_.resetWarningCache=function(){h={}},a.exports=_},"./node_modules/prop-types/factoryWithTypeCheckers.js":(a,l,u)=>{var c=u("./node_modules/react-is/index.js"),d=u("./node_modules/object-assign/index.js"),h=u("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),p=u("./node_modules/prop-types/lib/has.js"),_=u("./node_modules/prop-types/checkPropTypes.js"),y=function(){};y=function(v){var m="Warning: "+v;typeof console<"u"&&console.error(m);try{throw new Error(m)}catch{}};function w(){return null}a.exports=function(v,m){var g=typeof Symbol=="function"&&Symbol.iterator,E="@@iterator";function S(B){var G=B&&(g&&B[g]||B[E]);if(typeof G=="function")return G}var C="<<anonymous>>",x={array:q("array"),bigint:q("bigint"),bool:q("boolean"),func:q("function"),number:q("number"),object:q("object"),string:q("string"),symbol:q("symbol"),any:$(),arrayOf:M,element:oe(),elementType:ge(),instanceOf:Re,node:Q(),objectOf:W,oneOf:Ue,oneOfType:se,shape:xe,exact:Ct};function R(B,G){return B===G?B!==0||1/B===1/G:B!==B&&G!==G}function b(B,G){this.message=B,this.data=G&&typeof G=="object"?G:{},this.stack=""}b.prototype=Error.prototype;function O(B){var G={},_e=0;function Ee(Te,T,k,P,V,j,A){if(P=P||C,j=j||k,A!==h){if(m){var K=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw K.name="Invariant Violation",K}else if(typeof console<"u"){var Ie=P+":"+k;!G[Ie]&&_e<3&&(y("You are manually calling a React.PropTypes validation function for the `"+j+"` prop on `"+P+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),G[Ie]=!0,_e++)}}return T[k]==null?Te?T[k]===null?new b("The "+V+" `"+j+"` is marked as required "+("in `"+P+"`, but its value is `null`.")):new b("The "+V+" `"+j+"` is marked as required in "+("`"+P+"`, but its value is `undefined`.")):null:B(T,k,P,V,j)}var pe=Ee.bind(null,!1);return pe.isRequired=Ee.bind(null,!0),pe}function q(B){function G(_e,Ee,pe,Te,T,k){var P=_e[Ee],V=et(P);if(V!==B){var j=mt(P);return new b("Invalid "+Te+" `"+T+"` of type "+("`"+j+"` supplied to `"+pe+"`, expected ")+("`"+B+"`."),{expectedType:B})}return null}return O(G)}function $(){return O(w)}function M(B){function G(_e,Ee,pe,Te,T){if(typeof B!="function")return new b("Property `"+T+"` of component `"+pe+"` has invalid PropType notation inside arrayOf.");var k=_e[Ee];if(!Array.isArray(k)){var P=et(k);return new b("Invalid "+Te+" `"+T+"` of type "+("`"+P+"` supplied to `"+pe+"`, expected an array."))}for(var V=0;V<k.length;V++){var j=B(k,V,pe,Te,T+"["+V+"]",h);if(j instanceof Error)return j}return null}return O(G)}function oe(){function B(G,_e,Ee,pe,Te){var T=G[_e];if(!v(T)){var k=et(T);return new b("Invalid "+pe+" `"+Te+"` of type "+("`"+k+"` supplied to `"+Ee+"`, expected a single ReactElement."))}return null}return O(B)}function ge(){function B(G,_e,Ee,pe,Te){var T=G[_e];if(!c.isValidElementType(T)){var k=et(T);return new b("Invalid "+pe+" `"+Te+"` of type "+("`"+k+"` supplied to `"+Ee+"`, expected a single ReactElement type."))}return null}return O(B)}function Re(B){function G(_e,Ee,pe,Te,T){if(!(_e[Ee]instanceof B)){var k=B.name||C,P=Ti(_e[Ee]);return new b("Invalid "+Te+" `"+T+"` of type "+("`"+P+"` supplied to `"+pe+"`, expected ")+("instance of `"+k+"`."))}return null}return O(G)}function Ue(B){if(!Array.isArray(B))return arguments.length>1?y("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):y("Invalid argument supplied to oneOf, expected an array."),w;function G(_e,Ee,pe,Te,T){for(var k=_e[Ee],P=0;P<B.length;P++)if(R(k,B[P]))return null;var V=JSON.stringify(B,function(A,K){var Ie=mt(K);return Ie==="symbol"?String(K):K});return new b("Invalid "+Te+" `"+T+"` of value `"+String(k)+"` "+("supplied to `"+pe+"`, expected one of "+V+"."))}return O(G)}function W(B){function G(_e,Ee,pe,Te,T){if(typeof B!="function")return new b("Property `"+T+"` of component `"+pe+"` has invalid PropType notation inside objectOf.");var k=_e[Ee],P=et(k);if(P!=="object")return new b("Invalid "+Te+" `"+T+"` of type "+("`"+P+"` supplied to `"+pe+"`, expected an object."));for(var V in k)if(p(k,V)){var j=B(k,V,pe,Te,T+"."+V,h);if(j instanceof Error)return j}return null}return O(G)}function se(B){if(!Array.isArray(B))return y("Invalid argument supplied to oneOfType, expected an instance of array."),w;for(var G=0;G<B.length;G++){var _e=B[G];if(typeof _e!="function")return y("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+Ci(_e)+" at index "+G+"."),w}function Ee(pe,Te,T,k,P){for(var V=[],j=0;j<B.length;j++){var A=B[j],K=A(pe,Te,T,k,P,h);if(K==null)return null;K.data&&p(K.data,"expectedType")&&V.push(K.data.expectedType)}var Ie=V.length>0?", expected one of type ["+V.join(", ")+"]":"";return new b("Invalid "+k+" `"+P+"` supplied to "+("`"+T+"`"+Ie+"."))}return O(Ee)}function Q(){function B(G,_e,Ee,pe,Te){return Fe(G[_e])?null:new b("Invalid "+pe+" `"+Te+"` supplied to "+("`"+Ee+"`, expected a ReactNode."))}return O(B)}function Ce(B,G,_e,Ee,pe){return new b((B||"React class")+": "+G+" type `"+_e+"."+Ee+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+pe+"`.")}function xe(B){function G(_e,Ee,pe,Te,T){var k=_e[Ee],P=et(k);if(P!=="object")return new b("Invalid "+Te+" `"+T+"` of type `"+P+"` "+("supplied to `"+pe+"`, expected `object`."));for(var V in B){var j=B[V];if(typeof j!="function")return Ce(pe,Te,T,V,mt(j));var A=j(k,V,pe,Te,T+"."+V,h);if(A)return A}return null}return O(G)}function Ct(B){function G(_e,Ee,pe,Te,T){var k=_e[Ee],P=et(k);if(P!=="object")return new b("Invalid "+Te+" `"+T+"` of type `"+P+"` "+("supplied to `"+pe+"`, expected `object`."));var V=d({},_e[Ee],B);for(var j in V){var A=B[j];if(p(B,j)&&typeof A!="function")return Ce(pe,Te,T,j,mt(A));if(!A)return new b("Invalid "+Te+" `"+T+"` key `"+j+"` supplied to `"+pe+"`.\nBad object: "+JSON.stringify(_e[Ee],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(B),null,"  "));var K=A(k,j,pe,Te,T+"."+j,h);if(K)return K}return null}return O(G)}function Fe(B){switch(typeof B){case"number":case"string":case"undefined":return!0;case"boolean":return!B;case"object":if(Array.isArray(B))return B.every(Fe);if(B===null||v(B))return!0;var G=S(B);if(G){var _e=G.call(B),Ee;if(G!==B.entries){for(;!(Ee=_e.next()).done;)if(!Fe(Ee.value))return!1}else for(;!(Ee=_e.next()).done;){var pe=Ee.value;if(pe&&!Fe(pe[1]))return!1}}else return!1;return!0;default:return!1}}function nr(B,G){return B==="symbol"?!0:G?G["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&G instanceof Symbol:!1}function et(B){var G=typeof B;return Array.isArray(B)?"array":B instanceof RegExp?"object":nr(G,B)?"symbol":G}function mt(B){if(typeof B>"u"||B===null)return""+B;var G=et(B);if(G==="object"){if(B instanceof Date)return"date";if(B instanceof RegExp)return"regexp"}return G}function Ci(B){var G=mt(B);switch(G){case"array":case"object":return"an "+G;case"boolean":case"date":case"regexp":return"a "+G;default:return G}}function Ti(B){return!B.constructor||!B.constructor.name?C:B.constructor.name}return x.checkPropTypes=_,x.resetWarningCache=_.resetWarningCache,x.PropTypes=x,x}},"./node_modules/prop-types/index.js":(a,l,u)=>{{var c=u("./node_modules/react-is/index.js"),d=!0;a.exports=u("./node_modules/prop-types/factoryWithTypeCheckers.js")(c.isElement,d)}},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":a=>{var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";a.exports=l},"./node_modules/prop-types/lib/has.js":a=>{a.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(a,l)=>{/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var u=typeof Symbol=="function"&&Symbol.for,c=u?Symbol.for("react.element"):60103,d=u?Symbol.for("react.portal"):60106,h=u?Symbol.for("react.fragment"):60107,p=u?Symbol.for("react.strict_mode"):60108,_=u?Symbol.for("react.profiler"):60114,y=u?Symbol.for("react.provider"):60109,w=u?Symbol.for("react.context"):60110,v=u?Symbol.for("react.async_mode"):60111,m=u?Symbol.for("react.concurrent_mode"):60111,g=u?Symbol.for("react.forward_ref"):60112,E=u?Symbol.for("react.suspense"):60113,S=u?Symbol.for("react.suspense_list"):60120,C=u?Symbol.for("react.memo"):60115,x=u?Symbol.for("react.lazy"):60116,R=u?Symbol.for("react.block"):60121,b=u?Symbol.for("react.fundamental"):60117,O=u?Symbol.for("react.responder"):60118,q=u?Symbol.for("react.scope"):60119;function $(A){return typeof A=="string"||typeof A=="function"||A===h||A===m||A===_||A===p||A===E||A===S||typeof A=="object"&&A!==null&&(A.$$typeof===x||A.$$typeof===C||A.$$typeof===y||A.$$typeof===w||A.$$typeof===g||A.$$typeof===b||A.$$typeof===O||A.$$typeof===q||A.$$typeof===R)}function M(A){if(typeof A=="object"&&A!==null){var K=A.$$typeof;switch(K){case c:var Ie=A.type;switch(Ie){case v:case m:case h:case _:case p:case E:return Ie;default:var qe=Ie&&Ie.$$typeof;switch(qe){case w:case g:case x:case C:case y:return qe;default:return K}}case d:return K}}}var oe=v,ge=m,Re=w,Ue=y,W=c,se=g,Q=h,Ce=x,xe=C,Ct=d,Fe=_,nr=p,et=E,mt=!1;function Ci(A){return mt||(mt=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),Ti(A)||M(A)===v}function Ti(A){return M(A)===m}function B(A){return M(A)===w}function G(A){return M(A)===y}function _e(A){return typeof A=="object"&&A!==null&&A.$$typeof===c}function Ee(A){return M(A)===g}function pe(A){return M(A)===h}function Te(A){return M(A)===x}function T(A){return M(A)===C}function k(A){return M(A)===d}function P(A){return M(A)===_}function V(A){return M(A)===p}function j(A){return M(A)===E}l.AsyncMode=oe,l.ConcurrentMode=ge,l.ContextConsumer=Re,l.ContextProvider=Ue,l.Element=W,l.ForwardRef=se,l.Fragment=Q,l.Lazy=Ce,l.Memo=xe,l.Portal=Ct,l.Profiler=Fe,l.StrictMode=nr,l.Suspense=et,l.isAsyncMode=Ci,l.isConcurrentMode=Ti,l.isContextConsumer=B,l.isContextProvider=G,l.isElement=_e,l.isForwardRef=Ee,l.isFragment=pe,l.isLazy=Te,l.isMemo=T,l.isPortal=k,l.isProfiler=P,l.isStrictMode=V,l.isSuspense=j,l.isValidElementType=$,l.typeOf=M})()},"./node_modules/react-is/index.js":(a,l,u)=>{a.exports=u("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(a,l,u)=>{u.r(l),u.d(l,{shallowEqualArrays:()=>d,shallowEqualObjects:()=>c});function c(h,p){if(h===p)return!0;if(!h||!p)return!1;var _=Object.keys(h),y=Object.keys(p),w=_.length;if(y.length!==w)return!1;for(var v=0;v<w;v++){var m=_[v];if(h[m]!==p[m]||!Object.prototype.hasOwnProperty.call(p,m))return!1}return!0}function d(h,p){if(h===p)return!0;if(!h||!p)return!1;var _=h.length;if(p.length!==_)return!1;for(var y=0;y<_;y++)if(h[y]!==p[y])return!1;return!0}},"./src/Component.ts":function(a,l,u){var c=this&&this.__rest||function(_,y){var w={};for(var v in _)Object.prototype.hasOwnProperty.call(_,v)&&y.indexOf(v)<0&&(w[v]=_[v]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,v=Object.getOwnPropertySymbols(_);m<v.length;m++)y.indexOf(v[m])<0&&Object.prototype.propertyIsEnumerable.call(_,v[m])&&(w[v[m]]=_[v[m]]);return w},d=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(l,"__esModule",{value:!0});var h=d(u("./src/useMediaQuery.ts")),p=function(_){var y=_.children,w=_.device,v=_.onChange,m=c(_,["children","device","onChange"]),g=(0,h.default)(m,w,v);return typeof y=="function"?y(g):g?y:null};l.default=p},"./src/Context.ts":(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0});var c=u("react"),d=(0,c.createContext)(void 0);l.default=d},"./src/index.ts":function(a,l,u){var c=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(l,"__esModule",{value:!0}),l.Context=l.toQuery=l.useMediaQuery=l.default=void 0;var d=c(u("./src/useMediaQuery.ts"));l.useMediaQuery=d.default;var h=c(u("./src/Component.ts"));l.default=h.default;var p=c(u("./src/toQuery.ts"));l.toQuery=p.default;var _=c(u("./src/Context.ts"));l.Context=_.default},"./src/mediaQuery.ts":function(a,l,u){var c=this&&this.__assign||function(){return c=Object.assign||function(E){for(var S,C=1,x=arguments.length;C<x;C++){S=arguments[C];for(var R in S)Object.prototype.hasOwnProperty.call(S,R)&&(E[R]=S[R])}return E},c.apply(this,arguments)},d=this&&this.__rest||function(E,S){var C={};for(var x in E)Object.prototype.hasOwnProperty.call(E,x)&&S.indexOf(x)<0&&(C[x]=E[x]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var R=0,x=Object.getOwnPropertySymbols(E);R<x.length;R++)S.indexOf(x[R])<0&&Object.prototype.propertyIsEnumerable.call(E,x[R])&&(C[x[R]]=E[x[R]]);return C},h=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(l,"__esModule",{value:!0});var p=h(u("./node_modules/prop-types/index.js")),_=p.default.oneOfType([p.default.string,p.default.number]),y={all:p.default.bool,grid:p.default.bool,aural:p.default.bool,braille:p.default.bool,handheld:p.default.bool,print:p.default.bool,projection:p.default.bool,screen:p.default.bool,tty:p.default.bool,tv:p.default.bool,embossed:p.default.bool},w={orientation:p.default.oneOf(["portrait","landscape"]),scan:p.default.oneOf(["progressive","interlace"]),aspectRatio:p.default.string,deviceAspectRatio:p.default.string,height:_,deviceHeight:_,width:_,deviceWidth:_,color:p.default.bool,colorIndex:p.default.bool,monochrome:p.default.bool,resolution:_,type:Object.keys(y)};w.type;var v=d(w,["type"]),m=c({minAspectRatio:p.default.string,maxAspectRatio:p.default.string,minDeviceAspectRatio:p.default.string,maxDeviceAspectRatio:p.default.string,minHeight:_,maxHeight:_,minDeviceHeight:_,maxDeviceHeight:_,minWidth:_,maxWidth:_,minDeviceWidth:_,maxDeviceWidth:_,minColor:p.default.number,maxColor:p.default.number,minColorIndex:p.default.number,maxColorIndex:p.default.number,minMonochrome:p.default.number,maxMonochrome:p.default.number,minResolution:_,maxResolution:_},v),g=c(c({},y),m);l.default={all:g,types:y,matchers:w,features:m}},"./src/toQuery.ts":function(a,l,u){var c=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(l,"__esModule",{value:!0});var d=c(u("./node_modules/hyphenate-style-name/index.js")),h=c(u("./src/mediaQuery.ts")),p=function(v){return"not ".concat(v)},_=function(v,m){var g=(0,d.default)(v);return typeof m=="number"&&(m="".concat(m,"px")),m===!0?g:m===!1?p(g):"(".concat(g,": ").concat(m,")")},y=function(v){return v.join(" and ")},w=function(v){var m=[];return Object.keys(h.default.all).forEach(function(g){var E=v[g];E!=null&&m.push(_(g,E))}),y(m)};l.default=w},"./src/useMediaQuery.ts":function(a,l,u){var c=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(l,"__esModule",{value:!0});var d=u("react"),h=c(u("./node_modules/matchmediaquery/index.js")),p=c(u("./node_modules/hyphenate-style-name/index.js")),_=u("./node_modules/shallow-equal/dist/index.esm.js"),y=c(u("./src/toQuery.ts")),w=c(u("./src/Context.ts")),v=function(b){return b.query||(0,y.default)(b)},m=function(b){if(b){var O=Object.keys(b);return O.reduce(function(q,$){return q[(0,p.default)($)]=b[$],q},{})}},g=function(){var b=(0,d.useRef)(!1);return(0,d.useEffect)(function(){b.current=!0},[]),b.current},E=function(b){var O=(0,d.useContext)(w.default),q=function(){return m(b)||m(O)},$=(0,d.useState)(q),M=$[0],oe=$[1];return(0,d.useEffect)(function(){var ge=q();(0,_.shallowEqualObjects)(M,ge)||oe(ge)},[b,O]),M},S=function(b){var O=function(){return v(b)},q=(0,d.useState)(O),$=q[0],M=q[1];return(0,d.useEffect)(function(){var oe=O();$!==oe&&M(oe)},[b]),$},C=function(b,O){var q=function(){return(0,h.default)(b,O||{},!!O)},$=(0,d.useState)(q),M=$[0],oe=$[1],ge=g();return(0,d.useEffect)(function(){if(ge){var Re=q();return oe(Re),function(){Re&&Re.dispose()}}},[b,O]),M},x=function(b){var O=(0,d.useState)(b.matches),q=O[0],$=O[1];return(0,d.useEffect)(function(){var M=function(oe){$(oe.matches)};return b.addListener(M),$(b.matches),function(){b.removeListener(M)}},[b]),q},R=function(b,O,q){var $=E(O),M=S(b);if(!M)throw new Error("Invalid or missing MediaQuery!");var oe=C(M,$),ge=x(oe),Re=g();return(0,d.useEffect)(function(){Re&&q&&q(ge)},[ge]),(0,d.useEffect)(function(){return function(){oe&&oe.dispose()}},[]),ge};l.default=R},react:a=>{a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var u=i[a]={exports:{}};return r[a].call(u.exports,u,u.exports,s),u.exports}s.d=(a,l)=>{for(var u in l)s.o(l,u)&&!s.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o=s("./src/index.ts");return o})())})(Uz);const ws={xx:1/0,xl:1179,lg:1023,md:767,sm:539,xs:479,ss:359};function Fz(){return{isScreenXX:Gr.useMediaQuery({query:`(max-width: ${ws.xx}px)`}),isScreenXL:Gr.useMediaQuery({query:`(max-width: ${ws.xl}px)`}),isScreenLG:Gr.useMediaQuery({query:`(max-width: ${ws.lg}px)`}),isScreenMD:Gr.useMediaQuery({query:`(max-width: ${ws.md}px)`}),isScreenSM:Gr.useMediaQuery({query:`(max-width: ${ws.sm}px)`}),isScreenXS:Gr.useMediaQuery({query:`(max-width: ${ws.xs}px)`}),isScreenSS:Gr.useMediaQuery({query:`(max-width: ${ws.ss}px)`})}}const P0=I.forwardRef(({gridContainer:t,grid:e,children:n,className:r,...i},s)=>{const o=e&&Xv(e);return f.jsx("nav",{className:X.join(r,t&&"row",o),ref:s,...i,children:n})});P0.displayName="Nav";const dR=[{label:"Головна",path:mn.home,end:!1},{label:"Список пісень",path:mn.songslist,end:!1},{label:"Користувачі",path:Kn.users,end:!1}],Vz="_NavigationDesktop_10tfr_1",zz="_active_10tfr_7",Bz="_link_10tfr_7",Am={NavigationDesktop:Vz,active:zz,link:Bz};function Hz(){const{isAuth:t}=Ur(),e=({isActive:n})=>n?Am.active:"";return f.jsx(P0,{className:Am.NavigationDesktop,children:dR.map(n=>(!n.private||t)&&f.jsx(Gd,{className:e,end:n.end,to:n.path,children:f.jsx(Qs,{className:Am.link,underline:!1,children:n.label})},n.label))})}function qz(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("path",{d:"M3.55844 12.8077H21.5584",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M3.55844 6.80774H21.5584",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M3.55844 18.8077H21.5584",strokeLinecap:"round",strokeLinejoin:"round"})]})}const Wz="_NavigationMobile_g69i1_46",Kz="_active_g69i1_52",Gz="_link_g69i1_52",Pm={NavigationMobile:Wz,active:Kz,link:Gz};function Qz(){const{isAuth:t}=Ur(),[e,n]=I.useState(!1),r=()=>{n(!0)},i=()=>{n(!1)},s=({isActive:o})=>o?Pm.active:"";return f.jsx(P0,{className:Pm.NavigationMobile,children:f.jsxs(cp,{children:[f.jsx(up,{isOpen:e,onClick:i,anchorOrigin:{horizontal:"right",vertical:"top"},menuOrigin:{horizontal:"right",vertical:"top"},preventItemClickClose:!0,children:dR.map(o=>(!o.private||t)&&f.jsxs(Gd,{className:s,end:o.end,to:o.path,children:[" ",f.jsx(ri,{onClick:i,children:f.jsx(Qs,{className:Pm.link,underline:!1,children:o.label})})]},o.label))}),f.jsx(st,{type:"text",onClick:r,children:f.jsx(qz,{})})]})})}function Yz(){const{isScreenMD:t}=Fz();return f.jsxs(f.Fragment,{children:[!t&&f.jsx(Hz,{}),t&&f.jsx(Qz,{})]})}const pd=Fr("user/createUserWithEmail",async({email:t,password:e},n)=>{var r;try{const i=await Ae.google.firebase.auth.createUser({email:t,password:e});if("error"in i)throw new Error((r=i.error)==null?void 0:r.toString());return"error"in await Ae.google.firebase.database.users.addUser({uid:i.user.uid})||await Ae.google.firebase.database.users.updateUser({uid:i.user.uid,displayName:"",photoURL:"",email:t||"",userType:"user",role:"",sex:"",lastActiveChatId:"0",registrationDate:"",visitsCount:1}),await Ae.google.firebase.database.userChats.addUserChatsForUser({uid:i.user.uid}),{uid:Ae.google.firebase.auth.getCurrentAuthUser().user.uid,displayName:"",photoURL:"",email:t,userType:"",sex:"",role:"",lastActiveChatId:"",lastVisitDate:"",registrationDate:"",isOnline:!1,visitsCount:1}}catch(i){return n.rejectWithValue(le(i))}}),Nm=Fr("user/getAuthUserById",async({uid:t},e)=>{try{const n=await Ae.google.firebase.database.users.getUserById({userId:t});return{uid:n.user.uid,displayName:n.user.displayName,photoURL:n.user.photoURL,email:n.user.email,userType:n.user.userType,sex:n.user.sex,role:n.user.role,lastActiveChatId:n.user.lastActiveChatId,lastVisitDate:n.user.lastVisitDate,registrationDate:n.user.registrationDate,isOnline:n.user.isOnline,visitsCount:n.user.visitsCount}}catch(n){return e.rejectWithValue(le(n))}}),md=Fr("user/getAuthUserId",async(t,e)=>{try{let n=null;return await new Promise(r=>{R3(za,async i=>{n=i==null?void 0:i.uid,r(null)})}),n}catch(n){return e.rejectWithValue(le(n))}}),gd=Fr("user/initUserOnPageLoad",async({uid:t},e)=>{var n,r,i,s,o,a,l,u,c;try{const d=await Ae.google.firebase.database.users.getUserById({userId:t}),h={uid:t,displayName:((n=d.user)==null?void 0:n.displayName)||"",photoURL:((r=d.user)==null?void 0:r.photoURL)||"",email:((i=d.user)==null?void 0:i.email)||"",userType:((s=d.user)==null?void 0:s.userType)||"",sex:((o=d.user)==null?void 0:o.sex)||"",role:((a=d.user)==null?void 0:a.role)||"",lastActiveChatId:((l=d.user)==null?void 0:l.lastActiveChatId)||"",registrationDate:((u=d.user)==null?void 0:u.registrationDate)||"",visitsCount:(((c=d.user)==null?void 0:c.visitsCount)||0)+1};await Ae.google.firebase.database.users.updateUser(h);const p=await Ae.google.firebase.database.users.getUserById({userId:t});return{uid:p.user.uid,displayName:p.user.displayName,photoURL:p.user.photoURL,email:p.user.email,userType:p.user.userType,sex:p.user.sex,role:p.user.role,lastActiveChatId:p.user.lastActiveChatId,lastVisitDate:p.user.lastVisitDate,registrationDate:p.user.registrationDate,isOnline:p.user.isOnline,visitsCount:p.user.visitsCount}}catch(d){return e.rejectWithValue(le(d))}}),yd=Fr("user/signIn",async({email:t,password:e},n)=>{try{const r=await Ae.google.firebase.auth.signInWithEmail({email:t,password:e}),i=await Ae.google.firebase.database.users.getUserById({userId:r.user.uid}),s={uid:r.user.uid,displayName:i.user.displayName||"",photoURL:i.user.photoURL||"",email:i.user.email||"",userType:i.user.userType||"",sex:i.user.sex||"",role:i.user.role||"",lastActiveChatId:i.user.lastActiveChatId||"",registrationDate:i.user.registrationDate||"",visitsCount:(i.user.visitsCount||0)+1};await Ae.google.firebase.database.users.updateUser(s);const o=await Ae.google.firebase.database.users.getUserById({userId:r.user.uid});return{uid:Ae.google.firebase.auth.getCurrentAuthUser().user.uid,displayName:o.user.displayName,photoURL:o.user.photoURL,email:o.user.email,userType:o.user.userType,sex:o.user.sex,role:o.user.role,lastActiveChatId:o.user.lastActiveChatId,lastVisitDate:o.user.lastVisitDate,registrationDate:o.user.registrationDate,isOnline:o.user.isOnline,visitsCount:o.user.visitsCount}}catch(r){return n.rejectWithValue(le(r))}}),Kl=Fr("user/signInWithGoogle",async(t,e)=>{try{await Ae.google.firebase.auth.signInWithGoogle();const n=Ae.google.firebase.auth.getCurrentAuthUser();let r=null;try{r=await Ae.google.firebase.database.users.getUserById({userId:n.user.uid})}catch{}if(!r)"error"in await Ae.google.firebase.database.users.addUser({uid:n.user.uid})||await Ae.google.firebase.database.users.updateUser({uid:n.user.uid,displayName:n.user.displayName||"User",photoURL:n.user.photoURL||"",email:n.user.email||"",userType:"user",role:"",sex:"",lastActiveChatId:"0",registrationDate:"",visitsCount:1}),await Ae.google.firebase.database.userChats.addUserChatsForUser({uid:n.user.uid}),r=await Ae.google.firebase.database.users.getUserById({userId:n.user.uid});else{const o={uid:r.user.uid,displayName:r.user.displayName||"",photoURL:r.user.photoURL||"",email:r.user.email||"",userType:r.user.userType||"",sex:r.user.sex||"",role:r.user.role||"",lastActiveChatId:r.user.lastActiveChatId||"",registrationDate:r.user.registrationDate||"",visitsCount:(r.user.visitsCount||0)+1};await Ae.google.firebase.database.users.updateUser(o)}const i=await Ae.google.firebase.database.users.getUserById({userId:n.user.uid});return{uid:Ae.google.firebase.auth.getCurrentAuthUser().user.uid,displayName:i.user.displayName,photoURL:i.user.photoURL,email:i.user.email,userType:i.user.userType,sex:i.user.sex,role:i.user.role,lastActiveChatId:i.user.lastActiveChatId,lastVisitDate:i.user.lastVisitDate,registrationDate:i.user.registrationDate,isOnline:i.user.isOnline,visitsCount:i.user.visitsCount}}catch(n){return e.rejectWithValue(le(n))}}),vd=Fr("user/updateUser",async({uid:t,displayName:e,photo:n,email:r,userType:i,sex:s,role:o,lastActiveChatId:a,visitsCount:l},u)=>{var c,d,h,p,_,y,w,v,m;try{const g=n?await Ae.google.firebase.storage.uploadFile({refName:`users/${t}/profile/profileImage-${t}`,file:n}):null,E=g&&"downloadURL"in g&&g.downloadURL||"",S=await Ae.google.firebase.database.users.getUserById({userId:t}),C={uid:t,displayName:e||((c=S.user)==null?void 0:c.displayName)||"",photoURL:E||((d=S.user)==null?void 0:d.photoURL)||"",email:r||((h=S.user)==null?void 0:h.email)||"",userType:i||((p=S.user)==null?void 0:p.userType)||"",sex:s||((_=S.user)==null?void 0:_.sex)||"",role:o||((y=S.user)==null?void 0:y.role)||"",lastActiveChatId:a||((w=S.user)==null?void 0:w.lastActiveChatId)||"",registrationDate:((v=S.user)==null?void 0:v.registrationDate)||"",visitsCount:l||((m=S.user)==null?void 0:m.visitsCount)||1};await Ae.google.firebase.database.users.updateUser(C);const x=Ae.google.firebase.auth.getCurrentAuthUser(),R={user:x.user,displayName:e||x.user.displayName||"",photoURL:E||x.user.photoURL||""};await Ae.google.firebase.auth.updateProfile(R);const b=await Ae.google.firebase.database.users.getUserById({userId:t});return{uid:Ae.google.firebase.auth.getCurrentAuthUser().user.uid,displayName:b.user.displayName,photoURL:b.user.photoURL,email:b.user.email,userType:b.user.userType,sex:b.user.sex,role:b.user.role,lastActiveChatId:b.user.lastActiveChatId,lastVisitDate:b.user.lastVisitDate,registrationDate:b.user.registrationDate,isOnline:b.user.isOnline,visitsCount:b.user.visitsCount}}catch(g){return u.rejectWithValue(le(g))}}),Xz={isLoading:!1,error:"",user:{},fetchedUserData:null,authUserId:void 0},Ba=Oa({name:"user",initialState:Xz,reducers:{setUser(t,e){t.user.uid=e.payload.uid,t.user.displayName=e.payload.displayName,t.user.photoURL=e.payload.photoURL,t.user.email=e.payload.email},setUserDataFromFetched(t){t.user=t.fetchedUserData||{},t.fetchedUserData=null},signOut(t){t.user={},t.error="",t.isLoading=!1,Ae.google.firebase.auth.signOut()},resetError(t){t.error=""}},extraReducers:t=>{t.addCase(pd.pending,e=>{e.fetchedUserData=null,e.error="",e.isLoading=!0}).addCase(pd.fulfilled,(e,n)=>{const r=mr(n.payload)?null:n.payload;e.fetchedUserData=r,e.error="",e.isLoading=!1}).addCase(pd.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(yd.pending,e=>{e.fetchedUserData=null,e.error="",e.isLoading=!0}).addCase(yd.fulfilled,(e,n)=>{const r=mr(n.payload)?null:n.payload;e.fetchedUserData=r,e.error="",e.isLoading=!1}).addCase(yd.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(Kl.pending,e=>{e.fetchedUserData=null,e.error="",e.isLoading=!0}).addCase(Kl.fulfilled,(e,n)=>{const r=mr(n.payload)?null:n.payload;e.fetchedUserData=r,e.error="",e.isLoading=!1}).addCase(Kl.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(vd.pending,e=>{e.error="",e.isLoading=!0}).addCase(vd.fulfilled,(e,n)=>{e.user=n.payload,e.error="",e.isLoading=!1}).addCase(vd.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(gd.pending,e=>{e.user={},e.error="",e.isLoading=!0}).addCase(gd.fulfilled,(e,n)=>{e.user=n.payload,e.error="",e.isLoading=!1}).addCase(gd.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(md.pending,e=>{e.error="",e.isLoading=!0,e.authUserId=void 0}).addCase(md.fulfilled,(e,n)=>{e.authUserId=n.payload||null,e.error="",e.isLoading=!1}).addCase(md.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(Nm.pending,e=>{e.error="",e.isLoading=!0}).addCase(Nm.fulfilled,(e,n)=>{e.user=n.payload,e.error="",e.isLoading=!1}).addCase(Nm.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1})}}),Jz="_img_nvjha_46",Zz="_small_nvjha_52",eB="_extra_nvjha_56",tB="_charContainer_nvjha_61",nB="_char_nvjha_61",rB="_clickable_nvjha_83",_s={img:Jz,small:Zz,extra:eB,charContainer:tB,char:nB,clickable:rB},Ia=I.forwardRef(({src:t,alt:e,char:n,color:r,size:i="default",onClick:s,children:o,className:a,...l},u)=>{const[c,d]=I.useState("");I.useEffect(()=>{t&&d(t)},[t]);const h=[s&&_s.clickable],p=i&&_s[i],_=()=>{d("")};return f.jsxs("div",{onClick:s,className:X.join(_s.Avatar,a,h),ref:u,...l,children:[!c&&o&&f.jsx("div",{className:X.join(_s.charContainer,p),style:{backgroundColor:r},children:o}),!!c&&f.jsx("img",{className:X.join(_s.img,p),src:c,alt:e,onError:_}),!c&&!o&&f.jsx("div",{className:X.join(_s.charContainer,p),style:{backgroundColor:r},children:f.jsx(H,{display:"h5",className:_s.char,children:n})})]})});Ia.displayName="Avatar";function iB(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),f.jsx("polyline",{points:"16 17 21 12 16 7"}),f.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})}function sB(t){return f.jsx(Le,{fill:"none",...t,children:f.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})})}function oB(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}function aB(){const[t,e]=I.useState(!1),n=Zn(),r=hs(),{isAdmin:i,isAuth:s}=Ur(),{user:o}=ct(w=>w.userReducer),{photoURL:a,displayName:l,email:u,role:c}=o,d=un(),{actions:h}=Ba,p=()=>{e(!0)},_=()=>{e(!1)},y=()=>{d(h.signOut()),Kj(mn,r.pathname)||n(mn.home),_()};return f.jsxs(cp,{children:[f.jsxs(up,{isOpen:t,onClick:_,anchorOrigin:{horizontal:"right",vertical:"top"},menuOrigin:{horizontal:"right",vertical:"top"},preventItemClickClose:!0,children:[s&&f.jsx(Gd,{to:Kn.user,children:f.jsxs(ri,{onClick:_,children:[f.jsx(Vt,{children:f.jsx(oB,{})}),f.jsx(Qs,{underline:!1,children:"Редагування профілю"})]})}),i&&f.jsx(Gd,{to:VI.admin,children:f.jsxs(ri,{onClick:_,children:[f.jsx(Vt,{children:f.jsx(sB,{})}),f.jsx(Qs,{underline:!1,children:"Панель адміна"})]})}),f.jsxs(ri,{onClick:y,children:[f.jsx(Vt,{children:f.jsx(iB,{})}),f.jsx(H,{component:"p1",children:"Вихід"})]})]}),f.jsx(Ia,{src:a,alt:l,char:(l==null?void 0:l[0])||(u==null?void 0:u[0])||"",size:"small",onClick:p,title:`${l} ${c}`})]})}const lB="_Header_yqrt5_1",uB="_container_yqrt5_5",cB="_controls_yqrt5_13",Om={Header:lB,container:uB,controls:cB};function dB({navigation:t=!0,headerMenu:e=!0,userMenu:n=!0}){const r=Zn(),{isAuth:i}=Ur(),s=()=>{r(mn.login)};return f.jsx(ie,{component:"header",className:Om.Header,children:f.jsxs(at,{container:!0,component:"section",className:Om.container,children:[f.jsx(Nj,{}),f.jsxs(ie,{className:Om.controls,children:[t&&f.jsx(Yz,{}),e&&f.jsx($z,{}),n&&(i?f.jsx(aB,{}):f.jsx(st,{size:"small",onClick:s,children:"Увійти"}))]})]})})}function fB(t){t&&document.documentElement.style.setProperty("--vh",`${t}px`)}function hB(){const t=typeof window<"u";function e(){return t?window.innerHeight:null}const[n,r]=I.useState(e());return I.useEffect(()=>{fB(n)},[n]),I.useEffect(()=>(window.addEventListener("resize",()=>r(e())),()=>window.addEventListener("resize",()=>r(e()))),[t]),I.useEffect(()=>(window.addEventListener("orientationchange",()=>r(e())),()=>window.addEventListener("orientationchange",()=>r(e()))),[t]),{viewportHeight:n}}function pB(t){const[e,n]=I.useState();return I.useLayoutEffect(()=>{document.body.classList.add("no-transition");const r=t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");n(r),document.documentElement.setAttribute("data-theme",r),setTimeout(()=>document.body.classList.remove("no-transition"),0)},[]),{theme:e}}function mB(){const[t,e]=I.useState(!1);hB();const{theme:n}=ct(h=>h.appReducer),{error:r,user:i,authUserId:s}=ct(h=>h.userReducer),{uid:o}=i;pB(n);const a=un(),{actions:l}=Ba,u=Zn(),c=hs(),[d]=I.useState(c.pathname);return I.useLayoutEffect(()=>{document.body.classList.add("scroll"),a(md())},[]),I.useLayoutEffect(()=>{!t&&s&&a(gd({uid:s}))},[s]),I.useEffect(()=>{!t&&(o||s===null||r)&&(r&&a(l.signOut()),e(!0),u(d))},[o,s,r]),{isInit:t}}function PS({header:t=!0,navigation:e=!0,headerMenu:n=!0,userMenu:r=!0,footer:i=!0}){const{isInit:s}=mB();if(!s)return f.jsx(oj,{});const o=aj();return f.jsxs(f.Fragment,{children:[t&&f.jsx(dB,{navigation:e,headerMenu:n,userMenu:r}),f.jsx(qL,{}),i&&f.jsx(Pj,{}),o==="winter"&&f.jsx(rj,{})]})}const gB=I.forwardRef(({gridContainer:t,children:e,className:n,...r},i)=>f.jsx("div",{className:X.join(n,"container",t&&"row"),ref:i,...r,children:e}));gB.displayName="Container";const yB=I.forwardRef(({children:t,className:e,...n},r)=>f.jsx("footer",{className:X.join(e,"footer"),ref:r,...n,children:t}));yB.displayName="Footer";const vB=I.forwardRef(({children:t,className:e,...n},r)=>f.jsx("header",{className:X.join(e,"header"),ref:r,...n,children:t}));vB.displayName="Header";const N0=I.forwardRef(({children:t,className:e,...n},r)=>f.jsx("main",{className:X.join(e,"main"),ref:r,...n,children:t}));N0.displayName="Main";const wB=I.forwardRef(({gridContainer:t,grid:e,children:n,className:r,...i},s)=>{const o=[e&&Xv(e)];return f.jsx("section",{className:X.join(r,t&&"row",o),ref:s,...i,children:n})});wB.displayName="Section";const Lm={};function _B(){return f.jsx(ie,{component:"main",className:Lm.HomePage,children:f.jsx(at,{container:!0,component:"section",className:Lm.container,children:f.jsx("div",{className:Lm.AdminPage,children:"AdminPage"})})})}const EB="_container_1l783_1",SB="_title_1l783_9",CB="_title40_1l783_13",TB="_title4_1l783_13",IB="_description_1l783_22",ul={container:EB,title:SB,title40:CB,title4:TB,"char-animation":"_char-animation_1l783_1",description:IB};function xB(){const t=Zn();return f.jsx(ie,{component:"main",children:f.jsxs(at,{container:!0,component:"section",className:ul.container,children:[f.jsx(st,{size:"small",onClick:()=>t(mn.home),children:"На головну"}),f.jsxs(ie,{className:ul.title,children:[f.jsx(H,{component:"p1",display:"h1",className:ul.title40,children:"40"}),f.jsx(H,{component:"p1",display:"h1",className:ul.title4,children:"4"})]}),f.jsx(ie,{className:ul.description,children:f.jsxs(H,{component:"p2",children:["Вибачте, сторінки не існує",f.jsx("br",{}),"або функціонал ще в процесі розробки",f.jsx("br",{}),"¯\\_(ツ)_/¯"]})})]})})}const kB="_container_6r9gh_1",bB="_buttons_6r9gh_9",RB="_description_6r9gh_16",Dm={container:kB,buttons:bB,description:RB};function NS(){const t=OI(),e=Zn(),n=()=>{zI()};return zo(t)&&t.status?f.jsx(xB,{}):f.jsx(ie,{component:"main",children:f.jsx(at,{container:!0,component:"section",className:Dm.container,children:f.jsxs(f.Fragment,{children:[f.jsxs(ie,{className:Dm.buttons,children:[f.jsx(st,{size:"small",onClick:()=>e(mn.home),children:"На головну"}),f.jsx(st,{type:"secondary",size:"small",onClick:n,children:"Видалити дані та перезавантажити"}),f.jsx(Zv,{type:"secondary",size:"small",href:"https://t.me/amelianceskymusic",blank:!0,children:"Написати мені в Телеграм"})]}),f.jsx(H,{component:"h3",children:"Сорі, виникла помилка =("}),f.jsx(ie,{className:Dm.description,children:f.jsxs(f.Fragment,{children:[f.jsx(H,{component:"h4",children:zo(t)&&t.status}),f.jsxs(H,{component:"h5",children:[t instanceof Error&&t.message,zo(t)&&t.statusText,zo(t)&&t.data.message]})]})})]})})})}const AB="_HomePage_1l60f_46",PB="_container_1l60f_46",OS={HomePage:AB,container:PB};function NB(){return f.jsx(ie,{component:"main",className:OS.HomePage,children:f.jsxs(at,{container:!0,component:"section",className:OS.container,children:[f.jsx(H,{component:"h1",children:"Вітаю на сайті 👋"}),f.jsx(H,{component:"h6",children:"Сайт знаходиться в розробці"}),f.jsx(H,{component:"h6",children:"Якщо ви знайшли баг або у вас є якісь пропозиції, побажання, коментарі, пишіть в Телеграм 😊"}),f.jsx(Zv,{href:"https://t.me/amelianceskymusic",blank:!0,children:"Написати"})]})})}var dc=t=>t.type==="checkbox",qo=t=>t instanceof Date,fn=t=>t==null;const fR=t=>typeof t=="object";var At=t=>!fn(t)&&!Array.isArray(t)&&fR(t)&&!qo(t),OB=t=>At(t)&&t.target?dc(t.target)?t.target.checked:t.target.value:t,LB=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,DB=(t,e)=>t.has(LB(e)),jB=t=>{const e=t.constructor&&t.constructor.prototype;return At(e)&&e.hasOwnProperty("isPrototypeOf")},O0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Is(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(O0&&(t instanceof Blob||t instanceof FileList))&&(n||At(t)))if(e=n?[]:{},!Array.isArray(t)&&!jB(t))e=t;else for(const r in t)e[r]=Is(t[r]);else return t;return e}var fc=t=>Array.isArray(t)?t.filter(Boolean):[],wt=t=>t===void 0,te=(t,e,n)=>{if(!e||!At(t))return n;const r=fc(e.split(/[,[\].]+?/)).reduce((i,s)=>fn(i)?i:i[s],t);return wt(r)||r===t?wt(t[e])?n:t[e]:r};const LS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},fr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Xr.createContext(null);var MB=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==fr.all&&(e._proxyFormState[o]=!r||fr.all),n&&(n[o]=!0),t[o]}});return i},zn=t=>At(t)&&!Object.keys(t).length,$B=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return zn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||fr.all))},jm=t=>Array.isArray(t)?t:[t];function UB(t){const e=Xr.useRef(t);e.current=t,Xr.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Rr=t=>typeof t=="string",FB=(t,e,n,r,i)=>Rr(t)?(r&&e.watch.add(t),te(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),te(n,s))):(r&&(e.watchAll=!0),n),L0=t=>/^\w*$/.test(t),hR=t=>fc(t.replace(/["|']|\]/g,"").split(/\.|\[/));function tt(t,e,n){let r=-1;const i=L0(e)?[e]:hR(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=At(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t}var VB=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{};const Vy=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=te(t,r);if(i){const{_f:s,...o}=i;if(s&&e(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else At(o)&&Vy(o,e)}}};var DS=t=>({isOnSubmit:!t||t===fr.onSubmit,isOnBlur:t===fr.onBlur,isOnChange:t===fr.onChange,isOnAll:t===fr.all,isOnTouch:t===fr.onTouched}),jS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),zB=(t,e,n)=>{const r=fc(te(t,n));return tt(r,"root",e[n]),tt(t,n,r),t},sa=t=>typeof t=="boolean",D0=t=>t.type==="file",Fi=t=>typeof t=="function",Af=t=>{if(!O0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},wd=t=>Rr(t),j0=t=>t.type==="radio",Pf=t=>t instanceof RegExp;const MS={value:!1,isValid:!1},$S={value:!0,isValid:!0};var pR=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!wt(t[0].attributes.value)?wt(t[0].value)||t[0].value===""?$S:{value:t[0].value,isValid:!0}:$S:MS}return MS};const US={isValid:!1,value:null};var mR=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,US):US;function FS(t,e,n="validate"){if(wd(t)||Array.isArray(t)&&t.every(wd)||sa(t)&&!t)return{type:n,message:wd(t)?t:"",ref:e}}var To=t=>At(t)&&!Pf(t)?t:{value:t,message:""},VS=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:d,pattern:h,validate:p,name:_,valueAsNumber:y,mount:w,disabled:v}=t._f,m=te(e,_);if(!w||v)return{};const g=o?o[0]:s,E=$=>{r&&g.reportValidity&&(g.setCustomValidity(sa($)?"":$||""),g.reportValidity())},S={},C=j0(s),x=dc(s),R=C||x,b=(y||D0(s))&&wt(s.value)&&wt(m)||Af(s)&&s.value===""||m===""||Array.isArray(m)&&!m.length,O=VB.bind(null,_,n,S),q=($,M,oe,ge=zr.maxLength,Re=zr.minLength)=>{const Ue=$?M:oe;S[_]={type:$?ge:Re,message:Ue,ref:s,...O($?ge:Re,Ue)}};if(i?!Array.isArray(m)||!m.length:a&&(!R&&(b||fn(m))||sa(m)&&!m||x&&!pR(o).isValid||C&&!mR(o).isValid)){const{value:$,message:M}=wd(a)?{value:!!a,message:a}:To(a);if($&&(S[_]={type:zr.required,message:M,ref:g,...O(zr.required,M)},!n))return E(M),S}if(!b&&(!fn(c)||!fn(d))){let $,M;const oe=To(d),ge=To(c);if(!fn(m)&&!isNaN(m)){const Re=s.valueAsNumber||m&&+m;fn(oe.value)||($=Re>oe.value),fn(ge.value)||(M=Re<ge.value)}else{const Re=s.valueAsDate||new Date(m),Ue=Q=>new Date(new Date().toDateString()+" "+Q),W=s.type=="time",se=s.type=="week";Rr(oe.value)&&m&&($=W?Ue(m)>Ue(oe.value):se?m>oe.value:Re>new Date(oe.value)),Rr(ge.value)&&m&&(M=W?Ue(m)<Ue(ge.value):se?m<ge.value:Re<new Date(ge.value))}if(($||M)&&(q(!!$,oe.message,ge.message,zr.max,zr.min),!n))return E(S[_].message),S}if((l||u)&&!b&&(Rr(m)||i&&Array.isArray(m))){const $=To(l),M=To(u),oe=!fn($.value)&&m.length>+$.value,ge=!fn(M.value)&&m.length<+M.value;if((oe||ge)&&(q(oe,$.message,M.message),!n))return E(S[_].message),S}if(h&&!b&&Rr(m)){const{value:$,message:M}=To(h);if(Pf($)&&!m.match($)&&(S[_]={type:zr.pattern,message:M,ref:s,...O(zr.pattern,M)},!n))return E(M),S}if(p){if(Fi(p)){const $=await p(m,e),M=FS($,g);if(M&&(S[_]={...M,...O(zr.validate,M.message)},!n))return E(M.message),S}else if(At(p)){let $={};for(const M in p){if(!zn($)&&!n)break;const oe=FS(await p[M](m,e),g,M);oe&&($={...oe,...O(M,oe.message)},E(oe.message),n&&(S[_]=$))}if(!zn($)&&(S[_]={ref:g,...$},!n))return S}}return E(!0),S};function BB(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=wt(t)?r++:t[e[r++]];return t}function HB(t){for(const e in t)if(!wt(t[e]))return!1;return!0}function $t(t,e){const n=Array.isArray(e)?e:L0(e)?[e]:hR(e),r=n.length===1?t:BB(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(At(r)&&zn(r)||Array.isArray(r)&&HB(r))&&$t(t,n.slice(0,-1)),t}function Mm(){let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}}var Nf=t=>fn(t)||!fR(t);function Ds(t,e){if(Nf(t)||Nf(e))return t===e;if(qo(t)&&qo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(qo(s)&&qo(o)||At(s)&&At(o)||Array.isArray(s)&&Array.isArray(o)?!Ds(s,o):s!==o)return!1}}return!0}var gR=t=>t.type==="select-multiple",qB=t=>j0(t)||dc(t),$m=t=>Af(t)&&t.isConnected,yR=t=>{for(const e in t)if(Fi(t[e]))return!0;return!1};function Of(t,e={}){const n=Array.isArray(t);if(At(t)||n)for(const r in t)Array.isArray(t[r])||At(t[r])&&!yR(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Of(t[r],e[r])):fn(t[r])||(e[r]=!0);return e}function vR(t,e,n){const r=Array.isArray(t);if(At(t)||r)for(const i in t)Array.isArray(t[i])||At(t[i])&&!yR(t[i])?wt(e)||Nf(n[i])?n[i]=Array.isArray(t[i])?Of(t[i],[]):{...Of(t[i])}:vR(t[i],fn(e)?{}:e[i],n[i]):n[i]=!Ds(t[i],e[i]);return n}var Um=(t,e)=>vR(t,e,Of(e)),wR=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>wt(t)?t:e?t===""?NaN:t&&+t:n&&Rr(t)?new Date(t):r?r(t):t;function Fm(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return D0(e)?e.files:j0(e)?mR(t.refs).value:gR(e)?[...e.selectedOptions].map(({value:n})=>n):dc(e)?pR(t.refs).value:wR(wt(e.value)?t.ref.value:e.value,t)}var WB=(t,e,n,r)=>{const i={};for(const s of t){const o=te(e,s);o&&tt(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},cl=t=>wt(t)?t:Pf(t)?t.source:At(t)?Pf(t.value)?t.value.source:t.value:t,KB=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function zS(t,e,n){const r=te(t,n);if(r||L0(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=te(e,s),a=te(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var GB=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,QB=(t,e)=>!fc(te(t,e)).length&&$t(t,e);const YB={mode:fr.onSubmit,reValidateMode:fr.onChange,shouldFocusError:!0};function XB(t={},e){let n={...YB,...t},r={submitCount:0,isDirty:!1,isLoading:Fi(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=At(n.defaultValues)||At(n.values)?Is(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:Is(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Mm(),array:Mm(),state:Mm()},p=t.resetOptions&&t.resetOptions.keepDirtyValues,_=DS(n.mode),y=DS(n.reValidateMode),w=n.criteriaMode===fr.all,v=T=>k=>{clearTimeout(c),c=setTimeout(T,k)},m=async T=>{if(d.isValid||T){const k=n.resolver?zn((await b()).errors):await q(i,!0);k!==r.isValid&&h.state.next({isValid:k})}},g=T=>d.isValidating&&h.state.next({isValidating:T}),E=(T,k=[],P,V,j=!0,A=!0)=>{if(V&&P){if(a.action=!0,A&&Array.isArray(te(i,T))){const K=P(te(i,T),V.argA,V.argB);j&&tt(i,T,K)}if(A&&Array.isArray(te(r.errors,T))){const K=P(te(r.errors,T),V.argA,V.argB);j&&tt(r.errors,T,K),QB(r.errors,T)}if(d.touchedFields&&A&&Array.isArray(te(r.touchedFields,T))){const K=P(te(r.touchedFields,T),V.argA,V.argB);j&&tt(r.touchedFields,T,K)}d.dirtyFields&&(r.dirtyFields=Um(s,o)),h.state.next({name:T,isDirty:M(T,k),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else tt(o,T,k)},S=(T,k)=>{tt(r.errors,T,k),h.state.next({errors:r.errors})},C=(T,k,P,V)=>{const j=te(i,T);if(j){const A=te(o,T,wt(P)?te(s,T):P);wt(A)||V&&V.defaultChecked||k?tt(o,T,k?A:Fm(j._f)):Re(T,A),a.mount&&m()}},x=(T,k,P,V,j)=>{let A=!1,K=!1;const Ie={name:T};if(!P||V){d.isDirty&&(K=r.isDirty,r.isDirty=Ie.isDirty=M(),A=K!==Ie.isDirty);const qe=Ds(te(s,T),k);K=te(r.dirtyFields,T),qe?$t(r.dirtyFields,T):tt(r.dirtyFields,T,!0),Ie.dirtyFields=r.dirtyFields,A=A||d.dirtyFields&&K!==!qe}if(P){const qe=te(r.touchedFields,T);qe||(tt(r.touchedFields,T,P),Ie.touchedFields=r.touchedFields,A=A||d.touchedFields&&qe!==P)}return A&&j&&h.state.next(Ie),A?Ie:{}},R=(T,k,P,V)=>{const j=te(r.errors,T),A=d.isValid&&sa(k)&&r.isValid!==k;if(t.delayError&&P?(u=v(()=>S(T,P)),u(t.delayError)):(clearTimeout(c),u=null,P?tt(r.errors,T,P):$t(r.errors,T)),(P?!Ds(j,P):j)||!zn(V)||A){const K={...V,...A&&sa(k)?{isValid:k}:{},errors:r.errors,name:T};r={...r,...K},h.state.next(K)}g(!1)},b=async T=>n.resolver(o,n.context,WB(T||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),O=async T=>{const{errors:k}=await b();if(T)for(const P of T){const V=te(k,P);V?tt(r.errors,P,V):$t(r.errors,P)}else r.errors=k;return k},q=async(T,k,P={valid:!0})=>{for(const V in T){const j=T[V];if(j){const{_f:A,...K}=j;if(A){const Ie=l.array.has(A.name),qe=await VS(j,o,w,n.shouldUseNativeValidation&&!k,Ie);if(qe[A.name]&&(P.valid=!1,k))break;!k&&(te(qe,A.name)?Ie?zB(r.errors,qe,A.name):tt(r.errors,A.name,qe[A.name]):$t(r.errors,A.name))}K&&await q(K,k,P)}}return P.valid},$=()=>{for(const T of l.unMount){const k=te(i,T);k&&(k._f.refs?k._f.refs.every(P=>!$m(P)):!$m(k._f.ref))&&et(T)}l.unMount=new Set},M=(T,k)=>(T&&k&&tt(o,T,k),!Ds(Ce(),s)),oe=(T,k,P)=>FB(T,l,{...a.mount?o:wt(k)?s:Rr(T)?{[T]:k}:k},P,k),ge=T=>fc(te(a.mount?o:s,T,t.shouldUnregister?te(s,T,[]):[])),Re=(T,k,P={})=>{const V=te(i,T);let j=k;if(V){const A=V._f;A&&(!A.disabled&&tt(o,T,wR(k,A)),j=Af(A.ref)&&fn(k)?"":k,gR(A.ref)?[...A.ref.options].forEach(K=>K.selected=j.includes(K.value)):A.refs?dc(A.ref)?A.refs.length>1?A.refs.forEach(K=>(!K.defaultChecked||!K.disabled)&&(K.checked=Array.isArray(j)?!!j.find(Ie=>Ie===K.value):j===K.value)):A.refs[0]&&(A.refs[0].checked=!!j):A.refs.forEach(K=>K.checked=K.value===j):D0(A.ref)?A.ref.value="":(A.ref.value=j,A.ref.type||h.values.next({name:T,values:{...o}})))}(P.shouldDirty||P.shouldTouch)&&x(T,j,P.shouldTouch,P.shouldDirty,!0),P.shouldValidate&&Q(T)},Ue=(T,k,P)=>{for(const V in k){const j=k[V],A=`${T}.${V}`,K=te(i,A);(l.array.has(T)||!Nf(j)||K&&!K._f)&&!qo(j)?Ue(A,j,P):Re(A,j,P)}},W=(T,k,P={})=>{const V=te(i,T),j=l.array.has(T),A=Is(k);tt(o,T,A),j?(h.array.next({name:T,values:{...o}}),(d.isDirty||d.dirtyFields)&&P.shouldDirty&&h.state.next({name:T,dirtyFields:Um(s,o),isDirty:M(T,A)})):V&&!V._f&&!fn(A)?Ue(T,A,P):Re(T,A,P),jS(T,l)&&h.state.next({...r}),h.values.next({name:T,values:{...o}}),!a.mount&&e()},se=async T=>{const k=T.target;let P=k.name,V=!0;const j=te(i,P),A=()=>k.type?Fm(j._f):OB(T);if(j){let K,Ie;const qe=A(),Ii=T.type===LS.BLUR||T.type===LS.FOCUS_OUT,pp=!KB(j._f)&&!n.resolver&&!te(r.errors,P)&&!j._f.deps||GB(Ii,te(r.touchedFields,P),r.isSubmitted,y,_),_o=jS(P,l,Ii);tt(o,P,qe),Ii?(j._f.onBlur&&j._f.onBlur(T),u&&u(0)):j._f.onChange&&j._f.onChange(T);const Wa=x(P,qe,Ii,!1),N=!zn(Wa)||_o;if(!Ii&&h.values.next({name:P,type:T.type,values:{...o}}),pp)return d.isValid&&m(),N&&h.state.next({name:P,..._o?{}:Wa});if(!Ii&&_o&&h.state.next({...r}),g(!0),n.resolver){const{errors:L}=await b([P]),U=zS(r.errors,i,P),Z=zS(L,i,U.name||P);K=Z.error,P=Z.name,Ie=zn(L)}else K=(await VS(j,o,w,n.shouldUseNativeValidation))[P],V=isNaN(qe)||qe===te(o,P,qe),V&&(K?Ie=!1:d.isValid&&(Ie=await q(i,!0)));V&&(j._f.deps&&Q(j._f.deps),R(P,Ie,K,Wa))}},Q=async(T,k={})=>{let P,V;const j=jm(T);if(g(!0),n.resolver){const A=await O(wt(T)?T:j);P=zn(A),V=T?!j.some(K=>te(A,K)):P}else T?(V=(await Promise.all(j.map(async A=>{const K=te(i,A);return await q(K&&K._f?{[A]:K}:K)}))).every(Boolean),!(!V&&!r.isValid)&&m()):V=P=await q(i);return h.state.next({...!Rr(T)||d.isValid&&P!==r.isValid?{}:{name:T},...n.resolver||!T?{isValid:P}:{},errors:r.errors,isValidating:!1}),k.shouldFocus&&!V&&Vy(i,A=>A&&te(r.errors,A),T?j:l.mount),V},Ce=T=>{const k={...s,...a.mount?o:{}};return wt(T)?k:Rr(T)?te(k,T):T.map(P=>te(k,P))},xe=(T,k)=>({invalid:!!te((k||r).errors,T),isDirty:!!te((k||r).dirtyFields,T),isTouched:!!te((k||r).touchedFields,T),error:te((k||r).errors,T)}),Ct=T=>{T&&jm(T).forEach(k=>$t(r.errors,k)),h.state.next({errors:T?r.errors:{}})},Fe=(T,k,P)=>{const V=(te(i,T,{_f:{}})._f||{}).ref;tt(r.errors,T,{...k,ref:V}),h.state.next({name:T,errors:r.errors,isValid:!1}),P&&P.shouldFocus&&V&&V.focus&&V.focus()},nr=(T,k)=>Fi(T)?h.values.subscribe({next:P=>T(oe(void 0,k),P)}):oe(T,k,!0),et=(T,k={})=>{for(const P of T?jm(T):l.mount)l.mount.delete(P),l.array.delete(P),k.keepValue||($t(i,P),$t(o,P)),!k.keepError&&$t(r.errors,P),!k.keepDirty&&$t(r.dirtyFields,P),!k.keepTouched&&$t(r.touchedFields,P),!n.shouldUnregister&&!k.keepDefaultValue&&$t(s,P);h.values.next({values:{...o}}),h.state.next({...r,...k.keepDirty?{isDirty:M()}:{}}),!k.keepIsValid&&m()},mt=(T,k={})=>{let P=te(i,T);const V=sa(k.disabled);return tt(i,T,{...P||{},_f:{...P&&P._f?P._f:{ref:{name:T}},name:T,mount:!0,...k}}),l.mount.add(T),P?V&&tt(o,T,k.disabled?void 0:te(o,T,Fm(P._f))):C(T,!0,k.value),{...V?{disabled:k.disabled}:{},...n.shouldUseNativeValidation?{required:!!k.required,min:cl(k.min),max:cl(k.max),minLength:cl(k.minLength),maxLength:cl(k.maxLength),pattern:cl(k.pattern)}:{},name:T,onChange:se,onBlur:se,ref:j=>{if(j){mt(T,k),P=te(i,T);const A=wt(j.value)&&j.querySelectorAll&&j.querySelectorAll("input,select,textarea")[0]||j,K=qB(A),Ie=P._f.refs||[];if(K?Ie.find(qe=>qe===A):A===P._f.ref)return;tt(i,T,{_f:{...P._f,...K?{refs:[...Ie.filter($m),A,...Array.isArray(te(s,T))?[{}]:[]],ref:{type:A.type,name:T}}:{ref:A}}}),C(T,!1,void 0,A)}else P=te(i,T,{}),P._f&&(P._f.mount=!1),(n.shouldUnregister||k.shouldUnregister)&&!(DB(l.array,T)&&a.action)&&l.unMount.add(T)}}},Ci=()=>n.shouldFocusError&&Vy(i,T=>T&&te(r.errors,T),l.mount),Ti=(T,k)=>async P=>{P&&(P.preventDefault&&P.preventDefault(),P.persist&&P.persist());let V=Is(o);if(h.state.next({isSubmitting:!0}),n.resolver){const{errors:j,values:A}=await b();r.errors=j,V=A}else await q(i);$t(r.errors,"root"),zn(r.errors)?(h.state.next({errors:{}}),await T(V,P)):(k&&await k({...r.errors},P),Ci(),setTimeout(Ci)),h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zn(r.errors),submitCount:r.submitCount+1,errors:r.errors})},B=(T,k={})=>{te(i,T)&&(wt(k.defaultValue)?W(T,te(s,T)):(W(T,k.defaultValue),tt(s,T,k.defaultValue)),k.keepTouched||$t(r.touchedFields,T),k.keepDirty||($t(r.dirtyFields,T),r.isDirty=k.defaultValue?M(T,te(s,T)):M()),k.keepError||($t(r.errors,T),d.isValid&&m()),h.state.next({...r}))},G=(T,k={})=>{const P=T||s,V=Is(P),j=T&&!zn(T)?V:s;if(k.keepDefaultValues||(s=P),!k.keepValues){if(k.keepDirtyValues||p)for(const A of l.mount)te(r.dirtyFields,A)?tt(j,A,te(o,A)):W(A,te(j,A));else{if(O0&&wt(T))for(const A of l.mount){const K=te(i,A);if(K&&K._f){const Ie=Array.isArray(K._f.refs)?K._f.refs[0]:K._f.ref;if(Af(Ie)){const qe=Ie.closest("form");if(qe){qe.reset();break}}}}i={}}o=t.shouldUnregister?k.keepDefaultValues?Is(s):{}:V,h.array.next({values:{...j}}),h.values.next({values:{...j}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!d.isValid||!!k.keepIsValid,a.watch=!!t.shouldUnregister,h.state.next({submitCount:k.keepSubmitCount?r.submitCount:0,isDirty:k.keepDirty?r.isDirty:!!(k.keepDefaultValues&&!Ds(T,s)),isSubmitted:k.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:k.keepDirtyValues?r.dirtyFields:k.keepDefaultValues&&T?Um(s,T):{},touchedFields:k.keepTouched?r.touchedFields:{},errors:k.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},_e=(T,k)=>G(Fi(T)?T(o):T,k);return{control:{register:mt,unregister:et,getFieldState:xe,_executeSchema:b,_getWatch:oe,_getDirty:M,_updateValid:m,_removeUnmounted:$,_updateFieldArray:E,_getFieldArray:ge,_reset:G,_resetDefaultValues:()=>Fi(n.defaultValues)&&n.defaultValues().then(T=>{_e(T,n.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:T=>{r={...r,...T}},_subjects:h,_proxyFormState:d,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(T){a=T},get _defaultValues(){return s},get _names(){return l},set _names(T){l=T},get _formState(){return r},set _formState(T){r=T},get _options(){return n},set _options(T){n={...n,...T}}},trigger:Q,register:mt,handleSubmit:Ti,watch:nr,setValue:W,getValues:Ce,reset:_e,resetField:B,clearErrors:Ct,unregister:et,setError:Fe,setFocus:(T,k={})=>{const P=te(i,T),V=P&&P._f;if(V){const j=V.refs?V.refs[0]:V.ref;j.focus&&(j.focus(),k.shouldSelect&&j.select())}},getFieldState:xe}}function M0(t={}){const e=Xr.useRef(),[n,r]=Xr.useState({isDirty:!1,isValidating:!1,isLoading:Fi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Fi(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...XB(t,()=>r(s=>({...s}))),formState:n});const i=e.current.control;return i._options=t,UB({subject:i._subjects.state,next:s=>{$B(s,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),Xr.useEffect(()=>{t.values&&!Ds(t.values,i._defaultValues)?i._reset(t.values,i._options.resetOptions):i._resetDefaultValues()},[t.values,i]),Xr.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=MB(n,i),e.current}function _R(t){return f.jsxs(Le,{stroke:"none",...t,children:[f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.64 12.2045C20.64 11.5664 20.5827 10.9527 20.4764 10.3636H12V13.845H16.8436C16.635 14.97 16.0009 15.9232 15.0477 16.5614V18.8195H17.9564C19.6582 17.2527 20.64 14.9454 20.64 12.2045Z",fill:"#4285F4"}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 21C14.43 21 16.4673 20.1941 17.9564 18.8196L15.0477 16.5614C14.2418 17.1014 13.2109 17.4205 12 17.4205C9.65591 17.4205 7.67182 15.8373 6.96409 13.71H3.95728V16.0418C5.43818 18.9832 8.48182 21 12 21Z",fill:"#34A853"}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.96409 13.71C6.78409 13.17 6.68182 12.5932 6.68182 12C6.68182 11.4068 6.78409 10.83 6.96409 10.29V7.95818H3.95727C3.34773 9.17318 3 10.5477 3 12C3 13.4523 3.34773 14.8268 3.95727 16.0418L6.96409 13.71Z",fill:"#FBBC05"}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6.57955C13.3214 6.57955 14.5077 7.03364 15.4405 7.92545L18.0218 5.34409C16.4632 3.89182 14.4259 3 12 3C8.48182 3 5.43818 5.01682 3.95728 7.95818L6.96409 10.29C7.67182 8.16273 9.65591 6.57955 12 6.57955Z",fill:"#EA4335"})]})}function ER(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}const JB="_Backdrop_1yd3e_46",ZB="_show_1yd3e_61",eH="_disabled_1yd3e_66",Vm={Backdrop:JB,"hide-blackout":"_hide-blackout_1yd3e_1",show:ZB,"show-blackout":"_show-blackout_1yd3e_1",disabled:eH},$0=I.forwardRef(({className:t,disabled:e,show:n,opacity:r,...i},s)=>{const o=I.useRef(null);I.useEffect(()=>{var l;o&&r&&((l=o.current)==null||l.style.setProperty("--backdrop-opacity",`${r}%`))},[o]);const a=[e&&Vm.disabled,n&&Vm.show];return f.jsx("button",{type:"button",className:X.join(Vm.Backdrop,t,a),ref:ER([s,o]),...i})});$0.displayName="Backdrop";const tH="_LoaderLine_92256_1",nH="_background_92256_10",rH="_normal_92256_13",iH="_animation_92256_13",sH="_loader_92256_1",oH="_inversion_92256_22",dl={LoaderLine:tH,background:nH,normal:rH,animation:iH,loader:sH,inversion:oH},SR=I.forwardRef(({isInversion:t,className:e,...n},r)=>{const i=[t?dl.inversion:dl.normal];return f.jsxs("div",{className:X.join(dl.LoaderLine,e,i),ref:r,...n,children:[f.jsx("div",{className:dl.background}),f.jsx("div",{className:dl.animation})]})});SR.displayName="LoaderLine";function dp({children:t,className:e="root-portal",elementType:n="div"}){const r=I.useRef(document.createElement(n)),{current:i}=r;return I.useEffect(()=>(i.classList.add(e),document.body.appendChild(r.current),()=>{document.body.removeChild(i)}),[]),MN.createPortal(t,i)}const aH="_LoaderOverlay_1d96m_1",lH={LoaderOverlay:aH};function Ha(){return f.jsx(dp,{children:f.jsxs(ie,{className:X.join(lH.LoaderOverlay),children:[f.jsx($0,{show:!0}),f.jsx(SR,{})]})})}const fp=I.forwardRef(({children:t,className:e,...n},r)=>f.jsx("form",{className:e,ref:r,...n,children:t}));fp.displayName="Form";const uH="_inputContainer_5k7mp_1",cH="_input_5k7mp_1",BS={inputContainer:uH,input:cH},dH="_container_zpng5_1",fH="_inputBlockContainer_zpng5_8",hH="_input_zpng5_8",pH="_error_zpng5_24",Ve={container:dH,inputBlockContainer:fH,input:hH,error:pH},mH=I.forwardRef(({register:t=null,errors:e,onLabelClick:n,label:r,children:i,className:s,...o},a)=>{var c;const l=d=>{n&&n(d)},u=e?(c=e[t==null?void 0:t.name])==null?void 0:c.message:"";return f.jsxs("div",{className:Ve.container,children:[i&&f.jsx(H,{component:"h3",children:i}),f.jsxs("div",{className:Ve.inputBlockContainer,children:[f.jsxs("label",{className:BS.inputContainer,children:[f.jsx("input",{type:"checkbox",className:X.join(BS.input,s),ref:a,...t,...o}),f.jsx(H,{component:"p1",onClick:l,children:r})]}),t&&f.jsx(H,{component:"p2",className:X.join(Ve.error),children:typeof u=="string"&&u})]})]})});mH.displayName="Checkbox";function gH(t){return f.jsx(Le,{fill:"none",...t,children:f.jsx("path",{d:"M6 9L12 15L18 9",strokeLinecap:"round",strokeLinejoin:"round"})})}const yH="_inputContainer_izcmr_1",vH="_icon_izcmr_5",wH="_input_izcmr_1",zm={inputContainer:yH,icon:vH,input:wH},CR=I.forwardRef(({options:t,register:e,errors:n,selected:r,blank:i,onDropdownChange:s,children:o,className:a,...l},u)=>{var _;const[c,d]=I.useState(r),h=y=>{d(y.target.value),s&&s(y.target.value)},p=n?(_=n[e==null?void 0:e.name])==null?void 0:_.message:"";return f.jsxs("div",{className:Ve.container,children:[f.jsx(H,{component:"h5",children:o}),f.jsxs("div",{className:Ve.inputBlockContainer,children:[f.jsxs("label",{className:zm.inputContainer,children:[f.jsxs("select",{className:X.join(zm.input,Ve.input,tn.input,a),value:c,onChange:h,ref:u,...e,...l,children:[i&&f.jsx("option",{children:" "}),t.map(y=>f.jsx("option",{value:y,children:y},y))]}),f.jsx(Vt,{size:"custom",style:{width:20,height:20},className:zm.icon,onClick:()=>null,children:f.jsx(gH,{size:"custom",style:{width:20,height:20}})})]}),e&&f.jsx(H,{component:"p2",className:X.join(Ve.error),children:typeof p=="string"&&p})]})]})});CR.displayName="Dropdown";const U0=I.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>{var a;const o=e?(a=e[t==null?void 0:t.name])==null?void 0:a.message:"";return f.jsxs("div",{className:Ve.container,children:[f.jsx(H,{component:"h5",children:r}),f.jsxs("div",{className:Ve.inputBlockContainer,children:[f.jsx("label",{children:f.jsx("input",{type:"email",className:X.join(Ve.input,tn.input),placeholder:n,ref:s,...t,...i})}),t&&f.jsx(H,{component:"p2",className:X.join(Ve.error),children:typeof o=="string"&&o})]})]})});U0.displayName="EmailInput";function _H(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("path",{d:"M23 19C23 19.5304 22.7893 20.0391 22.4142 20.4142C22.0391 20.7893 21.5304 21 21 21H3C2.46957 21 1.96086 20.7893 1.58579 20.4142C1.21071 20.0391 1 19.5304 1 19V8C1 7.46957 1.21071 6.96086 1.58579 6.58579C1.96086 6.21071 2.46957 6 3 6H7L9 3H15L17 6H21C21.5304 6 22.0391 6.21071 22.4142 6.58579C22.7893 6.96086 23 7.46957 23 8V19Z",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12 17C14.2091 17 16 15.2091 16 13C16 10.7909 14.2091 9 12 9C9.79086 9 8 10.7909 8 13C8 15.2091 9.79086 17 12 17Z",strokeLinecap:"round",strokeLinejoin:"round"})]})}const EH="_FileImgUpload_142ig_1",SH="_container_142ig_7",CH="_input_142ig_14",TH="_imgPreview_142ig_18",Bm={FileImgUpload:EH,container:SH,input:CH,imgPreview:TH},TR=I.forwardRef(({register:t,errors:e,watch:n,accept:r,label:i,defaultImg:s="",children:o,className:a,...l},u)=>{var w;const[c,d]=I.useState(s),h=n?n(t?t.name:null):null,p=v=>{if(v&&v.length>0)if(typeof v=="string")d(v);else{const m=URL.createObjectURL(v[0]);d(m)}};I.useEffect(()=>{n&&h&&p(h)},[h]);const _=v=>{!n&&s&&p(v.target.files)},y=e?(w=e[t==null?void 0:t.name])==null?void 0:w.message:"";return f.jsxs("div",{className:X.join(Bm.FileImgUpload,Ve.container),children:[f.jsx(H,{component:"h5",children:o}),f.jsxs("div",{className:Ve.inputBlockContainer,children:[f.jsxs("label",{className:X.join(Bm.container,tn.input),children:[f.jsx("input",{type:"file",accept:r||"",className:X.join(Bm.input,a),ref:u,onChange:_,...t,...l}),c?f.jsx(Ia,{src:c,alt:c}):f.jsx(Ia,{children:f.jsx(_H,{})}),i]}),t&&f.jsx(H,{component:"p2",className:X.join(Ve.error),children:typeof y=="string"&&y})]})]})});TR.displayName="FileImgUpload";const IH="_input_1wgeu_1",xH={input:IH},kH=I.forwardRef(({children:t,className:e,...n},r)=>f.jsx("div",{children:f.jsxs("label",{htmlFor:"file",children:[t,f.jsx("input",{type:"file",className:X.join(xH.input,e),id:"file",ref:r,...n})]})}));kH.displayName="FileUpload";function bH(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("path",{d:"M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",strokeLinecap:"round",strokeLinejoin:"round"})]})}function RH(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsxs("g",{clipPath:"url(#clip0_2015_815)",children:[f.jsx("path",{d:"M17.94 17.94C16.2306 19.243 14.1491 19.9649 12 20C5 20 1 12 1 12C2.24389 9.68189 3.96914 7.6566 6.06 6.05999M9.9 4.23999C10.5883 4.07887 11.2931 3.99833 12 3.99999C19 3.99999 23 12 23 12C22.393 13.1356 21.6691 14.2047 20.84 15.19M14.12 14.12C13.8454 14.4147 13.5141 14.6511 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1752 15.0074 10.8016 14.8565C10.4281 14.7056 10.0887 14.481 9.80385 14.1961C9.51897 13.9113 9.29439 13.5719 9.14351 13.1984C8.99262 12.8248 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2218 9.18488 10.8538C9.34884 10.4858 9.58525 10.1546 9.88 9.87999",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M1 1L23 23",strokeLinecap:"round",strokeLinejoin:"round"})]}),f.jsx("defs",{children:f.jsx("clipPath",{id:"clip0_2015_815",children:f.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}const AH="_inputContainer_nkmmv_1",PH="_input_nkmmv_1",NH="_icon_nkmmv_9",js={inputContainer:AH,input:PH,icon:NH},Lf=I.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>{var d;const[o,a]=I.useState(!1),l=h=>{h.stopPropagation(),a(p=>!p)},u=o?"text":"password",c=e?(d=e[t==null?void 0:t.name])==null?void 0:d.message:"";return f.jsxs("div",{className:Ve.container,children:[f.jsx(H,{component:"h5",children:r}),f.jsxs("div",{className:Ve.inputBlockContainer,children:[f.jsxs("label",{className:js.inputContainer,children:[f.jsx("input",{type:u,className:X.join(Ve.input,js.input,tn.input),placeholder:n,ref:s,...t,...i}),f.jsx(Vt,{size:"custom",style:{width:20,height:20},className:js.icon,onClick:l,children:o?f.jsx(bH,{size:"custom",style:{width:20,height:20}}):f.jsx(RH,{size:"custom",style:{width:20,height:20}})})]}),t&&f.jsx(H,{component:"p2",className:X.join(Ve.error),children:typeof c=="string"&&c})]})]})});Lf.displayName="PasswordInput";const zy=I.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>{var a;const o=e?(a=e[t==null?void 0:t.name])==null?void 0:a.message:"";return f.jsxs("div",{className:Ve.container,children:[f.jsx(H,{component:"h5",children:r}),f.jsxs("div",{className:Ve.inputBlockContainer,children:[f.jsx("label",{children:f.jsx("input",{type:"text",className:X.join(Ve.input,tn.input),placeholder:n,ref:s,...t,...i})}),t&&(t==null?void 0:t.name)&&f.jsx(H,{component:"p2",className:X.join(Ve.error),children:typeof o=="string"&&o})]})]})});zy.displayName="TextInput";const OH="_element_1akzf_1",LH="_elementsContainer_1akzf_9",DH="_input_1akzf_15",Hm={element:OH,elementsContainer:LH,input:DH},IR=I.forwardRef(({register:t,errors:e,labels:n,children:r,...i},s)=>{var a;const o=e?(a=e[t==null?void 0:t.name])==null?void 0:a.message:"";return f.jsxs("div",{className:Ve.container,children:[f.jsx(H,{component:"h5",children:r}),f.jsxs("div",{className:Ve.inputBlockContainer,children:[f.jsx("div",{className:Hm.elementsContainer,children:n.map(l=>f.jsxs("label",{className:Hm.element,children:[f.jsx("input",{type:"radio",className:X.join(Hm.input,tn.input),value:l.toString(),ref:s,...t,...i}),f.jsx(H,{component:"p1",children:l})]},l))}),t&&f.jsx(H,{component:"p2",className:X.join(Ve.error),children:typeof o=="string"&&o})]})]})});IR.displayName="RadioButton";const jH="_content_ol8b2_18",MH="_titleContainer_ol8b2_22",$H="_success_ol8b2_22",UH="_info_ol8b2_27",FH="_error_ol8b2_32",VH="_warn_ol8b2_37",zH="_Modal_ol8b2_70",BH="_buttons_ol8b2_107",HH="_medium_ol8b2_111",qH="_large_ol8b2_122",WH="_title_ol8b2_22",KH="_body_ol8b2_155",Br={content:jH,titleContainer:MH,success:$H,info:UH,error:FH,warn:VH,Modal:zH,"hide-modal":"_hide-modal_ol8b2_1",buttons:BH,medium:HH,large:qH,"show-modal":"_show-modal_ol8b2_1",title:WH,body:KH},wo=I.forwardRef(({type:t,title:e,noTitle:n,mainButton:r={text:"Ок"},secondButton:i,backdrop:s,onClose:o,noButtons:a=!1,size:l="flex",children:u,className:c,...d},h)=>{const[p,_]=I.useState("show"),y=i&&!X.isObjectEmpty(i),w=()=>{_("")},v=()=>{p!=="show"&&(w(),document.body.style.overflow="visible",o&&o())},m=()=>{s!=null&&s.onClick&&s.onClick(),w()},g=()=>{r!=null&&r.onClick&&r.onClick(),r!=null&&r.form||w()},E=()=>{i!=null&&i.onClick&&i.onClick(),i!=null&&i.form||w()},S=t?Br[t]:null,C=e||t==="alert"&&"Повідомлення!"||t==="info"&&"Інформація!"||t==="success"&&"Успіх!"||t==="error"&&"Помилка"||t==="warn"&&"Попередження!";I.useEffect(()=>{document.body.style.overflow="hidden"},[]);const x=l==="medium"&&Br.medium||l==="large"&&Br.large;return f.jsx(dp,{children:f.jsxs("div",{className:X.join(Br.Modal,c,p),onAnimationEnd:v,ref:h,...d,children:[f.jsx($0,{onClick:m,disabled:s==null?void 0:s.disabled,show:p==="show"}),f.jsxs("div",{className:X.join(x,Br.content),children:[f.jsx("div",{className:t&&X.join(Br.titleContainer,S,t),children:f.jsx(H,{component:"h4",className:Br.title,children:!n&&C})}),f.jsx("div",{className:Br.body,children:u}),!a&&f.jsxs("div",{className:Br.buttons,children:[y&&f.jsxs(st,{size:i==null?void 0:i.size,type:(i==null?void 0:i.type)||"secondary",onClick:()=>E(),submit:i==null?void 0:i.isSubmit,disabled:i==null?void 0:i.disabled,children:[(i==null?void 0:i.iconPosition)==="left"&&(i==null?void 0:i.icon),!(i!=null&&i.icon)&&(i!=null&&i.icon?"Відміна":i==null?void 0:i.text),!(i!=null&&i.text)&&(i==null?void 0:i.icon)&&(i==null?void 0:i.icon),(i==null?void 0:i.iconPosition)==="left"&&(i==null?void 0:i.icon)]}),f.jsxs(st,{size:r==null?void 0:r.size,type:(r==null?void 0:r.type)||"primary",onClick:()=>g(),submit:r==null?void 0:r.isSubmit,disabled:r==null?void 0:r.disabled,children:[(r==null?void 0:r.iconPosition)==="left"&&(r==null?void 0:r.icon),!(r!=null&&r.icon)&&(r!=null&&r.icon?"Ок":r==null?void 0:r.text),!(r!=null&&r.text)&&(r==null?void 0:r.icon)&&(r==null?void 0:r.icon),(r==null?void 0:r.iconPosition)==="right"&&(r==null?void 0:r.icon)]})]})]})]})})});wo.displayName="Modal";function GH({onClose:t,error:e}){return f.jsx(wo,{onClose:t,type:"error",size:"medium",title:"Помилка при вході!",children:f.jsxs(f.Fragment,{children:[f.jsx(H,{component:"p1",className:"center",children:"Невірні дані!"}),f.jsx(H,{component:"caption",className:"center",children:e})]})})}function QH({onClose:t}){return f.jsx(wo,{onClose:t,type:"success",size:"medium",title:"Вітаю!",children:f.jsx(H,{component:"p1",className:"center",children:"Ви успішно увійшли на сайт!"})})}const YH="_container_wf24k_1",XH="_form_wf24k_9",JH="_main_wf24k_17",ZH="_additional_wf24k_23",eq="_center_wf24k_29",fl={container:YH,form:XH,main:JH,additional:ZH,center:eq};function tq(){const{isAuth:t,isFillProfile:e}=Ur(),n=Zn(),r=un(),{error:i,isLoading:s,fetchedUserData:o}=ct(v=>v.userReducer),{actions:a}=Ba;I.useEffect(()=>{t&&n(e?Kn.users:Kn.user)},[t]);const{register:l,handleSubmit:u,formState:{errors:c}}=M0({mode:"onSubmit",defaultValues:{email:"",password:""}}),d=mr(c),h={email:l("email",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/i,message:"Невірно введена адреса електронної пошти!"}}),password:l("password",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[a-zA-Z0-9]+$/,message:"Використовуйте тільки латинські літери та цифри!"},minLength:{value:8,message:"Мінімальна довжина пароля 8 символів"},maxLength:{value:16,message:"Максимальна довжина пароля 16 символів"}})},p=async({email:v,password:m})=>{r(yd({email:v,password:m}))},_=()=>{r(Kl())},y=()=>{r(a.setUserDataFromFetched())},w=()=>{r(a.resetError())};return f.jsxs(N0,{children:[f.jsxs(at,{container:!0,className:fl.container,children:[f.jsx(H,{component:"h4",children:"Вхід"}),f.jsxs(fp,{className:fl.form,onSubmit:u(p),children:[f.jsxs(ie,{className:fl.main,children:[f.jsx(U0,{register:h.email,errors:c,children:"Адреса електронної пошти*:"}),f.jsx(Lf,{register:h.password,errors:c,children:"Пароль*:"}),f.jsx(st,{submit:!0,disabled:!d,children:"Увійти"})]}),f.jsx(H,{component:"p2",className:fl.center,children:"або"}),f.jsxs(ie,{className:fl.additional,children:[f.jsxs(st,{type:"secondary",onClick:_,children:[f.jsx(_R,{}),"Увійти через Google"]}),f.jsxs(H,{component:"p2",children:["Немає акаунту?"," ",f.jsx(_h,{to:mn.signup,children:f.jsx(Qs,{display:"p2",children:"Створити"})})]})]})]}),s&&f.jsx(Ha,{})]}),o&&!s?f.jsx(QH,{onClose:y}):null,i&&!s&&f.jsx(GH,{onClose:w,error:i})]})}function nq({onClose:t,error:e}){return f.jsx(wo,{onClose:t,type:"error",size:"medium",title:"Невірні дані!",children:f.jsxs(f.Fragment,{children:[f.jsx(H,{component:"p1",className:"center",children:"Виникла помилка при реєстрації."}),f.jsx(H,{component:"p1",className:"center",children:"Можливо такий користувач вже існує!"}),f.jsx(H,{component:"caption",className:"center",children:e})]})})}function rq({onClose:t}){return f.jsx(wo,{onClose:t,type:"success",size:"medium",title:"Вітаю!",children:f.jsx(H,{component:"p1",className:"center",children:"Ви успішно зареєструвалися на сайті! Лишився ще один крок😉"})})}const iq="_container_wf24k_1",sq="_form_wf24k_9",oq="_main_wf24k_17",aq="_additional_wf24k_23",lq="_center_wf24k_29",hl={container:iq,form:sq,main:oq,additional:aq,center:lq};function uq(){const{isAuth:t,isFillProfile:e}=Ur(),n=Zn(),r=un(),{error:i,isLoading:s,fetchedUserData:o}=ct(S=>S.userReducer),{actions:a}=Ba;I.useEffect(()=>{t&&n(e?Kn.users:Kn.user)},[t]);const{register:l,handleSubmit:u,reset:c,resetField:d,watch:h,formState:{errors:p}}=M0({mode:"onSubmit",defaultValues:{email:"",password:"",confirmPassword:""}}),_=mr(p),y={email:l("email",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/i,message:"Невірно введена адреса електронної пошти!"}}),password:l("password",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[a-zA-Z0-9]+$/,message:"Використовуйте тільки латинські літери та цифри!"},minLength:{value:8,message:"Мінімальна довжина пароля 8 символів"},maxLength:{value:16,message:"Максимальна довжина пароля 16 символів"}}),confirmPassword:l("confirmPassword",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[a-zA-Z0-9]+$/,message:"Використовуйте тільки латинські літери та цифри!"},minLength:{value:8,message:"Мінімальна довжина пароля 8 символів"},maxLength:{value:16,message:"Максимальна довжина пароля 16 символів"},validate:S=>h("password")===S||"Паролі не збігаються!"})},w=async({email:S,password:C})=>{r(pd({email:S,password:C}))},v=()=>{d("confirmPassword")},m=()=>{r(Kl())},g=()=>{r(a.setUserDataFromFetched())},E=()=>{r(a.resetError())};return f.jsxs(N0,{children:[f.jsxs(at,{container:!0,className:hl.container,children:[f.jsx(H,{component:"h4",children:"Реєстрація"}),f.jsxs(fp,{className:hl.form,onSubmit:u(w),children:[f.jsxs(ie,{className:hl.main,children:[f.jsx(U0,{register:y.email,errors:p,children:"Адреса електронної пошти*:"}),f.jsx(Lf,{register:y.password,errors:p,onChange:v,children:"Пароль*:"}),f.jsx(Lf,{register:y.confirmPassword,errors:p,children:"Підтвердження паролю*:"}),f.jsx(st,{submit:!0,disabled:!_,children:"Створити"})]}),f.jsx(H,{component:"p2",className:hl.center,children:"або"}),f.jsxs(ie,{className:hl.additional,children:[f.jsxs(st,{type:"secondary",onClick:m,children:[f.jsx(_R,{}),"Увійти через Google"]}),f.jsxs(H,{component:"p2",children:["Вже є акаунт?"," ",f.jsx(_h,{className:"link",to:mn.login,children:f.jsx(Qs,{display:"p2",children:"Увійти"})})]})]})]}),s&&f.jsx(Ha,{})]}),o&&!s&&f.jsx(rq,{onClose:g}),i&&!s&&f.jsx(nq,{onClose:E,error:i})]})}const cq={christian:`
	Авва Отче Святий — ми в руці Твоїй
	Ангели в небі Господа славлять
	Бог Ти цар мого життя
	Боже Єдиний нашу країну тримай
	Всесильний Нездоланний
	Господи — Ти надія у житті
	Минає час минають дні
	Схилимо коліна
	Я за тебе молюсь Україно
	Як сум і муку мою душу огорне
`,others:`
	always
	ain't it fun
`},dq="christian",HS=cq[dq].trim().split(`
`).map(t=>t.trim()),fq={normalOrderAudioFilesList:HS,audioTracksList:HS,isPlaying:!1,isPlayerShow:!1,lastOpenedTrack:null,currentTrack:null,currentTrackIndex:0,currentTrackDuration:0,currentTrackTimeProgress:0},qa=Oa({name:"musicPlayer",initialState:fq,reducers:{setNormalAudioTracksList(t){t.audioTracksList=t.normalOrderAudioFilesList},setShuffleAudioTracksList(t){t.audioTracksList=X.shuffleArray(t.audioTracksList)},setIsPlaying(t,e){t.isPlaying=e.payload,t.isPlaying?t.currentTrack=t.audioTracksList[t.currentTrackIndex]:t.lastOpenedTrack=t.currentTrack},toggleIsPlaying(t){t.isPlaying=!t.isPlaying,t.isPlaying?t.currentTrack=t.audioTracksList[t.currentTrackIndex]:t.lastOpenedTrack=t.currentTrack},showPlayer(t){t.isPlayerShow=!0},hidePlayer(t){t.isPlayerShow=!1},setCurrentTrack(t,e){t.currentTrack=e.payload},setCurrentTrackIndex(t,e){t.currentTrackIndex=e.payload},setCurrentTrackDuration(t,e){t.currentTrackDuration=e.payload},setCurrentTrackTimeProgress(t,e){t.currentTrackTimeProgress=e.payload},prevTrack(t){if(t.currentTrackIndex===0){const e=t.audioTracksList.length-1;t.currentTrackIndex=e,t.currentTrack=t.audioTracksList[e]}else{const e=t.currentTrackIndex-1;t.currentTrackIndex=e,t.currentTrack=t.audioTracksList[e]}},nextTrack(t){if(t.currentTrackIndex>=t.audioTracksList.length-1)t.currentTrackIndex=0,[t.currentTrack]=t.audioTracksList;else{const e=t.currentTrackIndex+1;t.currentTrackIndex=e,t.currentTrack=t.audioTracksList[e]}}}});function xR({startTransitionClass:t,onTransitionEndAction:e,autostart:n=!0}){const[r,i]=I.useState(!1);return I.useEffect(()=>{n&&i(!0)},[n]),{transitionClass:r?t:null,handleOnTransitionEnd:()=>{r||e()},runStartTransition:()=>{i(!0)},runEndTransition:()=>{i(!1)}}}function hq(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("path",{d:"M11 17L6 12L11 7",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M18 17L13 12L18 7",strokeLinecap:"round",strokeLinejoin:"round"})]})}function pq(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("path",{d:"M13 17L18 12L13 7",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M6 17L11 12L6 7",strokeLinecap:"round",strokeLinejoin:"round"})]})}function kR(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),f.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]})}function bR(t){return f.jsx(Le,{fill:"none",...t,children:f.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})}function mq(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("polygon",{points:"19 20 9 12 19 4 19 20"}),f.jsx("line",{x1:"5",y1:"19",x2:"5",y2:"5"})]})}function gq(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("polygon",{points:"5 4 15 12 5 20 5 4"}),f.jsx("line",{x1:"19",y1:"5",x2:"19",y2:"19"})]})}const yq="_Controls_1ma96_1",vq="_playIcon_1ma96_8",qS={Controls:yq,playIcon:vq};function wq({timeProgress:t,setTimeProgress:e,audioRef:n,progressBarRef:r}){const i=I.useRef(),{isPlaying:s,currentTrackDuration:o,currentTrackTimeProgress:a}=ct(w=>w.musicPlayerReducer),l=un(),{actions:u}=qa,c=I.useCallback(()=>{if(n.current&&r.current){const{currentTime:w}=n.current;e(w);const v=r.current;v.value=w.toString(),v.style.setProperty("--progress-bar--range-progress",`${Number(v.value)/o*100}%`),s&&(i.current=requestAnimationFrame(c))}},[n,o,s,r,e]);I.useEffect(()=>{n.current&&(s?n.current.play():n.current.pause()),i.current=requestAnimationFrame(c)},[s,n,c]);const d=()=>{l(u.toggleIsPlaying()),s||e(a)},h=()=>{if(n.current){const w=n.current;w.currentTime+=10}},p=()=>{if(n.current){const w=n.current;w.currentTime-=10}},_=()=>{if(t>=1){if(e(0),n.current){const w=n.current;w.currentTime=0}}else l(u.prevTrack())},y=()=>{l(u.nextTrack())};return f.jsxs(ie,{className:qS.Controls,children:[f.jsx(st,{type:"text",onClick:_,children:f.jsx(mq,{})}),f.jsx(st,{type:"text",onClick:p,children:f.jsx(hq,{})}),f.jsx(st,{type:"secondary",onClick:d,children:s?f.jsx(kR,{}):f.jsx(bR,{className:qS.playIcon})}),f.jsx(st,{type:"text",onClick:h,children:f.jsx(pq,{})}),f.jsx(st,{type:"text",onClick:y,children:f.jsx(gq,{})})]})}const _q={},RR=I.forwardRef(({className:t,...e},n)=>f.jsx("audio",{className:X.join(_q.AudioPlayer,t),ref:n,...e,children:f.jsx("track",{kind:"captions"})}));RR.displayName="AudioPlayer";const Eq="_DisplayTrack_1d8z7_1",Sq={DisplayTrack:Eq};function Cq({timeProgress:t,audioRef:e,progressBarRef:n,onClose:r}){const{currentTrack:i}=ct(c=>c.musicPlayerReducer),{actions:s}=qa,o=un(),a=()=>{if(e.current&&n.current){const c=e.current,d=Math.trunc(c.duration);o(s.setCurrentTrackDuration(d));const h=n.current;h.max=d.toString()}},l=()=>{o(s.nextTrack())},u=()=>{r()};return f.jsxs(ie,{className:Sq.DisplayTrack,children:[f.jsx(RR,{src:`/mp3/${i}.mp3`,ref:e,onLoadedMetadata:a,onEnded:l}),f.jsx(H,{component:"h6",children:i}),f.jsx(Vt,{onClick:u,children:f.jsx(cc,{size:"small"})})]})}const Tq="_ProgressBar_8spjb_1",Iq="_timeProgress_8spjb_8",xq="_duration_8spjb_9",kq="_range_8spjb_22",zc={ProgressBar:Tq,timeProgress:Iq,duration:xq,range:kq};function bq({timeProgress:t,audioRef:e,progressBarRef:n}){const{currentTrackDuration:r}=ct(l=>l.musicPlayerReducer),{actions:i}=qa,s=un(),o=()=>{if(e.current&&n.current){const l=e.current;l.currentTime=Number(n.current.value)}},a=()=>{e.current&&n.current&&s(i.setCurrentTrackTimeProgress(Number(n.current.value)))};return f.jsxs(ie,{className:zc.ProgressBar,children:[f.jsx(H,{component:"p2",className:zc.timeProgress,children:N_(t)}),f.jsx("input",{type:"range",className:zc.range,onChange:o,onMouseUp:a,defaultValue:"0",ref:n}),f.jsx(H,{component:"p2",className:zc.duration,children:N_(r)})]})}const Rq="_MusicPlayer_gyg3u_46",Aq="_show_gyg3u_65",WS={MusicPlayer:Rq,show:Aq};function Pq(){const{audioTracksList:t,lastOpenedTrack:e,currentTrack:n,isPlaying:r,currentTrackIndex:i,currentTrackTimeProgress:s}=ct(y=>y.musicPlayerReducer),o=un(),{actions:a}=qa,[l,u]=I.useState(e===n?s:0);I.useEffect(()=>{r||o(a.setCurrentTrackTimeProgress(l))},[r]);const c=I.useRef(null),d=I.useRef(null);I.useEffect(()=>{if(o(a.setCurrentTrack(t[i])),c.current&&l>0){const y=c.current;y.currentTime=l}},[]);const{transitionClass:h,handleOnTransitionEnd:p,runEndTransition:_}=xR({startTransitionClass:WS.show,onTransitionEndAction:()=>{o(a.hidePlayer()),o(a.setIsPlaying(!1)),o(a.setCurrentTrackTimeProgress(l))}});return I.useEffect(()=>{if(t.length>0&&n){const y=t.indexOf(n);o(a.setCurrentTrackIndex(y)),o(a.setCurrentTrack(t[y])),o(a.setIsPlaying(!0))}n||o(a.setIsPlaying(!1))},[a,t,n,o]),f.jsxs(ie,{className:Tt(WS.MusicPlayer,h),onTransitionEnd:p,children:[f.jsx(Cq,{timeProgress:l,audioRef:c,progressBarRef:d,onClose:_}),f.jsx(bq,{timeProgress:l,audioRef:c,progressBarRef:d}),f.jsx(wq,{timeProgress:l,setTimeProgress:u,audioRef:c,progressBarRef:d})]})}const Nq={activeTableNumber:0,namesList:[],selectedSongsId:[],tableGroupLabels:[],nameListLimitCount:10,isLoading:!1,error:"",songsList:[],listTitles:[],lastFetchingDate:"",pageMode:"list"},xa=Oa({name:"songsList",initialState:Nq,reducers:{setActiveTable(t,e){t.activeTableNumber=e.payload},resetTableGroupLabels(t){t.tableGroupLabels=[]},resetNamesList(t){t.namesList=[]},toggleSetToSelectedSongsId(t,e){let n=[...t.selectedSongsId];const r=t.selectedSongsId.indexOf(e.payload);r>=0?n.splice(r,1):n=[...t.selectedSongsId,e.payload],t.selectedSongsId=n},removeFromSelectedSongsId(t,e){const n=[...t.selectedSongsId],r=t.selectedSongsId.indexOf(e.payload);r>=0&&n.splice(r,1),t.selectedSongsId=n},resetSelectedSongsId(t){t.selectedSongsId=[]},toggleSetToNamesList(t,e){const n=e.payload,{namesList:r}=t;let i=[...r];r.length===0&&(i=[n]),r.length>0&&r.length<t.nameListLimitCount&&(i=[...r,n]);const s=r.indexOf(n);s>=0&&(i=[...r],i.splice(s,1)),t.namesList=i},setLastFetchingDate(t,e){t.lastFetchingDate=e.payload},setPageMode(t,e){t.pageMode=e.payload}},extraReducers:t=>{t.addCase(Wl.pending,e=>{e.isLoading=!0,e.error=""}).addCase(Wl.fulfilled,(e,n)=>{e.songsList=n.payload.songsList,e.error="",e.isLoading=!1,e.listTitles=n.payload.listTitles,e.tableGroupLabels=n.payload.songsList.map(r=>r[1].map(i=>i[0]))}).addCase(Wl.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1})}});function Oq(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}const AR=I.forwardRef(({register:t,errors:e,onApply:n,placeholder:r,onChangeValue:i,autoClear:s=!1,onKeyDown:o,children:a,...l},u)=>{var v;const[c,d]=I.useState(""),h=m=>{i&&i(m.target.value),d(m.target.value)},p=()=>{n&&n(c),s&&d("")},_=()=>{i&&i(""),d("")},y=m=>{o&&o(m),m.key==="Enter"&&(n&&n(c),s&&d(""))},w=e?(v=e[t==null?void 0:t.name])==null?void 0:v.message:"";return f.jsxs("div",{className:Ve.container,children:[f.jsx(H,{component:"h5",children:a}),f.jsxs("div",{className:Ve.inputBlockContainer,children:[f.jsxs("label",{className:js.inputContainer,children:[f.jsx("input",{type:"text",className:X.join(Ve.input,js.input,tn.input),placeholder:r,ref:u,onChange:h,onKeyDown:y,value:c,...t,...l}),!n&&c.length>0&&f.jsx(Vt,{size:"custom",style:{width:20,height:20},className:js.icon,onClick:_,children:f.jsx(cc,{size:"custom",style:{width:20,height:20}})}),(!n&&c.length<1||n)&&f.jsx(Vt,{size:"custom",style:{width:20,height:20},className:js.icon,onClick:p,children:f.jsx(Oq,{size:"custom",style:{width:20,height:20}})})]}),t&&f.jsx(H,{component:"p2",className:X.join(Ve.error),children:typeof w=="string"&&w})]})]})});AR.displayName="SearchInput";function Lq(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("path",{d:"M12 5V19",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M5 12H19",strokeLinecap:"round",strokeLinejoin:"round"})]})}function PR({children:t,...e}){return f.jsx(f.Fragment,{children:I.Children.map(t,n=>I.isValidElement(n)?I.cloneElement(n,{...n.props,...e}):null)})}const KS={up:"up",down:"down"};function Dq(t,e){const n=t??100,[r,i]=I.useState("start"),[s,o]=I.useState(0);return I.useEffect(()=>{let a=window.scrollY;const l=h=>Math.abs(h-a)>n,u=h=>h>a&&!(a>0&&h===0)&&!(h>0&&a===0),c=()=>{const h=window.scrollY;if(o(h),l(h)){e&&e();const p=u(h)?KS.down:KS.up;i(p),a=h>0?h:0}},d=()=>window.requestAnimationFrame(c);return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]),{scrollDirection:r,scrollPosition:s}}function jq(){const[t,e]=I.useState({windowWidth:0,windowHeight:0});return I.useLayoutEffect(()=>{function n(){e({windowWidth:window.innerWidth,windowHeight:window.innerHeight})}return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),t}const Mq="_StickyButton_bwa52_18",$q="_show_bwa52_63",Uq="_slideIn_bwa52_63",Fq="_popup_bwa52_66",Vq="_hide_bwa52_69",zq="_moveOffset_bwa52_108",Sr={StickyButton:Mq,show:$q,slideIn:Uq,"slide-in-show-animation":"_slide-in-show-animation_bwa52_1",popup:Fq,"popup-show-animation":"_popup-show-animation_bwa52_1",hide:Vq,"slide-in-hide-animation":"_slide-in-hide-animation_bwa52_1","popup-hide-animation":"_popup-hide-animation_bwa52_1",moveOffset:zq,"move-offset-animation":"_move-offset-animation_bwa52_1"},NR=I.forwardRef(({animation:t,inverseDirection:e,hideOnScreensCount:n,offset:r,children:i,className:s,...o},a)=>{const[l,u]=I.useState(Sr.hide),{windowHeight:c}=jq(),{scrollDirection:d,scrollPosition:h}=Dq(200);I.useEffect(()=>{const v=h>c*(n||1);u(v&&e&&d==="up"?Sr.show:v&&e&&d==="down"||v&&d==="up"?Sr.hide:v&&d==="down"?Sr.show:Sr.hide)},[n,e,d,h,c]);const p=[t&&l,t==="slide-in"&&Sr.slideIn,t==="popup"&&Sr.popup],[_,y]=I.useState(!1),w=_&&Sr.moveOffset;return I.useEffect(()=>{y(!!r)},[r]),f.jsx(dp,{children:f.jsx("div",{className:X.join(Sr.StickyButton,s,p,w),ref:a,style:{"--sticky-button-offset":r?`calc(${r}px * -1)`:"var(--sticky-button-offset-init)","--sticky-button-offset-prev:":"var(--sticky-button-offset)"},...o,children:i})})});NR.displayName="StickyButton";const Bq="_open_x4t2u_18",Hq="_menuItem_x4t2u_18",qq="_menu_x4t2u_18",Wq="_disabled_x4t2u_91",Kq="_menuDivider_x4t2u_96",Gq="_menuTitle_x4t2u_102",Qq="_iconBlock_x4t2u_120",Yq="_mainIcon_x4t2u_127",Xq="_plusIcon_x4t2u_131",Hr={open:Bq,menuItem:Hq,menu:qq,disabled:Wq,menuDivider:Kq,menuTitle:Gq,iconBlock:Qq,mainIcon:Yq,plusIcon:Xq},OR=I.forwardRef(({animation:t,inverseDirection:e,hideOnScreensCount:n,offset:r,menuItems:i,className:s,onClick:o,children:a,...l},u)=>{const[c,d]=I.useState(!1),h=()=>{d(y=>!y)},p=[c&&Hr.open],_=y=>{y(),d(!1)};return f.jsxs(NR,{className:X.join(Hr.StickyMenu,s,p),animation:t,inverseDirection:e,hideOnScreensCount:n,offset:r,onClick:o,ref:u,children:[f.jsx(st,{onClick:h,children:f.jsxs(ie,{className:Hr.iconBlock,children:[a?f.jsx(PR,{className:Hr.mainIcon,children:a}):f.jsx(uR,{className:Hr.mainIcon}),f.jsx(Lq,{className:Hr.plusIcon})]})}),f.jsx(ie,{className:Hr.menu,children:i.map((y,w)=>f.jsx(ie,{className:Hr.menuItem,style:{"--sticky-menu-offset":`calc((100% * ${i.length-(w+1)}) + (8px * ${i.length-(w+1)}))`},onClick:()=>_(y.action),children:f.jsx(H,{className:Hr.menuTitle,children:y.title})},y.title))})]})});OR.displayName="StickyMenu";function Jq(){const{isPlayerShow:t}=ct(l=>l.musicPlayerReducer),{pageMode:e}=ct(l=>l.songsListReducer),i=t&&174||e==="list"&&0||0,s=un(),{actions:o}=xa,a=()=>{s(o.setPageMode("selection"))};return f.jsx(OR,{offset:i,inverseDirection:!0,menuItems:[{title:"Вибрати",action:a}]})}const Zq="_ListNavigation_1wvg1_1",eW={ListNavigation:Zq};function tW({charsList:t}){return f.jsx(ie,{component:"nav",className:eW.ListNavigation,children:t.length>0&&t.map(e=>f.jsx(Jv,{href:`${mn.songslist}#${e}`,className:"link",children:e},e))})}function nW({ref:t,wayDirection:e="horizontal",targetDirection:n=null,swipeOffset:r=10,moveOffset:i=1}){var m;const[s]=I.useState(((m=t.current)==null?void 0:m.style.position)||"static"),[o,a]=I.useState(null),[l,u]=I.useState(null),[c,d]=I.useState(null),[h,p]=I.useState(null),[_,y]=I.useState(null),[w,v]=I.useState(null);return I.useEffect(()=>{const g=t==null?void 0:t.current;let E=null,S=null;const C=b=>{E=b.touches[0].clientX,S=b.touches[0].clientY,a({x:E,y:S})},x=b=>{const O=b.touches[0].clientX,q=b.touches[0].clientY;if(u({x:O,y:q}),E===null||S===null)return;let $=null;e==="horizontal"?($=O-E,$>i&&y("right"),$<i&&y("left")):e==="vertical"&&($=q-S,$>i&&y("down"),$<i&&y("up")),v($)},R=b=>{const O=b.changedTouches[0].clientX,q=b.changedTouches[0].clientY;if(d({x:O,y:q}),!(E===null||S===null)){if(e==="horizontal"){const $=O-E;$>r&&p("right"),$<r&&p("left")}else if(e==="vertical"){const $=q-S;$>r&&p("down"),$<r&&p("up")}a(null)}};return g&&(g.addEventListener("touchstart",C),g.addEventListener("touchmove",x),g.addEventListener("touchend",R)),()=>{g&&(g.removeEventListener("touchstart",C),g.removeEventListener("touchstart",C),g.removeEventListener("touchend",R))}},[]),I.useEffect(()=>{const g=t==null?void 0:t.current;g&&n&&(_===n?(g.style.position="relative",g.style.left=`${w}px`):g.style.position=s)},[w,_]),{startTouchPosition:o,moveTouchPosition:l,endTouchPosition:c,swipeDirection:h,moveDirection:_,difference:w}}function GS(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12 8V12",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12 16H12.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function rW(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("path",{d:"M10.29 3.86001L1.81999 18C1.64536 18.3024 1.55296 18.6453 1.55198 18.9945C1.551 19.3437 1.64148 19.6871 1.81442 19.9905C1.98735 20.2939 2.23672 20.5468 2.5377 20.7239C2.83868 20.901 3.18079 20.9962 3.52999 21H20.47C20.8192 20.9962 21.1613 20.901 21.4623 20.7239C21.7633 20.5468 22.0126 20.2939 22.1856 19.9905C22.3585 19.6871 22.449 19.3437 22.448 18.9945C22.447 18.6453 22.3546 18.3024 22.18 18L13.71 3.86001C13.5317 3.56611 13.2807 3.32313 12.9812 3.15449C12.6817 2.98585 12.3437 2.89726 12 2.89726C11.6563 2.89726 11.3183 2.98585 11.0188 3.15449C10.7193 3.32313 10.4683 3.56611 10.29 3.86001Z",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12 9V13",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12 17H12.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function iW(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("path",{d:"M22 11.08V12C21.9988 14.1564 21.3005 16.2547 20.0093 17.9818C18.7182 19.709 16.9033 20.9725 14.8354 21.5839C12.7674 22.1953 10.5573 22.1219 8.53447 21.3746C6.51168 20.6273 4.78465 19.2461 3.61096 17.4371C2.43727 15.628 1.87979 13.4881 2.02168 11.3363C2.16356 9.18457 2.99721 7.13633 4.39828 5.49707C5.79935 3.85782 7.69279 2.71538 9.79619 2.24015C11.8996 1.76491 14.1003 1.98234 16.07 2.86",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M22 4L12 14.01L9 11.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function sW(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("path",{d:"M12.7165 22.7087C18.2394 22.7087 22.7165 18.2315 22.7165 12.7087C22.7165 7.18582 18.2394 2.70866 12.7165 2.70866C7.19367 2.70866 2.71652 7.18582 2.71652 12.7087C2.71652 18.2315 7.19367 22.7087 12.7165 22.7087Z",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12.7165 16.7087V12.7087",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12.7165 8.70866H12.7265",strokeLinecap:"round",strokeLinejoin:"round"})]})}function oW(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("path",{d:"M12.237 22.8758C17.7599 22.8758 22.237 18.3987 22.237 12.8758C22.237 7.35296 17.7599 2.87581 12.237 2.87581C6.71418 2.87581 2.23703 7.35296 2.23703 12.8758C2.23703 18.3987 6.71418 22.8758 12.237 22.8758Z",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M15.237 9.87581L9.23703 15.8758",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M9.23703 9.87581L15.237 15.8758",strokeLinecap:"round",strokeLinejoin:"round"})]})}const aW="_LoaderBars_qlkif_1",lW="_loader_qlkif_1",uW={LoaderBars:aW,loader:lW},cW=I.forwardRef(({className:t,...e},n)=>f.jsxs("div",{className:X.join(uW.LoaderBars,t),ref:n,...e,children:[f.jsx("div",{}),f.jsx("div",{}),f.jsx("div",{})]}));cW.displayName="LoaderBars";const dW="_LoaderCounter_1kaup_1",fW="_counter_1kaup_9",hW="_background_1kaup_14",pW="_animation_1kaup_22",Io={LoaderCounter:dW,counter:fW,background:hW,animation:pW,"loader-animation":"_loader-animation_1kaup_1"},LR=I.forwardRef(({timer:t,isInversion:e,className:n,...r},i)=>{const[s,o]=I.useState(t/1e3);I.useEffect(()=>{X.setIntervalCounts({callback:()=>o(u=>u-1),delay:1e3,counts:t/1e3})},[]);const a=I.useRef(null);I.useLayoutEffect(()=>{var u;(u=a.current)==null||u.style.setProperty("--loader-counter--animation-duration",`${t}ms`)},[t]);const l=[e?Io.inversion:Io.normal];return f.jsxs("div",{className:X.join(Io.LoaderCounter,n,l),ref:i,...r,children:[f.jsx("div",{className:Io.background}),f.jsx("div",{className:Io.animation,ref:a}),f.jsx(H,{component:"p2",className:Io.counter,children:s})]})});LR.displayName="LoaderCounter";const mW="_Toast_1acxc_18",gW="_success_1acxc_22",yW="_info_1acxc_27",vW="_error_1acxc_32",wW="_warn_1acxc_37",_W="_oneLine_1acxc_83",EW="_medium_1acxc_86",SW="_large_1acxc_94",CW="_content_1acxc_97",TW="_textContent_1acxc_106",IW="_title_1acxc_116",xW="_message_1acxc_120",kW="_topLeft_1acxc_124",bW="_topCenter_1acxc_128",RW="_topRight_1acxc_132",AW="_bottomLeft_1acxc_146",PW="_bottomCenter_1acxc_150",NW="_bottomRight_1acxc_154",OW="_hideToastAnimation_1acxc_168",ar={Toast:mW,success:gW,info:yW,error:vW,warn:wW,oneLine:_W,medium:EW,large:SW,content:CW,textContent:TW,title:IW,message:xW,topLeft:kW,"top-animation-show":"_top-animation-show_1acxc_1",topCenter:bW,topRight:RW,bottomLeft:AW,"bottom-animation-show":"_bottom-animation-show_1acxc_1",bottomCenter:PW,bottomRight:NW,hideToastAnimation:OW,"animation-hide":"_animation-hide_1acxc_1"};function LW(t){return t==="alert"?f.jsx(GS,{}):t==="info"?f.jsx(sW,{}):t==="success"?f.jsx(iW,{}):t==="error"?f.jsx(oW,{}):t==="warn"?f.jsx(rW,{}):f.jsx(GS,{})}const DR=I.forwardRef(({id:t,message:e,title:n="",type:r,size:i="flex",position:s="topRight",oneLine:o,onCloseButtonClick:a,duration:l=3e3,className:u,...c},d)=>{const h=I.useRef(null),{remove:p}=MR(),_=[i&&ar[i],r&&ar[r],s&&ar[s]],y=o&&ar.oneLine,w=n||r==="alert"&&"Повідомлення!"||r==="info"&&"Інформація!"||r==="success"&&"Успіх!"||r==="error"&&"Помилка!"||r==="warn"&&"Попередження!",v=()=>{var S,C;(S=h.current)==null||S.classList.add(ar.hideToastAnimation),(C=h.current)==null||C.addEventListener("animationend",x=>{x.target===h.current&&(x.stopPropagation(),p(t))})},m=I.useRef();I.useEffect(()=>(l>0&&(m.current=setTimeout(()=>{v()},l)),()=>{clearTimeout(m.current)}),[]);const{swipeDirection:g}=nW({ref:h,targetDirection:"right"});I.useEffect(()=>{g==="right"&&v()},[g]);const E=S=>{a&&a(S),v()};return f.jsxs("div",{className:X.join(ar.Toast,u,_),ref:ER([d,h]),...c,children:[f.jsxs("div",{className:ar.content,children:[f.jsx(Vt,{children:LW(r)}),f.jsxs("div",{className:X.join(ar.textContent,y),children:[f.jsx(H,{component:"h6",className:ar.title,children:w}),typeof e=="string"?f.jsx(H,{component:"p1",className:ar.message,children:e}):e.map(S=>f.jsx(H,{component:"p1",className:ar.message,children:S},S))]}),l>0&&f.jsx(LR,{timer:l})]}),f.jsx(Vt,{size:"small",onClick:E,children:f.jsx(cc,{size:"small"})})]})});DR.displayName="Toast";const DW="_ToastsContainer_1yqsk_46",QS={ToastsContainer:DW,"left-top":"_left-top_1yqsk_61","center-top":"_center-top_1yqsk_64","left-bottom":"_left-bottom_1yqsk_67","center-bottom":"_center-bottom_1yqsk_71","right-bottom":"_right-bottom_1yqsk_75"};function jW({toasts:t,position:e={horizontal:"right",vertical:"top"}}){const n=QS[`${e.horizontal}-${e.vertical}`];return!t||t.length<=0?null:f.jsx(dp,{children:f.jsx(ie,{className:X.join(QS.ToastsContainer,n),children:f.jsx(f.Fragment,{children:t.map(r=>f.jsx(DR,{id:r.id,message:r.message,title:r.title,type:r.type,size:r.size,position:r.position,oneLine:r.oneLine,onCloseButtonClick:r.onCloseButtonClick,duration:r.duration},r.id))})})})}const jR=I.createContext({}),MR=()=>I.useContext(jR);function MW({maxToast:t=1,children:e}){const[n,r]=I.useState([]),[i,s]=I.useState("top-right"),o=u=>{u.position&&u.position!==i&&s(u.position),r(c=>{const d=c.length<t?c:c.slice(1),h={...u,id:X.getRandomNumber(1e8,999999999).toString()};return[...d,h]})},a=u=>{r(c=>c.filter(d=>d.id!==u))},l=I.useMemo(()=>({add:o,remove:a,position:i}),[]);return f.jsxs(jR.Provider,{value:l,children:[e,f.jsx(jW,{toasts:n})]})}const $W="_SelectionBar_d5a6w_46",UW="_extended_d5a6w_59",FW="_button_d5a6w_63",VW="_show_d5a6w_75",pl={SelectionBar:$W,extended:UW,button:FW,show:VW};function zW(){const{namesList:t}=ct(c=>c.songsListReducer),{isPlayerShow:e}=ct(c=>c.musicPlayerReducer),n=e&&pl.extended,r=un(),{actions:i}=xa,{add:s}=MR(),{transitionClass:o,handleOnTransitionEnd:a,runEndTransition:l}=xR({startTransitionClass:pl.show,onTransitionEndAction:()=>{r(i.resetNamesList()),r(i.resetSelectedSongsId()),r(i.setPageMode("list"))}}),u=async()=>{const c=t.map((h,p)=>`${p+1}. ${h}`),d=c.join(`
`);try{await Jj(d)&&s({title:"Скопійовано:",message:c,duration:5e3})}catch{s({type:"error",message:"Не вдалося скопіювати. Напишіть мені в Телеграм!",duration:5e3})}r(i.resetNamesList()),r(i.resetSelectedSongsId())};return f.jsxs(at,{className:Tt(pl.SelectionBar,n,o),onTransitionEnd:a,row:!0,children:[f.jsx(ie,{className:pl.button,children:f.jsx(st,{size:"small",type:"secondary",onClick:l,children:f.jsx(cc,{})})}),f.jsx(ie,{className:pl.button,children:f.jsx(st,{size:"small",onClick:u,disabled:t.length<=0,children:`Скопіювати ${t.length} / 10`})})]})}const BW="_List_3gzz3_1",HW="_unordered_3gzz3_6",qW="_custom_3gzz3_12",qm={List:BW,unordered:HW,custom:qW},$R=I.forwardRef(({type:t,margin:e,children:n,className:r,...i},s)=>{const o=[t==="unordered"&&qm[t],t==="custom"&&qm[t]],a={marginLeft:e&&`${e}px`};return f.jsx("ul",{className:X.join(qm.List,r,o),ref:s,style:a,...i,children:f.jsx(PR,{style:a,children:n})})});$R.displayName="List";const UR=I.forwardRef(({children:t,className:e,...n},r)=>f.jsx("li",{className:e,ref:r,...n,children:t}));UR.displayName="ListItem";function WW(t=()=>{},e=300){const[n,r]=I.useState(!1);return I.useEffect(()=>{let i=null;return n?i=setTimeout(t,e):i&&clearTimeout(i),()=>{i&&clearTimeout(i)}},[t,e,n]),{onMouseDown:()=>r(!0),onMouseUp:()=>r(!1),onMouseLeave:()=>r(!1),onTouchStart:()=>r(!0),onTouchEnd:()=>r(!1)}}function KW(t){return f.jsx(Le,{fill:"none",...t,children:f.jsx("polyline",{points:"20 6 9 17 4 12"})})}const GW="_SongListItem_155jy_46",QW="_textBlock_155jy_55",YW="_selection_155jy_61",XW="_songName_155jy_67",JW="_checkIcon_155jy_74",ZW="_active_155jy_78",eK="_playIcon_155jy_84",tK="_playing_155jy_89",bi={SongListItem:GW,textBlock:QW,selection:YW,songName:XW,checkIcon:JW,"check-icon-show-animation":"_check-icon-show-animation_155jy_1",active:ZW,"check-icon-checked-animation":"_check-icon-checked-animation_155jy_1",playIcon:eK,playing:tK,"play-animation":"_play-animation_155jy_1","text-move-right-animation":"_text-move-right-animation_155jy_1"};function nK({song:t}){const e=un(),{audioTracksList:n,currentTrack:r,isPlaying:i}=ct(S=>S.musicPlayerReducer),{actions:s}=qa,o=()=>{e(s.showPlayer()),e(s.toggleIsPlaying()),r&&r.includes(t.value)||e(s.setCurrentTrack(t.value))},a=i&&r===t.value?"secondary":"text",l=i&&r===t.value&&bi.playing,{namesList:u,nameListLimitCount:c,selectedSongsId:d,pageMode:h}=ct(S=>S.songsListReducer),{actions:p}=xa,y=d.includes(t.position)&&bi.active,w=[h==="selection"&&bi.selection],v=()=>{h==="selection"&&(u.length<c?e(p.toggleSetToSelectedSongsId(t.position)):e(p.removeFromSelectedSongsId(t.position)),e(p.toggleSetToNamesList(t.value)))},{actions:m}=xa,E=WW(()=>{e(m.setPageMode("selection"))});return f.jsxs(UR,{className:Tt(bi.SongListItem,y),...E,children:[f.jsxs(ie,{className:Tt(bi.textBlock,w),onClick:v,children:[h==="selection"&&f.jsx(Vt,{className:Tt(bi.checkIcon,y),children:f.jsx(KW,{size:"small"})}),f.jsx(H,{component:"p1",id:`song_${t.position}`,className:bi.songName,children:t.value})]}),n.includes(t.value)&&f.jsx(st,{type:a,size:"small",onClick:o,className:Tt(l),disabled:!n.includes(t.value),children:n.includes(t.value)&&(i&&r===t.value?f.jsx(kR,{size:"small"}):f.jsx(bR,{size:"small",className:bi.playIcon}))})]},t.position)}const rK="_SongsList_50aix_46",iK="_songsGroup_50aix_52",sK="_songsGroupSymbol_50aix_56",oK="_songsNames_50aix_65",Bc={SongsList:rK,songsGroup:iK,songsGroupSymbol:sK,songsNames:oK};function aK({songsTable:t}){return f.jsx(ie,{className:Bc.SongsList,children:t.map(e=>e[1].length>0&&f.jsxs(ie,{className:Bc.songsGroup,children:[f.jsx(H,{component:"h3",className:Bc.songsGroupSymbol,id:e[0],children:e[0]}),f.jsx($R,{className:Bc.songsNames,children:e[1].map(n=>f.jsx(nK,{song:n},n.position))})]},e[0]))})}const lK="_SongsListPage_10yxc_46",uK="_container_10yxc_50",cK="_tools_10yxc_60",Wm={SongsListPage:lK,container:uK,tools:cK};function dK(){const[t,e]=I.useState(0),[n,r]=I.useState(),{error:i,isLoading:s,songsList:o,tableGroupLabels:a,lastFetchingDate:l,listTitles:u,selectedSongsId:c,pageMode:d}=ct(g=>g.songsListReducer),{isPlayerShow:h}=ct(g=>g.musicPlayerReducer),p=un(),{actions:_}=xa;I.useEffect(()=>{const g=Hj();(mr(o)||l!==g)&&(p(Wl()),p(_.setLastFetchingDate(g)))},[]);const[y,w]=I.useState("");I.useEffect(()=>{if(o.length>0){const g=o[t][1];r(y?g.map(E=>[E[0],E[1].filter(S=>S.value.toLowerCase().includes(y.toLowerCase()))]):g)}},[t,o,y]);const v=g=>{const E=u.indexOf(g);e(E)};if(i)throw Error(i);const m=g=>{w(g)};return f.jsxs(ie,{component:"main",className:Wm.SongsListPage,children:[f.jsxs(at,{component:"section",container:!0,className:Wm.container,children:[f.jsxs(ie,{className:Wm.tools,children:[s&&f.jsx(Ha,{}),f.jsx(CR,{selected:u[t],onDropdownChange:v,options:u}),f.jsx(AR,{placeholder:"Пошук...",onChangeValue:m}),a&&a.length>0&&f.jsx(tW,{charsList:a[t]})]}),n&&f.jsx(aK,{songsTable:n})]}),d!=="selection"&&f.jsx(Jq,{}),n&&h&&f.jsx(Pq,{}),d==="selection"&&f.jsx(zW,{})]})}const _d={male:"Хлопчик",female:"Дівчинка"},fK={user:"Користувач",admin:"Адміністратор",owner:"Кодувальник"},Km=Fr("user/getUserInfo",async({uid:t},e)=>{try{const n=await Ae.google.firebase.database.users.getUserById({userId:t});return{uid:t||"",displayName:n.user.displayName,photoURL:n.user.photoURL,email:n.user.email,userType:n.user.userType,sex:n.user.sex,role:n.user.role,lastActiveChatId:n.user.lastActiveChatId,lastVisitDate:n.user.lastVisitDate,registrationDate:n.user.registrationDate,isOnline:n.user.isOnline,visitsCount:n.user.visitsCount}}catch(n){return e.rejectWithValue(le(n))}}),hK={isLoading:!1,error:"",userInfo:{},userInfoRealtime:{}},FR=Oa({name:"userInfo",initialState:hK,reducers:{removeUserInfo(t){t.userInfo={}},resetError(t){t.error=""},setUsersRealtime(t,e){t.userInfoRealtime=e.payload}},extraReducers:t=>{t.addCase(Km.pending,e=>{e.error="",e.isLoading=!0,e.userInfo={}}).addCase(Km.fulfilled,(e,n)=>{e.userInfo={...n.payload},e.error="",e.isLoading=!1}).addCase(Km.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1})}});function pK(t){return f.jsxs(Le,{fill:"none",...t,children:[f.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),f.jsx("polyline",{points:"12 19 5 12 12 5"})]})}const mK="_container_1r4tb_1",gK="_info_1r4tb_8",yK="_row_1r4tb_16",vK="_column_1r4tb_21",wK="_headingColumn_1r4tb_25",Ne={container:mK,info:gK,row:yK,column:vK,headingColumn:wK};function _K(){var o,a;const{userId:t}=DL(),e=Zn(),n=()=>{e(-1)},{userInfoRealtime:r}=ct(l=>l.userInfoReducer),i=un(),{actions:s}=FR;return I.useEffect(()=>{const l=tr(vn,"users",t||"");let u;try{u=F2(l,c=>{const d=c.data();if(d&&!mr(d))i(s.setUsersRealtime({uid:d.uid,...d.user}));else throw new Error("Can't find user!")})}catch(c){throw new Error(le(c))}return()=>u()},[]),f.jsx(ie,{component:"main",className:Ne.UserInfoPage,children:r?f.jsxs(at,{container:!0,component:"section",className:Ne.container,children:[f.jsx(Ia,{src:r.photoURL||"",alt:r.displayName||"",char:((o=r.displayName)==null?void 0:o[0])||((a=r.email)==null?void 0:a[0])||"",size:"extra"}),f.jsxs(ie,{className:Ne.info,children:[f.jsx(H,{component:"h5",className:Ne.userInfoRealtime,children:r.displayName}),f.jsxs(at,{row:!0,className:Ne.row,children:[f.jsx(ie,{grid:{xx:6},className:Tt(Ne.headingColumn,Ne.column),children:f.jsx(H,{component:"h6",children:"Роль"})}),f.jsx(ie,{grid:{xx:6},className:Tt(Ne.infoColumn,Ne.column),children:r.role&&f.jsx(H,{component:"p2",children:`[${r.role}]`})})]}),f.jsxs(at,{row:!0,className:Ne.row,children:[f.jsx(ie,{grid:{xx:6},className:Tt(Ne.headingColumn,Ne.column),children:f.jsx(H,{component:"h6",children:"Кількість відвідувань"})}),f.jsx(ie,{grid:{xx:6},className:Tt(Ne.infoColumn,Ne.column),children:f.jsx(H,{component:"p2",children:r.visitsCount})})]}),f.jsxs(at,{row:!0,className:Ne.row,children:[f.jsx(ie,{grid:{xx:6},className:Tt(Ne.headingColumn,Ne.column),children:f.jsx(H,{component:"h6",children:"Останній вхід"})}),f.jsx(ie,{grid:{xx:6},className:Tt(Ne.infoColumn,Ne.column),children:f.jsxs(H,{component:"p2",children:[Ac(String(r.lastVisitDate)).toLocaleDateString()," ",Ac(String(r.lastVisitDate)).toLocaleTimeString()]})})]}),f.jsxs(at,{row:!0,className:Ne.row,children:[f.jsx(ie,{grid:{xx:6},className:Tt(Ne.headingColumn,Ne.column),children:f.jsx(H,{component:"h6",children:"Дата реєстрації"})}),f.jsx(ie,{grid:{xx:6},className:Tt(Ne.infoColumn,Ne.column),children:f.jsxs(H,{component:"p2",children:[Ac(String(r.registrationDate)).toLocaleDateString()," ",Ac(String(r.registrationDate)).toLocaleTimeString()]})})]}),f.jsxs(at,{row:!0,className:Ne.row,children:[f.jsx(ie,{grid:{xx:6},className:Tt(Ne.headingColumn,Ne.column),children:f.jsx(H,{component:"h6",children:"Стать"})}),f.jsx(ie,{grid:{xx:6},className:Tt(Ne.infoColumn,Ne.column),children:r.sex&&f.jsx(H,{component:"p2",children:_d[r.sex]})})]}),f.jsxs(at,{row:!0,className:Ne.row,children:[f.jsx(ie,{grid:{xx:6},className:Tt(Ne.headingColumn,Ne.column),children:f.jsx(H,{component:"h6",children:"Тип"})}),f.jsx(ie,{grid:{xx:6},className:Tt(Ne.infoColumn,Ne.column),children:r.userType&&f.jsx(H,{component:"p2",children:fK[r.userType]})})]})]}),f.jsx(Vt,{onClick:n,children:f.jsx(pK,{})})]}):f.jsx(Ha,{})})}function EK({onClose:t,error:e}){return f.jsx(wo,{onClose:t,type:"error",size:"medium",title:"Невірні дані!",children:f.jsxs(f.Fragment,{children:[f.jsx(H,{component:"p1",className:"center",children:"Помилка при оновлені даних."}),f.jsx(H,{component:"p1",className:"center",children:"Спробуйте, будь ласка, пізніше!"}),f.jsx(H,{component:"caption",className:"center",children:e})]})})}function SK({onClose:t}){return f.jsx(wo,{onClose:t,type:"success",size:"medium",title:"Чудово!",children:f.jsx(H,{component:"p1",className:"center",children:"Дані успішно оновлені!"})})}const CK="_container_zun5x_1",TK="_form_zun5x_8",Gm={container:CK,form:TK};function IK(){const[t,e]=I.useState(!1),n=un(),{actions:r}=Ba,{user:i,isLoading:s,error:o}=ct(x=>x.userReducer),{uid:a,displayName:l,photoURL:u,sex:c,role:d}=i,h=c!==""?c:"male",{register:p,handleSubmit:_,watch:y,formState:{errors:w}}=M0({mode:"onSubmit",defaultValues:{userName:l,profileImage:u,role:d,sex:_d[h]}}),v=mr(w),m={userName:p("userName",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[\sа-яА-ЯёЁъЪїЇіІєЄґҐa-zA-Z_]+$/,message:"Використовуйте тільки літери, пробіл або нижнє підкреслення!"},minLength:{value:2,message:"Мінімальна довжина логіну 2 символів"},maxLength:{value:32,message:"Максимальна довжина логіну 32 символів"}}),profileImage:p("profileImage",{validate:x=>x&&(typeof x=="string"||typeof x!="string"&&!mr(x))?!0:"Будь ласка, оберіть зображення!"}),role:p("role",{required:"Поле таке пусте! Введіть більше символів!",minLength:{value:2,message:"Мінімальна довжина логіну 2 символів"},maxLength:{value:32,message:"Максимальна довжина логіну 32 символів"}}),sex:p("sex",{required:"Оберіть стать!"})},g=async({userName:x,profileImage:R,role:b,sex:O})=>{const q=O===_d.male?"male":"female";n(vd({uid:a,displayName:x!==l?x:void 0,photo:typeof R!="string"?R[0]:void 0,role:b!==d?b:void 0,sex:q!==c?q:void 0})),e(!0)},E=Zn(),S=()=>{E(Kn.users)},C=()=>{n(r.resetError())};return f.jsxs(ie,{component:"main",className:Gm.UserPage,children:[f.jsxs(at,{container:!0,component:"section",className:Gm.container,children:[f.jsx(H,{component:"h4",children:"Редагування профілю"}),f.jsxs(fp,{className:Gm.form,onSubmit:_(g),children:[f.jsx(TR,{watch:y,register:m.profileImage,errors:w,accept:".jpg, .jpeg, .png",label:"Оберіть зображення",children:"Зображення профілю:"}),f.jsx(zy,{register:m.userName,errors:w,children:"Логін*:"}),f.jsxs(zy,{register:m.role,errors:w,children:["Роль*:",f.jsx(H,{component:"caption",children:"(наприклад: Майстер мікрофону, Басист)"})]}),f.jsx(IR,{labels:Object.values(_d),register:m.sex,errors:w,children:"Стать*:"}),f.jsx(st,{submit:!0,disabled:!v,children:"Оновити дані"})]})]}),s&&f.jsx(Ha,{}),t&&!s&&f.jsx(SK,{onClose:S}),o&&!s&&f.jsx(EK,{onClose:C,error:o})]})}const Qm=Fr("user/getAllUsers",async(t,e)=>{try{const n=await Ae.google.firebase.database.users.getAllUsers();return Object.values(n.users)}catch(n){return e.rejectWithValue(le(n))}}),xK={isLoading:!1,error:"",users:[],usersRealtime:[]},VR=Oa({name:"users",initialState:xK,reducers:{removeUsers(t){t.users=[]},resetError(t){t.error=""},setUsersRealtime(t,e){t.usersRealtime=e.payload}},extraReducers:t=>{t.addCase(Qm.pending,e=>{e.error="",e.isLoading=!0}).addCase(Qm.fulfilled,(e,n)=>{e.users=n.payload,e.error="",e.isLoading=!1}).addCase(Qm.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1})}}),kK="_UsersPage_1kf4i_46",bK="_container_1kf4i_50",RK="_listContainer_1kf4i_57",AK="_userName_1kf4i_64",PK="_user_1kf4i_64",NK="_current_1kf4i_85",OK="_ellipsis_1kf4i_92",LK="_userStats_1kf4i_99",DK="_time_1kf4i_112",bn={UsersPage:kK,container:bK,listContainer:RK,userName:AK,user:PK,current:NK,ellipsis:OK,userStats:LK,time:DK};function jK(){const t=Zn(),{user:e}=ct(a=>a.userReducer),{uid:n}=e,{usersRealtime:r}=ct(a=>a.usersReducer),i=un(),{actions:s}=VR;I.useEffect(()=>{const a=np(vn,"users"),l=e7(a);let u;try{u=F2(l,c=>{const d=[];if(c.forEach(h=>{const p=h.data();d.push({uid:p.uid,...p.user})}),d.length>0)i(s.setUsersRealtime(d));else throw new Error("Can't find any users!")})}catch(c){throw new Error(le(c))}return()=>u()},[]);const o=a=>{t(`${Kn.userInfo}/${a}`)};return f.jsxs(ie,{component:"main",className:bn.UsersPage,children:[f.jsxs(at,{container:!0,component:"section",className:bn.container,children:[f.jsx(H,{component:"h4",children:"Список користувачів"}),f.jsxs(at,{className:bn.listContainer,children:[f.jsxs(at,{row:!0,className:bn.row,children:[f.jsx(ie,{grid:{xx:7,xl:9,md:9},children:f.jsx(H,{component:"h5",children:"Користувач"})}),f.jsx(ie,{grid:{xx:2,md:3},children:f.jsx(H,{component:"h5",className:bn.ellipsis,children:"Відвідувань"})})]}),r.length>0&&Yj(r,"visitsCount").reverse().map(a=>{var l,u;return f.jsxs(at,{row:!0,className:Tt(bn.row,bn.user,a.uid===n?bn.current:null),onClick:()=>o(a.uid),children:[f.jsx(ie,{grid:{xx:1,md:2},children:f.jsx(Ia,{src:a.photoURL||"",alt:a.displayName||"",char:((l=a.displayName)==null?void 0:l[0])||((u=a.email)==null?void 0:u[0])||"",size:"small"})}),f.jsxs(ie,{grid:{xx:6,xl:8,md:7},className:bn.userName,children:[f.jsx(H,{component:"p1",className:bn.ellipsis,children:a.displayName}),a.role&&f.jsx(H,{component:"caption",className:bn.ellipsis,children:`[${a.role}]`})]}),f.jsxs(ie,{grid:{xx:2,md:3},className:bn.userStats,children:[f.jsx(H,{component:"p1",children:a.visitsCount}),a.lastVisitDate&&f.jsxs(ie,{className:bn.time,children:[f.jsx(H,{component:"caption",children:ty(a.lastVisitDate).toLocaleDateString()}),f.jsx(H,{component:"caption",children:ty(a.lastVisitDate).toLocaleTimeString()})]})]})]},a.uid)})]})]}),r===null&&f.jsx(Ha,{})]})}function Ym({children:t}){const{isAuth:e}=Ur();return e?t:f.jsx(LI,{to:mn.login})}function MK({children:t}){const{isAdmin:e}=Ur();return e?t:f.jsx(LI,{to:mn.home})}const $K=eD([{path:"/",element:f.jsx(PS,{}),errorElement:f.jsx(NS,{}),children:[{element:f.jsx(NB,{}),index:!0},{element:f.jsx(dK,{}),path:`${mn.songslist}`},{element:f.jsx(Ym,{children:f.jsx(IK,{})}),path:Kn.user},{element:f.jsx(Ym,{children:f.jsx(jK,{})}),path:Kn.users},{element:f.jsx(MK,{children:f.jsx(_B,{})}),path:VI.admin}]},{path:"/",element:f.jsx(PS,{navigation:!1,userMenu:!1}),errorElement:f.jsx(NS,{}),children:[{element:f.jsx(tq,{}),path:mn.login},{element:f.jsx(uq,{}),path:mn.signup},{element:f.jsx(Ym,{children:f.jsx(_K,{})}),path:`${Kn.userInfo}/:userId`}]}]);function UK(){return f.jsx(HL,{router:$K})}var F0="persist:",V0="persist/FLUSH",hp="persist/REHYDRATE",z0="persist/PAUSE",B0="persist/PERSIST",H0="persist/PURGE",q0="persist/REGISTER",zR=-1;function Ed(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ed=function(n){return typeof n}:Ed=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ed(t)}function YS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YS(n,!0).forEach(function(r){VK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VK(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zK(t,e,n,r){r.debug;var i=FK({},n);return t&&Ed(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function BK(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:F0).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(S){return S}:typeof t.serialize=="function"?a=t.serialize:a=HK;var l=t.writeFailHandler||null,u={},c={},d=[],h=null,p=null,_=function(S){Object.keys(S).forEach(function(C){v(C)&&u[C]!==S[C]&&d.indexOf(C)===-1&&d.push(C)}),Object.keys(u).forEach(function(C){S[C]===void 0&&v(C)&&d.indexOf(C)===-1&&u[C]!==void 0&&d.push(C)}),h===null&&(h=setInterval(y,i)),u=S};function y(){if(d.length===0){h&&clearInterval(h),h=null;return}var E=d.shift(),S=r.reduce(function(C,x){return x.in(C,E,u)},u[E]);if(S!==void 0)try{c[E]=a(S)}catch(C){console.error("redux-persist/createPersistoid: error serializing state",C)}else delete c[E];d.length===0&&w()}function w(){Object.keys(c).forEach(function(E){u[E]===void 0&&delete c[E]}),p=o.setItem(s,a(c)).catch(m)}function v(E){return!(n&&n.indexOf(E)===-1&&E!=="_persist"||e&&e.indexOf(E)!==-1)}function m(E){l&&l(E)}var g=function(){for(;d.length!==0;)y();return p||Promise.resolve()};return{update:_,flush:g}}function HK(t){return JSON.stringify(t)}function qK(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:F0).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=WK,r.getItem(n).then(function(s){if(s)try{var o={},a=i(s);return Object.keys(a).forEach(function(l){o[l]=e.reduceRight(function(u,c){return c.out(u,l,a)},i(a[l]))}),o}catch(l){throw l}else return})}function WK(t){return JSON.parse(t)}function KK(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:F0).concat(t.key);return e.removeItem(n,GK)}function GK(t){}function XS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XS(n,!0).forEach(function(r){QK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QK(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YK(t,e){if(t==null)return{};var n=XK(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var JK=5e3;function ZK(t,e){var n=t.version!==void 0?t.version:zR;t.debug;var r=t.stateReconciler===void 0?zK:t.stateReconciler,i=t.getStoredState||qK,s=t.timeout!==void 0?t.timeout:JK,o=null,a=!1,l=!0,u=function(d){return d._persist.rehydrated&&o&&!l&&o.update(d),d};return function(c,d){var h=c||{},p=h._persist,_=YK(h,["_persist"]),y=_;if(d.type===B0){var w=!1,v=function(R,b){w||(d.rehydrate(t.key,R,b),w=!0)};if(s&&setTimeout(function(){!w&&v(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),l=!1,o||(o=BK(t)),p)return qr({},e(y,d),{_persist:p});if(typeof d.rehydrate!="function"||typeof d.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(t.key),i(t).then(function(x){var R=t.migrate||function(b,O){return Promise.resolve(b)};R(x,n).then(function(b){v(b)},function(b){v(void 0,b)})},function(x){v(void 0,x)}),qr({},e(y,d),{_persist:{version:n,rehydrated:!1}})}else{if(d.type===H0)return a=!0,d.result(KK(t)),qr({},e(y,d),{_persist:p});if(d.type===V0)return d.result(o&&o.flush()),qr({},e(y,d),{_persist:p});if(d.type===z0)l=!0;else if(d.type===hp){if(a)return qr({},y,{_persist:qr({},p,{rehydrated:!0})});if(d.key===t.key){var m=e(y,d),g=d.payload,E=r!==!1&&g!==void 0?r(g,c,m,t):m,S=qr({},E,{_persist:qr({},p,{rehydrated:!0})});return u(S)}}}if(!p)return e(c,d);var C=e(y,d);return C===y?c:u(qr({},C,{_persist:p}))}}function JS(t){return nG(t)||tG(t)||eG()}function eG(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function tG(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function nG(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function ZS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function By(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZS(n,!0).forEach(function(r){rG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var BR={registry:[],bootstrapped:!1},iG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:BR,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case q0:return By({},e,{registry:[].concat(JS(e.registry),[n.key])});case hp:var r=e.registry.indexOf(n.key),i=JS(e.registry);return i.splice(r,1),By({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function sG(t,e,n){var r=n||!1,i=o1(iG,BR,e&&e.enhancer?e.enhancer:void 0),s=function(u){i.dispatch({type:q0,key:u})},o=function(u,c,d){var h={type:hp,payload:c,err:d,key:u};t.dispatch(h),i.dispatch(h),r&&a.getState().bootstrapped&&(r(),r=!1)},a=By({},i,{purge:function(){var u=[];return t.dispatch({type:H0,result:function(d){u.push(d)}}),Promise.all(u)},flush:function(){var u=[];return t.dispatch({type:V0,result:function(d){u.push(d)}}),Promise.all(u)},pause:function(){t.dispatch({type:z0})},persist:function(){t.dispatch({type:B0,register:s,rehydrate:o})}});return e&&e.manualPersist||a.persist(),a}function oG(t,e){var n=e||{},r=n.debug;return function(i,s){if(!i)return Promise.resolve(void 0);var o=i._persist&&i._persist.version!==void 0?i._persist.version:zR;if(o===s||o>s)return Promise.resolve(i);var a=Object.keys(t).map(function(u){return parseInt(u)}).filter(function(u){return s>=u&&u>o}).sort(function(u,c){return u-c});try{var l=a.reduce(function(u,c){return t[c](u)},i);return Promise.resolve(l)}catch(u){return Promise.reject(u)}}}var W0={},K0={};K0.__esModule=!0;K0.default=uG;function Sd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sd=function(n){return typeof n}:Sd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Sd(t)}function Xm(){}var aG={getItem:Xm,setItem:Xm,removeItem:Xm};function lG(t){if((typeof self>"u"?"undefined":Sd(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function uG(t){var e="".concat(t,"Storage");return lG(e)?self[e]:aG}W0.__esModule=!0;W0.default=fG;var cG=dG(K0);function dG(t){return t&&t.__esModule?t:{default:t}}function fG(t){var e=(0,cG.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var HR=void 0,hG=pG(W0);function pG(t){return t&&t.__esModule?t:{default:t}}var mG=(0,hG.default)("local");HR=mG;const gG=QI({appReducer:ex.reducer,songsListReducer:xa.reducer,userReducer:Ba.reducer,usersReducer:VR.reducer,userInfoReducer:FR.reducer,musicPlayerReducer:qa.reducer}),yG={0:t=>t,1:t=>{const e={...t};return{...e,appReducer:{...e.appReducer,tea:void 0}}}},vG={key:l1.name,storage:HR,whitelist:["appReducer","songsListReducer"],version:0,migrate:oG(yG,{debug:!1})},wG=ZK(vG,gG),qR=PM({reducer:wG,middleware:t=>t({serializableCheck:{ignoredActions:[V0,hp,z0,B0,H0,q0]}})}),_G=sG(qR);function EG(){return f.jsx(xO,{store:qR,children:f.jsx(MW,{maxToast:5,children:f.jsx(_I,{loading:null,persistor:_G,children:f.jsx(UK,{})})})})}const SG=document.getElementById("root"),CG=uI(SG);CG.render(f.jsx(I.StrictMode,{children:f.jsx(EG,{})}));
